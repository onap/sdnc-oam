[
    {
        "id": "acab78dd.697a38",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 382.5,
        "y": 262.5,
        "z": "c7becd47.884",
        "wires": [
            [
                "c2dcb871.d886d8"
            ]
        ]
    },
    {
        "id": "56ba0c7c.085e74",
        "type": "method",
        "name": "method",
        "xml": "<method rpc='create-service-relationship' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 381.5,
        "y": 337.5,
        "z": "c7becd47.884",
        "wires": [
            [
                "f37956ce.4bd828"
            ]
        ]
    },
    {
        "id": "c2dcb871.d886d8",
        "type": "service-logic",
        "name": "optical-service ${project.version}",
        "module": "optical-service",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='optical-service' version='${project.version}'>",
        "outputs": 1,
        "x": 593.3333435058594,
        "y": 198.83333206176758,
        "z": "c7becd47.884",
        "wires": [
            [
                "56ba0c7c.085e74"
            ]
        ]
    },
    {
        "id": "f37956ce.4bd828",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 564.5,
        "y": 332.5,
        "z": "c7becd47.884",
        "wires": [
            [
                "c34ad1e6.1b049",
                "49230af2.d808d4",
                "30a10176.609d7e",
                "dc89cfb.651ad3"
            ]
        ]
    },
    {
        "id": "c34ad1e6.1b049",
        "type": "get-resource",
        "name": "get-resource",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\nkey='SELECT *\nfrom REQUEST_DETAILS\nWHERE request_id = $as-request-id'\npfx='access-service'>",
        "comments": "",
        "outputs": 1,
        "x": 749.1666946411133,
        "y": 316.05555152893066,
        "z": "c7becd47.884",
        "wires": [
            []
        ]
    },
    {
        "id": "49230af2.d808d4",
        "type": "execute",
        "name": "execute",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$access-service.domain-requests`'/>\n<parameter name=\"regex\" value=\",\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"domain-services\"/> ",
        "comments": "",
        "outputs": 1,
        "x": 741.5,
        "y": 361.5,
        "z": "c7becd47.884",
        "wires": [
            []
        ]
    },
    {
        "id": "30a10176.609d7e",
        "type": "for",
        "name": "for",
        "xml": "<for index='idc' start='0' end='`$domain-services_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 713.5,
        "y": 448.5,
        "z": "c7becd47.884",
        "wires": [
            [
                "c1fe8f71.3771e"
            ]
        ]
    },
    {
        "id": "c1fe8f71.3771e",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 859.5,
        "y": 441.5,
        "z": "c7becd47.884",
        "wires": [
            [
                "a9fba6b1.9ea4a8",
                "5b28c4f8.97075c"
            ]
        ]
    },
    {
        "id": "a9fba6b1.9ea4a8",
        "type": "get-resource",
        "name": "get-resource",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\nkey='SELECT *\nfrom REQUEST_DETAILS\nWHERE request_id = $domain-services[$idc]'\npfx='ds-details'>",
        "comments": "",
        "outputs": 1,
        "x": 1007.1666946411133,
        "y": 279.8333444595337,
        "z": "c7becd47.884",
        "wires": [
            []
        ]
    },
    {
        "id": "d767bb7e.ede568",
        "type": "save",
        "name": "save domain service",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='service-instance:relationship-list'  \n     key='customer.global-customer-id = $optical-service-create-input.global-customer-id AND\n     service-subscription.service-type = $optical-service-create-input.service-type AND\n     service-instance.service-instance-id = $access-service.service-instance-id' force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"service-instance\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/business/customers/customer/' + $optical-service-create-input.global-customer-id + '/service-subscriptions/service-subscription/' + $optical-service-create-input.service-type + '/service-instances/service-instance/' + $ds-details.service-instance-id`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"service-instance.service-instance-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$ds-details.service-instance-id`\" /> \n",
        "comments": "",
        "outputs": 1,
        "x": 1247.1666107177734,
        "y": 443.61108779907227,
        "z": "c7becd47.884",
        "wires": [
            []
        ]
    },
    {
        "id": "3081486c.145aa8",
        "type": "save",
        "name": "save lgical-link",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='service-instance:relationship-list'  \n     key='customer.global-customer-id = $optical-service-create-input.global-customer-id AND\n     service-subscription.service-type = $optical-service-create-input.service-type AND\n     service-instance.service-instance-id = $access-service.service-instance-id' force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"service-instance\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/logical-links/logical-link/' + $inter.logical-link[$ida].link-name`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"logical-link.link-name\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$inter.logical-link[$ida].link-name`\" /> \n",
        "comments": "",
        "outputs": 1,
        "x": 939.0277938842773,
        "y": 535.0000419616699,
        "z": "c7becd47.884",
        "wires": [
            []
        ]
    },
    {
        "id": "5b28c4f8.97075c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1047.083396911621,
        "y": 446.9444456100464,
        "z": "c7becd47.884",
        "wires": [
            [
                "d767bb7e.ede568"
            ]
        ]
    },
    {
        "id": "dc89cfb.651ad3",
        "type": "switchNode",
        "name": "switch",
        "xml": "<switch test='`$domain-services_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 637.9165725708008,
        "y": 527.499927520752,
        "z": "c7becd47.884",
        "wires": [
            [
                "4df19f89.f43cf"
            ]
        ]
    },
    {
        "id": "4df19f89.f43cf",
        "type": "outcome",
        "name": "2",
        "xml": "<outcome value='2'>\n",
        "comments": "",
        "outputs": 1,
        "x": 774.3055114746094,
        "y": 530.2776975631714,
        "z": "c7becd47.884",
        "wires": [
            [
                "3081486c.145aa8"
            ]
        ]
    }
]