[
    {
        "id": "c17df4ee.ad8458",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 112.5,
        "y": 195,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "2f8ae227.f9075e"
            ]
        ]
    },
    {
        "id": "2f8ae227.f9075e",
        "type": "service-logic",
        "name": "optical-service ${project.version}",
        "module": "optical-service",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='optical-service' version='${project.version}'>",
        "outputs": 1,
        "x": 221,
        "y": 273,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "34dadbb5.269934"
            ]
        ]
    },
    {
        "id": "34dadbb5.269934",
        "type": "method",
        "name": "method",
        "xml": "<method rpc='optical-service-delete' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 89.5,
        "y": 364,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "e6b811fb.e9938"
            ]
        ]
    },
    {
        "id": "e6b811fb.e9938",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 275.5,
        "y": 360,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "60962f66.88821",
                "616349b4.624558",
                "4ec77896.6688b8",
                "f1e1cc05.18be2",
                "e639fab2.57e918",
                "2b88b50f.6d1f2a"
            ]
        ]
    },
    {
        "id": "60962f66.88821",
        "type": "execute",
        "name": "execute",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n<parameter name='fileName' value='/opt/onap/sdnc/data/properties/optical-service-dg.properties' />\n<parameter name='contextPrefix' value='prop' />\n",
        "comments": "",
        "outputs": 1,
        "x": 545.9999771118164,
        "y": 32.61667013168335,
        "z": "fd6341d7.d80b3",
        "wires": [
            []
        ]
    },
    {
        "id": "616349b4.624558",
        "type": "get-resource",
        "name": "get resources from DB -controller_id",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\nkey='SELECT *\nfrom REQUEST_DETAILS\nWHERE request_id = $optical-service-delete-input.request-id'\npfx='detail-db'>",
        "comments": "",
        "outputs": 1,
        "x": 659.4999542236328,
        "y": 126.9999942779541,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "b9be5065.25db9"
            ]
        ]
    },
    {
        "id": "b9be5065.25db9",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 887.0000114440918,
        "y": 118.9999942779541,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "1b12f198.60face"
            ]
        ]
    },
    {
        "id": "4ec77896.6688b8",
        "type": "set",
        "name": "set domain-services",
        "xml": "<set>\n<parameter name='notification-url' value=\"http://167.254.204.152:31817/asyncNotification\" />\n<parameter name='domain-service1' value='`$param-prefix1[0]`' />\n<parameter name='domain-service2' value='`$param-prefix1[1]`' />",
        "comments": "",
        "x": 668.4999465942383,
        "y": 236.00000381469727,
        "z": "fd6341d7.d80b3",
        "wires": []
    },
    {
        "id": "f1e1cc05.18be2",
        "type": "execute",
        "name": "split domain-requests for access services",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$domain-req`'/>\n<parameter name=\"regex\" value=\",\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix1\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 704.6166534423828,
        "y": 188.61665606498718,
        "z": "fd6341d7.d80b3",
        "wires": [
            []
        ]
    },
    {
        "id": "e639fab2.57e918",
        "type": "for",
        "name": "for",
        "xml": "<for index='ppx' start='0' end='`$param-prefix1_length`' >\n    \n    \n    \n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 527.5,
        "y": 354.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "623884ec.5f3a8c"
            ]
        ]
    },
    {
        "id": "623884ec.5f3a8c",
        "type": "switchNode",
        "name": "switch",
        "xml": "<switch test='`$param-prefix1_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 681.5,
        "y": 352.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "d5d414a3.d47da8",
                "b4f97507.a007b8"
            ]
        ]
    },
    {
        "id": "d5d414a3.d47da8",
        "type": "outcome",
        "name": "1",
        "xml": "<outcome value='1'>\n",
        "comments": "",
        "outputs": 1,
        "x": 864.5,
        "y": 346.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "e287faaa.f3da48"
            ]
        ]
    },
    {
        "id": "e287faaa.f3da48",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1033.5,
        "y": 346.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "ee746443.f75118",
                "7b7f945a.86e22c",
                "97c1a1ae.42a57",
                "f357d481.8e4f58"
            ]
        ]
    },
    {
        "id": "b4f97507.a007b8",
        "type": "outcome",
        "name": "2",
        "xml": "<outcome value='2'>\n",
        "comments": "",
        "outputs": 1,
        "x": 614.5,
        "y": 783.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "f4eb142b.f563f8"
            ]
        ]
    },
    {
        "id": "7b7f945a.86e22c",
        "type": "execute",
        "name": "split node-id a-end retrieved from DB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$controller-id1`'/>\n<parameter name=\"regex\" value=\"_\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1305.5,
        "y": 351.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": [
            []
        ]
    },
    {
        "id": "ee746443.f75118",
        "type": "get-resource",
        "name": "get resources from DB -controller_id",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\nkey='SELECT controller_id\nfrom REQUEST_DETAILS\nWHERE request_id = $domain-service1'\npfx='detail-db1'>",
        "comments": "",
        "outputs": 1,
        "x": 1309.61669921875,
        "y": 311.23333740234375,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "657a4de1.7e7434"
            ]
        ]
    },
    {
        "id": "657a4de1.7e7434",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1554.61669921875,
        "y": 310.23333740234375,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "2456ff5f.8ccfc"
            ]
        ]
    },
    {
        "id": "2456ff5f.8ccfc",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='controller-id1' value='`$detail-db1.controller-id`' />\n\n\n\n\n\n\n\n\n\n\n",
        "comments": "",
        "x": 1702.61669921875,
        "y": 312.23333740234375,
        "z": "fd6341d7.d80b3",
        "wires": []
    },
    {
        "id": "97c1a1ae.42a57",
        "type": "set",
        "name": "set domain-services",
        "xml": "<set>\n<parameter name='domain-type' value='`$param-prefix[0]`' />\n<parameter name='controller-ip' value='`$param-prefix[1]`' />\n<parameter name='optical-service-delete-input.request-id' value=\"`$domain-service1`\" />\n<parameter name='optical-service-delete-input.payload.service-name' value=\"`$optical-service-delete-input.payload.param[0].value + '_MDONS-OTN_'`\"/>",
        "comments": "",
        "x": 1257.61669921875,
        "y": 423.23333740234375,
        "z": "fd6341d7.d80b3",
        "wires": []
    },
    {
        "id": "f357d481.8e4f58",
        "type": "switchNode",
        "name": "switch domain-type",
        "xml": "<switch test='`$domain-type`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1246.5,
        "y": 558.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "fccd0b30.b9cbc8",
                "bef3609.dfed5a"
            ]
        ]
    },
    {
        "id": "fccd0b30.b9cbc8",
        "type": "outcome",
        "name": "MSA",
        "xml": "<outcome value='MSA'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1449.5,
        "y": 469.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "a299e8ab.d4c218"
            ]
        ]
    },
    {
        "id": "bef3609.dfed5a",
        "type": "outcome",
        "name": "TAPI",
        "xml": "<outcome value='TAPI'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1452.5,
        "y": 649.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "6037d29.154702c"
            ]
        ]
    },
    {
        "id": "a299e8ab.d4c218",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1589.5,
        "y": 466.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "11bafb72.872785"
            ]
        ]
    },
    {
        "id": "11bafb72.872785",
        "type": "call",
        "name": "call MSA DELETE DG",
        "xml": "<call module='optical-service' rpc='service-delete-msa' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1777.5,
        "y": 467.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "67a6d9a9.a380e8",
                "b6015380.84934"
            ]
        ]
    },
    {
        "id": "67a6d9a9.a380e8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1962.5,
        "y": 423.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "bea424de.48e7e8"
            ]
        ]
    },
    {
        "id": "b6015380.84934",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1964.5,
        "y": 515.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "68e25a.54defda8"
            ]
        ]
    },
    {
        "id": "bea424de.48e7e8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2133.5,
        "y": 414.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "92667335.f399b"
            ]
        ]
    },
    {
        "id": "92667335.f399b",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='service1-status' value='`$final-response-code`' />\n",
        "comments": "",
        "x": 2276.5,
        "y": 389.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": []
    },
    {
        "id": "68e25a.54defda8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value='Failed to call MSA DG' />\n<parameter name='ack-final-indicator' value=\"Y\" />",
        "comments": "",
        "x": 2133.5,
        "y": 545.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": []
    },
    {
        "id": "6037d29.154702c",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1608.5,
        "y": 651.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "c1da415.e052fc"
            ]
        ]
    },
    {
        "id": "c1da415.e052fc",
        "type": "call",
        "name": "call TAPI DELETE DG",
        "xml": "<call module='optical-service' rpc='service-delete-tapi' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1796.5,
        "y": 652.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "c9ff3987.f9cc28",
                "32a118e.8eb39e8"
            ]
        ]
    },
    {
        "id": "c9ff3987.f9cc28",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1981.5,
        "y": 608.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "d0a6dc35.167bc"
            ]
        ]
    },
    {
        "id": "32a118e.8eb39e8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1983.5,
        "y": 700.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "f15af963.5b5418"
            ]
        ]
    },
    {
        "id": "d0a6dc35.167bc",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2152.5,
        "y": 599.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "905a5288.1d934",
                "757c5587.8c047c"
            ]
        ]
    },
    {
        "id": "905a5288.1d934",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='service1-status' value='`$final-response-code`' />\n",
        "comments": "",
        "x": 2295.5,
        "y": 574.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": []
    },
    {
        "id": "f15af963.5b5418",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value='Failed to call MSA DG' />\n<parameter name='ack-final-indicator' value=\"Y\" />",
        "comments": "",
        "x": 2152.5,
        "y": 730.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": []
    },
    {
        "id": "e770f30c.f95fb",
        "type": "call",
        "name": "call TAPI DELETE DG",
        "xml": "<call module='optical-service' rpc='service-delete-tapi' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1298.5,
        "y": 956.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "279a4131.3c50fe",
                "12daba39.e98ea6"
            ]
        ]
    },
    {
        "id": "66eb021.82f40fc",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='optical-service-delete-input.request-id' value=\"`$domain-service1`\" />\n<parameter name='optical-service-delete-input.payload.service-name' value=\"`$optical-service-delete-input.payload.param[0].value + '_MDONS-OTN_'`\"/>\n<parameter name='domain-type' value='`$domain1[0]`' />\n<parameter name='controller-ip' value='`$domain1[1]`' />\n",
        "comments": "",
        "x": 1279.61669921875,
        "y": 880.2334289550781,
        "z": "fd6341d7.d80b3",
        "wires": []
    },
    {
        "id": "f4eb142b.f563f8",
        "type": "switchNode",
        "name": "switch",
        "xml": "<switch test='`$ppx`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 754.6167602539062,
        "y": 788.2333679199219,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "e9f6b436.fcdbc8",
                "5bc45c8e.581fe4"
            ]
        ]
    },
    {
        "id": "e9f6b436.fcdbc8",
        "type": "outcome",
        "name": "0",
        "xml": "<outcome value='0'>\n",
        "comments": "",
        "outputs": 1,
        "x": 934.6167602539062,
        "y": 788.2333679199219,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "969523a9.6bb09"
            ]
        ]
    },
    {
        "id": "5bc45c8e.581fe4",
        "type": "outcome",
        "name": "1",
        "xml": "<outcome value='1'>\n",
        "comments": "",
        "outputs": 1,
        "x": 882.6167602539062,
        "y": 1162.2333679199219,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "293ec8e4.019748"
            ]
        ]
    },
    {
        "id": "8c2a8c7c.a451",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='optical-service-delete-input.request-id' value=\"`$domain-service2`\" />\n<parameter name='optical-service-delete-input.payload.service-name' value=\"`$optical-service-delete-input.payload.param[0].value + '_MDONS-OTN_'`\"/>\n<parameter name='domain-type' value='`$domain2[0]`' />\n<parameter name='controller-ip' value='`$domain2[1]`' />\n\n\n",
        "comments": "",
        "x": 1277.61669921875,
        "y": 1235.2333679199219,
        "z": "fd6341d7.d80b3",
        "wires": []
    },
    {
        "id": "ce3eac33.d1ef7",
        "type": "call",
        "name": "call TAPI DELETE DG",
        "xml": "<call module='optical-service' rpc='service-delete-tapi' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1284.61669921875,
        "y": 1308.2333679199219,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "c8833e1f.21b83",
                "d3120001.a70e1"
            ]
        ]
    },
    {
        "id": "969523a9.6bb09",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1074.61669921875,
        "y": 789.2333679199219,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "66eb021.82f40fc",
                "e770f30c.f95fb",
                "54b2f238.cd48bc",
                "71435f69.1d588"
            ]
        ]
    },
    {
        "id": "293ec8e4.019748",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1008.6167602539062,
        "y": 1171.2333679199219,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "8c2a8c7c.a451",
                "ce3eac33.d1ef7",
                "a41e1354.f17a4",
                "402c6221.29fbfc"
            ]
        ]
    },
    {
        "id": "279a4131.3c50fe",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1559.5,
        "y": 909.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "41399ce9.b1c0e4"
            ]
        ]
    },
    {
        "id": "12daba39.e98ea6",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1543.5,
        "y": 1038.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "1b2c47f4.41a498"
            ]
        ]
    },
    {
        "id": "41399ce9.b1c0e4",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1715.5,
        "y": 916.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "c73df929.f6ae38",
                "91dcae30.1f35"
            ]
        ]
    },
    {
        "id": "c73df929.f6ae38",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='service1-status' value='`$final-response-code`' />\n",
        "comments": "",
        "x": 1882.4998779296875,
        "y": 829.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": []
    },
    {
        "id": "91dcae30.1f35",
        "type": "switchNode",
        "name": "switch",
        "xml": "<switch test='`$service1-status == 200`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1871.4998779296875,
        "y": 946.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "a76b03e3.6d946",
                "35234e07.f4ce22"
            ]
        ]
    },
    {
        "id": "a76b03e3.6d946",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2013.4998779296875,
        "y": 876.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "3e585958.e262c6"
            ]
        ]
    },
    {
        "id": "35234e07.f4ce22",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2014.5,
        "y": 994.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "dcda07af.655078"
            ]
        ]
    },
    {
        "id": "3e585958.e262c6",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='service1' value='success' />\n",
        "comments": "",
        "x": 2168.5,
        "y": 882.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": []
    },
    {
        "id": "dcda07af.655078",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='service1' value='failure' />\n",
        "comments": "",
        "x": 2181.5,
        "y": 992.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": []
    },
    {
        "id": "1b2c47f4.41a498",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value='Main Delete Dg not available' />\n<parameter name='ack-final-indicator' value=\"Y\" />",
        "comments": "",
        "x": 1715.5,
        "y": 1039.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": []
    },
    {
        "id": "c8833e1f.21b83",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1526.5,
        "y": 1232.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "48e846a7.aa0238"
            ]
        ]
    },
    {
        "id": "d3120001.a70e1",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1533.5,
        "y": 1371.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "6f442ba4.a9bd94"
            ]
        ]
    },
    {
        "id": "48e846a7.aa0238",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1681.5,
        "y": 1240.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "e50cb4fe.0872a8",
                "d3d1dcfc.971ef"
            ]
        ]
    },
    {
        "id": "e50cb4fe.0872a8",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='service2-status' value='`$final-response-code`' />\n",
        "comments": "",
        "x": 1877.5,
        "y": 1155.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": []
    },
    {
        "id": "d3d1dcfc.971ef",
        "type": "switchNode",
        "name": "switch",
        "xml": "<switch test='`$service2-status == 200`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1858.5,
        "y": 1280.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "c12b59f0.2b2a08",
                "1e2be21a.84b09e"
            ]
        ]
    },
    {
        "id": "c12b59f0.2b2a08",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2020.5,
        "y": 1205.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "8a03b0aa.7cc6"
            ]
        ]
    },
    {
        "id": "1e2be21a.84b09e",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2026.5,
        "y": 1327.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "374b4547.8f703a"
            ]
        ]
    },
    {
        "id": "8a03b0aa.7cc6",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='service2' value='success' />\n",
        "comments": "",
        "x": 2175.5,
        "y": 1208.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": []
    },
    {
        "id": "374b4547.8f703a",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='service2' value='failure' />\n",
        "comments": "",
        "x": 2188.5,
        "y": 1330.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": []
    },
    {
        "id": "6f442ba4.a9bd94",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value='Main Delete Dg not available' />\n<parameter name='ack-final-indicator' value=\"Y\" />",
        "comments": "",
        "x": 1734.5,
        "y": 1371.1166687011719,
        "z": "fd6341d7.d80b3",
        "wires": []
    },
    {
        "id": "757c5587.8c047c",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/service-delete-tapi.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"`$service1-status`\"/>\n\n\n\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2290.35009765625,
        "y": 648.9666442871094,
        "z": "fd6341d7.d80b3",
        "wires": [
            []
        ]
    },
    {
        "id": "2b88b50f.6d1f2a",
        "type": "switchNode",
        "name": "switch",
        "xml": "<switch test='`$ppx`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 345.70001220703125,
        "y": 1511.7665710449219,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "67345bfe.f921b4",
                "e5284e9a.754bb"
            ]
        ]
    },
    {
        "id": "67345bfe.f921b4",
        "type": "outcome",
        "name": "0",
        "xml": "<outcome value='0'>\n",
        "comments": "",
        "outputs": 1,
        "x": 581.9000549316406,
        "y": 1414.5166320800781,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "ae809859.8b1778"
            ]
        ]
    },
    {
        "id": "e5284e9a.754bb",
        "type": "outcome",
        "name": "1",
        "xml": "<outcome value='1'>\n",
        "comments": "",
        "outputs": 1,
        "x": 572.9000549316406,
        "y": 1587.5165710449219,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "7df23ffd.b4b17"
            ]
        ]
    },
    {
        "id": "ae809859.8b1778",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 723.9000244140625,
        "y": 1418.5166320800781,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "c1901914.b04438"
            ]
        ]
    },
    {
        "id": "c1901914.b04438",
        "type": "switchNode",
        "name": "switch",
        "xml": "<switch test='`$service1-status`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 866.25,
        "y": 1423.7165832519531,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "d5045cc6.1de7a",
                "2beb7d55.e9c492"
            ]
        ]
    },
    {
        "id": "3b5e2ea9.61d282",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1201.25,
        "y": 1365.9166564941406,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "e398c832.c96cf8",
                "5465b919.f201f8"
            ]
        ]
    },
    {
        "id": "e398c832.c96cf8",
        "type": "delete",
        "name": "delete",
        "xml": "<delete plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource'\n    resource=\"SQL\"\n    key=\"DELETE FROM REQUEST_DETAILS WHERE request_id = $access-id\"> ",
        "comments": "",
        "outputs": 1,
        "x": 1365.25,
        "y": 1362.9167785644531,
        "z": "fd6341d7.d80b3",
        "wires": [
            []
        ]
    },
    {
        "id": "5465b919.f201f8",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"Service Deleted Successfully\" />\n<parameter name='ack-final-indicator' value='Y' />",
        "comments": "",
        "x": 1407.25,
        "y": 1546.9167785644531,
        "z": "fd6341d7.d80b3",
        "wires": []
    },
    {
        "id": "d5045cc6.1de7a",
        "type": "outcome",
        "name": "200",
        "xml": "<outcome value='200'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1039.699951171875,
        "y": 1373.3666076660156,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "3b5e2ea9.61d282"
            ]
        ]
    },
    {
        "id": "2beb7d55.e9c492",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1016.699951171875,
        "y": 1525.3666076660156,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "887f6ab3.6fe378"
            ]
        ]
    },
    {
        "id": "efea6422.1a8b28",
        "type": "switchNode",
        "name": "switch",
        "xml": "<switch test='`$service1-status == $service2-status == 200`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 841.25,
        "y": 1594.7165222167969,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "cad7c61d.e2a2d8",
                "4a80a00e.4cc7a"
            ]
        ]
    },
    {
        "id": "cad7c61d.e2a2d8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 999.25,
        "y": 1603.7165222167969,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "bb726b3c.e444e8"
            ]
        ]
    },
    {
        "id": "bb726b3c.e444e8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1139.25,
        "y": 1610.7165222167969,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "f739490d.428058",
                "b63b3bcb.e95608",
                "fe0c4836.3d8508",
                "58672708.482528",
                "64dca83a.79a788",
                "d26a3044.53ce7"
            ]
        ]
    },
    {
        "id": "f739490d.428058",
        "type": "delete",
        "name": "delete",
        "xml": "<delete plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource'\n    resource=\"SQL\"\n    key=\"DELETE FROM REQUEST_DETAILS WHERE request_id = $access-id\"> ",
        "comments": "",
        "outputs": 1,
        "x": 1303.25,
        "y": 1610.7165222167969,
        "z": "fd6341d7.d80b3",
        "wires": [
            []
        ]
    },
    {
        "id": "4a80a00e.4cc7a",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 949.7500152587891,
        "y": 1965.7165794372559,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "fa9da88e.4da0d8"
            ]
        ]
    },
    {
        "id": "fa9da88e.4da0d8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1098.750015258789,
        "y": 1963.7165794372559,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "a9697233.3edb9"
            ]
        ]
    },
    {
        "id": "a9697233.3edb9",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value='Access service request entry cannot be deleted' />\n<parameter name='ack-final-indicator' value=\"Y\" />",
        "comments": "",
        "x": 1276.2500228881836,
        "y": 1964.2165832519531,
        "z": "fd6341d7.d80b3",
        "wires": []
    },
    {
        "id": "b63b3bcb.e95608",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"Service Deleted Successfully\" />\n<parameter name='ack-final-indicator' value='Y' />",
        "comments": "",
        "x": 1271.2500228881836,
        "y": 1889.2165803909302,
        "z": "fd6341d7.d80b3",
        "wires": []
    },
    {
        "id": "35501454.cf543c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value='Access service request entry cannot be deleted' />\n<parameter name='ack-final-indicator' value=\"Y\" />",
        "comments": "",
        "x": 1195,
        "y": 1537.5165100097656,
        "z": "fd6341d7.d80b3",
        "wires": []
    },
    {
        "id": "7df23ffd.b4b17",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 719.9000244140625,
        "y": 1588.5165710449219,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "efea6422.1a8b28"
            ]
        ]
    },
    {
        "id": "54b2f238.cd48bc",
        "type": "get-resource",
        "name": "get resources from DB -controller_id",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\nkey='SELECT controller_id\nfrom REQUEST_DETAILS\nWHERE request_id = $domain-service1'\npfx='detail-db11'>",
        "comments": "",
        "outputs": 1,
        "x": 1361.1666259765625,
        "y": 745.7832946777344,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "ba13f726.ec48a8"
            ]
        ]
    },
    {
        "id": "ba13f726.ec48a8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1607.1666259765625,
        "y": 749.7832946777344,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "7f178723.eed2f8"
            ]
        ]
    },
    {
        "id": "7f178723.eed2f8",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='controller-id11' value='`$detail-db11.controller-id`' />\n\n\n\n\n\n\n\n\n\n\n",
        "comments": "",
        "x": 1775.1666259765625,
        "y": 751.7832946777344,
        "z": "fd6341d7.d80b3",
        "wires": []
    },
    {
        "id": "71435f69.1d588",
        "type": "execute",
        "name": "split node-id a-end retrieved from DB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$controller-id11`'/>\n<parameter name=\"regex\" value=\"_\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"domain1\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1382.1666259765625,
        "y": 821.7832946777344,
        "z": "fd6341d7.d80b3",
        "wires": [
            []
        ]
    },
    {
        "id": "a41e1354.f17a4",
        "type": "get-resource",
        "name": "get resources from DB -controller_id",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\nkey='SELECT controller_id\nfrom REQUEST_DETAILS\nWHERE request_id = $domain-service2'\npfx='detail-db22'>",
        "comments": "",
        "outputs": 1,
        "x": 1308.1666259765625,
        "y": 1121.7834167480469,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "20c8cbec.0b11d4"
            ]
        ]
    },
    {
        "id": "20c8cbec.0b11d4",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1553.1666259765625,
        "y": 1125.7834167480469,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "70d195e8.9d4ccc"
            ]
        ]
    },
    {
        "id": "70d195e8.9d4ccc",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='controller-id22' value='`$detail-db22.controller-id`' />\n\n\n\n\n\n\n\n\n\n\n",
        "comments": "",
        "x": 1702.1666259765625,
        "y": 1129.7834167480469,
        "z": "fd6341d7.d80b3",
        "wires": []
    },
    {
        "id": "402c6221.29fbfc",
        "type": "execute",
        "name": "split node-id a-end retrieved from DB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$controller-id22`'/>\n<parameter name=\"regex\" value=\"_\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"domain2\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1311.1666259765625,
        "y": 1183.7834167480469,
        "z": "fd6341d7.d80b3",
        "wires": [
            []
        ]
    },
    {
        "id": "912f5144.144e7",
        "type": "update",
        "name": "update",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' \nforce='true'\nresource='logical-link'\nkey = 'pnf.pnf-name = $a-end-pnf-name\n      AND p-interface.interface-name = $optical-service-create-input.payload.service-aend.port-id'\n      local-only='false'>\n<parameter name='available-capacity' value='`$available-bandwidth-aend`' />\n\n\n\n<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='logical-link'\nkey='logical-link.link-name = $tmp.link-id' >\n    <parameter name='link-name' value='`$tmp.link-id`' />\n    <parameter name='link-type' value='`$link.link-type`' />\n    <parameter name='in-maint' value='true' />\n    <parameter name='speed-value' value='100' />\n    <parameter name='speed-units' value='Gbps' />\n    <parameter name='operational-status' value='`$link.administrative-state`' />\n    <parameter name='available-capacity' value='100' />\n\n\n\n\n\n\n\n\n\n\n\n    \n    \n    \n    \n    \n    \n    \n    \n   \n    \n    \n    \n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1402.1666717529297,
        "y": 1450.7833404541016,
        "z": "fd6341d7.d80b3",
        "wires": [
            []
        ]
    },
    {
        "id": "887f6ab3.6fe378",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1113.8333740234375,
        "y": 1478.4498596191406,
        "z": "fd6341d7.d80b3",
        "wires": [
            [
                "35501454.cf543c"
            ]
        ]
    },
    {
        "id": "fe0c4836.3d8508",
        "type": "get-resource",
        "name": "Get service from AAI",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\nresource=\"service-instance\"\n key='customer.global-customer-id = $output.global-customer-id AND\n     service-subscription.service-type = $output.service-type AND\n     service-instance.service-instance-id = $delete-acc-svc-id' \npfx='acc-serv-dl'      local-only='false'>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1350.0000190734863,
        "y": 1747.5000267028809,
        "z": "fd6341d7.d80b3",
        "wires": [
            []
        ]
    },
    {
        "id": "b127a64f.fc83e8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1074.9999999999995,
        "y": 1872.4999999999993,
        "z": "fd6341d7.d80b3",
        "wires": [
            []
        ]
    },
    {
        "id": "d26a3044.53ce7",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='link-name' value='`$acc-serv-dl.relationship-list.relationship[0].relationship-data[0].relationship-value`' />\n",
        "comments": "",
        "x": 1297.5000190734863,
        "y": 1805.0000267028809,
        "z": "fd6341d7.d80b3",
        "wires": []
    },
    {
        "id": "58672708.482528",
        "type": "update",
        "name": "update logical-link-status AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' \nforce='true'\nresource='logical-link'\n     key='logical-link.link-name = $link-name '\n      local-only='false'>\n<parameter name='operational-status' value='available' />\n\n\n\n\n\n\n\n\n\n    \n    \n    \n    \n    \n    \n    \n    \n   \n    \n    \n    \n\n \n \n",
        "comments": "",
        "outputs": 1,
        "x": 1337.5,
        "y": 1852.5,
        "z": "fd6341d7.d80b3",
        "wires": [
            []
        ]
    },
    {
        "id": "1b12f198.60face",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='domain-req' value='`$detail-db.domain-requests`' />\n<parameter name='delete-acc-svc-id' value='`$detail-db.service-instance-id`' />\n\n\n\n\n\n\n\n\n\n\n\n",
        "comments": "",
        "x": 1050.000015258789,
        "y": 132.50000190734863,
        "z": "fd6341d7.d80b3",
        "wires": []
    },
    {
        "id": "64dca83a.79a788",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/optical-service-create.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"`'domain rquest_' + $domain-requests`\"/>\n<parameter name=\"field2\" value=\"`'Access rquest_' + $as-request-id`\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1525.0000228881836,
        "y": 1630.0000247955322,
        "z": "fd6341d7.d80b3",
        "wires": [
            []
        ]
    }
]