[
    {
        "id": "b65cdeae.8f7b08",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 129,
        "y": 129.88333129882812,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "644f31e7.7234b8"
            ]
        ]
    },
    {
        "id": "644f31e7.7234b8",
        "type": "service-logic",
        "name": "optical-service ${project.version}",
        "module": "optical-service",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='optical-service' version='${project.version}'>",
        "outputs": 1,
        "x": 237.5,
        "y": 207.88333129882812,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "168fe70c.0f8c41"
            ]
        ]
    },
    {
        "id": "168fe70c.0f8c41",
        "type": "method",
        "name": "method",
        "xml": "<method rpc='optical-service-delete' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 106,
        "y": 298.8833312988281,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "cfd0169c.a3cee"
            ]
        ]
    },
    {
        "id": "cfd0169c.a3cee",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 292,
        "y": 294.8833312988281,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "30cb33e3.b12a94",
                "2e82bc92.4b93a4",
                "5e98d3f6.94968c",
                "cf17dc19.012ac",
                "d4ebf687.1cccd8",
                "cbe18d30.3b4198",
                "840d7865.dda6b"
            ]
        ]
    },
    {
        "id": "30cb33e3.b12a94",
        "type": "execute",
        "name": "execute",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n<parameter name='fileName' value='/opt/onap/sdnc/data/properties/optical-service-dg.properties' />\n<parameter name='contextPrefix' value='prop' />\n",
        "comments": "",
        "outputs": 1,
        "x": 574.9999694824219,
        "y": 20,
        "z": "e2f7091c.1492b8",
        "wires": [
            []
        ]
    },
    {
        "id": "2e82bc92.4b93a4",
        "type": "get-resource",
        "name": "get resources from DB -controller_id",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\nkey='SELECT *\nfrom REQUEST_DETAILS\nWHERE request_id = $optical-service-delete-input.request-id'\npfx='detail-db'>",
        "comments": "",
        "outputs": 1,
        "x": 640.9999389648438,
        "y": 71.8833236694336,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "78b1b9eb.f0f1a8"
            ]
        ]
    },
    {
        "id": "78b1b9eb.f0f1a8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 881,
        "y": 68.8833236694336,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "b1511a3a.314df"
            ]
        ]
    },
    {
        "id": "b1511a3a.314df",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='domain-req' value='`$detail-db.domain-requests`' />\n\n\n\n\n\n\n\n\n\n\n",
        "comments": "",
        "x": 1046,
        "y": 67.8833236694336,
        "z": "e2f7091c.1492b8",
        "wires": []
    },
    {
        "id": "5e98d3f6.94968c",
        "type": "set",
        "name": "set domain-services",
        "xml": "<set>\n<parameter name='notification-url' value=\"http://167.254.204.152:31817/asyncNotification\" />\n<parameter name='domain-service1' value='`$param-prefix1[0]`' />\n<parameter name='domain-service2' value='`$param-prefix1[1]`' />",
        "comments": "",
        "x": 589.9999389648438,
        "y": 165.88333129882812,
        "z": "e2f7091c.1492b8",
        "wires": []
    },
    {
        "id": "cf17dc19.012ac",
        "type": "execute",
        "name": "split domain-requests for access services",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$domain-req`'/>\n<parameter name=\"regex\" value=\",\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix1\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 651.1166381835938,
        "y": 115.99999237060547,
        "z": "e2f7091c.1492b8",
        "wires": [
            []
        ]
    },
    {
        "id": "d4ebf687.1cccd8",
        "type": "for",
        "name": "for",
        "xml": "<for index='ppx' start='0' end='`$param-prefix1_length`' >\n    \n    \n    \n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 544,
        "y": 289,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "91896047.66eb7"
            ]
        ]
    },
    {
        "id": "91896047.66eb7",
        "type": "switchNode",
        "name": "switch",
        "xml": "<switch test='`$param-prefix1_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 698,
        "y": 287,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "2c37340b.4002cc",
                "7784419a.212fa"
            ]
        ]
    },
    {
        "id": "2c37340b.4002cc",
        "type": "outcome",
        "name": "1",
        "xml": "<outcome value='1'>\n",
        "comments": "",
        "outputs": 1,
        "x": 881,
        "y": 281,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "be5c1afb.f2037"
            ]
        ]
    },
    {
        "id": "be5c1afb.f2037",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1050,
        "y": 281,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "7f6fcc65.18cb7c",
                "3a1a70c6.408b8",
                "795303c1.2dac44",
                "3ab986c7.09e812"
            ]
        ]
    },
    {
        "id": "7784419a.212fa",
        "type": "outcome",
        "name": "2",
        "xml": "<outcome value='2'>\n",
        "comments": "",
        "outputs": 1,
        "x": 631,
        "y": 718,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "e41aac03.bbaa5"
            ]
        ]
    },
    {
        "id": "3a1a70c6.408b8",
        "type": "execute",
        "name": "split node-id a-end retrieved from DB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$controller-id1`'/>\n<parameter name=\"regex\" value=\"_\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1322,
        "y": 286,
        "z": "e2f7091c.1492b8",
        "wires": [
            []
        ]
    },
    {
        "id": "7f6fcc65.18cb7c",
        "type": "get-resource",
        "name": "get resources from DB -controller_id",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\nkey='SELECT controller_id\nfrom REQUEST_DETAILS\nWHERE request_id = $domain-service1'\npfx='detail-db1'>",
        "comments": "",
        "outputs": 1,
        "x": 1326.11669921875,
        "y": 246.11666870117188,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "e2726a7c.0cf32"
            ]
        ]
    },
    {
        "id": "e2726a7c.0cf32",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1571.11669921875,
        "y": 245.11666870117188,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "70e7b1a6.2a20f"
            ]
        ]
    },
    {
        "id": "70e7b1a6.2a20f",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='controller-id1' value='`$detail-db1.controller-id`' />\n\n\n\n\n\n\n\n\n\n\n",
        "comments": "",
        "x": 1719.11669921875,
        "y": 247.11666870117188,
        "z": "e2f7091c.1492b8",
        "wires": []
    },
    {
        "id": "795303c1.2dac44",
        "type": "set",
        "name": "set domain-services",
        "xml": "<set>\n<parameter name='domain-type' value='`$param-prefix[0]`' />\n<parameter name='controller-ip' value='`$param-prefix[1]`' />\n<parameter name='optical-service-delete-input.request-id' value=\"`$domain-service1`\" />\n<parameter name='optical-service-delete-input.payload.service-name' value=\"`$optical-service-delete-input.payload.param[0].value + '_MDONS-OTN'`\"/>",
        "comments": "",
        "x": 1274.11669921875,
        "y": 358.1166687011719,
        "z": "e2f7091c.1492b8",
        "wires": []
    },
    {
        "id": "3ab986c7.09e812",
        "type": "switchNode",
        "name": "switch domain-type",
        "xml": "<switch test='`$domain-type`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1263,
        "y": 493,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "e04cd56f.45dfc8",
                "2fc7713.599bf0e"
            ]
        ]
    },
    {
        "id": "e04cd56f.45dfc8",
        "type": "outcome",
        "name": "MSA",
        "xml": "<outcome value='MSA'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1466,
        "y": 404,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "5962de98.7a93e8"
            ]
        ]
    },
    {
        "id": "2fc7713.599bf0e",
        "type": "outcome",
        "name": "TAPI",
        "xml": "<outcome value='TAPI'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1469,
        "y": 584,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "c51e88be.9e544"
            ]
        ]
    },
    {
        "id": "5962de98.7a93e8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1606,
        "y": 401,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "314acdb7.afb7da"
            ]
        ]
    },
    {
        "id": "314acdb7.afb7da",
        "type": "call",
        "name": "call MSA DELETE DG",
        "xml": "<call module='optical-service' rpc='service-delete-msa' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1794,
        "y": 402,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "af9224a8.a9533",
                "3e7bdf94.045928"
            ]
        ]
    },
    {
        "id": "af9224a8.a9533",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1979,
        "y": 358,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "bbe67c9b.ae8e2"
            ]
        ]
    },
    {
        "id": "3e7bdf94.045928",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1981,
        "y": 450,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "449903c8.0a6724"
            ]
        ]
    },
    {
        "id": "bbe67c9b.ae8e2",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2150,
        "y": 349,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "3a0958a9.5973c8"
            ]
        ]
    },
    {
        "id": "3a0958a9.5973c8",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='service1-status' value='`$final-response-code`' />\n",
        "comments": "",
        "x": 2293,
        "y": 324,
        "z": "e2f7091c.1492b8",
        "wires": []
    },
    {
        "id": "449903c8.0a6724",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value='Failed to call MSA DG' />\n<parameter name='ack-final-indicator' value=\"Y\" />",
        "comments": "",
        "x": 2150,
        "y": 480,
        "z": "e2f7091c.1492b8",
        "wires": []
    },
    {
        "id": "c51e88be.9e544",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1625,
        "y": 586,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "a271ced2.6952d8"
            ]
        ]
    },
    {
        "id": "a271ced2.6952d8",
        "type": "call",
        "name": "call TAPI DELETE DG",
        "xml": "<call module='optical-service' rpc='service-delete-tapi' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1813,
        "y": 587,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "3ea9b0c9.5ce928",
                "3153866d.fe9922"
            ]
        ]
    },
    {
        "id": "3ea9b0c9.5ce928",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1998,
        "y": 543,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "4e515097.338e48"
            ]
        ]
    },
    {
        "id": "3153866d.fe9922",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2000,
        "y": 635,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "e7c2b606.d88798"
            ]
        ]
    },
    {
        "id": "4e515097.338e48",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2169,
        "y": 534,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "128c0365.4d99ed",
                "99a0a090.74b4e8"
            ]
        ]
    },
    {
        "id": "128c0365.4d99ed",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='service1-status' value='`$final-response-code`' />\n",
        "comments": "",
        "x": 2312,
        "y": 509,
        "z": "e2f7091c.1492b8",
        "wires": []
    },
    {
        "id": "e7c2b606.d88798",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value='Failed to call MSA DG' />\n<parameter name='ack-final-indicator' value=\"Y\" />",
        "comments": "",
        "x": 2169,
        "y": 665,
        "z": "e2f7091c.1492b8",
        "wires": []
    },
    {
        "id": "71b9114.072a4f",
        "type": "call",
        "name": "call TAPI DELETE DG",
        "xml": "<call module='optical-service' rpc='service-delete-tapi' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1315,
        "y": 891,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "1978613e.4073f7",
                "2736e495.752c04"
            ]
        ]
    },
    {
        "id": "63600e7b.0d9eb8",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='optical-service-delete-input.request-id' value=\"`$domain-service1`\" />\n<parameter name='optical-service-delete-input.payload.service-name' value=\"`$optical-service-delete-input.payload.param[0].value + '_MDONS-OTN-TAPI-1'`\"/>\n<parameter name='domain-type' value='`$domain1[0]`' />\n<parameter name='controller-ip' value='`$domain1[1]`' />\n",
        "comments": "",
        "x": 1296.11669921875,
        "y": 815.1167602539062,
        "z": "e2f7091c.1492b8",
        "wires": []
    },
    {
        "id": "e41aac03.bbaa5",
        "type": "switchNode",
        "name": "switch",
        "xml": "<switch test='`$ppx`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 771.1167602539062,
        "y": 723.11669921875,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "bc61c8e0.999178",
                "d5fffe4f.796c18"
            ]
        ]
    },
    {
        "id": "bc61c8e0.999178",
        "type": "outcome",
        "name": "0",
        "xml": "<outcome value='0'>\n",
        "comments": "",
        "outputs": 1,
        "x": 951.1167602539062,
        "y": 723.11669921875,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "b7c6609b.2477c8"
            ]
        ]
    },
    {
        "id": "d5fffe4f.796c18",
        "type": "outcome",
        "name": "1",
        "xml": "<outcome value='1'>\n",
        "comments": "",
        "outputs": 1,
        "x": 899.1167602539062,
        "y": 1097.11669921875,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "a2b3475f.c55ff"
            ]
        ]
    },
    {
        "id": "ab6f8311.54637",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='optical-service-delete-input.request-id' value=\"`$domain-service2`\" />\n<parameter name='optical-service-delete-input.payload.service-name' value=\"`$optical-service-delete-input.payload.param[0].value + '_MDONS-OTN-TAPI-2'`\"/>\n<parameter name='domain-type' value='`$domain2[0]`' />\n<parameter name='controller-ip' value='`$domain2[1]`' />\n\n\n",
        "comments": "",
        "x": 1294.11669921875,
        "y": 1170.11669921875,
        "z": "e2f7091c.1492b8",
        "wires": []
    },
    {
        "id": "fc3b2634.80fb1",
        "type": "call",
        "name": "call TAPI DELETE DG",
        "xml": "<call module='optical-service' rpc='service-delete-tapi' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1301.11669921875,
        "y": 1243.11669921875,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "d0a61851.774d7",
                "67e5500f.2b88c8"
            ]
        ]
    },
    {
        "id": "b7c6609b.2477c8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1091.11669921875,
        "y": 724.11669921875,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "63600e7b.0d9eb8",
                "71b9114.072a4f",
                "fb442d76.8c0b1",
                "e8836a64.f81ae"
            ]
        ]
    },
    {
        "id": "a2b3475f.c55ff",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1025.1167602539062,
        "y": 1106.11669921875,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "ab6f8311.54637",
                "fc3b2634.80fb1",
                "4d169812.58b88",
                "8f4e881d.558318"
            ]
        ]
    },
    {
        "id": "1978613e.4073f7",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1576,
        "y": 844,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "b4b3ae50.b80768"
            ]
        ]
    },
    {
        "id": "2736e495.752c04",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1560,
        "y": 973,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "ecbd8135.fa342"
            ]
        ]
    },
    {
        "id": "b4b3ae50.b80768",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1732,
        "y": 851,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "e387ae63.768b78",
                "6a4932f.f7508cc"
            ]
        ]
    },
    {
        "id": "e387ae63.768b78",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='service1-status' value='`$final-response-code`' />\n",
        "comments": "",
        "x": 1898.9998779296875,
        "y": 764,
        "z": "e2f7091c.1492b8",
        "wires": []
    },
    {
        "id": "6a4932f.f7508cc",
        "type": "switchNode",
        "name": "switch",
        "xml": "<switch test='`$service1-status == 200`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1887.9998779296875,
        "y": 881,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "f2ab530d.5d599",
                "7ea5454b.c5d99c"
            ]
        ]
    },
    {
        "id": "f2ab530d.5d599",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2029.9998779296875,
        "y": 811,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "896e220.db3996"
            ]
        ]
    },
    {
        "id": "7ea5454b.c5d99c",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2031,
        "y": 929,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "251983ac.1c994c"
            ]
        ]
    },
    {
        "id": "896e220.db3996",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='service1' value='success' />\n",
        "comments": "",
        "x": 2185,
        "y": 817,
        "z": "e2f7091c.1492b8",
        "wires": []
    },
    {
        "id": "251983ac.1c994c",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='service1' value='failure' />\n",
        "comments": "",
        "x": 2198,
        "y": 927,
        "z": "e2f7091c.1492b8",
        "wires": []
    },
    {
        "id": "ecbd8135.fa342",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value='Main Delete Dg not available' />\n<parameter name='ack-final-indicator' value=\"Y\" />",
        "comments": "",
        "x": 1732,
        "y": 974,
        "z": "e2f7091c.1492b8",
        "wires": []
    },
    {
        "id": "d0a61851.774d7",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1543,
        "y": 1167,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "7ee5420a.dabadc"
            ]
        ]
    },
    {
        "id": "67e5500f.2b88c8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1550,
        "y": 1306,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "dec65b83.66c9b"
            ]
        ]
    },
    {
        "id": "7ee5420a.dabadc",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1698,
        "y": 1175,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "11571d88.b80ba2",
                "8e369286.a24f1"
            ]
        ]
    },
    {
        "id": "11571d88.b80ba2",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='service2-status' value='`$final-response-code`' />\n",
        "comments": "",
        "x": 1894,
        "y": 1090,
        "z": "e2f7091c.1492b8",
        "wires": []
    },
    {
        "id": "8e369286.a24f1",
        "type": "switchNode",
        "name": "switch",
        "xml": "<switch test='`$service2-status == 200`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1875,
        "y": 1215,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "bc9b1c9e.2d7528",
                "6e8a106a.b8a098"
            ]
        ]
    },
    {
        "id": "bc9b1c9e.2d7528",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2037,
        "y": 1140,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "88261b09.8da33"
            ]
        ]
    },
    {
        "id": "6e8a106a.b8a098",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2043,
        "y": 1262,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "e617e321.5b485"
            ]
        ]
    },
    {
        "id": "88261b09.8da33",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='service2' value='success' />\n",
        "comments": "",
        "x": 2192,
        "y": 1143,
        "z": "e2f7091c.1492b8",
        "wires": []
    },
    {
        "id": "e617e321.5b485",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='service2' value='failure' />\n",
        "comments": "",
        "x": 2205,
        "y": 1265,
        "z": "e2f7091c.1492b8",
        "wires": []
    },
    {
        "id": "dec65b83.66c9b",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value='Main Delete Dg not available' />\n<parameter name='ack-final-indicator' value=\"Y\" />",
        "comments": "",
        "x": 1751,
        "y": 1306,
        "z": "e2f7091c.1492b8",
        "wires": []
    },
    {
        "id": "cbe18d30.3b4198",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='access-id' value=\"`$optical-service-delete-input.request-id`\" />\n\n",
        "comments": "",
        "x": 548.8999938964844,
        "y": 211.85000610351562,
        "z": "e2f7091c.1492b8",
        "wires": []
    },
    {
        "id": "99a0a090.74b4e8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/service-delete-tapi.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"`$service1-status`\"/>\n\n\n\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2306.85009765625,
        "y": 583.8499755859375,
        "z": "e2f7091c.1492b8",
        "wires": [
            []
        ]
    },
    {
        "id": "840d7865.dda6b",
        "type": "switchNode",
        "name": "switch",
        "xml": "<switch test='`$ppx`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 362.20001220703125,
        "y": 1446.64990234375,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "35bc7c0e.531f0c",
                "647592de.7dc3ec"
            ]
        ]
    },
    {
        "id": "35bc7c0e.531f0c",
        "type": "outcome",
        "name": "0",
        "xml": "<outcome value='0'>\n",
        "comments": "",
        "outputs": 1,
        "x": 598.4000549316406,
        "y": 1349.3999633789062,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "362cac69.39ad1c"
            ]
        ]
    },
    {
        "id": "647592de.7dc3ec",
        "type": "outcome",
        "name": "1",
        "xml": "<outcome value='1'>\n",
        "comments": "",
        "outputs": 1,
        "x": 589.4000549316406,
        "y": 1522.39990234375,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "96d3d87a.161f98"
            ]
        ]
    },
    {
        "id": "362cac69.39ad1c",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 740.4000244140625,
        "y": 1353.3999633789062,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "827658b9.c24fd"
            ]
        ]
    },
    {
        "id": "827658b9.c24fd",
        "type": "switchNode",
        "name": "switch",
        "xml": "<switch test='`$service1-status`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 882.75,
        "y": 1358.5999145507812,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "30018cf9.344a24",
                "7de52130.2c5fc"
            ]
        ]
    },
    {
        "id": "f7b9ef6.7932f9",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1217.75,
        "y": 1300.7999877929688,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "2fd5efbb.db2cd8",
                "a5309500.d76bc"
            ]
        ]
    },
    {
        "id": "2fd5efbb.db2cd8",
        "type": "delete",
        "name": "delete",
        "xml": "<delete plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource'\n    resource=\"SQL\"\n    key=\"DELETE FROM REQUEST_DETAILS WHERE request_id = $access-id\"> ",
        "comments": "",
        "outputs": 1,
        "x": 1381.75,
        "y": 1297.8001098632812,
        "z": "e2f7091c.1492b8",
        "wires": [
            []
        ]
    },
    {
        "id": "a5309500.d76bc",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"Service Deleted Successfully\" />\n<parameter name='ack-final-indicator' value='Y' />",
        "comments": "",
        "x": 1423.75,
        "y": 1481.8001098632812,
        "z": "e2f7091c.1492b8",
        "wires": []
    },
    {
        "id": "30018cf9.344a24",
        "type": "outcome",
        "name": "200",
        "xml": "<outcome value='200'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1056.199951171875,
        "y": 1308.2499389648438,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "f7b9ef6.7932f9"
            ]
        ]
    },
    {
        "id": "7de52130.2c5fc",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1033.199951171875,
        "y": 1460.2499389648438,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "6461eb1d.8fedb4"
            ]
        ]
    },
    {
        "id": "d7f1c2ce.8da74",
        "type": "switchNode",
        "name": "switch",
        "xml": "<switch test='`$service1-status == $service2-status == 200`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 857.75,
        "y": 1529.599853515625,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "d0c11e44.eff1b8",
                "ebfe8068.c9971"
            ]
        ]
    },
    {
        "id": "d0c11e44.eff1b8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1015.75,
        "y": 1538.599853515625,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "505e7a53.be6c6c"
            ]
        ]
    },
    {
        "id": "505e7a53.be6c6c",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1155.75,
        "y": 1545.599853515625,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "2406e71c.d43e8",
                "37282d8f.acde4a"
            ]
        ]
    },
    {
        "id": "2406e71c.d43e8",
        "type": "delete",
        "name": "delete",
        "xml": "<delete plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource'\n    resource=\"SQL\"\n    key=\"DELETE FROM REQUEST_DETAILS WHERE request_id = $access-id\"> ",
        "comments": "",
        "outputs": 1,
        "x": 1319.75,
        "y": 1545.599853515625,
        "z": "e2f7091c.1492b8",
        "wires": [
            []
        ]
    },
    {
        "id": "ebfe8068.c9971",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1003.75,
        "y": 1670.599853515625,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "383c08d1.28a08"
            ]
        ]
    },
    {
        "id": "383c08d1.28a08",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1147.75,
        "y": 1683.599853515625,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "495cad00.8d5f24"
            ]
        ]
    },
    {
        "id": "495cad00.8d5f24",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value='Access service request entry cannot be deleted' />\n<parameter name='ack-final-indicator' value=\"Y\" />",
        "comments": "",
        "x": 1322.75,
        "y": 1676.599853515625,
        "z": "e2f7091c.1492b8",
        "wires": []
    },
    {
        "id": "37282d8f.acde4a",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"Service Deleted Successfully\" />\n<parameter name='ack-final-indicator' value='Y' />",
        "comments": "",
        "x": 1337.75,
        "y": 1626.599853515625,
        "z": "e2f7091c.1492b8",
        "wires": []
    },
    {
        "id": "70ec6ec4.5ccf08",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value='Access service request entry cannot be deleted' />\n<parameter name='ack-final-indicator' value=\"Y\" />",
        "comments": "",
        "x": 1211.5,
        "y": 1472.3998413085938,
        "z": "e2f7091c.1492b8",
        "wires": []
    },
    {
        "id": "96d3d87a.161f98",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 736.4000244140625,
        "y": 1523.39990234375,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "d7f1c2ce.8da74"
            ]
        ]
    },
    {
        "id": "fb442d76.8c0b1",
        "type": "get-resource",
        "name": "get resources from DB -controller_id",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\nkey='SELECT controller_id\nfrom REQUEST_DETAILS\nWHERE request_id = $domain-service1'\npfx='detail-db11'>",
        "comments": "",
        "outputs": 1,
        "x": 1377.6666259765625,
        "y": 680.6666259765625,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "84c6499.61865b8"
            ]
        ]
    },
    {
        "id": "84c6499.61865b8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1623.6666259765625,
        "y": 684.6666259765625,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "4427d502.6c96cc"
            ]
        ]
    },
    {
        "id": "4427d502.6c96cc",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='controller-id11' value='`$detail-db11.controller-id`' />\n\n\n\n\n\n\n\n\n\n\n",
        "comments": "",
        "x": 1791.6666259765625,
        "y": 686.6666259765625,
        "z": "e2f7091c.1492b8",
        "wires": []
    },
    {
        "id": "e8836a64.f81ae",
        "type": "execute",
        "name": "split node-id a-end retrieved from DB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$controller-id11`'/>\n<parameter name=\"regex\" value=\"_\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"domain1\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1398.6666259765625,
        "y": 756.6666259765625,
        "z": "e2f7091c.1492b8",
        "wires": [
            []
        ]
    },
    {
        "id": "4d169812.58b88",
        "type": "get-resource",
        "name": "get resources from DB -controller_id",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\nkey='SELECT controller_id\nfrom REQUEST_DETAILS\nWHERE request_id = $domain-service2'\npfx='detail-db22'>",
        "comments": "",
        "outputs": 1,
        "x": 1324.6666259765625,
        "y": 1056.666748046875,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "e0ea4817.5936a"
            ]
        ]
    },
    {
        "id": "e0ea4817.5936a",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1569.6666259765625,
        "y": 1060.666748046875,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "9748df16.f21cf8"
            ]
        ]
    },
    {
        "id": "9748df16.f21cf8",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='controller-id22' value='`$detail-db22.controller-id`' />\n\n\n\n\n\n\n\n\n\n\n",
        "comments": "",
        "x": 1718.6666259765625,
        "y": 1064.666748046875,
        "z": "e2f7091c.1492b8",
        "wires": []
    },
    {
        "id": "8f4e881d.558318",
        "type": "execute",
        "name": "split node-id a-end retrieved from DB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$controller-id22`'/>\n<parameter name=\"regex\" value=\"_\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"domain2\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1327.6666259765625,
        "y": 1118.666748046875,
        "z": "e2f7091c.1492b8",
        "wires": [
            []
        ]
    },
    {
        "id": "9e23ba6e.b8b718",
        "type": "update",
        "name": "update",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' \nforce='true'\nresource='logical-link'\nkey = 'pnf.pnf-name = $a-end-pnf-name\n      AND p-interface.interface-name = $optical-service-create-input.payload.service-aend.port-id'\n      local-only='false'>\n<parameter name='available-capacity' value='`$available-bandwidth-aend`' />\n\n\n\n<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='logical-link'\nkey='logical-link.link-name = $tmp.link-id' >\n    <parameter name='link-name' value='`$tmp.link-id`' />\n    <parameter name='link-type' value='`$link.link-type`' />\n    <parameter name='in-maint' value='true' />\n    <parameter name='speed-value' value='100' />\n    <parameter name='speed-units' value='Gbps' />\n    <parameter name='operational-status' value='`$link.administrative-state`' />\n    <parameter name='available-capacity' value='100' />\n\n\n\n\n\n\n\n\n\n\n\n    \n    \n    \n    \n    \n    \n    \n    \n   \n    \n    \n    \n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1418.6666717529297,
        "y": 1385.6666717529297,
        "z": "e2f7091c.1492b8",
        "wires": [
            []
        ]
    },
    {
        "id": "6461eb1d.8fedb4",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1130.3333740234375,
        "y": 1413.3331909179688,
        "z": "e2f7091c.1492b8",
        "wires": [
            [
                "70ec6ec4.5ccf08"
            ]
        ]
    }
]