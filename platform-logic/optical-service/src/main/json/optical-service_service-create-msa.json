[
    {
        "id": "3ea35ee.ad0f6a2",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 116,
        "y": 81,
        "z": "c2959a97.94a74",
        "wires": [
            [
                "11cee705.bf2a31"
            ]
        ]
    },
    {
        "id": "d850b04.b54af5",
        "type": "method",
        "name": "method",
        "xml": "<method rpc='service-create-msa' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 174,
        "y": 206,
        "z": "c2959a97.94a74",
        "wires": [
            [
                "488da689.489b18"
            ]
        ]
    },
    {
        "id": "11cee705.bf2a31",
        "type": "service-logic",
        "name": "optical-service ${project.version}",
        "module": "optical-service",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='optical-service' version='${project.version}'>",
        "outputs": 1,
        "x": 360.5,
        "y": 84,
        "z": "c2959a97.94a74",
        "wires": [
            [
                "d850b04.b54af5"
            ]
        ]
    },
    {
        "id": "8d61ef5.90ff99",
        "type": "execute",
        "name": "Call MSA Controller",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/optical-service-create-msa.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$controller-ip + '/cxf/openroadm/openroadm-services'`\"/>\n<parameter name='restapiUser' value='admin' />\n<parameter name='restapiPassword' value='admin' />\n<parameter name=\"httpMethod\" value=\"POST\"/>\n<parameter name=\"responsePrefix\" value=\"service-create-response\"/>\n<parameter name='contentType' value='application/json' />\n<parameter name='format' value='json' />\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.msa.jks\"/>  \n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/> \n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/> ",
        "comments": "",
        "outputs": 1,
        "x": 809,
        "y": 533,
        "z": "c2959a97.94a74",
        "wires": [
            [
                "ccc1ac83.fb8f3",
                "2f9f6425.084e84"
            ]
        ]
    },
    {
        "id": "ccc1ac83.fb8f3",
        "type": "outcome",
        "name": "Failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1038,
        "y": 508,
        "z": "c2959a97.94a74",
        "wires": [
            [
                "a1397508.3503c8"
            ]
        ]
    },
    {
        "id": "2f9f6425.084e84",
        "type": "outcome",
        "name": "Success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1033,
        "y": 609,
        "z": "c2959a97.94a74",
        "wires": [
            [
                "ef5192a4.4e4b1"
            ]
        ]
    },
    {
        "id": "a1e42279.d92258",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/optical-service-create.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Successfully sent the request\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1535,
        "y": 641,
        "z": "c2959a97.94a74",
        "wires": [
            []
        ]
    },
    {
        "id": "5e2abc18.1b66ac",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/optical-service-create.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Failure\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1562,
        "y": 467,
        "z": "c2959a97.94a74",
        "wires": [
            []
        ]
    },
    {
        "id": "488da689.489b18",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 413,
        "y": 198,
        "z": "c2959a97.94a74",
        "wires": [
            [
                "8d61ef5.90ff99",
                "a3b8c6ad.cc7648",
                "8ad2ed4f.9eaef8",
                "35d2d9b2.cbceee",
                "5929fa76.a7464c",
                "b065abfd.9e90f8"
            ]
        ]
    },
    {
        "id": "ef5192a4.4e4b1",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1281,
        "y": 611,
        "z": "c2959a97.94a74",
        "wires": [
            [
                "a1e42279.d92258",
                "893ecee0.5f1a6"
            ]
        ]
    },
    {
        "id": "629b93c5.786c2c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value='Could not connect to Controller' />\n",
        "comments": "",
        "x": 1548,
        "y": 559,
        "z": "c2959a97.94a74",
        "wires": []
    },
    {
        "id": "a1397508.3503c8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1272,
        "y": 509,
        "z": "c2959a97.94a74",
        "wires": [
            [
                "5e2abc18.1b66ac",
                "629b93c5.786c2c"
            ]
        ]
    },
    {
        "id": "893ecee0.5f1a6",
        "type": "switchNode",
        "name": "switch",
        "xml": "<switch test='`$service-create-response.configuration-response-common.response-code`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1530,
        "y": 723,
        "z": "c2959a97.94a74",
        "wires": [
            [
                "5758035.e2b987c",
                "ec22434b.def97"
            ]
        ]
    },
    {
        "id": "5758035.e2b987c",
        "type": "outcome",
        "name": "outcome",
        "xml": "<outcome value='200'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1698,
        "y": 724,
        "z": "c2959a97.94a74",
        "wires": [
            [
                "211ff3f4.659f1c"
            ]
        ]
    },
    {
        "id": "ec22434b.def97",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1706,
        "y": 790,
        "z": "c2959a97.94a74",
        "wires": [
            [
                "c3dd586d.2d9ff"
            ]
        ]
    },
    {
        "id": "c3dd586d.2d9ff",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='`$service-create-response.configuration-response-common.response-code`' />\n<parameter name='error-message' value='`$service-create-response.configuration-response-common.response-message`' />\n",
        "comments": "",
        "x": 1885,
        "y": 790,
        "z": "c2959a97.94a74",
        "wires": []
    },
    {
        "id": "211ff3f4.659f1c",
        "type": "call",
        "name": "call sync success DG",
        "xml": "<call module='optical-service' rpc='optical-service-create-sync-success' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1900,
        "y": 721,
        "z": "c2959a97.94a74",
        "wires": [
            []
        ]
    },
    {
        "id": "a3b8c6ad.cc7648",
        "type": "set",
        "name": "set parameters",
        "xml": "<set>\n<parameter name='notification-url' value=\"`$prop.controller.url + '/' + $prop.sdnc.async.url`\" />\n<parameter name='service-aend-nodeid' value='`$param-prefix[0]`' />\n<parameter name='service-zend-nodeid' value='`$param-prefix1[0]`' />\n",
        "comments": "",
        "x": 831,
        "y": 276,
        "z": "c2959a97.94a74",
        "wires": []
    },
    {
        "id": "8ad2ed4f.9eaef8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/optical-service-create.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Logical link name\"/>\n<parameter name=\"field2\" value=\"`$logical-link-check`\"/>\n<parameter name=\"field3\" value=\"`$a-end-pnf-name`\"/>\n<parameter name=\"field4\" value=\"`$z-end-pnf-name`\"/>\n\n\n\n\n\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 817,
        "y": 223,
        "z": "c2959a97.94a74",
        "wires": [
            []
        ]
    },
    {
        "id": "35d2d9b2.cbceee",
        "type": "switchNode",
        "name": "switch",
        "xml": "<switch test='`$optical-service-create-input.payload.service-protocol`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 919,
        "y": 361,
        "z": "c2959a97.94a74",
        "wires": [
            [
                "377ae9e5.0edff6",
                "6ebfa6a3.e8164"
            ]
        ]
    },
    {
        "id": "377ae9e5.0edff6",
        "type": "outcome",
        "name": "Ethernet",
        "xml": "<outcome value='Ethernet'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1096,
        "y": 355,
        "z": "c2959a97.94a74",
        "wires": [
            [
                "d04153bc.9f4338"
            ]
        ]
    },
    {
        "id": "18dafb4f.277ba5",
        "type": "switchNode",
        "name": "switch",
        "xml": "<switch test='`$optical-service-create-input.payload.coding-func`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1460,
        "y": 351,
        "z": "c2959a97.94a74",
        "wires": [
            [
                "bff9d743.e28a08",
                "80d30a7a.cb97f"
            ]
        ]
    },
    {
        "id": "d04153bc.9f4338",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1286,
        "y": 353,
        "z": "c2959a97.94a74",
        "wires": [
            [
                "18dafb4f.277ba5"
            ]
        ]
    },
    {
        "id": "6ebfa6a3.e8164",
        "type": "other",
        "name": "Do Nothing",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1101,
        "y": 422,
        "z": "c2959a97.94a74",
        "wires": [
            []
        ]
    },
    {
        "id": "bff9d743.e28a08",
        "type": "outcome",
        "name": "10GBASE-R",
        "xml": "<outcome value='10GBASE-R'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1619,
        "y": 346,
        "z": "c2959a97.94a74",
        "wires": [
            [
                "1fad8a48.e66316"
            ]
        ]
    },
    {
        "id": "80d30a7a.cb97f",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1612,
        "y": 414,
        "z": "c2959a97.94a74",
        "wires": [
            []
        ]
    },
    {
        "id": "1fad8a48.e66316",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='mapping-mode-aend' value='mapping-mode' />\n<parameter name='mapping-mode-zend' value='mapping-mode' />\n<parameter name='mapping-mode.value' value='GFP-F' />\n",
        "comments": "",
        "x": 1828,
        "y": 345,
        "z": "c2959a97.94a74",
        "wires": []
    },
    {
        "id": "5929fa76.a7464c",
        "type": "execute",
        "name": "split node-id z-end",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$zend-nodeid`'/>\n<parameter name=\"regex\" value=\"-\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix1\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 834,
        "y": 157,
        "z": "c2959a97.94a74",
        "wires": [
            []
        ]
    },
    {
        "id": "b065abfd.9e90f8",
        "type": "execute",
        "name": "split node-id a-end",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$aend-nodeid`'/>\n<parameter name=\"regex\" value=\"-\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 837,
        "y": 93,
        "z": "c2959a97.94a74",
        "wires": [
            []
        ]
    }
]