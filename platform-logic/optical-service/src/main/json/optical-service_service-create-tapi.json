[
    {
        "id": "e3b61acf.d53178",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 185,
        "y": 832.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "4e2007b8.e16458"
            ]
        ]
    },
    {
        "id": "4e2007b8.e16458",
        "type": "service-logic",
        "name": "optical-service ${project.version}",
        "module": "optical-service",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='optical-service' version='${project.version}'>",
        "outputs": 1,
        "x": 198,
        "y": 892.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "19b71169.28fe6f"
            ]
        ]
    },
    {
        "id": "19b71169.28fe6f",
        "type": "method",
        "name": "method service-create-tapi",
        "xml": "<method rpc='service-create-tapi' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 218,
        "y": 972.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "67e00a4.cbfd6f4"
            ]
        ]
    },
    {
        "id": "67e00a4.cbfd6f4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 427.5,
        "y": 977.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "6e2532e4.6a345c",
                "4e62cda.756f234",
                "7a87fe21.0f22f",
                "e26a9e37.3f00f",
                "7ff1b0d3.ad7b6",
                "e17358f9.eefe38",
                "cc062ea3.b0027",
                "3f3fa66c.f6173a",
                "b3c6d371.40d14",
                "a68ab8ee.a8c128",
                "583afef0.9e3f1",
                "53f4928e.efb2dc"
            ]
        ]
    },
    {
        "id": "6e2532e4.6a345c",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/service-create-tapi.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Inside optical service create tapi\"/>\n\n\n\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 427,
        "y": 775.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            []
        ]
    },
    {
        "id": "4e62cda.756f234",
        "type": "get-resource",
        "name": "get-resource",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\nkey='SELECT *\nfrom TOPOLOGY_LOGICAL_RELATION_TO_PINTERFACE\nWHERE interface_name = $optical-service-create-input.payload.service-aend.port-id'\npfx='db-aend'>",
        "comments": "",
        "outputs": 1,
        "x": 625.9999389648438,
        "y": 827.4999847412109,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "69d89830.091358"
            ]
        ]
    },
    {
        "id": "7a87fe21.0f22f",
        "type": "get-resource",
        "name": "get-resource",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\nkey='SELECT *\nfrom TOPOLOGY_LOGICAL_RELATION_TO_PINTERFACE\nWHERE interface_name = $optical-service-create-input.payload.service-zend.port-id'\npfx='db-zend'>",
        "comments": "",
        "outputs": 1,
        "x": 646.9999389648438,
        "y": 892.4999694824219,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "4acab2b3.e0ef5c"
            ]
        ]
    },
    {
        "id": "69d89830.091358",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 785.9999389648438,
        "y": 829.4999847412109,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "df7c45e.be06eb8"
            ]
        ]
    },
    {
        "id": "4acab2b3.e0ef5c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 795.9999389648438,
        "y": 890.4999694824219,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "f40d9366.6d7e9"
            ]
        ]
    },
    {
        "id": "df7c45e.be06eb8",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='aend-node-uuid' value='`$db-aend.pnf-name`' />\n<parameter name='aend-pnf-name' value='`$db-aend.pnf-id`' />\n<parameter name='aend-cep-list' value='`$db-aend.connection-point`' />\n<parameter name='aend-nep' value='`$db-aend.interface-name`' />\n<parameter name='aend-rate' value='`$db-aend.rate`' />\n<parameter name='esr-id' value='`$db-aend.controller-id`' />\n",
        "comments": "",
        "x": 951.9999389648438,
        "y": 830.4999694824219,
        "z": "eeae8fa4.7aafe",
        "wires": []
    },
    {
        "id": "f40d9366.6d7e9",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='zend-node-uuid' value='`$db-zend.pnf-name`' />\n<parameter name='zend-pnf-name' value='`$db-zend.pnf-id`' />\n<parameter name='zend-cep-list' value='`$db-zend.connection-point`' />\n<parameter name='zend-nep' value='`$db-zend.interface-name`' />\n<parameter name='zend-rate' value='`$db-zend.rate`' />\n",
        "comments": "",
        "x": 945,
        "y": 889.5,
        "z": "eeae8fa4.7aafe",
        "wires": []
    },
    {
        "id": "e26a9e37.3f00f",
        "type": "execute",
        "name": "execute: read properties",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n<parameter name='fileName' value='/opt/onap/sdnc/data/properties/optical-service-dg.properties' />\n<parameter name='contextPrefix' value='prop' />\n",
        "comments": "",
        "outputs": 1,
        "x": 615,
        "y": 781.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            []
        ]
    },
    {
        "id": "7ff1b0d3.ad7b6",
        "type": "get-resource",
        "name": "find if aend is uni or nni or enni",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\nresource=\"p-interface\"\n key=\"pnf.pnf-name = $aend-node-uuid AND\n     p-interface.interface-name = $aend-nep\"\npfx='aend'      local-only='false'>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 711,
        "y": 973.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            []
        ]
    },
    {
        "id": "e17358f9.eefe38",
        "type": "switchNode",
        "name": "switch",
        "xml": "<switch test='`$aend.network-interface-type`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 626,
        "y": 1069.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "e5d8d6f6.cf0a68",
                "79710b28.d915f4"
            ]
        ]
    },
    {
        "id": "e5d8d6f6.cf0a68",
        "type": "outcome",
        "name": "UNI",
        "xml": "<outcome value='UNI'>\n",
        "comments": "",
        "outputs": 1,
        "x": 751,
        "y": 1018.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "cc49f496.ddb3f8"
            ]
        ]
    },
    {
        "id": "95d30723.5b4378",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='aend-cep' value='`$aend-cep-list`' />\n<parameter name='aend-new' value='' />\n<parameter name='aend-new-rate' value='0' />\n",
        "comments": "",
        "x": 1126,
        "y": 867.5,
        "z": "eeae8fa4.7aafe",
        "wires": []
    },
    {
        "id": "12ce4ec6.788011",
        "type": "execute",
        "name": "execute",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$aend-cep-list`'/>\n<parameter name=\"regex\" value=\",\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix\"/> ",
        "comments": "",
        "outputs": 1,
        "x": 1158,
        "y": 1109.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            []
        ]
    },
    {
        "id": "cc49f496.ddb3f8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 889,
        "y": 1017.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "95d30723.5b4378",
                "d4d34a7e.414498",
                "76ba49d4.9adfb8"
            ]
        ]
    },
    {
        "id": "981e7a8d.9b40d8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 909,
        "y": 1132.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "12ce4ec6.788011",
                "db706c7f.f5413",
                "c523271d.c23728",
                "57dafe06.e772c"
            ]
        ]
    },
    {
        "id": "94c3ff81.93f32",
        "type": "execute",
        "name": "execute",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"` $controller-ip + $prop.tapi.cep.details.url + $param-prefix[$idx]`\" />\n<parameter name=\"restapiUser\" value=\"admin\"/>  \n<parameter name=\"restapiPassword\" value=\"admin\"/>  \n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"aend-cep-response\"/>\n<parameter name='contentType' value='application/json' />\n<parameter name='format' value='json' />\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.tapi.jks\"/>  \n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>  \n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>  \n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/> ",
        "comments": "",
        "outputs": 1,
        "x": 1244.111083984375,
        "y": 1185.7222290039062,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "b6ab9975.3588c8",
                "1b8ebe74.b20472"
            ]
        ]
    },
    {
        "id": "b6ab9975.3588c8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1357.77779006958,
        "y": 1147.500005722046,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "3ab3912f.f30dde"
            ]
        ]
    },
    {
        "id": "1b8ebe74.b20472",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1367.2221794128418,
        "y": 1217.277780532837,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "63b9c2ce.613ddc"
            ]
        ]
    },
    {
        "id": "3ab3912f.f30dde",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/service-create-tapi.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Failed to get Aend cep details\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1515,
        "y": 1147.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            []
        ]
    },
    {
        "id": "de2bd7fe.4fa488",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/service-create-tapi.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Sucessfully retrieved aend cep\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1654,
        "y": 1169.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            []
        ]
    },
    {
        "id": "db706c7f.f5413",
        "type": "for",
        "name": "for",
        "xml": "<for index='idx' start='0' end='`$param-prefix_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1101,
        "y": 1158.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "589b4306.69c66c"
            ]
        ]
    },
    {
        "id": "63b9c2ce.613ddc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1505,
        "y": 1219.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "de2bd7fe.4fa488",
                "b9f0b7ab.7d0788"
            ]
        ]
    },
    {
        "id": "b2429a15.648f18",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 2111.5552864074707,
        "y": 1268.6110572814941,
        "z": "eeae8fa4.7aafe",
        "wires": []
    },
    {
        "id": "c901f232.2c828",
        "type": "set",
        "name": "set aend-local-id",
        "xml": "<set>\n<parameter name='aend-local-id' value=\"`$aend-local-id + '/OTN/' + $aend-pnf-name + '/' + $aend-cep-response.sip[0].name[2].value + ':' + $aend-cep-response.sip[0].name[1].value`\" />\n<parameter name='aend-cep' value='`$param-prefix[$idx]`'/>\n\n\n",
        "comments": "",
        "x": 2139.3332290649414,
        "y": 1197.6111087799072,
        "z": "eeae8fa4.7aafe",
        "wires": []
    },
    {
        "id": "137becd1.5df6d3",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1933,
        "y": 1234.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "c901f232.2c828",
                "b2429a15.648f18"
            ]
        ]
    },
    {
        "id": "589b4306.69c66c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1110,
        "y": 1219.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "94c3ff81.93f32"
            ]
        ]
    },
    {
        "id": "c523271d.c23728",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='aend-new' value='' />\n<parameter name='aend-local-id' value='' />\n\n",
        "comments": "",
        "x": 1077,
        "y": 1062.5,
        "z": "eeae8fa4.7aafe",
        "wires": []
    },
    {
        "id": "cc062ea3.b0027",
        "type": "get-resource",
        "name": "find if zend is uni or nni or enni",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\nresource=\"p-interface\"\n key=\"pnf.pnf-name = $zend-node-uuid AND\n     p-interface.interface-name = $zend-nep\"\npfx='zend'      local-only='false'>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 730,
        "y": 1515.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            []
        ]
    },
    {
        "id": "3f3fa66c.f6173a",
        "type": "switchNode",
        "name": "switch",
        "xml": "<switch test='`$zend.network-interface-type`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 499,
        "y": 1864.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "26907dac.2c8962",
                "6b2ab5da.9e65dc"
            ]
        ]
    },
    {
        "id": "26907dac.2c8962",
        "type": "outcome",
        "name": "UNI",
        "xml": "<outcome value='UNI'>\n",
        "comments": "",
        "outputs": 1,
        "x": 625,
        "y": 1784.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "b896134c.4d7c6"
            ]
        ]
    },
    {
        "id": "a887b962.a85538",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='zend-cep' value='`$zend-cep-list`' />\n<parameter name='zend-new' value='' />\n<parameter name='zend-new-rate' value='0' />\n",
        "comments": "",
        "x": 1046,
        "y": 1505.5,
        "z": "eeae8fa4.7aafe",
        "wires": []
    },
    {
        "id": "b612ac70.544c8",
        "type": "execute",
        "name": "execute",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$zend-cep-list`'/>\n<parameter name=\"regex\" value=\",\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix1\"/> ",
        "comments": "",
        "outputs": 1,
        "x": 997,
        "y": 1924.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            []
        ]
    },
    {
        "id": "b896134c.4d7c6",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 905,
        "y": 1563.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "a887b962.a85538",
                "3d1b5ef9.72faf2",
                "ae0f4e41.69868"
            ]
        ]
    },
    {
        "id": "4c1c4885.e5c558",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 787,
        "y": 1981.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "b612ac70.544c8",
                "a14476ab.fb69e8",
                "e1a333de.1775c",
                "2e50f406.0834dc"
            ]
        ]
    },
    {
        "id": "a14476ab.fb69e8",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='zend-new' value='' />\n<parameter name='zend-local-id' value='' />\n",
        "comments": "",
        "x": 998,
        "y": 1872.5,
        "z": "eeae8fa4.7aafe",
        "wires": []
    },
    {
        "id": "79710b28.d915f4",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 763,
        "y": 1134.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "981e7a8d.9b40d8"
            ]
        ]
    },
    {
        "id": "6b2ab5da.9e65dc",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 621,
        "y": 1979.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "4c1c4885.e5c558"
            ]
        ]
    },
    {
        "id": "b3c6d371.40d14",
        "type": "execute",
        "name": "execute",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/optical-service-create-tapi.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$controller-ip + '/cxf/tapi/v2/connectivities/tapi-services'`\"/>\n<parameter name=\"restapiUser\" value=\"admin\"/>  \n<parameter name=\"restapiPassword\" value=\"admin\"/>  \n<parameter name=\"httpMethod\" value=\"POST\"/>\n<parameter name=\"responsePrefix\" value=\"tapi-service-response\"/>\n<parameter name='contentType' value='application/json' />\n<parameter name='format' value='json' />\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.tapi.jks\"/>  \n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>  \n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>  \n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/> ",
        "comments": "",
        "outputs": 1,
        "x": 238.00006103515625,
        "y": 2305.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "b68268dd.2641e8",
                "704b92ea.ae0bfc"
            ]
        ]
    },
    {
        "id": "b68268dd.2641e8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 379.00006103515625,
        "y": 2253.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "7e73b171.f5dcc"
            ]
        ]
    },
    {
        "id": "704b92ea.ae0bfc",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 393.00006103515625,
        "y": 2367.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "b298b779.8e8f08"
            ]
        ]
    },
    {
        "id": "7e73b171.f5dcc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 544.0000610351562,
        "y": 2252.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "58e61928.c20cd8"
            ]
        ]
    },
    {
        "id": "b298b779.8e8f08",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 569.0000610351562,
        "y": 2367.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "95903f39.6729d",
                "7e480b79.0c9e94",
                "e447101b.3a99d",
                "ead868a6.12c838",
                "766aa235.2a8e3c",
                "a3841f37.73a11"
            ]
        ]
    },
    {
        "id": "58e61928.c20cd8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'Service creation failed for'+ ':' + $optical-service-create-input.payload.service-name`\" />\n<parameter name='ack-final-indicator' value=\"Y\" />",
        "comments": "",
        "x": 736.0000610351562,
        "y": 2253.5,
        "z": "eeae8fa4.7aafe",
        "wires": []
    },
    {
        "id": "894b6cc6.e224",
        "type": "call",
        "name": "call",
        "xml": "<call module='optical-service' rpc='success-aai-update-tapi' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1282,
        "y": 2738.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            []
        ]
    },
    {
        "id": "a68ab8ee.a8c128",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='service-name' value=\"`$optical-service-create-input.payload.service-name +'_' + $new-esr[2]`\"/>\n<parameter name='svc-action' value=\"CREATE\" />\n",
        "comments": "",
        "x": 338,
        "y": 2107.5,
        "z": "eeae8fa4.7aafe",
        "wires": []
    },
    {
        "id": "583afef0.9e3f1",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/service-create-tapi.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"A end local-id\"/>\n<parameter name=\"field2\" value=\"`$aend-local-id`\"/>\n<parameter name=\"field3\" value=\"Z end local-id\"/>\n<parameter name=\"field4\" value=\"`$zend-local-id`\"/>\n<parameter name=\"field5\" value=\"Service name\"/>\n<parameter name=\"field6\" value=\"`$service-name`\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 302,
        "y": 2190.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            []
        ]
    },
    {
        "id": "3fc62d83.ac6362",
        "type": "for",
        "name": "for",
        "xml": "<for index='idl' start='0' end='`$param-prefix1_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1269,
        "y": 2226.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "b7378018.3878b"
            ]
        ]
    },
    {
        "id": "83062bca.729078",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='zend-new' value=\"`$zend-new + $param-prefix1[$idl]`\" />\n",
        "comments": "",
        "x": 1721,
        "y": 2157.5,
        "z": "eeae8fa4.7aafe",
        "wires": []
    },
    {
        "id": "b7378018.3878b",
        "type": "switchNode",
        "name": "switch",
        "xml": "<switch test='`$idl`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1404,
        "y": 2227.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "5946864.461ea78",
                "ef8534ba.5d85f8",
                "b5ab7497.df0258"
            ]
        ]
    },
    {
        "id": "5946864.461ea78",
        "type": "outcome",
        "name": "outcome",
        "xml": "<outcome value='`$param-prefix1_length - 1`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1584,
        "y": 2159.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "83062bca.729078"
            ]
        ]
    },
    {
        "id": "ef8534ba.5d85f8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1591,
        "y": 2234.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "11e469f8.d89bc6"
            ]
        ]
    },
    {
        "id": "11e469f8.d89bc6",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='zend-new' value=\"`$zend-new + $param-prefix1[$idl] + ','`\" />\n",
        "comments": "",
        "x": 1747,
        "y": 2236.5,
        "z": "eeae8fa4.7aafe",
        "wires": []
    },
    {
        "id": "b5ab7497.df0258",
        "type": "outcome",
        "name": "outcome",
        "xml": "<outcome value='`$idk`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1575,
        "y": 2294.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "77a66da8.5a9f24"
            ]
        ]
    },
    {
        "id": "77a66da8.5a9f24",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='zend-new' value='`$zend-new`' />\n",
        "comments": "",
        "x": 1752,
        "y": 2292.5,
        "z": "eeae8fa4.7aafe",
        "wires": []
    },
    {
        "id": "7e480b79.0c9e94",
        "type": "save",
        "name": "update pinterface cep DB Zend",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' \nresource='SQL' \nkey='UPDATE TOPOLOGY_LOGICAL_RELATION_TO_PINTERFACE SET connection_point = $zend-new WHERE interface_name = $zend-nep'\nforce='true' pfx='save-result'>",
        "comments": "",
        "outputs": 1,
        "x": 868.2222900390625,
        "y": 2434.166748046875,
        "z": "eeae8fa4.7aafe",
        "wires": [
            []
        ]
    },
    {
        "id": "95903f39.6729d",
        "type": "save",
        "name": "update pinterface cep DB Aend",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' \nresource='SQL' \nkey='UPDATE TOPOLOGY_LOGICAL_RELATION_TO_PINTERFACE SET connection_point = $aend-new WHERE interface_name = $aend-nep'\nforce='true' pfx='save-result'>",
        "comments": "",
        "outputs": 1,
        "x": 886,
        "y": 2367.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            []
        ]
    },
    {
        "id": "d4d34a7e.414498",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/service-create-tapi.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Aend uni\"/>\n\n\n\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1129,
        "y": 931.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            []
        ]
    },
    {
        "id": "3d1b5ef9.72faf2",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/service-create-tapi.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Zend uni\"/>\n\n\n\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1065,
        "y": 1552.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            []
        ]
    },
    {
        "id": "e447101b.3a99d",
        "type": "save",
        "name": "save service db",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource\" resource=\"SQL\" key=\"INSERT INTO REQUEST_DETAILS (request_id, controller_id, status, service_rate, service_instance_id, service_type, global_customer_id, notification_url) VALUES ( $optical-service-create-input.request-id , $controller-id , 'CREATED' , $optical-service-create-input.payload.service-rate ,  $optical-service-create-input.service-id , $optical-service-create-input.service-type , $optical-service-create-input.global-customer-id , null );\"> ",
        "comments": "",
        "outputs": 1,
        "x": 888,
        "y": 2309.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            []
        ]
    },
    {
        "id": "d97ea600.6b8a38",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1804,
        "y": 1202.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "137becd1.5df6d3"
            ]
        ]
    },
    {
        "id": "3ec46408.bcd4fc",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1833.222116470337,
        "y": 1329.8333568572998,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "86e280c3.297fa"
            ]
        ]
    },
    {
        "id": "86e280c3.297fa",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value='No service interface points could be found for A end ' />\n<parameter name='ack-final-indicator' value=\"Y\" />",
        "comments": "",
        "x": 1977.6666259765625,
        "y": 1329.8333129882812,
        "z": "eeae8fa4.7aafe",
        "wires": []
    },
    {
        "id": "ead868a6.12c838",
        "type": "save",
        "name": "save service aai",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='service-instance:relationship-list'  \n     key='customer.global-customer-id = $optical-service-create-input.global-customer-id AND\n     service-subscription.service-type = $optical-service-create-input.service-type AND\n     service-instance.service-instance-id = $optical-service-create-input.service-id' force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"p-interface\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/pnfs/pnf/' + $aend-node-uuid + '/p-interfaces/p-interface/' + $optical-service-create-input.payload.service-aend.port-id `\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"pnf.pnf-name\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$aend-node-uuid`\" /> \n<parameter name=\"relationship-list.relationship[1].related-to\" value=\"p-interface\" />\n<parameter name=\"relationship-list.relationship[1].related-link\" value=\"`'/network/pnfs/pnf/' + $zend-node-uuid + '/p-interfaces/p-interface/' + $optical-service-create-input.payload.service-zend.port-id `\" />\n<parameter name=\"relationship-list.relationship[1].relationship-data[0].relationship-key\" value=\"pnf.pnf-name\" />\n<parameter name=\"relationship-list.relationship[1].relationship-data[0].relationship-value\" value=\"`$zend-node-uuid`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 776.9999389648438,
        "y": 2554.611083984375,
        "z": "eeae8fa4.7aafe",
        "wires": [
            []
        ]
    },
    {
        "id": "766aa235.2a8e3c",
        "type": "save",
        "name": "save",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='service-instance'  \n     key='customer.global-customer-id = $optical-service-create-input.global-customer-id AND\n     service-subscription.service-type = $optical-service-create-input.service-type AND\n     service-instance.service-instance-id = $optical-service-create-input.service-id' >\n<parameter name='service-instance-id' value='`$optical-service-create-input.service-id`' />\n<parameter name='service-instance-name' value='`$optical-service-create-input.payload.service-name`' />\n<parameter name='service-type' value='Domain-Service' />\n<parameter name='orchestration-status' value='CREATED' />\n<parameter name='service-rate' value='`$optical-service-create-input.payload.service-rate`' />\n<parameter name='service-layer' value='ODU' />\n",
        "comments": "",
        "outputs": 1,
        "x": 769.9999389648438,
        "y": 2494.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            []
        ]
    },
    {
        "id": "76ba49d4.9adfb8",
        "type": "execute",
        "name": "execute",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"` $controller-ip + $prop.tapi.cep.details.url + $aend-cep`\" />\n<parameter name=\"restapiUser\" value=\"admin\"/>  \n<parameter name=\"restapiPassword\" value=\"admin\"/>  \n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"aend-cep-response\"/>\n<parameter name='contentType' value='application/json' />\n<parameter name='format' value='json' />\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.tapi.jks\"/>  \n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>  \n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>  \n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/> ",
        "comments": "",
        "outputs": 1,
        "x": 1127,
        "y": 992.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "40b3b681.860668",
                "75209286.ddccec"
            ]
        ]
    },
    {
        "id": "40b3b681.860668",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1285,
        "y": 952.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "d54f33c1.e2caf"
            ]
        ]
    },
    {
        "id": "75209286.ddccec",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1294.4443893432617,
        "y": 1022.277774810791,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "7c37bdb9.346234"
            ]
        ]
    },
    {
        "id": "d54f33c1.e2caf",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/service-create-tapi.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Failed to get Aend cep details\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1442.22220993042,
        "y": 952.4999942779541,
        "z": "eeae8fa4.7aafe",
        "wires": [
            []
        ]
    },
    {
        "id": "7c37bdb9.346234",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1460.22216796875,
        "y": 1020.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "a5c2da19.ce3ea8"
            ]
        ]
    },
    {
        "id": "a5c2da19.ce3ea8",
        "type": "set",
        "name": "set aend-local-id",
        "xml": "<set>\n<parameter name='aend-local-id' value=\"`'/OTN/' + $aend-pnf-name + '/' + $aend-cep-response.sip[0].name[2].value + ':' + $aend-cep-response.sip[0].name[1].value`\" />\n\n\n",
        "comments": "",
        "x": 1654,
        "y": 1020.5,
        "z": "eeae8fa4.7aafe",
        "wires": []
    },
    {
        "id": "983ec083.ff592",
        "type": "execute",
        "name": "execute",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"` $controller-ip + $prop.tapi.cep.details.url + $param-prefix1[$idk]`\" />\n<parameter name=\"restapiUser\" value=\"admin\"/>  \n<parameter name=\"restapiPassword\" value=\"admin\"/>  \n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"zend-cep-response\"/>\n<parameter name='contentType' value='application/json' />\n<parameter name='format' value='json' />\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.tapi.jks\"/>  \n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>  \n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>  \n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/> ",
        "comments": "",
        "outputs": 1,
        "x": 1352,
        "y": 1978.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "d02f87db.d6d7a8",
                "22c182d6.7f01de"
            ]
        ]
    },
    {
        "id": "d02f87db.d6d7a8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1473,
        "y": 1939.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "c252b261.b7497"
            ]
        ]
    },
    {
        "id": "22c182d6.7f01de",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1491,
        "y": 2033.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "a4023511.b433b8"
            ]
        ]
    },
    {
        "id": "c252b261.b7497",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/service-create-tapi.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Failed to get zend cep details\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1621,
        "y": 1936.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            []
        ]
    },
    {
        "id": "cd0d0a5b.6f8818",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/service-create-tapi.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Sucessfully retrieved zend cep\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1790,
        "y": 1986.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            []
        ]
    },
    {
        "id": "e1a333de.1775c",
        "type": "for",
        "name": "for",
        "xml": "<for index='idk' start='0' end='`$param-prefix1_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 998,
        "y": 1979.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "b7f1e1f4.d9a4d"
            ]
        ]
    },
    {
        "id": "a4023511.b433b8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1646,
        "y": 2036.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "cd0d0a5b.6f8818",
                "e9bb3958.4a7f98"
            ]
        ]
    },
    {
        "id": "e9bb3958.4a7f98",
        "type": "switchNode",
        "name": "switch",
        "xml": "<switch test='`$zend-cep-response.sip[0].name[2].value == $optical-service-create-input.payload.service-rate`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1800,
        "y": 2050.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "e42e31a4.60821",
                "97ee1d35.6e5eb"
            ]
        ]
    },
    {
        "id": "b7f1e1f4.d9a4d",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1150,
        "y": 1981.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "983ec083.ff592"
            ]
        ]
    },
    {
        "id": "c52f4a5.23b30b8",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 2188,
        "y": 2061.5,
        "z": "eeae8fa4.7aafe",
        "wires": []
    },
    {
        "id": "df4f7ec9.f91d1",
        "type": "set",
        "name": "set zend-local-id",
        "xml": "<set>\n<parameter name='zend-local-id' value=\"`$zend-local-id + '/OTN/' + $zend-pnf-name + '/' + $zend-cep-response.sip[0].name[2].value + ':' + $zend-cep-response.sip[0].name[1].value`\" />\n<parameter name='zend-cep' value='`$param-prefix1[$idk]`'/>\n\n\n\n",
        "comments": "",
        "x": 2221,
        "y": 1951.5,
        "z": "eeae8fa4.7aafe",
        "wires": []
    },
    {
        "id": "e9430c74.d49c3",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2070,
        "y": 2007.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "df4f7ec9.f91d1",
                "c52f4a5.23b30b8"
            ]
        ]
    },
    {
        "id": "e42e31a4.60821",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1938.9998779296875,
        "y": 2012.1666259765625,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "e9430c74.d49c3"
            ]
        ]
    },
    {
        "id": "97ee1d35.6e5eb",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1938.8887939453125,
        "y": 2116.6109619140625,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "bb25bd92.102bc"
            ]
        ]
    },
    {
        "id": "bb25bd92.102bc",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value='No service interface points could be found for Z end ' />\n<parameter name='ack-final-indicator' value=\"Y\" />",
        "comments": "",
        "x": 2118.22216796875,
        "y": 2119.611083984375,
        "z": "eeae8fa4.7aafe",
        "wires": []
    },
    {
        "id": "2e50f406.0834dc",
        "type": "switchNode",
        "name": "switch",
        "xml": "<switch test='`$param-prefix1_length == 1`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 952,
        "y": 2131.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "ed15bef0.d465e",
                "ed35c503.0fb518"
            ]
        ]
    },
    {
        "id": "ed15bef0.d465e",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1092,
        "y": 2085.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "815e3884.b4c998"
            ]
        ]
    },
    {
        "id": "815e3884.b4c998",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='zend-new' value=\"`$zend-new`\" />\n",
        "comments": "",
        "x": 1227,
        "y": 2085.5,
        "z": "eeae8fa4.7aafe",
        "wires": []
    },
    {
        "id": "ed35c503.0fb518",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1094,
        "y": 2225.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "3fc62d83.ac6362"
            ]
        ]
    },
    {
        "id": "b9f0b7ab.7d0788",
        "type": "switchNode",
        "name": "switch",
        "xml": "<switch test='`$aend-cep-response.sip[0].name[2].value == $optical-service-create-input.payload.service-rate`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1663,
        "y": 1237.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "d97ea600.6b8a38",
                "3ec46408.bcd4fc"
            ]
        ]
    },
    {
        "id": "57dafe06.e772c",
        "type": "switchNode",
        "name": "switch",
        "xml": "<switch test='`$param-prefix_length == 1`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1082,
        "y": 1286.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "848a90d5.bcd26",
                "40c58163.4afec"
            ]
        ]
    },
    {
        "id": "848a90d5.bcd26",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1236,
        "y": 1287.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "750a8b4d.400d94"
            ]
        ]
    },
    {
        "id": "750a8b4d.400d94",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='zend-new' value=\"`$zend-new`\" />\n",
        "comments": "",
        "x": 1398,
        "y": 1287.5,
        "z": "eeae8fa4.7aafe",
        "wires": []
    },
    {
        "id": "40c58163.4afec",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1240,
        "y": 1338.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "67ad38a5.5ca3b8"
            ]
        ]
    },
    {
        "id": "67ad38a5.5ca3b8",
        "type": "for",
        "name": "for",
        "xml": "<for index='idy' start='0' end='`$param-prefix_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1364,
        "y": 1362.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "71c769ba.e6ed98"
            ]
        ]
    },
    {
        "id": "cb465dd8.92a9",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='aend-new' value=\"`$aend-new + $param-prefix[$idy]`\" />\n",
        "comments": "",
        "x": 1814,
        "y": 1378.5,
        "z": "eeae8fa4.7aafe",
        "wires": []
    },
    {
        "id": "71c769ba.e6ed98",
        "type": "switchNode",
        "name": "switch",
        "xml": "<switch test='`$idy`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1529,
        "y": 1427.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "ff55a68b.aa49b8",
                "b3e4787b.39fbf8",
                "1fc97483.5bad7b"
            ]
        ]
    },
    {
        "id": "ff55a68b.aa49b8",
        "type": "outcome",
        "name": "outcome",
        "xml": "<outcome value='`$param-prefix_length - 1`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1671,
        "y": 1378.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "cb465dd8.92a9"
            ]
        ]
    },
    {
        "id": "b3e4787b.39fbf8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1701,
        "y": 1452.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "e5e9e952.ca39b8"
            ]
        ]
    },
    {
        "id": "e5e9e952.ca39b8",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='aend-new' value=\"`$aend-new + $param-prefix[$idy] + ','`\" />\n",
        "comments": "",
        "x": 1818,
        "y": 1462.5,
        "z": "eeae8fa4.7aafe",
        "wires": []
    },
    {
        "id": "1fc97483.5bad7b",
        "type": "outcome",
        "name": "outcome",
        "xml": "<outcome value='`$idx`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1680,
        "y": 1533.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "914db74a.878c08"
            ]
        ]
    },
    {
        "id": "914db74a.878c08",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='aend-new' value='`$aend-new`' />\n",
        "comments": "",
        "x": 1818,
        "y": 1529.5,
        "z": "eeae8fa4.7aafe",
        "wires": []
    },
    {
        "id": "ae0f4e41.69868",
        "type": "execute",
        "name": "execute",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"` $controller-ip + $prop.tapi.cep.details.url + $zend-cep`\" />\n<parameter name=\"restapiUser\" value=\"admin\"/>  \n<parameter name=\"restapiPassword\" value=\"admin\"/>  \n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"zend-cep-response\"/>\n<parameter name='contentType' value='application/json' />\n<parameter name='format' value='json' />\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.tapi.jks\"/>  \n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>  \n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>  \n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/> ",
        "comments": "",
        "outputs": 1,
        "x": 1047,
        "y": 1638.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "a3174939.084828",
                "74087af2.acedd4"
            ]
        ]
    },
    {
        "id": "a3174939.084828",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1207,
        "y": 1597.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "1b9a1599.ef016a"
            ]
        ]
    },
    {
        "id": "74087af2.acedd4",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1216.4443893432617,
        "y": 1667.277774810791,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "8f5ec5c2.09dbf8"
            ]
        ]
    },
    {
        "id": "1b9a1599.ef016a",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/service-create-tapi.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Failed to get Aend cep details\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1364.22220993042,
        "y": 1597.499994277954,
        "z": "eeae8fa4.7aafe",
        "wires": [
            []
        ]
    },
    {
        "id": "8f5ec5c2.09dbf8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1379.22216796875,
        "y": 1666.5,
        "z": "eeae8fa4.7aafe",
        "wires": [
            [
                "b7515447.744b58"
            ]
        ]
    },
    {
        "id": "b7515447.744b58",
        "type": "set",
        "name": "set zend-local-id",
        "xml": "<set>\n<parameter name='zend-local-id' value=\"`'/OTN/' + $zend-pnf-name + '/' + $zend-cep-response.sip[0].name[2].value + ':' + $zend-cep-response.sip[0].name[1].value`\" />\n\n\n",
        "comments": "",
        "x": 1557,
        "y": 1664.5,
        "z": "eeae8fa4.7aafe",
        "wires": []
    },
    {
        "id": "a3841f37.73a11",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='final-response-code' value=\"200\" />\n",
        "comments": "",
        "x": 712,
        "y": 2611.5,
        "z": "eeae8fa4.7aafe",
        "wires": []
    },
    {
        "id": "53f4928e.efb2dc",
        "type": "execute",
        "name": "execute",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$esr-id`'/>\n<parameter name=\"regex\" value=\"_\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"new-esr\"/> ",
        "comments": "",
        "outputs": 1,
        "x": 370.00000762939453,
        "y": 1995.0000295639038,
        "z": "eeae8fa4.7aafe",
        "wires": [
            []
        ]
    }
]