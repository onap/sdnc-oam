[
    {
        "id": "96e558c1.171928",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 174,
        "y": 96,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "ba6338c5.40bd88"
            ]
        ]
    },
    {
        "id": "ba6338c5.40bd88",
        "type": "service-logic",
        "name": "optical-service ${project.version}",
        "module": "optical-service",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='optical-service' version='${project.version}'>",
        "outputs": 1,
        "x": 187,
        "y": 156,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "3857a42a.6b4cdc"
            ]
        ]
    },
    {
        "id": "3857a42a.6b4cdc",
        "type": "method",
        "name": "method service-create-tapi",
        "xml": "<method rpc='service-create-tapi' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 207,
        "y": 236,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "bca1514.f1c7bb"
            ]
        ]
    },
    {
        "id": "bca1514.f1c7bb",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 416.5,
        "y": 241,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "83c30d61.39881",
                "28460541.766c1a",
                "58f1dbe7.901a34",
                "72b2db54.6e2944",
                "b90929e.4a985d8",
                "65a74a39.a4d774",
                "cc0f04eb.f41858",
                "c7ace3b2.11081",
                "3ff768b5.f99338",
                "2995b56c.890f5a",
                "bf3d0d8f.af5f6"
            ]
        ]
    },
    {
        "id": "83c30d61.39881",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/service-create-tapi.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Inside optical service create tapi\"/>\n\n\n\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 416,
        "y": 39,
        "z": "4efb9c4a.945e04",
        "wires": [
            []
        ]
    },
    {
        "id": "28460541.766c1a",
        "type": "get-resource",
        "name": "get-resource",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\nkey='SELECT *\nfrom TOPOLOGY_LOGICAL_RELATION_TO_PINTERFACE\nWHERE interface_name = $optical-service-create-input.payload.service-aend.port-id'\npfx='db-aend'>",
        "comments": "",
        "outputs": 1,
        "x": 614.9999389648438,
        "y": 90.99998474121094,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "40e83861.7ed4d8"
            ]
        ]
    },
    {
        "id": "58f1dbe7.901a34",
        "type": "get-resource",
        "name": "get-resource",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\nkey='SELECT *\nfrom TOPOLOGY_LOGICAL_RELATION_TO_PINTERFACE\nWHERE interface_name = $optical-service-create-input.payload.service-zend.port-id'\npfx='db-zend'>",
        "comments": "",
        "outputs": 1,
        "x": 635.9999389648438,
        "y": 155.99996948242188,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "428896b5.e069b8"
            ]
        ]
    },
    {
        "id": "40e83861.7ed4d8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 774.9999389648438,
        "y": 92.99998474121094,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "eccba7dd.6944a8"
            ]
        ]
    },
    {
        "id": "428896b5.e069b8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 784.9999389648438,
        "y": 153.99996948242188,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "37897f34.5ca9"
            ]
        ]
    },
    {
        "id": "eccba7dd.6944a8",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='aend-node-uuid' value='`$db-aend.pnf-name`' />\n<parameter name='aend-pnf-name' value='`$db-aend.pnf-id`' />\n<parameter name='aend-cep-list' value='`$db-aend.connection-point`' />\n<parameter name='aend-nep' value='`$db-aend.interface-name`' />\n<parameter name='aend-rate' value='`$db-aend.rate`' />\n",
        "comments": "",
        "x": 940.9999389648438,
        "y": 93.99996948242188,
        "z": "4efb9c4a.945e04",
        "wires": []
    },
    {
        "id": "37897f34.5ca9",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='zend-node-uuid' value='`$db-zend.pnf-name`' />\n<parameter name='zend-pnf-name' value='`$db-zend.pnf-id`' />\n<parameter name='zend-cep-list' value='`$db-zend.connection-point`' />\n<parameter name='zend-nep' value='`$db-zend.interface-name`' />\n<parameter name='zend-rate' value='`$db-zend.rate`' />\n",
        "comments": "",
        "x": 934,
        "y": 153,
        "z": "4efb9c4a.945e04",
        "wires": []
    },
    {
        "id": "72b2db54.6e2944",
        "type": "execute",
        "name": "execute: read properties",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n<parameter name='fileName' value='/opt/onap/sdnc/data/properties/optical-service-dg.properties' />\n<parameter name='contextPrefix' value='prop' />\n",
        "comments": "",
        "outputs": 1,
        "x": 604,
        "y": 45,
        "z": "4efb9c4a.945e04",
        "wires": [
            []
        ]
    },
    {
        "id": "b90929e.4a985d8",
        "type": "get-resource",
        "name": "find if aend is uni or nni or enni",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\nresource=\"p-interface\"\n key=\"pnf.pnf-name = $aend-node-uuid AND\n     p-interface.interface-name = $aend-nep\"\npfx='aend'      local-only='false'>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 700,
        "y": 237,
        "z": "4efb9c4a.945e04",
        "wires": [
            []
        ]
    },
    {
        "id": "65a74a39.a4d774",
        "type": "switchNode",
        "name": "switch",
        "xml": "<switch test='`$aend.network-interface-type`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 615,
        "y": 333,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "4a9b044a.0f3ccc",
                "ea6d56a1.b032a8"
            ]
        ]
    },
    {
        "id": "4a9b044a.0f3ccc",
        "type": "outcome",
        "name": "UNI",
        "xml": "<outcome value='UNI'>\n",
        "comments": "",
        "outputs": 1,
        "x": 740,
        "y": 282,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "c9780ca0.f5f71"
            ]
        ]
    },
    {
        "id": "4b0b12c9.238b4c",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='aend-cep' value='`$aend-cep-list`' />\n<parameter name='aend-new' value='' />\n<parameter name='aend-new-rate' value='0' />\n",
        "comments": "",
        "x": 1115,
        "y": 131,
        "z": "4efb9c4a.945e04",
        "wires": []
    },
    {
        "id": "8b8d35a4.ce05f8",
        "type": "execute",
        "name": "execute",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$aend-cep-list`'/>\n<parameter name=\"regex\" value=\",\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix\"/> ",
        "comments": "",
        "outputs": 1,
        "x": 1102,
        "y": 373,
        "z": "4efb9c4a.945e04",
        "wires": [
            []
        ]
    },
    {
        "id": "c9780ca0.f5f71",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 878,
        "y": 281,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "4b0b12c9.238b4c",
                "72c16e75.1a562",
                "bd108f1e.ab488"
            ]
        ]
    },
    {
        "id": "2ea274d9.8036ac",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 898,
        "y": 396,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "8b8d35a4.ce05f8",
                "e25b0e67.09bb4",
                "a1b81fea.edbde",
                "514a609b.d74c"
            ]
        ]
    },
    {
        "id": "3109f9ae.76da66",
        "type": "execute",
        "name": "execute",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"` $controller-ip + $prop.tapi.cep.details.url + $param-prefix[$idx]`\" />\n<parameter name=\"restapiUser\" value=\"admin\"/>  \n<parameter name=\"restapiPassword\" value=\"admin\"/>  \n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"aend-cep-response\"/>\n<parameter name='contentType' value='application/json' />\n<parameter name='format' value='json' />\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.tapi.jks\"/>  \n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>  \n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>  \n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/> ",
        "comments": "",
        "outputs": 1,
        "x": 1229.1111221313477,
        "y": 457.22221660614014,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "11b6c81d.28de98",
                "599fbaf2.e79674"
            ]
        ]
    },
    {
        "id": "11b6c81d.28de98",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1346.77779006958,
        "y": 411.0000057220459,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "d3f94b37.cc4268"
            ]
        ]
    },
    {
        "id": "599fbaf2.e79674",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1356.2221794128418,
        "y": 480.7777805328369,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "14aab0b3.9d34ff"
            ]
        ]
    },
    {
        "id": "d3f94b37.cc4268",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/service-create-tapi.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Failed to get Aend cep details\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1504,
        "y": 411,
        "z": "4efb9c4a.945e04",
        "wires": [
            []
        ]
    },
    {
        "id": "7102ebf7.57bb74",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/service-create-tapi.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Sucessfully retrieved aend cep\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1643,
        "y": 433,
        "z": "4efb9c4a.945e04",
        "wires": [
            []
        ]
    },
    {
        "id": "e25b0e67.09bb4",
        "type": "for",
        "name": "for",
        "xml": "<for index='idx' start='0' end='`$param-prefix_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1090,
        "y": 422,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "46da2f38.8c645"
            ]
        ]
    },
    {
        "id": "14aab0b3.9d34ff",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1494,
        "y": 483,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "7102ebf7.57bb74",
                "4004dd00.d10474"
            ]
        ]
    },
    {
        "id": "d11a7c1c.7e732",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 2100.5552864074707,
        "y": 532.1110572814941,
        "z": "4efb9c4a.945e04",
        "wires": []
    },
    {
        "id": "a50c2dd5.e9535",
        "type": "set",
        "name": "set aend-local-id",
        "xml": "<set>\n<parameter name='aend-local-id' value=\"`$aend-local-id + '/OTN/' + $aend-pnf-name + '/' + $aend-cep-response.sip[0].name[2].value + ':' + $aend-cep-response.sip[0].name[1].value`\" />\n<parameter name='aend-cep' value='`$param-prefix[$idx]`'/>\n\n\n",
        "comments": "",
        "x": 2128.3332290649414,
        "y": 461.1111087799072,
        "z": "4efb9c4a.945e04",
        "wires": []
    },
    {
        "id": "7c05f290.3530ac",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1922,
        "y": 498,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "a50c2dd5.e9535",
                "d11a7c1c.7e732"
            ]
        ]
    },
    {
        "id": "46da2f38.8c645",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1099,
        "y": 483,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "3109f9ae.76da66"
            ]
        ]
    },
    {
        "id": "a1b81fea.edbde",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='aend-new' value='' />\n<parameter name='aend-local-id' value='' />\n\n",
        "comments": "",
        "x": 1066,
        "y": 326,
        "z": "4efb9c4a.945e04",
        "wires": []
    },
    {
        "id": "cc0f04eb.f41858",
        "type": "get-resource",
        "name": "find if zend is uni or nni or enni",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\nresource=\"p-interface\"\n key=\"pnf.pnf-name = $zend-node-uuid AND\n     p-interface.interface-name = $zend-nep\"\npfx='zend'      local-only='false'>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 719,
        "y": 779,
        "z": "4efb9c4a.945e04",
        "wires": [
            []
        ]
    },
    {
        "id": "c7ace3b2.11081",
        "type": "switchNode",
        "name": "switch",
        "xml": "<switch test='`$zend.network-interface-type`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 488,
        "y": 1128,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "c85fd988.301698",
                "9efb19c3.6da618"
            ]
        ]
    },
    {
        "id": "c85fd988.301698",
        "type": "outcome",
        "name": "UNI",
        "xml": "<outcome value='UNI'>\n",
        "comments": "",
        "outputs": 1,
        "x": 614,
        "y": 1048,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "b4f379c1.c24888"
            ]
        ]
    },
    {
        "id": "7c3f18e8.1c0b18",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='zend-cep' value='`$zend-cep-list`' />\n<parameter name='zend-new' value='' />\n<parameter name='zend-new-rate' value='0' />\n",
        "comments": "",
        "x": 1035,
        "y": 769,
        "z": "4efb9c4a.945e04",
        "wires": []
    },
    {
        "id": "3e6ef851.b14d38",
        "type": "execute",
        "name": "execute",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$zend-cep-list`'/>\n<parameter name=\"regex\" value=\",\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix1\"/> ",
        "comments": "",
        "outputs": 1,
        "x": 986,
        "y": 1188,
        "z": "4efb9c4a.945e04",
        "wires": [
            []
        ]
    },
    {
        "id": "b4f379c1.c24888",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 894,
        "y": 827,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "7c3f18e8.1c0b18",
                "f950d837.cb97f8",
                "ccff2354.5c8d6"
            ]
        ]
    },
    {
        "id": "2ae39741.d1c3c8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 776,
        "y": 1245,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "3e6ef851.b14d38",
                "f903e0d6.863cf",
                "9bced74d.d072a8",
                "943fe233.c96d1"
            ]
        ]
    },
    {
        "id": "f903e0d6.863cf",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='zend-new' value='' />\n<parameter name='zend-local-id' value='' />\n",
        "comments": "",
        "x": 987,
        "y": 1136,
        "z": "4efb9c4a.945e04",
        "wires": []
    },
    {
        "id": "ea6d56a1.b032a8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 752,
        "y": 398,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "2ea274d9.8036ac"
            ]
        ]
    },
    {
        "id": "9efb19c3.6da618",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 610,
        "y": 1243,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "2ae39741.d1c3c8"
            ]
        ]
    },
    {
        "id": "3ff768b5.f99338",
        "type": "execute",
        "name": "execute",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/optical-service-create-tapi.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$controller-ip + '/cxf/tapi/v2/connectivities/tapi-services'`\"/>\n<parameter name=\"restapiUser\" value=\"admin\"/>  \n<parameter name=\"restapiPassword\" value=\"admin\"/>  \n<parameter name=\"httpMethod\" value=\"POST\"/>\n<parameter name=\"responsePrefix\" value=\"tapi-service-response\"/>\n<parameter name='contentType' value='application/json' />\n<parameter name='format' value='json' />\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.tapi.jks\"/>  \n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>  \n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>  \n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/> ",
        "comments": "",
        "outputs": 1,
        "x": 227.00006103515625,
        "y": 1569,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "f2fbbd03.f2906",
                "bebd84e7.a3b248"
            ]
        ]
    },
    {
        "id": "f2fbbd03.f2906",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 368.00006103515625,
        "y": 1517,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "dcee484.0427eb8"
            ]
        ]
    },
    {
        "id": "bebd84e7.a3b248",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 382.00006103515625,
        "y": 1631,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "87a25e6a.1b2d"
            ]
        ]
    },
    {
        "id": "dcee484.0427eb8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 533.0000610351562,
        "y": 1516,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "58ea97a5.b3e618"
            ]
        ]
    },
    {
        "id": "87a25e6a.1b2d",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 558.0000610351562,
        "y": 1631,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "df77f71.8f24908",
                "e14a80e1.1f5b7",
                "9510207c.71682",
                "6da24e58.717bb",
                "71928460.ed14cc",
                "5a15ce33.45154"
            ]
        ]
    },
    {
        "id": "58ea97a5.b3e618",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value='Service creation failed' />\n<parameter name='ack-final-indicator' value=\"Y\" />",
        "comments": "",
        "x": 725.0000610351562,
        "y": 1517,
        "z": "4efb9c4a.945e04",
        "wires": []
    },
    {
        "id": "df77f71.8f24908",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name='error-code' value='200' />\n<parameter name='error-message' value='Service created successfully' />\n<parameter name='ack-final-indicator' value=\"Y\" />\n",
        "comments": "",
        "x": 734.5556030273438,
        "y": 1874.4443359375,
        "z": "4efb9c4a.945e04",
        "wires": []
    },
    {
        "id": "4a0bc718.a962f8",
        "type": "call",
        "name": "call",
        "xml": "<call module='optical-service' rpc='success-aai-update-tapi' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1271,
        "y": 2002,
        "z": "4efb9c4a.945e04",
        "wires": [
            []
        ]
    },
    {
        "id": "2995b56c.890f5a",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='service-name' value=\"`$optical-service-create-input.payload.service-name`\" />\n<parameter name='svc-action' value=\"CREATE\" />\n",
        "comments": "",
        "x": 327,
        "y": 1371,
        "z": "4efb9c4a.945e04",
        "wires": []
    },
    {
        "id": "bf3d0d8f.af5f6",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/service-create-tapi.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"A end local-id\"/>\n<parameter name=\"field2\" value=\"`$aend-local-id`\"/>\n<parameter name=\"field3\" value=\"Z end local-id\"/>\n<parameter name=\"field4\" value=\"`$zend-local-id`\"/>\n<parameter name=\"field5\" value=\"Service name\"/>\n<parameter name=\"field6\" value=\"`$service-name`\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 291,
        "y": 1454,
        "z": "4efb9c4a.945e04",
        "wires": [
            []
        ]
    },
    {
        "id": "8f662c6.88da9d",
        "type": "for",
        "name": "for",
        "xml": "<for index='idl' start='0' end='`$param-prefix1_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1258,
        "y": 1490,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "b907a417.722e98"
            ]
        ]
    },
    {
        "id": "ba640497.6998e8",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='zend-new' value=\"`$zend-new + $param-prefix1[$idl]`\" />\n",
        "comments": "",
        "x": 1710,
        "y": 1421,
        "z": "4efb9c4a.945e04",
        "wires": []
    },
    {
        "id": "b907a417.722e98",
        "type": "switchNode",
        "name": "switch",
        "xml": "<switch test='`$idl`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1393,
        "y": 1491,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "91e17725.73caf8",
                "c2c37dd4.88b1e",
                "84a33271.66a7e"
            ]
        ]
    },
    {
        "id": "91e17725.73caf8",
        "type": "outcome",
        "name": "outcome",
        "xml": "<outcome value='`$param-prefix1_length - 1`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1573,
        "y": 1423,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "ba640497.6998e8"
            ]
        ]
    },
    {
        "id": "c2c37dd4.88b1e",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1580,
        "y": 1498,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "7e15b45a.f1185c"
            ]
        ]
    },
    {
        "id": "7e15b45a.f1185c",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='zend-new' value=\"`$zend-new + $param-prefix1[$idl] + ','`\" />\n",
        "comments": "",
        "x": 1736,
        "y": 1500,
        "z": "4efb9c4a.945e04",
        "wires": []
    },
    {
        "id": "84a33271.66a7e",
        "type": "outcome",
        "name": "outcome",
        "xml": "<outcome value='`$idk`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1564,
        "y": 1558,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "2fb07baa.dd5174"
            ]
        ]
    },
    {
        "id": "2fb07baa.dd5174",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='zend-new' value='`$zend-new`' />\n",
        "comments": "",
        "x": 1741,
        "y": 1556,
        "z": "4efb9c4a.945e04",
        "wires": []
    },
    {
        "id": "9510207c.71682",
        "type": "save",
        "name": "update pinterface cep DB Zend",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' \nresource='SQL' \nkey='UPDATE TOPOLOGY_LOGICAL_RELATION_TO_PINTERFACE SET connection_point = $zend-new WHERE interface_name = $zend-nep'\nforce='true' pfx='save-result'>",
        "comments": "",
        "outputs": 1,
        "x": 857.2222900390625,
        "y": 1697.666748046875,
        "z": "4efb9c4a.945e04",
        "wires": [
            []
        ]
    },
    {
        "id": "e14a80e1.1f5b7",
        "type": "save",
        "name": "update pinterface cep DB Aend",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' \nresource='SQL' \nkey='UPDATE TOPOLOGY_LOGICAL_RELATION_TO_PINTERFACE SET connection_point = $aend-new WHERE interface_name = $aend-nep'\nforce='true' pfx='save-result'>",
        "comments": "",
        "outputs": 1,
        "x": 875,
        "y": 1631,
        "z": "4efb9c4a.945e04",
        "wires": [
            []
        ]
    },
    {
        "id": "72c16e75.1a562",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/service-create-tapi.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Aend uni\"/>\n\n\n\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1118,
        "y": 195,
        "z": "4efb9c4a.945e04",
        "wires": [
            []
        ]
    },
    {
        "id": "f950d837.cb97f8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/service-create-tapi.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Zend uni\"/>\n\n\n\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1054,
        "y": 816,
        "z": "4efb9c4a.945e04",
        "wires": [
            []
        ]
    },
    {
        "id": "6da24e58.717bb",
        "type": "save",
        "name": "save service db",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource\" resource=\"SQL\" key=\"INSERT INTO REQUEST_DETAILS (request_id, controller_id, status, service_rate, service_instance_id, service_type, global_customer_id, notification_url) VALUES ( $optical-service-create-input.request-id , $controller-id , 'CREATED' , $optical-service-create-input.payload.service-rate ,  $optical-service-create-input.service-id , $optical-service-create-input.service-type , $optical-service-create-input.global-customer-id , null );\"> ",
        "comments": "",
        "outputs": 1,
        "x": 877,
        "y": 1573,
        "z": "4efb9c4a.945e04",
        "wires": [
            []
        ]
    },
    {
        "id": "c27a69f2.0ddb38",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1793,
        "y": 466,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "7c05f290.3530ac"
            ]
        ]
    },
    {
        "id": "7b435c8d.3fd214",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1822.222116470337,
        "y": 593.3333568572998,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "d092daa9.9a37d8"
            ]
        ]
    },
    {
        "id": "d092daa9.9a37d8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value='No service interface points could be found for A end ' />\n<parameter name='ack-final-indicator' value=\"Y\" />",
        "comments": "",
        "x": 1966.6666259765625,
        "y": 593.3333129882812,
        "z": "4efb9c4a.945e04",
        "wires": []
    },
    {
        "id": "71928460.ed14cc",
        "type": "save",
        "name": "save service aai",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='service-instance:relationship-list'  \n     key='customer.global-customer-id = $optical-service-create-input.global-customer-id AND\n     service-subscription.service-type = $optical-service-create-input.service-type AND\n     service-instance.service-instance-id = $optical-service-create-input.service-id' force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"p-interface\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/pnfs/pnf/' + $aend-node-uuid + '/p-interfaces/p-interface/' + $optical-service-create-input.payload.service-aend.port-id `\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"pnf.pnf-name\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$aend-node-uuid`\" /> \n<parameter name=\"relationship-list.relationship[1].related-to\" value=\"p-interface\" />\n<parameter name=\"relationship-list.relationship[1].related-link\" value=\"`'/network/pnfs/pnf/' + $zend-node-uuid + '/p-interfaces/p-interface/' + $optical-service-create-input.payload.service-zend.port-id `\" />\n<parameter name=\"relationship-list.relationship[1].relationship-data[0].relationship-key\" value=\"pnf.pnf-name\" />\n<parameter name=\"relationship-list.relationship[1].relationship-data[0].relationship-value\" value=\"`$zend-node-uuid`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 765.9999389648438,
        "y": 1818.111083984375,
        "z": "4efb9c4a.945e04",
        "wires": [
            []
        ]
    },
    {
        "id": "5a15ce33.45154",
        "type": "save",
        "name": "save",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='service-instance'  \n     key='customer.global-customer-id = $optical-service-create-input.global-customer-id AND\n     service-subscription.service-type = $optical-service-create-input.service-type AND\n     service-instance.service-instance-id = $optical-service-create-input.service-id' >\n<parameter name='service-instance-id' value='`$optical-service-create-input.service-id`' />\n<parameter name='service-instance-name' value='`$optical-service-create-input.payload.service-name`' />\n<parameter name='service-type' value='Domain-Service' />\n<parameter name='orchestration-status' value='CREATED' />\n<parameter name='service-rate' value='`$optical-service-create-input.payload.service-rate`' />\n<parameter name='service-layer' value='ODU' />\n",
        "comments": "",
        "outputs": 1,
        "x": 758.9999389648438,
        "y": 1758,
        "z": "4efb9c4a.945e04",
        "wires": [
            []
        ]
    },
    {
        "id": "bd108f1e.ab488",
        "type": "execute",
        "name": "execute",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"` $controller-ip + $prop.tapi.cep.details.url + $aend-cep`\" />\n<parameter name=\"restapiUser\" value=\"admin\"/>  \n<parameter name=\"restapiPassword\" value=\"admin\"/>  \n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"aend-cep-response\"/>\n<parameter name='contentType' value='application/json' />\n<parameter name='format' value='json' />\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.tapi.jks\"/>  \n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>  \n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>  \n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/> ",
        "comments": "",
        "outputs": 1,
        "x": 1116,
        "y": 256,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "6b2a855d.23024c",
                "f3b11a4b.2344f8"
            ]
        ]
    },
    {
        "id": "6b2a855d.23024c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1274,
        "y": 216,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "eef404ec.f0bb08"
            ]
        ]
    },
    {
        "id": "f3b11a4b.2344f8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1283.4443893432617,
        "y": 285.777774810791,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "d15a3398.6ced1"
            ]
        ]
    },
    {
        "id": "eef404ec.f0bb08",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/service-create-tapi.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Failed to get Aend cep details\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1431.22220993042,
        "y": 215.9999942779541,
        "z": "4efb9c4a.945e04",
        "wires": [
            []
        ]
    },
    {
        "id": "d15a3398.6ced1",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1449.22216796875,
        "y": 284,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "afd9ff21.3fd56"
            ]
        ]
    },
    {
        "id": "afd9ff21.3fd56",
        "type": "set",
        "name": "set aend-local-id",
        "xml": "<set>\n<parameter name='aend-local-id' value=\"`'/OTN/' + $aend-pnf-name + '/' + $aend-cep-response.sip[0].name[2].value + ':' + $aend-cep-response.sip[0].name[1].value`\" />\n\n\n",
        "comments": "",
        "x": 1643,
        "y": 284,
        "z": "4efb9c4a.945e04",
        "wires": []
    },
    {
        "id": "b74dbdb.822994",
        "type": "execute",
        "name": "execute",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"` $controller-ip + $prop.tapi.cep.details.url + $param-prefix1[$idk]`\" />\n<parameter name=\"restapiUser\" value=\"admin\"/>  \n<parameter name=\"restapiPassword\" value=\"admin\"/>  \n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"zend-cep-response\"/>\n<parameter name='contentType' value='application/json' />\n<parameter name='format' value='json' />\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.tapi.jks\"/>  \n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>  \n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>  \n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/> ",
        "comments": "",
        "outputs": 1,
        "x": 1341,
        "y": 1242,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "e8c33d42.33806",
                "d05bc068.08527"
            ]
        ]
    },
    {
        "id": "e8c33d42.33806",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1462,
        "y": 1203,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "431138f7.d0a218"
            ]
        ]
    },
    {
        "id": "d05bc068.08527",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1480,
        "y": 1297,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "f244762f.d3c018"
            ]
        ]
    },
    {
        "id": "431138f7.d0a218",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/service-create-tapi.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Failed to get zend cep details\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1610,
        "y": 1200,
        "z": "4efb9c4a.945e04",
        "wires": [
            []
        ]
    },
    {
        "id": "7e69d1da.c8582",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/service-create-tapi.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Sucessfully retrieved zend cep\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1779,
        "y": 1250,
        "z": "4efb9c4a.945e04",
        "wires": [
            []
        ]
    },
    {
        "id": "9bced74d.d072a8",
        "type": "for",
        "name": "for",
        "xml": "<for index='idk' start='0' end='`$param-prefix1_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 987,
        "y": 1243,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "1b2a920e.3e410e"
            ]
        ]
    },
    {
        "id": "f244762f.d3c018",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1635,
        "y": 1300,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "7e69d1da.c8582",
                "efc25f0c.a1d2c"
            ]
        ]
    },
    {
        "id": "efc25f0c.a1d2c",
        "type": "switchNode",
        "name": "switch",
        "xml": "<switch test='`$zend-cep-response.sip[0].name[2].value == $optical-service-create-input.payload.service-rate`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1789,
        "y": 1314,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "c32606e1.58b168",
                "4ea93db7.c01e74"
            ]
        ]
    },
    {
        "id": "1b2a920e.3e410e",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1139,
        "y": 1245,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "b74dbdb.822994"
            ]
        ]
    },
    {
        "id": "a62b46a5.e1b858",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 2177,
        "y": 1325,
        "z": "4efb9c4a.945e04",
        "wires": []
    },
    {
        "id": "e5a3a6b1.5eb5b8",
        "type": "set",
        "name": "set zend-local-id",
        "xml": "<set>\n<parameter name='zend-local-id' value=\"`$zend-local-id + '/OTN/' + $zend-pnf-name + '/' + $zend-cep-response.sip[0].name[2].value + ':' + $zend-cep-response.sip[0].name[1].value`\" />\n<parameter name='zend-cep' value='`$param-prefix1[$idk]`'/>\n\n\n\n",
        "comments": "",
        "x": 2210,
        "y": 1215,
        "z": "4efb9c4a.945e04",
        "wires": []
    },
    {
        "id": "5608122b.ab9f6c",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2059,
        "y": 1271,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "e5a3a6b1.5eb5b8",
                "a62b46a5.e1b858"
            ]
        ]
    },
    {
        "id": "c32606e1.58b168",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1927.9998779296875,
        "y": 1275.6666259765625,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "5608122b.ab9f6c"
            ]
        ]
    },
    {
        "id": "4ea93db7.c01e74",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1927.8887939453125,
        "y": 1380.1109619140625,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "e720f2d5.77fdb"
            ]
        ]
    },
    {
        "id": "e720f2d5.77fdb",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value='No service interface points could be found for Z end ' />\n<parameter name='ack-final-indicator' value=\"Y\" />",
        "comments": "",
        "x": 2107.22216796875,
        "y": 1383.111083984375,
        "z": "4efb9c4a.945e04",
        "wires": []
    },
    {
        "id": "943fe233.c96d1",
        "type": "switchNode",
        "name": "switch",
        "xml": "<switch test='`$param-prefix1_length == 1`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 941,
        "y": 1395,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "7c8d1f90.d20f8",
                "59bf8efe.e5d3"
            ]
        ]
    },
    {
        "id": "7c8d1f90.d20f8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1081,
        "y": 1349,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "5a2d4b65.e557b4"
            ]
        ]
    },
    {
        "id": "5a2d4b65.e557b4",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='zend-new' value=\"`$zend-new`\" />\n",
        "comments": "",
        "x": 1216,
        "y": 1349,
        "z": "4efb9c4a.945e04",
        "wires": []
    },
    {
        "id": "59bf8efe.e5d3",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1083,
        "y": 1489,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "8f662c6.88da9d"
            ]
        ]
    },
    {
        "id": "4004dd00.d10474",
        "type": "switchNode",
        "name": "switch",
        "xml": "<switch test='`$aend-cep-response.sip[0].name[2].value == $optical-service-create-input.payload.service-rate`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1652,
        "y": 501,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "c27a69f2.0ddb38",
                "7b435c8d.3fd214"
            ]
        ]
    },
    {
        "id": "514a609b.d74c",
        "type": "switchNode",
        "name": "switch",
        "xml": "<switch test='`$param-prefix_length == 1`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1071,
        "y": 550,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "191fbb7.2a4b845",
                "1cd1ef71.14acd1"
            ]
        ]
    },
    {
        "id": "191fbb7.2a4b845",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1225,
        "y": 551,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "a558f9eb.613c58"
            ]
        ]
    },
    {
        "id": "a558f9eb.613c58",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='zend-new' value=\"`$zend-new`\" />\n",
        "comments": "",
        "x": 1387,
        "y": 551,
        "z": "4efb9c4a.945e04",
        "wires": []
    },
    {
        "id": "1cd1ef71.14acd1",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1229,
        "y": 602,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "93a39454.c21878"
            ]
        ]
    },
    {
        "id": "93a39454.c21878",
        "type": "for",
        "name": "for",
        "xml": "<for index='idy' start='0' end='`$param-prefix_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1353,
        "y": 626,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "6e31bfde.e9a2b"
            ]
        ]
    },
    {
        "id": "12b9813c.84c17f",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='aend-new' value=\"`$aend-new + $param-prefix[$idy]`\" />\n",
        "comments": "",
        "x": 1803,
        "y": 642,
        "z": "4efb9c4a.945e04",
        "wires": []
    },
    {
        "id": "6e31bfde.e9a2b",
        "type": "switchNode",
        "name": "switch",
        "xml": "<switch test='`$idy`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1518,
        "y": 691,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "48d2ce69.6ccad",
                "735daaac.0a3344",
                "2e826606.462a6a"
            ]
        ]
    },
    {
        "id": "48d2ce69.6ccad",
        "type": "outcome",
        "name": "outcome",
        "xml": "<outcome value='`$param-prefix_length - 1`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1660,
        "y": 642,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "12b9813c.84c17f"
            ]
        ]
    },
    {
        "id": "735daaac.0a3344",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1690,
        "y": 716,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "5f658cca.768614"
            ]
        ]
    },
    {
        "id": "5f658cca.768614",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='aend-new' value=\"`$aend-new + $param-prefix[$idy] + ','`\" />\n",
        "comments": "",
        "x": 1807,
        "y": 726,
        "z": "4efb9c4a.945e04",
        "wires": []
    },
    {
        "id": "2e826606.462a6a",
        "type": "outcome",
        "name": "outcome",
        "xml": "<outcome value='`$idx`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1669,
        "y": 797,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "4869b073.d45ad"
            ]
        ]
    },
    {
        "id": "4869b073.d45ad",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='aend-new' value='`$aend-new`' />\n",
        "comments": "",
        "x": 1807,
        "y": 793,
        "z": "4efb9c4a.945e04",
        "wires": []
    },
    {
        "id": "ccff2354.5c8d6",
        "type": "execute",
        "name": "execute",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"` $controller-ip + $prop.tapi.cep.details.url + $zend-cep`\" />\n<parameter name=\"restapiUser\" value=\"admin\"/>  \n<parameter name=\"restapiPassword\" value=\"admin\"/>  \n<parameter name=\"httpMethod\" value=\"GET\"/>\n<parameter name=\"responsePrefix\" value=\"zend-cep-response\"/>\n<parameter name='contentType' value='application/json' />\n<parameter name='format' value='json' />\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.tapi.jks\"/>  \n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>  \n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>  \n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/> ",
        "comments": "",
        "outputs": 1,
        "x": 1036,
        "y": 902,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "f30e06ef.3ea158",
                "7c8fb487.808e3c"
            ]
        ]
    },
    {
        "id": "f30e06ef.3ea158",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1196,
        "y": 861,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "7aa077ea.c86438"
            ]
        ]
    },
    {
        "id": "7c8fb487.808e3c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1205.4443893432617,
        "y": 930.777774810791,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "a6409b41.3875a8"
            ]
        ]
    },
    {
        "id": "7aa077ea.c86438",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/service-create-tapi.log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"Failed to get Aend cep details\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1353.22220993042,
        "y": 860.9999942779541,
        "z": "4efb9c4a.945e04",
        "wires": [
            []
        ]
    },
    {
        "id": "a6409b41.3875a8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1371.22216796875,
        "y": 929,
        "z": "4efb9c4a.945e04",
        "wires": [
            [
                "c469b431.4e03c8"
            ]
        ]
    },
    {
        "id": "c469b431.4e03c8",
        "type": "set",
        "name": "set zend-local-id",
        "xml": "<set>\n<parameter name='zend-local-id' value=\"`'/OTN/' + $zend-pnf-name + '/' + $zend-cep-response.sip[0].name[2].value + ':' + $zend-cep-response.sip[0].name[1].value`\" />\n\n\n",
        "comments": "",
        "x": 1565,
        "y": 929,
        "z": "4efb9c4a.945e04",
        "wires": []
    }
]