[
    {
        "id": "64cd3a77.5ff4fc",
        "type": "method",
        "name": "config-scale-out",
        "xml": "<method rpc='config-scale-out' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 462.08331298828125,
        "y": 126,
        "z": "9b7d6405.14e86",
        "wires": [
            [
                "c9797dda.f8e91"
            ]
        ]
    },
    {
        "id": "6076a0b4.e26818",
        "type": "service-logic",
        "name": "LCM ${project.version}",
        "module": "LCM",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='LCM' version='${project.version}'>",
        "outputs": 1,
        "x": 254.083251953125,
        "y": 128,
        "z": "9b7d6405.14e86",
        "wires": [
            [
                "64cd3a77.5ff4fc"
            ]
        ]
    },
    {
        "id": "c1d0e2e8.8fc13",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 472.08331298828125,
        "y": 315.0000305175781,
        "z": "9b7d6405.14e86",
        "wires": [
            [
                "90dd6804.22b718"
            ]
        ]
    },
    {
        "id": "842ef86d.2b27e8",
        "type": "other",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 471.08331298828125,
        "y": 389,
        "z": "9b7d6405.14e86",
        "wires": [
            [
                "b524752e.e5271"
            ]
        ]
    },
    {
        "id": "56d941b5.e8a1c",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name='status.code' value='`$restconf.response-code`' />\n<parameter name='status.message' value='`$restconf.response-message`' />",
        "comments": "",
        "x": 771.0831909179688,
        "y": 445.0000305175781,
        "z": "9b7d6405.14e86",
        "wires": []
    },
    {
        "id": "f9b019e2.2db9e",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 103.08331298828125,
        "y": 76,
        "z": "9b7d6405.14e86",
        "wires": [
            [
                "6076a0b4.e26818"
            ]
        ]
    },
    {
        "id": "c9797dda.f8e91",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 55,
        "y": 264.0833435058594,
        "z": "9b7d6405.14e86",
        "wires": [
            [
                "5a2cc7f6.a73bb8",
                "7b10981f.7e3d9",
                "9361304a.65cc98",
                "13ce8862.500be8"
            ]
        ]
    },
    {
        "id": "5a2cc7f6.a73bb8",
        "type": "execute",
        "name": "execute Properties",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/lcm-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
        "comments": "",
        "outputs": 1,
        "x": 239.0833282470703,
        "y": 243.08334350585938,
        "z": "9b7d6405.14e86",
        "wires": [
            []
        ]
    },
    {
        "id": "fe57d8b3.23cf48",
        "type": "execute",
        "name": "execute DmaapMsg",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.lcm.dmaap.publish.templatefile`\" />\n    <parameter name='restapiUrl' value='`$prop.lcm.dmaap.url`' />\n    <parameter name='restapiUser' value='`$prop.lcm.dmaap.user`' />\n    <parameter name='restapiPassword' value='`$prop.lcm.dmaap.password`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='POST' />\n    <parameter name='contentType' value='application/json' />\n    <parameter name='responsePrefix' value='dmaap' />\n",
        "comments": "",
        "outputs": 1,
        "x": 801.0833740234375,
        "y": 251.08334350585938,
        "z": "9b7d6405.14e86",
        "wires": [
            [
                "39b04a2d.117a6e"
            ]
        ]
    },
    {
        "id": "39b04a2d.117a6e",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 983.0833129882812,
        "y": 250.08334350585938,
        "z": "9b7d6405.14e86",
        "wires": [
            [
                "17e0c2c7.e91dc5"
            ]
        ]
    },
    {
        "id": "90dd6804.22b718",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 610.0833129882812,
        "y": 316.0833435058594,
        "z": "9b7d6405.14e86",
        "wires": [
            [
                "fe57d8b3.23cf48",
                "fd4f5a18.ba11e",
                "afb2b5eb.2e313"
            ]
        ]
    },
    {
        "id": "4f0b30f1.7a364",
        "type": "execute",
        "name": "execute DmaapMsg",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.lcm.dmaap.publish.templatefile`\" />\n    <parameter name='restapiUrl' value='`$prop.lcm.dmaap.url`' />\n    <parameter name='restapiUser' value='`$prop.lcm.dmaap.user`' />\n    <parameter name='restapiPassword' value='`$prop.lcm.dmaap.password`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='POST' />\n    <parameter name='contentType' value='application/json' />\n    <parameter name='responsePrefix' value='dmaap' />\n",
        "comments": "",
        "outputs": 1,
        "x": 791.5831909179688,
        "y": 394.0833435058594,
        "z": "9b7d6405.14e86",
        "wires": [
            [
                "50f857ab.e69db"
            ]
        ]
    },
    {
        "id": "50f857ab.e69db",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 968.5831909179688,
        "y": 393.0833740234375,
        "z": "9b7d6405.14e86",
        "wires": [
            [
                "18ef6b85.0f0e3c"
            ]
        ]
    },
    {
        "id": "17e0c2c7.e91dc5",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\"> \n\t<parameter name=\"logger\" value=\"message-log\"/> \n\t<parameter name=\"field1\" value='Failed to Publish to DMaap'/>",
        "comments": "",
        "outputs": 1,
        "x": 1110.0833129882812,
        "y": 250.08334350585938,
        "z": "9b7d6405.14e86",
        "wires": [
            []
        ]
    },
    {
        "id": "fd4f5a18.ba11e",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='status.code' value= '`$lcm-dmaap.status.code`'/>\n<parameter name='status.message' value='`$lcm-dmaap.status.message`' />\n",
        "comments": "",
        "x": 782,
        "y": 301.0833435058594,
        "z": "9b7d6405.14e86",
        "wires": []
    },
    {
        "id": "18ef6b85.0f0e3c",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\"> \n\t<parameter name=\"logger\" value=\"message-log\"/> \n\t<parameter name=\"field1\" value='Failed to Publish to DMaap'/>",
        "comments": "",
        "outputs": 1,
        "x": 1100.9999389648438,
        "y": 391.0833740234375,
        "z": "9b7d6405.14e86",
        "wires": [
            []
        ]
    },
    {
        "id": "afb2b5eb.2e313",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='lcm-dmaap.version' value='`$prop.lcm.dmaap.version`'/>\n<parameter name='lcm-dmaap.correlation-id' value=\"`$config-scale-out-input.common-header.request-id + '-' + $config-scale-out-input.common-header.sub-request-id`\"/>\n<parameter name='lcm-dmaap.partition' value='`$prop.lcm.dmaap.partition`'/>\n<parameter name='lcm-dmaap.rpc-name' value='config-scale-out'/>\n<parameter name='lcm-dmaap.type' value='`$prop.lcm.dmaap.type`'/>\n<parameter name='lcm-dmaap.timestamp' value='`$config-scale-out-input.common-header.timestamp`'/>\n<parameter name='lcm-dmaap.api-ver' value='`$config-scale-out-input.common-header.api-ver`'/>\n<parameter name='lcm-dmaap.originator-id' value='`$config-scale-out-input.common-header.originator-id`'/>\n<parameter name='lcm-dmaap.request-id' value='`$config-scale-out-input.common-header.request-id`'/>\n<parameter name='lcm-dmaap.sub-request-id' value='`$config-scaleout-input.common-header.sub-request-id`'/>\n<parameter name='lcm-dmaap.flags.mode' value='`$config-scale-out-input.common-header.flags.mode`'/>\n<parameter name='lcm-dmaap.flags.force' value='`$config-scale-out-input.common-header.flags.force`'/>\n<parameter name='lcm-dmaap.flags.ttl' value='`$config-scale-out-input.common-header.flags.ttl`'/>\n<parameter name='lcm-dmaap.status.code' value='201' />\n<parameter name='restconf.response-code' value='201' />\n<parameter name='lcm-dmaap.status.message' value=\"`'DG-Failure '  + $restconf.response-message + ' RestConf ResponseCode=' + $restconf.response-code`\"/>\n",
        "comments": "",
        "x": 769.0833740234375,
        "y": 195.08334350585938,
        "z": "9b7d6405.14e86",
        "wires": []
    },
    {
        "id": "b524752e.e5271",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 621.0831909179688,
        "y": 393.08331298828125,
        "z": "9b7d6405.14e86",
        "wires": [
            [
                "4f0b30f1.7a364",
                "d3bca4e4.ce0d58",
                "56d941b5.e8a1c"
            ]
        ]
    },
    {
        "id": "d3bca4e4.ce0d58",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='lcm-dmaap.version' value='`$prop.lcm.dmaap.version`'/>\n<parameter name='lcm-dmaap.correlation-id' value=\"`$config-scale-out-input.common-header.request-id + '-' + $upgrade-software-input.common-header.sub-request-id`\"/>\n<parameter name='lcm-dmaap.partition' value='`$prop.lcm.dmaap.partition`'/>\n<parameter name='lcm-dmaap.rpc-name' value='config-scale-out'/>\n<parameter name='lcm-dmaap.type' value='`$prop.lcm.dmaap.type`'/>\n<parameter name='lcm-dmaap.timestamp' value='`$config-scale-out-input.common-header.timestamp`'/>\n<parameter name='lcm-dmaap.api-ver' value='`$config-scaleout-input.common-header.api-ver`'/>\n<parameter name='lcm-dmaap.originator-id' value='`$config-scale-out-input.common-header.originator-id`'/>\n<parameter name='lcm-dmaap.request-id' value='`$config-scale-out-input.common-header.request-id`'/>\n<parameter name='lcm-dmaap.sub-request-id' value='`$config-scale-out-input.common-header.sub-request-id`'/>\n<parameter name='lcm-dmaap.flags.mode' value='`$config-scale-out-input.common-header.flags.mode`'/>\n<parameter name='lcm-dmaap.flags.force' value='`$config-scale-out-input.common-header.flags.force`'/>\n<parameter name='lcm-dmaap.flags.ttl' value='`$config-scale-out-input.common-header.flags.ttl`'/>\n<parameter name='lcm-dmaap.status.code' value='100' />\n<parameter name='restconf.response-code' value='100' />\n<parameter name='lcm-dmaap.status.message' value='`$restconf.response-message`'/>\n\n",
        "comments": "",
        "x": 751.2499389648438,
        "y": 346.0833435058594,
        "z": "9b7d6405.14e86",
        "wires": []
    },
    {
        "id": "7b10981f.7e3d9",
        "type": "set",
        "name": "set default status value",
        "xml": "<set>\n<parameter name='status.code' value='200' />\n<parameter name='status.message' value='unexpected return from LCM DG' />",
        "comments": "",
        "x": 247.08331298828125,
        "y": 289,
        "z": "9b7d6405.14e86",
        "wires": []
    },
    {
        "id": "13ce8862.500be8",
        "type": "execute",
        "name": "execute RestConfAPI",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.lcm.restconf.configscaleout.templatefile`\" />\n    <parameter name='restapiUrl' value=\"`'http://' + $payloadJson.request-parameters.host-ip-address + ':' + $prop.lcm.restconf.port + $prop.lcm.restconf.configscaleout.urlpath  + $payloadJson.configuration-parameters.ip-addr`\" />\n    <parameter name='restapiUser' value='`$prop.lcm.restconf.configscaleout.user`' />\n    <parameter name='restapiPassword' value='`$prop.lcm.restconf.configscaleout.password`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name='contentType' value='application/json' />\n    <parameter name=\"responsePrefix\" value=\"restconf\" />",
        "comments": "",
        "outputs": 1,
        "x": 239.08331298828125,
        "y": 398,
        "z": "9b7d6405.14e86",
        "wires": [
            [
                "c1d0e2e8.8fc13",
                "842ef86d.2b27e8"
            ]
        ]
    },
    {
        "id": "9361304a.65cc98",
        "type": "execute",
        "name": "execute jsonStringToCtx",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='jsonStringToCtx'>\n\t<parameter name='source' value='config-scale-out-input.payload' />\n\t<parameter name='outputPath' value='payloadJson' />\n\t<parameter name='isEscaped' value='true' />",
        "comments": "",
        "outputs": 1,
        "x": 247.08331298828125,
        "y": 336,
        "z": "9b7d6405.14e86",
        "wires": [
            [
                "9fca940d.88928"
            ]
        ]
    },
    {
        "id": "6dd37665.eb9c48",
        "type": "record",
        "name": "record",
        "xml": "<record plugin='org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder'> \n\t<parameter name='logger' value='message-log'/> \n\t<parameter name='field1' value='`$payloadJson.request-parameters.host-ip-address`'/>\n\t<parameter name='field2' value='`$payloadJson.configuration-parameters.ip-addr`'/>",
        "comments": "",
        "outputs": 1,
        "x": 615.0833129882812,
        "y": 246,
        "z": "9b7d6405.14e86",
        "wires": [
            []
        ]
    },
    {
        "id": "9fca940d.88928",
        "type": "other",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 473.08331298828125,
        "y": 245,
        "z": "9b7d6405.14e86",
        "wires": [
            [
                "6dd37665.eb9c48"
            ]
        ]
    }
]