[
    {
        "id": "4c3f9752.77dec",
        "type": "method",
        "name": "upgrade-software",
        "xml": "<method rpc='upgrade-software' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 489,
        "y": 152,
        "z": "e0b620f9.dad4e8",
        "wires": [
            [
                "83650b67.6cd8c"
            ]
        ]
    },
    {
        "id": "d837d6cb.338428",
        "type": "service-logic",
        "name": "LCM ${project.version}",
        "module": "LCM",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='LCM' version='${project.version}'>",
        "outputs": 1,
        "x": 276.99993896484375,
        "y": 153,
        "z": "e0b620f9.dad4e8",
        "wires": [
            [
                "4c3f9752.77dec"
            ]
        ]
    },
    {
        "id": "3421e2b7.29c266",
        "type": "execute",
        "name": "execute AnsibleA.reqExec",
        "xml": "<execute plugin='org.onap.ccsdk.sli.adaptors.ansible.AnsibleAdapter' method='reqExec' >\n<parameter name='AgentUrl' value='`$prop.ansible.agenturl`'/>\n<parameter name='User' value='`$prop.ansible.user`'/>\n<parameter name='Password' value='`prop.ansible.password`'/>\n<parameter name='LocalParameters' value='`$prop.ansible.lcm.localparameters`'/>\n<parameter name='EnvParameters' value='`$upgrade-software-input.payload`'/>\n<parameter name='NodeList' value='`$prop.ansible.nodelist`'/>\n<parameter name='Timeout' value='`$prop.ansible.timeout`'/>\n<parameter name='Version' value='`$prop.ansible.version`'/>\n<parameter name='Id' value='`$upgrade-software-input.common-header.request-id`'/>\n<parameter name='PlaybookName' value='`$prop.lcm.upgrade-software.playbookname`'/>",
        "comments": "",
        "outputs": 1,
        "x": 277.00001525878906,
        "y": 370,
        "z": "e0b620f9.dad4e8",
        "wires": [
            [
                "199ed9da.f92c0e",
                "c8dd71a.7a9241",
                "50f87fc.8f6068"
            ]
        ]
    },
    {
        "id": "32b073b0.4096bc",
        "type": "switchNode",
        "name": "switch",
        "xml": "<switch test=\"`$org.onap.appc.adapter.ansible.result.code`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 578,
        "y": 418,
        "z": "e0b620f9.dad4e8",
        "wires": [
            [
                "df999599.1b565",
                "96b44eb0.622268",
                "a80c397d.561b48"
            ]
        ]
    },
    {
        "id": "df999599.1b565",
        "type": "other",
        "name": "outcome 500",
        "xml": "<outcome value='500'>\n",
        "comments": "",
        "outputs": 1,
        "x": 723,
        "y": 416.00000762939453,
        "z": "e0b620f9.dad4e8",
        "wires": [
            [
                "f25faee.c20865"
            ]
        ]
    },
    {
        "id": "96b44eb0.622268",
        "type": "other",
        "name": "outcome 100",
        "xml": "<outcome value='100'>\n",
        "comments": "",
        "outputs": 1,
        "x": 726,
        "y": 459.00003814697266,
        "z": "e0b620f9.dad4e8",
        "wires": [
            [
                "fcf5e1f3.334ad"
            ]
        ]
    },
    {
        "id": "fcf5e1f3.334ad",
        "type": "execute",
        "name": "execute reqExecResult",
        "xml": "<execute plugin='org.onap.ccsdk.sli.adaptors.ansible.AnsibleAdapter' method='reqExecResult' >\n    <parameter name='AgentUrl' value='`$prop.ansible.agenturl`'/>\n\t<parameter name='User' value='`$prop.ansible.user`'/>\n\t<parameter name='Password' value='`$prop.ansible.password`'/>\n\t<parameter name='Id' value='`$org.onap.appc.adapter.ansible.Id`'/>\n\t<parameter name='PlaybookName' value='`$prop.lcm.upgrade-software.playbookname`'/>\n\t\n\n\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 904.0000305175781,
        "y": 459.00003814697266,
        "z": "e0b620f9.dad4e8",
        "wires": [
            [
                "9223dd62.33b848",
                "52b60d15.5c8824"
            ]
        ]
    },
    {
        "id": "c8dd71a.7a9241",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 469,
        "y": 327.0000305175781,
        "z": "e0b620f9.dad4e8",
        "wires": [
            [
                "f25faee.c20865"
            ]
        ]
    },
    {
        "id": "199ed9da.f92c0e",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 471,
        "y": 379,
        "z": "e0b620f9.dad4e8",
        "wires": [
            [
                "32b073b0.4096bc"
            ]
        ]
    },
    {
        "id": "9223dd62.33b848",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1065.0000610351562,
        "y": 436.00000762939453,
        "z": "e0b620f9.dad4e8",
        "wires": [
            [
                "f25faee.c20865"
            ]
        ]
    },
    {
        "id": "a80c397d.561b48",
        "type": "other",
        "name": "outcome 101",
        "xml": "<outcome value='101'>\n",
        "comments": "",
        "outputs": 1,
        "x": 720,
        "y": 374.00003814697266,
        "z": "e0b620f9.dad4e8",
        "wires": [
            [
                "f25faee.c20865"
            ]
        ]
    },
    {
        "id": "52b60d15.5c8824",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1072.0000610351562,
        "y": 484.00003814697266,
        "z": "e0b620f9.dad4e8",
        "wires": [
            [
                "9c548e74.79765"
            ]
        ]
    },
    {
        "id": "6d12b2b7.836454",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name='status.code' value='`$org.onap.appc.adapter.ansible.result.code`' />\n<parameter name='status.message' value='`$org.onap.appc.adapter.ansible.message`'/>",
        "comments": "",
        "x": 1354.9999389648438,
        "y": 536.0000381469727,
        "z": "e0b620f9.dad4e8",
        "wires": []
    },
    {
        "id": "c4c2701e.31e65",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 92,
        "y": 152,
        "z": "e0b620f9.dad4e8",
        "wires": [
            [
                "d837d6cb.338428"
            ]
        ]
    },
    {
        "id": "83650b67.6cd8c",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 87.91668701171875,
        "y": 333.0833435058594,
        "z": "e0b620f9.dad4e8",
        "wires": [
            [
                "3421e2b7.29c266",
                "af5cebbf.24ded",
                "9b7242c2.970088"
            ]
        ]
    },
    {
        "id": "af5cebbf.24ded",
        "type": "execute",
        "name": "execute Properties",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/lcm-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
        "comments": "",
        "outputs": 1,
        "x": 262.00001525878906,
        "y": 275.0833435058594,
        "z": "e0b620f9.dad4e8",
        "wires": [
            []
        ]
    },
    {
        "id": "17a67139.0163e7",
        "type": "execute",
        "name": "execute DmaapMsg",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.lcm.dmaap.publish.templatefile`\" />\n    <parameter name='restapiUrl' value='`$prop.lcm.dmaap.url`' />\n    <parameter name='restapiUser' value='`$prop.lcm.dmaap.user`' />\n    <parameter name='restapiPassword' value='`$prop.lcm.dmaap.password`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='POST' />\n    <parameter name='contentType' value='application/json' />\n    <parameter name=\"responsePrefix\" value=\"lcm\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1072.0000610351562,
        "y": 280.0833435058594,
        "z": "e0b620f9.dad4e8",
        "wires": [
            [
                "4b59a568.89eb14"
            ]
        ]
    },
    {
        "id": "4b59a568.89eb14",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1242,
        "y": 279.0833435058594,
        "z": "e0b620f9.dad4e8",
        "wires": [
            [
                "81a1b456.34658"
            ]
        ]
    },
    {
        "id": "f25faee.c20865",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 875,
        "y": 304.0833435058594,
        "z": "e0b620f9.dad4e8",
        "wires": [
            [
                "17a67139.0163e7",
                "e10545e8.eea44",
                "d8fbd5c3.79579"
            ]
        ]
    },
    {
        "id": "3095e5cd.210e32",
        "type": "execute",
        "name": "execute DmaapMsg",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.lcm.dmaap.publish.templatefile`\" />\n    <parameter name='restapiUrl' value='`$prop.lcm.dmaap.url`' />\n    <parameter name='restapiUser' value='`$prop.lcm.dmaap.user`' />\n    <parameter name='restapiPassword' value='`$prop.lcm.dmaap.password`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='POST' />\n    <parameter name='contentType' value='application/json' />\n    <parameter name=\"responsePrefix\" value=\"lcm\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1375.4999389648438,
        "y": 485.0833511352539,
        "z": "e0b620f9.dad4e8",
        "wires": [
            [
                "8bc4822b.c5137"
            ]
        ]
    },
    {
        "id": "8bc4822b.c5137",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1535.4999389648438,
        "y": 485.0833511352539,
        "z": "e0b620f9.dad4e8",
        "wires": [
            [
                "b21f8cea.572bf8"
            ]
        ]
    },
    {
        "id": "81a1b456.34658",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\"> \n\t<parameter name=\"logger\" value=\"message-log\"/> \n\t<parameter name=\"field1\" value='Failed to Publish to DMaap'/>",
        "comments": "",
        "outputs": 1,
        "x": 1374,
        "y": 279.0833435058594,
        "z": "e0b620f9.dad4e8",
        "wires": [
            []
        ]
    },
    {
        "id": "e10545e8.eea44",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='status.code' value='401' />\n<parameter name='status.message' value='`$org.onap.appc.adapter.ansible.message`' />\n",
        "comments": "",
        "x": 1046.9166870117188,
        "y": 317.0833435058594,
        "z": "e0b620f9.dad4e8",
        "wires": []
    },
    {
        "id": "b21f8cea.572bf8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\"> \n\t<parameter name=\"logger\" value=\"message-log\"/> \n\t<parameter name=\"field1\" value='Failed to Publish to DMaap'/>",
        "comments": "",
        "outputs": 1,
        "x": 1656.9166870117188,
        "y": 486.0833511352539,
        "z": "e0b620f9.dad4e8",
        "wires": [
            []
        ]
    },
    {
        "id": "d8fbd5c3.79579",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='lcm-dmaap.version' value='`$prop.lcm.dmaap.version`'/>\n<parameter name='lcm-dmaap.correlation-id' value=\"`$upgrade-software-input.common-header.request-id + '-' + $upgrade-software-input.common-header.sub-request-id`\"/>\n<parameter name='lcm-dmaap.partition' value='`$prop.lcm.dmaap.partition`'/>\n<parameter name='lcm-dmaap.rpc-name' value='upgrade-software'/>\n<parameter name='lcm-dmaap.type' value='`$prop.lcm.dmaap.type`'/>\n<parameter name='lcm-dmaap.timestamp' value='`$upgrade-software-input.common-header.timestamp`'/>\n<parameter name='lcm-dmaap.api-ver' value='`$upgrade-software-input.common-header.api-ver`'/>\n<parameter name='lcm-dmaap.originator-id' value='`$upgrade-software-input.common-header.originator-id`'/>\n<parameter name='lcm-dmaap.request-id' value='`$upgrade-software-input.common-header.request-id`'/>\n<parameter name='lcm-dmaap.sub-request-id' value='`$upgrade-software-input.common-header.sub-request-id`'/>\n<parameter name='lcm-dmaap.flags.mode' value='`$upgrade-software-input.common-header.flags.mode`'/>\n<parameter name='lcm-dmaap.flags.force' value='`$upgrade-software-input.common-header.flags.force`'/>\n<parameter name='lcm-dmaap.flags.ttl' value='`$upgrade-software-input.common-header.flags.ttl`'/>\n<parameter name='lcm-dmaap.status.code' value='`$org.onap.appc.adapter.ansible.result.code`' />\n<parameter name='lcm-dmaap.status.message' value='`$org.onap.appc.adapter.ansible.message`'/>\n",
        "comments": "",
        "x": 1024.0000610351562,
        "y": 227.08334350585938,
        "z": "e0b620f9.dad4e8",
        "wires": []
    },
    {
        "id": "9c548e74.79765",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1204.9999389648438,
        "y": 484.0833206176758,
        "z": "e0b620f9.dad4e8",
        "wires": [
            [
                "3095e5cd.210e32",
                "dfdfe757.04d0d8",
                "6d12b2b7.836454"
            ]
        ]
    },
    {
        "id": "dfdfe757.04d0d8",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='lcm-dmaap.version' value='`$prop.lcm.dmaap.version`'/>\n<parameter name='lcm-dmaap.correlation-id' value=\"`$upgrade-software-input.common-header.request-id + '-' + $upgrade-software-input.common-header.sub-request-id`\"/>\n<parameter name='lcm-dmaap.partition' value='`$prop.lcm.dmaap.partition`'/>\n<parameter name='lcm-dmaap.rpc-name' value='upgrade-software'/>\n<parameter name='lcm-dmaap.type' value='`$prop.lcm.dmaap.type`'/>\n<parameter name='lcm-dmaap.timestamp' value='`$upgrade-software-input.common-header.timestamp`'/>\n<parameter name='lcm-dmaap.api-ver' value='`$upgrade-software-input.common-header.api-ver`'/>\n<parameter name='lcm-dmaap.originator-id' value='`$upgrade-software-input.common-header.originator-id`'/>\n<parameter name='lcm-dmaap.request-id' value='`$upgrade-software-input.common-header.request-id`'/>\n<parameter name='lcm-dmaap.sub-request-id' value='`$upgrade-software-input.common-header.sub-request-id`'/>\n<parameter name='lcm-dmaap.flags.mode' value='`$upgrade-software-input.common-header.flags.mode`'/>\n<parameter name='lcm-dmaap.flags.force' value='`$upgrade-software-input.common-header.flags.force`'/>\n<parameter name='lcm-dmaap.flags.ttl' value='`$upgrade-software-input.common-header.flags.ttl`'/>\n<parameter name='lcm-dmaap.status.code' value='`$org.onap.appc.adapter.ansible.result.code`' />\n<parameter name='lcm-dmaap.status.message' value='`$org.onap.appc.adapter.ansible.message`'/>\n",
        "comments": "",
        "x": 1335.1666870117188,
        "y": 437.0833511352539,
        "z": "e0b620f9.dad4e8",
        "wires": []
    },
    {
        "id": "50f87fc.8f6068",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 465,
        "y": 280,
        "z": "e0b620f9.dad4e8",
        "wires": [
            [
                "71cef7a8.a94c"
            ]
        ]
    },
    {
        "id": "711ed4cf.9ec76c",
        "type": "set",
        "name": "set Defaults",
        "xml": "<set>\n<parameter name='$org.onap.appc.adapter.ansible.result.code' value='401'/>\n<parameter name='org.onap.appc.adapter.ansible.message' value='Ansible Adapter was not found'/>\n",
        "comments": "",
        "x": 849,
        "y": 227,
        "z": "e0b620f9.dad4e8",
        "wires": []
    },
    {
        "id": "71cef7a8.a94c",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 649,
        "y": 272,
        "z": "e0b620f9.dad4e8",
        "wires": [
            [
                "711ed4cf.9ec76c",
                "f25faee.c20865"
            ]
        ]
    },
    {
        "id": "9b7242c2.970088",
        "type": "set",
        "name": "set default status value",
        "xml": "<set>\n<parameter name='status.code' value='200' />\n<parameter name='status.message' value='unexpected return from DG' />\n",
        "comments": "",
        "x": 276,
        "y": 319,
        "z": "e0b620f9.dad4e8",
        "wires": []
    }
]
