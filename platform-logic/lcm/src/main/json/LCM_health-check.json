[
    {
        "id": "f0c1e8d0.8a6a48",
        "type": "method",
        "name": "health-check",
        "xml": "<method rpc='health-check' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 913,
        "y": 635,
        "z": "3fdf1812.0d3d18",
        "wires": [
            [
                "853fa235.049d4"
            ]
        ]
    },
    {
        "id": "de0f24db.4eaba",
        "type": "service-logic",
        "name": "LCM ${project.version}",
        "module": "LCM",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='LCM' version='${project.version}'>",
        "outputs": 1,
        "x": 704.9999389648438,
        "y": 637,
        "z": "3fdf1812.0d3d18",
        "wires": [
            [
                "f0c1e8d0.8a6a48"
            ]
        ]
    },
    {
        "id": "2b397ec4.ccbe72",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 520,
        "y": 636,
        "z": "3fdf1812.0d3d18",
        "wires": [
            [
                "de0f24db.4eaba"
            ]
        ]
    },
    {
        "id": "853fa235.049d4",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 505.91668701171875,
        "y": 773.0833435058594,
        "z": "3fdf1812.0d3d18",
        "wires": [
            [
                "fcf00818.6c7e18",
                "e4025e39.9738e",
                "f55f50f4.a68878",
                "7e6c97ec.f376f"
            ]
        ]
    },
    {
        "id": "fcf00818.6c7e18",
        "type": "execute",
        "name": "execute Properties",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/lcm-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
        "comments": "",
        "outputs": 1,
        "x": 690.0000152587891,
        "y": 752.0833435058594,
        "z": "3fdf1812.0d3d18",
        "wires": [
            []
        ]
    },
    {
        "id": "e4025e39.9738e",
        "type": "set",
        "name": "set default status value",
        "xml": "<set>\n<parameter name='status.code' value='200' />\n<parameter name='status.message' value='unexpected return from LCM DG' />",
        "comments": "",
        "x": 698,
        "y": 798,
        "z": "3fdf1812.0d3d18",
        "wires": []
    },
    {
        "id": "7e6c97ec.f376f",
        "type": "execute",
        "name": "execute RestConfAPI",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='restapiUrl' value=\"`'http://' + $payloadJson.request-parameters.host-ip-address + ':' + $prop.lcm.restconf.port + $prop.lcm.restconf.configscaleout.geturlpath`\" />\n    <parameter name='restapiUser' value='`$prop.lcm.restconf.user`' />\n    <parameter name='restapiPassword' value='`$prop.lcm.restconf.password`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='GET' />\n    <parameter name=\"responsePrefix\" value=\"restconf\" />",
        "comments": "",
        "outputs": 1,
        "x": 687,
        "y": 908,
        "z": "3fdf1812.0d3d18",
        "wires": [
            [
                "9cca7aa0.5ab04",
                "737f02f8.cc1dac"
            ]
        ]
    },
    {
        "id": "f55f50f4.a68878",
        "type": "execute",
        "name": "execute jsonStringToCtx",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='jsonStringToCtx'>\n\t<parameter name='source' value='health-check-input.payload' />\n\t<parameter name='outputPath' value='payloadJson' />\n\t<parameter name='isEscaped' value='true' />",
        "comments": "",
        "outputs": 1,
        "x": 698,
        "y": 845,
        "z": "3fdf1812.0d3d18",
        "wires": [
            [
                "5694ee6.d3a3a9"
            ]
        ]
    },
    {
        "id": "c747475e.b6484",
        "type": "record",
        "name": "record",
        "xml": "<record plugin='org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder'> \n\t<parameter name='logger' value='message-log'/> \n\t<parameter name='field1' value='`$payloadJson.request-parameters.host-ip-address`'/>",
        "comments": "",
        "outputs": 1,
        "x": 1067,
        "y": 733,
        "z": "3fdf1812.0d3d18",
        "wires": [
            []
        ]
    },
    {
        "id": "5694ee6.d3a3a9",
        "type": "other",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 924,
        "y": 736,
        "z": "3fdf1812.0d3d18",
        "wires": [
            [
                "c747475e.b6484"
            ]
        ]
    },
    {
        "id": "9cca7aa0.5ab04",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 944,
        "y": 813,
        "z": "3fdf1812.0d3d18",
        "wires": [
            [
                "eb242a2e.1024e8"
            ]
        ]
    },
    {
        "id": "737f02f8.cc1dac",
        "type": "other",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 946,
        "y": 937.9999694824219,
        "z": "3fdf1812.0d3d18",
        "wires": [
            [
                "fa7eab9b.3596f"
            ]
        ]
    },
    {
        "id": "e4477bc4.663c68",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name='status.code' value='`$restconf.response-code`' />\n<parameter name='status.message' value='`$restconf.response-message`' />",
        "comments": "",
        "x": 1244.9998779296875,
        "y": 989,
        "z": "3fdf1812.0d3d18",
        "wires": []
    },
    {
        "id": "619a4b64.2ce6e4",
        "type": "execute",
        "name": "execute DmaapMsg",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.lcm.dmaap.publish.templatefile`\" />\n    <parameter name='restapiUrl' value='`$prop.lcm.dmaap.url`' />\n    <parameter name='restapiUser' value='`$prop.lcm.dmaap.user`' />\n    <parameter name='restapiPassword' value='`$prop.lcm.dmaap.password`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='POST' />\n    <parameter name='contentType' value='application/json' />\n    <parameter name='responsePrefix' value='dmaap' />\n",
        "comments": "",
        "outputs": 1,
        "x": 1283.0000610351562,
        "y": 797.0833129882812,
        "z": "3fdf1812.0d3d18",
        "wires": [
            [
                "9b219722.0d4788"
            ]
        ]
    },
    {
        "id": "9b219722.0d4788",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1458,
        "y": 798.0833129882812,
        "z": "3fdf1812.0d3d18",
        "wires": [
            [
                "f68eadc0.88287"
            ]
        ]
    },
    {
        "id": "eb242a2e.1024e8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1070,
        "y": 810.0833129882812,
        "z": "3fdf1812.0d3d18",
        "wires": [
            [
                "619a4b64.2ce6e4",
                "5be2a804.097e1",
                "adb2d40.456a0b"
            ]
        ]
    },
    {
        "id": "4fca28d.56025d8",
        "type": "execute",
        "name": "execute DmaapMsg",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.lcm.dmaap.publish.templatefile`\" />\n    <parameter name='restapiUrl' value='`$prop.lcm.dmaap.url`' />\n    <parameter name='restapiUser' value='`$prop.lcm.dmaap.user`' />\n    <parameter name='restapiPassword' value='`$prop.lcm.dmaap.password`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='POST' />\n    <parameter name='contentType' value='application/json' />\n    <parameter name='responsePrefix' value='dmaap' />\n",
        "comments": "",
        "outputs": 1,
        "x": 1265.4998779296875,
        "y": 938.0833129882812,
        "z": "3fdf1812.0d3d18",
        "wires": [
            [
                "2fb1a71e.cc06b8"
            ]
        ]
    },
    {
        "id": "2fb1a71e.cc06b8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1442.4998779296875,
        "y": 937.0833435058594,
        "z": "3fdf1812.0d3d18",
        "wires": [
            [
                "c22deb3c.13b9c"
            ]
        ]
    },
    {
        "id": "f68eadc0.88287",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\"> \n\t<parameter name=\"logger\" value=\"message-log\"/> \n\t<parameter name=\"field1\" value='Failed to Publish to DMaap'/>",
        "comments": "",
        "outputs": 1,
        "x": 1584,
        "y": 794.0833129882812,
        "z": "3fdf1812.0d3d18",
        "wires": [
            []
        ]
    },
    {
        "id": "5be2a804.097e1",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='status.code' value= '`$lcm-dmaap.status.code`'/>\n<parameter name='status.message' value='`$lcm-dmaap.status.message`' />\n",
        "comments": "",
        "x": 1255.9166870117188,
        "y": 845.0833129882812,
        "z": "3fdf1812.0d3d18",
        "wires": []
    },
    {
        "id": "c22deb3c.13b9c",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\"> \n\t<parameter name=\"logger\" value=\"message-log\"/> \n\t<parameter name=\"field1\" value='Failed to Publish to DMaap'/>",
        "comments": "",
        "outputs": 1,
        "x": 1574.9166259765625,
        "y": 935.0833435058594,
        "z": "3fdf1812.0d3d18",
        "wires": [
            []
        ]
    },
    {
        "id": "fa7eab9b.3596f",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1084.9998779296875,
        "y": 935.0832824707031,
        "z": "3fdf1812.0d3d18",
        "wires": [
            [
                "4fca28d.56025d8",
                "c6b2bcb4.1fa5d8",
                "e4477bc4.663c68"
            ]
        ]
    },
    {
        "id": "c6b2bcb4.1fa5d8",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='lcm-dmaap.version' value='`$prop.lcm.dmaap.version`'/>\n<parameter name='lcm-dmaap.correlation-id' value=\"`$health-check-input.common-header.request-id + '-' + $health-check-input.common-header.sub-request-id`\"/>\n<parameter name='lcm-dmaap.partition' value='`$prop.lcm.dmaap.partition`'/>\n<parameter name='lcm-dmaap.rpc-name' value='health-check'/>\n<parameter name='lcm-dmaap.type' value='`$prop.lcm.dmaap.type`'/>\n<parameter name='lcm-dmaap.timestamp' value='`$health-check-input.common-header.timestamp`'/>\n<parameter name='lcm-dmaap.api-ver' value='`$health-check-input.common-header.api-ver`'/>\n<parameter name='lcm-dmaap.originator-id' value='`$health-check-input.common-header.originator-id`'/>\n<parameter name='lcm-dmaap.request-id' value='`$health-check-input.common-header.request-id`'/>\n<parameter name='lcm-dmaap.sub-request-id' value='`$health-check-input.common-header.sub-request-id`'/>\n<parameter name='lcm-dmaap.flags.mode' value='`$health-check-input.common-header.flags.mode`'/>\n<parameter name='lcm-dmaap.flags.force' value='`$health-check-input.common-header.flags.force`'/>\n<parameter name='lcm-dmaap.flags.ttl' value='`$health-check-input.common-header.flags.ttl`'/>\n<parameter name='lcm-dmaap.status.code' value='100' />\n<parameter name='restconf.response-code' value='100' />\n<parameter name='lcm-dmaap.status.message' value='`$restconf.response-message`'/>\n\n",
        "comments": "",
        "x": 1225.1666259765625,
        "y": 890.0833129882812,
        "z": "3fdf1812.0d3d18",
        "wires": []
    },
    {
        "id": "adb2d40.456a0b",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='lcm-dmaap.version' value='`$prop.lcm.dmaap.version`'/>\n<parameter name='lcm-dmaap.correlation-id' value=\"`$health-check-input.common-header.request-id + '-' + $health-check-input.common-header.sub-request-id`\"/>\n<parameter name='lcm-dmaap.partition' value='`$prop.lcm.dmaap.partition`'/>\n<parameter name='lcm-dmaap.rpc-name' value='health-check'/>\n<parameter name='lcm-dmaap.type' value='`$prop.lcm.dmaap.type`'/>\n<parameter name='lcm-dmaap.timestamp' value='`$health-check-input.common-header.timestamp`'/>\n<parameter name='lcm-dmaap.api-ver' value='`$health-check-input.common-header.api-ver`'/>\n<parameter name='lcm-dmaap.originator-id' value='`$health-check-input.common-header.originator-id`'/>\n<parameter name='lcm-dmaap.request-id' value='`$health-check-input.common-header.request-id`'/>\n<parameter name='lcm-dmaap.sub-request-id' value='`$health-check-input.common-header.sub-request-id`'/>\n<parameter name='lcm-dmaap.flags.mode' value='`$health-check-input.common-header.flags.mode`'/>\n<parameter name='lcm-dmaap.flags.force' value='`$health-check-input.common-header.flags.force`'/>\n<parameter name='lcm-dmaap.flags.ttl' value='`$health-check-input.common-header.flags.ttl`'/>\n<parameter name='lcm-dmaap.status.code' value='201' />\n<parameter name='restconf.response-code' value='201' />\n<parameter name='lcm-dmaap.status.message' value=\"`'DG-Failure '  + $restconf.response-message + ' RestConf ResponseCode=' + $restconf.response-code`\"/>\n",
        "comments": "",
        "x": 1241,
        "y": 740,
        "z": "3fdf1812.0d3d18",
        "wires": []
    }
]