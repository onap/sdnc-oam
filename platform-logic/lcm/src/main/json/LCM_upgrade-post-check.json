[
    {
        "id": "7a39f2fe.3dcdf4",
        "type": "method",
        "name": "upgrade-post-check",
        "xml": "<method rpc='upgrade-post-check' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 504,
        "y": 189,
        "z": "8298903b.6dd47",
        "wires": [
            [
                "29adfec5.3e996a"
            ]
        ]
    },
    {
        "id": "d4e963ab.cbd07",
        "type": "service-logic",
        "name": "LCM ${project.version}",
        "module": "LCM",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='LCM' version='${project.version}'>",
        "outputs": 1,
        "x": 291.99993896484375,
        "y": 190,
        "z": "8298903b.6dd47",
        "wires": [
            [
                "7a39f2fe.3dcdf4"
            ]
        ]
    },
    {
        "id": "dbae8f8c.b9f5c8",
        "type": "execute",
        "name": "execute AnsibleA.reqExec",
        "xml": "<execute plugin='org.onap.ccsdk.sli.adaptors.ansible.AnsibleAdapter' method='reqExec' >\n<parameter name='AgentUrl' value='`$prop.ansible.agenturl`'/>\n<parameter name='User' value='`$prop.ansible.user`'/>\n<parameter name='Password' value='`prop.ansible.password`'/>\n<parameter name='LocalParameters' value='`$prop.ansible.lcm.localparameters`'/>\n<parameter name='EnvParameters' value='`$upgrade-post-check-input.payload`'/>\n<parameter name='NodeList' value='`$prop.ansible.nodelist`'/>\n<parameter name='Timeout' value='`$prop.ansible.timeout`'/>\n<parameter name='Version' value='`$prop.ansible.version`'/>\n<parameter name='Id' value='`$upgrade-post-check-input.common-header.request-id`'/>\n<parameter name='PlaybookName' value='`$prop.lcm.upgrade-post-check.playbookname`'/>",
        "comments": "",
        "outputs": 1,
        "x": 292.00001525878906,
        "y": 407,
        "z": "8298903b.6dd47",
        "wires": [
            [
                "6f51d66.269da28",
                "3cef6eb.3854f92",
                "7d81ec43.a1807c"
            ]
        ]
    },
    {
        "id": "d7bab1d5.51757",
        "type": "switchNode",
        "name": "switch",
        "xml": "<switch test=\"`$org.onap.appc.adapter.ansible.result.code`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 593,
        "y": 455,
        "z": "8298903b.6dd47",
        "wires": [
            [
                "2746f459.4c8844",
                "f804c90e.5a0878",
                "a107745e.d375f"
            ]
        ]
    },
    {
        "id": "2746f459.4c8844",
        "type": "other",
        "name": "outcome 500",
        "xml": "<outcome value='500'>\n",
        "comments": "",
        "outputs": 1,
        "x": 738,
        "y": 453.00000762939453,
        "z": "8298903b.6dd47",
        "wires": [
            [
                "812cc9c1.aee1"
            ]
        ]
    },
    {
        "id": "f804c90e.5a0878",
        "type": "other",
        "name": "outcome 100",
        "xml": "<outcome value='100'>\n",
        "comments": "",
        "outputs": 1,
        "x": 741,
        "y": 496.00003814697266,
        "z": "8298903b.6dd47",
        "wires": [
            [
                "91a9092c.bcfc5"
            ]
        ]
    },
    {
        "id": "91a9092c.bcfc5",
        "type": "execute",
        "name": "execute reqExecResult",
        "xml": "<execute plugin='org.onap.ccsdk.sli.adaptors.ansible.AnsibleAdapter' method='reqExecResult' >\n    <parameter name='AgentUrl' value='`$prop.ansible.agenturl`'/>\n\t<parameter name='User' value='`$prop.ansible.user`'/>\n\t<parameter name='Password' value='`$prop.ansible.password`'/>\n\t<parameter name='Id' value='`$org.onap.appc.adapter.ansible.Id`'/>\n\t<parameter name='PlaybookName' value='`$prop.lcm.upgrade-post-check.playbookname`'/>\n\t\n\n\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 919.0000305175781,
        "y": 496.00003814697266,
        "z": "8298903b.6dd47",
        "wires": [
            [
                "746c71a8.ecf54",
                "3553670.a015a9a"
            ]
        ]
    },
    {
        "id": "3cef6eb.3854f92",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 484,
        "y": 364.0000305175781,
        "z": "8298903b.6dd47",
        "wires": [
            [
                "812cc9c1.aee1"
            ]
        ]
    },
    {
        "id": "6f51d66.269da28",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 486,
        "y": 416,
        "z": "8298903b.6dd47",
        "wires": [
            [
                "d7bab1d5.51757"
            ]
        ]
    },
    {
        "id": "746c71a8.ecf54",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1080.0000610351562,
        "y": 473.00000762939453,
        "z": "8298903b.6dd47",
        "wires": [
            [
                "812cc9c1.aee1"
            ]
        ]
    },
    {
        "id": "a107745e.d375f",
        "type": "other",
        "name": "outcome 101",
        "xml": "<outcome value='101'>\n",
        "comments": "",
        "outputs": 1,
        "x": 735,
        "y": 411.00003814697266,
        "z": "8298903b.6dd47",
        "wires": [
            [
                "812cc9c1.aee1"
            ]
        ]
    },
    {
        "id": "3553670.a015a9a",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1087.0000610351562,
        "y": 521.0000381469727,
        "z": "8298903b.6dd47",
        "wires": [
            [
                "9eb97883.c25dd"
            ]
        ]
    },
    {
        "id": "4d0102b3.cb0034",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name='status.code' value='`$org.onap.appc.adapter.ansible.result.code`' />\n<parameter name='status.message' value='`$org.onap.appc.adapter.ansible.message`'/>",
        "comments": "",
        "x": 1369.9999389648438,
        "y": 573.0000381469727,
        "z": "8298903b.6dd47",
        "wires": []
    },
    {
        "id": "b0b34f77.1a63a",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 107,
        "y": 189,
        "z": "8298903b.6dd47",
        "wires": [
            [
                "d4e963ab.cbd07"
            ]
        ]
    },
    {
        "id": "29adfec5.3e996a",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 102.91668701171875,
        "y": 370.0833435058594,
        "z": "8298903b.6dd47",
        "wires": [
            [
                "dbae8f8c.b9f5c8",
                "2da1a6a3.957b62",
                "f33027ae.498be"
            ]
        ]
    },
    {
        "id": "2da1a6a3.957b62",
        "type": "execute",
        "name": "execute Properties",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/lcm-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
        "comments": "",
        "outputs": 1,
        "x": 275.00001525878906,
        "y": 328.0833435058594,
        "z": "8298903b.6dd47",
        "wires": [
            []
        ]
    },
    {
        "id": "e8fdf598.f43db",
        "type": "execute",
        "name": "execute DmaapMsg",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.lcm.dmaap.publish.templatefile`\" />\n    <parameter name='restapiUrl' value='`$prop.lcm.dmaap.url`' />\n    <parameter name='restapiUser' value='`$prop.lcm.dmaap.user`' />\n    <parameter name='restapiPassword' value='`$prop.lcm.dmaap.password`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='POST' />\n    <parameter name='contentType' value='application/json' />\n    <parameter name=\"responsePrefix\" value=\"lcm\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1087.0000610351562,
        "y": 317.0833435058594,
        "z": "8298903b.6dd47",
        "wires": [
            [
                "27736dcd.8ac982"
            ]
        ]
    },
    {
        "id": "27736dcd.8ac982",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1257,
        "y": 316.0833435058594,
        "z": "8298903b.6dd47",
        "wires": [
            [
                "86cb0ea6.638338"
            ]
        ]
    },
    {
        "id": "812cc9c1.aee1",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 890,
        "y": 341.0833435058594,
        "z": "8298903b.6dd47",
        "wires": [
            [
                "e8fdf598.f43db",
                "e11198e6.679a2",
                "a3a650c3.8200a8"
            ]
        ]
    },
    {
        "id": "7d25ddd1.4d85f4",
        "type": "execute",
        "name": "execute DmaapMsg",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.lcm.dmaap.publish.templatefile`\" />\n    <parameter name='restapiUrl' value='`$prop.lcm.dmaap.url`' />\n    <parameter name='restapiUser' value='`$prop.lcm.dmaap.user`' />\n    <parameter name='restapiPassword' value='`$prop.lcm.dmaap.password`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='POST' />\n    <parameter name='contentType' value='application/json' />\n    <parameter name=\"responsePrefix\" value=\"lcm\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1390.4999389648438,
        "y": 522.0833511352539,
        "z": "8298903b.6dd47",
        "wires": [
            [
                "1bd36512.b1eedb"
            ]
        ]
    },
    {
        "id": "1bd36512.b1eedb",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1550.4999389648438,
        "y": 522.0833511352539,
        "z": "8298903b.6dd47",
        "wires": [
            [
                "8b14e6d.6ed9318"
            ]
        ]
    },
    {
        "id": "86cb0ea6.638338",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\"> \n\t<parameter name=\"logger\" value=\"message-log\"/> \n\t<parameter name=\"field1\" value='Failed to Publish to DMaap'/>",
        "comments": "",
        "outputs": 1,
        "x": 1389,
        "y": 316.0833435058594,
        "z": "8298903b.6dd47",
        "wires": [
            []
        ]
    },
    {
        "id": "e11198e6.679a2",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='status.code' value='401' />\n<parameter name='status.message' value='`$org.onap.appc.adapter.ansible.message`' />\n",
        "comments": "",
        "x": 1061.9166870117188,
        "y": 354.0833435058594,
        "z": "8298903b.6dd47",
        "wires": []
    },
    {
        "id": "8b14e6d.6ed9318",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\"> \n\t<parameter name=\"logger\" value=\"message-log\"/> \n\t<parameter name=\"field1\" value='Failed to Publish to DMaap'/>",
        "comments": "",
        "outputs": 1,
        "x": 1671.9166870117188,
        "y": 523.0833511352539,
        "z": "8298903b.6dd47",
        "wires": [
            []
        ]
    },
    {
        "id": "a3a650c3.8200a8",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='lcm-dmaap.version' value='`$prop.lcm.dmaap.version`'/>\n<parameter name='lcm-dmaap.correlation-id' value=\"`$upgrade-post-check-input.common-header.request-id + '-' + $upgrade-post-check-input.common-header.sub-request-id`\"/>\n<parameter name='lcm-dmaap.partition' value='`$prop.lcm.dmaap.partition`'/>\n<parameter name='lcm-dmaap.rpc-name' value='upgrade-post-check'/>\n<parameter name='lcm-dmaap.type' value='`$prop.lcm.dmaap.type`'/>\n<parameter name='lcm-dmaap.timestamp' value='`$upgrade-post-check-input.common-header.timestamp`'/>\n<parameter name='lcm-dmaap.api-ver' value='`$upgrade-post-check-input.common-header.api-ver`'/>\n<parameter name='lcm-dmaap.originator-id' value='`$upgrade-post-check-input.common-header.originator-id`'/>\n<parameter name='lcm-dmaap.request-id' value='`$upgrade-post-check-input.common-header.request-id`'/>\n<parameter name='lcm-dmaap.sub-request-id' value='`$upgrade-post-check-input.common-header.sub-request-id`'/>\n<parameter name='lcm-dmaap.flags.mode' value='`$upgrade-post-check-input.common-header.flags.mode`'/>\n<parameter name='lcm-dmaap.flags.force' value='`$upgrade-post-check-input.common-header.flags.force`'/>\n<parameter name='lcm-dmaap.flags.ttl' value='`$upgrade-post-check-input.common-header.flags.ttl`'/>\n<parameter name='lcm-dmaap.status.code' value='`$org.onap.appc.adapter.ansible.result.code`' />\n<parameter name='lcm-dmaap.status.message' value='`$org.onap.appc.adapter.ansible.message`'/>\n",
        "comments": "",
        "x": 1039.0000610351562,
        "y": 264.0833435058594,
        "z": "8298903b.6dd47",
        "wires": []
    },
    {
        "id": "9eb97883.c25dd",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1219.9999389648438,
        "y": 521.0833206176758,
        "z": "8298903b.6dd47",
        "wires": [
            [
                "7d25ddd1.4d85f4",
                "5aed86b8.dac118",
                "4d0102b3.cb0034"
            ]
        ]
    },
    {
        "id": "5aed86b8.dac118",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='lcm-dmaap.version' value='`$prop.lcm.dmaap.version`'/>\n<parameter name='lcm-dmaap.correlation-id' value=\"`$upgrade-post-check-input.common-header.request-id + '-' + $upgrade-post-check-input.common-header.sub-request-id`\"/>\n<parameter name='lcm-dmaap.partition' value='`$prop.lcm.dmaap.partition`'/>\n<parameter name='lcm-dmaap.rpc-name' value='upgrade-post-check'/>\n<parameter name='lcm-dmaap.type' value='`$prop.lcm.dmaap.type`'/>\n<parameter name='lcm-dmaap.timestamp' value='`$upgrade-post-check-input.common-header.timestamp`'/>\n<parameter name='lcm-dmaap.api-ver' value='`$upgrade-post-check-input.common-header.api-ver`'/>\n<parameter name='lcm-dmaap.originator-id' value='`$upgrade-post-check-input.common-header.originator-id`'/>\n<parameter name='lcm-dmaap.request-id' value='`$upgrade-post-check-input.common-header.request-id`'/>\n<parameter name='lcm-dmaap.sub-request-id' value='`$upgrade-post-check-input.common-header.sub-request-id`'/>\n<parameter name='lcm-dmaap.flags.mode' value='`$upgrade-post-check-input.common-header.flags.mode`'/>\n<parameter name='lcm-dmaap.flags.force' value='`$upgrade-post-check-input.common-header.flags.force`'/>\n<parameter name='lcm-dmaap.flags.ttl' value='`$upgrade-post-check-input.common-header.flags.ttl`'/>\n<parameter name='lcm-dmaap.status.code' value='`$org.onap.appc.adapter.ansible.result.code`' />\n<parameter name='lcm-dmaap.status.message' value='`$org.onap.appc.adapter.ansible.message`'/>\n",
        "comments": "",
        "x": 1350.1666870117188,
        "y": 474.0833511352539,
        "z": "8298903b.6dd47",
        "wires": []
    },
    {
        "id": "7d81ec43.a1807c",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 480,
        "y": 317,
        "z": "8298903b.6dd47",
        "wires": [
            [
                "97422b5e.b01ec"
            ]
        ]
    },
    {
        "id": "c3ed93bf.f51b6",
        "type": "set",
        "name": "set Defaults",
        "xml": "<set>\n<parameter name='$org.onap.appc.adapter.ansible.result.code' value='401'/>\n<parameter name='org.onap.appc.adapter.ansible.message' value='Ansible Adapter was not found'/>\n",
        "comments": "",
        "x": 864,
        "y": 264,
        "z": "8298903b.6dd47",
        "wires": []
    },
    {
        "id": "97422b5e.b01ec",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 664,
        "y": 309,
        "z": "8298903b.6dd47",
        "wires": [
            [
                "c3ed93bf.f51b6",
                "812cc9c1.aee1"
            ]
        ]
    },
    {
        "id": "f33027ae.498be",
        "type": "set",
        "name": "set default status value",
        "xml": "<set>\n<parameter name='status.code' value='200' />\n<parameter name='status.message' value='unexpected return from DG' />\n",
        "comments": "",
        "x": 289,
        "y": 368,
        "z": "8298903b.6dd47",
        "wires": []
    }
]
