[
    {
        "id": "8f8b6a32.647e2",
        "type": "method",
        "name": "upgrade-pre-check",
        "xml": "<method rpc='upgrade-pre-check' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 559,
        "y": 294,
        "z": "8e82c78b.3253d8",
        "wires": [
            [
                "7fd9ef18.f2ed78"
            ]
        ]
    },
    {
        "id": "59a5c829.6824e",
        "type": "service-logic",
        "name": "LCM ${project.version}",
        "module": "LCM",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='LCM' version='${project.version}'>",
        "outputs": 1,
        "x": 346.99993896484375,
        "y": 295,
        "z": "8e82c78b.3253d8",
        "wires": [
            [
                "8f8b6a32.647e2"
            ]
        ]
    },
    {
        "id": "a0bfd483.1d05a8",
        "type": "execute",
        "name": "execute AnsibleA.reqExec",
        "xml": "<execute plugin='org.onap.ccsdk.sli.adaptors.ansible.AnsibleAdapter' method='reqExec' >\n<parameter name='AgentUrl' value='`$prop.ansible.agenturl`'/>\n<parameter name='User' value='`$prop.ansible.user`'/>\n<parameter name='Password' value='`prop.ansible.password`'/>\n<parameter name='LocalParameters' value='`$prop.ansible.lcm.localparameters`'/>\n<parameter name='EnvParameters' value='`$upgrade-pre-check-input.payload`'/>\n<parameter name='NodeList' value='`$prop.ansible.nodelist`'/>\n<parameter name='Timeout' value='`$prop.ansible.timeout`'/>\n<parameter name='Version' value='`$prop.ansible.version`'/>\n<parameter name='Id' value='`$upgrade-pre-check-input.common-header.request-id`'/>\n<parameter name='PlaybookName' value='`$prop.lcm.upgrade-pre-check.playbookname`'/>",
        "comments": "",
        "outputs": 1,
        "x": 347.00001525878906,
        "y": 512,
        "z": "8e82c78b.3253d8",
        "wires": [
            [
                "3faa8c0d.7c76dc",
                "730a2ac.ac7a254",
                "ff0c1a71.8db25"
            ]
        ]
    },
    {
        "id": "7b8e8551.6739f4",
        "type": "switchNode",
        "name": "switch",
        "xml": "<switch test=\"`$org.onap.appc.adapter.ansible.result.code`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 648,
        "y": 560,
        "z": "8e82c78b.3253d8",
        "wires": [
            [
                "9997ad99.656ba",
                "251aa2bd.3255ce",
                "19061d90.32c37a"
            ]
        ]
    },
    {
        "id": "9997ad99.656ba",
        "type": "other",
        "name": "outcome 500",
        "xml": "<outcome value='500'>\n",
        "comments": "",
        "outputs": 1,
        "x": 793,
        "y": 558.0000076293945,
        "z": "8e82c78b.3253d8",
        "wires": [
            [
                "8b7c0757.979618"
            ]
        ]
    },
    {
        "id": "251aa2bd.3255ce",
        "type": "other",
        "name": "outcome 100",
        "xml": "<outcome value='100'>\n",
        "comments": "",
        "outputs": 1,
        "x": 796,
        "y": 601.0000381469727,
        "z": "8e82c78b.3253d8",
        "wires": [
            [
                "59f732a3.29a3dc"
            ]
        ]
    },
    {
        "id": "59f732a3.29a3dc",
        "type": "execute",
        "name": "execute reqExecResult",
        "xml": "<execute plugin='org.onap.ccsdk.sli.adaptors.ansible.AnsibleAdapter' method='reqExecResult' >\n    <parameter name='AgentUrl' value='`$prop.ansible.agenturl`'/>\n\t<parameter name='User' value='`$prop.ansible.user`'/>\n\t<parameter name='Password' value='`$prop.ansible.password`'/>\n\t<parameter name='Id' value='`$org.onap.appc.adapter.ansible.Id`'/>\n\t<parameter name='PlaybookName' value='`$prop.lcm.upgrade-pre-check.playbookname`'/>\n\t\n\n\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 974.0000305175781,
        "y": 601.0000381469727,
        "z": "8e82c78b.3253d8",
        "wires": [
            [
                "665399bc.90a228",
                "9947c0c2.0bad38"
            ]
        ]
    },
    {
        "id": "730a2ac.ac7a254",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 539,
        "y": 469.0000305175781,
        "z": "8e82c78b.3253d8",
        "wires": [
            [
                "8b7c0757.979618"
            ]
        ]
    },
    {
        "id": "3faa8c0d.7c76dc",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 541,
        "y": 521,
        "z": "8e82c78b.3253d8",
        "wires": [
            [
                "7b8e8551.6739f4"
            ]
        ]
    },
    {
        "id": "665399bc.90a228",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1135.0000610351562,
        "y": 578.0000076293945,
        "z": "8e82c78b.3253d8",
        "wires": [
            [
                "8b7c0757.979618"
            ]
        ]
    },
    {
        "id": "19061d90.32c37a",
        "type": "other",
        "name": "outcome 101",
        "xml": "<outcome value='101'>\n",
        "comments": "",
        "outputs": 1,
        "x": 790,
        "y": 516.0000381469727,
        "z": "8e82c78b.3253d8",
        "wires": [
            [
                "8b7c0757.979618"
            ]
        ]
    },
    {
        "id": "9947c0c2.0bad38",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1142.0000610351562,
        "y": 626.0000381469727,
        "z": "8e82c78b.3253d8",
        "wires": [
            [
                "7e43b622.5535c8"
            ]
        ]
    },
    {
        "id": "6a30a994.3ca8e8",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name='status.code' value='`$org.onap.appc.adapter.ansible.result.code`' />\n<parameter name='status.message' value='`$org.onap.appc.adapter.ansible.message`'/>",
        "comments": "",
        "x": 1424.9999389648438,
        "y": 678.0000381469727,
        "z": "8e82c78b.3253d8",
        "wires": []
    },
    {
        "id": "3123d7af.60a66",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 162,
        "y": 294,
        "z": "8e82c78b.3253d8",
        "wires": [
            [
                "59a5c829.6824e"
            ]
        ]
    },
    {
        "id": "7fd9ef18.f2ed78",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 157.91668701171875,
        "y": 475.0833435058594,
        "z": "8e82c78b.3253d8",
        "wires": [
            [
                "a0bfd483.1d05a8",
                "795753b1.362064",
                "1872375f.c08bb1"
            ]
        ]
    },
    {
        "id": "795753b1.362064",
        "type": "execute",
        "name": "execute Properties",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/lcm-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
        "comments": "",
        "outputs": 1,
        "x": 331.00001525878906,
        "y": 428.0833435058594,
        "z": "8e82c78b.3253d8",
        "wires": [
            []
        ]
    },
    {
        "id": "6dde91d9.2b278",
        "type": "execute",
        "name": "execute DmaapMsg",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.lcm.dmaap.publish.templatefile`\" />\n    <parameter name='restapiUrl' value='`$prop.lcm.dmaap.url`' />\n    <parameter name='restapiUser' value='`$prop.lcm.dmaap.user`' />\n    <parameter name='restapiPassword' value='`$prop.lcm.dmaap.password`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='POST' />\n    <parameter name='contentType' value='application/json' />\n    <parameter name=\"responsePrefix\" value=\"lcm\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1142.0000610351562,
        "y": 422.0833435058594,
        "z": "8e82c78b.3253d8",
        "wires": [
            [
                "4c1e83c0.729474"
            ]
        ]
    },
    {
        "id": "4c1e83c0.729474",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1312,
        "y": 421.0833435058594,
        "z": "8e82c78b.3253d8",
        "wires": [
            [
                "be504f4e.6e8158"
            ]
        ]
    },
    {
        "id": "8b7c0757.979618",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 945,
        "y": 446.0833435058594,
        "z": "8e82c78b.3253d8",
        "wires": [
            [
                "6dde91d9.2b278",
                "32e620d0.14aab8",
                "8156d91e.66c9"
            ]
        ]
    },
    {
        "id": "6078cfef.b6b9c",
        "type": "execute",
        "name": "execute DmaapMsg",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.lcm.dmaap.publish.templatefile`\" />\n    <parameter name='restapiUrl' value='`$prop.lcm.dmaap.url`' />\n    <parameter name='restapiUser' value='`$prop.lcm.dmaap.user`' />\n    <parameter name='restapiPassword' value='`$prop.lcm.dmaap.password`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='POST' />\n    <parameter name='contentType' value='application/json' />\n    <parameter name=\"responsePrefix\" value=\"lcm\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1445.4999389648438,
        "y": 627.0833511352539,
        "z": "8e82c78b.3253d8",
        "wires": [
            [
                "287251c7.95902e"
            ]
        ]
    },
    {
        "id": "287251c7.95902e",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1605.4999389648438,
        "y": 627.0833511352539,
        "z": "8e82c78b.3253d8",
        "wires": [
            [
                "dda83a49.a35b9"
            ]
        ]
    },
    {
        "id": "be504f4e.6e8158",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\"> \n\t<parameter name=\"logger\" value=\"message-log\"/> \n\t<parameter name=\"field1\" value='Failed to Publish to DMaap'/>",
        "comments": "",
        "outputs": 1,
        "x": 1444,
        "y": 421.0833435058594,
        "z": "8e82c78b.3253d8",
        "wires": [
            []
        ]
    },
    {
        "id": "32e620d0.14aab8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='status.code' value='401' />\n<parameter name='status.message' value='`$org.onap.appc.adapter.ansible.message`' />\n",
        "comments": "",
        "x": 1116.9166870117188,
        "y": 459.0833435058594,
        "z": "8e82c78b.3253d8",
        "wires": []
    },
    {
        "id": "dda83a49.a35b9",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\"> \n\t<parameter name=\"logger\" value=\"message-log\"/> \n\t<parameter name=\"field1\" value='Failed to Publish to DMaap'/>",
        "comments": "",
        "outputs": 1,
        "x": 1726.9166870117188,
        "y": 628.0833511352539,
        "z": "8e82c78b.3253d8",
        "wires": [
            []
        ]
    },
    {
        "id": "8156d91e.66c9",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='lcm-dmaap.version' value='`$prop.lcm.dmaap.version`'/>\n<parameter name='lcm-dmaap.correlation-id' value=\"`$upgrade-pre-check-input.common-header.request-id + '-' + $upgrade-pre-check-input.common-header.sub-request-id`\"/>\n\n<parameter name='lcm-dmaap.partition' value='`$prop.lcm.dmaap.partition`'/>\n<parameter name='lcm-dmaap.rpc-name' value='upgrade-pre-check'/>\n<parameter name='lcm-dmaap.type' value='`$prop.lcm.dmaap.type`'/>\n<parameter name='lcm-dmaap.timestamp' value='`$upgrade-pre-check-input.common-header.timestamp`'/>\n<parameter name='lcm-dmaap.api-ver' value='`$upgrade-pre-check-input.common-header.api-ver`'/>\n<parameter name='lcm-dmaap.originator-id' value='`$upgrade-pre-check-input.common-header.originator-id`'/>\n<parameter name='lcm-dmaap.request-id' value='`$upgrade-pre-check-input.common-header.request-id`'/>\n<parameter name='lcm-dmaap.sub-request-id' value='`$upgrade-pre-check-input.common-header.sub-request-id`'/>\n<parameter name='lcm-dmaap.flags.mode' value='`$upgrade-pre-check-input.common-header.flags.mode`'/>\n<parameter name='lcm-dmaap.flags.force' value='`$upgrade-pre-check-input.common-header.flags.force`'/>\n<parameter name='lcm-dmaap.flags.ttl' value='`$upgrade-pre-check-input.common-header.flags.ttl`'/>\n<parameter name='lcm-dmaap.payload' value='`$org.onap.appc.adapter.ansible.results`'/>\n<parameter name='lcm-dmaap.status.code' value='`$org.onap.appc.adapter.ansible.result.code`' />\n<parameter name='lcm-dmaap.status.message' value='`$org.onap.appc.adapter.ansible.message`'/>\n",
        "comments": "",
        "x": 1094.0000610351562,
        "y": 369.0833435058594,
        "z": "8e82c78b.3253d8",
        "wires": []
    },
    {
        "id": "7e43b622.5535c8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1274.9999389648438,
        "y": 626.0833206176758,
        "z": "8e82c78b.3253d8",
        "wires": [
            [
                "6078cfef.b6b9c",
                "6e5dc321.5d13f4",
                "6a30a994.3ca8e8"
            ]
        ]
    },
    {
        "id": "6e5dc321.5d13f4",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='lcm-dmaap.version' value='`$prop.lcm.dmaap.version`'/>\n<parameter name='lcm-dmaap.correlation-id' value=\"`$upgrade-pre-check-input.common-header.request-id + '-' + $upgrade-pre-check-input.common-header.sub-request-id`\"/>\n<parameter name='lcm-dmaap.partition' value='`$prop.lcm.dmaap.partition`'/>\n<parameter name='lcm-dmaap.rpc-name' value='upgrade-pre-check'/>\n<parameter name='lcm-dmaap.type' value='`$prop.lcm.dmaap.type`'/>\n<parameter name='lcm-dmaap.timestamp' value='`$upgrade-pre-check-input.common-header.timestamp`'/>\n<parameter name='lcm-dmaap.api-ver' value='`$upgrade-pre-check-input.common-header.api-ver`'/>\n<parameter name='lcm-dmaap.originator-id' value='`$upgrade-pre-check-input.common-header.originator-id`'/>\n<parameter name='lcm-dmaap.request-id' value='`$upgrade-pre-check-input.common-header.request-id`'/>\n<parameter name='lcm-dmaap.sub-request-id' value='`$upgrade-pre-check-input.common-header.sub-request-id`'/>\n<parameter name='lcm-dmaap.flags.mode' value='`$upgrade-pre-check-input.common-header.flags.mode`'/>\n<parameter name='lcm-dmaap.flags.force' value='`$upgrade-pre-check-input.common-header.flags.force`'/>\n<parameter name='lcm-dmaap.flags.ttl' value='`$upgrade-pre-check-input.common-header.flags.ttl`'/>\n<parameter name='lcm-dmaap.payload' value='`$org.onap.appc.adapter.ansible.results`'/>\n<parameter name='lcm-dmaap.status.code' value='`$org.onap.appc.adapter.ansible.result.code`' />\n<parameter name='lcm-dmaap.status.message' value='`$org.onap.appc.adapter.ansible.message`'/>\n",
        "comments": "",
        "x": 1405.1666870117188,
        "y": 579.0833511352539,
        "z": "8e82c78b.3253d8",
        "wires": []
    },
    {
        "id": "ff0c1a71.8db25",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 535,
        "y": 422,
        "z": "8e82c78b.3253d8",
        "wires": [
            [
                "c12fad1e.df7a3"
            ]
        ]
    },
    {
        "id": "fcf3a642.3a7fa",
        "type": "set",
        "name": "set Defaults",
        "xml": "<set>\n<parameter name='org.onap.appc.adapter.ansible.result.code' value='401'/>\n<parameter name='org.onap.appc.adapter.ansible.message' value='Ansible Adapter was not found'/>\n",
        "comments": "",
        "x": 919,
        "y": 369,
        "z": "8e82c78b.3253d8",
        "wires": []
    },
    {
        "id": "c12fad1e.df7a3",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 719,
        "y": 414,
        "z": "8e82c78b.3253d8",
        "wires": [
            [
                "fcf3a642.3a7fa",
                "8b7c0757.979618"
            ]
        ]
    },
    {
        "id": "1872375f.c08bb1",
        "type": "set",
        "name": "set default status value",
        "xml": "<set>\n<parameter name='status.code' value='200' />\n<parameter name='status.message' value='unexpected return from DG' />\n",
        "comments": "",
        "x": 340,
        "y": 472,
        "z": "8e82c78b.3253d8",
        "wires": []
    }
]