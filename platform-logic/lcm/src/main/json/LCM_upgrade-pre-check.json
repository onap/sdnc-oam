[
    {
        "comments": "",
        "id": "7018ec36.4cc5ec",
        "name": "upgrade-pre-check",
        "outputs": 1,
        "type": "method",
        "wires": [
            [
                "7b5d3338.9d34a4"
            ]
        ],
        "x": 531,
        "xml": "<method rpc='upgrade-pre-check' mode='sync'>\n",
        "y": 159,
        "z": "c751ea25.6a3e48"
    },
    {
        "comments": "",
        "id": "761735d6.a3ecec",
        "module": "LCM",
        "name": "LCM ${project.version}",
        "outputs": 1,
        "type": "service-logic",
        "version": "${project.version}",
        "wires": [
            [
                "7018ec36.4cc5ec"
            ]
        ],
        "x": 318.99993896484375,
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='LCM' version='${project.version}'>",
        "y": 160,
        "z": "c751ea25.6a3e48"
    },
    {
        "comments": "",
        "id": "df87797d.9a6da8",
        "name": "execute AnsibleA.reqExec",
        "outputs": 1,
        "type": "execute",
        "wires": [
            [
                "1f9baab1.f667bd",
                "4dcb875e.05025",
                "98923780.210838"
            ]
        ],
        "x": 319.00001525878906,
        "xml": "<execute plugin='org.onap.ccsdk.sli.adaptors.ansible.AnsibleAdapter' method='reqExec' >\n<parameter name='AgentUrl' value='`$prop.ansible.agenturl`'/>\n<parameter name='User' value='`$prop.ansible.user`'/>\n<parameter name='Password' value='`prop.ansible.password`'/>\n<parameter name='LocalParameters' value='`$prop.ansible.lcm.localparameters`'/>\n<parameter name='EnvParameters' value='`$upgrade-pre-check-input.payload`'/>\n<parameter name='NodeList' value='`$prop.ansible.nodelist`'/>\n<parameter name='Timeout' value='`$prop.ansible.timeout`'/>\n<parameter name='Version' value='`$prop.ansible.version`'/>\n<parameter name='Id' value='`$upgrade-pre-check-input.common-header.request-id`'/>\n<parameter name='PlaybookName' value='`$prop.lcm.upgrade-pre-check.playbookname`'/>",
        "y": 377,
        "z": "c751ea25.6a3e48"
    },
    {
        "comments": "",
        "id": "be5a404c.df63b",
        "name": "switch",
        "outputs": 1,
        "type": "switchNode",
        "wires": [
            [
                "a0717baa.0ad7c8",
                "76b22e49.42c978",
                "9040169.c537f68"
            ]
        ],
        "x": 620,
        "xml": "<switch test=\"`$org.onap.appc.adapter.ansible.result.code`\">\n",
        "y": 425,
        "z": "c751ea25.6a3e48"
    },
    {
        "comments": "",
        "id": "a0717baa.0ad7c8",
        "name": "outcome 500",
        "outputs": 1,
        "type": "other",
        "wires": [
            [
                "ea274695.4ed0a"
            ]
        ],
        "x": 765,
        "xml": "<outcome value='500'>\n",
        "y": 423.00000762939453,
        "z": "c751ea25.6a3e48"
    },
    {
        "comments": "",
        "id": "76b22e49.42c978",
        "name": "outcome 100",
        "outputs": 1,
        "type": "other",
        "wires": [
            [
                "f49ca07a.b8928"
            ]
        ],
        "x": 768,
        "xml": "<outcome value='100'>\n",
        "y": 466.00003814697266,
        "z": "c751ea25.6a3e48"
    },
    {
        "comments": "",
        "id": "f49ca07a.b8928",
        "name": "execute reqExecResult",
        "outputs": 1,
        "type": "execute",
        "wires": [
            [
                "49baafab.739d7",
                "225528dc.01ae88"
            ]
        ],
        "x": 946.0000305175781,
        "xml": "<execute plugin='org.onap.ccsdk.sli.adaptors.ansible.AnsibleAdapter' method='reqExecResult' >\n    <parameter name='AgentUrl' value='`$prop.ansible.agenturl`'/>\n\t<parameter name='User' value='`$prop.ansible.user`'/>\n\t<parameter name='Password' value='`$prop.ansible.password`'/>\n\t<parameter name='Id' value='`$upgrade-pre-check-input.common-header.request-id`'/>\n\t<parameter name='PlaybookName' value='`$prop.lcm.upgrade-pre-check.playbookname`'/>\n\t\n\n\n\n\n",
        "y": 466.00003814697266,
        "z": "c751ea25.6a3e48"
    },
    {
        "comments": "",
        "id": "4dcb875e.05025",
        "name": "failure",
        "outputs": 1,
        "type": "failure",
        "wires": [
            [
                "ea274695.4ed0a"
            ]
        ],
        "x": 511,
        "xml": "<outcome value='failure'>\n",
        "y": 334.0000305175781,
        "z": "c751ea25.6a3e48"
    },
    {
        "comments": "",
        "id": "1f9baab1.f667bd",
        "name": "other",
        "outputs": 1,
        "type": "other",
        "wires": [
            [
                "be5a404c.df63b"
            ]
        ],
        "x": 513,
        "xml": "<outcome value='Other'>\n",
        "y": 386,
        "z": "c751ea25.6a3e48"
    },
    {
        "comments": "",
        "id": "49baafab.739d7",
        "name": "failure",
        "outputs": 1,
        "type": "failure",
        "wires": [
            [
                "ea274695.4ed0a"
            ]
        ],
        "x": 1107.0000610351562,
        "xml": "<outcome value='failure'>\n",
        "y": 443.00000762939453,
        "z": "c751ea25.6a3e48"
    },
    {
        "comments": "",
        "id": "9040169.c537f68",
        "name": "outcome 101",
        "outputs": 1,
        "type": "other",
        "wires": [
            [
                "ea274695.4ed0a"
            ]
        ],
        "x": 762,
        "xml": "<outcome value='101'>\n",
        "y": 381.00003814697266,
        "z": "c751ea25.6a3e48"
    },
    {
        "comments": "",
        "id": "225528dc.01ae88",
        "name": "success",
        "outputs": 1,
        "type": "success",
        "wires": [
            [
                "6714b2b5.d30774"
            ]
        ],
        "x": 1114.0000610351562,
        "xml": "<outcome value='success'>\n",
        "y": 491.00003814697266,
        "z": "c751ea25.6a3e48"
    },
    {
        "comments": "",
        "id": "a635bf9c.d50128",
        "name": "return success",
        "type": "returnSuccess",
        "wires": [],
        "x": 1396.9999389648438,
        "xml": "<return status='success'>\n<parameter name='status.code' value='`$org.onap.appc.adapter.ansible.result.code`' />\n<parameter name='status.message' value='`$org.onap.appc.adapter.ansible.message`'/>",
        "y": 543.0000381469727,
        "z": "c751ea25.6a3e48"
    },
    {
        "id": "cfce7550.eb4e38",
        "name": "DGSTART",
        "outputs": 1,
        "type": "dgstart",
        "wires": [
            [
                "761735d6.a3ecec"
            ]
        ],
        "x": 134,
        "y": 159,
        "z": "c751ea25.6a3e48"
    },
    {
        "atomic": "false",
        "comments": "",
        "id": "7b5d3338.9d34a4",
        "name": "block",
        "outputs": 1,
        "type": "block",
        "wires": [
            [
                "df87797d.9a6da8",
                "61c92510.8e1f44",
                "88ad34a4.11ef"
            ]
        ],
        "x": 129.91668701171875,
        "xml": "<block>\n",
        "y": 340.0833435058594,
        "z": "c751ea25.6a3e48"
    },
    {
        "comments": "",
        "id": "61c92510.8e1f44",
        "name": "execute Properties",
        "outputs": 1,
        "type": "execute",
        "wires": [
            []
        ],
        "x": 303.00001525878906,
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/lcm-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
        "y": 293.0833435058594,
        "z": "c751ea25.6a3e48"
    },
    {
        "comments": "",
        "id": "1b10ccd4.98611b",
        "name": "execute DmaapMsg",
        "outputs": 1,
        "type": "execute",
        "wires": [
            [
                "41a315d2.219cbc"
            ]
        ],
        "x": 1114.0000610351562,
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.lcm.dmaap.publish.templatefile`\" />\n    <parameter name='restapiUrl' value='`$prop.lcm.dmaap.url`' />\n    <parameter name='restapiUser' value='`$prop.lcm.dmaap.user`' />\n    <parameter name='restapiPassword' value='`$prop.lcm.dmaap.password`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='POST' />\n    <parameter name='contentType' value='application/json' />\n    <parameter name=\"responsePrefix\" value=\"lcm\" />\n",
        "y": 287.0833435058594,
        "z": "c751ea25.6a3e48"
    },
    {
        "comments": "",
        "id": "41a315d2.219cbc",
        "name": "failure",
        "outputs": 1,
        "type": "failure",
        "wires": [
            [
                "8cd3938a.e26c48"
            ]
        ],
        "x": 1284,
        "xml": "<outcome value='failure'>\n",
        "y": 286.0833435058594,
        "z": "c751ea25.6a3e48"
    },
    {
        "atomic": "false",
        "comments": "",
        "id": "ea274695.4ed0a",
        "name": "block",
        "outputs": 1,
        "type": "block",
        "wires": [
            [
                "1b10ccd4.98611b",
                "bccd0081.01b13",
                "7a021bb.f1ec464"
            ]
        ],
        "x": 917,
        "xml": "<block>\n",
        "y": 311.0833435058594,
        "z": "c751ea25.6a3e48"
    },
    {
        "comments": "",
        "id": "bdd486fa.e9a568",
        "name": "execute DmaapMsg",
        "outputs": 1,
        "type": "execute",
        "wires": [
            [
                "9f6ebc1e.f5d92"
            ]
        ],
        "x": 1417.4999389648438,
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.lcm.dmaap.publish.templatefile`\" />\n    <parameter name='restapiUrl' value='`$prop.lcm.dmaap.url`' />\n    <parameter name='restapiUser' value='`$prop.lcm.dmaap.user`' />\n    <parameter name='restapiPassword' value='`$prop.lcm.dmaap.password`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='POST' />\n    <parameter name='contentType' value='application/json' />\n    <parameter name=\"responsePrefix\" value=\"lcm\" />\n",
        "y": 492.0833511352539,
        "z": "c751ea25.6a3e48"
    },
    {
        "comments": "",
        "id": "9f6ebc1e.f5d92",
        "name": "failure",
        "outputs": 1,
        "type": "failure",
        "wires": [
            [
                "570d9c94.41a1c4"
            ]
        ],
        "x": 1577.4999389648438,
        "xml": "<outcome value='failure'>\n",
        "y": 492.0833511352539,
        "z": "c751ea25.6a3e48"
    },
    {
        "comments": "",
        "id": "8cd3938a.e26c48",
        "name": "record",
        "outputs": 1,
        "type": "record",
        "wires": [
            []
        ],
        "x": 1416,
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\"> \n\t<parameter name=\"logger\" value=\"message-log\"/> \n\t<parameter name=\"field1\" value='Failed to Publish to DMaap'/>",
        "y": 286.0833435058594,
        "z": "c751ea25.6a3e48"
    },
    {
        "comments": "",
        "id": "bccd0081.01b13",
        "name": "return failure",
        "type": "returnFailure",
        "wires": [],
        "x": 1088.9166870117188,
        "xml": "<return status='failure'>\n<parameter name='status.code' value='401' />\n<parameter name='status.message' value='`$org.onap.appc.adapter.ansible.message`' />\n",
        "y": 324.0833435058594,
        "z": "c751ea25.6a3e48"
    },
    {
        "comments": "",
        "id": "570d9c94.41a1c4",
        "name": "record",
        "outputs": 1,
        "type": "record",
        "wires": [
            []
        ],
        "x": 1698.9166870117188,
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\"> \n\t<parameter name=\"logger\" value=\"message-log\"/> \n\t<parameter name=\"field1\" value='Failed to Publish to DMaap'/>",
        "y": 493.0833511352539,
        "z": "c751ea25.6a3e48"
    },
    {
        "comments": "",
        "id": "7a021bb.f1ec464",
        "name": "set",
        "type": "set",
        "wires": [],
        "x": 1066.0000610351562,
        "xml": "<set>\n<parameter name='lcm-dmaap.version' value='`$prop.lcm.dmaap.version`'/>\n<parameter name='lcm-dmaap.correlation-id' value='`$upgrade-pre-check-input.common-header.sub-request-id`'/>\n<parameter name='lcm-dmaap.partition' value='`$prop.lcm.dmaap.partition`'/>\n<parameter name='lcm-dmaap.rpc-name' value='upgrade-pre-check'/>\n<parameter name='lcm-dmaap.type' value='`$prop.lcm.dmaap.type`'/>\n<parameter name='lcm-dmaap.timestamp' value='`$upgrade-pre-check-input.common-header.timestamp`'/>\n<parameter name='lcm-dmaap.api-ver' value='`$upgrade-pre-check-input.common-header.api-ver`'/>\n<parameter name='lcm-dmaap.originator-id' value='`$upgrade-pre-check-input.common-header.originator-id`'/>\n<parameter name='lcm-dmaap.request-id' value='`$upgrade-pre-check-input.common-header.originator-id`'/>\n<parameter name='lcm-dmaap.sub-request-id' value='`$upgrade-pre-check-input.common-header.sub-request-id`'/>\n<parameter name='lcm-dmaap.flags.mode' value='`$upgrade-pre-check-input.common-header.flags.mode`'/>\n<parameter name='lcm-dmaap.flags.force' value='`$upgrade-pre-check-input.common-header.flags.force`'/>\n<parameter name='lcm-dmaap.flags.ttl' value='`$upgrade-pre-check-input.common-header.flags.ttl`'/>\n<parameter name='lcm-dmaap.payload' value='`$org.onap.appc.adapter.ansible.results`'/>\n<parameter name='lcm-dmaap.status.code' value='`$org.onap.appc.adapter.ansible.result.code`' />\n<parameter name='lcm-dmaap.status.message' value='`$org.onap.appc.adapter.ansible.message`'/>\n",
        "y": 234.08334350585938,
        "z": "c751ea25.6a3e48"
    },
    {
        "atomic": "false",
        "comments": "",
        "id": "6714b2b5.d30774",
        "name": "block",
        "outputs": 1,
        "type": "block",
        "wires": [
            [
                "bdd486fa.e9a568",
                "a28655e0.def7f8",
                "a635bf9c.d50128"
            ]
        ],
        "x": 1246.9999389648438,
        "xml": "<block>\n",
        "y": 491.0833206176758,
        "z": "c751ea25.6a3e48"
    },
    {
        "comments": "",
        "id": "a28655e0.def7f8",
        "name": "set",
        "type": "set",
        "wires": [],
        "x": 1377.1666870117188,
        "xml": "<set>\n<parameter name='lcm-dmaap.version' value='`$prop.lcm.dmaap.version`'/>\n<parameter name='lcm-dmaap.correlation-id' value='`$upgrade-pre-check-input.common-header.sub-request-id`'/>\n<parameter name='lcm-dmaap.partition' value='`$prop.lcm.dmaap.partition`'/>\n<parameter name='lcm-dmaap.rpc-name' value='upgrade-pre-check'/>\n<parameter name='lcm-dmaap.type' value='`$prop.lcm.dmaap.type`'/>\n<parameter name='lcm-dmaap.timestamp' value='`$upgrade-pre-check-input.common-header.timestamp`'/>\n<parameter name='lcm-dmaap.api-ver' value='`$upgrade-pre-check-input.common-header.api-ver`'/>\n<parameter name='lcm-dmaap.originator-id' value='`$upgrade-pre-check-input.common-header.originator-id`'/>\n<parameter name='lcm-dmaap.request-id' value='`$upgrade-pre-check-input.common-header.originator-id`'/>\n<parameter name='lcm-dmaap.sub-request-id' value='`$upgrade-pre-check-input.common-header.sub-request-id`'/>\n<parameter name='lcm-dmaap.flags.mode' value='`$upgrade-pre-check-input.common-header.flags.mode`'/>\n<parameter name='lcm-dmaap.flags.force' value='`$upgrade-pre-check-input.common-header.flags.force`'/>\n<parameter name='lcm-dmaap.flags.ttl' value='`$upgrade-pre-check-input.common-header.flags.ttl`'/>\n<parameter name='lcm-dmaap.payload' value='`$org.onap.appc.adapter.ansible.results`'/>\n<parameter name='lcm-dmaap.status.code' value='`$org.onap.appc.adapter.ansible.result.code`' />\n<parameter name='lcm-dmaap.status.message' value='`$org.onap.appc.adapter.ansible.message`'/>\n",
        "y": 444.0833511352539,
        "z": "c751ea25.6a3e48"
    },
    {
        "comments": "",
        "id": "98923780.210838",
        "name": "not-found",
        "outputs": 1,
        "type": "not-found",
        "wires": [
            [
                "504babef.4c020c"
            ]
        ],
        "x": 507,
        "xml": "<outcome value='not-found'>\n",
        "y": 287,
        "z": "c751ea25.6a3e48"
    },
    {
        "comments": "",
        "id": "4ab0c40.39584bc",
        "name": "set Defaults",
        "type": "set",
        "wires": [],
        "x": 891,
        "xml": "<set>\n<parameter name='org.onap.appc.adapter.ansible.result.code' value='401'/>\n<parameter name='org.onap.appc.adapter.ansible.message' value='Ansible Adapter was not found'/>\n",
        "y": 234,
        "z": "c751ea25.6a3e48"
    },
    {
        "atomic": "false",
        "comments": "",
        "id": "504babef.4c020c",
        "name": "block",
        "outputs": 1,
        "type": "block",
        "wires": [
            [
                "4ab0c40.39584bc",
                "ea274695.4ed0a"
            ]
        ],
        "x": 691,
        "xml": "<block>\n",
        "y": 279,
        "z": "c751ea25.6a3e48"
    },
    {
        "comments": "",
        "id": "88ad34a4.11ef",
        "name": "set default status value",
        "type": "set",
        "wires": [],
        "x": 312,
        "xml": "<set>\n<parameter name='status.code' value='200' />\n<parameter name='status.message' value='unexpected return from DG' />\n",
        "y": 337,
        "z": "c751ea25.6a3e48"
    }
]
