


[{"id":"31cafe01.9adca2","type":"switchNode","name":"switch: request-action","xml":"<switch test=\"`$network-topology-operation-input.request-information.request-action`\">\n","comments":"","outputs":1,"x":371.4285888671875,"y":270.0613708496094,"z":"77e6e7e2.0c2078","wires":[["20cf373a.361a98","1e0fc860.39fab8","1be0c7c8.9720a8"]]},{"id":"20cf373a.361a98","type":"other","name":"NetworkActivateRequest","xml":"<outcome value='NetworkActivateRequest'>","comments":"","outputs":1,"x":632.0319213867188,"y":269.2359848022461,"z":"77e6e7e2.0c2078","wires":[["d5087218.fb661"]]},{"id":"15061e2c.b35542","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":154.1070327758789,"y":184.20634078979492,"z":"77e6e7e2.0c2078","wires":[["31cafe01.9adca2","577eb935.6138d8"]]},{"id":"577eb935.6138d8","type":"record","name":"record","xml":"<record plugin=\"com.att.sdnctl.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/svclogic.log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"network-topology-operation\"/>\n<parameter name=\"field3\" value=\"`$network-topology-operation-input.sdnc-request-header.svc-action`\"/>\n<parameter name=\"field4\" value=\"`$network-topology-operation-input.sdnc-request-header.svc-request-id`\"/>\n<parameter name=\"field5\" value=\"`$network-topology-operation-input.service-information.service-id`\"/>\n<parameter name=\"field6\" value=\"`$network-topology-operation-input.service-information.service-type`\"/>\n<parameter name=\"field7\" value=\"`$network-topology-operation-input.service-information.subscriber-name`\"/>\n<parameter name=\"field8\" value=\"`$network-topology-operation-input.service-information.service-instance-id`\"/>\n<parameter name=\"field9\" value=\"`$network-topology-operation-input.request-information.request-id`\"/>\n<parameter name=\"field10\" value=\"`$network-topology-operation-input.request-information.request-action`\"/>\n<parameter name=\"field11\" value=\"`$network-topology-operation-input.request-information.source`\"/>\n<parameter name=\"field12\" value=\"`$network-topology-operation-input.network-request-information.network-name`\"/>\n<parameter name=\"field13\" value=\"`$network-topology-operation-input.network-request-information.network-type`\"/>\n<parameter name=\"field14\" value=\"`$network-topology-operation-input.network-request-information.tenant`\"/>\n<parameter name=\"field15\" value=\"`$network-topology-operation-input.network-request-information.aic-cloud-region`\"/>\n<parameter name=\"field16\" value=\"`$network-topology-operation-input.network-request-information.aic-clli`\"/>\n<parameter name=\"field17\" value=\"`$network-topology-operation-input.network-request-information.network-id`\"/>","comments":"","outputs":1,"x":327.53912353515625,"y":183.33685493469238,"z":"77e6e7e2.0c2078","wires":[[]]},{"id":"4283a1fe.970e","type":"method","name":"method network-topology-operation","xml":"<method rpc=\"network-topology-operation\" mode=\"sync\">","comments":"","outputs":1,"x":215.6626205444336,"y":132.76189613342285,"z":"77e6e7e2.0c2078","wires":[["15061e2c.b35542"]]},{"id":"8c257c9.b4a768","type":"service-logic","name":"VNF-API 3.0.0","module":"VNF-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.att.com/sdnctl/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.att.com/sdnctl/svclogic ./svclogic.xsd' module='VNF-API' version='${project.version}'>","outputs":1,"x":291.1070556640625,"y":81.4285717010498,"z":"77e6e7e2.0c2078","wires":[["4283a1fe.970e"]]},{"id":"1888b70.5a9a849","type":"dgstart","name":"DGSTART","outputs":1,"x":126.99594116210938,"y":81.4285717010498,"z":"77e6e7e2.0c2078","wires":[["8c257c9.b4a768"]]},{"id":"2eb8cf98.68207","type":"other","name":"changeassign","xml":"<outcome value='changeassign'>","comments":"","outputs":1,"x":1295.6823081970215,"y":764.8134984970093,"z":"77e6e7e2.0c2078","wires":[["55a1785.811b488"]]},{"id":"183ebb2.55cc445","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1275.5392951965332,"y":680.3813581466675,"z":"77e6e7e2.0c2078","wires":[["bed5b432.c78528"]]},{"id":"bed5b432.c78528","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='svc-action is not found'/>","comments":"","x":1430.8725471496582,"y":680.2385053634644,"z":"77e6e7e2.0c2078","wires":[]},{"id":"b3ce277.8bbe0d8","type":"other","name":"rollback","xml":"<outcome value='rollback'>","comments":"","outputs":1,"x":1275.900478363037,"y":825.8095054626465,"z":"77e6e7e2.0c2078","wires":[["b70577da.72cbd8"]]},{"id":"1e0fc860.39fab8","type":"other","name":"DisconnectNetworkRequest","xml":"<outcome value='DisconnectNetworkRequest'>","comments":"","outputs":1,"x":633.9988098144531,"y":866.2646436691284,"z":"77e6e7e2.0c2078","wires":[["d5bba27d.129ba"]]},{"id":"d5bba27d.129ba","type":"switchNode","name":"switch: svc-action","xml":"<switch test=\"`$network-topology-operation-input.sdnc-request-header.svc-action`\">\n<!--\nleaf svc-action { \n\ttype enumeration { \n\t\tenum \"reserve\";\n\t\tenum \"assign\";\n\t\tenum \"activate\";  // equal to commit\n\t\tenum \"delete\";\t  // equal to commit\n\t\tenum \"changeassign\";\n\t\tenum \"changedelete\";\n\t\tenum \"rollback\";\n\t}\n}\n-->\n\n","comments":"","outputs":1,"x":1053.1556777954102,"y":866.0714836120605,"z":"77e6e7e2.0c2078","wires":[["c42c53f4.a698e","bbac4b77.98a938","b3ce277.8bbe0d8"]]},{"id":"c42c53f4.a698e","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1273.327880859375,"y":907.3238182067871,"z":"77e6e7e2.0c2078","wires":[["e9be7005.8afb1"]]},{"id":"bbac4b77.98a938","type":"other","name":"delete","xml":"<outcome value='delete'>","comments":"","outputs":1,"x":1273.097999572754,"y":866.6927261352539,"z":"77e6e7e2.0c2078","wires":[["ca6df125.11a36"]]},{"id":"1be0c7c8.9720a8","type":"other","name":"outcome: Other","xml":"<outcome value=\"Other\">\n\n","outputs":1,"x":588.8092346191406,"y":1034.5774583816528,"z":"77e6e7e2.0c2078","wires":[["19650673.dc91ba"]]},{"id":"19650673.dc91ba","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='request-action is not found'/>","comments":"","x":777.1857681274414,"y":1034.2418870925903,"z":"77e6e7e2.0c2078","wires":[]},{"id":"e0fbbcbd.94887","type":"switchNode","name":"switch: svc-action","xml":"<switch test=\"`$network-topology-operation-input.sdnc-request-header.svc-action`\">\n<!--\nleaf svc-action { \n\ttype enumeration { \n\t\tenum \"reserve\";\n\t\tenum \"assign\";\n\t\tenum \"activate\";  // equal to commit\n\t\tenum \"delete\";\t  // equal to commit\n\t\tenum \"changeassign\";\n\t\tenum \"changedelete\";\n\t\tenum \"rollback\";\n\t}\n}\n-->\n\n","comments":"","outputs":1,"x":1062.7933540344238,"y":680.813473701477,"z":"77e6e7e2.0c2078","wires":[["183ebb2.55cc445","4694c88.93afa38","2eb8cf98.68207","b3ce277.8bbe0d8"]]},{"id":"4694c88.93afa38","type":"other","name":"assign","xml":"<outcome value='assign'>","comments":"","outputs":1,"x":1274.5710906982422,"y":722.0357122421265,"z":"77e6e7e2.0c2078","wires":[["d2be8e97.44cde"]]},{"id":"d2be8e97.44cde","type":"call","name":"call network-topology-assign","xml":"<call module=\"VNF-API\" rpc=\"network-topology-assign\" mode=\"sync\" >\n","comments":"","outputs":1,"x":1479.015712738037,"y":721.7023401260376,"z":"77e6e7e2.0c2078","wires":[[]]},{"id":"55a1785.811b488","type":"call","name":"call network-topology-changeassign","xml":"<call module=\"VNF-API\" rpc=\"network-topology-changeassign\" mode=\"sync\" >\n","comments":"","outputs":1,"x":1542.3489036560059,"y":764.702374458313,"z":"77e6e7e2.0c2078","wires":[[]]},{"id":"ca6df125.11a36","type":"call","name":"call network-topology-delete","xml":"<call module=\"VNF-API\" rpc=\"network-topology-delete\" mode=\"sync\" >\n","comments":"","outputs":1,"x":1487.011703491211,"y":866.4483852386475,"z":"77e6e7e2.0c2078","wires":[[]]},{"id":"b70577da.72cbd8","type":"call","name":"call network-topology-rollback","xml":"<call module=\"VNF-API\" rpc=\"network-topology-rollback\" mode=\"sync\" >\n","comments":"","outputs":1,"x":1493.678394317627,"y":825.6983976364136,"z":"77e6e7e2.0c2078","wires":[[]]},{"id":"e9be7005.8afb1","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='svc-action is not found'/>","comments":"","x":1440.2337760925293,"y":907.654748916626,"z":"77e6e7e2.0c2078","wires":[]},{"id":"f8ae8d90.96fb9","type":"switchNode","name":"switch: INPUT tenant","xml":"<switch test=\"`$network-topology-operation-input.network-request-information.tenant`\">","comments":"","outputs":1,"x":1072.9252319335938,"y":592.666690826416,"z":"77e6e7e2.0c2078","wires":[["28fb3d78.eb0af2"]]},{"id":"93bb40f4.7ba4f","type":"switchNode","name":"switch: INPUT aic-cloud-region","xml":"<switch test=\"`$network-topology-operation-input.network-request-information.aic-cloud-region`\">","comments":"","outputs":1,"x":1103.6630859375,"y":549.5674476623535,"z":"77e6e7e2.0c2078","wires":[["13cb6d46.7a9153"]]},{"id":"13cb6d46.7a9153","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":1323.6630859375,"y":549.5674476623535,"z":"77e6e7e2.0c2078","wires":[["ff46b0fc.13c06"]]},{"id":"ff46b0fc.13c06","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='500'/>\n\t<parameter name='error-message' value='aic-cloud-region is required.'/>","comments":"","x":1481.6630859375,"y":549.5674476623535,"z":"77e6e7e2.0c2078","wires":[]},{"id":"e5a3480f.852ad8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='500'/>\n\t<parameter name='error-message' value='tenant is required.'/>","comments":"","x":1420.6630859375,"y":592.5674476623535,"z":"77e6e7e2.0c2078","wires":[]},{"id":"28fb3d78.eb0af2","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":1261.6630859375,"y":592.5674476623535,"z":"77e6e7e2.0c2078","wires":[["e5a3480f.852ad8"]]},{"id":"4d3b388f.6b7b98","type":"switchNode","name":"switch: INPUT service-id","xml":"<switch test=\"`$network-topology-operation-input.service-information.service-id`\">","comments":"","outputs":1,"x":1083.0402221679688,"y":636.6785926818848,"z":"77e6e7e2.0c2078","wires":[["9466e4e0.c54e58"]]},{"id":"9466e4e0.c54e58","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":1280.0402221679688,"y":636.6785926818848,"z":"77e6e7e2.0c2078","wires":[["d80af115.ca6c7"]]},{"id":"d80af115.ca6c7","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='500'/>\n\t<parameter name='error-message' value='service-id is required.'/>","comments":"","x":1438.0402221679688,"y":636.6785926818848,"z":"77e6e7e2.0c2078","wires":[]},{"id":"d5087218.fb661","type":"block","name":"block: atomic","xml":"<block atomic=\"true\">\n","atomic":"false","comments":"","outputs":1,"x":850.1785926818848,"y":268.6446952819824,"z":"77e6e7e2.0c2078","wires":[["93bb40f4.7ba4f","f8ae8d90.96fb9","4d3b388f.6b7b98","e0fbbcbd.94887","6c34a2d6.99642c","ec4123bf.eee3b","ff6a348f.ffa388"]]},{"id":"6c34a2d6.99642c","type":"switchNode","name":"switch test: INPUT network-name","xml":"<switch test=\"`$network-topology-operation-input.network-request-information.network-name`\">","comments":"","outputs":1,"x":1107.4744110107422,"y":269.53583812713623,"z":"77e6e7e2.0c2078","wires":[["80a2e828.b1ec78","c1ab4aa6.364898"]]},{"id":"80a2e828.b1ec78","type":"other","name":"Other","xml":"<outcome value='Other'>","comments":"","outputs":1,"x":1332.9188079833984,"y":269.5358238220215,"z":"77e6e7e2.0c2078","wires":[["4b7119ee.fa71d8"]]},{"id":"c1ab4aa6.364898","type":"other","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":1332.7124862670898,"y":315.1866683959961,"z":"77e6e7e2.0c2078","wires":[["81af9fea.61ea4"]]},{"id":"4b7119ee.fa71d8","type":"switchNode","name":"switch test: PRELOAD network-name","xml":"<switch test=\"`$preload-data.network-topology-information.network-topology-identifier.network-name`\">","comments":"","outputs":1,"x":1570.5422401428223,"y":269.7703857421875,"z":"77e6e7e2.0c2078","wires":[["4d1bddd5.84a7d4","d843d3b9.82fae"]]},{"id":"81af9fea.61ea4","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='network-name is required from input'/>","comments":"","x":1491.9902648925781,"y":315.1033058166504,"z":"77e6e7e2.0c2078","wires":[]},{"id":"4d1bddd5.84a7d4","type":"other","name":"Other","xml":"<outcome value='Other'>","comments":"","outputs":1,"x":1826.3633117675781,"y":269.20250034332275,"z":"77e6e7e2.0c2078","wires":[["7a6d0faa.240a7"]]},{"id":"d843d3b9.82fae","type":"other","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":1826.823631286621,"y":310.7421703338623,"z":"77e6e7e2.0c2078","wires":[["53c2ee9e.fca61"]]},{"id":"7a6d0faa.240a7","type":"switchNode","name":"switch: network-name INPUT == PRELOAD","xml":"<switch test=\"`$network-topology-operation-input.network-request-information.network-name == $preload-data.network-topology-information.network-topology-identifier.network-name`\">","comments":"","outputs":1,"x":2089.620864868164,"y":269.8973398208618,"z":"77e6e7e2.0c2078","wires":[["6a236a9f.8b8514"]]},{"id":"53c2ee9e.fca61","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='network-name not found from preload-data'/>","comments":"","x":1988.3235702514648,"y":310.76990699768066,"z":"77e6e7e2.0c2078","wires":[]},{"id":"6a236a9f.8b8514","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":2356.030086517334,"y":269.2027349472046,"z":"77e6e7e2.0c2078","wires":[["89b3fea6.2f7df"]]},{"id":"89b3fea6.2f7df","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value=\"`'No preload-data found to match input network-name = ' + $network-topology-operation-input.network-request-information.network-name`\"/>","comments":"","x":2523.5856323242188,"y":268.5358238220215,"z":"77e6e7e2.0c2078","wires":[]},{"id":"ec4123bf.eee3b","type":"switchNode","name":"switch test: INPUT network-type","xml":"<switch test=\"`$network-topology-operation-input.network-request-information.network-type`\">","comments":"","outputs":1,"x":1108.5715026855469,"y":390.0613555908203,"z":"77e6e7e2.0c2078","wires":[["951992a5.361","6668c754.77fdc8"]]},{"id":"951992a5.361","type":"other","name":"Other","xml":"<outcome value='Other'>","comments":"","outputs":1,"x":1334.0158996582031,"y":390.06134128570557,"z":"77e6e7e2.0c2078","wires":[["d03cda02.c26cc8"]]},{"id":"6668c754.77fdc8","type":"other","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":1333.8095779418945,"y":435.7121858596802,"z":"77e6e7e2.0c2078","wires":[["3fbf5322.83e6dc"]]},{"id":"d03cda02.c26cc8","type":"switchNode","name":"switch test: PRELOAD network-type","xml":"<switch test=\"`$preload-data.network-topology-information.network-topology-identifier.network-type`\">","comments":"","outputs":1,"x":1571.639331817627,"y":390.2959032058716,"z":"77e6e7e2.0c2078","wires":[["5d7fef2e.5cba","52bcb.31e0b435c"]]},{"id":"3fbf5322.83e6dc","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='network-type is required from input'/>","comments":"","x":1493.0873565673828,"y":435.6288232803345,"z":"77e6e7e2.0c2078","wires":[]},{"id":"5d7fef2e.5cba","type":"other","name":"Other","xml":"<outcome value='Other'>","comments":"","outputs":1,"x":1827.4604034423828,"y":389.72801780700684,"z":"77e6e7e2.0c2078","wires":[["79120c5d.b5e044"]]},{"id":"52bcb.31e0b435c","type":"other","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":1827.9207229614258,"y":431.2676877975464,"z":"77e6e7e2.0c2078","wires":[["8087d80e.4b69e8"]]},{"id":"79120c5d.b5e044","type":"switchNode","name":"switch: network-type INPUT == PRELOAD","xml":"<switch test=\"`$network-topology-operation-input.network-request-information.network-type == $preload-data.network-topology-information.network-topology-identifier.network-type`\">","comments":"","outputs":1,"x":2090.7179565429688,"y":390.4228572845459,"z":"77e6e7e2.0c2078","wires":[["d8519067.4d8bf"]]},{"id":"8087d80e.4b69e8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='network-type not found from preload-data'/>","comments":"","x":1989.4206619262695,"y":431.29542446136475,"z":"77e6e7e2.0c2078","wires":[]},{"id":"d8519067.4d8bf","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":2357.1271781921387,"y":389.7282524108887,"z":"77e6e7e2.0c2078","wires":[["642b9594.3cd29c"]]},{"id":"642b9594.3cd29c","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value=\"`'No preload-data found to match input network-type = ' + $network-topology-operation-input.network-request-information.network-type`\"/>","comments":"","x":2524.6827239990234,"y":389.06134128570557,"z":"77e6e7e2.0c2078","wires":[]},{"id":"ff6a348f.ffa388","type":"switchNode","name":"switch: INPUT service-instance-id","xml":"<switch test=\"`$network-topology-operation-input.service-information.service-instance-id`\">","comments":"","outputs":1,"x":1111.4285888671875,"y":498.5714416503906,"z":"77e6e7e2.0c2078","wires":[["339b56d0.67aada"]]},{"id":"339b56d0.67aada","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":1331.4285888671875,"y":498.5714416503906,"z":"77e6e7e2.0c2078","wires":[["dafca54f.6d6618"]]},{"id":"dafca54f.6d6618","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='500'/>\n\t<parameter name='error-message' value='service-instance-id is required.'/>","comments":"","x":1489.4285888671875,"y":498.5714416503906,"z":"77e6e7e2.0c2078","wires":[]}]
