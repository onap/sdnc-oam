[{"id":"ecfd446.c8e6db8","type":"dgstart","name":"DGSTART","outputs":1,"x":151.42857360839844,"y":71.42857360839844,"z":"90fcb1aa.a1448","wires":[["e69472a9.d3b2a"]]},{"id":"e69472a9.d3b2a","type":"service-logic","name":"VNF-API ${project.version}","module":"VNF-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.openecomp.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.openecomp.org/sdnc/svclogic ./svclogic.xsd' module='VNF-API' version='${project.version}'>","outputs":1,"x":359.03968048095703,"y":72.20635795593262,"z":"90fcb1aa.a1448","wires":[["49a5af1f.da5b7"]]},{"id":"49a5af1f.da5b7","type":"method","name":"vnf-topology-preload-operation","xml":"<method rpc='vnf-topology-preload-operation' mode='sync'>\n","comments":"","outputs":1,"x":278.64282989501953,"y":132.22221851348877,"z":"90fcb1aa.a1448","wires":[["8576973d.92c088"]]},{"id":"fbe5f1ca.06e32","type":"switchNode","name":"switch: svc-action","xml":"<switch test=\"`$vnf-topology-operation-input.sdnc-request-header.svc-action`\">\n<!--\nleaf svc-action { \n\ttype enumeration { \n\t\tenum \"reserve\";\n\t\tenum \"assign\";\n\t\tenum \"activate\";  // equal to commit\n\t\tenum \"delete\";\t  // equal to commit\n\t\tenum \"changeassign\";\n\t\tenum \"changedelete\";\n\t\tenum \"rollback\";\n\t}\n}\n-->\n\n","comments":"","outputs":1,"x":961.1270065307617,"y":676.7618522644043,"z":"90fcb1aa.a1448","wires":[["58406fef.704ae","b5b24d43.0e32a","28495c3b.10d164"]]},{"id":"4ef4e8d7.2f48f8","type":"other","name":"Other","xml":"<outcome value='Other'>","comments":"","outputs":1,"x":1124.1032028198242,"y":1022.7620534896851,"z":"90fcb1aa.a1448","wires":[["6e1baf53.e5c13"]]},{"id":"58406fef.704ae","type":"other","name":"assign","xml":"<outcome value='assign'>","comments":"","outputs":1,"x":1191.1825942993164,"y":677.0118398666382,"z":"90fcb1aa.a1448","wires":[["364fe422.188fdc"]]},{"id":"6e1baf53.e5c13","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='svc-action not recognized'/>\n","comments":"","x":1296.1032028198242,"y":1022.7620534896851,"z":"90fcb1aa.a1448","wires":[]},{"id":"b5b24d43.0e32a","type":"other","name":"activate","xml":"<outcome value='activate'>","comments":"","outputs":1,"x":1194.1825942993164,"y":770.2618398666382,"z":"90fcb1aa.a1448","wires":[["3ffccc2c.606934"]]},{"id":"28495c3b.10d164","type":"other","name":"rollback","xml":"<outcome value='rollback'>","comments":"","outputs":1,"x":1193.9325942993164,"y":724.5118398666382,"z":"90fcb1aa.a1448","wires":[["984dcc3e.22fa2"]]},{"id":"21fd7fda.b70b7","type":"other","name":"changeassign","xml":"<outcome value='changeassign'>","comments":"","outputs":1,"x":1196.6825942993164,"y":847.5118398666382,"z":"90fcb1aa.a1448","wires":[["f20c2dbb.2aac5"]]},{"id":"e7e55e15.851e8","type":"other","name":"delete","xml":"<outcome value='delete'>","comments":"","outputs":1,"x":1125.1865615844727,"y":976.3731288909912,"z":"90fcb1aa.a1448","wires":[["a125bb51.751b38"]]},{"id":"72344080.c2b31","type":"call","name":"call: vnf-topology-assign","xml":"<call module='VNF-API' rpc='vnf-topology-assign' mode='sync' >","comments":"","outputs":1,"x":1563.4325942993164,"y":677.0118379592896,"z":"90fcb1aa.a1448","wires":[[]]},{"id":"687a0c33.31c034","type":"call","name":"call: vnf-topology-changeassign","xml":"<call module='VNF-API' rpc='vnf-topology-changeassign' mode='sync' >","comments":"","outputs":1,"x":1590.6827011108398,"y":846.0118474960327,"z":"90fcb1aa.a1448","wires":[[]]},{"id":"2fb3d96e.4467e6","type":"call","name":"call: vnf-topology-rollback","xml":"<call module='VNF-API' rpc='vnf-topology-rollback' mode='sync' >","comments":"","outputs":1,"x":1588.4327011108398,"y":724.5118503570557,"z":"90fcb1aa.a1448","wires":[[]]},{"id":"a125bb51.751b38","type":"call","name":"call: vnf-topology-delete","xml":"<call module='VNF-API' rpc='vnf-topology-delete' mode='sync' >","comments":"","outputs":1,"x":1333.9366302490234,"y":976.3731298446655,"z":"90fcb1aa.a1448","wires":[[]]},{"id":"ae280786.55b598","type":"call","name":"call: vnf-topology-activate","xml":"<call module='VNF-API' rpc='vnf-topology-activate' mode='sync' >","comments":"","outputs":1,"x":1587.9326934814453,"y":769.5118451118469,"z":"90fcb1aa.a1448","wires":[[]]},{"id":"ae13974f.230318","type":"comment","name":"vnf-topology-preload-operation","info":"","comments":"","x":755.5674362182617,"y":69.76587104797363,"z":"90fcb1aa.a1448","wires":[]},{"id":"8576973d.92c088","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":215.57142639160156,"y":189.42857837677002,"z":"90fcb1aa.a1448","wires":[["35263d47.8fe532","bd7ff406.cff8d8","5fc85a6c.128844"]]},{"id":"35263d47.8fe532","type":"switchNode","name":"switch: INPUT vnf-name","xml":"<switch test=\"`$vnf-topology-operation-input.vnf-request-information.vnf-name`\">","comments":"","outputs":1,"x":464.0793685913086,"y":189.5872802734375,"z":"90fcb1aa.a1448","wires":[["7ac1eb4c.aaea44","a474373f.212b48"]]},{"id":"7ac1eb4c.aaea44","type":"outcome","name":"Other","xml":"<outcome value='Other'>","comments":"","outputs":1,"x":678.0793685913086,"y":189.5872802734375,"z":"90fcb1aa.a1448","wires":[["2ddfc00b.ef1f9"]]},{"id":"a474373f.212b48","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":679.0794143676758,"y":237.015851020813,"z":"90fcb1aa.a1448","wires":[["9f67a712.7667e8"]]},{"id":"2ddfc00b.ef1f9","type":"switchNode","name":"switch: PRELOAD vnf-name","xml":"<switch test=\"`$preload-data.vnf-topology-information.vnf-topology-identifier.vnf-name`\">","comments":"","outputs":1,"x":889.0793685913086,"y":189.5872802734375,"z":"90fcb1aa.a1448","wires":[["7de2a5a2.95fedc","ca8874ea.540d58"]]},{"id":"7de2a5a2.95fedc","type":"outcome","name":"Other","xml":"<outcome value='Other'>","comments":"","outputs":1,"x":1100.0793685913086,"y":189.5872802734375,"z":"90fcb1aa.a1448","wires":[["6a78f1f3.08433"]]},{"id":"ca8874ea.540d58","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":1101.0794143676758,"y":236.015851020813,"z":"90fcb1aa.a1448","wires":[["dbbf2d70.e27f2"]]},{"id":"6a78f1f3.08433","type":"switchNode","name":"switch: vnf-name INPUT == PRELOAD","xml":"<switch test=\"`$vnf-topology-operation-input.vnf-request-information.vnf-name == $preload-data.vnf-topology-information.vnf-topology-identifier.vnf-name`\">","comments":"","outputs":1,"x":1348.0793533325195,"y":189.58727836608887,"z":"90fcb1aa.a1448","wires":[["b63d7de9.65634"]]},{"id":"b63d7de9.65634","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1594.4127197265625,"y":189.25418090820312,"z":"90fcb1aa.a1448","wires":[["c5a8ecd2.94018"]]},{"id":"c5a8ecd2.94018","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='request.vnf-name not found in preload-data'/>","comments":"","x":1753.079345703125,"y":188.5872802734375,"z":"90fcb1aa.a1448","wires":[]},{"id":"dbbf2d70.e27f2","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='No preload data found to match vnf-name'/>","comments":"","x":1268.0794143676758,"y":236.015851020813,"z":"90fcb1aa.a1448","wires":[]},{"id":"9f67a712.7667e8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='vnf-name is required'/>","comments":"","x":840.5794143676758,"y":237.265851020813,"z":"90fcb1aa.a1448","wires":[]},{"id":"bd7ff406.cff8d8","type":"switchNode","name":"switch: INPUT vnf-type","xml":"<switch test=\"`$vnf-topology-operation-input.vnf-request-information.vnf-type`\">","comments":"","outputs":1,"x":455.93651580810547,"y":309.0158438682556,"z":"90fcb1aa.a1448","wires":[["c6c117a9.0bfc18","836c6f03.34efc"]]},{"id":"c6c117a9.0bfc18","type":"outcome","name":"Other","xml":"<outcome value='Other'>","comments":"","outputs":1,"x":672.9365081787109,"y":310.0158438682556,"z":"90fcb1aa.a1448","wires":[["91b66278.02ebd"]]},{"id":"836c6f03.34efc","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":673.9365501403809,"y":360.30156087875366,"z":"90fcb1aa.a1448","wires":[["27d64510.5dea2a"]]},{"id":"91b66278.02ebd","type":"switchNode","name":"switch: PRELOAD vnf-type","xml":"<switch test=\"`$preload-data.vnf-topology-information.vnf-topology-identifier.vnf-type`\">","comments":"","outputs":1,"x":883.9365081787109,"y":310.0158438682556,"z":"90fcb1aa.a1448","wires":[["c44a3e6f.9167c","69a292a6.78815c"]]},{"id":"c44a3e6f.9167c","type":"outcome","name":"Other","xml":"<outcome value='Other'>","comments":"","outputs":1,"x":1094.936508178711,"y":310.0158438682556,"z":"90fcb1aa.a1448","wires":[["9852db7b.8845f8"]]},{"id":"69a292a6.78815c","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":1095.9365501403809,"y":359.30156087875366,"z":"90fcb1aa.a1448","wires":[["3f50aa1f.b9d1d6"]]},{"id":"27d64510.5dea2a","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='vnf-type is required'/>","comments":"","x":835.4365501403809,"y":360.55156087875366,"z":"90fcb1aa.a1448","wires":[]},{"id":"9852db7b.8845f8","type":"switchNode","name":"switch: vnf-type INPUT == PRELOAD","xml":"<switch test=\"`$vnf-topology-operation-input.vnf-request-information.vnf-type == $preload-data.vnf-topology-information.vnf-topology-identifier.vnf-type`\">","comments":"","outputs":1,"x":1342.9364852905273,"y":310.0158438682556,"z":"90fcb1aa.a1448","wires":[["7823137.1aff7ec"]]},{"id":"3f50aa1f.b9d1d6","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='No preload data found to match vnf-type'/>","comments":"","x":1262.9365272521973,"y":359.30156087875366,"z":"90fcb1aa.a1448","wires":[]},{"id":"7823137.1aff7ec","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1591.9364852905273,"y":310.3493399620056,"z":"90fcb1aa.a1448","wires":[["f984cc60.657f6"]]},{"id":"f984cc60.657f6","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='request.vnf-type not found in preload-data'/>","comments":"","x":1750.6031112670898,"y":309.68243932724,"z":"90fcb1aa.a1448","wires":[]},{"id":"bc004c62.39f2c","type":"switchNode","name":"switch: INPUT vnf-id","xml":"<switch test=\"`$vnf-topology-operation-input.vnf-request-information.vnf-id`\">","comments":"","outputs":1,"x":451.4723358154297,"y":426.3373146057129,"z":"90fcb1aa.a1448","wires":[["cf902d84.c9ada","4f0483f5.4fd27c"]]},{"id":"4f0483f5.4fd27c","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":668.4722747802734,"y":477.33730697631836,"z":"90fcb1aa.a1448","wires":[["2ee34862.4ed588"]]},{"id":"cf902d84.c9ada","type":"outcome","name":"0","xml":"<outcome value='0'>","comments":"","outputs":1,"x":667.6152191162109,"y":426.9087600708008,"z":"90fcb1aa.a1448","wires":[["2ee34862.4ed588"]]},{"id":"2ee34862.4ed588","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='vf-modules vnf-id cannot be NULL or 0'/>","comments":"","x":843.3294830322266,"y":477.6230278015137,"z":"90fcb1aa.a1448","wires":[]},{"id":"359f1a4e.441ca6","type":"switchNode","name":"switch: INPUT generic-vnf-id","xml":"<switch test=\"`$vnf-topology-operation-input.vnf-request-information.generic-vnf-id`\">","comments":"","outputs":1,"x":1854.543815612793,"y":441.48017406463623,"z":"90fcb1aa.a1448","wires":[["f412a8db.309988","58fa276b.06c528"]]},{"id":"58fa276b.06c528","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":2087.543785095215,"y":479.6230115890503,"z":"90fcb1aa.a1448","wires":[["310190a6.25983"]]},{"id":"f412a8db.309988","type":"outcome","name":"0","xml":"<outcome value='0'>","comments":"","outputs":1,"x":2086.6867141723633,"y":442.05160999298096,"z":"90fcb1aa.a1448","wires":[["310190a6.25983"]]},{"id":"310190a6.25983","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='generic-vnf-id cannot be NULL or 0'/>","comments":"","x":2241.400993347168,"y":479.9087324142456,"z":"90fcb1aa.a1448","wires":[]},{"id":"ebf33957.96dd08","type":"switchNode","name":"switch: INPUT generic-vnf-name","xml":"<switch test=\"`$vnf-topology-operation-input.vnf-request-information.generic-vnf-name`\">","comments":"","outputs":1,"x":1866.293815612793,"y":522.4801740646362,"z":"90fcb1aa.a1448","wires":[["8cbf81e3.8a352"]]},{"id":"8cbf81e3.8a352","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":2084.293785095215,"y":522.6230115890503,"z":"90fcb1aa.a1448","wires":[["8aeff84e.2e3068"]]},{"id":"8aeff84e.2e3068","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='generic-vnf-name cannot be NULL'/>","comments":"","x":2238.150993347168,"y":522.9087324142456,"z":"90fcb1aa.a1448","wires":[]},{"id":"81ae2d09.9e40d","type":"switchNode","name":"switch: INPUT generic-vnf-type","xml":"<switch test=\"`$vnf-topology-operation-input.vnf-request-information.generic-vnf-type`\">","comments":"","outputs":1,"x":1860.543815612793,"y":566.4801740646362,"z":"90fcb1aa.a1448","wires":[["5397e93d.373b38"]]},{"id":"5397e93d.373b38","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":2078.543785095215,"y":566.6230115890503,"z":"90fcb1aa.a1448","wires":[["3b09d1d2.7f22fe"]]},{"id":"3b09d1d2.7f22fe","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='generic-vnf-type cannot be NULL'/>","comments":"","x":2232.400993347168,"y":566.9087324142456,"z":"90fcb1aa.a1448","wires":[]},{"id":"68fd1702.47fda8","type":"block","name":"block: atomic","xml":"<block atomic=\"true\">\n","atomic":"false","comments":"","outputs":1,"x":1572.0716400146484,"y":441.03577423095703,"z":"90fcb1aa.a1448","wires":[["359f1a4e.441ca6","ebf33957.96dd08","81ae2d09.9e40d","17c9035.62fc5fd"]]},{"id":"3ffccc2c.606934","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1342.5714874267578,"y":769.6785936355591,"z":"90fcb1aa.a1448","wires":[["68fd1702.47fda8","ae280786.55b598"]]},{"id":"f20c2dbb.2aac5","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1367.3215103149414,"y":846.9285879135132,"z":"90fcb1aa.a1448","wires":[["68fd1702.47fda8","687a0c33.31c034"]]},{"id":"984dcc3e.22fa2","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1343.8214874267578,"y":724.1785936355591,"z":"90fcb1aa.a1448","wires":[["2fb3d96e.4467e6","68fd1702.47fda8"]]},{"id":"364fe422.188fdc","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1341.3215026855469,"y":676.9285840988159,"z":"90fcb1aa.a1448","wires":[["68fd1702.47fda8","72344080.c2b31"]]},{"id":"17c9035.62fc5fd","type":"switchNode","name":"switch: INPUT aic-cloud-region","xml":"<switch test=\"`$vnf-topology-operation-input.vnf-request-information.aic-cloud-region`\">","comments":"","outputs":1,"x":1859.821517944336,"y":609.0357189178467,"z":"90fcb1aa.a1448","wires":[["e65189ce.5c6278"]]},{"id":"e65189ce.5c6278","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":2077.821487426758,"y":609.1785564422607,"z":"90fcb1aa.a1448","wires":[["8351d32c.21212"]]},{"id":"8351d32c.21212","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='aic-cloud-region cannot be NULL'/>","comments":"","x":2231.678695678711,"y":609.464277267456,"z":"90fcb1aa.a1448","wires":[]},{"id":"5fc85a6c.128844","type":"switchNode","name":"switch: request-action","xml":"<switch test=\"`$vnf-topology-operation-input.request-information.request-action`\">\n<!--\nleaf request-action {\n\ttype enumeration {\n\t\tenum \"PreloadNetworkRequest\";\n\t\tenum \"DeletePreloadNetworkRequest\";\n\t\tenum \"NetworkActivateRequest\";\n\t    enum \"DisconnectNetworkRequest\"\n\t    enum \"PreloadVNFRequest\";\n        enum \"DeletePreloadVNFRequest\"\n        enum \"VNFActivateRequest\";\n        enum \"ChangeVNFActivateRequest\";\n        enum \"DisconnectVNFRequest\";\n\t}\n}\n-->\n\n","comments":"","outputs":1,"x":438.42857360839844,"y":675.5119104385376,"z":"90fcb1aa.a1448","wires":[["e0a325ff.063b18","6bb76fd.0e38e9","d3605ed2.fad25","38f7d26.0055e2e"]]},{"id":"e0a325ff.063b18","type":"other","name":"VNFActivateRequest","xml":"<outcome value='VNFActivateRequest'>","comments":"","outputs":1,"x":703.1785736083984,"y":676.5119094848633,"z":"90fcb1aa.a1448","wires":[["fbe5f1ca.06e32"]]},{"id":"6bb76fd.0e38e9","type":"other","name":"DisconnectVNFRequest","xml":"<outcome value='DisconnectVNFRequest'>","comments":"","outputs":1,"x":707.5715026855469,"y":977.2619190216064,"z":"90fcb1aa.a1448","wires":[["4ac4e7b1.019218"]]},{"id":"4ac4e7b1.019218","type":"switchNode","name":"switch: svc-action","xml":"<switch test=\"`$vnf-topology-operation-input.sdnc-request-header.svc-action`\">\n<!--\nleaf svc-action { \n\ttype enumeration { \n\t\tenum \"reserve\";\n\t\tenum \"assign\";\n\t\tenum \"activate\";  // equal to commit\n\t\tenum \"delete\";\t  // equal to commit\n\t\tenum \"changeassign\";\n\t\tenum \"changedelete\";\n\t\tenum \"rollback\";\n\t}\n}\n-->\n\n","comments":"","outputs":1,"x":938.3214492797852,"y":977.0119247436523,"z":"90fcb1aa.a1448","wires":[["e7e55e15.851e8","4ef4e8d7.2f48f8"]]},{"id":"d3605ed2.fad25","type":"other","name":"ChangeVNFActivateRequest","xml":"<outcome value='ChangeVNFActivateRequest'>","comments":"","outputs":1,"x":722.4285659790039,"y":847.7619009017944,"z":"90fcb1aa.a1448","wires":[["9e75299b.49af18"]]},{"id":"9e75299b.49af18","type":"switchNode","name":"switch: svc-action","xml":"<switch test=\"`$vnf-topology-operation-input.sdnc-request-header.svc-action`\">\n<!--\nleaf svc-action { \n\ttype enumeration { \n\t\tenum \"reserve\";\n\t\tenum \"assign\";\n\t\tenum \"activate\";  // equal to commit\n\t\tenum \"delete\";\t  // equal to commit\n\t\tenum \"changeassign\";\n\t\tenum \"changedelete\";\n\t\tenum \"rollback\";\n\t}\n}\n-->\n\n","comments":"","outputs":1,"x":967.4285659790039,"y":847.7619009017944,"z":"90fcb1aa.a1448","wires":[["21fd7fda.b70b7","b5b24d43.0e32a"]]},{"id":"38f7d26.0055e2e","type":"other","name":"other","xml":"<outcome value='other'>","comments":"","outputs":1,"x":654.2857513427734,"y":1100.4762649536133,"z":"90fcb1aa.a1448","wires":[["5aa19415.5e629c"]]},{"id":"5aa19415.5e629c","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value=\"`'svc-action,' + $vnf-topology-operation-input.request-information.request-action + ', not supported in automated flow'`\"/>\n","comments":"","x":822.8571548461914,"y":1100.4762725830078,"z":"90fcb1aa.a1448","wires":[]}]