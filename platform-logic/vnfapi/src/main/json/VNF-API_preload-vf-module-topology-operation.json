

[{"id":"4ed05b5.6b0cc24","type":"dgstart","name":"DGSTART","outputs":1,"x":129,"y":63,"z":"c02ffcad.d96588","wires":[["7a49be38.64e98"]]},{"id":"7a49be38.64e98","type":"service-logic","name":"VNF-API 1.0.0","module":"VNF-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.att.com/sdnctl/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.att.com/sdnctl/svclogic ./svclogic.xsd' module='VNF-API' version='${project.version}'>","outputs":1,"x":162.00001525878906,"y":114.11109924316406,"z":"c02ffcad.d96588","wires":[["d3ccd8ee.2b9278"]]},{"id":"d3ccd8ee.2b9278","type":"method","name":"preload-vf-module-topology-operation","xml":"<method rpc=\"preload-vf-module-topology-operation\" mode=\"sync\">","comments":"","outputs":1,"x":249.33334350585938,"y":159.22219848632812,"z":"c02ffcad.d96588","wires":[["43320618.59ae38"]]},{"id":"43320618.59ae38","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":231.50789642333984,"y":219.80951690673828,"z":"c02ffcad.d96588","wires":[["f5b119ec.e6b","c7734083.208b18"]]},{"id":"f5b119ec.e6b","type":"record","name":"record","xml":"<record plugin=\"com.att.sdnctl.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/svclogic.log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"preload-vf-module-topology-operation\"/>\n<parameter name=\"field3\" value=\"`$preload-vf-module-topology-operation-input.sdnc-request-header.svc-action`\"/>\n<parameter name=\"field4\" value=\"`$preload-vf-module-topology-operation-input.sdnc-request-header.svc-request-id`\"/>\n<parameter name=\"field5\" value=\"`$preload-vf-module-topology-operation-input.request-information.source`\"/>\n<parameter name=\"field6\" value=\"`$preload-vf-module-topology-operation-input.request-information.request-id`\"/>\n<parameter name=\"field7\" value=\"`$preload-vf-module-topology-operation-input.request-information.request-action`\"/>\n<parameter name=\"field8\" value=\"`$preload-vf-module-topology-operation-input.vf-module-topology-information.vf-module-identifiers.vf-module-model-id`\"/>\n<parameter name=\"field9\" value=\"`$preload-vf-module-topology-operation-input.vf-module-topology-information.vf-module-identifiers.vf-module-name`\"/>\n<parameter name=\"field10\" value=\"`$preload-vf-module-topology-operation-input.service-information.service-instance-id`\"/>","comments":"","outputs":1,"x":422.2200241088867,"y":219.60895919799805,"z":"c02ffcad.d96588","wires":[[]]},{"id":"c7734083.208b18","type":"switchNode","name":"switch: request-action","xml":"<switch test=\"`$preload-vf-module-topology-operation-input.request-information.request-action`\">\n\n","comments":"","outputs":1,"x":466.8571014404297,"y":264.6248369216919,"z":"c02ffcad.d96588","wires":[["6acf84a1.0edcb4","63c23261.09f294","b3485c95.2f976"]]},{"id":"6acf84a1.0edcb4","type":"other","name":"PreloadVfModuleRequest","xml":"<outcome value='PreloadVfModuleRequest'>","comments":"","outputs":1,"x":722.8571014404297,"y":264.6248369216919,"z":"c02ffcad.d96588","wires":[["743d62df.7dc0ec"]]},{"id":"63c23261.09f294","type":"other","name":"DeletePreloadVfModuleRequest","xml":"<outcome value='DeletePreloadVfModuleRequest'>","comments":"","outputs":1,"x":739.1427154541016,"y":485.83913707733154,"z":"c02ffcad.d96588","wires":[["b697edc0.00ada"]]},{"id":"6a60f29f.69eb8c","type":"set","name":"Delete vf-module-preload-data","xml":"<set>\n<parameter name=\"vf-module-preload-data.\" value=\"\" />\n","comments":"","x":1254.3927764892578,"y":485.58916664123535,"z":"c02ffcad.d96588","wires":[]},{"id":"b3485c95.2f976","type":"other","name":"outcome: Other","xml":"<outcome value=\"Other\">\n\n","outputs":1,"x":677.4284362792969,"y":604.8391275405884,"z":"c02ffcad.d96588","wires":[["7b304af0.ef57b4"]]},{"id":"7b304af0.ef57b4","type":"returnFailure","name":"return failure","xml":" <return status=\"failure\">\n\t<parameter name='error-code' value='2000'/>\n\t<parameter name='error-message' value=\"`'Invalid Request, ' + $preload-vf-module-topology-operation-input.request-information.request-action`\"/>\n\n \n","comments":"","x":925.3676300048828,"y":605.1595792770386,"z":"c02ffcad.d96588","wires":[]},{"id":"743d62df.7dc0ec","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":963.8571014404297,"y":264.6248369216919,"z":"c02ffcad.d96588","wires":[["7f0c8c59.497cc4","3ce7f257.b72826","6c7514f5.b868a4","e15fd6d3.405928","adf3760.7268908"]]},{"id":"6d99ded3.62ff18","type":"returnSuccess","name":"return success","xml":"<return status=\"success\">\n\t<parameter name=\"error-code\" value=\"200\" />","comments":"","x":1343.8571472167969,"y":602.3034706115723,"z":"c02ffcad.d96588","wires":[]},{"id":"6c7514f5.b868a4","type":"set","name":"set: order-status = PendingAssignment","xml":"<set>\n\t<parameter name=\"vf-module-preload-data.oper-status.order-status\" value=\"PendingAssignment\"/>","comments":"","x":1276.8810577392578,"y":399.24797916412354,"z":"c02ffcad.d96588","wires":[]},{"id":"69e4e2cc.d3d454","type":"set","name":"Set final indicator to Y","xml":"<set>\n<parameter name=\"ack-final\" value=\"Y\"/>","comments":"","x":1364.7659606933594,"y":559.3115577697754,"z":"c02ffcad.d96588","wires":[]},{"id":"7f0c8c59.497cc4","type":"get-resource","name":"get-resource: vnf-profile.vnf-type","xml":"<get-resource plugin=\"org.openecomp.sdnc.sli.resource.sql.SqlResource\" \n\tresource=\"vnf-profile\" key=\"SELECT * from VNF_PROFILE where vnf_type = $preload-vf-module-topology-operation-input.vf-module-topology-information.vf-module-identifiers.vf-module-model-id\">\n","comments":"","outputs":1,"x":1255.3771514892578,"y":265.0774154663086,"z":"c02ffcad.d96588","wires":[["1d79be03.963b92","21840fa8.360b2"]]},{"id":"b16775da.951558","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name=\"error-code\" value=\"404\" />\n\t<parameter name=\"error-message\" value=\"preload vnf-model-id not found. New vnf-model-id can be added via admin portal\" />","comments":"","x":1745.7103424072266,"y":264.2995834350586,"z":"c02ffcad.d96588","wires":[]},{"id":"1d79be03.963b92","type":"success","name":"not found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1532.3770904541016,"y":264.8551254272461,"z":"c02ffcad.d96588","wires":[["b16775da.951558"]]},{"id":"3ce7f257.b72826","type":"set","name":"set: vf-module-preload-data += input","xml":"<set>\n<parameter name=\"vf-module-preload-data.\" value=\"preload-vf-module-topology-operation-input.\" />\n","comments":"","x":1270.0476837158203,"y":353.54341983795166,"z":"c02ffcad.d96588","wires":[]},{"id":"21840fa8.360b2","type":"success","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1524.654800415039,"y":306.40059661865234,"z":"c02ffcad.d96588","wires":[["b16775da.951558"]]},{"id":"b697edc0.00ada","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":990.8927154541016,"y":485.8391361236572,"z":"c02ffcad.d96588","wires":[["6a60f29f.69eb8c","adf3760.7268908"]]},{"id":"e15fd6d3.405928","type":"set","name":"Delete vf-module-preload-data","xml":"<set>\n<parameter name=\"vf-module-preload-data.\" value=\"\" />\n","comments":"","x":1249.0713653564453,"y":309.96434783935547,"z":"c02ffcad.d96588","wires":[]},{"id":"adf3760.7268908","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1175.5357208251953,"y":560.0714998245239,"z":"c02ffcad.d96588","wires":[["69e4e2cc.d3d454","6d99ded3.62ff18"]]}]
