[{"id":"5d9f0f9.ee2d7f","type":"dgstart","name":"DGSTART","outputs":1,"x":137.14285278320312,"y":82.85714173316956,"z":"c6fafedd.1a001","wires":[["4e2619e4.ca9c88"]]},{"id":"4e2619e4.ca9c88","type":"service-logic","name":"VNF-API ${project.version}","module":"VNF-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.openecomp.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.openecomp.org/sdnc/svclogic ./svclogic.xsd' module='VNF-API' version='${project.version}'>","outputs":1,"x":344.7539596557617,"y":83.63492608070374,"z":"c6fafedd.1a001","wires":[["515161ea.e150e"]]},{"id":"515161ea.e150e","type":"method","name":"vnf-topology-automated-operation","xml":"<method rpc='vnf-topology-automated-operation' mode='sync'>\n","comments":"","outputs":1,"x":258.6428451538086,"y":139.07936120033264,"z":"c6fafedd.1a001","wires":[["9c25b5c.ecd7448"]]},{"id":"4903d46c.d7199c","type":"switchNode","name":"switch: svc-action","xml":"<switch test=\"`$vnf-topology-operation-input.sdnc-request-header.svc-action`\">\n<!--\nleaf svc-action { \n\ttype enumeration { \n\t\tenum \"reserve\";\n\t\tenum \"assign\";\n\t\tenum \"activate\";  // equal to commit\n\t\tenum \"delete\";\t  // equal to commit\n\t\tenum \"changeassign\";\n\t\tenum \"changedelete\";\n\t\tenum \"rollback\";\n\t}\n}\n-->\n\n","comments":"","outputs":1,"x":722.805549621582,"y":384.22610783576965,"z":"c6fafedd.1a001","wires":[["fa2aaaff.92c1c8","804c480a.df1188","afa4a8b6.6f2948"]]},{"id":"bfc17f4b.30475","type":"other","name":"Other","xml":"<outcome value='Other'>","comments":"","outputs":1,"x":933.6389694213867,"y":869.2263081073761,"z":"c6fafedd.1a001","wires":[["7a4d7986.1a90d8"]]},{"id":"fa2aaaff.92c1c8","type":"other","name":"assign","xml":"<outcome value='assign'>","comments":"","outputs":1,"x":940.3611068725586,"y":384.22611355781555,"z":"c6fafedd.1a001","wires":[["9414d3b5.6466"]]},{"id":"7a4d7986.1a90d8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='svc-action not recognized'/>\n","comments":"","x":1105.6389694213867,"y":869.2263081073761,"z":"c6fafedd.1a001","wires":[]},{"id":"804c480a.df1188","type":"other","name":"activate","xml":"<outcome value='activate'>","comments":"","outputs":1,"x":939.6111297607422,"y":672.9761698246002,"z":"c6fafedd.1a001","wires":[["e47ebc0f.cc53a"]]},{"id":"afa4a8b6.6f2948","type":"other","name":"rollback","xml":"<outcome value='rollback'>","comments":"","outputs":1,"x":939.3611297607422,"y":730.2261707782745,"z":"c6fafedd.1a001","wires":[["3178b55c.dfa1aa"]]},{"id":"b5313d06.7e892","type":"other","name":"delete","xml":"<outcome value='delete'>","comments":"","outputs":1,"x":933.472297668457,"y":822.3373749256134,"z":"c6fafedd.1a001","wires":[["54f73602.094b58"]]},{"id":"6001cf48.4f802","type":"call","name":"call: vnf-topology-automated-assign","xml":"<call module='VNF-API' rpc='vnf-topology-automated-assign' mode='sync' >","comments":"","outputs":1,"x":1396.1111297607422,"y":621.7260553836823,"z":"c6fafedd.1a001","wires":[[]]},{"id":"b0162602.6eea88","type":"call","name":"call: vnf-topology-automated-rollback","xml":"<call module='VNF-API' rpc='vnf-topology-automated-rollback' mode='sync' >","comments":"","outputs":1,"x":1333.8612365722656,"y":730.226181268692,"z":"c6fafedd.1a001","wires":[[]]},{"id":"54f73602.094b58","type":"call","name":"call: vnf-topology-automated-delete","xml":"<call module='VNF-API' rpc='vnf-topology-automated-delete' mode='sync' >","comments":"","outputs":1,"x":1176.2223663330078,"y":822.3373758792877,"z":"c6fafedd.1a001","wires":[[]]},{"id":"576cbd92.714cf4","type":"call","name":"call: vnf-topology-activate","xml":"<call module='VNF-API' rpc='vnf-topology-activate' mode='sync' >","comments":"","outputs":1,"x":1333.361228942871,"y":672.226175069809,"z":"c6fafedd.1a001","wires":[[]]},{"id":"f09c9bd6.2a7d98","type":"comment","name":"vnf-topology-automated-operation","info":"","comments":"","x":732.8888778686523,"y":92.44443917274475,"z":"c6fafedd.1a001","wires":[]},{"id":"9c25b5c.ecd7448","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":239.14286041259766,"y":195.60715508460999,"z":"c6fafedd.1a001","wires":[["362c2356.406cdc"]]},{"id":"29a820e.3513ae","type":"switchNode","name":"switch: INPUT generic-vnf-id","xml":"<switch test=\"`$vnf-topology-operation-input.vnf-request-information.generic-vnf-id`\">","comments":"","outputs":1,"x":1581.6509857177734,"y":383.6706840991974,"z":"c6fafedd.1a001","wires":[["96bd3217.4a84f","6266c93b.6689c8"]]},{"id":"6266c93b.6689c8","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":1810.365291595459,"y":424.6706545352936,"z":"c6fafedd.1a001","wires":[["9bab620.a5435a"]]},{"id":"96bd3217.4a84f","type":"outcome","name":"0","xml":"<outcome value='0'>","comments":"","outputs":1,"x":1808.7938842773438,"y":383.2421200275421,"z":"c6fafedd.1a001","wires":[["9bab620.a5435a"]]},{"id":"9bab620.a5435a","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='generic-vnf-id cannot be NULL or 0'/>","comments":"","x":1974.9366645812988,"y":424.5278332233429,"z":"c6fafedd.1a001","wires":[]},{"id":"935e37bb.dfeb38","type":"switchNode","name":"switch: INPUT generic-vnf-name","xml":"<switch test=\"`$vnf-topology-operation-input.vnf-request-information.generic-vnf-name`\">","comments":"","outputs":1,"x":1591.1509399414062,"y":464.8492147922516,"z":"c6fafedd.1a001","wires":[["285d9b3c.e49cf4"]]},{"id":"285d9b3c.e49cf4","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":1810.1509094238281,"y":464.99205231666565,"z":"c6fafedd.1a001","wires":[["bcdf9ecd.9d42c"]]},{"id":"bcdf9ecd.9d42c","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='generic-vnf-name cannot be NULL'/>","comments":"","x":1999.0081176757812,"y":465.27777314186096,"z":"c6fafedd.1a001","wires":[]},{"id":"ba32a8a9.c7af18","type":"switchNode","name":"switch: INPUT generic-vnf-type","xml":"<switch test=\"`$vnf-topology-operation-input.vnf-request-information.generic-vnf-type`\">","comments":"","outputs":1,"x":1586.5082397460938,"y":506.34927582740784,"z":"c6fafedd.1a001","wires":[["3653fe84.d6a682"]]},{"id":"3653fe84.d6a682","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":1806.5082092285156,"y":506.4921133518219,"z":"c6fafedd.1a001","wires":[["8b3e75da.c05b48"]]},{"id":"8b3e75da.c05b48","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='generic-vnf-type cannot be NULL'/>","comments":"","x":2001.3654174804688,"y":506.7778341770172,"z":"c6fafedd.1a001","wires":[]},{"id":"67bf79b4.7afff8","type":"block","name":"block: atomic","xml":"<block atomic=\"true\">\n","atomic":"false","comments":"","outputs":1,"x":1322.1787643432617,"y":383.6548731327057,"z":"c6fafedd.1a001","wires":[["29a820e.3513ae","935e37bb.dfeb38","ba32a8a9.c7af18","e821db35.ac4648","8972b7e2.b9d878","297f8d1b.cd3522"]]},{"id":"e47ebc0f.cc53a","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1088.0000228881836,"y":672.3929235935211,"z":"c6fafedd.1a001","wires":[["576cbd92.714cf4"]]},{"id":"3178b55c.dfa1aa","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1089.2500228881836,"y":729.8929245471954,"z":"c6fafedd.1a001","wires":[["b0162602.6eea88"]]},{"id":"9414d3b5.6466","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1127.500015258789,"y":384.1428577899933,"z":"c6fafedd.1a001","wires":[["67bf79b4.7afff8","6001cf48.4f802"]]},{"id":"e821db35.ac4648","type":"switchNode","name":"switch: INPUT aic-cloud-region","xml":"<switch test=\"`$vnf-topology-operation-input.vnf-request-information.aic-cloud-region`\">","comments":"","outputs":1,"x":1585.7144088745117,"y":546.2262909412384,"z":"c6fafedd.1a001","wires":[["e168fd0d.2682a"]]},{"id":"e168fd0d.2682a","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":1806.7143783569336,"y":546.3691284656525,"z":"c6fafedd.1a001","wires":[["4e1946d0.4358c8"]]},{"id":"4e1946d0.4358c8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='aic-cloud-region cannot be NULL'/>","comments":"","x":2001.5715866088867,"y":546.6548492908478,"z":"c6fafedd.1a001","wires":[]},{"id":"1a5f0461.cefecc","type":"switchNode","name":"switch: INPUT vnf-id","xml":"<switch test=\"`$vnf-topology-operation-input.vnf-request-information.vnf-id`\">","comments":"","outputs":1,"x":463.7937545776367,"y":195.76591897010803,"z":"c6fafedd.1a001","wires":[["76724a00.5b7068","94b19169.ae3c4"]]},{"id":"94b19169.ae3c4","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":674.7937240600586,"y":246.9087564945221,"z":"c6fafedd.1a001","wires":[["cfe297e2.01b058"]]},{"id":"76724a00.5b7068","type":"outcome","name":"0","xml":"<outcome value='0'>","comments":"","outputs":1,"x":673.936653137207,"y":195.33735489845276,"z":"c6fafedd.1a001","wires":[["cfe297e2.01b058"]]},{"id":"cfe297e2.01b058","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='vf-module vnf-id cannot be NULL or 0'/>","comments":"","x":849.6509323120117,"y":247.1944773197174,"z":"c6fafedd.1a001","wires":[]},{"id":"8972b7e2.b9d878","type":"switchNode","name":"switch: INPUT vnf-name","xml":"<switch test=\"`$vnf-topology-operation-input.vnf-request-information.vnf-name`\">","comments":"","outputs":1,"x":1568.559585571289,"y":298.0000250339508,"z":"c6fafedd.1a001","wires":[["602cb8d2.14a3e8"]]},{"id":"602cb8d2.14a3e8","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":1772.1309967041016,"y":297.8571455478668,"z":"c6fafedd.1a001","wires":[["3d5298a4.f5f138"]]},{"id":"3d5298a4.f5f138","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='vnf-name is required'/>","comments":"","x":1933.6309967041016,"y":298.1071455478668,"z":"c6fafedd.1a001","wires":[]},{"id":"297f8d1b.cd3522","type":"switchNode","name":"switch: INPUT vnf-type","xml":"<switch test=\"`$vnf-topology-operation-input.vnf-request-information.vnf-type`\">","comments":"","outputs":1,"x":1563.8096237182617,"y":341.17858815193176,"z":"c6fafedd.1a001","wires":[["db6717d9.1debc8"]]},{"id":"db6717d9.1debc8","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":1771.666742324829,"y":341.46429562568665,"z":"c6fafedd.1a001","wires":[["aa0cc5eb.67aed8"]]},{"id":"aa0cc5eb.67aed8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='vnf-type is required'/>","comments":"","x":1933.166742324829,"y":341.71429562568665,"z":"c6fafedd.1a001","wires":[]},{"id":"563c5af.ed1e3a4","type":"other","name":"DisconnectVNFRequest","xml":"<outcome value='DisconnectVNFRequest'>","comments":"","outputs":1,"x":514.6428909301758,"y":822.8571541309357,"z":"c6fafedd.1a001","wires":[["62f7b011.81d64"]]},{"id":"62f7b011.81d64","type":"switchNode","name":"switch: svc-action","xml":"<switch test=\"`$vnf-topology-operation-input.sdnc-request-header.svc-action`\">\n<!--\nleaf svc-action { \n\ttype enumeration { \n\t\tenum \"reserve\";\n\t\tenum \"assign\";\n\t\tenum \"activate\";  // equal to commit\n\t\tenum \"delete\";\t  // equal to commit\n\t\tenum \"changeassign\";\n\t\tenum \"changedelete\";\n\t\tenum \"rollback\";\n\t}\n}\n-->\n\n","comments":"","outputs":1,"x":745.3928375244141,"y":822.6071598529816,"z":"c6fafedd.1a001","wires":[["b5313d06.7e892","bfc17f4b.30475"]]},{"id":"6a368bda.04d5e4","type":"other","name":"VNFActivateRequest","xml":"<outcome value='VNFActivateRequest'>","comments":"","outputs":1,"x":500.8928909301758,"y":384.1071493625641,"z":"c6fafedd.1a001","wires":[["4903d46c.d7199c"]]},{"id":"362c2356.406cdc","type":"switchNode","name":"switch: request-action","xml":"<switch test=\"`$vnf-topology-operation-input.request-information.request-action`\">\n<!--\nleaf request-action {\n\ttype enumeration {\n\t\tenum \"PreloadNetworkRequest\";\n\t\tenum \"DeletePreloadNetworkRequest\";\n\t\tenum \"NetworkActivateRequest\";\n\t    enum \"DisconnectNetworkRequest\"\n\t    enum \"PreloadVNFRequest\";\n        enum \"DeletePreloadVNFRequest\"\n        enum \"VNFActivateRequest\";\n        enum \"ChangeVNFActivateRequest\";\n        enum \"DisconnectVNFRequest\";\n\t}\n}\n-->\n\n","comments":"","outputs":1,"x":273.39286041259766,"y":384.10714745521545,"z":"c6fafedd.1a001","wires":[["6a368bda.04d5e4","563c5af.ed1e3a4","571712d2.d9156c"]]},{"id":"571712d2.d9156c","type":"other","name":"other","xml":"<outcome value='other'>","comments":"","outputs":1,"x":462.14286041259766,"y":966.7857229709625,"z":"c6fafedd.1a001","wires":[["f76e13af.ab7b4"]]},{"id":"f76e13af.ab7b4","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value=\"`'svc-action,' + $vnf-topology-operation-input.request-information.request-action + ', not supported in automated flow'`\"/>\n","comments":"","x":630.7142639160156,"y":966.785730600357,"z":"c6fafedd.1a001","wires":[]}]