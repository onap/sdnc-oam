

[{"id":"4e9ae561.7b3bdc","type":"dgstart","name":"DGSTART","outputs":1,"x":89,"y":35,"z":"b4f2c7b3.ab7c9","wires":[["c1b468c3.926cd8"]]},{"id":"c1b468c3.926cd8","type":"service-logic","name":"VNF-API 1.0.0","module":"VNF-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.att.com/sdnctl/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.att.com/sdnctl/svclogic ./svclogic.xsd' module='VNF-API' version='${project.version}'>","outputs":1,"x":122.00001525878906,"y":86.11109924316406,"z":"b4f2c7b3.ab7c9","wires":[["451f3c5c.01a58c"]]},{"id":"451f3c5c.01a58c","type":"method","name":"preload-vnf-instance-topology-operation","xml":"<method rpc=\"preload-vnf-instance-topology-operation\" mode=\"sync\">","comments":"","outputs":1,"x":209.33334350585938,"y":131.22219848632812,"z":"b4f2c7b3.ab7c9","wires":[["a682f066.77cf4"]]},{"id":"a682f066.77cf4","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":191.50789642333984,"y":191.80951690673828,"z":"b4f2c7b3.ab7c9","wires":[["6eda1ef4.1ead78","b5eac53b.9e8d28"]]},{"id":"6eda1ef4.1ead78","type":"record","name":"record","xml":"<record plugin=\"com.att.sdnctl.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/svclogic.log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"preload-vnf-instance-topology-operation\"/>\n<parameter name=\"field3\" value=\"`$preload-vnf-instance-topology-operation-input.sdnc-request-header.svc-action`\"/>\n<parameter name=\"field4\" value=\"`$preload-vnf-instance-topology-operation-input.sdnc-request-header.svc-request-id`\"/>\n<parameter name=\"field5\" value=\"`$preload-vnf-instance-topology-operation-input.request-information.source`\"/>\n<parameter name=\"field6\" value=\"`$preload-vnf-instance-topology-operation-input.request-information.request-id`\"/>\n<parameter name=\"field7\" value=\"`$preload-vnf-instance-topology-operation-input.request-information.request-action`\"/>\n<parameter name=\"field8\" value=\"`$preload-vnf-instance-topology-operation-input.vnf-instance-topology-information.vnf-instance-identifiers.vnf-model-id`\"/>\n<parameter name=\"field9\" value=\"`$preload-vnf-instance-topology-operation-input.vnf-instance-topology-information.vnf-instance-identifiers.vnf-instance-name`\"/>\n<parameter name=\"field10\" value=\"`$preload-vnf-instance-topology-operation-input.service-information.service-instance-id`\"/>","comments":"","outputs":1,"x":382.2200241088867,"y":191.60895919799805,"z":"b4f2c7b3.ab7c9","wires":[[]]},{"id":"b5eac53b.9e8d28","type":"switchNode","name":"switch: request-action","xml":"<switch test=\"`$preload-vnf-instance-topology-operation-input.request-information.request-action`\">\n\n","comments":"","outputs":1,"x":426.8571014404297,"y":236.6248369216919,"z":"b4f2c7b3.ab7c9","wires":[["5e96cd18.3876b4","4ad665bd.459114","ab2a26d5.c6128"]]},{"id":"5e96cd18.3876b4","type":"other","name":"PreloadVnfInstanceRequest","xml":"<outcome value='PreloadVnfInstanceRequest'>","comments":"","outputs":1,"x":688.8571014404297,"y":236.6248369216919,"z":"b4f2c7b3.ab7c9","wires":[["e72ac2fe.5d824"]]},{"id":"4ad665bd.459114","type":"other","name":"DeletePreloadVnfInstanceRequest","xml":"<outcome value='DeletePreloadVnfInstanceRequest'>","comments":"","outputs":1,"x":708.1427154541016,"y":457.83913707733154,"z":"b4f2c7b3.ab7c9","wires":[["a201aadf.fd3c4"]]},{"id":"57509d2f.c1779c","type":"set","name":"Delete vnf-instance-preload-data","xml":"<set>\n<parameter name=\"vnf-instance-preload-data.\" value=\"\" />\n","comments":"","x":1224.3927764892578,"y":457.58916664123535,"z":"b4f2c7b3.ab7c9","wires":[[]]},{"id":"ab2a26d5.c6128","type":"other","name":"outcome: Other","xml":"<outcome value=\"Other\">\n\n","outputs":1,"x":637.4284362792969,"y":576.8391275405884,"z":"b4f2c7b3.ab7c9","wires":[["fa569e30.804e1"]]},{"id":"fa569e30.804e1","type":"returnFailure","name":"return failure","xml":" <return status=\"failure\">\n\t<parameter name='error-code' value='2000'/>\n\t<parameter name='error-message' value='Invalid Request `$preload-vnf-instance-topology-operation-input.request-information.request-action`'/>\n\n \n","comments":"","x":895.3676300048828,"y":577.1595792770386,"z":"b4f2c7b3.ab7c9","wires":[]},{"id":"e72ac2fe.5d824","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":933.8571014404297,"y":236.6248369216919,"z":"b4f2c7b3.ab7c9","wires":[["f77e2117.bb6f6","4f83b470.be184c","9d54146b.7af598","9a828dbc.af94c8","e9ffde5b.92c2a"]]},{"id":"43c4685.d24a598","type":"returnSuccess","name":"return success","xml":"<return status=\"success\">\n\t<parameter name=\"error-code\" value=\"200\" />","comments":"","x":1313.8571472167969,"y":574.3034706115723,"z":"b4f2c7b3.ab7c9","wires":[]},{"id":"9d54146b.7af598","type":"set","name":"set: order-status = PendingAssignment","xml":"<set>\n\t<parameter name=\"vnf-instance-preload-data.oper-status.order-status\" value=\"PendingAssignment\"/>","comments":"","x":1246.8810577392578,"y":371.24797916412354,"z":"b4f2c7b3.ab7c9","wires":[[]]},{"id":"d7e96d34.d9ff38","type":"set","name":"Set final indicator to Y","xml":"<set>\n<parameter name=\"ack-final\" value=\"Y\"/>","comments":"","x":1334.7659606933594,"y":531.3115577697754,"z":"b4f2c7b3.ab7c9","wires":[[]]},{"id":"f77e2117.bb6f6","type":"get-resource","name":"get-resource: vnf-profile.vnf-type","xml":"<get-resource plugin=\"org.openecomp.sdnc.sli.resource.sql.SqlResource\" \n\tresource=\"vnf-profile\" key=\"SELECT * from VNF_PROFILE where vnf_type = $preload-vnf-instance-topology-operation-input.vnf-instance-topology-information.vnf-instance-identifiers.vnf-model-id\">\n","comments":"","outputs":1,"x":1225.3771514892578,"y":237.0774154663086,"z":"b4f2c7b3.ab7c9","wires":[["f80978ff.f80f6","da20f0d9.1dc818"]]},{"id":"8662fe2a.4fba88","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name=\"error-code\" value=\"404\" />\n\t<parameter name=\"error-message\" value=\"preload vnf-model-id not found. New vnf-model-id can be added via admin portal\" />","comments":"","x":1715.7103424072266,"y":236.2995834350586,"z":"b4f2c7b3.ab7c9","wires":[]},{"id":"f80978ff.f80f6","type":"success","name":"not found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1502.3770904541016,"y":236.8551254272461,"z":"b4f2c7b3.ab7c9","wires":[["8662fe2a.4fba88"]]},{"id":"4f83b470.be184c","type":"set","name":"set: vnf-instance-preload-data += input","xml":"<set>\n<parameter name=\"vnf-instance-preload-data.\" value=\"preload-vnf-instance-topology-operation-input.\" />\n","comments":"","x":1245.0476837158203,"y":325.54341983795166,"z":"b4f2c7b3.ab7c9","wires":[[]]},{"id":"da20f0d9.1dc818","type":"success","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1494.654800415039,"y":278.40059661865234,"z":"b4f2c7b3.ab7c9","wires":[["8662fe2a.4fba88"]]},{"id":"a201aadf.fd3c4","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":960.8927154541016,"y":457.8391361236572,"z":"b4f2c7b3.ab7c9","wires":[["57509d2f.c1779c","e9ffde5b.92c2a"]]},{"id":"9a828dbc.af94c8","type":"set","name":"Delete vnf-instance-preload-data","xml":"<set>\n<parameter name=\"vnf-instance-preload-data.\" value=\"\" />\n","comments":"","x":1227.0713653564453,"y":281.96434783935547,"z":"b4f2c7b3.ab7c9","wires":[[]]},{"id":"e9ffde5b.92c2a","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1145.5357208251953,"y":532.0714998245239,"z":"b4f2c7b3.ab7c9","wires":[["d7e96d34.d9ff38","43c4685.d24a598"]]}]
