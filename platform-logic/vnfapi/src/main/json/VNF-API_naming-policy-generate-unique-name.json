[{"id":"8e1312c0.6e84","type":"comment","name":"Validation of required data","info":"","comments":"","x":1032.8571510314941,"y":458.43754482269287,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"8869418a.5a887","type":"dgstart","name":"DGSTART","outputs":1,"x":103.60725402832031,"y":63.842227935791016,"z":"5b5df7c6.0d2bc8","wires":[["d479e089.28fc6"]]},{"id":"d479e089.28fc6","type":"service-logic","name":"VNF-API ${project.version}","module":"VNF-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.openecomp.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.openecomp.org/sdnc/svclogic ./svclogic.xsd' module='VNF-API' version='${project.version}'>","outputs":1,"x":186.03582000732422,"y":113.65177345275879,"z":"5b5df7c6.0d2bc8","wires":[["61b0b86.5253948"]]},{"id":"61b0b86.5253948","type":"method","name":"method naming-policy-generate-unique-name","xml":"<method rpc='naming-policy-generate-unique-name' mode='sync'>\n","comments":"","outputs":1,"x":291.52397373744407,"y":176.1874542236328,"z":"5b5df7c6.0d2bc8","wires":[["26044c58.582704"]]},{"id":"6ed79585.cadd4c","type":"comment","name":"naming-policy-generate-unique-name","info":"Input arguments:\ngenerate-unique-name-input.index-table-name - name of INDEX table\ngenerate-unique-name-input.index-table-prefix-column - name of prefix column in above table\ngenerate-unique-name-input.name-table-name - name of table holding all generated names\ngenerate-unique-name-input.index-length - non-null digit if index should be fixed length\n\nOutput arguments:\ngenerate-unique-name-output.generated-name - generated name (null if error)\ngenerate-unique-name-output.error-message - error message (non-null if error)\n","comments":"","x":465.09496525355735,"y":20,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"4d7e9cb3.0fdf14","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":520.6310577392578,"y":1449.5834183011737,"z":"5b5df7c6.0d2bc8","wires":[["5b186104.6c56","6583c0cd.62bc","7ce9f350.16a4fc","4d4705d5.5ed31c","beed4029.f6edd","528033b3.cf44dc","11f94380.886dcd","95f0f917.66e4b8","8e775360.e0f47","6052a100.3cd06","b7d9e6a4.3579c8","ac3f65b3.2634e8"]]},{"id":"5b186104.6c56","type":"switchNode","name":"switch generate-unique-name-input.index-table-name","xml":"<switch test='`$generate-unique-name-input.index-table-name`'>\n","comments":"","outputs":1,"x":969.4405403137207,"y":504.047682762146,"z":"5b5df7c6.0d2bc8","wires":[["b5082f2a.5408c"]]},{"id":"b5082f2a.5408c","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1299.4404602050781,"y":504.0476722717285,"z":"5b5df7c6.0d2bc8","wires":[["da0886f2.545928"]]},{"id":"da0886f2.545928","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='generate-unique-name-output.error-message' value='generate-unique-name-input.index-table-name not supplied' />\n","comments":"","x":1472.773780822754,"y":504.04766368865967,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"6583c0cd.62bc","type":"switchNode","name":"switch generate-unique-name-input.index-table-prefix-column","xml":"<switch test='`$generate-unique-name-input.index-table-prefix-column`'>\n","comments":"","outputs":1,"x":994.4405097961426,"y":547.3810186386108,"z":"5b5df7c6.0d2bc8","wires":[["7e998fde.4a864"]]},{"id":"7e998fde.4a864","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1297.7737731933594,"y":547.3809976577759,"z":"5b5df7c6.0d2bc8","wires":[["58316188.072d1"]]},{"id":"58316188.072d1","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='generate-unique-name-output.error-message' value='generate-unique-name-input.index-table-prefix-column not supplied' />\n","comments":"","x":1471.107089996338,"y":547.7143411636353,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"7ce9f350.16a4fc","type":"switchNode","name":"switch generate-unique-name-input.name-table-type","xml":"<switch test='`$generate-unique-name-input.name-table-type`'>\n","comments":"","outputs":1,"x":965.4405174255371,"y":592.3810110092163,"z":"5b5df7c6.0d2bc8","wires":[["be64c2c8.ba0c1"]]},{"id":"be64c2c8.ba0c1","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1297.7737140655518,"y":592.3810205459595,"z":"5b5df7c6.0d2bc8","wires":[["13515a59.076806"]]},{"id":"13515a59.076806","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='generate-unique-name-output.error-message' value='generate-unique-name-input.name-table-type not supplied' />\n","comments":"","x":1469.4404907226562,"y":592.7143239974976,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"11f94380.886dcd","type":"get-resource","name":"get-resource current name index","xml":"<get-resource plugin='org.openecomp.sdnc.sli.resource.sql.SqlResource' resource='SQL'\n  key=\"`$tmp.gun.sql`\" pfx='tmp.gun.prefixdb'>\n\n","comments":"","outputs":1,"x":887.4643707275391,"y":1151.1783981323242,"z":"5b5df7c6.0d2bc8","wires":[["d89a2f95.90834","95cd5280.4366b","40bbbe54.ee087"]]},{"id":"d89a2f95.90834","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1115.1548023223877,"y":1237.2023077011108,"z":"5b5df7c6.0d2bc8","wires":[["f211fb5a.77ebf8"]]},{"id":"f211fb5a.77ebf8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n    <parameter name=\"generate-unique-name-output.error-message\" value=\"`'Error reading the ' + $generate-unique-name-input.index-table-name + ' table'`\" />\n","comments":"","x":1277.7739238739014,"y":1238.6310358047485,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"4ae1815f.f716","type":"for","name":"for idx from current index to list-end","xml":"<for index='tmp.gun.idx' start='`$tmp.gun.index-number`' end='`$tmp.gun.list-end`' >\n","comments":"","outputs":1,"x":1042.2977294921875,"y":1480.0000085830688,"z":"5b5df7c6.0d2bc8","wires":[["d417cce2.e4643"]]},{"id":"4d4705d5.5ed31c","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":804.9167251586914,"y":1479.9999737058367,"z":"5b5df7c6.0d2bc8","wires":[["4ae1815f.f716","242d0a37.1bc6f6","abd96b75.27a588"]]},{"id":"242d0a37.1bc6f6","type":"returnSuccess","name":"CATCH BREAK","xml":"<return status='success'>\n\n","comments":"","x":998.1072256905691,"y":2504.4287109375,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"beed4029.f6edd","type":"switchNode","name":"switch generate-unique-name-input.prefix","xml":"<switch test='`$generate-unique-name-input.prefix`'>\n","comments":"","outputs":1,"x":931.1071586608887,"y":637.3809900283813,"z":"5b5df7c6.0d2bc8","wires":[["a3e2a9ee.e500a8"]]},{"id":"a3e2a9ee.e500a8","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1298.4403476715088,"y":637.3810148239136,"z":"5b5df7c6.0d2bc8","wires":[["1b8af5ea.1ff7ca"]]},{"id":"1b8af5ea.1ff7ca","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='generate-unique-name-output.error-message' value='generate-unique-name-input.prefix not supplied' />\n","comments":"","x":1471.1071243286133,"y":637.7143182754517,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"528033b3.cf44dc","type":"switchNode","name":"switch generate-unique-name-input.index-length","xml":"<switch test='`$generate-unique-name-input.index-length`'>\n","comments":"","outputs":1,"x":954.4405250549316,"y":772.380931854248,"z":"5b5df7c6.0d2bc8","wires":[["f57c6b7d.b21fd8","5cd03544.316abc","2a83ef02.2c7ef","fbd3c2d3.1679e","b24b1629.492638","1651bff.173734","80a4946f.9b2528"]]},{"id":"f57c6b7d.b21fd8","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1297.773838043213,"y":680.7143182754517,"z":"5b5df7c6.0d2bc8","wires":[["c4e0bf69.b3d"]]},{"id":"b24b1629.492638","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1296.535743713379,"y":955.9524459838867,"z":"5b5df7c6.0d2bc8","wires":[["f7a701ce.3d2b1"]]},{"id":"5cd03544.316abc","type":"outcome","name":"1","xml":"<outcome value='1'>\n","comments":"","outputs":1,"x":1294.6786460876465,"y":771.4286575317383,"z":"5b5df7c6.0d2bc8","wires":[["4e9b1eec.a2a71"]]},{"id":"2a83ef02.2c7ef","type":"outcome","name":"2","xml":"<outcome value='2'>\n","comments":"","outputs":1,"x":1294.6786308288574,"y":816.4286479949951,"z":"5b5df7c6.0d2bc8","wires":[["95ba827c.84c76"]]},{"id":"fbd3c2d3.1679e","type":"outcome","name":"3","xml":"<outcome value='3'>\n","comments":"","outputs":1,"x":1293.0119667053223,"y":859.76198387146,"z":"5b5df7c6.0d2bc8","wires":[["b1c5e16f.28726"]]},{"id":"4e9b1eec.a2a71","type":"set","name":"set list-end = 10","xml":"<set>\n<parameter name='tmp.gun.list-end' value='10' />\n","comments":"","x":1477.3453826904297,"y":771.4286460876465,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"95ba827c.84c76","type":"set","name":"set list-end = 100","xml":"<set>\n<parameter name='tmp.gun.list-end' value='100' />\n","comments":"","x":1480.678611755371,"y":816.4286479949951,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"b1c5e16f.28726","type":"set","name":"set list-end = 1000","xml":"<set>\n<parameter name='tmp.gun.list-end' value='1000' />\n","comments":"","x":1482.678611755371,"y":859.7619609832764,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"f7a701ce.3d2b1","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='generate-unique-name-output.error-message' value='generate-unique-name-input.prefix not supplied' />\n","comments":"","x":1467.5356674194336,"y":955.285816192627,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"93f3f18d.5073","type":"set","name":"set new index number to 1","xml":"<set>\n<parameter name='tmp.gun.index-number' value='1' />\n","comments":"","x":1981.6431884765625,"y":1200.5717375278473,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"c4e0bf69.b3d","type":"set","name":"set list-end = 100000 (infinity basically)","xml":"<set>\n<parameter name='tmp.gun.list-end' value='100000' />\n","comments":"","x":1546.7737770080566,"y":681.047661781311,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"2acbae13.af8742","type":"switchNode","name":"switch generate-unique-name-input.index-length","xml":"<switch test='`$generate-unique-name-input.index-length`'>\n","comments":"","outputs":1,"x":1603.9643096923828,"y":1406.666647366115,"z":"5b5df7c6.0d2bc8","wires":[["d06854d.fc93ea8","a14f6a8b.80f7f8","8df18415.7233e8","a3640160.0afaa","a3709858.5f7558"]]},{"id":"d06854d.fc93ea8","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1883.9643592834473,"y":1282.381046295166,"z":"5b5df7c6.0d2bc8","wires":[["482ba24.53f5e5c"]]},{"id":"a14f6a8b.80f7f8","type":"outcome","name":"1","xml":"<outcome value='1'>\n","comments":"","outputs":1,"x":1882.297706604004,"y":1327.3810863494873,"z":"5b5df7c6.0d2bc8","wires":[["482ba24.53f5e5c"]]},{"id":"8df18415.7233e8","type":"outcome","name":"2","xml":"<outcome value='2'>\n","comments":"","outputs":1,"x":1882.297794342041,"y":1380.714433670044,"z":"5b5df7c6.0d2bc8","wires":[["7da4c9d0.d312f8"]]},{"id":"a3640160.0afaa","type":"outcome","name":"3","xml":"<outcome value='3'>\n","comments":"","outputs":1,"x":1882.2976722717285,"y":1477.3811664581299,"z":"5b5df7c6.0d2bc8","wires":[["4a961cfa.a7ef74"]]},{"id":"482ba24.53f5e5c","type":"set","name":"set index-string to idx","xml":"<set>\n<parameter name='tmp.gun.index-string' value='`$tmp.gun.idx`' />\n","comments":"","x":2068.9645080566406,"y":1300.7143898010254,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"7da4c9d0.d312f8","type":"switchNode","name":"switch idx < 10","xml":"<switch test='`$tmp.gun.idx &lt; 10`'>\n","comments":"","outputs":1,"x":2048.964424133301,"y":1380.714331626892,"z":"5b5df7c6.0d2bc8","wires":[["a4791dd1.10ab7","e3523491.b2a298"]]},{"id":"a4791dd1.10ab7","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2210.631057739258,"y":1354.0477046966553,"z":"5b5df7c6.0d2bc8","wires":[["5b96664c.245558"]]},{"id":"e3523491.b2a298","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":2210.631015777588,"y":1402.3810405731201,"z":"5b5df7c6.0d2bc8","wires":[["224de548.4692ea"]]},{"id":"5b96664c.245558","type":"set","name":"set index-string to '0' + idx","xml":"<set>\n<parameter name='tmp.gun.index-string' value=\"`'' + '0' + $tmp.gun.idx`\" />\n","comments":"","x":2402.2978172302246,"y":1353.380931854248,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"224de548.4692ea","type":"set","name":"set index-string to idx","xml":"<set>\n<parameter name='tmp.gun.index-string' value='`$tmp.gun.idx`' />\n","comments":"","x":2385.6310691833496,"y":1402.0476474761963,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"4a961cfa.a7ef74","type":"switchNode","name":"switch idx < 10","xml":"<switch test='`$tmp.gun.idx &lt; 10`'>\n","comments":"","outputs":1,"x":2050.6310081481934,"y":1475.7142944335938,"z":"5b5df7c6.0d2bc8","wires":[["96c41125.cbcbe","ad5784c6.445458"]]},{"id":"96c41125.cbcbe","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2210.6309852600098,"y":1449.0476722717285,"z":"5b5df7c6.0d2bc8","wires":[["47571e62.c5073"]]},{"id":"ad5784c6.445458","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":2212.2976417541504,"y":1524.0476303100586,"z":"5b5df7c6.0d2bc8","wires":[["6ade8f99.e7b75"]]},{"id":"47571e62.c5073","type":"set","name":"set index-string to '00' + idx","xml":"<set>\n<parameter name='tmp.gun.index-string' value=\"`'' + '00' + $tmp.gun.idx`\" />\n","comments":"","x":2405.631076812744,"y":1449.0475631441388,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"6ade8f99.e7b75","type":"switchNode","name":"switch idx < 100","xml":"<switch test='`$tmp.gun.idx &lt; 100`'>\n","comments":"","outputs":1,"x":2368.6310234069824,"y":1522.3809909820557,"z":"5b5df7c6.0d2bc8","wires":[["8530133f.72ce5","a2c0d6f7.d59d18"]]},{"id":"8530133f.72ce5","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2525.631000518799,"y":1495.7143688201904,"z":"5b5df7c6.0d2bc8","wires":[["e8f5e9f3.52ad58"]]},{"id":"a2c0d6f7.d59d18","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":2525.630958557129,"y":1544.0477046966553,"z":"5b5df7c6.0d2bc8","wires":[["a4a7a33a.b0fd3"]]},{"id":"e8f5e9f3.52ad58","type":"set","name":"set index-string to '0' + idx","xml":"<set>\n<parameter name='tmp.gun.index-string' value=\"`'' + '0' + $tmp.gun.idx`\" />\n","comments":"","x":2718.2977867126465,"y":1495.3810234069824,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"a4a7a33a.b0fd3","type":"set","name":"set index-string to idx","xml":"<set>\n<parameter name='tmp.gun.index-string' value='`$tmp.gun.idx`' />\n","comments":"","x":2702.2977714538574,"y":1543.7143268585205,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"1c44801.f9aa78","type":"set","name":"set generated-name to prefix + index-string","xml":"<set>\n<parameter name='tmp.gun.generated-name' value='`$generate-unique-name-input.prefix + $tmp.gun.index-string`' />\n","comments":"","x":1587.9644012451172,"y":1683.3332962308612,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"b8cbc4ab.7078e8","type":"comment","name":"First check from the current index to the max index","info":"","comments":"","x":1005.6310729980469,"y":1418.333377293178,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"f41bce7a.e8f2","type":"comment","name":"check if we've used this name before","info":"","comments":"","x":1584.6789245605469,"y":1767.619441986084,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"6f49fd81.85abe4","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1692.2977256774902,"y":1845.000224522182,"z":"5b5df7c6.0d2bc8","wires":[["537b466f.2c6b78"]]},{"id":"ec4596d1.24b2e8","type":"set","name":"set generate-unique-name-output.error-message","xml":"<set>\n<parameter name='generate-unique-name-output.error-message' value=\"`'Error reading the GENERIC_RESOURCE_NAME table'`\" />\n","comments":"","x":2138.2499771118164,"y":1818.5715574537005,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"c58e4d67.0c6b5","type":"returnFailure","name":"BREAK","xml":"<return status='failure'>\n","comments":"","x":2003.488224029541,"y":1863.5716451917376,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"ddde01ce.d0219","type":"returnFailure","name":"BREAK","xml":"<return status='failure'>\n","comments":"","x":2006.3452453613281,"y":1958.4763359342303,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"fe81f3b5.caee","type":"comment","name":"found one we can use","info":"","comments":"","x":1824.2027015686035,"y":1889.5242580686297,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"95f0f917.66e4b8","type":"switchNode","name":"switch generate-unique-name-output.error-message","xml":"<switch test='`$generate-unique-name-output.error-message`'>\n","comments":"","outputs":1,"x":880.1786978585378,"y":2716.428689956665,"z":"5b5df7c6.0d2bc8","wires":[["94e5be04.cc013","d5346ddf.55042"]]},{"id":"94e5be04.cc013","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1153.5121062142507,"y":2689.76194190979,"z":"5b5df7c6.0d2bc8","wires":[["9e81e743.31c308"]]},{"id":"9e81e743.31c308","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1288.5121062142507,"y":2689.76194190979,"z":"5b5df7c6.0d2bc8","wires":[[]]},{"id":"d5346ddf.55042","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1153.5120718819753,"y":2739.761962890625,"z":"5b5df7c6.0d2bc8","wires":[["9559c8bb.f270a8"]]},{"id":"9559c8bb.f270a8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n","comments":"","x":1303.5120718819753,"y":2739.761962890625,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"8e775360.e0f47","type":"switchNode","name":"switch found-flag","xml":"<switch test='`$tmp.gun.found-flag`'>\n","comments":"","outputs":1,"x":772.178743634905,"y":3070.7143125534058,"z":"5b5df7c6.0d2bc8","wires":[["86b26ea7.123f5","3cc6595c.5f3d36"]]},{"id":"86b26ea7.123f5","type":"outcome","name":"true","xml":"<outcome value='true'>","comments":"","outputs":1,"x":946.5120833260671,"y":3070.71431350708,"z":"5b5df7c6.0d2bc8","wires":[["8a470dc4.a8245"]]},{"id":"d3bead98.247eb","type":"set","name":"set generate-unique-name-output.generated-name","xml":"<set>\n<parameter name='generate-unique-name-output.generated-name' value='`$tmp.gun.generated-name`' />\n","comments":"","x":1417.1786978585378,"y":2915.714599609375,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"76c88de1.e605a4","type":"returnSuccess","name":"return success","xml":"<return status='success'>\n","comments":"","x":1299.2262671334402,"y":3253.0953941345215,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"8a470dc4.a8245","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1098.1787131173269,"y":3070.047727584839,"z":"5b5df7c6.0d2bc8","wires":[["d3bead98.247eb","23e77db8.6b1932","eb725a1f.de1878","76c88de1.e605a4","a7b9906d.242c6"]]},{"id":"6638c497.a2a70c","type":"set","name":"set index-exists flag to false","xml":"<set>\n<parameter name='tmp.gun.index-exists' value='false' />\n","comments":"","x":1449.4405822753906,"y":1118.0358028411865,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"37b0173d.db12d8","type":"set","name":"set index-exists flag to true","xml":"<set>\n<parameter name='tmp.gun.index-exists' value='true' />\n","comments":"","x":1448.0835266113281,"y":1021.9643287658691,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"38217b0f.dfeb84","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1254.7977981567383,"y":1043.3929347991943,"z":"5b5df7c6.0d2bc8","wires":[["37b0173d.db12d8","e62be35c.d65e"]]},{"id":"23e77db8.6b1932","type":"switchNode","name":"switch index-exists","xml":"<switch test='`$tmp.gun.index-exists`'>\n","comments":"","outputs":1,"x":1312.94070652553,"y":3047.8576011657715,"z":"5b5df7c6.0d2bc8","wires":[["2ef5ad6d.0fdb72","d14924ad.b744d8"]]},{"id":"2ef5ad6d.0fdb72","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1491.5120718819753,"y":3023.5718688964844,"z":"5b5df7c6.0d2bc8","wires":[["72144002.9ed09"]]},{"id":"d14924ad.b744d8","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1491.5120871407644,"y":3070.7147941589355,"z":"5b5df7c6.0d2bc8","wires":[["b288214c.cee47"]]},{"id":"acd10c9.8f61ef","type":"save","name":"save (update) name index","xml":"<save plugin='org.openecomp.sdnc.sli.resource.sql.SqlResource' resource='SQL'\n  key=\"`$tmp.gun.sql`\" pfx='pfx'>\n","comments":"","outputs":1,"x":1887.2263968331472,"y":3025.0002851486206,"z":"5b5df7c6.0d2bc8","wires":[["8056061a.583428"]]},{"id":"9a8e83f3.12b4a","type":"save","name":"save (insert) name index","xml":"<save plugin='org.openecomp.sdnc.sli.resource.sql.SqlResource' resource='SQL'\n  key=\"`$tmp.gun.sql`\" pfx='pfx'>\n","comments":"","outputs":1,"x":1880.0833762032644,"y":3119.285753250122,"z":"5b5df7c6.0d2bc8","wires":[["7e41a6b4.e511d8"]]},{"id":"8056061a.583428","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2080.083597455706,"y":3025.000304222107,"z":"5b5df7c6.0d2bc8","wires":[["d19d26c0.96cb38"]]},{"id":"7e41a6b4.e511d8","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2077.2261679513113,"y":3117.8572692871094,"z":"5b5df7c6.0d2bc8","wires":[["3bab9651.e15b7a"]]},{"id":"eb725a1f.de1878","type":"save","name":"save (insert) generated name","xml":"<save plugin='org.openecomp.sdnc.sli.resource.sql.SqlResource' resource='SQL'\n  key=\"`$tmp.gun.sql`\" pfx='pfx'>\n","comments":"","outputs":1,"x":1347.369303022112,"y":3206.428575515747,"z":"5b5df7c6.0d2bc8","wires":[["37a5bf5f.5e8a7"]]},{"id":"37a5bf5f.5e8a7","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1557.3692343575613,"y":3206.42862701416,"z":"5b5df7c6.0d2bc8","wires":[["19eb1e90.afdc81"]]},{"id":"19eb1e90.afdc81","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n    <parameter name=\"generate-unique-name-output.error-message\" value=\"Failed insert into GENERIC_RESOURCE_NAME table\" />\n","comments":"","x":1711.6550505501882,"y":3206.4286460876465,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"6052a100.3cd06","type":"set","name":"set sql statement","xml":"<set>\n<parameter name='tmp.gun.sql' value=\"`'SELECT * from ' + $generate-unique-name-input.index-table-name\n+ ' WHERE ' + $generate-unique-name-input.index-table-prefix-column + ' = '\n+ '$generate-unique-name-input.prefix'`\" />\n","comments":"","x":843.3692016601562,"y":1001.9644281864166,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"d417cce2.e4643","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1284.4405899047852,"y":1479.5714878354754,"z":"5b5df7c6.0d2bc8","wires":[["2acbae13.af8742","1c44801.f9aa78","3dc281cf.20ddee","6a519ba2.b3f104"]]},{"id":"537b466f.2c6b78","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1844.6787223815918,"y":1844.5241436277117,"z":"5b5df7c6.0d2bc8","wires":[["ec4596d1.24b2e8","c58e4d67.0c6b5"]]},{"id":"72144002.9ed09","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1668.797884259905,"y":3000.71439743042,"z":"5b5df7c6.0d2bc8","wires":[["84be907e.52f9c","acd10c9.8f61ef"]]},{"id":"b288214c.cee47","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1665.9407370431081,"y":3096.4287157058716,"z":"5b5df7c6.0d2bc8","wires":[["9a8e83f3.12b4a","183d7893.87cf97"]]},{"id":"84be907e.52f9c","type":"set","name":"set sql statement","xml":"<set>\n<parameter name='tmp.gun.sql' value=\"`'update ' + $generate-unique-name-input.index-table-name\n+ ' set index_number = ' + $tmp.gun.index-string + ' where '\n+ $generate-unique-name-input.index-table-prefix-column\n+ ' = $generate-unique-name-input.prefix'`\" />\n","comments":"","x":1857.3691656930105,"y":2976.4283690452576,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"183d7893.87cf97","type":"set","name":"set sql statement","xml":"<set>\n<parameter name='tmp.gun.sql' value=\"`'insert into ' + $generate-unique-name-input.index-table-name\n+ '(' + $generate-unique-name-input.index-table-prefix-column + ', index_number) values ('\n+ ' $generate-unique-name-input.prefix , ' + $tmp.gun.index-string + ')'`\" />\n\n","comments":"","x":1855.9407141549245,"y":3070.7141857147217,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"62e833ed.49414c","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1698.9644622802734,"y":1935.95261996133,"z":"5b5df7c6.0d2bc8","wires":[["8448093d.bdbae8"]]},{"id":"d67dbe6d.1b2c","type":"for","name":"for idx from 1 to current index","xml":"<for index='tmp.gun.idx' start='1' end='`$tmp.gun.index-number`' >\n","comments":"","outputs":1,"x":1498.7502844674245,"y":3742.6667518615723,"z":"5b5df7c6.0d2bc8","wires":[["b5920a15.4038c8"]]},{"id":"d62cc6ba.4187f8","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1285.0835309709819,"y":3742.6667304720195,"z":"5b5df7c6.0d2bc8","wires":[["d67dbe6d.1b2c","ba45ec4e.060b"]]},{"id":"ba45ec4e.060b","type":"returnSuccess","name":"CATCH BREAK","xml":"<return status='success'>\n\n","comments":"","x":1449.7026770455495,"y":4317.666882514954,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"5543f6d5.024408","type":"switchNode","name":"switch generate-unique-name-input.index-length","xml":"<switch test='`$generate-unique-name-input.index-length`'>\n","comments":"","outputs":1,"x":2046.4168570382253,"y":3697.33349609375,"z":"5b5df7c6.0d2bc8","wires":[["225ae109.33a45e","61049b69.29b9c4","63ea944d.2272dc","bab2e338.2a42f"]]},{"id":"225ae109.33a45e","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":2326.4168570382253,"y":3627.3335571289062,"z":"5b5df7c6.0d2bc8","wires":[["e0b56320.0c0d8"]]},{"id":"61049b69.29b9c4","type":"outcome","name":"1","xml":"<outcome value='1'>\n","comments":"","outputs":1,"x":2324.750204358782,"y":3672.3335971832275,"z":"5b5df7c6.0d2bc8","wires":[["e0b56320.0c0d8"]]},{"id":"63ea944d.2272dc","type":"outcome","name":"2","xml":"<outcome value='2'>\n","comments":"","outputs":1,"x":2324.750292096819,"y":3725.666944503784,"z":"5b5df7c6.0d2bc8","wires":[["c492653a.3e2e38"]]},{"id":"bab2e338.2a42f","type":"outcome","name":"3","xml":"<outcome value='3'>\n","comments":"","outputs":1,"x":2324.7501700265066,"y":3822.33367729187,"z":"5b5df7c6.0d2bc8","wires":[["aff23da7.d28c6"]]},{"id":"e0b56320.0c0d8","type":"set","name":"set index-string to idx","xml":"<set>\n<parameter name='tmp.gun.index-string' value='`$tmp.gun.idx`' />\n","comments":"","x":2511.4170058114187,"y":3645.6669006347656,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"c492653a.3e2e38","type":"switchNode","name":"switch idx < 10","xml":"<switch test='`$tmp.gun.idx &lt; 10`'>\n","comments":"","outputs":1,"x":2491.416921888079,"y":3725.6668424606323,"z":"5b5df7c6.0d2bc8","wires":[["eaae1800.f0cb48","5389df61.8a933"]]},{"id":"eaae1800.f0cb48","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2653.083555494036,"y":3699.0002155303955,"z":"5b5df7c6.0d2bc8","wires":[["f8dc9d24.ccc73"]]},{"id":"5389df61.8a933","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":2653.083513532366,"y":3747.3335514068604,"z":"5b5df7c6.0d2bc8","wires":[["7e5b6234.9cad7c"]]},{"id":"f8dc9d24.ccc73","type":"set","name":"set index-string to '0' + idx","xml":"<set>\n<parameter name='tmp.gun.index-string' value=\"`'' + '0' + $tmp.gun.idx`\" />\n","comments":"","x":2844.7503149850027,"y":3698.3334426879883,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"7e5b6234.9cad7c","type":"set","name":"set index-string to idx","xml":"<set>\n<parameter name='tmp.gun.index-string' value='`$tmp.gun.idx`' />\n","comments":"","x":2828.0835669381277,"y":3747.0001583099365,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"aff23da7.d28c6","type":"switchNode","name":"switch idx < 10","xml":"<switch test='`$tmp.gun.idx &lt; 10`'>\n","comments":"","outputs":1,"x":2493.0835059029714,"y":3820.666805267334,"z":"5b5df7c6.0d2bc8","wires":[["7dbc588.c0028a8","ff56d488.b4b4e8"]]},{"id":"7dbc588.c0028a8","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2653.083483014788,"y":3794.0001831054688,"z":"5b5df7c6.0d2bc8","wires":[["79b726f5.e3a308"]]},{"id":"ff56d488.b4b4e8","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":2654.7501395089284,"y":3869.000141143799,"z":"5b5df7c6.0d2bc8","wires":[["8b8ba5df.ddb118"]]},{"id":"79b726f5.e3a308","type":"set","name":"set index-string to '00' + idx","xml":"<set>\n<parameter name='tmp.gun.index-string' value=\"`'' + '00' + $tmp.gun.idx`\" />\n","comments":"","x":2848.0835669381277,"y":3794.0001583099365,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"8b8ba5df.ddb118","type":"switchNode","name":"switch idx < 100","xml":"<switch test='`$tmp.gun.idx &lt; 100`'>\n","comments":"","outputs":1,"x":2811.0835211617605,"y":3867.333501815796,"z":"5b5df7c6.0d2bc8","wires":[["b679bc40.fe15b","76af201a.adb17"]]},{"id":"b679bc40.fe15b","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2968.083498273577,"y":3840.6668796539307,"z":"5b5df7c6.0d2bc8","wires":[["1d8b4b2c.359d95"]]},{"id":"76af201a.adb17","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":2968.083456311907,"y":3889.0002155303955,"z":"5b5df7c6.0d2bc8","wires":[["f199176b.e51cd8"]]},{"id":"1d8b4b2c.359d95","type":"set","name":"set index-string to '0' + idx","xml":"<set>\n<parameter name='tmp.gun.index-string' value=\"`'' + '0' + $tmp.gun.idx`\" />\n","comments":"","x":3160.7502844674245,"y":3840.3335342407227,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"f199176b.e51cd8","type":"set","name":"set index-string to idx","xml":"<set>\n<parameter name='tmp.gun.index-string' value='`$tmp.gun.idx`' />\n","comments":"","x":3144.7502692086355,"y":3888.6668376922607,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"d5bfc1f3.6b207","type":"set","name":"set generated-name to prefix + index-string","xml":"<set>\n<parameter name='tmp.gun.generated-name' value='`$generate-unique-name-input.prefix + $tmp.gun.index-string`' />\n","comments":"","x":2044.4169409615652,"y":3946.0000743865967,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"27591e84.25bf62","type":"comment","name":"Wrapping around - now check from 1 to the original index","info":"","comments":"","x":1476.0836050851003,"y":3672.14306640625,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"bdc2c4d5.acf8f8","type":"comment","name":"check if we've used this name before","info":"","comments":"","x":2031.1313879830495,"y":4061.0003480911255,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"ab516c2f.3ff81","type":"get-resource","name":"get-resource name","xml":"<get-resource plugin='org.openecomp.sdnc.sli.resource.sql.SqlResource' resource='SQL'\n  key=\"`$tmp.gun.sql`\" pfx='tmp.gun.namedb'>\n\n","comments":"","outputs":1,"x":1968.750204358782,"y":4201.714418002537,"z":"5b5df7c6.0d2bc8","wires":[["bf9a11df.591f6","1414a39b.e3974c"]]},{"id":"bf9a11df.591f6","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2147.083597455706,"y":4156.0002546310425,"z":"5b5df7c6.0d2bc8","wires":[["2b80e557.fe87fa"]]},{"id":"ca5575ae.6b1f28","type":"set","name":"set generate-unique-name-output.error-message","xml":"<set>\n<parameter name='generate-unique-name-output.error-message' value=\"Error reading the GENERIC_RESOURCE_NAME table\" />\n","comments":"","x":2593.035848890032,"y":4129.571587562561,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"c64b609.00affa","type":"returnFailure","name":"BREAK","xml":"<return status='failure'>\n","comments":"","x":2458.2740958077566,"y":4174.571675300598,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"4685aa10.abb3f4","type":"switchNode","name":"switch generate-unique-name-output.error-message","xml":"<switch test='`$generate-unique-name-output.error-message`'>\n","comments":"","outputs":1,"x":1431.1311743600027,"y":4425.523958206177,"z":"5b5df7c6.0d2bc8","wires":[["afa1e2e6.db75c","88d209c3.af06e8"]]},{"id":"afa1e2e6.db75c","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1704.4645827157156,"y":4398.857210159302,"z":"5b5df7c6.0d2bc8","wires":[["59f30be9.b65cd4"]]},{"id":"59f30be9.b65cd4","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1839.4645827157156,"y":4398.857210159302,"z":"5b5df7c6.0d2bc8","wires":[[]]},{"id":"88d209c3.af06e8","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1704.4645483834402,"y":4448.857231140137,"z":"5b5df7c6.0d2bc8","wires":[["3a75e415.6cf0ac"]]},{"id":"3a75e415.6cf0ac","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n","comments":"","x":1854.4645483834402,"y":4448.857231140137,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"44368530.b175bc","type":"switchNode","name":"switch found-flag","xml":"<switch test='`$tmp.gun.found-flag`'>\n","comments":"","outputs":1,"x":1312.8454535348073,"y":4605.047866821289,"z":"5b5df7c6.0d2bc8","wires":[["d45f57e7.c9c408"]]},{"id":"7d2c42f.25871bc","type":"comment","name":"if db name is null we found an index we can use","info":"","comments":"","x":1479.5597937447683,"y":4554.571641921997,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"d45f57e7.c9c408","type":"outcome","name":"true","xml":"<outcome value='true'>","comments":"","outputs":1,"x":1472.1787741524831,"y":4605.047823905945,"z":"5b5df7c6.0d2bc8","wires":[["f5c394b3.7b1588"]]},{"id":"558e9e4c.ec39","type":"set","name":"set generate-unique-name-output.generated-name","xml":"<set>\n<parameter name='generate-unique-name-output.generated-name' value='`$tmp.gun.generated-name`' />\n","comments":"","x":1947.8454382760183,"y":4553.381364822388,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"e20c4cf1.7168b","type":"returnSuccess","name":"return success","xml":"<return status='success'>\n\n","comments":"","x":1831.3214896065847,"y":4892.190835952759,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"f5c394b3.7b1588","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1638.8454687935964,"y":4603.381042480469,"z":"5b5df7c6.0d2bc8","wires":[["558e9e4c.ec39","693540d9.db4d2","2d8c6de7.156762","e20c4cf1.7168b","ba215441.1bc9d8"]]},{"id":"693540d9.db4d2","type":"switchNode","name":"switch index-exists","xml":"<switch test='`$tmp.gun.index-exists`'>\n","comments":"","outputs":1,"x":1843.6074469430105,"y":4685.524366378784,"z":"5b5df7c6.0d2bc8","wires":[["e4bdecdf.da016","aeb92854.6c36b8"]]},{"id":"e4bdecdf.da016","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2022.1788122994558,"y":4661.238634109497,"z":"5b5df7c6.0d2bc8","wires":[["4d009b68.beb414"]]},{"id":"aeb92854.6c36b8","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":2022.1788275582448,"y":4708.381559371948,"z":"5b5df7c6.0d2bc8","wires":[["59e602b9.289a4c"]]},{"id":"8ee350b1.30e3f","type":"save","name":"save (update) name index","xml":"<save plugin='org.openecomp.sdnc.sli.resource.sql.SqlResource' resource='SQL'\n  key=\"`$tmp.gun.sql`\" pfx='pfx'>\n","comments":"","outputs":1,"x":2417.8931372506277,"y":4662.667050361633,"z":"5b5df7c6.0d2bc8","wires":[["6ccc0748.4663b8"]]},{"id":"5c5f8906.561178","type":"save","name":"save (insert) name index","xml":"<save plugin='org.openecomp.sdnc.sli.resource.sql.SqlResource' resource='SQL'\n  key=\"`$tmp.gun.sql`\" pfx='pfx'>\n","comments":"","outputs":1,"x":2410.750116620745,"y":4756.952518463135,"z":"5b5df7c6.0d2bc8","wires":[["3af22fdd.5d84d"]]},{"id":"6ccc0748.4663b8","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2610.7503378731863,"y":4662.66706943512,"z":"5b5df7c6.0d2bc8","wires":[["d5d604b9.c87d38"]]},{"id":"d5d604b9.c87d38","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n    <parameter name=\"generate-unique-name-output.error-message\" value=\"`'Failed to update ' + $generate-unique-name-input.index-table-name + ' table'`\" />\n","comments":"","x":2765.036154065813,"y":4662.667088508606,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"3af22fdd.5d84d","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2607.8929083687917,"y":4755.524034500122,"z":"5b5df7c6.0d2bc8","wires":[["5cf451ea.226a8"]]},{"id":"5cf451ea.226a8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n    <parameter name=\"generate-unique-name-output.error-message\" value=\"`'Failed to insert record into ' + $generate-unique-name-input.index-table-name + ' table'`\" />\n","comments":"","x":2762.1787245614187,"y":4755.524053573608,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"2d8c6de7.156762","type":"save","name":"save (insert) generated name","xml":"<save plugin='org.openecomp.sdnc.sli.resource.sql.SqlResource' resource='SQL'\n  key=\"`$tmp.gun.sql`\" pfx='pfx'>\n","comments":"","outputs":1,"x":1878.0360434395925,"y":4844.09534072876,"z":"5b5df7c6.0d2bc8","wires":[["84035363.4d5ef"]]},{"id":"84035363.4d5ef","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2088.0359747750417,"y":4844.095392227173,"z":"5b5df7c6.0d2bc8","wires":[["42e29e0b.cdf37"]]},{"id":"42e29e0b.cdf37","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n    <parameter name=\"generate-unique-name-output.error-message\" value=\"Failed insert into GENERIC_RESOURCE_NAME table\" />\n","comments":"","x":2242.3217909676687,"y":4844.095411300659,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"b5920a15.4038c8","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1740.8931296212331,"y":3741.238265991211,"z":"5b5df7c6.0d2bc8","wires":[["5543f6d5.024408","d5bfc1f3.6b207","ab516c2f.3ff81","62ce3473.72be0c","87f54e38.f37c"]]},{"id":"2b80e557.fe87fa","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":2299.4645941598073,"y":4155.524173736572,"z":"5b5df7c6.0d2bc8","wires":[["ca5575ae.6b1f28","c64b609.00affa"]]},{"id":"4d009b68.beb414","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":2199.4646246773855,"y":4638.381162643433,"z":"5b5df7c6.0d2bc8","wires":[["8b878304.4de3","8ee350b1.30e3f"]]},{"id":"59e602b9.289a4c","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":2196.6074774605886,"y":4734.095480918884,"z":"5b5df7c6.0d2bc8","wires":[["5c5f8906.561178","d785bec7.806d2"]]},{"id":"8b878304.4de3","type":"set","name":"set sql statement","xml":"<set>\n<parameter name='tmp.gun.sql' value=\"`'update ' + $generate-unique-name-input.index-table-name\n+ ' set index_number = ' + $tmp.gun.index-string + ' where '\n+ $generate-unique-name-input.index-table-prefix-column\n+ ' = $generate-unique-name-input.prefix'`\" />\n","comments":"","x":2388.035906110491,"y":4614.09513425827,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"d785bec7.806d2","type":"set","name":"set sql statement","xml":"<set>\n<parameter name='tmp.gun.sql' value=\"`'insert into ' + $generate-unique-name-input.index-table-name\n+ '(' + $generate-unique-name-input.index-table-prefix-column + ', index_number) values ('\n+ ' $generate-unique-name-input.prefix , ' + $tmp.gun.index-string + ')'`\" />\n\n","comments":"","x":2386.607454572405,"y":4708.380950927734,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"1414a39b.e3974c","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":2153.750334058489,"y":4246.95265007019,"z":"5b5df7c6.0d2bc8","wires":[["db9202ab.d2893"]]},{"id":"62ce3473.72be0c","type":"set","name":"clear namedb.name","xml":"<set>\n<parameter name='tmp.gun.namedb.name' value='' />\n","comments":"","x":1969.464517865862,"y":3996.9525833129883,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"47a4f012.6d699","type":"switchNode","name":"switch generate-unique-name-input.index-length","xml":"<switch test='`$generate-unique-name-input.index-length`'>\n","comments":"","outputs":1,"x":1413.7502310616628,"y":3575.33349609375,"z":"5b5df7c6.0d2bc8","wires":[["2ec0f894.595248"]]},{"id":"2ec0f894.595248","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1669.4645636422292,"y":3576.238405227661,"z":"5b5df7c6.0d2bc8","wires":[["2cb5c2b1.da735e"]]},{"id":"2cb5c2b1.da735e","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n    <parameter name=\"generate-unique-name-output.error-message\" value=\"We have exhausted the naming index count\" />\n","comments":"","x":1826.6074469430105,"y":3576.238405227661,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"a92de35d.1485","type":"comment","name":"if we get here when there is no index length, then we have used up all 1000","info":"","comments":"","x":1545.1788275582448,"y":3531.9527196884155,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"3ce6ab73.b050b4","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n    <parameter name=\"generate-unique-name-output.error-message\" value=\"We have exhausted the naming index count\" />\n","comments":"","x":1307.1788618905202,"y":5005.238317489624,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"b7d9e6a4.3579c8","type":"set","name":"set found-flag=false","xml":"<set>\n<parameter name='tmp.gun.found-flag' value='false' />\n","comments":"","x":849.0834503173828,"y":1295.1786270141602,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"b2059cb1.746df","type":"set","name":"set found-flag=true","xml":"<set>\n<parameter name='tmp.gun.found-flag' value='true' />\n","comments":"","x":2043.2501640319824,"y":1910.2381881986346,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"8448093d.bdbae8","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1850.3929862976074,"y":1936.381132534572,"z":"5b5df7c6.0d2bc8","wires":[["b2059cb1.746df","ddde01ce.d0219"]]},{"id":"677670df.cdc92","type":"returnFailure","name":"BREAK","xml":"<return status='failure'>\n","comments":"","x":2458.607313428606,"y":4268.095365524292,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"9a67a2fe.3d60a","type":"comment","name":"found one we can use","info":"","comments":"","x":2276.4647696358816,"y":4199.143287658691,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"2159ce24.60e9d2","type":"set","name":"set found-flag=true","xml":"<set>\n<parameter name='tmp.gun.found-flag' value='true' />\n","comments":"","x":2495.5122320992605,"y":4219.857217788696,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"db9202ab.d2893","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":2302.6550543648855,"y":4246.000162124634,"z":"5b5df7c6.0d2bc8","wires":[["2159ce24.60e9d2","677670df.cdc92"]]},{"id":"ad524b8a.7b3708","type":"switchNode","name":"switch generate-unique-name-input.supplied-name","xml":"<switch test='`$generate-unique-name-input.supplied-name`'>\n","comments":"","outputs":1,"x":403.36907958984375,"y":327.8571781430926,"z":"5b5df7c6.0d2bc8","wires":[["57e5fcf1.acf074","410773ae.d8a39c"]]},{"id":"57e5fcf1.acf074","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":661.9405784606934,"y":354.99997370583674,"z":"5b5df7c6.0d2bc8","wires":[["4d7e9cb3.0fdf14"]]},{"id":"410773ae.d8a39c","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":661.9405555725098,"y":296.8571438108172,"z":"5b5df7c6.0d2bc8","wires":[["528ce114.cb113"]]},{"id":"61ebef0e.b913f","type":"switchNode","name":"switch generate-unique-name-input.name-table-type","xml":"<switch test='`$generate-unique-name-input.name-table-type`'>\n","comments":"","outputs":1,"x":1131.2262268066406,"y":233.57142489297053,"z":"5b5df7c6.0d2bc8","wires":[["ae2be6f1.c24dc8"]]},{"id":"ae2be6f1.c24dc8","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1464.5594234466553,"y":233.5714344297137,"z":"5b5df7c6.0d2bc8","wires":[["87a62c6a.07d4e"]]},{"id":"87a62c6a.07d4e","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='generate-unique-name-output.error-message' value='generate-unique-name-input.name-table-type not supplied' />\n","comments":"","x":1636.2262001037598,"y":233.90473788125178,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"528ce114.cb113","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":816.2262802124023,"y":296.42857401711603,"z":"5b5df7c6.0d2bc8","wires":[["61ebef0e.b913f","16ecbdf2.a07c82","a5316a1c.76b938"]]},{"id":"a5316a1c.76b938","type":"get-resource","name":"get-resource name","xml":"<get-resource plugin='org.openecomp.sdnc.sli.resource.sql.SqlResource' resource='SQL'\n  key=\"`$tmp.gun.sql`\" pfx='tmp.gun.namedb'>\n\n","comments":"","outputs":1,"x":1024.7976913452148,"y":326.4285892759051,"z":"5b5df7c6.0d2bc8","wires":[["a8274c63.94c67","6648ddf0.858b14","b1203514.0a4ff8"]]},{"id":"a8274c63.94c67","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1207.4167404174805,"y":313.57148497445246,"z":"5b5df7c6.0d2bc8","wires":[["62a079e3.962c28"]]},{"id":"16ecbdf2.a07c82","type":"set","name":"set sql statement","xml":"<set>\n<parameter name='tmp.gun.sql' value=\"`'SELECT * from GENERIC_RESOURCE_NAME WHERE type = $generate-unique-name-input.name-table-type'\n+ ' AND name = $generate-unique-name-input.supplied-name'`\" />\n","comments":"","x":1018.3692436218262,"y":278.8096069608416,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"6648ddf0.858b14","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1215.5120964050293,"y":358.8095955167498,"z":"5b5df7c6.0d2bc8","wires":[["d2d999.d3da5668"]]},{"id":"62a079e3.962c28","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='generate-unique-name-output.error-message' value=\"`'Error reading the ' + $generate-unique-name-input.name-table-index + ' table'`\" />\n\n","comments":"","x":1363.3691635131836,"y":313.14289038521906,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"b1203514.0a4ff8","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1207.6548652648926,"y":400.71428912026545,"z":"5b5df7c6.0d2bc8","wires":[["e7500510.a9f8a8"]]},{"id":"e7500510.a9f8a8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='generate-unique-name-output.error-message' value=\"`'The name ' + $generate-unique-name-input.supplied-name + ' has already been used'`\" />\n\n","comments":"","x":1363.3691024780273,"y":400.1428531919207,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"95a1bcc2.74bed","type":"comment","name":"Caller supplied name - make sure it's not already used","info":"","comments":"","x":1161.0834350585938,"y":186.99999659402033,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"d2d999.d3da5668","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1364.7977905273438,"y":359.2857021604266,"z":"5b5df7c6.0d2bc8","wires":[["bb996c57.86b","41594a46.27e5c4"]]},{"id":"41594a46.27e5c4","type":"save","name":"save (insert) generated name","xml":"<save plugin='org.openecomp.sdnc.sli.resource.sql.SqlResource' resource='SQL'\n  key=\"`$tmp.gun.sql`\" pfx='pfx'>\n","comments":"","outputs":1,"x":1604.7977905273438,"y":383.57143824441096,"z":"5b5df7c6.0d2bc8","wires":[["b4146905.fef7c8"]]},{"id":"b4146905.fef7c8","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1814.797721862793,"y":383.57148974282404,"z":"5b5df7c6.0d2bc8","wires":[["5b58ce51.3e666"]]},{"id":"5b58ce51.3e666","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name=\"generate-unique-name-output.error-message\" value=\"Failed insert into GENERIC_RESOURCE_NAME table\" />\n","comments":"","x":1969.08353805542,"y":383.57150881631037,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"bb996c57.86b","type":"set","name":"set sql statement","xml":"<set>\n<parameter name='tmp.gun.sql' value=\"`'insert into GENERIC_RESOURCE_NAME values ( '\n+ ' $generate-unique-name-input.name-table-type , $generate-unique-name-input.supplied-name )'`\" />\n\n","comments":"","x":1564.797721862793,"y":333.5716156278338,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"a7b9906d.242c6","type":"set","name":"set sql statement","xml":"<set>\n<parameter name='tmp.gun.sql' value=\"`'insert into GENERIC_RESOURCE_NAME values ( '\n+ ' $generate-unique-name-input.name-table-type , $tmp.gun.generated-name )'`\" />\n\n","comments":"","x":1308.7977621895925,"y":3159.999936103821,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"87f54e38.f37c","type":"set","name":"set sql statement","xml":"<set>\n<parameter name='tmp.gun.sql' value=\"`'SELECT * from GENERIC_RESOURCE_NAME WHERE type = $generate-unique-name-input.name-table-type'\n+ ' AND name = $tmp.gun.generated-name'`\" />\n","comments":"","x":1962.8930914742605,"y":4112.381139755249,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"ba215441.1bc9d8","type":"set","name":"set sql statement","xml":"<set>\n<parameter name='tmp.gun.sql' value=\"`'insert into GENERIC_RESOURCE_NAME values ( '\n+ ' $generate-unique-name-input.name-table-type , $tmp.gun.generated-name )'`\" />\n\n","comments":"","x":1838.6072867257253,"y":4796.666667938232,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"d19d26c0.96cb38","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n    <parameter name=\"generate-unique-name-output.error-message\" value=\"`'Failed to update ' + $generate-unique-name-input.index-table-name + ' table'`\" />\n","comments":"","x":2231.654947553362,"y":3024.285653114319,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"3bab9651.e15b7a","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n    <parameter name=\"generate-unique-name-output.error-message\" value=\"`'Failed to insert record into ' + $generate-unique-name-input.index-table-name + ' table'`\" />\n","comments":"","x":2228.7975600106374,"y":3117.571434020996,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"3cc6595c.5f3d36","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":950.750089917864,"y":3435.000009536743,"z":"5b5df7c6.0d2bc8","wires":[["49330a79.1669f4"]]},{"id":"49330a79.1669f4","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1101.5834982735769,"y":4046.666533470154,"z":"5b5df7c6.0d2bc8","wires":[["47a4f012.6d699","d62cc6ba.4187f8","4685aa10.abb3f4","44368530.b175bc","3ce6ab73.b050b4","e0ca7bc1.cdbca8"]]},{"id":"40bbbe54.ee087","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":1115.7263526916504,"y":1042.6786005496979,"z":"5b5df7c6.0d2bc8","wires":[["38217b0f.dfeb84"]]},{"id":"95cd5280.4366b","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1122.2978706359863,"y":1149.3214473724365,"z":"5b5df7c6.0d2bc8","wires":[["3189156e.38b05a"]]},{"id":"3189156e.38b05a","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1253.7264213562012,"y":1148.7500534057617,"z":"5b5df7c6.0d2bc8","wires":[["6638c497.a2a70c","d08646e9.91bd08"]]},{"id":"6a519ba2.b3f104","type":"set","name":"set sql statement","xml":"<set>\n<parameter name='tmp.gun.sql' value=\"`'SELECT * from GENERIC_RESOURCE_NAME WHERE type = $generate-unique-name-input.name-table-type'\n+ ' AND name = $tmp.gun.generated-name'`\" />\n","comments":"","x":1508.5715599060059,"y":1808.5714511871338,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"3dc281cf.20ddee","type":"get-resource","name":"get-resource name","xml":"<get-resource plugin='org.openecomp.sdnc.sli.resource.sql.SqlResource' resource='SQL'\n  key=\"`$tmp.gun.sql`\" pfx='tmp.gun.namedb'>\n\n","comments":"","outputs":1,"x":1510.0001678466797,"y":1895.7143745422363,"z":"5b5df7c6.0d2bc8","wires":[["6f49fd81.85abe4","62e833ed.49414c"]]},{"id":"26044c58.582704","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":102.321533203125,"y":302.142861366272,"z":"5b5df7c6.0d2bc8","wires":[["ad524b8a.7b3708","2c9bb97e.bfc316"]]},{"id":"2c9bb97e.bfc316","type":"set","name":"clear variables","xml":"<set>\n<parameter name='generate-unique-name-output.error-message' value='' />\n<parameter name='generate-unique-name-output.generated-name' value='' />\n","comments":"","x":291.07153701782227,"y":277.14286041259766,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"1651bff.173734","type":"outcome","name":"0","xml":"<outcome value='0'>\n","comments":"","outputs":1,"x":1294.749870300293,"y":727.5000267028809,"z":"5b5df7c6.0d2bc8","wires":[["728800bc.6d85d"]]},{"id":"728800bc.6d85d","type":"set","name":"set list-end = 0","xml":"<set>\n<parameter name='tmp.gun.list-end' value='0' />\n","comments":"","x":1484.4165153503418,"y":727.5000038146973,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"abd96b75.27a588","type":"switchNode","name":"switch tmp.gun.noindex-flag","xml":"<switch test='`$tmp.gun.noindex-flag`'>\n","comments":"","outputs":1,"x":1059.2499869210378,"y":2091.1429443359375,"z":"5b5df7c6.0d2bc8","wires":[["e3befa31.065318"]]},{"id":"e62be35c.d65e","type":"switchNode","name":"switch generate-unique-name-input.index-length","xml":"<switch test='`$generate-unique-name-input.index-length`'>\n","comments":"","outputs":1,"x":1515.5357971191406,"y":1067.571445465088,"z":"5b5df7c6.0d2bc8","wires":[["a37c6cdd.060b6","4511c59d.4a7e3c"]]},{"id":"a37c6cdd.060b6","type":"outcome","name":"0","xml":"<outcome value='0'>\n","comments":"","outputs":1,"x":1781.7857971191406,"y":1095.8214473724365,"z":"5b5df7c6.0d2bc8","wires":[["1436b156.cb836f"]]},{"id":"4511c59d.4a7e3c","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1783.2857933044434,"y":1035.821445465088,"z":"5b5df7c6.0d2bc8","wires":[["76ac38bf.1bc898"]]},{"id":"76ac38bf.1bc898","type":"set","name":"increment index number","xml":"<set>\n<parameter name='tmp.gun.index-number' value='`$tmp.gun.prefixdb.index-number + 1`' />\n","comments":"","x":1975.7857933044434,"y":1035.571445465088,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"35ce19db.f13bc6","type":"set","name":"set  index number to 0","xml":"<set>\n<parameter name='tmp.gun.index-number' value='0' />\n","comments":"","x":2119.7860412597656,"y":1097.571445465088,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"d08646e9.91bd08","type":"switchNode","name":"switch generate-unique-name-input.index-length","xml":"<switch test='`$generate-unique-name-input.index-length`'>\n","comments":"","outputs":1,"x":1513.0357971191406,"y":1178.5714473724365,"z":"5b5df7c6.0d2bc8","wires":[["ce769b64.44ba48","6b0c889f.898208"]]},{"id":"6b0c889f.898208","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1783.0357933044434,"y":1200.5714473724365,"z":"5b5df7c6.0d2bc8","wires":[["93f3f18d.5073"]]},{"id":"ce769b64.44ba48","type":"outcome","name":"0","xml":"<outcome value='0'>\n","comments":"","outputs":1,"x":1783.035816192627,"y":1144.3214032649994,"z":"5b5df7c6.0d2bc8","wires":[["1436b156.cb836f"]]},{"id":"1436b156.cb836f","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1931.785789489746,"y":1123.071445465088,"z":"5b5df7c6.0d2bc8","wires":[["35ce19db.f13bc6","cdc8f90f.553848"]]},{"id":"cdc8f90f.553848","type":"set","name":"set noindex-flag=true","xml":"<set>\n<parameter name='tmp.gun.noindex-flag' value='true' />\n","comments":"","x":2119.285758972168,"y":1146.5714302062988,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"96d3ddbd.cfc9c","type":"set","name":"set generated-name to prefix","xml":"<set>\n<parameter name='tmp.gun.generated-name' value='`$generate-unique-name-input.prefix`' />\n","comments":"","x":1662.2858374459402,"y":2142.571481704712,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"e3befa31.065318","type":"outcome","name":"true","xml":"<outcome value='true'>","comments":"","outputs":1,"x":1256.57152393886,"y":2091.1429271698,"z":"5b5df7c6.0d2bc8","wires":[["c6d80101.334a4"]]},{"id":"c6d80101.334a4","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1407.9998801095144,"y":2091.1430492401123,"z":"5b5df7c6.0d2bc8","wires":[["a6ccf5.0e21e308","3ffb6630.faf2ea","96d3ddbd.cfc9c","46dbfedf.819fd"]]},{"id":"3ffb6630.faf2ea","type":"set","name":"set sql statement","xml":"<set>\n<parameter name='tmp.gun.sql' value=\"`'SELECT * from GENERIC_RESOURCE_NAME WHERE type = $generate-unique-name-input.name-table-type'\n+ ' AND name = $tmp.gun.generated-name'`\" />\n","comments":"","x":1629.273943219866,"y":2185.4288854599,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"a6ccf5.0e21e308","type":"get-resource","name":"get-resource name","xml":"<get-resource plugin='org.openecomp.sdnc.sli.resource.sql.SqlResource' resource='SQL'\n  key=\"`$tmp.gun.sql`\" pfx='tmp.gun.namedb'>\n\n","comments":"","outputs":1,"x":1635.9883368355886,"y":2229.571566581726,"z":"5b5df7c6.0d2bc8","wires":[["74d31e87.f6ea2","52da2d5.2fca2d4","9664a8f6.f05ff8"]]},{"id":"74d31e87.f6ea2","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1828.2859480721609,"y":2228.857423237392,"z":"5b5df7c6.0d2bc8","wires":[["77364e15.dd0a4"]]},{"id":"52da2d5.2fca2d4","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1834.952684674944,"y":2319.80981867654,"z":"5b5df7c6.0d2bc8","wires":[["2166d233.88b87e"]]},{"id":"2166d233.88b87e","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":2017.8096128191264,"y":2319.2383213043213,"z":"5b5df7c6.0d2bc8","wires":[["b46d8e10.e424b","f2924939.8efb68"]]},{"id":"f2924939.8efb68","type":"returnFailure","name":"BREAK","xml":"<return status='failure'>\n","comments":"","x":2173.761871882847,"y":2341.3335247039795,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"b46d8e10.e424b","type":"set","name":"set found-flag=true","xml":"<set>\n<parameter name='tmp.gun.found-flag' value='true' />\n","comments":"","x":2210.6667905535014,"y":2293.095376968384,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"b9f641f7.66bf2","type":"returnFailure","name":"BREAK","xml":"<return status='failure'>\n","comments":"","x":2139.4764464242116,"y":2247.428843906948,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"3daef68b.ebf5ba","type":"set","name":"set generate-unique-name-output.error-message","xml":"<set>\n<parameter name='generate-unique-name-output.error-message' value=\"`'Error reading the GENERIC_RESOURCE_NAME table'`\" />\n","comments":"","x":2274.238199506487,"y":2202.4287561689107,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"77364e15.dd0a4","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1980.6669447762624,"y":2228.381342342922,"z":"5b5df7c6.0d2bc8","wires":[["3daef68b.ebf5ba","b9f641f7.66bf2"]]},{"id":"2650666.a9eec9a","type":"comment","name":"found one we can use","info":"","comments":"","x":1991.6193280901225,"y":2272.381446838379,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"c273c377.ead25","type":"comment","name":"NEW","info":"","comments":"","x":1188.5712988717214,"y":734.2857409885951,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"9e1ff13d.ee437","type":"comment","name":"NEW","info":"","comments":"","x":1058.0001068115234,"y":2056.85710811615,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"713b7c4d.a47ed4","type":"comment","name":"NEW","info":"","comments":"","x":1658.5714874267578,"y":1034.2856788635254,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"49fd4911.ed2738","type":"comment","name":"NEW","info":"","comments":"","x":1651.4287109375,"y":1148.5714302062988,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"46dbfedf.819fd","type":"set","name":"set index-string to 0","xml":"<set>\n<parameter name='tmp.gun.index-string' value='0' />\n","comments":"","x":1646.5713904244558,"y":2091.4286432266235,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"e0ca7bc1.cdbca8","type":"switchNode","name":"switch tmp.gun.noindex-flag","xml":"<switch test='`$tmp.gun.noindex-flag`'>\n","comments":"","outputs":1,"x":1350.0001089913503,"y":3458.428815841675,"z":"5b5df7c6.0d2bc8","wires":[["8ae5f627.71b4e8"]]},{"id":"8ae5f627.71b4e8","type":"outcome","name":"true","xml":"<outcome value='true'>","comments":"","outputs":1,"x":1555.714388166155,"y":3458.428722381592,"z":"5b5df7c6.0d2bc8","wires":[["93241c1b.35c13"]]},{"id":"93241c1b.35c13","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n    <parameter name=\"generate-unique-name-output.error-message\" value=\"naming exhausted for input with index-length = 0\" />\n","comments":"","x":1720.0002310616628,"y":3457,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"9664a8f6.f05ff8","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":1830.4643712724956,"y":2375.2855682373047,"z":"5b5df7c6.0d2bc8","wires":[["2166d233.88b87e"]]},{"id":"80a4946f.9b2528","type":"outcome","name":"4","xml":"<outcome value='4'>\n","comments":"","outputs":1,"x":1294.2857627868652,"y":908.5714473724365,"z":"5b5df7c6.0d2bc8","wires":[["32515683.2605da"]]},{"id":"32515683.2605da","type":"set","name":"set list-end = 10000","xml":"<set>\n<parameter name='tmp.gun.list-end' value='10000' />\n","comments":"","x":1483.952407836914,"y":908.5714244842529,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"a3709858.5f7558","type":"outcome","name":"4","xml":"<outcome value='4'>\n","comments":"","outputs":1,"x":1878.5713806152344,"y":1621.4285430908203,"z":"5b5df7c6.0d2bc8","wires":[["3f71b95c.564026"]]},{"id":"3f71b95c.564026","type":"switchNode","name":"switch idx < 10","xml":"<switch test='`$tmp.gun.idx &lt; 10`'>\n","comments":"","outputs":1,"x":2046.9047164916992,"y":1619.7616710662842,"z":"5b5df7c6.0d2bc8","wires":[["277beae6.187746","e52369e6.b1c9c8"]]},{"id":"277beae6.187746","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2206.9046936035156,"y":1593.095048904419,"z":"5b5df7c6.0d2bc8","wires":[["4e62f8d9.7acf48"]]},{"id":"e52369e6.b1c9c8","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":2208.5713500976562,"y":1668.095006942749,"z":"5b5df7c6.0d2bc8","wires":[["77067f9d.1706a"]]},{"id":"4e62f8d9.7acf48","type":"set","name":"set index-string to '000' + idx","xml":"<set>\n<parameter name='tmp.gun.index-string' value=\"`'' + '000' + $tmp.gun.idx`\" />\n","comments":"","x":2401.90478515625,"y":1593.0949397768293,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"77067f9d.1706a","type":"switchNode","name":"switch idx < 1000","xml":"<switch test='`$tmp.gun.idx &lt; 1000`'>\n","comments":"","outputs":1,"x":2364.9047317504883,"y":1666.428367614746,"z":"5b5df7c6.0d2bc8","wires":[["65492b6e.07e6c4","b95a5895.d3d6c8"]]},{"id":"65492b6e.07e6c4","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2521.9047088623047,"y":1639.7617454528809,"z":"5b5df7c6.0d2bc8","wires":[["bdd1412b.8eb46"]]},{"id":"b95a5895.d3d6c8","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":2521.9046669006348,"y":1688.0950813293457,"z":"5b5df7c6.0d2bc8","wires":[["3e6c3692.e990ba"]]},{"id":"bdd1412b.8eb46","type":"set","name":"set index-string to '0' + idx","xml":"<set>\n<parameter name='tmp.gun.index-string' value=\"`'' + '0' + $tmp.gun.idx`\" />\n","comments":"","x":2714.5714950561523,"y":1639.4284000396729,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"3e6c3692.e990ba","type":"set","name":"set index-string to idx","xml":"<set>\n<parameter name='tmp.gun.index-string' value='`$tmp.gun.idx`' />\n","comments":"","x":2698.5714797973633,"y":1687.761703491211,"z":"5b5df7c6.0d2bc8","wires":[]},{"id":"ac3f65b3.2634e8","type":"set","name":"set noindex-flag=false","xml":"<set>\n<parameter name='tmp.gun.noindex-flag' value='false' />\n","comments":"","x":861.4285888671875,"y":911.4285888671875,"z":"5b5df7c6.0d2bc8","wires":[]}]