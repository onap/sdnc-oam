


[{"id":"b6cde583.fc1578","type":"dgstart","name":"DGSTART","outputs":1,"x":148.57142639160156,"y":67.14286041259766,"z":"7f454f1f.392aa","wires":[["22ea9e53.72aad2"]]},{"id":"22ea9e53.72aad2","type":"service-logic","name":"VNF-API 1.0.0","module":"VNF-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.att.com/sdnctl/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.att.com/sdnctl/svclogic ./svclogic.xsd' module='VNF-API' version='${project.version}'>","outputs":1,"x":315.8491897583008,"y":66.8095293045044,"z":"7f454f1f.392aa","wires":[["9e0df0a0.1f3a9"]]},{"id":"9e0df0a0.1f3a9","type":"method","name":"vnf-instance-topology-operation","xml":"<method rpc='vnf-instance-topology-operation' mode='sync'>\n","comments":"","outputs":1,"x":243.07142639160156,"y":121.36507797241211,"z":"7f454f1f.392aa","wires":[["97f7f3c4.5c2c7"]]},{"id":"7da5f802.f7a678","type":"switchNode","name":"switch: svc-action","xml":"<switch test=\"`$vnf-instance-topology-operation-input.sdnc-request-header.svc-action`\">\n","comments":"","outputs":1,"x":461.6269760131836,"y":587.2261047363281,"z":"7f454f1f.392aa","wires":[["56abcb20.439cd4","7b21b7bd.d66ed8","6552ee31.315f","4cc3c0e7.f2f6c","5f3d0452.12c89c","c827944d.effcf8"]]},{"id":"56abcb20.439cd4","type":"other","name":"Other","xml":"<outcome value='Other'>","comments":"","outputs":1,"x":679.4325790405273,"y":803.9761066436768,"z":"7f454f1f.392aa","wires":[["a888bd06.a19e8"]]},{"id":"7b21b7bd.d66ed8","type":"other","name":"assign","xml":"<outcome value='assign'>","comments":"","outputs":1,"x":679.1825332641602,"y":587.226110458374,"z":"7f454f1f.392aa","wires":[["c8e7f422.0f4a78"]]},{"id":"a888bd06.a19e8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='svc-action not recognized'/>\n","comments":"","x":893.4325790405273,"y":803.9761066436768,"z":"7f454f1f.392aa","wires":[]},{"id":"6552ee31.315f","type":"other","name":"activate","xml":"<outcome value='activate'>","comments":"","outputs":1,"x":682.1825485229492,"y":676.4760990142822,"z":"7f454f1f.392aa","wires":[["6c5e9dfe.049d54"]]},{"id":"4cc3c0e7.f2f6c","type":"other","name":"rollback","xml":"<outcome value='rollback'>","comments":"","outputs":1,"x":681.9325485229492,"y":718.7260999679565,"z":"7f454f1f.392aa","wires":[["db8da778.5bf248"]]},{"id":"c827944d.effcf8","type":"other","name":"changeassign","xml":"<outcome value='changeassign'>","comments":"","outputs":1,"x":700.6825485229492,"y":632.7261009216309,"z":"7f454f1f.392aa","wires":[["4b6cc24b.5be82c"]]},{"id":"5f3d0452.12c89c","type":"other","name":"delete","xml":"<outcome value='delete'>","comments":"","outputs":1,"x":679.6825790405273,"y":760.2261075973511,"z":"7f454f1f.392aa","wires":[["43dc3d5d.2b8ed4"]]},{"id":"c8e7f422.0f4a78","type":"call","name":"call: vnf-instance-topology-assign","xml":"<call module='VNF-API' rpc='vnf-instance-topology-assign' mode='sync' >","comments":"","outputs":1,"x":953.4325332641602,"y":587.2261085510254,"z":"7f454f1f.392aa","wires":[[]]},{"id":"4b6cc24b.5be82c","type":"call","name":"call: vnf-instance-topology-changeassign","xml":"<call module='VNF-API' rpc='vnf-instance-topology-changeassign' mode='sync' >","comments":"","outputs":1,"x":976.6826553344727,"y":632.2261085510254,"z":"7f454f1f.392aa","wires":[[]]},{"id":"db8da778.5bf248","type":"call","name":"call: vnf-instance-topology-rollback","xml":"<call module='VNF-API' rpc='vnf-instance-topology-rollback' mode='sync' >","comments":"","outputs":1,"x":958.4326553344727,"y":718.726110458374,"z":"7f454f1f.392aa","wires":[[]]},{"id":"43dc3d5d.2b8ed4","type":"call","name":"call: vnf-instance-topology-delete","xml":"<call module='VNF-API' rpc='vnf-instance-topology-delete' mode='sync' >","comments":"","outputs":1,"x":954.4326477050781,"y":760.2261085510254,"z":"7f454f1f.392aa","wires":[[]]},{"id":"6c5e9dfe.049d54","type":"call","name":"call: vnf-instance-topology-activate","xml":"<call module='VNF-API' rpc='vnf-instance-topology-activate' mode='sync' >","comments":"","outputs":1,"x":957.9326477050781,"y":676.726104259491,"z":"7f454f1f.392aa","wires":[[]]},{"id":"e853df7f.d8cf2","type":"record","name":"record","xml":"<record plugin=\"com.att.sdnctl.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/svclogic.log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"vnf-instance-topology-operation\"/>\n<parameter name=\"field3\" value=\"`$vnf-instance-topology-operation-input.sdnc-request-header.svc-action`\"/>\n<parameter name=\"field4\" value=\"`$vnf-instance-topology-operation-input.sdnc-request-header.svc-request-id`\"/>\n<parameter name=\"field5\" value=\"`$vnf-instance-topology-operation-input.request-information.source`\"/>\n<parameter name=\"field6\" value=\"`$vnf-instance-topology-operation-input.request-information.request-id`\"/>\n<parameter name=\"field7\" value=\"`$vnf-instance-topology-operation-input.request-information.request-action`\"/>\n<parameter name=\"field8\" value=\"`$vnf-instance-topology-operation-input.service-information.service-id`\"/>\n<parameter name=\"field9\" value=\"`$vnf-instance-topology-operation-input.service-information.service-type`\"/>\n<parameter name=\"field10\" value=\"`$vnf-instance-topology-operation-input.service-information.subscriber-name`\"/>\n<parameter name=\"field11\" value=\"`$vnf-instance-topology-operation-input.service-information.service-instance-id`\"/>\n<parameter name=\"field12\" value=\"`$vnf-instance-topology-operation-input.vnf-instance-request-information.request-version`\"/>\n<parameter name=\"field13\" value=\"`$vnf-instance-topology-operation-input.vnf-instance-request-information.vnf-instance-id`\"/>\n<parameter name=\"field14\" value=\"`$vnf-instance-topology-operation-input.vnf-instance-request-information.vnf-model-id`\"/>\n<parameter name=\"field15\" value=\"`$vnf-instance-topology-operation-input.vnf-instance-request-information.vnf-instance-name`\"/>\n<parameter name=\"field16\" value=\"`$vnf-instance-topology-operation-input.vnf-instance-request-information.aic-cloud-region`\"/>\n<parameter name=\"field17\" value=\"`$vnf-instance-topology-operation-input.vnf-instance-request-information.tenant`\"/>","comments":"","outputs":1,"x":435.1269989013672,"y":171.03175735473633,"z":"7f454f1f.392aa","wires":[[]]},{"id":"1ce1cb42.ddf305","type":"comment","name":"vnf-instance-topology-operation","info":"","comments":"","x":675.4603042602539,"y":112.58730411529541,"z":"7f454f1f.392aa","wires":[]},{"id":"97f7f3c4.5c2c7","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":251.57142639160156,"y":171.14287185668945,"z":"7f454f1f.392aa","wires":[["e853df7f.d8cf2","1629c736.329f19","d7f25385.ebe65","7da5f802.f7a678","7d084342.0bce0c","d50b494f.832b58"]]},{"id":"1629c736.329f19","type":"switchNode","name":"switch: INPUT vnf-instance-name","xml":"<switch test=\"`$vnf-instance-topology-operation-input.vnf-instance-request-information.vnf-instance-name`\">","comments":"","outputs":1,"x":516.7936553955078,"y":217.5872926712036,"z":"7f454f1f.392aa","wires":[["ecffbed3.c6e14","b49395b.4d79268"]]},{"id":"ecffbed3.c6e14","type":"outcome","name":"Other","xml":"<outcome value='Other'>","comments":"","outputs":1,"x":750.7936553955078,"y":217.5872926712036,"z":"7f454f1f.392aa","wires":[["a273a316.cf939"]]},{"id":"b49395b.4d79268","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":750.7936553955078,"y":259.5872926712036,"z":"7f454f1f.392aa","wires":[["32a0f03.ebb881"]]},{"id":"a273a316.cf939","type":"switchNode","name":"switch: PRELOAD vnf-instance-name","xml":"<switch test=\"`$vnf-instance-preload-data.vnf-instance-topology-information.vnf-instance-identifiers.vnf-instance-name`\">","comments":"","outputs":1,"x":988.7936553955078,"y":217.5872926712036,"z":"7f454f1f.392aa","wires":[["cbb1a490.a33cd8","c77c21c9.5614a"]]},{"id":"cbb1a490.a33cd8","type":"outcome","name":"Other","xml":"<outcome value='Other'>","comments":"","outputs":1,"x":1221.7936553955078,"y":217.5872926712036,"z":"7f454f1f.392aa","wires":[["c2db9f95.3f365"]]},{"id":"c77c21c9.5614a","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":1219.7936553955078,"y":258.5872926712036,"z":"7f454f1f.392aa","wires":[["6aa2959b.18ff5c"]]},{"id":"c2db9f95.3f365","type":"switchNode","name":"switch: vnf-instance-name INPUT == PRELOAD","xml":"<switch test=\"`$vnf-instance-topology-operation-input.vnf-instance-request-information.vnf-instance-name == $vnf-instance-preload-data.vnf-instance-topology-information.vnf-instance-identifiers.vnf-instance-name`\">","comments":"","outputs":1,"x":1495.7936401367188,"y":217.58729076385498,"z":"7f454f1f.392aa","wires":[["8c2ca8dd.1e4558"]]},{"id":"8c2ca8dd.1e4558","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1771.1270065307617,"y":217.25419330596924,"z":"7f454f1f.392aa","wires":[["e4dc9156.5d663"]]},{"id":"e4dc9156.5d663","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='404'/>\n\t<parameter name='error-message' value='vnf-instance-name from input not found in vnf-instance-preload-data'/>","comments":"","x":1929.7936325073242,"y":217.5872926712036,"z":"7f454f1f.392aa","wires":[]},{"id":"6aa2959b.18ff5c","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='No preload data found to match vnf-instance-name from input'/>","comments":"","x":1386.7936553955078,"y":258.5872926712036,"z":"7f454f1f.392aa","wires":[]},{"id":"32a0f03.ebb881","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='vnf-instance-name is required'/>","comments":"","x":912.2936553955078,"y":259.8372926712036,"z":"7f454f1f.392aa","wires":[]},{"id":"d7f25385.ebe65","type":"switchNode","name":"switch: INPUT vnf-model-id","xml":"<switch test=\"`$vnf-instance-topology-operation-input.vnf-instance-request-information.vnf-model-id`\">","comments":"","outputs":1,"x":496.79368591308594,"y":305.5872926712036,"z":"7f454f1f.392aa","wires":[["c7fe49d7.91ad98","fbe8d80c.171448"]]},{"id":"c7fe49d7.91ad98","type":"outcome","name":"Other","xml":"<outcome value='Other'>","comments":"","outputs":1,"x":713.7936782836914,"y":306.5872926712036,"z":"7f454f1f.392aa","wires":[["90e0b948.74bb68"]]},{"id":"fbe8d80c.171448","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":714.7936782836914,"y":349.5872926712036,"z":"7f454f1f.392aa","wires":[["e694a04b.dee48"]]},{"id":"90e0b948.74bb68","type":"switchNode","name":"switch: PRELOAD vnf-model-id","xml":"<switch test=\"`$vnf-instance-preload-data.vnf-instance-topology-information.vnf-instance-identifiers.vnf-model-id`\">","comments":"","outputs":1,"x":924.7936782836914,"y":306.5872926712036,"z":"7f454f1f.392aa","wires":[["ff6610b6.ecd1e","160f2740.7d7439"]]},{"id":"ff6610b6.ecd1e","type":"outcome","name":"Other","xml":"<outcome value='Other'>","comments":"","outputs":1,"x":1135.7936782836914,"y":306.5872926712036,"z":"7f454f1f.392aa","wires":[["d7a29f1b.08cf3"]]},{"id":"160f2740.7d7439","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":1136.7936782836914,"y":348.5872926712036,"z":"7f454f1f.392aa","wires":[["a6c80c7f.af94e"]]},{"id":"e694a04b.dee48","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='vnf-model-id is required'/>","comments":"","x":868.2936782836914,"y":349.8372926712036,"z":"7f454f1f.392aa","wires":[]},{"id":"d7a29f1b.08cf3","type":"switchNode","name":"switch: vnf-model-id INPUT == PRELOAD","xml":"<switch test=\"`$vnf-instance-topology-operation-input.vnf-instance-request-information.vnf-model-id == $vnf-instance-preload-data.vnf-instance-topology-information.vnf-instance-identifiers.vnf-model-id`\">","comments":"","outputs":1,"x":1383.7936553955078,"y":306.5872926712036,"z":"7f454f1f.392aa","wires":[["6ed859c6.7bded8"]]},{"id":"a6c80c7f.af94e","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='No preload data found to match vnf-model-id from input'/>","comments":"","x":1295.7936553955078,"y":348.5872926712036,"z":"7f454f1f.392aa","wires":[]},{"id":"6ed859c6.7bded8","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1632.7936553955078,"y":305.9207887649536,"z":"7f454f1f.392aa","wires":[["89f8a67e.750a48"]]},{"id":"89f8a67e.750a48","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='404'/>\n\t<parameter name='error-message' value='request.vnf-model-id not found in vnf-instance-preload-data'/>","comments":"","x":1791.4602813720703,"y":305.253888130188,"z":"7f454f1f.392aa","wires":[]},{"id":"7d084342.0bce0c","type":"switchNode","name":"switch: INPUT vnf-instance-id","xml":"<switch test=\"`$vnf-instance-topology-operation-input.vnf-instance-request-information.vnf-instance-id`\">","comments":"","outputs":1,"x":502.47232818603516,"y":400.0516195297241,"z":"7f454f1f.392aa","wires":[["f23dfd7e.975a9","2a84c473.0020ec"]]},{"id":"2a84c473.0020ec","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":721.472297668457,"y":441.1944570541382,"z":"7f454f1f.392aa","wires":[["1240516c.17edef"]]},{"id":"f23dfd7e.975a9","type":"outcome","name":"0","xml":"<outcome value='0'>","comments":"","outputs":1,"x":720.6152267456055,"y":399.62305545806885,"z":"7f454f1f.392aa","wires":[["1240516c.17edef"]]},{"id":"1240516c.17edef","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='vf-instance-id cannot be NULL or 0'/>","comments":"","x":896.3295059204102,"y":441.4801778793335,"z":"7f454f1f.392aa","wires":[]},{"id":"d50b494f.832b58","type":"switchNode","name":"switch: INPUT aic-cloud-region","xml":"<switch test=\"`$vnf-instance-topology-operation-input.vnf-instance-request-information.aic-cloud-region`\">","comments":"","outputs":1,"x":504.3214416503906,"y":522.6428508758545,"z":"7f454f1f.392aa","wires":[["e2f45743.5634e8"]]},{"id":"e2f45743.5634e8","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":722.3214111328125,"y":522.7856884002686,"z":"7f454f1f.392aa","wires":[["d672f28c.c59ab"]]},{"id":"d672f28c.c59ab","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='aic-cloud-region cannot be NULL'/>","comments":"","x":876.1786193847656,"y":523.0714092254639,"z":"7f454f1f.392aa","wires":[]}]
