


[{"id":"4adc401f.6fd4e","type":"comment","name":"vnf-topology-rollback","info":"","comments":"","x":768.75,"y":68.75,"z":"c46e36ad.370538","wires":[]},{"id":"a35df8d1.5089b8","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":176.66674041748047,"y":180.05554580688477,"z":"c46e36ad.370538","wires":[["4b413bbb.dead44"]]},{"id":"4b859f58.89806","type":"method","name":"method vnf-topology-rollback","xml":"<method rpc='vnf-topology-rollback' mode='sync'>\n","comments":"","outputs":1,"x":205.08342742919922,"y":127.47221851348877,"z":"c46e36ad.370538","wires":[["a35df8d1.5089b8"]]},{"id":"f018b62.ed5ec48","type":"service-logic","name":"VNF-API 2.0.0","module":"VNF-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.att.com/sdnctl/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.att.com/sdnctl/svclogic ./svclogic.xsd' module='VNF-API' version='${project.version}'>","outputs":1,"x":297.0833969116211,"y":80.4722261428833,"z":"c46e36ad.370538","wires":[["4b859f58.89806"]]},{"id":"7687c33c.8308fc","type":"dgstart","name":"DGSTART","outputs":1,"x":150.91674041748047,"y":79.3055534362793,"z":"c46e36ad.370538","wires":[["f018b62.ed5ec48"]]},{"id":"9e388b53.8eec58","type":"returnSuccess","name":"return success","xml":"<return status='success'>\n\t<parameter name=\"error-code\" value=\"200\" />","comments":"","x":914.9167633056641,"y":490.5806646347046,"z":"c46e36ad.370538","wires":[]},{"id":"498b1cdc.f5b874","type":"set","name":"set: order-status = Deleted","xml":"<set>\n\t<parameter name=\"service-data.oper-status.order-status\" value=\"Deleted\"/>","comments":"","outputs":1,"x":950.6667633056641,"y":361.5806636810303,"z":"c46e36ad.370538","wires":[[]]},{"id":"966704da.f1e5e8","type":"switchNode","name":"switch: order-status = PendingCreate","xml":"<switch test=\"`$service-data.oper-status.order-status == PendingCreate`\">","comments":"","outputs":1,"x":983.5077056884766,"y":275.70944595336914,"z":"c46e36ad.370538","wires":[["f9e7dbf4.3cee38"]]},{"id":"f9e7dbf4.3cee38","type":"other","name":"false","xml":"<outcome value='false'>","comments":"","outputs":1,"x":1215.0910873413086,"y":275.5427579879761,"z":"c46e36ad.370538","wires":[["da524aac.dca358"]]},{"id":"da524aac.dca358","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='Invalid order-status'/>","comments":"","x":1367.424217224121,"y":275.5428190231323,"z":"c46e36ad.370538","wires":[]},{"id":"1b62d02c.b7bba","type":"set","name":"set: last-action ","xml":"<set>\n\t<parameter name=\"service-data.oper-status.last-action\" value=\"`$service-data.request-information.request-action`\"/>","comments":"","outputs":1,"x":912.4244575500488,"y":403.876256942749,"z":"c46e36ad.370538","wires":[[]]},{"id":"db17d4a.2603328","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1203.765281677246,"y":228.50000286102295,"z":"c46e36ad.370538","wires":[["27eb4ee.58ec4b2"]]},{"id":"27eb4ee.58ec4b2","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value=\"`'vnf-id = ' + $vnf-topology-operation-input.vnf-request-information.vnf-id + ' not found in config tree'`\"/>","comments":"","x":1366.856101989746,"y":228.90910625457764,"z":"c46e36ad.370538","wires":[]},{"id":"523d2145.891db","type":"set","name":"set: last-order-status = order-status","xml":"<set>\n\t<parameter name=\"service-data.oper-status.last-order-status\" value=\"`$service-data.oper-status.order-status`\"/>","comments":"","outputs":1,"x":977.3108062744141,"y":318.56821060180664,"z":"c46e36ad.370538","wires":[[]]},{"id":"c8d475e9.cca918","type":"set","name":"Clear vnf topology","xml":"<set>\n\t<parameter name=\"service-data.\" value=\"\" /> \n","comments":"","outputs":1,"x":925.8108062744141,"y":447.5682125091553,"z":"c46e36ad.370538","wires":[[]]},{"id":"1b28eda7.d7bd22","type":"switchNode","name":"switch:CONFIG == INPUT - vnf-id","xml":"<switch test=\"`$vnf-topology-operation-input.vnf-request-information.vnf-id == $service-data.vnf-id`\">","comments":"","outputs":1,"x":972.9167633056641,"y":228.50000286102295,"z":"c46e36ad.370538","wires":[["db17d4a.2603328"]]},{"id":"4b413bbb.dead44","type":"switchNode","name":"switch: order-status = PendingCreate","xml":"<switch test=\"`$service-data.oper-status.order-status == PendingCreate`\">\n\n<!--\nleaf order-status {\n\ttype enumeration {\n\t\tenum \"Active\";\n\t\tenum \"PendingAssignment\";\n\t\tenum \"PendingCreate\";\n\t\tenum \"PendingUpdate\";\n\t\tenum \"Deleted\";\n\t}\n}\n-->","comments":"","outputs":1,"x":284.166748046875,"y":227.00000667572021,"z":"c46e36ad.370538","wires":[["487e1089.4a94b"]]},{"id":"487e1089.4a94b","type":"other","name":"true","xml":"<outcome value='true'>","comments":"","outputs":1,"x":520.4167404174805,"y":227.75,"z":"c46e36ad.370538","wires":[["1f7d22e0.cbfffd"]]},{"id":"1f7d22e0.cbfffd","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":682.4167404174805,"y":227.75,"z":"c46e36ad.370538","wires":[["1b28eda7.d7bd22","966704da.f1e5e8","523d2145.891db","498b1cdc.f5b874","1b62d02c.b7bba","c8d475e9.cca918","9e388b53.8eec58"]]},{"id":"9dca4993.365578","type":"comment","name":"request-action = VNFActivateRequest, svc-action = rollback","info":"","comments":"","x":780.166748046875,"y":104.75000190734863,"z":"c46e36ad.370538","wires":[]}]
