<service-logic xmlns="http://www.onap.org/sdnc/svclogic" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.onap.org/sdnc/svclogic ./svclogic.xsd" module="DataChange" version="${project.version}">
  <method rpc="data-change-notification" mode="sync"> 
    <block atomic="true"> 
      <switch test="`$data-change-notification-input.aai-node-type`"> 
        <outcome value="esr-thirdparty-sdnc"> 
          <block atomic="true">
            <for index="idx" start="0" end="`$data-change-notification-input.key-data_length`"> 
              <switch test="`$data-change-notification-input.key-data[$idx].key-name == 'vendor'`"> 
                <outcome value="true"> 
                  <set> 
                    <parameter name="prop.sdncRestApi.vendor" value="`$data-change-notification-input.key-data[$idx].key-value`"/> 
                  </set>
                </outcome>
              </switch>
            </for>
            <switch test="`$prop.sdncRestApi.vendor == 'ZTE'`"> 
              <outcome value="true"> 
                <block>
                  <set> 
                    <parameter name="zte.prop.sdncRestApi.vendor" value="ZTE"/> 
                  </set>
                  <call module="DataChange" rpc="esr-thirdparty-sdnc-of-zte" mode="sync"></call>
                </block>
              </outcome>
              <outcome value="false"> 
                <call module="DataChange" rpc="esr-thirdparty-sdnc" mode="sync"></call>
              </outcome>
            </switch>
          </block>
        </outcome>
        <outcome value="Other"> 
          <return status="failure"> 
            <parameter name="ack-final" value="Y"/>  
            <parameter name="error-code" value="500"/>  
            <parameter name="error-message" value="AAI node type not supported"/>
          </return>
        </outcome>
      </switch>
      <return status="success"> 
        <parameter name="ack-final-indicator" value="Y"/>  
        <parameter name="error-code" value="200"/>  
        <parameter name="error-message" value="`$error-message`"/> 
      </return>
    </block>
  </method>
</service-logic>