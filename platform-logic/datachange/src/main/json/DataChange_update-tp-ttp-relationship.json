[
    {
        "id": "db76d876.619d4",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 107,
        "y": 76,
        "z": "ffd702ea.3cd72",
        "wires": [
            [
                "ac7d0d8e.d68168"
            ]
        ]
    },
    {
        "id": "ac7d0d8e.d68168",
        "type": "service-logic",
        "name": "DataChange ${project.version}",
        "module": "DataChange",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='DataChange' version='${project.version}'>",
        "outputs": 1,
        "x": 196.00003051757812,
        "y": 166.88891220092773,
        "z": "ffd702ea.3cd72",
        "wires": [
            [
                "15add1ed.67bb06"
            ]
        ]
    },
    {
        "id": "15add1ed.67bb06",
        "type": "method",
        "name": "method update-tp-ttp-relationship",
        "xml": "<method rpc='update-tp-ttp-relationship' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 232.1112518310547,
        "y": 237.22223663330078,
        "z": "ffd702ea.3cd72",
        "wires": [
            [
                "2ef3d64c.d8633a"
            ]
        ]
    },
    {
        "id": "2ef3d64c.d8633a",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 457.33343505859375,
        "y": 236.77792358398438,
        "z": "ffd702ea.3cd72",
        "wires": [
            [
                "929780.1985e88",
                "25858afe.2b9bce",
                "e912429a.04b788"
            ]
        ]
    },
    {
        "id": "25858afe.2b9bce",
        "type": "for",
        "name": "for each node in network-eth",
        "xml": "<for index='pethidx' start='0' end='`$network-eth.node_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 689.8888549804688,
        "y": 191.33331298828125,
        "z": "ffd702ea.3cd72",
        "wires": [
            [
                "9ceedf0.da974a",
                "2a93e407.ae18bc",
                "e6e033d7.96653"
            ]
        ]
    },
    {
        "id": "9ceedf0.da974a",
        "type": "set",
        "name": "set node-eth",
        "xml": "<set>\n<parameter name='node-eth.' value='`$network-eth.node[$pethidx].`' />",
        "comments": "",
        "x": 973.111083984375,
        "y": 98.22221374511719,
        "z": "ffd702ea.3cd72",
        "wires": []
    },
    {
        "id": "79b02bc6.8ef74c",
        "type": "set",
        "name": "set termination point tp-eth",
        "xml": "<set>\n<parameter name='tp-eth.' value='`$node-eth.termination-point[$tidx].`' />\n",
        "comments": "",
        "x": 1194.111328125,
        "y": 225.00006103515625,
        "z": "ffd702ea.3cd72",
        "wires": []
    },
    {
        "id": "53e75306.b60214",
        "type": "set",
        "name": "set unique-ltpethId",
        "xml": "<set>\n<parameter name='unique-ltpethId' value=\"`$unique-node-ethId + '-ltpId-' + $tp-eth.te-tp-id`\" />\n",
        "comments": "",
        "x": 1172.000244140625,
        "y": 262.111083984375,
        "z": "ffd702ea.3cd72",
        "wires": []
    },
    {
        "id": "929780.1985e88",
        "type": "execute",
        "name": "execute set tmp.network-eth.network-id",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$network-eth.network-id`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.network-eth.network-id\"/>\n    <parameter name=\"target\" value=\"/\"/>\n    <parameter name=\"replacement\" value=\"-\"/>\n    ",
        "comments": "",
        "outputs": 1,
        "x": 647.9935302734375,
        "y": 55.993499755859375,
        "z": "ffd702ea.3cd72",
        "wires": [
            []
        ]
    },
    {
        "id": "2a93e407.ae18bc",
        "type": "set",
        "name": "set local variables",
        "xml": "<set>\n<parameter name='unique-network-ethId' value='`$tmp.network-eth.network-id`' />\n<parameter name='unique-node-ethId' value=\"`'networkId-' + $unique-network-ethId + '-nodeId-' + $node-eth.node-id`\" />\n",
        "comments": "",
        "x": 972,
        "y": 146,
        "z": "ffd702ea.3cd72",
        "wires": []
    },
    {
        "id": "e912429a.04b788",
        "type": "execute",
        "name": "execute set tmp.network-otn.network-id",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$network-otn.network-id`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.network-otn.network-id\"/>\n    <parameter name=\"target\" value=\"/\"/>\n    <parameter name=\"replacement\" value=\"-\"/>\n    ",
        "comments": "",
        "outputs": 1,
        "x": 645,
        "y": 95,
        "z": "ffd702ea.3cd72",
        "wires": [
            []
        ]
    },
    {
        "id": "8be3e429.ccb7d",
        "type": "for",
        "name": "for each tunnel termination point in otn",
        "xml": "<for index='ttidx' start='0' end='`$node-otn.te.tunnel-termination-point_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1549,
        "y": 622,
        "z": "ffd702ea.3cd72",
        "wires": [
            [
                "f3d35e68.c9d718",
                "3ad809f1.06ba16",
                "4db37c69.2430a4",
                "ec80108a.70e1d",
                "6c3aac2e.471db4"
            ]
        ]
    },
    {
        "id": "f3d35e68.c9d718",
        "type": "set",
        "name": "set tunnel termination point",
        "xml": "<set>\n<parameter name='ttp.' value='`$node-otn.te.tunnel-termination-point[$ttidx].`' />\n",
        "comments": "",
        "x": 1918,
        "y": 334,
        "z": "ffd702ea.3cd72",
        "wires": []
    },
    {
        "id": "3ad809f1.06ba16",
        "type": "set",
        "name": "set unique-ttpId",
        "xml": "<set>\n<parameter name='unique-ttpId' value=\"`$unique-node-otnId + '-ttpId-' + $ttp.tunnel-tp-id`\" />\n",
        "comments": "",
        "x": 1885.888916015625,
        "y": 398.111083984375,
        "z": "ffd702ea.3cd72",
        "wires": []
    },
    {
        "id": "7c6c9bf4.1268f4",
        "type": "set",
        "name": "set tp-inter-layer-lock-id",
        "xml": "<set>\n<parameter name='tp-inter-layer-lock-id' value='`$node-eth.termination-point[$tidx].te.inter-layer-lock-id[0]`' />\n",
        "comments": "",
        "x": 1212,
        "y": 302,
        "z": "ffd702ea.3cd72",
        "wires": []
    },
    {
        "id": "38915841.38d1e",
        "type": "for",
        "name": "for each node in network-otn",
        "xml": "<for index='potnidx' start='0' end='`$network-otn.node_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1230,
        "y": 351,
        "z": "ffd702ea.3cd72",
        "wires": [
            [
                "b1b6d531.8e8428",
                "591e31d0.de7628",
                "e2cb35d4.99da",
                "32e4e342.a9f04c"
            ]
        ]
    },
    {
        "id": "b1b6d531.8e8428",
        "type": "set",
        "name": "set node-otn",
        "xml": "<set>\n<parameter name='node-otn.' value='`$network-otn.node[$potnidx].`' />",
        "comments": "",
        "x": 1524,
        "y": 321,
        "z": "ffd702ea.3cd72",
        "wires": []
    },
    {
        "id": "591e31d0.de7628",
        "type": "set",
        "name": "set local variables",
        "xml": "<set>\n<parameter name='unique-network-otnId' value='`$tmp.network-otn.network-id`' />\n<parameter name='unique-node-otnId' value=\"`'networkId-' + $unique-network-otnId + '-nodeId-' + $node-otn.node-id`\" />\n",
        "comments": "",
        "x": 1522.888916015625,
        "y": 368.7777862548828,
        "z": "ffd702ea.3cd72",
        "wires": []
    },
    {
        "id": "4db37c69.2430a4",
        "type": "set",
        "name": "set ttp-inter-layer-lock-id",
        "xml": "<set>\n<parameter name='ttp-inter-layer-lock-id' value='`$node-otn.te.tunnel-termination-point[$ttidx].inter-layer-lock-id`' />\n",
        "comments": "",
        "x": 1910,
        "y": 452,
        "z": "ffd702ea.3cd72",
        "wires": []
    },
    {
        "id": "ec80108a.70e1d",
        "type": "switchNode",
        "name": "switch tp-inter-layer-lock-id",
        "xml": "<switch test='`$tp-inter-layer-lock-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1917,
        "y": 508,
        "z": "ffd702ea.3cd72",
        "wires": [
            [
                "cf4f4a72.7d5168"
            ]
        ]
    },
    {
        "id": "cf4f4a72.7d5168",
        "type": "outcome",
        "name": "ttp-inter-layer-lock-id",
        "xml": "<outcome value='`$ttp-inter-layer-lock-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1975,
        "y": 604,
        "z": "ffd702ea.3cd72",
        "wires": [
            [
                "3d7797fd.32b9a8"
            ]
        ]
    },
    {
        "id": "3d7797fd.32b9a8",
        "type": "save",
        "name": "save p-interface relationship to ttp in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='p-interface:relationship-list' \n      key='p-interface.interface-name = $unique-ltpethId' force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"tunnel-termination-point\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"/network/tunnel-termination-points/tunnel-termination-point/ + `$unique-ttpId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"tunnel-termination-point.tunnel-tp-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$unique-ttpId`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2293,
        "y": 604,
        "z": "ffd702ea.3cd72",
        "wires": [
            []
        ]
    },
    {
        "id": "b8fd2648.6f854",
        "type": "set",
        "name": "unset termination point tp-eth",
        "xml": "<set>\n<parameter name='tp-eth.' value='' />\n",
        "comments": "",
        "x": 1189,
        "y": 187.99349975585938,
        "z": "ffd702ea.3cd72",
        "wires": []
    },
    {
        "id": "6c3aac2e.471db4",
        "type": "set",
        "name": "unset tunnel termination point",
        "xml": "<set>\n<parameter name='ttp.' value='' />\n",
        "comments": "",
        "x": 1926,
        "y": 280.9934997558594,
        "z": "ffd702ea.3cd72",
        "wires": []
    },
    {
        "id": "e6e033d7.96653",
        "type": "switchNode",
        "name": "switch node-eth tp",
        "xml": "<switch test='`$node-eth.termination-point_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 556,
        "y": 370,
        "z": "ffd702ea.3cd72",
        "wires": [
            [
                "80e4765d.fcdaa8",
                "a8cca188.f375d",
                "b96aa4a5.384fe8"
            ]
        ]
    },
    {
        "id": "80e4765d.fcdaa8",
        "type": "other",
        "name": "Null",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 735,
        "y": 322,
        "z": "ffd702ea.3cd72",
        "wires": [
            [
                "adea3129.2af79"
            ]
        ]
    },
    {
        "id": "adea3129.2af79",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 890,
        "y": 322,
        "z": "ffd702ea.3cd72",
        "wires": [
            []
        ]
    },
    {
        "id": "b96aa4a5.384fe8",
        "type": "outcome",
        "name": "length 0",
        "xml": "<outcome value='0'>\n",
        "comments": "",
        "outputs": 1,
        "x": 745,
        "y": 370,
        "z": "ffd702ea.3cd72",
        "wires": [
            [
                "adea3129.2af79"
            ]
        ]
    },
    {
        "id": "a8cca188.f375d",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 734,
        "y": 424,
        "z": "ffd702ea.3cd72",
        "wires": [
            [
                "2c29c804.a15ee"
            ]
        ]
    },
    {
        "id": "2c29c804.a15ee",
        "type": "for",
        "name": "for each termination point",
        "xml": "<for index='tidx' start='0' end='`$node-eth.termination-point_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 942.4444580078125,
        "y": 394.111083984375,
        "z": "ffd702ea.3cd72",
        "wires": [
            [
                "b8fd2648.6f854",
                "79b02bc6.8ef74c",
                "53e75306.b60214",
                "7c6c9bf4.1268f4",
                "38915841.38d1e"
            ]
        ]
    },
    {
        "id": "e2cb35d4.99da",
        "type": "set",
        "name": "unset node-otn",
        "xml": "<set>\n<parameter name='node-otn.' value='' />\n<parameter name='unique-network-otnId' value='' />\n<parameter name='unique-node-otnId' value=\"\" />\n",
        "comments": "",
        "x": 1525,
        "y": 270,
        "z": "ffd702ea.3cd72",
        "wires": []
    },
    {
        "id": "32e4e342.a9f04c",
        "type": "switchNode",
        "name": "switch node-otn ttp",
        "xml": "<switch test='`$node-otn.te.tunnel-termination-point_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1122,
        "y": 601,
        "z": "ffd702ea.3cd72",
        "wires": [
            [
                "571c7e22.88577",
                "c4c843ca.dc868",
                "dcc7ee12.1af12"
            ]
        ]
    },
    {
        "id": "571c7e22.88577",
        "type": "other",
        "name": "Null",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 1310,
        "y": 487,
        "z": "ffd702ea.3cd72",
        "wires": [
            [
                "3d4d0383.b594e4"
            ]
        ]
    },
    {
        "id": "c4c843ca.dc868",
        "type": "outcome",
        "name": "length 0",
        "xml": "<outcome value='0'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1315,
        "y": 562,
        "z": "ffd702ea.3cd72",
        "wires": [
            [
                "3d4d0383.b594e4"
            ]
        ]
    },
    {
        "id": "dcc7ee12.1af12",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1312,
        "y": 624,
        "z": "ffd702ea.3cd72",
        "wires": [
            [
                "8be3e429.ccb7d"
            ]
        ]
    },
    {
        "id": "3d4d0383.b594e4",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1470,
        "y": 553,
        "z": "ffd702ea.3cd72",
        "wires": [
            []
        ]
    }
]