[
    {
        "id": "eb6ce69b.3f957",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 248,
        "y": 67,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "dc110d5e.a3e278"
            ]
        ]
    },
    {
        "id": "dc110d5e.a3e278",
        "type": "service-logic",
        "name": "DataChange ${project.version}",
        "module": "DataChange",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='DataChange' version='${project.version}'>",
        "outputs": 1,
        "x": 305,
        "y": 146.888916015625,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "5f52c1a1.066a8"
            ]
        ]
    },
    {
        "id": "5f52c1a1.066a8",
        "type": "method",
        "name": "method update-network-links-to-aai",
        "xml": "<method rpc='update-network-links-to-aai' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 319,
        "y": 223.22222900390625,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "d4e648b5.a39fa8"
            ]
        ]
    },
    {
        "id": "d4e648b5.a39fa8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 330.33343505859375,
        "y": 300.7779235839844,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "e5c5d545.9d86e8"
            ]
        ]
    },
    {
        "id": "367c2dd.186e752",
        "type": "update",
        "name": "save logical-link with regular id",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='logical-link' \n      key='logical-link.link-name = $unique-linkId' >\n<parameter name='link-name' value='`$unique-linkId`' />\n<parameter name='link-id' value='`$link.link-id`' />\n<parameter name='link-type' value='`$link.te.te-link-attributes.access-type`' />\n\n\n\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1205.111083984375,
        "y": 725.111083984375,
        "z": "42ade40f.4fa29c",
        "wires": [
            []
        ]
    },
    {
        "id": "e5c5d545.9d86e8",
        "type": "for",
        "name": "for each link",
        "xml": "<for index='pidx' start='0' end='`$network.link_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 358.88885498046875,
        "y": 394.33331298828125,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "c535a196.07d77",
                "2b697423.656f74",
                "23c74055.452fd8",
                "357884ff.889364",
                "5d91edd1.3c2f24"
            ]
        ]
    },
    {
        "id": "c535a196.07d77",
        "type": "set",
        "name": "set network link's local variables",
        "xml": "<set>\n<parameter name='link.' value='`$network.link[$pidx].`' />\n<parameter name='unique-networkId' value='`$tmp.network-id`' />\n\n",
        "comments": "",
        "x": 691.111083984375,
        "y": 99.22221374511719,
        "z": "42ade40f.4fa29c",
        "wires": []
    },
    {
        "id": "3a0f4814.b217",
        "type": "for",
        "name": "for each label-restriction",
        "xml": "<for index='tidx' start='0' end='`$link.te.te-link-attributes.label-restriction_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1731.4444580078125,
        "y": 945.111083984375,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "2cea987d.04721",
                "76b35791.18f63",
                "2f963aac.304aa6",
                "a173e4f5.f5a478",
                "c921d18d.970b48",
                "15c10484.c4629b"
            ]
        ]
    },
    {
        "id": "2cea987d.04721",
        "type": "set",
        "name": "set label-restriction's local variables",
        "xml": "<set>\n<parameter name='unique-lrId' value=\"`$unique-linkId + '-lrId-' + $label-restriction.index`\" />\n",
        "comments": "",
        "x": 2036.111328125,
        "y": 910.0000610351562,
        "z": "42ade40f.4fa29c",
        "wires": []
    },
    {
        "id": "a53b765.67e4408",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2149.4998779296875,
        "y": 952.74609375,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "bcb47eec.4c95d8"
            ]
        ]
    },
    {
        "id": "987d5f9c.60006",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2157.178466796875,
        "y": 1011.9604187011719,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "e46f36b.2789648"
            ]
        ]
    },
    {
        "id": "bcb47eec.4c95d8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2310,
        "y": 952.0000305175781,
        "z": "42ade40f.4fa29c",
        "wires": [
            []
        ]
    },
    {
        "id": "df8ec894.2ce188",
        "type": "set",
        "name": "set src-ltpId dst-ltpId",
        "xml": "<set>\n<parameter name='src-ltpId' value=\"`'nodeId-' + $oof.vpn.access-node-id + '-ltpId-' + $oof.vpn.src-access-ltp-id`\" />\n<parameter name='dst-ltpId' value=\"`'nodeId-' + $oof.vpn.access-node-id + '-ltpId-' + $oof.vpn.dst-access-ltp-id`\" />",
        "comments": "",
        "x": 2718.5001220703125,
        "y": 2414.545135498047,
        "z": "42ade40f.4fa29c",
        "wires": []
    },
    {
        "id": "ed966c58.9421a",
        "type": "save",
        "name": "save srcLTP relationship in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding:relationship-list' \n      key='vpn-binding.vpn-id = $tmp.vpnName' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"p-interface\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/pnfs/pnf/' + $oof.vpn.access-node-id + '/p-interfaces/p-interface/' + $src-ltpId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"p-interface.interface-name\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$src-ltpId`\" />\n\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2752.0001220703125,
        "y": 2454.545135498047,
        "z": "42ade40f.4fa29c",
        "wires": [
            []
        ]
    },
    {
        "id": "c79cef0b.98c06",
        "type": "save",
        "name": "save dstLTP relationship in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding:relationship-list' \n      key='vpn-binding.vpn-id = $tmp.vpnName' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"p-interface\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/pnfs/pnf/' + $oof.vpn.access-node-id + '/p-interfaces/p-interface/' + $dst-ltpId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"p-interface.interface-name\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$dst-ltpId`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2752.0001220703125,
        "y": 2494.545135498047,
        "z": "42ade40f.4fa29c",
        "wires": [
            []
        ]
    },
    {
        "id": "e46f36b.2789648",
        "type": "update",
        "name": "save label-restriction",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='label-restriction' \n      key='logical-link.link-name = $unique-linkId\n      AND label-restriction.id = $unique-lrId' >      \n<parameter name='id' value='`$unique-lrId`' />\n<parameter name='label-start' value='`$label-restriction.label-start`' />\n<parameter name='label-end' value='`$label-restriction.label-end`' />\n<parameter name='range-bitmap' value='`$label-restriction.range-bitmap`' />\n<parameter name='label-step' value='`$label-restriction.label-step`' />\n<parameter name='inclusive-exclusive' value='`$label-restriction.inclusive-exclusive`' />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2341,
        "y": 1012.0000305175781,
        "z": "42ade40f.4fa29c",
        "wires": [
            []
        ]
    },
    {
        "id": "cce10880.3add5",
        "type": "save",
        "name": "save link relationship to label-restriction in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='logical-link:relationship-list' \n      key='logical-link.link-name = $unique-linkId' force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"label-restriction\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/label-restrictions/label-restriction/' + $unique-lrId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"label-restriction.id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$unique-lrId`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2052,
        "y": 1208,
        "z": "42ade40f.4fa29c",
        "wires": [
            []
        ]
    },
    {
        "id": "76b35791.18f63",
        "type": "update",
        "name": "save label-restriction",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='label-restriction' \n      key='label-restriction.id = $unique-lrId' >      \n<parameter name='id' value='`$unique-lrId`' />\n<parameter name='label-start' value='`$label-restriction.label-start.te-label-tpn`' />\n<parameter name='label-end' value='`$label-restriction.label-end.te-label-tpn`' />\n<parameter name='range-bitmap' value='`$label-restriction.range-bitmap`' />\n<parameter name='label-step' value='`$label-restriction.label-step`' />\n<parameter name='inclusive-exclusive' value='`$label-restriction.inclusive-exclusive`' />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1990.815185546875,
        "y": 984.5556640625,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "a53b765.67e4408",
                "987d5f9c.60006"
            ]
        ]
    },
    {
        "id": "6bd86154.f4552",
        "type": "switchNode",
        "name": "switch te-link-attributes label-restriction_length",
        "xml": "<switch test='`$link.te.te-link-attributes.label-restriction_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1250,
        "y": 945,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "6ededdc5.cf6c8c",
                "ecaf5041.3bee8",
                "5dbfa8d0.65ebe"
            ]
        ]
    },
    {
        "id": "2b697423.656f74",
        "type": "switchNode",
        "name": "switch link.destination",
        "xml": "<switch test='`$link.destination.dest-node`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 667,
        "y": 204,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "6a7d179d.85fe8",
                "e3266b7a.5033d8"
            ]
        ]
    },
    {
        "id": "6a7d179d.85fe8",
        "type": "outcome",
        "name": "Null",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 871,
        "y": 165,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "ea7811a5.6557e"
            ]
        ]
    },
    {
        "id": "e3266b7a.5033d8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 868,
        "y": 227,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "68cf703d.fdacb8"
            ]
        ]
    },
    {
        "id": "68cf703d.fdacb8",
        "type": "set",
        "name": "set network link's destination variables",
        "xml": "<set>\n<parameter name='dst-tpId' value=\"`'networkId-' + $unique-networkId + '-nodeId-' + $link.destination.dest-node + '-ltpId-' + $link.destination.dest-tp`\" />\n<parameter name='unique-dst-node-Id' value=\"`'networkId-' + $unique-networkId + '-nodeId-' + $link.destination.dest-node`\" />\n<parameter name='is-open-ended-link' value='false' />\n\n",
        "comments": "",
        "x": 1097,
        "y": 190,
        "z": "42ade40f.4fa29c",
        "wires": []
    },
    {
        "id": "d8b9afa9.8c7938",
        "type": "set",
        "name": "set is-open-ended-link",
        "xml": "<set>\n<parameter name='is-open-ended-link' value='true' />\n\n",
        "comments": "",
        "x": 1275,
        "y": 65,
        "z": "42ade40f.4fa29c",
        "wires": []
    },
    {
        "id": "4445364b.3ff31",
        "type": "save",
        "name": "get p-interface from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"p-interface\"\n\t    key=\"pnf.pnf-name = $unique-src-node-Id\n\t        and p-interface.interface-name = $src-tpId\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.p-interface\" >",
        "comments": "",
        "outputs": 1,
        "x": 1278,
        "y": 150,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "1fabb633.34a7e2",
                "30ce6e4c.0b0d22",
                "78ec6cbb.d8199c"
            ]
        ]
    },
    {
        "id": "1fabb633.34a7e2",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1521,
        "y": 145,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "f6b85f73.a6bb"
            ]
        ]
    },
    {
        "id": "30ce6e4c.0b0d22",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1519,
        "y": 234,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "112ae233.6a9666"
            ]
        ]
    },
    {
        "id": "2d37b161.c87e5e",
        "type": "set",
        "name": "set alternative unique link id",
        "xml": "<set>\n<parameter name='alt-unique-linkId' value=\"`$tmp.aai.p-interface.inter-domain-plug-id`\" />\n<!--<parameter name='alt-unique-linkId' value=\"`'networkId-' + $unique-networkId + '-linkId-' + $tmp.aai.p-interface.inter-domain-plug-id`\" />-->\n\n",
        "comments": "",
        "x": 2194,
        "y": 162,
        "z": "42ade40f.4fa29c",
        "wires": []
    },
    {
        "id": "112ae233.6a9666",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 1688,
        "y": 235,
        "z": "42ade40f.4fa29c",
        "wires": []
    },
    {
        "id": "b25a39cd.f52a6",
        "type": "save",
        "name": "get logical-link from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"logical-link\"\n\t    key=\"logical-link.link-name = $alt-unique-linkId\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.logical-link\" >",
        "comments": "",
        "outputs": 1,
        "x": 986,
        "y": 671,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "2eac00b.0ddcd8",
                "cef26741.44e878"
            ]
        ]
    },
    {
        "id": "78ec6cbb.d8199c",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1530.490966796875,
        "y": 187.57403564453125,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "cc3c7aa7.507dd8"
            ]
        ]
    },
    {
        "id": "cc3c7aa7.507dd8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 1684.0623779296875,
        "y": 190.85977172851562,
        "z": "42ade40f.4fa29c",
        "wires": []
    },
    {
        "id": "339fe7b3.ae4e",
        "type": "switchNode",
        "name": "switch is-open-ended-link",
        "xml": "<switch test='`$is-open-ended-link`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 565,
        "y": 710,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "7bffce42.060d68",
                "601fa3d8.aedcac"
            ]
        ]
    },
    {
        "id": "7bffce42.060d68",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 782,
        "y": 732,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "d9f05462.4a8968"
            ]
        ]
    },
    {
        "id": "601fa3d8.aedcac",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 785,
        "y": 672,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "b25a39cd.f52a6"
            ]
        ]
    },
    {
        "id": "2eac00b.0ddcd8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1230,
        "y": 341,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "d26336.070c9cc8"
            ]
        ]
    },
    {
        "id": "cef26741.44e878",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1255.490966796875,
        "y": 536.5740356445312,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "1417b1e7.adccae"
            ]
        ]
    },
    {
        "id": "c9f57eec.3fa43",
        "type": "update",
        "name": "save logical-link with alternative link id",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='logical-link' \n      key='logical-link.link-name = $alt-unique-linkId' >\n<parameter name='link-name' value='`$alt-unique-linkId`' />\n<parameter name='link-id' value='`$link.link-id`' />\n<parameter name='link-type' value='`$link.te.te-link-attributes.access-type`' />\n\n\n\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1727,
        "y": 558,
        "z": "42ade40f.4fa29c",
        "wires": [
            []
        ]
    },
    {
        "id": "d9f05462.4a8968",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 960,
        "y": 740,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "367c2dd.186e752",
                "6bd86154.f4552",
                "8c3bc53e.020c3",
                "3b98d33.38a2bac",
                "9f4e28fe.9e925"
            ]
        ]
    },
    {
        "id": "882e1409.701ce8",
        "type": "save",
        "name": "update dest TP by putting src TP of the current link",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='logical-link:relationship-list' \n      key='logical-link.link-name = $alt-unique-linkId' force=\"true\" pfx=\"tmp.AnAI-data\">\n<!--<parameter name=\"relationship-list.relationship[0].related-to\" value=\"p-interface\" />-->\n<!--<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/pnfs/pnf/' + $unique-src-node-Id + '/p-interfaces/p-interface/' + $src-tpId`\" />-->\n<!--<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"p-interface.interface-name\" />-->\n<!--<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$src-tpId`\" />-->\n\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"p-interface\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/pnfs/pnf/' + $unique-src-node-Id + '/p-interfaces/p-interface/' + $src-tpId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"p-interface.interface-name\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$src-tpId`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2641,
        "y": 387,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "a1bfa8c8.032428",
                "4552885e.7227f8"
            ]
        ]
    },
    {
        "id": "7c1006a1.c0bf28",
        "type": "save",
        "name": "save source and dest TP",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='logical-link:relationship-list' \n      key='logical-link.link-name = $unique-linkId' force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"p-interface\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/pnfs/pnf/' + $unique-src-node-Id + '/p-interfaces/p-interface/' + $src-tpId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"p-interface.interface-name\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$src-tpId`\" />\n\n<parameter name=\"relationship-list.relationship[1].related-to\" value=\"p-interface\" />\n<parameter name=\"relationship-list.relationship[1].related-link\" value=\"`'/network/pnfs/pnf/' + $unique-dst-node-Id + '/p-interfaces/p-interface/' + $dst-tpId`\" />\n<parameter name=\"relationship-list.relationship[1].relationship-data[0].relationship-key\" value=\"p-interface.interface-name\" />\n<parameter name=\"relationship-list.relationship[1].relationship-data[0].relationship-value\" value=\"`$dst-tpId`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1190,
        "y": 1179,
        "z": "42ade40f.4fa29c",
        "wires": [
            []
        ]
    },
    {
        "id": "ea7811a5.6557e",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1059,
        "y": 126,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "d8b9afa9.8c7938",
                "4445364b.3ff31",
                "78b9c95f.ae17e8"
            ]
        ]
    },
    {
        "id": "1417b1e7.adccae",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1444,
        "y": 539,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "c9f57eec.3fa43",
                "fe6e139a.88d838",
                "1e861048.9f807",
                "fc9bbbc9.76dd6"
            ]
        ]
    },
    {
        "id": "fe6e139a.88d838",
        "type": "save",
        "name": "save source only",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='logical-link:relationship-list' \n      key='logical-link.link-name = $alt-unique-linkId' force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"p-interface\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/pnfs/pnf/' + $unique-src-node-Id + '/p-interfaces/p-interface/' + $src-tpId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"p-interface.interface-name\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$src-tpId`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1656,
        "y": 619,
        "z": "42ade40f.4fa29c",
        "wires": [
            []
        ]
    },
    {
        "id": "ed1851cd.c2d2d",
        "type": "for",
        "name": "for each label-restriction",
        "xml": "<for index='tidx' start='0' end='`$link.te.te-link-attributes.label-restriction_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2183,
        "y": 745,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "bf2a36f0.0411c",
                "1a178b14.9ad4dd",
                "13838be4.d07ac4",
                "ec158e78.eb2b58",
                "a3570d8f.6b641",
                "1375d0c1.e8bf07"
            ]
        ]
    },
    {
        "id": "bf2a36f0.0411c",
        "type": "set",
        "name": "set label-restriction's local variables",
        "xml": "<set>\n<parameter name='label-restriction.' value='`$link.te.te-link-attributes.label-restriction[$tidx].`' />\n",
        "comments": "",
        "x": 2473.6669921875,
        "y": 623.8889770507812,
        "z": "42ade40f.4fa29c",
        "wires": []
    },
    {
        "id": "eb573572.449a5",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2615.0555419921875,
        "y": 702.635009765625,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "80720656.40f1f8"
            ]
        ]
    },
    {
        "id": "e5ad824b.fd1c3",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2622.734130859375,
        "y": 761.8493347167969,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "75cc9002.94bbf8"
            ]
        ]
    },
    {
        "id": "80720656.40f1f8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2775.5556640625,
        "y": 701.8889465332031,
        "z": "42ade40f.4fa29c",
        "wires": [
            []
        ]
    },
    {
        "id": "75cc9002.94bbf8",
        "type": "update",
        "name": "save label-restriction",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='label-restriction' \n      key='logical-link.link-name = $alt-unique-linkId\n      AND label-restriction.id = $unique-lrId' >      \n<parameter name='id' value='`$unique-lrId`' />\n<parameter name='label-start' value='`$label-restriction.label-start`' />\n<parameter name='label-end' value='`$label-restriction.label-end`' />\n<parameter name='range-bitmap' value='`$label-restriction.range-bitmap`' />\n<parameter name='label-step' value='`$label-restriction.label-step`' />\n<parameter name='inclusive-exclusive' value='`$label-restriction.inclusive-exclusive`' />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2806.5556640625,
        "y": 761.8889465332031,
        "z": "42ade40f.4fa29c",
        "wires": [
            []
        ]
    },
    {
        "id": "cb668db0.48c4b",
        "type": "save",
        "name": "save link relationship to label-restriction in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='logical-link:relationship-list' \n      key='logical-link.link-name = $alt-unique-linkId' force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"label-restriction\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/label-restrictions/label-restriction/' + $unique-lrId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"label-restriction.id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$unique-lrId`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2482.5556640625,
        "y": 894.888916015625,
        "z": "42ade40f.4fa29c",
        "wires": [
            []
        ]
    },
    {
        "id": "1a178b14.9ad4dd",
        "type": "update",
        "name": "save label-restriction",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='label-restriction' \n      key='label-restriction.id = $unique-lrId' >      \n<parameter name='id' value='`$unique-lrId`' />\n<parameter name='label-start' value='`$label-restriction.label-start.te-label-tpn`' />\n<parameter name='label-end' value='`$label-restriction.label-end.te-label-tpn`' />\n<parameter name='range-bitmap' value='`$label-restriction.range-bitmap`' />\n<parameter name='label-step' value='`$label-restriction.label-step`' />\n<parameter name='inclusive-exclusive' value='`$label-restriction.inclusive-exclusive`' />\n",
        "comments": "",
        "outputs": 1,
        "x": 2424.370849609375,
        "y": 734.444580078125,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "eb573572.449a5",
                "e5ad824b.fd1c3"
            ]
        ]
    },
    {
        "id": "23c74055.452fd8",
        "type": "set",
        "name": "set more local variables",
        "xml": "<set>\n<parameter name='unique-linkId' value=\"`'networkId-' + $unique-networkId + '-linkId-' + $link.link-id`\" />\n<parameter name='src-tpId' value=\"`'networkId-' + $unique-networkId + '-nodeId-' + $link.source.source-node + '-ltpId-' + $link.source.source-tp`\" />\n<parameter name='unique-src-node-Id' value=\"`'networkId-' + $unique-networkId + '-nodeId-' + $link.source.source-node`\" />\n",
        "comments": "",
        "x": 668,
        "y": 149,
        "z": "42ade40f.4fa29c",
        "wires": []
    },
    {
        "id": "93546ba2.1bedb8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1610,
        "y": 62,
        "z": "42ade40f.4fa29c",
        "wires": [
            []
        ]
    },
    {
        "id": "f6b85f73.a6bb",
        "type": "switchNode",
        "name": "switch inter-domain-plug-id of the src tp",
        "xml": "<switch test='`$tmp.aai.p-interface.inter-domain-plug-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1760,
        "y": 142,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "905e14d2.8e13d",
                "56d86a80.47b554"
            ]
        ]
    },
    {
        "id": "905e14d2.8e13d",
        "type": "outcome",
        "name": "Null",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 1990,
        "y": 89,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "39191ee3.a2421a"
            ]
        ]
    },
    {
        "id": "56d86a80.47b554",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1994,
        "y": 162,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "2d37b161.c87e5e"
            ]
        ]
    },
    {
        "id": "39191ee3.a2421a",
        "type": "set",
        "name": "unset is-open-ended-link",
        "xml": "<set>\n<parameter name='is-open-ended-link' value='false' />\n<parameter name='is-invalid-open-ended-link' value='true' />\n\n",
        "comments": "",
        "x": 2178,
        "y": 85,
        "z": "42ade40f.4fa29c",
        "wires": []
    },
    {
        "id": "1ecef5c2.0f02ca",
        "type": "save",
        "name": "delete logical-link",
        "xml": "<delete plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"logical-link\" \n\tkey=\"logical-link.link-name = $tmp.link-name\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 2159,
        "y": 34,
        "z": "42ade40f.4fa29c",
        "wires": [
            []
        ]
    },
    {
        "id": "357884ff.889364",
        "type": "set",
        "name": "unset network link's local variables",
        "xml": "<set>\n<parameter name='link.' value='' />\n<parameter name='dst-tpId' value='' />\n<parameter name='unique-dst-node-Id' value='' />\n<parameter name='is-open-ended-link' value='false' />\n<parameter name='is-invalid-open-ended-link' value='false' />\n\n",
        "comments": "",
        "x": 696,
        "y": 41,
        "z": "42ade40f.4fa29c",
        "wires": []
    },
    {
        "id": "37660aa6.c865c6",
        "type": "switchNode",
        "name": "switch is-invalid-open-ended-link",
        "xml": "<switch test='`$is-invalid-open-ended-link`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 786,
        "y": 1157,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "f54e3efd.634a38",
                "8022555f.169df8"
            ]
        ]
    },
    {
        "id": "8022555f.169df8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 993,
        "y": 1125,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "e44bc7ce.ed35b8"
            ]
        ]
    },
    {
        "id": "f54e3efd.634a38",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 990,
        "y": 1185,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "7c1006a1.c0bf28"
            ]
        ]
    },
    {
        "id": "e44bc7ce.ed35b8",
        "type": "save",
        "name": "save source only",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='logical-link:relationship-list' \n      key='logical-link.link-name = $unique-linkId' force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"p-interface\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/pnfs/pnf/' + $unique-src-node-Id + '/p-interfaces/p-interface/' + $src-tpId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"p-interface.interface-name\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$src-tpId`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1173,
        "y": 1124,
        "z": "42ade40f.4fa29c",
        "wires": [
            []
        ]
    },
    {
        "id": "6e0155a0.4236dc",
        "type": "switchNode",
        "name": "switch relationship-list_length",
        "xml": "<switch test='`$tmp.aai.logical-link.relationship-list_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1502,
        "y": 314,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "c6d7c8ac.8edfe",
                "e1f14b0f.6d7378",
                "863a7ad.fb20188"
            ]
        ]
    },
    {
        "id": "64886b03.3e43e4",
        "type": "switchNode",
        "name": "switch relationship-list_length != $src-tpId",
        "xml": "<switch test='`$tmp.aai.logical-link.relationship-list.relationship[0].relationship-data[1].relationship-value != $src-tpId`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1953,
        "y": 328,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "b3998350.44919"
            ]
        ]
    },
    {
        "id": "c6d7c8ac.8edfe",
        "type": "outcome",
        "name": "0",
        "xml": "<outcome value='0'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1720,
        "y": 273,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "ae0ebd2c.ab0408"
            ]
        ]
    },
    {
        "id": "e1f14b0f.6d7378",
        "type": "outcome",
        "name": "1",
        "xml": "<outcome value='1'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1717,
        "y": 310,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "64886b03.3e43e4"
            ]
        ]
    },
    {
        "id": "863a7ad.fb20188",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1727,
        "y": 384,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "8fdcd683.3660b"
            ]
        ]
    },
    {
        "id": "8fdcd683.3660b",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1864,
        "y": 385,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "ec1a3a53.fa7ff8"
            ]
        ]
    },
    {
        "id": "ae0ebd2c.ab0408",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1862,
        "y": 281,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "c29cb556.f4deb8"
            ]
        ]
    },
    {
        "id": "5d91edd1.3c2f24",
        "type": "switchNode",
        "name": "switch is-invalid-open-ended-link",
        "xml": "<switch test='`$is-invalid-open-ended-link`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 563,
        "y": 538,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "62e07412.96bbe4",
                "db9d2b02.3f6e5"
            ]
        ]
    },
    {
        "id": "db9d2b02.3f6e5",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 770,
        "y": 506,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "7150962.0cacbe8"
            ]
        ]
    },
    {
        "id": "62e07412.96bbe4",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 767,
        "y": 566,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "339fe7b3.ae4e"
            ]
        ]
    },
    {
        "id": "7150962.0cacbe8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 921,
        "y": 506,
        "z": "42ade40f.4fa29c",
        "wires": [
            []
        ]
    },
    {
        "id": "8c3bc53e.020c3",
        "type": "save",
        "name": "save source and dest TP",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='logical-link:relationship-list' \n      key='logical-link.link-name = $unique-linkId' force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"p-interface\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/pnfs/pnf/' + $unique-src-node-Id + '/p-interfaces/p-interface/' + $src-tpId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"p-interface.interface-name\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$src-tpId`\" />\n\n<parameter name=\"relationship-list.relationship[1].related-to\" value=\"p-interface\" />\n<parameter name=\"relationship-list.relationship[1].related-link\" value=\"`'/network/pnfs/pnf/' + $unique-dst-node-Id + '/p-interfaces/p-interface/' + $dst-tpId`\" />\n<parameter name=\"relationship-list.relationship[1].relationship-data[0].relationship-key\" value=\"p-interface.interface-name\" />\n<parameter name=\"relationship-list.relationship[1].relationship-data[0].relationship-value\" value=\"`$dst-tpId`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1188,
        "y": 828,
        "z": "42ade40f.4fa29c",
        "wires": [
            []
        ]
    },
    {
        "id": "b3998350.44919",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2200,
        "y": 319,
        "z": "42ade40f.4fa29c",
        "wires": [
            []
        ]
    },
    {
        "id": "3b98d33.38a2bac",
        "type": "record",
        "name": "log file",
        "xml": " <record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n    <parameter name=\"file\" value=\"/opt/onap/logTopologyDiscovery.txt\" />\n    <parameter name=\"field1\" value=\"__TIMESTAMP__\" />\n    <parameter name=\"field2\" value=\"uniqueLinkId\" />\n    <parameter name=\"field3\" value=\"`$unique-linkId`\" />\n    <parameter name=\"field4\" value=\"srcTpId\" />\n    <parameter name=\"field5\" value=\"`$src-tpId`\" />\n    <parameter name=\"field6\" value=\"dstTpId\" />\n    <parameter name=\"field7\" value=\"`$dst-tpId`\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 1133,
        "y": 773,
        "z": "42ade40f.4fa29c",
        "wires": [
            []
        ]
    },
    {
        "id": "78b9c95f.ae17e8",
        "type": "set",
        "name": "unset tmp.aai.p-interface",
        "xml": "<set>\n<parameter name='tmp.aai.p-interface' value='' />\n<parameter name='tmp.aai.p-interface.inter-domain-plug-id' value='' />\n\n",
        "comments": "",
        "x": 1276,
        "y": 103,
        "z": "42ade40f.4fa29c",
        "wires": []
    },
    {
        "id": "c7f9432f.fc4c28",
        "type": "record",
        "name": "log file",
        "xml": " <record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n    <parameter name=\"file\" value=\"/opt/onap/logMerge.txt\" />\n    <parameter name=\"field1\" value=\"__TIMESTAMP__\" />\n    <parameter name=\"field2\" value=\"altUniqueLinkId\" />\n    <parameter name=\"field3\" value=\"`$alt-unique-linkId`\" />\n    <parameter name=\"field4\" value=\"srcTpId\" />\n    <parameter name=\"field5\" value=\"`$src-tpId`\" />\n    <parameter name=\"field6\" value=\"relationship-value\" />\n    <parameter name=\"field7\" value='`$tmp.aai.logical-link.relationship-list.relationship[0].relationship-data[1].relationship-value`' />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 2516,
        "y": 291,
        "z": "42ade40f.4fa29c",
        "wires": [
            []
        ]
    },
    {
        "id": "d26336.070c9cc8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2192,
        "y": 536,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "c7f9432f.fc4c28",
                "882e1409.701ce8",
                "6e4bc51.b0c9dbc",
                "7a9fabbe.629c44"
            ]
        ]
    },
    {
        "id": "a1bfa8c8.032428",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2930,
        "y": 357,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "c9e17582.5ea8"
            ]
        ]
    },
    {
        "id": "4552885e.7227f8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2937.6785888671875,
        "y": 416.2143249511719,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "de1c7c10.d4de68"
            ]
        ]
    },
    {
        "id": "c9e17582.5ea8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3078,
        "y": 352,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "747beccb.60a274"
            ]
        ]
    },
    {
        "id": "747beccb.60a274",
        "type": "record",
        "name": "log file",
        "xml": " <record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n    <parameter name=\"file\" value=\"/opt/onap/logMergeSuccess.txt\" />\n    <parameter name=\"field1\" value=\"__TIMESTAMP__\" />\n    <parameter name=\"field2\" value=\"altUniqueLinkId\" />\n    <parameter name=\"field3\" value=\"`$alt-unique-linkId`\" />\n    <parameter name=\"field4\" value=\"srcTpId\" />\n    <parameter name=\"field5\" value=\"`$src-tpId`\" />\n    <parameter name=\"field6\" value=\"relationship-value\" />\n    <parameter name=\"field7\" value='`$tmp.aai.logical-link.relationship-list.relationship[0].relationship-data[1].relationship-value`' />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 3223,
        "y": 352,
        "z": "42ade40f.4fa29c",
        "wires": [
            []
        ]
    },
    {
        "id": "de1c7c10.d4de68",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3085,
        "y": 414,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "81d2a002.7c0388"
            ]
        ]
    },
    {
        "id": "c29cb556.f4deb8",
        "type": "record",
        "name": "log file",
        "xml": " <record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n    <parameter name=\"file\" value=\"/opt/onap/logNoRelationship.txt\" />\n    <parameter name=\"field1\" value=\"__TIMESTAMP__\" />\n    <parameter name=\"field2\" value=\"noRelationshipForLink:\" />\n    <parameter name=\"field3\" value=\"`$tmp.aai.logical-link.link-name`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1998,
        "y": 279,
        "z": "42ade40f.4fa29c",
        "wires": [
            []
        ]
    },
    {
        "id": "ec1a3a53.fa7ff8",
        "type": "record",
        "name": "log file",
        "xml": " <record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n    <parameter name=\"file\" value=\"/opt/onap/logNoRelationship.txt\" />\n    <parameter name=\"field1\" value=\"__TIMESTAMP__\" />\n    <parameter name=\"field2\" value=\"moreThanOneRelationshipForLink:\" />\n    <parameter name=\"field3\" value=\"`$tmp.aai.logical-link.link-name`\" />\n    <parameter name=\"field4\" value=\"HowMany:\" />\n    <parameter name=\"field5\" value=\"`$tmp.aai.logical-link.relationship-list_length`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2009,
        "y": 394,
        "z": "42ade40f.4fa29c",
        "wires": [
            []
        ]
    },
    {
        "id": "81d2a002.7c0388",
        "type": "record",
        "name": "log file",
        "xml": " <record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n    <parameter name=\"file\" value=\"/opt/onap/logMergeFailure.txt\" />\n    <parameter name=\"field1\" value=\"__TIMESTAMP__\" />\n    <parameter name=\"field2\" value=\"altUniqueLinkId\" />\n    <parameter name=\"field3\" value=\"`$alt-unique-linkId`\" />\n    <parameter name=\"field4\" value=\"srcTpId\" />\n    <parameter name=\"field5\" value=\"`$src-tpId`\" />\n    <parameter name=\"field6\" value=\"relationship-value\" />\n    <parameter name=\"field7\" value='`$tmp.aai.logical-link.relationship-list.relationship[0].relationship-data[1].relationship-value`' />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 3230,
        "y": 414,
        "z": "42ade40f.4fa29c",
        "wires": [
            []
        ]
    },
    {
        "id": "6ededdc5.cf6c8c",
        "type": "other",
        "name": "Null",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 1544,
        "y": 843,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "13eb321c.419dee"
            ]
        ]
    },
    {
        "id": "ecaf5041.3bee8",
        "type": "outcome",
        "name": "length 0",
        "xml": "<outcome value='0'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1546,
        "y": 891,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "13eb321c.419dee"
            ]
        ]
    },
    {
        "id": "5dbfa8d0.65ebe",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1543,
        "y": 945,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "3a0f4814.b217"
            ]
        ]
    },
    {
        "id": "13eb321c.419dee",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1699,
        "y": 843,
        "z": "42ade40f.4fa29c",
        "wires": [
            []
        ]
    },
    {
        "id": "1e861048.9f807",
        "type": "switchNode",
        "name": "switch te-link-attributes label-restriction_length",
        "xml": "<switch test='`$link.te.te-link-attributes.label-restriction_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1725,
        "y": 736,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "f4fbab89.9ba908",
                "7dc7ac6a.dc9714",
                "4d8c04cc.f4e3d4"
            ]
        ]
    },
    {
        "id": "f4fbab89.9ba908",
        "type": "other",
        "name": "Null",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 1997,
        "y": 646,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "bc7188dd.cc9d18"
            ]
        ]
    },
    {
        "id": "bc7188dd.cc9d18",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2152,
        "y": 646,
        "z": "42ade40f.4fa29c",
        "wires": [
            []
        ]
    },
    {
        "id": "7dc7ac6a.dc9714",
        "type": "outcome",
        "name": "length 0",
        "xml": "<outcome value='0'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1999,
        "y": 694,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "bc7188dd.cc9d18"
            ]
        ]
    },
    {
        "id": "4d8c04cc.f4e3d4",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1998,
        "y": 745,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "ed1851cd.c2d2d"
            ]
        ]
    },
    {
        "id": "13838be4.d07ac4",
        "type": "set",
        "name": "unset label-restriction's local variables",
        "xml": "<set>\n<parameter name='label-restriction.' value='' />\n<parameter name='unique-lrId' value=\"\" />\n",
        "comments": "",
        "x": 2479,
        "y": 572,
        "z": "42ade40f.4fa29c",
        "wires": []
    },
    {
        "id": "2f963aac.304aa6",
        "type": "set",
        "name": "unset label-restriction's local variables",
        "xml": "<set>\n<parameter name='label-restriction.' value='' />\n<parameter name='unique-lrId' value=\"\" />\n",
        "comments": "",
        "x": 2033,
        "y": 799,
        "z": "42ade40f.4fa29c",
        "wires": []
    },
    {
        "id": "6e4bc51.b0c9dbc",
        "type": "switchNode",
        "name": "switch te-link-attributes label-restriction_length",
        "xml": "<switch test='`$link.te.te-link-attributes.label-restriction_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2817,
        "y": 523,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "30a1d0ca.e887a",
                "92fd4ff1.3a409",
                "389e55ce.061fe2"
            ]
        ]
    },
    {
        "id": "30a1d0ca.e887a",
        "type": "other",
        "name": "Null",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 3087,
        "y": 485,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "5dda79fd.751e4"
            ]
        ]
    },
    {
        "id": "5dda79fd.751e4",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3242,
        "y": 485,
        "z": "42ade40f.4fa29c",
        "wires": [
            []
        ]
    },
    {
        "id": "92fd4ff1.3a409",
        "type": "outcome",
        "name": "length 0",
        "xml": "<outcome value='0'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3089,
        "y": 533,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "5dda79fd.751e4"
            ]
        ]
    },
    {
        "id": "389e55ce.061fe2",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3088,
        "y": 584,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "bc1a2664.a26998"
            ]
        ]
    },
    {
        "id": "bc1a2664.a26998",
        "type": "for",
        "name": "for each label-restriction",
        "xml": "<for index='tidx' start='0' end='`$link.te.te-link-attributes.label-restriction_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3273,
        "y": 584,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "bc3590a8.aace38",
                "c370620b.230e48",
                "a5a0665d.651de8",
                "1ab3f9a3.2d2bce",
                "fed3d208.8682f8",
                "864febfd.65faf"
            ]
        ]
    },
    {
        "id": "a5a0665d.651de8",
        "type": "set",
        "name": "unset label-restriction's local variables",
        "xml": "<set>\n<parameter name='label-restriction.' value='' />\n<parameter name='unique-lrId' value=\"\" />\n",
        "comments": "",
        "x": 3571,
        "y": 399,
        "z": "42ade40f.4fa29c",
        "wires": []
    },
    {
        "id": "bc3590a8.aace38",
        "type": "set",
        "name": "set label-restriction's local variables",
        "xml": "<set>\n<parameter name='label-restriction.' value='`$link.te.te-link-attributes.label-restriction[$tidx].`' />\n",
        "comments": "",
        "x": 3560.6669921875,
        "y": 445.88897705078125,
        "z": "42ade40f.4fa29c",
        "wires": []
    },
    {
        "id": "c370620b.230e48",
        "type": "update",
        "name": "save label-restriction",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='label-restriction' \n      key='label-restriction.id = $unique-lrId' >      \n<parameter name='id' value='`$unique-lrId`' />\n<parameter name='label-start' value='`$label-restriction.label-start.te-label-tpn`' />\n<parameter name='label-end' value='`$label-restriction.label-end.te-label-tpn`' />\n<parameter name='range-bitmap' value='`$label-restriction.range-bitmap`' />\n<parameter name='label-step' value='`$label-restriction.label-step`' />\n<parameter name='inclusive-exclusive' value='`$label-restriction.inclusive-exclusive`' />\n",
        "comments": "",
        "outputs": 1,
        "x": 3514.370849609375,
        "y": 573.444580078125,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "fa7d62b3.003ef",
                "8c2cda96.78942"
            ]
        ]
    },
    {
        "id": "bad7ff54.e113a8",
        "type": "save",
        "name": "save link relationship to label-restriction in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='logical-link:relationship-list' \n      key='logical-link.link-name = $alt-unique-linkId' force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"label-restriction\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/label-restrictions/label-restriction/' + $unique-lrId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"label-restriction.id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$unique-lrId`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3588.5556640625,
        "y": 757.888916015625,
        "z": "42ade40f.4fa29c",
        "wires": [
            []
        ]
    },
    {
        "id": "fa7d62b3.003ef",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3705.0555419921875,
        "y": 541.635009765625,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "ee15e7b0.52d0f8"
            ]
        ]
    },
    {
        "id": "8c2cda96.78942",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3712.734130859375,
        "y": 600.8493347167969,
        "z": "42ade40f.4fa29c",
        "wires": [
            [
                "ed52377e.4eb4a"
            ]
        ]
    },
    {
        "id": "ee15e7b0.52d0f8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3865.5556640625,
        "y": 540.8889465332031,
        "z": "42ade40f.4fa29c",
        "wires": [
            []
        ]
    },
    {
        "id": "ed52377e.4eb4a",
        "type": "update",
        "name": "save label-restriction",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='label-restriction' \n      key='label-restriction.id = $unique-lrId' >      \n<parameter name='id' value='`$unique-lrId`' />\n<parameter name='label-start' value='`$label-restriction.label-start.te-label-tpn`' />\n<parameter name='label-end' value='`$label-restriction.label-end.te-label-tpn`' />\n<parameter name='range-bitmap' value='`$label-restriction.range-bitmap`' />\n<parameter name='label-step' value='`$label-restriction.label-step`' />\n<parameter name='inclusive-exclusive' value='`$label-restriction.inclusive-exclusive`' />\n",
        "comments": "",
        "outputs": 1,
        "x": 3896.5556640625,
        "y": 600.8889465332031,
        "z": "42ade40f.4fa29c",
        "wires": [
            []
        ]
    },
    {
        "id": "1ab3f9a3.2d2bce",
        "type": "set",
        "name": "set label-restriction's local variables",
        "xml": "<set>\n<parameter name='unique-lrId' value=\"`$alt-unique-linkId + '-lrId-' + $label-restriction.index`\" />\n",
        "comments": "",
        "x": 3561,
        "y": 495,
        "z": "42ade40f.4fa29c",
        "wires": []
    },
    {
        "id": "ec158e78.eb2b58",
        "type": "set",
        "name": "set label-restriction's local variables",
        "xml": "<set>\n<parameter name='unique-lrId' value=\"`$alt-unique-linkId + '-lrId-' + $label-restriction.index`\" />\n",
        "comments": "",
        "x": 2475,
        "y": 664,
        "z": "42ade40f.4fa29c",
        "wires": []
    },
    {
        "id": "a173e4f5.f5a478",
        "type": "set",
        "name": "set label-restriction's local variables",
        "xml": "<set>\n<parameter name='label-restriction.' value='`$link.te.te-link-attributes.label-restriction[$tidx].`' />\n",
        "comments": "",
        "x": 2030,
        "y": 851,
        "z": "42ade40f.4fa29c",
        "wires": []
    },
    {
        "id": "9f4e28fe.9e925",
        "type": "update",
        "name": "save te-link-attribute",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='te-link-attribute' \n      key='te-link-attribute.id = $link.te.te-link-attributes.name' >      \n<parameter name='id' value='`$link.te.te-link-attributes.name`' />\n<parameter name='access-type' value='`$link.te.te-link-attributes.access-type`' />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1171,
        "y": 873,
        "z": "42ade40f.4fa29c",
        "wires": [
            []
        ]
    },
    {
        "id": "15c10484.c4629b",
        "type": "save",
        "name": "save te-link-attribute relationship to label-restriction",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='te-link-attribute:relationship-list' \n      key='te-link-attribute.id = $link.te.te-link-attributes.name' force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"label-restriction\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/label-restrictions/label-restriction/' + $unique-lrId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"label-restriction.id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$unique-lrId`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2062,
        "y": 1142,
        "z": "42ade40f.4fa29c",
        "wires": [
            []
        ]
    },
    {
        "id": "c921d18d.970b48",
        "type": "save",
        "name": "save te-link-attribute relationship to logical-link in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='te-link-attribute:relationship-list' \n      key='te-link-attribute.id = $link.te.te-link-attributes.name' force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"logical-link\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/logical-links/logical-link/' + $unique-linkId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"logical-link.link-name\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$unique-linkId`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2071,
        "y": 1082,
        "z": "42ade40f.4fa29c",
        "wires": [
            []
        ]
    },
    {
        "id": "fc9bbbc9.76dd6",
        "type": "update",
        "name": "save te-link-attribute",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='te-link-attribute' \n      key='te-link-attribute.id = $link.te.te-link-attributes.name' >      \n<parameter name='id' value='`$link.te.te-link-attributes.name`' />\n<parameter name='access-type' value='`$link.te.te-link-attributes.access-type`' />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1662,
        "y": 671,
        "z": "42ade40f.4fa29c",
        "wires": [
            []
        ]
    },
    {
        "id": "7a9fabbe.629c44",
        "type": "update",
        "name": "update te-link-attribute",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='te-link-attribute' \n      key='te-link-attribute.id = $link.te.te-link-attributes.name' >      \n<parameter name='id' value='`$link.te.te-link-attributes.name`' />\n<parameter name='access-type' value='`$link.te.te-link-attributes.access-type`' />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2542,
        "y": 456,
        "z": "42ade40f.4fa29c",
        "wires": [
            []
        ]
    },
    {
        "id": "a3570d8f.6b641",
        "type": "save",
        "name": "save te-link-attribute relationship to logical-link in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='te-link-attribute:relationship-list' \n      key='te-link-attribute.id = $link.te.te-link-attributes.name' force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"logical-link\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/logical-links/logical-link/' + $alt-unique-linkId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"logical-link.link-name\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$alt-unique-linkId`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2507,
        "y": 802,
        "z": "42ade40f.4fa29c",
        "wires": [
            []
        ]
    },
    {
        "id": "1375d0c1.e8bf07",
        "type": "save",
        "name": "save te-link-attribute relationship to label-restriction",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='te-link-attribute:relationship-list' \n      key='te-link-attribute.id = $link.te.te-link-attributes.name' force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"label-restriction\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/label-restrictions/label-restriction/' + $unique-lrId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"label-restriction.id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$unique-lrId`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2500,
        "y": 848,
        "z": "42ade40f.4fa29c",
        "wires": [
            []
        ]
    },
    {
        "id": "864febfd.65faf",
        "type": "save",
        "name": "save te-link-attribute relationship to label-restriction",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='te-link-attribute:relationship-list' \n      key='te-link-attribute.id = $link.te.te-link-attributes.name' force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"label-restriction\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/label-restrictions/label-restriction/' + $unique-lrId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"label-restriction.id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$unique-lrId`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3597,
        "y": 700,
        "z": "42ade40f.4fa29c",
        "wires": [
            []
        ]
    },
    {
        "id": "fed3d208.8682f8",
        "type": "save",
        "name": "save te-link-attribute relationship to logical-link in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='te-link-attribute:relationship-list' \n      key='te-link-attribute.id = $link.te.te-link-attributes.name' force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"logical-link\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/logical-links/logical-link/' + $alt-unique-linkId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"logical-link.link-name\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$alt-unique-linkId`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3604,
        "y": 654,
        "z": "42ade40f.4fa29c",
        "wires": [
            []
        ]
    }
]