[
    {
        "id": "77244695.5fe13",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 124,
        "y": 98,
        "z": "11329427.2301e4",
        "wires": [
            [
                "61db70e6.96f4f"
            ]
        ]
    },
    {
        "id": "61db70e6.96f4f",
        "type": "service-logic",
        "name": "DataChange ${project.version}",
        "module": "DataChange",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='DataChange' version='${project.version}'>",
        "outputs": 1,
        "x": 181,
        "y": 177.888916015625,
        "z": "11329427.2301e4",
        "wires": [
            [
                "1788c320.44101d"
            ]
        ]
    },
    {
        "id": "1788c320.44101d",
        "type": "method",
        "name": "method update-network-links-to-aai",
        "xml": "<method rpc='update-network-links-to-aai' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 195,
        "y": 254.22222900390625,
        "z": "11329427.2301e4",
        "wires": [
            [
                "325d107f.de4c6"
            ]
        ]
    },
    {
        "id": "325d107f.de4c6",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 206.33343505859375,
        "y": 331.7779235839844,
        "z": "11329427.2301e4",
        "wires": [
            [
                "772b5f61.91c448"
            ]
        ]
    },
    {
        "id": "ea8c4290.e9fc4",
        "type": "update",
        "name": "save logical-link with regular id",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='logical-link' \n      key='logical-link.link-name = $unique-linkId' >\n<parameter name='link-name' value='`$unique-linkId`' />\n<parameter name='link-id' value='`$link.link-id`' />\n<parameter name='link-type' value='`$link.te.te-link-attributes.access-type`' />\n\n\n\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1081.111083984375,
        "y": 756.111083984375,
        "z": "11329427.2301e4",
        "wires": [
            []
        ]
    },
    {
        "id": "772b5f61.91c448",
        "type": "for",
        "name": "for each link",
        "xml": "<for index='pidx' start='0' end='`$network.link_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 234.88885498046875,
        "y": 425.33331298828125,
        "z": "11329427.2301e4",
        "wires": [
            [
                "34a89003.2e2b",
                "ba3960a8.1467",
                "f48b8987.2973f8",
                "37181089.2d209",
                "f2821395.fcaa08"
            ]
        ]
    },
    {
        "id": "34a89003.2e2b",
        "type": "set",
        "name": "set network link's local variables",
        "xml": "<set>\n<parameter name='link.' value='`$network.link[$pidx].`' />\n<parameter name='unique-networkId' value='`$tmp.network-id`' />\n\n",
        "comments": "",
        "x": 567.111083984375,
        "y": 130.2222137451172,
        "z": "11329427.2301e4",
        "wires": []
    },
    {
        "id": "8fd33aa8.985138",
        "type": "for",
        "name": "for each label-restriction",
        "xml": "<for index='tidx' start='0' end='`$link.te.te-link-attributes.label-restriction_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1607.4444580078125,
        "y": 976.111083984375,
        "z": "11329427.2301e4",
        "wires": [
            [
                "5a96ae47.c33778",
                "6a43eee0.04c1f8",
                "1f83fd3d.b74253",
                "db4d2563.f4f978",
                "49c5f91d.be38c8",
                "b8324dab.347198"
            ]
        ]
    },
    {
        "id": "5a96ae47.c33778",
        "type": "set",
        "name": "set label-restriction's local variables",
        "xml": "<set>\n<parameter name='unique-lrId' value=\"`$unique-linkId + '-lrId-' + $label-restriction.index`\" />\n",
        "comments": "",
        "x": 1912.111328125,
        "y": 941.0000610351562,
        "z": "11329427.2301e4",
        "wires": []
    },
    {
        "id": "16e2b4ec.afe953",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2025.4998779296875,
        "y": 983.74609375,
        "z": "11329427.2301e4",
        "wires": [
            [
                "180e1ac0.c84c2d"
            ]
        ]
    },
    {
        "id": "e2eddabf.7af6b",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2033.178466796875,
        "y": 1042.9604187011719,
        "z": "11329427.2301e4",
        "wires": [
            [
                "c411750f.6a79e8"
            ]
        ]
    },
    {
        "id": "180e1ac0.c84c2d",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2186,
        "y": 983.0000305175781,
        "z": "11329427.2301e4",
        "wires": [
            []
        ]
    },
    {
        "id": "1718031e.d8e1cd",
        "type": "set",
        "name": "set src-ltpId dst-ltpId",
        "xml": "<set>\n<parameter name='src-ltpId' value=\"`'nodeId-' + $oof.vpn.access-node-id + '-ltpId-' + $oof.vpn.src-access-ltp-id`\" />\n<parameter name='dst-ltpId' value=\"`'nodeId-' + $oof.vpn.access-node-id + '-ltpId-' + $oof.vpn.dst-access-ltp-id`\" />",
        "comments": "",
        "x": 2594.5001220703125,
        "y": 2445.545135498047,
        "z": "11329427.2301e4",
        "wires": []
    },
    {
        "id": "df5f7631.41cd8",
        "type": "save",
        "name": "save srcLTP relationship in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding:relationship-list' \n      key='vpn-binding.vpn-id = $tmp.vpnName' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"p-interface\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/pnfs/pnf/' + $oof.vpn.access-node-id + '/p-interfaces/p-interface/' + $src-ltpId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"p-interface.interface-name\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$src-ltpId`\" />\n\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2628.0001220703125,
        "y": 2485.545135498047,
        "z": "11329427.2301e4",
        "wires": [
            []
        ]
    },
    {
        "id": "39d523bc.136384",
        "type": "save",
        "name": "save dstLTP relationship in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding:relationship-list' \n      key='vpn-binding.vpn-id = $tmp.vpnName' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"p-interface\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/pnfs/pnf/' + $oof.vpn.access-node-id + '/p-interfaces/p-interface/' + $dst-ltpId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"p-interface.interface-name\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$dst-ltpId`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2628.0001220703125,
        "y": 2525.545135498047,
        "z": "11329427.2301e4",
        "wires": [
            []
        ]
    },
    {
        "id": "c411750f.6a79e8",
        "type": "update",
        "name": "save label-restriction",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='label-restriction' \n      key='logical-link.link-name = $unique-linkId\n      AND label-restriction.id = $unique-lrId' >      \n<parameter name='id' value='`$unique-lrId`' />\n<parameter name='label-start' value='`$label-restriction.label-start`' />\n<parameter name='label-end' value='`$label-restriction.label-end`' />\n<parameter name='range-bitmap' value='`$label-restriction.range-bitmap`' />\n<parameter name='label-step' value='`$label-restriction.label-step`' />\n<parameter name='inclusive-exclusive' value='`$label-restriction.inclusive-exclusive`' />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2217,
        "y": 1043.0000305175781,
        "z": "11329427.2301e4",
        "wires": [
            []
        ]
    },
    {
        "id": "a7ae4edd.c4cd68",
        "type": "save",
        "name": "save link relationship to label-restriction in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='logical-link:relationship-list' \n      key='logical-link.link-name = $unique-linkId' force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"label-restriction\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/label-restrictions/label-restriction/' + $unique-lrId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"label-restriction.id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$unique-lrId`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1928,
        "y": 1239,
        "z": "11329427.2301e4",
        "wires": [
            []
        ]
    },
    {
        "id": "6a43eee0.04c1f8",
        "type": "update",
        "name": "save label-restriction",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='label-restriction' \n      key='label-restriction.id = $unique-lrId' >      \n<parameter name='id' value='`$unique-lrId`' />\n<parameter name='label-start' value='`$label-restriction.label-start.te-label-tpn`' />\n<parameter name='label-end' value='`$label-restriction.label-end.te-label-tpn`' />\n<parameter name='range-bitmap' value='`$label-restriction.range-bitmap`' />\n<parameter name='label-step' value='`$label-restriction.label-step`' />\n<parameter name='inclusive-exclusive' value='`$label-restriction.inclusive-exclusive`' />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1866.815185546875,
        "y": 1015.5556640625,
        "z": "11329427.2301e4",
        "wires": [
            [
                "16e2b4ec.afe953",
                "e2eddabf.7af6b"
            ]
        ]
    },
    {
        "id": "30955035.7652f",
        "type": "switchNode",
        "name": "switch te-link-attributes label-restriction_length",
        "xml": "<switch test='`$link.te.te-link-attributes.label-restriction_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1126,
        "y": 976,
        "z": "11329427.2301e4",
        "wires": [
            [
                "57ae4e2f.8a93c8",
                "7f343bab.e4c8cc",
                "22cb05f1.da2172"
            ]
        ]
    },
    {
        "id": "ba3960a8.1467",
        "type": "switchNode",
        "name": "switch link.destination",
        "xml": "<switch test='`$link.destination.dest-node`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 543,
        "y": 235,
        "z": "11329427.2301e4",
        "wires": [
            [
                "a0306127.0ff848",
                "d09a2f1e.24e0c8"
            ]
        ]
    },
    {
        "id": "a0306127.0ff848",
        "type": "outcome",
        "name": "Null",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 747,
        "y": 196,
        "z": "11329427.2301e4",
        "wires": [
            [
                "da99d9fe.83172"
            ]
        ]
    },
    {
        "id": "d09a2f1e.24e0c8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 744,
        "y": 258,
        "z": "11329427.2301e4",
        "wires": [
            [
                "e7a5a1e8.6ee3f"
            ]
        ]
    },
    {
        "id": "e7a5a1e8.6ee3f",
        "type": "set",
        "name": "set network link's destination variables",
        "xml": "<set>\n<parameter name='dst-tpId' value=\"`'networkId-' + $unique-networkId + '-nodeId-' + $link.destination.dest-node + '-ltpId-' + $link.destination.dest-tp`\" />\n<parameter name='unique-dst-node-Id' value=\"`'networkId-' + $unique-networkId + '-nodeId-' + $link.destination.dest-node`\" />\n<parameter name='is-open-ended-link' value='false' />\n\n",
        "comments": "",
        "x": 973,
        "y": 221,
        "z": "11329427.2301e4",
        "wires": []
    },
    {
        "id": "a3f68296.d7ae38",
        "type": "set",
        "name": "set is-open-ended-link",
        "xml": "<set>\n<parameter name='is-open-ended-link' value='true' />\n\n",
        "comments": "",
        "x": 1151,
        "y": 96,
        "z": "11329427.2301e4",
        "wires": []
    },
    {
        "id": "be73ca4d.23f61",
        "type": "save",
        "name": "get p-interface from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"p-interface\"\n\t    key=\"pnf.pnf-name = $unique-src-node-Id\n\t        and p-interface.interface-name = $src-tpId\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.p-interface\" >",
        "comments": "",
        "outputs": 1,
        "x": 1154,
        "y": 181,
        "z": "11329427.2301e4",
        "wires": [
            [
                "d126c02c.3bacd",
                "4b20a2f1.df693c",
                "d6c67e44.d54828"
            ]
        ]
    },
    {
        "id": "d126c02c.3bacd",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1397,
        "y": 176,
        "z": "11329427.2301e4",
        "wires": [
            [
                "56d01481.fc3d34"
            ]
        ]
    },
    {
        "id": "4b20a2f1.df693c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1395,
        "y": 265,
        "z": "11329427.2301e4",
        "wires": [
            [
                "b4b8cef1.bd5508"
            ]
        ]
    },
    {
        "id": "67c0b205.d4f6ec",
        "type": "set",
        "name": "set alternative unique link id",
        "xml": "<set>\n<parameter name='alt-unique-linkId' value=\"`$tmp.aai.p-interface.inter-domain-plug-id`\" />\n<!--<parameter name='alt-unique-linkId' value=\"`'networkId-' + $unique-networkId + '-linkId-' + $tmp.aai.p-interface.inter-domain-plug-id`\" />-->\n\n",
        "comments": "",
        "x": 2070,
        "y": 193,
        "z": "11329427.2301e4",
        "wires": []
    },
    {
        "id": "b4b8cef1.bd5508",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 1564,
        "y": 266,
        "z": "11329427.2301e4",
        "wires": []
    },
    {
        "id": "5276aaa7.05e024",
        "type": "save",
        "name": "get logical-link from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"logical-link\"\n\t    key=\"logical-link.link-name = $alt-unique-linkId\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.logical-link\" >",
        "comments": "",
        "outputs": 1,
        "x": 862,
        "y": 702,
        "z": "11329427.2301e4",
        "wires": [
            [
                "1ee6e430.75131c",
                "e692eeb1.80fc1"
            ]
        ]
    },
    {
        "id": "d6c67e44.d54828",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1406.490966796875,
        "y": 218.57403564453125,
        "z": "11329427.2301e4",
        "wires": [
            [
                "ce500e8a.13e1b"
            ]
        ]
    },
    {
        "id": "ce500e8a.13e1b",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 1560.0623779296875,
        "y": 221.85977172851562,
        "z": "11329427.2301e4",
        "wires": []
    },
    {
        "id": "52680ac9.74c6bc",
        "type": "switchNode",
        "name": "switch is-open-ended-link",
        "xml": "<switch test='`$is-open-ended-link`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 441,
        "y": 741,
        "z": "11329427.2301e4",
        "wires": [
            [
                "c8f3bc4d.123c58",
                "d068e94c.b6bab"
            ]
        ]
    },
    {
        "id": "c8f3bc4d.123c58",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 658,
        "y": 763,
        "z": "11329427.2301e4",
        "wires": [
            [
                "62f182d2.b1427c"
            ]
        ]
    },
    {
        "id": "d068e94c.b6bab",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 661,
        "y": 703,
        "z": "11329427.2301e4",
        "wires": [
            [
                "5276aaa7.05e024"
            ]
        ]
    },
    {
        "id": "1ee6e430.75131c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1106,
        "y": 372,
        "z": "11329427.2301e4",
        "wires": [
            [
                "5326eda4.cd9dac"
            ]
        ]
    },
    {
        "id": "e692eeb1.80fc1",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1131.490966796875,
        "y": 567.5740356445312,
        "z": "11329427.2301e4",
        "wires": [
            [
                "169999f1.cf3e56"
            ]
        ]
    },
    {
        "id": "df93f1df.e408b",
        "type": "update",
        "name": "save logical-link with alternative link id",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='logical-link' \n      key='logical-link.link-name = $alt-unique-linkId' >\n<parameter name='link-name' value='`$alt-unique-linkId`' />\n<parameter name='link-id' value='`$link.link-id`' />\n<parameter name='link-type' value='`$link.te.te-link-attributes.access-type`' />\n<parameter name='link-role' value='cross-domain' />\n\n\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1603,
        "y": 589,
        "z": "11329427.2301e4",
        "wires": [
            []
        ]
    },
    {
        "id": "62f182d2.b1427c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 836,
        "y": 771,
        "z": "11329427.2301e4",
        "wires": [
            [
                "ea8c4290.e9fc4",
                "30955035.7652f",
                "cdc97515.c97b28",
                "43ca3bbb.8af21c"
            ]
        ]
    },
    {
        "id": "922e1b5e.413f38",
        "type": "save",
        "name": "update dest TP by putting src TP of the current link",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='logical-link:relationship-list' \n      key='logical-link.link-name = $alt-unique-linkId' force=\"true\" pfx=\"tmp.AnAI-data\">\n<!--<parameter name=\"relationship-list.relationship[0].related-to\" value=\"p-interface\" />-->\n<!--<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/pnfs/pnf/' + $unique-src-node-Id + '/p-interfaces/p-interface/' + $src-tpId`\" />-->\n<!--<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"p-interface.interface-name\" />-->\n<!--<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$src-tpId`\" />-->\n\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"p-interface\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/pnfs/pnf/' + $unique-src-node-Id + '/p-interfaces/p-interface/' + $src-tpId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"p-interface.interface-name\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$src-tpId`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2517,
        "y": 418,
        "z": "11329427.2301e4",
        "wires": [
            [
                "b261d13e.1146f",
                "acda2064.208dd8"
            ]
        ]
    },
    {
        "id": "a65d4fc9.cbb8f8",
        "type": "save",
        "name": "save source and dest TP",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='logical-link:relationship-list' \n      key='logical-link.link-name = $unique-linkId' force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"p-interface\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/pnfs/pnf/' + $unique-src-node-Id + '/p-interfaces/p-interface/' + $src-tpId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"p-interface.interface-name\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$src-tpId`\" />\n\n<parameter name=\"relationship-list.relationship[1].related-to\" value=\"p-interface\" />\n<parameter name=\"relationship-list.relationship[1].related-link\" value=\"`'/network/pnfs/pnf/' + $unique-dst-node-Id + '/p-interfaces/p-interface/' + $dst-tpId`\" />\n<parameter name=\"relationship-list.relationship[1].relationship-data[0].relationship-key\" value=\"p-interface.interface-name\" />\n<parameter name=\"relationship-list.relationship[1].relationship-data[0].relationship-value\" value=\"`$dst-tpId`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1066,
        "y": 1210,
        "z": "11329427.2301e4",
        "wires": [
            []
        ]
    },
    {
        "id": "da99d9fe.83172",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 935,
        "y": 157,
        "z": "11329427.2301e4",
        "wires": [
            [
                "a3f68296.d7ae38",
                "be73ca4d.23f61",
                "7e55092c.663d38"
            ]
        ]
    },
    {
        "id": "169999f1.cf3e56",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1320,
        "y": 570,
        "z": "11329427.2301e4",
        "wires": [
            [
                "df93f1df.e408b",
                "396e80a6.960c58",
                "57d29a3c.fe54c4",
                "3f800f5b.cc91f8"
            ]
        ]
    },
    {
        "id": "396e80a6.960c58",
        "type": "save",
        "name": "save source only",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='logical-link:relationship-list' \n      key='logical-link.link-name = $alt-unique-linkId' force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"p-interface\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/pnfs/pnf/' + $unique-src-node-Id + '/p-interfaces/p-interface/' + $src-tpId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"p-interface.interface-name\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$src-tpId`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1532,
        "y": 650,
        "z": "11329427.2301e4",
        "wires": [
            []
        ]
    },
    {
        "id": "19afd467.bf4a8c",
        "type": "for",
        "name": "for each label-restriction",
        "xml": "<for index='tidx' start='0' end='`$link.te.te-link-attributes.label-restriction_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2059,
        "y": 776,
        "z": "11329427.2301e4",
        "wires": [
            [
                "93dd8916.c138b",
                "e065f5f8.a10718",
                "667c042d.d704cc",
                "1b0b9ceb.8ee5ab",
                "98a97ae5.7ea6d",
                "54564b15.ad996c"
            ]
        ]
    },
    {
        "id": "93dd8916.c138b",
        "type": "set",
        "name": "set label-restriction's local variables",
        "xml": "<set>\n<parameter name='label-restriction.' value='`$link.te.te-link-attributes.label-restriction[$tidx].`' />\n",
        "comments": "",
        "x": 2349.6669921875,
        "y": 654.8889770507812,
        "z": "11329427.2301e4",
        "wires": []
    },
    {
        "id": "adaa1c19.7064b",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2491.0555419921875,
        "y": 733.635009765625,
        "z": "11329427.2301e4",
        "wires": [
            [
                "c7ff7951.db72b8"
            ]
        ]
    },
    {
        "id": "85c8d180.3fabc",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2498.734130859375,
        "y": 792.8493347167969,
        "z": "11329427.2301e4",
        "wires": [
            [
                "82edaa01.6319c"
            ]
        ]
    },
    {
        "id": "c7ff7951.db72b8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2651.5556640625,
        "y": 732.8889465332031,
        "z": "11329427.2301e4",
        "wires": [
            []
        ]
    },
    {
        "id": "82edaa01.6319c",
        "type": "update",
        "name": "save label-restriction",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='label-restriction' \n      key='logical-link.link-name = $alt-unique-linkId\n      AND label-restriction.id = $unique-lrId' >      \n<parameter name='id' value='`$unique-lrId`' />\n<parameter name='label-start' value='`$label-restriction.label-start`' />\n<parameter name='label-end' value='`$label-restriction.label-end`' />\n<parameter name='range-bitmap' value='`$label-restriction.range-bitmap`' />\n<parameter name='label-step' value='`$label-restriction.label-step`' />\n<parameter name='inclusive-exclusive' value='`$label-restriction.inclusive-exclusive`' />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2682.5556640625,
        "y": 792.8889465332031,
        "z": "11329427.2301e4",
        "wires": [
            []
        ]
    },
    {
        "id": "66919d0c.15300c",
        "type": "save",
        "name": "save link relationship to label-restriction in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='logical-link:relationship-list' \n      key='logical-link.link-name = $alt-unique-linkId' force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"label-restriction\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/label-restrictions/label-restriction/' + $unique-lrId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"label-restriction.id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$unique-lrId`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2358.5556640625,
        "y": 925.888916015625,
        "z": "11329427.2301e4",
        "wires": [
            []
        ]
    },
    {
        "id": "e065f5f8.a10718",
        "type": "update",
        "name": "save label-restriction",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='label-restriction' \n      key='label-restriction.id = $unique-lrId' >      \n<parameter name='id' value='`$unique-lrId`' />\n<parameter name='label-start' value='`$label-restriction.label-start.te-label-tpn`' />\n<parameter name='label-end' value='`$label-restriction.label-end.te-label-tpn`' />\n<parameter name='range-bitmap' value='`$label-restriction.range-bitmap`' />\n<parameter name='label-step' value='`$label-restriction.label-step`' />\n<parameter name='inclusive-exclusive' value='`$label-restriction.inclusive-exclusive`' />\n",
        "comments": "",
        "outputs": 1,
        "x": 2300.370849609375,
        "y": 765.444580078125,
        "z": "11329427.2301e4",
        "wires": [
            [
                "adaa1c19.7064b",
                "85c8d180.3fabc"
            ]
        ]
    },
    {
        "id": "f48b8987.2973f8",
        "type": "set",
        "name": "set more local variables",
        "xml": "<set>\n<parameter name='unique-linkId' value=\"`'networkId-' + $unique-networkId + '-linkId-' + $link.link-id`\" />\n<parameter name='src-tpId' value=\"`'networkId-' + $unique-networkId + '-nodeId-' + $link.source.source-node + '-ltpId-' + $link.source.source-tp`\" />\n<parameter name='unique-src-node-Id' value=\"`'networkId-' + $unique-networkId + '-nodeId-' + $link.source.source-node`\" />\n",
        "comments": "",
        "x": 544,
        "y": 180,
        "z": "11329427.2301e4",
        "wires": []
    },
    {
        "id": "aa54070.82178f8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1486,
        "y": 93,
        "z": "11329427.2301e4",
        "wires": [
            []
        ]
    },
    {
        "id": "56d01481.fc3d34",
        "type": "switchNode",
        "name": "switch inter-domain-plug-id of the src tp",
        "xml": "<switch test='`$tmp.aai.p-interface.inter-domain-plug-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1636,
        "y": 173,
        "z": "11329427.2301e4",
        "wires": [
            [
                "21fe7bc0.8046c4",
                "ad83b45.12739c8"
            ]
        ]
    },
    {
        "id": "21fe7bc0.8046c4",
        "type": "outcome",
        "name": "Null",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 1866,
        "y": 120,
        "z": "11329427.2301e4",
        "wires": [
            [
                "82a5af1.d5baf5"
            ]
        ]
    },
    {
        "id": "ad83b45.12739c8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1870,
        "y": 193,
        "z": "11329427.2301e4",
        "wires": [
            [
                "67c0b205.d4f6ec"
            ]
        ]
    },
    {
        "id": "82a5af1.d5baf5",
        "type": "set",
        "name": "unset is-open-ended-link",
        "xml": "<set>\n<parameter name='is-open-ended-link' value='false' />\n<parameter name='is-invalid-open-ended-link' value='true' />\n\n",
        "comments": "",
        "x": 2054,
        "y": 116,
        "z": "11329427.2301e4",
        "wires": []
    },
    {
        "id": "6944be1e.90178",
        "type": "save",
        "name": "delete logical-link",
        "xml": "<delete plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"logical-link\" \n\tkey=\"logical-link.link-name = $tmp.link-name\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 2035,
        "y": 65,
        "z": "11329427.2301e4",
        "wires": [
            []
        ]
    },
    {
        "id": "37181089.2d209",
        "type": "set",
        "name": "unset network link's local variables",
        "xml": "<set>\n<parameter name='link.' value='' />\n<parameter name='dst-tpId' value='' />\n<parameter name='unique-dst-node-Id' value='' />\n<parameter name='is-open-ended-link' value='false' />\n<parameter name='is-invalid-open-ended-link' value='false' />\n\n",
        "comments": "",
        "x": 572,
        "y": 72,
        "z": "11329427.2301e4",
        "wires": []
    },
    {
        "id": "d1dc92f0.18d3d",
        "type": "switchNode",
        "name": "switch is-invalid-open-ended-link",
        "xml": "<switch test='`$is-invalid-open-ended-link`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 662,
        "y": 1188,
        "z": "11329427.2301e4",
        "wires": [
            [
                "927f7161.cc38b",
                "df6ba571.497fe8"
            ]
        ]
    },
    {
        "id": "df6ba571.497fe8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 869,
        "y": 1156,
        "z": "11329427.2301e4",
        "wires": [
            [
                "fabfad0b.ca8968"
            ]
        ]
    },
    {
        "id": "927f7161.cc38b",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 866,
        "y": 1216,
        "z": "11329427.2301e4",
        "wires": [
            [
                "a65d4fc9.cbb8f8"
            ]
        ]
    },
    {
        "id": "fabfad0b.ca8968",
        "type": "save",
        "name": "save source only",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='logical-link:relationship-list' \n      key='logical-link.link-name = $unique-linkId' force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"p-interface\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/pnfs/pnf/' + $unique-src-node-Id + '/p-interfaces/p-interface/' + $src-tpId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"p-interface.interface-name\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$src-tpId`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1049,
        "y": 1155,
        "z": "11329427.2301e4",
        "wires": [
            []
        ]
    },
    {
        "id": "19677d78.14b74b",
        "type": "switchNode",
        "name": "switch relationship-list_length",
        "xml": "<switch test='`$tmp.aai.logical-link.relationship-list_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1378,
        "y": 345,
        "z": "11329427.2301e4",
        "wires": [
            [
                "d7971422.333fa8",
                "18cbfa68.3dd856",
                "31f7a610.b076e2"
            ]
        ]
    },
    {
        "id": "aa6b17d7.21416",
        "type": "switchNode",
        "name": "switch relationship-list_length != $src-tpId",
        "xml": "<switch test='`$tmp.aai.logical-link.relationship-list.relationship[0].relationship-data[1].relationship-value != $src-tpId`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1829,
        "y": 359,
        "z": "11329427.2301e4",
        "wires": [
            [
                "b03e88ee.6fe68"
            ]
        ]
    },
    {
        "id": "d7971422.333fa8",
        "type": "outcome",
        "name": "0",
        "xml": "<outcome value='0'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1596,
        "y": 304,
        "z": "11329427.2301e4",
        "wires": [
            [
                "33af6da8.d2ef82"
            ]
        ]
    },
    {
        "id": "18cbfa68.3dd856",
        "type": "outcome",
        "name": "1",
        "xml": "<outcome value='1'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1593,
        "y": 341,
        "z": "11329427.2301e4",
        "wires": [
            [
                "aa6b17d7.21416"
            ]
        ]
    },
    {
        "id": "31f7a610.b076e2",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1603,
        "y": 415,
        "z": "11329427.2301e4",
        "wires": [
            [
                "6e8cc864.7485f8"
            ]
        ]
    },
    {
        "id": "6e8cc864.7485f8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1740,
        "y": 416,
        "z": "11329427.2301e4",
        "wires": [
            [
                "899a17e9.aedab8"
            ]
        ]
    },
    {
        "id": "33af6da8.d2ef82",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1738,
        "y": 312,
        "z": "11329427.2301e4",
        "wires": [
            [
                "af13ae20.bebac"
            ]
        ]
    },
    {
        "id": "f2821395.fcaa08",
        "type": "switchNode",
        "name": "switch is-invalid-open-ended-link",
        "xml": "<switch test='`$is-invalid-open-ended-link`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 439,
        "y": 569,
        "z": "11329427.2301e4",
        "wires": [
            [
                "9c119bdb.5496e8",
                "d08739e0.57fa3"
            ]
        ]
    },
    {
        "id": "d08739e0.57fa3",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 646,
        "y": 537,
        "z": "11329427.2301e4",
        "wires": [
            [
                "1951ba10.65f9fe"
            ]
        ]
    },
    {
        "id": "9c119bdb.5496e8",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 643,
        "y": 597,
        "z": "11329427.2301e4",
        "wires": [
            [
                "52680ac9.74c6bc"
            ]
        ]
    },
    {
        "id": "1951ba10.65f9fe",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 797,
        "y": 537,
        "z": "11329427.2301e4",
        "wires": [
            []
        ]
    },
    {
        "id": "cdc97515.c97b28",
        "type": "save",
        "name": "save source and dest TP",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='logical-link:relationship-list' \n      key='logical-link.link-name = $unique-linkId' force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"p-interface\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/pnfs/pnf/' + $unique-src-node-Id + '/p-interfaces/p-interface/' + $src-tpId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"p-interface.interface-name\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$src-tpId`\" />\n\n<parameter name=\"relationship-list.relationship[1].related-to\" value=\"p-interface\" />\n<parameter name=\"relationship-list.relationship[1].related-link\" value=\"`'/network/pnfs/pnf/' + $unique-dst-node-Id + '/p-interfaces/p-interface/' + $dst-tpId`\" />\n<parameter name=\"relationship-list.relationship[1].relationship-data[0].relationship-key\" value=\"p-interface.interface-name\" />\n<parameter name=\"relationship-list.relationship[1].relationship-data[0].relationship-value\" value=\"`$dst-tpId`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1064,
        "y": 859,
        "z": "11329427.2301e4",
        "wires": [
            []
        ]
    },
    {
        "id": "b03e88ee.6fe68",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2076,
        "y": 350,
        "z": "11329427.2301e4",
        "wires": [
            []
        ]
    },
    {
        "id": "57515da6.acd334",
        "type": "record",
        "name": "log file",
        "xml": " <record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n    <parameter name=\"file\" value=\"/opt/onap/logTopologyDiscovery.txt\" />\n    <parameter name=\"field1\" value=\"__TIMESTAMP__\" />\n    <parameter name=\"field2\" value=\"uniqueLinkId\" />\n    <parameter name=\"field3\" value=\"`$unique-linkId`\" />\n    <parameter name=\"field4\" value=\"srcTpId\" />\n    <parameter name=\"field5\" value=\"`$src-tpId`\" />\n    <parameter name=\"field6\" value=\"dstTpId\" />\n    <parameter name=\"field7\" value=\"`$dst-tpId`\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 1009,
        "y": 804,
        "z": "11329427.2301e4",
        "wires": [
            []
        ]
    },
    {
        "id": "7e55092c.663d38",
        "type": "set",
        "name": "unset tmp.aai.p-interface",
        "xml": "<set>\n<parameter name='tmp.aai.p-interface' value='' />\n<parameter name='tmp.aai.p-interface.inter-domain-plug-id' value='' />\n\n",
        "comments": "",
        "x": 1152,
        "y": 134,
        "z": "11329427.2301e4",
        "wires": []
    },
    {
        "id": "4b963b57.e5bedc",
        "type": "record",
        "name": "log file",
        "xml": " <record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n    <parameter name=\"file\" value=\"/opt/onap/logMerge.txt\" />\n    <parameter name=\"field1\" value=\"__TIMESTAMP__\" />\n    <parameter name=\"field2\" value=\"altUniqueLinkId\" />\n    <parameter name=\"field3\" value=\"`$alt-unique-linkId`\" />\n    <parameter name=\"field4\" value=\"srcTpId\" />\n    <parameter name=\"field5\" value=\"`$src-tpId`\" />\n    <parameter name=\"field6\" value=\"relationship-value\" />\n    <parameter name=\"field7\" value='`$tmp.aai.logical-link.relationship-list.relationship[0].relationship-data[1].relationship-value`' />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 2392,
        "y": 322,
        "z": "11329427.2301e4",
        "wires": [
            []
        ]
    },
    {
        "id": "5326eda4.cd9dac",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2068,
        "y": 567,
        "z": "11329427.2301e4",
        "wires": [
            [
                "4b963b57.e5bedc",
                "922e1b5e.413f38",
                "a18dc6ab.ac0e98",
                "6723873e.80324"
            ]
        ]
    },
    {
        "id": "b261d13e.1146f",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2806,
        "y": 388,
        "z": "11329427.2301e4",
        "wires": [
            [
                "9a2a7ebb.6f02f"
            ]
        ]
    },
    {
        "id": "acda2064.208dd8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2813.6785888671875,
        "y": 447.2143249511719,
        "z": "11329427.2301e4",
        "wires": [
            [
                "693b3172.16e028"
            ]
        ]
    },
    {
        "id": "9a2a7ebb.6f02f",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2954,
        "y": 383,
        "z": "11329427.2301e4",
        "wires": [
            [
                "24d0b2c2.21a89e"
            ]
        ]
    },
    {
        "id": "24d0b2c2.21a89e",
        "type": "record",
        "name": "log file",
        "xml": " <record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n    <parameter name=\"file\" value=\"/opt/onap/logMergeSuccess.txt\" />\n    <parameter name=\"field1\" value=\"__TIMESTAMP__\" />\n    <parameter name=\"field2\" value=\"altUniqueLinkId\" />\n    <parameter name=\"field3\" value=\"`$alt-unique-linkId`\" />\n    <parameter name=\"field4\" value=\"srcTpId\" />\n    <parameter name=\"field5\" value=\"`$src-tpId`\" />\n    <parameter name=\"field6\" value=\"relationship-value\" />\n    <parameter name=\"field7\" value='`$tmp.aai.logical-link.relationship-list.relationship[0].relationship-data[1].relationship-value`' />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 3099,
        "y": 383,
        "z": "11329427.2301e4",
        "wires": [
            []
        ]
    },
    {
        "id": "693b3172.16e028",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2961,
        "y": 445,
        "z": "11329427.2301e4",
        "wires": [
            [
                "cbdf69e4.857a38"
            ]
        ]
    },
    {
        "id": "af13ae20.bebac",
        "type": "record",
        "name": "log file",
        "xml": " <record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n    <parameter name=\"file\" value=\"/opt/onap/logNoRelationship.txt\" />\n    <parameter name=\"field1\" value=\"__TIMESTAMP__\" />\n    <parameter name=\"field2\" value=\"noRelationshipForLink:\" />\n    <parameter name=\"field3\" value=\"`$tmp.aai.logical-link.link-name`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1874,
        "y": 310,
        "z": "11329427.2301e4",
        "wires": [
            []
        ]
    },
    {
        "id": "899a17e9.aedab8",
        "type": "record",
        "name": "log file",
        "xml": " <record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n    <parameter name=\"file\" value=\"/opt/onap/logNoRelationship.txt\" />\n    <parameter name=\"field1\" value=\"__TIMESTAMP__\" />\n    <parameter name=\"field2\" value=\"moreThanOneRelationshipForLink:\" />\n    <parameter name=\"field3\" value=\"`$tmp.aai.logical-link.link-name`\" />\n    <parameter name=\"field4\" value=\"HowMany:\" />\n    <parameter name=\"field5\" value=\"`$tmp.aai.logical-link.relationship-list_length`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1885,
        "y": 425,
        "z": "11329427.2301e4",
        "wires": [
            []
        ]
    },
    {
        "id": "cbdf69e4.857a38",
        "type": "record",
        "name": "log file",
        "xml": " <record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n    <parameter name=\"file\" value=\"/opt/onap/logMergeFailure.txt\" />\n    <parameter name=\"field1\" value=\"__TIMESTAMP__\" />\n    <parameter name=\"field2\" value=\"altUniqueLinkId\" />\n    <parameter name=\"field3\" value=\"`$alt-unique-linkId`\" />\n    <parameter name=\"field4\" value=\"srcTpId\" />\n    <parameter name=\"field5\" value=\"`$src-tpId`\" />\n    <parameter name=\"field6\" value=\"relationship-value\" />\n    <parameter name=\"field7\" value='`$tmp.aai.logical-link.relationship-list.relationship[0].relationship-data[1].relationship-value`' />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 3106,
        "y": 445,
        "z": "11329427.2301e4",
        "wires": [
            []
        ]
    },
    {
        "id": "57ae4e2f.8a93c8",
        "type": "other",
        "name": "Null",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 1420,
        "y": 874,
        "z": "11329427.2301e4",
        "wires": [
            [
                "9036593c.1672f"
            ]
        ]
    },
    {
        "id": "7f343bab.e4c8cc",
        "type": "outcome",
        "name": "length 0",
        "xml": "<outcome value='0'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1422,
        "y": 922,
        "z": "11329427.2301e4",
        "wires": [
            [
                "9036593c.1672f"
            ]
        ]
    },
    {
        "id": "22cb05f1.da2172",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1419,
        "y": 976,
        "z": "11329427.2301e4",
        "wires": [
            [
                "8fd33aa8.985138"
            ]
        ]
    },
    {
        "id": "9036593c.1672f",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1575,
        "y": 874,
        "z": "11329427.2301e4",
        "wires": [
            []
        ]
    },
    {
        "id": "57d29a3c.fe54c4",
        "type": "switchNode",
        "name": "switch te-link-attributes label-restriction_length",
        "xml": "<switch test='`$link.te.te-link-attributes.label-restriction_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1601,
        "y": 767,
        "z": "11329427.2301e4",
        "wires": [
            [
                "681fa8f6.5d2f28",
                "ec4baaa9.ef82",
                "7ddd884.112ddf8"
            ]
        ]
    },
    {
        "id": "681fa8f6.5d2f28",
        "type": "other",
        "name": "Null",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 1873,
        "y": 677,
        "z": "11329427.2301e4",
        "wires": [
            [
                "ef3a31b6.0b2b58"
            ]
        ]
    },
    {
        "id": "ef3a31b6.0b2b58",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2028,
        "y": 677,
        "z": "11329427.2301e4",
        "wires": [
            []
        ]
    },
    {
        "id": "ec4baaa9.ef82",
        "type": "outcome",
        "name": "length 0",
        "xml": "<outcome value='0'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1875,
        "y": 725,
        "z": "11329427.2301e4",
        "wires": [
            [
                "ef3a31b6.0b2b58"
            ]
        ]
    },
    {
        "id": "7ddd884.112ddf8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1874,
        "y": 776,
        "z": "11329427.2301e4",
        "wires": [
            [
                "19afd467.bf4a8c"
            ]
        ]
    },
    {
        "id": "667c042d.d704cc",
        "type": "set",
        "name": "unset label-restriction's local variables",
        "xml": "<set>\n<parameter name='label-restriction.' value='' />\n<parameter name='unique-lrId' value=\"\" />\n",
        "comments": "",
        "x": 2355,
        "y": 603,
        "z": "11329427.2301e4",
        "wires": []
    },
    {
        "id": "1f83fd3d.b74253",
        "type": "set",
        "name": "unset label-restriction's local variables",
        "xml": "<set>\n<parameter name='label-restriction.' value='' />\n<parameter name='unique-lrId' value=\"\" />\n",
        "comments": "",
        "x": 1909,
        "y": 830,
        "z": "11329427.2301e4",
        "wires": []
    },
    {
        "id": "a18dc6ab.ac0e98",
        "type": "switchNode",
        "name": "switch te-link-attributes label-restriction_length",
        "xml": "<switch test='`$link.te.te-link-attributes.label-restriction_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2693,
        "y": 554,
        "z": "11329427.2301e4",
        "wires": [
            [
                "22753c60.a6d58c",
                "56afa73f.b3618",
                "2c831306.1c7d44"
            ]
        ]
    },
    {
        "id": "22753c60.a6d58c",
        "type": "other",
        "name": "Null",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 2963,
        "y": 516,
        "z": "11329427.2301e4",
        "wires": [
            [
                "ee39387a.68929"
            ]
        ]
    },
    {
        "id": "ee39387a.68929",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3118,
        "y": 516,
        "z": "11329427.2301e4",
        "wires": [
            []
        ]
    },
    {
        "id": "56afa73f.b3618",
        "type": "outcome",
        "name": "length 0",
        "xml": "<outcome value='0'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2965,
        "y": 564,
        "z": "11329427.2301e4",
        "wires": [
            [
                "ee39387a.68929"
            ]
        ]
    },
    {
        "id": "2c831306.1c7d44",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2964,
        "y": 615,
        "z": "11329427.2301e4",
        "wires": [
            [
                "37acde41.902402"
            ]
        ]
    },
    {
        "id": "37acde41.902402",
        "type": "for",
        "name": "for each label-restriction",
        "xml": "<for index='tidx' start='0' end='`$link.te.te-link-attributes.label-restriction_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3149,
        "y": 615,
        "z": "11329427.2301e4",
        "wires": [
            [
                "322257af.c0621",
                "a96bc34a.edf08",
                "85a3ce07.1ccf48",
                "6745622e.a105dc",
                "81205454.92f138",
                "22ab235a.53f29c"
            ]
        ]
    },
    {
        "id": "85a3ce07.1ccf48",
        "type": "set",
        "name": "unset label-restriction's local variables",
        "xml": "<set>\n<parameter name='label-restriction.' value='' />\n<parameter name='unique-lrId' value=\"\" />\n",
        "comments": "",
        "x": 3447,
        "y": 430,
        "z": "11329427.2301e4",
        "wires": []
    },
    {
        "id": "322257af.c0621",
        "type": "set",
        "name": "set label-restriction's local variables",
        "xml": "<set>\n<parameter name='label-restriction.' value='`$link.te.te-link-attributes.label-restriction[$tidx].`' />\n",
        "comments": "",
        "x": 3436.6669921875,
        "y": 476.88897705078125,
        "z": "11329427.2301e4",
        "wires": []
    },
    {
        "id": "a96bc34a.edf08",
        "type": "update",
        "name": "save label-restriction",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='label-restriction' \n      key='label-restriction.id = $unique-lrId' >      \n<parameter name='id' value='`$unique-lrId`' />\n<parameter name='label-start' value='`$label-restriction.label-start.te-label-tpn`' />\n<parameter name='label-end' value='`$label-restriction.label-end.te-label-tpn`' />\n<parameter name='range-bitmap' value='`$label-restriction.range-bitmap`' />\n<parameter name='label-step' value='`$label-restriction.label-step`' />\n<parameter name='inclusive-exclusive' value='`$label-restriction.inclusive-exclusive`' />\n",
        "comments": "",
        "outputs": 1,
        "x": 3390.370849609375,
        "y": 604.444580078125,
        "z": "11329427.2301e4",
        "wires": [
            [
                "e2988e4e.9965d8",
                "7f7d13.46dcb2ec"
            ]
        ]
    },
    {
        "id": "d0f09020.f9dd48",
        "type": "save",
        "name": "save link relationship to label-restriction in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='logical-link:relationship-list' \n      key='logical-link.link-name = $alt-unique-linkId' force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"label-restriction\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/label-restrictions/label-restriction/' + $unique-lrId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"label-restriction.id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$unique-lrId`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3464.5556640625,
        "y": 788.888916015625,
        "z": "11329427.2301e4",
        "wires": [
            []
        ]
    },
    {
        "id": "e2988e4e.9965d8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3581.0555419921875,
        "y": 572.635009765625,
        "z": "11329427.2301e4",
        "wires": [
            [
                "fbf9ca41.08cd48"
            ]
        ]
    },
    {
        "id": "7f7d13.46dcb2ec",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3588.734130859375,
        "y": 631.8493347167969,
        "z": "11329427.2301e4",
        "wires": [
            [
                "84622b72.0f60f8"
            ]
        ]
    },
    {
        "id": "fbf9ca41.08cd48",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3741.5556640625,
        "y": 571.8889465332031,
        "z": "11329427.2301e4",
        "wires": [
            []
        ]
    },
    {
        "id": "84622b72.0f60f8",
        "type": "update",
        "name": "save label-restriction",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='label-restriction' \n      key='label-restriction.id = $unique-lrId' >      \n<parameter name='id' value='`$unique-lrId`' />\n<parameter name='label-start' value='`$label-restriction.label-start.te-label-tpn`' />\n<parameter name='label-end' value='`$label-restriction.label-end.te-label-tpn`' />\n<parameter name='range-bitmap' value='`$label-restriction.range-bitmap`' />\n<parameter name='label-step' value='`$label-restriction.label-step`' />\n<parameter name='inclusive-exclusive' value='`$label-restriction.inclusive-exclusive`' />\n",
        "comments": "",
        "outputs": 1,
        "x": 3772.5556640625,
        "y": 631.8889465332031,
        "z": "11329427.2301e4",
        "wires": [
            []
        ]
    },
    {
        "id": "6745622e.a105dc",
        "type": "set",
        "name": "set label-restriction's local variables",
        "xml": "<set>\n<parameter name='unique-lrId' value=\"`$alt-unique-linkId + '-lrId-' + $label-restriction.index`\" />\n",
        "comments": "",
        "x": 3437,
        "y": 526,
        "z": "11329427.2301e4",
        "wires": []
    },
    {
        "id": "1b0b9ceb.8ee5ab",
        "type": "set",
        "name": "set label-restriction's local variables",
        "xml": "<set>\n<parameter name='unique-lrId' value=\"`$alt-unique-linkId + '-lrId-' + $label-restriction.index`\" />\n",
        "comments": "",
        "x": 2351,
        "y": 695,
        "z": "11329427.2301e4",
        "wires": []
    },
    {
        "id": "db4d2563.f4f978",
        "type": "set",
        "name": "set label-restriction's local variables",
        "xml": "<set>\n<parameter name='label-restriction.' value='`$link.te.te-link-attributes.label-restriction[$tidx].`' />\n",
        "comments": "",
        "x": 1906,
        "y": 882,
        "z": "11329427.2301e4",
        "wires": []
    },
    {
        "id": "43ca3bbb.8af21c",
        "type": "update",
        "name": "save te-link-attribute",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='te-link-attribute' \n      key='te-link-attribute.id = $link.te.te-link-attributes.name' >      \n<parameter name='id' value='`$link.te.te-link-attributes.name`' />\n<parameter name='access-type' value='`$link.te.te-link-attributes.access-type`' />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1047,
        "y": 904,
        "z": "11329427.2301e4",
        "wires": [
            []
        ]
    },
    {
        "id": "b8324dab.347198",
        "type": "save",
        "name": "save te-link-attribute relationship to label-restriction",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='te-link-attribute:relationship-list' \n      key='te-link-attribute.id = $link.te.te-link-attributes.name' force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"label-restriction\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/label-restrictions/label-restriction/' + $unique-lrId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"label-restriction.id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$unique-lrId`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1938,
        "y": 1173,
        "z": "11329427.2301e4",
        "wires": [
            []
        ]
    },
    {
        "id": "49c5f91d.be38c8",
        "type": "save",
        "name": "save te-link-attribute relationship to logical-link in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='te-link-attribute:relationship-list' \n      key='te-link-attribute.id = $link.te.te-link-attributes.name' force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"logical-link\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/logical-links/logical-link/' + $unique-linkId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"logical-link.link-name\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$unique-linkId`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1947,
        "y": 1113,
        "z": "11329427.2301e4",
        "wires": [
            []
        ]
    },
    {
        "id": "3f800f5b.cc91f8",
        "type": "update",
        "name": "save te-link-attribute",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='te-link-attribute' \n      key='te-link-attribute.id = $link.te.te-link-attributes.name' >      \n<parameter name='id' value='`$link.te.te-link-attributes.name`' />\n<parameter name='access-type' value='`$link.te.te-link-attributes.access-type`' />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1538,
        "y": 702,
        "z": "11329427.2301e4",
        "wires": [
            []
        ]
    },
    {
        "id": "6723873e.80324",
        "type": "update",
        "name": "update te-link-attribute",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='te-link-attribute' \n      key='te-link-attribute.id = $link.te.te-link-attributes.name' >      \n<parameter name='id' value='`$link.te.te-link-attributes.name`' />\n<parameter name='access-type' value='`$link.te.te-link-attributes.access-type`' />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2418,
        "y": 487,
        "z": "11329427.2301e4",
        "wires": [
            []
        ]
    },
    {
        "id": "98a97ae5.7ea6d",
        "type": "save",
        "name": "save te-link-attribute relationship to logical-link in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='te-link-attribute:relationship-list' \n      key='te-link-attribute.id = $link.te.te-link-attributes.name' force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"logical-link\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/logical-links/logical-link/' + $alt-unique-linkId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"logical-link.link-name\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$alt-unique-linkId`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2383,
        "y": 833,
        "z": "11329427.2301e4",
        "wires": [
            []
        ]
    },
    {
        "id": "54564b15.ad996c",
        "type": "save",
        "name": "save te-link-attribute relationship to label-restriction",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='te-link-attribute:relationship-list' \n      key='te-link-attribute.id = $link.te.te-link-attributes.name' force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"label-restriction\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/label-restrictions/label-restriction/' + $unique-lrId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"label-restriction.id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$unique-lrId`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2376,
        "y": 879,
        "z": "11329427.2301e4",
        "wires": [
            []
        ]
    },
    {
        "id": "22ab235a.53f29c",
        "type": "save",
        "name": "save te-link-attribute relationship to label-restriction",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='te-link-attribute:relationship-list' \n      key='te-link-attribute.id = $link.te.te-link-attributes.name' force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"label-restriction\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/label-restrictions/label-restriction/' + $unique-lrId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"label-restriction.id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$unique-lrId`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3473,
        "y": 731,
        "z": "11329427.2301e4",
        "wires": [
            []
        ]
    },
    {
        "id": "81205454.92f138",
        "type": "save",
        "name": "save te-link-attribute relationship to logical-link in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='te-link-attribute:relationship-list' \n      key='te-link-attribute.id = $link.te.te-link-attributes.name' force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"logical-link\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/logical-links/logical-link/' + $alt-unique-linkId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"logical-link.link-name\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$alt-unique-linkId`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3480,
        "y": 685,
        "z": "11329427.2301e4",
        "wires": [
            []
        ]
    }
]