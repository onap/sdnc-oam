[
    {
        "id": "36e96ed4.41d832",
        "type": "other",
        "name": "update",
        "xml": "<outcome value='Update'>\n",
        "comments": "",
        "outputs": 1,
        "x": 665.5,
        "y": 329,
        "z": "35b097d7.5fa018",
        "wires": [
            [
                "8acc6f21.be6fc8"
            ]
        ]
    },
    {
        "id": "6f06aa61.f248ec",
        "type": "other",
        "name": "delete",
        "xml": "<outcome value='delete'>\n",
        "comments": "",
        "outputs": 1,
        "x": 665.5,
        "y": 409,
        "z": "35b097d7.5fa018",
        "wires": [
            [
                "a603632c.68bff"
            ]
        ]
    },
    {
        "id": "a603632c.68bff",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 807,
        "y": 409,
        "z": "35b097d7.5fa018",
        "wires": [
            []
        ]
    },
    {
        "id": "68bed413.930adc",
        "type": "comment",
        "name": "TODO: Delete topology from AAI",
        "info": "",
        "comments": "",
        "x": 739.8335189819336,
        "y": 376.96899485588074,
        "z": "35b097d7.5fa018",
        "wires": []
    },
    {
        "id": "50de7689.c1ed4",
        "type": "switchNode",
        "name": "switch aai-event-trigger",
        "xml": "<switch test=\"`$data-change-notification-input.aai-event-trigger`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 496,
        "y": 369,
        "z": "35b097d7.5fa018",
        "wires": [
            [
                "36e96ed4.41d832",
                "6f06aa61.f248ec"
            ]
        ]
    },
    {
        "id": "e12b7948.8a8be",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1193,
        "y": 240,
        "z": "35b097d7.5fa018",
        "wires": [
            [
                "484845a5.2238e4",
                "4e058d3f.ebbc8c",
                "19259d76.96fc3b",
                "ac66ccfd.381a88",
                "da47859b.4ec77"
            ]
        ]
    },
    {
        "id": "4e058d3f.ebbc8c",
        "type": "execute",
        "name": "execute RestApiCallNode Get token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/actokentemplate.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/v2/tokens'`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"token-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1466.0001983642578,
        "y": 161.00000953674316,
        "z": "35b097d7.5fa018",
        "wires": [
            [
                "916502a3.877388",
                "e44e3e68.a49fd8"
            ]
        ]
    },
    {
        "id": "916502a3.877388",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1755.500244140625,
        "y": 153,
        "z": "35b097d7.5fa018",
        "wires": [
            [
                "a8c3cc1.f5d4bb"
            ]
        ]
    },
    {
        "id": "e44e3e68.a49fd8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1751.500244140625,
        "y": 193,
        "z": "35b097d7.5fa018",
        "wires": [
            [
                "e40e8527.2ee67"
            ]
        ]
    },
    {
        "id": "a8c3cc1.f5d4bb",
        "type": "set",
        "name": "set token-id",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.token_id' value='`$token-result.data.token_id`' />\n",
        "comments": "",
        "x": 1906.000244140625,
        "y": 153,
        "z": "35b097d7.5fa018",
        "wires": []
    },
    {
        "id": "f1eb21a4.8d1378",
        "type": "execute",
        "name": "execute RestApiCallNode Get Topology",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"get\"/>\n<parameter name=\"responsePrefix\" value=\"topology\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1973.000244140625,
        "y": 273,
        "z": "35b097d7.5fa018",
        "wires": [
            [
                "8660dd2a.bc5478",
                "f7ff1324.a58c28"
            ]
        ]
    },
    {
        "id": "8660dd2a.bc5478",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2215.500244140625,
        "y": 293,
        "z": "35b097d7.5fa018",
        "wires": [
            [
                "73cb768c.3647e"
            ]
        ]
    },
    {
        "id": "73cb768c.3647e",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2373.000244140625,
        "y": 293,
        "z": "35b097d7.5fa018",
        "wires": [
            [
                "92b164bb.975a38"
            ]
        ]
    },
    {
        "id": "33371bb9.421c84",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n <parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create vpn rest api\" />\n",
        "comments": "",
        "x": 2349.500244140625,
        "y": 193,
        "z": "35b097d7.5fa018",
        "wires": []
    },
    {
        "id": "f7ff1324.a58c28",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2211.500244140625,
        "y": 193,
        "z": "35b097d7.5fa018",
        "wires": [
            [
                "33371bb9.421c84"
            ]
        ]
    },
    {
        "id": "ea734627.c2c7d8",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 118.5,
        "y": 104,
        "z": "35b097d7.5fa018",
        "wires": [
            [
                "89ca9d8b.bbc328"
            ]
        ]
    },
    {
        "id": "89ca9d8b.bbc328",
        "type": "service-logic",
        "name": "DataChange ${project.version}",
        "module": "DataChange",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='DataChange' version='${project.version}'>",
        "outputs": 1,
        "x": 131.5,
        "y": 164,
        "z": "35b097d7.5fa018",
        "wires": [
            [
                "789b0d9d.02f75c"
            ]
        ]
    },
    {
        "id": "789b0d9d.02f75c",
        "type": "method",
        "name": "method esr-thirdparty-sdnc-discovery",
        "xml": "<method rpc='esr-thirdparty-sdnc-discovery' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 151.5,
        "y": 244,
        "z": "35b097d7.5fa018",
        "wires": [
            [
                "19dd5973.ca5fbf"
            ]
        ]
    },
    {
        "id": "19dd5973.ca5fbf",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 399,
        "y": 244,
        "z": "35b097d7.5fa018",
        "wires": [
            [
                "72476c1.b3cb514"
            ]
        ]
    },
    {
        "id": "92b164bb.975a38",
        "type": "for",
        "name": "for each Network",
        "xml": "<for index='nidx' start='0' end='`$topology.networks.network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1799.000259399414,
        "y": 392.00001525878906,
        "z": "35b097d7.5fa018",
        "wires": [
            [
                "a33c6916.e2063"
            ]
        ]
    },
    {
        "id": "a33c6916.e2063",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1947.500259399414,
        "y": 392.00001525878906,
        "z": "35b097d7.5fa018",
        "wires": [
            [
                "70a92c18.3741ec",
                "6196a44a.543cec"
            ]
        ]
    },
    {
        "id": "70a92c18.3741ec",
        "type": "call",
        "name": "call update-network-to-aai",
        "xml": "<call module='DataChange' rpc='update-network-to-aai' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2126.500259399414,
        "y": 412.00001525878906,
        "z": "35b097d7.5fa018",
        "wires": [
            []
        ]
    },
    {
        "id": "6196a44a.543cec",
        "type": "set",
        "name": "set network",
        "xml": "<set>\n<parameter name='network.' value='`$topology.networks.network[$nidx].`' />\n",
        "comments": "",
        "x": 2081.500259399414,
        "y": 372.00001525878906,
        "z": "35b097d7.5fa018",
        "wires": []
    },
    {
        "id": "e40e8527.2ee67",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1871.500244140625,
        "y": 193,
        "z": "35b097d7.5fa018",
        "wires": [
            []
        ]
    },
    {
        "id": "984ef742.f7de98",
        "type": "comment",
        "name": "Do Nothing",
        "info": "",
        "comments": "",
        "x": 2041.500244140625,
        "y": 233,
        "z": "35b097d7.5fa018",
        "wires": []
    },
    {
        "id": "4308651d.5eb474",
        "type": "switchNode",
        "name": "switch type",
        "xml": "<switch test=\"`$prop.sdncRestApi.type`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 918.5,
        "y": 329,
        "z": "35b097d7.5fa018",
        "wires": [
            [
                "98c19260.813238",
                "3ccd2719.ec5e88",
                "c0dd9c59.c4eff8",
                "4451a4e9.723244"
            ]
        ]
    },
    {
        "id": "8acc6f21.be6fc8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 785.5,
        "y": 329,
        "z": "35b097d7.5fa018",
        "wires": [
            [
                "4308651d.5eb474"
            ]
        ]
    },
    {
        "id": "98c19260.813238",
        "type": "other",
        "name": "SOTN",
        "xml": "<outcome value='SOTN'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1031.5,
        "y": 240,
        "z": "35b097d7.5fa018",
        "wires": [
            [
                "e12b7948.8a8be"
            ]
        ]
    },
    {
        "id": "3ccd2719.ec5e88",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1033.500087738037,
        "y": 789.0001106262207,
        "z": "35b097d7.5fa018",
        "wires": [
            [
                "f4c76776.724b28"
            ]
        ]
    },
    {
        "id": "f4c76776.724b28",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unsupported type = ' + $prop.sdncRestApi.type`\" />\n\n",
        "comments": "",
        "x": 1183.5000610351562,
        "y": 785.0000972747803,
        "z": "35b097d7.5fa018",
        "wires": []
    },
    {
        "id": "484845a5.2238e4",
        "type": "execute",
        "name": "execute Properties",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
        "comments": "",
        "outputs": 1,
        "x": 1412.5001983642578,
        "y": 121.00000953674316,
        "z": "35b097d7.5fa018",
        "wires": [
            []
        ]
    },
    {
        "id": "19259d76.96fc3b",
        "type": "switchNode",
        "name": "switch prop.sdncRestApi.token_id",
        "xml": "<switch test=\"`$prop.sdncRestApi.token_id`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 1459.0001983642578,
        "y": 241.00000953674316,
        "z": "35b097d7.5fa018",
        "wires": [
            [
                "2313a899.da913",
                "531d5829.4a09a8"
            ]
        ]
    },
    {
        "id": "2313a899.da913",
        "type": "other",
        "name": "Null",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 1751.500244140625,
        "y": 233,
        "z": "35b097d7.5fa018",
        "wires": [
            [
                "c60b8cf4.53a21"
            ]
        ]
    },
    {
        "id": "531d5829.4a09a8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1751.500244140625,
        "y": 273,
        "z": "35b097d7.5fa018",
        "wires": [
            [
                "f1eb21a4.8d1378"
            ]
        ]
    },
    {
        "id": "c60b8cf4.53a21",
        "type": "execute",
        "name": "execute RestApiCallNode Get Topology",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"get\"/>\n<parameter name=\"responsePrefix\" value=\"topology\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1973.000244140625,
        "y": 233,
        "z": "35b097d7.5fa018",
        "wires": [
            [
                "f7ff1324.a58c28",
                "8660dd2a.bc5478"
            ]
        ]
    },
    {
        "id": "da47859b.4ec77",
        "type": "execute",
        "name": "execute RestconfDiscoveryNode",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restconfdiscovery.RestconfDiscoveryNode' method='establishSubscription' >\n<parameter name=\"subscriberId\" value=\"sotn-controller\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/operations/ietf-subscribed-notifications:establish-subscription'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"sseConnectURL\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/streams/yang-push-json'`\" />\n<parameter name=\"dirPath\" value=\"/opt/sdnc/restconfapi/yang/notification\" />\n<parameter name=\"format\" value=\"json\" />\n<parameter name=\"httpMethod\" value=\"post\" />\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />\n<parameter name=\"module\" value=\"DataChange\" />\n<parameter name=\"rpc\" value=\"sotn-notification-handler\" />\n<parameter name=\"mode\" value=\"sync\" />",
        "comments": "",
        "outputs": 1,
        "x": 1455.5001983642578,
        "y": 381.00000953674316,
        "z": "35b097d7.5fa018",
        "wires": [
            []
        ]
    },
    {
        "id": "ac66ccfd.381a88",
        "type": "set",
        "name": "set encoding-format",
        "xml": "<set>\n<parameter name='input' value='ietf-subscribed-notifications:establish-subscription.input.' />\n<parameter name=\"`$input + 'encoding'`\" value=\"encode-json\" />",
        "comments": "",
        "x": 1415.5001983642578,
        "y": 341.00000953674316,
        "z": "35b097d7.5fa018",
        "wires": []
    },
    {
        "id": "fa1a511.33260b",
        "type": "comment",
        "name": "Notification subscription",
        "info": "",
        "comments": "",
        "x": 1420.500343322754,
        "y": 298.00000858306885,
        "z": "35b097d7.5fa018",
        "wires": []
    },
    {
        "id": "72476c1.b3cb514",
        "type": "switchNode",
        "name": "switch",
        "xml": "<switch test=\"`$prop.sdncRestApi.vendor == 'ZTE'`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 105.5,
        "y": 369,
        "z": "35b097d7.5fa018",
        "wires": [
            [
                "7ff38366.3f2f34",
                "18555fe6.542308"
            ]
        ]
    },
    {
        "id": "7ff38366.3f2f34",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 292.5,
        "y": 369,
        "z": "35b097d7.5fa018",
        "wires": [
            [
                "50de7689.c1ed4"
            ]
        ]
    },
    {
        "id": "18555fe6.542308",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 293.5,
        "y": 494,
        "z": "35b097d7.5fa018",
        "wires": [
            [
                "46364a8c.43d47c"
            ]
        ]
    },
    {
        "id": "46364a8c.43d47c",
        "type": "call",
        "name": "call esr-thirdparty-sdnc-of-zte",
        "xml": "<call module='DataChange' rpc='esr-thirdparty-sdnc-of-zte' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 516.5,
        "y": 494,
        "z": "35b097d7.5fa018",
        "wires": [
            []
        ]
    },
    {
        "id": "c0dd9c59.c4eff8",
        "type": "other",
        "name": "TAPI",
        "xml": "<outcome value='TAPI'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1109.5,
        "y": 474,
        "z": "35b097d7.5fa018",
        "wires": [
            [
                "b4761a0a.e9187"
            ]
        ]
    },
    {
        "id": "b4761a0a.e9187",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1272.5,
        "y": 473,
        "z": "35b097d7.5fa018",
        "wires": [
            [
                "5f4972dc.a8c76c"
            ]
        ]
    },
    {
        "id": "5f4972dc.a8c76c",
        "type": "execute",
        "name": "execute",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/cxf/tapi/v2/topologies?topology-id-or-name=otn'`\"/>  \n    <parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\"/>  \n    <parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\"/>  \n    <parameter name=\"format\" value=\"json\"/>  \n    <parameter name=\"httpMethod\" value=\"get\"/>  \n    <parameter name=\"responsePrefix\" value=\"topologies\"/>\n    <parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.tapi.jks\"/>  \n    <parameter name=\"trustStorePassword\" value=\"adminadmin\"/>  \n    <parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>  \n    <parameter name=\"keyStorePassword\" value=\"adminadmin\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1433.5,
        "y": 472,
        "z": "35b097d7.5fa018",
        "wires": [
            [
                "cef3a525.157f48",
                "aa2154d5.57633"
            ]
        ]
    },
    {
        "id": "aa2154d5.57633",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1575.5,
        "y": 548,
        "z": "35b097d7.5fa018",
        "wires": [
            [
                "80d535c0.0a3eb"
            ]
        ]
    },
    {
        "id": "cef3a525.157f48",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1609.5,
        "y": 469,
        "z": "35b097d7.5fa018",
        "wires": [
            [
                "9d726edf.4a00d"
            ]
        ]
    },
    {
        "id": "9d726edf.4a00d",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n <parameter name='ack-final' value='Y'/>\n <parameter name=\"error-code\" value=\"500\" />\n <parameter name=\"error-message\" value=\"Error executing get topology TAPI rest api\" />\n\n",
        "comments": "",
        "x": 1779.5,
        "y": 468,
        "z": "35b097d7.5fa018",
        "wires": []
    },
    {
        "id": "80d535c0.0a3eb",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1736.5,
        "y": 547,
        "z": "35b097d7.5fa018",
        "wires": [
            [
                "73db98e4.daca9"
            ]
        ]
    },
    {
        "id": "73db98e4.daca9",
        "type": "for",
        "name": "for each topology",
        "xml": "<for index='tidx' start='0' end=\"`$topologies.topology_length`\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 1915.5,
        "y": 547,
        "z": "35b097d7.5fa018",
        "wires": [
            [
                "d273e3f9.ce07"
            ]
        ]
    },
    {
        "id": "d273e3f9.ce07",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2082.5,
        "y": 548,
        "z": "35b097d7.5fa018",
        "wires": [
            [
                "e1c04d4.8fe4cb",
                "3d2b44f0.5e96ec"
            ]
        ]
    },
    {
        "id": "e1c04d4.8fe4cb",
        "type": "set",
        "name": "set topology",
        "xml": "<set>\n<parameter name='topology.' value='`$topologies.topology[$tidx].`' />\n",
        "comments": "",
        "x": 2241.5,
        "y": 549,
        "z": "35b097d7.5fa018",
        "wires": []
    },
    {
        "id": "3d2b44f0.5e96ec",
        "type": "call",
        "name": "call tapi-update-network-to-aai",
        "xml": "<call module='DataChange' rpc='tapi-update-network-to-aai' mode='sync' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2232.5,
        "y": 615,
        "z": "35b097d7.5fa018",
        "wires": [
            []
        ]
    },
    {
        "id": "4451a4e9.723244",
        "type": "outcome",
        "name": "MSA",
        "xml": "<outcome value='MSA'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1080.177324295044,
        "y": 630.8993349075317,
        "z": "35b097d7.5fa018",
        "wires": [
            [
                "fe364eaa.3f7b08"
            ]
        ]
    },
    {
        "id": "fe364eaa.3f7b08",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1242.1773872375488,
        "y": 628.899335861206,
        "z": "35b097d7.5fa018",
        "wires": [
            [
                "3e697d7a.72d032"
            ]
        ]
    },
    {
        "id": "3e697d7a.72d032",
        "type": "execute",
        "name": "execute",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/cxf/openroadm/v2/networks/otn-topology'`\"/>  \n    <parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\"/>  \n    <parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\"/>  \n    <parameter name=\"format\" value=\"json\"/>  \n    <parameter name=\"httpMethod\" value=\"get\"/>  \n    <parameter name=\"responsePrefix\" value=\"networks\"/>\n    <parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.msa.jks\"/>  \n    <parameter name=\"trustStorePassword\" value=\"adminadmin\"/>  \n    <parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>  \n    <parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1419.1771354675293,
        "y": 620.8992919921875,
        "z": "35b097d7.5fa018",
        "wires": [
            [
                "65bb501c.2cef98",
                "d2559ee1.0d8548"
            ]
        ]
    },
    {
        "id": "65bb501c.2cef98",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1572.1771354675293,
        "y": 617.8992919921875,
        "z": "35b097d7.5fa018",
        "wires": [
            [
                "6d2f6447.367f94"
            ]
        ]
    },
    {
        "id": "6d2f6447.367f94",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n <parameter name='ack-final' value='Y'/>\n <parameter name=\"error-code\" value=\"500\" />\n <parameter name=\"error-message\" value=\"Error executing get topology MSA rest api\" />\n\n",
        "comments": "",
        "x": 1747.1771354675293,
        "y": 616.8992919921875,
        "z": "35b097d7.5fa018",
        "wires": []
    },
    {
        "id": "d2559ee1.0d8548",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1578.1771354675293,
        "y": 690.8992919921875,
        "z": "35b097d7.5fa018",
        "wires": [
            [
                "81b6558e.8743c"
            ]
        ]
    },
    {
        "id": "81b6558e.8743c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1762.1771354675293,
        "y": 692.8992919921875,
        "z": "35b097d7.5fa018",
        "wires": [
            [
                "4139e8ab.39b6d8"
            ]
        ]
    },
    {
        "id": "4139e8ab.39b6d8",
        "type": "call",
        "name": "call msa-update-network-to-aai",
        "xml": "<call module='DataChange' rpc='msa-update-network-to-aai' mode='sync' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2041.177001953125,
        "y": 690.8992919921875,
        "z": "35b097d7.5fa018",
        "wires": [
            []
        ]
    }
]