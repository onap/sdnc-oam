[
    {
        "id": "5fef1ca7.f76b2c",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 157.99998474121094,
        "y": 199.52428817749023,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "eadd48a2.a47be"
            ]
        ]
    },
    {
        "id": "eadd48a2.a47be",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 271.857120513916,
        "y": 239.33382606506348,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "62584ce7.0a03c4"
            ]
        ]
    },
    {
        "id": "62584ce7.0a03c4",
        "type": "method",
        "name": "method vf-module-topology-operation-assign-async",
        "xml": "<method rpc='vf-module-topology-operation-assign-async' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 271.4286117553711,
        "y": 279.52428817749023,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "f8ca447b.c9d998"
            ]
        ]
    },
    {
        "id": "2675f20c.3ef7c6",
        "type": "comment",
        "name": "vf-module-topology-operation-assign-async",
        "info": "",
        "comments": "",
        "x": 512.0710906982422,
        "y": 117.99999618530273,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "16a1cdd5.b488f2",
        "type": "switchNode",
        "name": "switch request-action",
        "xml": "<switch test='`$vf-module-topology-operation-input.request-information.request-action`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 563.1905059814453,
        "y": 552.5480861663818,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "f6d2c005.1732a",
                "cd49e654.ecead"
            ]
        ]
    },
    {
        "id": "f6d2c005.1732a",
        "type": "outcome",
        "name": "CreateVfModuleInstance",
        "xml": "<outcome value='CreateVfModuleInstance'>\n",
        "comments": "",
        "outputs": 1,
        "x": 833.9881439208984,
        "y": 520.9409618377686,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "eda2626e.eabf58"
            ]
        ]
    },
    {
        "id": "cd49e654.ecead",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 768.9047660827637,
        "y": 585.0719652175903,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "bdff604f.42ef3"
            ]
        ]
    },
    {
        "id": "eda2626e.eabf58",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1023.845308303833,
        "y": 520.940993309021,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "d8c6245c.30876",
        "type": "get-resource",
        "name": "get-resource VF_MODULE_MODEL",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='SELECT * from VF_MODULE_MODEL WHERE customization_uuid = $vf-module-topology-operation-input.vf-module-information.onap-model-information.model-customization-uuid'\n  pfx='db.vf-module-model'>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 610.5237731933594,
        "y": 653.6910400390625,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "9743eae8.547b58",
                "e217d566.35e7b"
            ]
        ]
    },
    {
        "id": "9743eae8.547b58",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 876.3094635009766,
        "y": 634.071870803833,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "a8481a22.9610b"
            ]
        ]
    },
    {
        "id": "e217d566.35e7b",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 884.8808937072754,
        "y": 678.3575839996338,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "12fc934c.3bd04d"
            ]
        ]
    },
    {
        "id": "9f361c75.f7c698",
        "type": "switchNode",
        "name": "switch service-data.vnfs.vnf_length",
        "xml": "<switch test='`$service-data.vnfs.vnf_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 604.369026184082,
        "y": 831.0123996734619,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "496e5a5a.75943c",
                "5e2df781.3cbcc8"
            ]
        ]
    },
    {
        "id": "496e5a5a.75943c",
        "type": "other",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 845.0832977294922,
        "y": 807.1551399230957,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "b40ea227.e7972"
            ]
        ]
    },
    {
        "id": "5e2df781.3cbcc8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 844.8451385498047,
        "y": 849.1076583862305,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "159bdfa5.c6b9b8"
            ]
        ]
    },
    {
        "id": "b209b55a.0520c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 202.94041442871094,
        "y": 3268.9292989969254,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "d765e32e.c6a6c8",
                "e1aa9962.b2cca8",
                "2886552.ce6422a",
                "259e2808.48083",
                "7ffcda81.e6c1cc",
                "4ffa8fa2.c8758",
                "a7369062.c567c8",
                "69d66ce3.f97a5c",
                "2cd2be99.205622",
                "be3b3ee.7ce42c",
                "c19d4ee0.8d77c",
                "bd5d1959.e5b588",
                "353f71d8.b849ee",
                "10740584.685552",
                "8266f367.7a81d",
                "d570eb5d.f5786",
                "f7a15e8.e9d50a",
                "d0512da2.27542",
                "1b32685d.a9d2f",
                "5d0d3a4f.87fd84",
                "33a320c6.b50498",
                "13308bfd.0f2aec",
                "a75def4f.6ee6e",
                "43e6fb56.3aad2c",
                "8ddb6fb6.8a0038",
                "76eaad0d.045934",
                "b55fea55.8a7208",
                "f0a7970e.17889",
                "52376e41.5c3c28",
                "54266176.fdc52",
                "ebdeb223.d9f918",
                "db29530f.c21f7",
                "2f669bfa.b0d904",
                "d6e0298e.3c1e8",
                "d3460755.d852e",
                "d35134f0.fec4d",
                "7916d324.cb3bf4"
            ]
        ]
    },
    {
        "id": "159bdfa5.c6b9b8",
        "type": "for",
        "name": "for each vnf",
        "xml": "<for index='idx' start='0' end='`$service-data.vnfs.vnf_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1007.0832824707031,
        "y": 848.7742767333984,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "d54b095a.77a938"
            ]
        ]
    },
    {
        "id": "d54b095a.77a938",
        "type": "switchNode",
        "name": "switch service data vnf == input vnf",
        "xml": "<switch test='`$service-data.vnfs.vnf[$idx].vnf-id == $vf-module-topology-operation-input.vnf-information.vnf-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1258.4165802001953,
        "y": 848.4410047531128,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "9291a4b4.435ba8"
            ]
        ]
    },
    {
        "id": "9291a4b4.435ba8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1488.416591644287,
        "y": 847.774317741394,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "a2b9ec94.73978"
            ]
        ]
    },
    {
        "id": "3ad4001f.cd4388",
        "type": "set",
        "name": "set vnf-index to -1",
        "xml": "<set>\n<parameter name='vnf-index' value='-1' />\n",
        "comments": "",
        "x": 553.4166488647461,
        "y": 762.4408988952637,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "ffe8620d.4a41a8",
        "type": "set",
        "name": "set vnf-index to idx",
        "xml": "<set>\n<parameter name='vnf-index' value='`$idx`' />\n",
        "comments": "",
        "x": 1810.0832290649414,
        "y": 818.7742757797241,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "b1d0605e.841ca",
        "type": "switchNode",
        "name": "switch vnf-index",
        "xml": "<switch test='`$vnf-index`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 542.1666717529297,
        "y": 914.6075887680054,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "b932b709.8abbb8"
            ]
        ]
    },
    {
        "id": "b932b709.8abbb8",
        "type": "outcome",
        "name": "-1",
        "xml": "<outcome value='-1'>\n",
        "comments": "",
        "outputs": 1,
        "x": 720.500057220459,
        "y": 913.9409646987915,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "5cd79a68.a802ec"
            ]
        ]
    },
    {
        "id": "d765e32e.c6a6c8",
        "type": "switchNode",
        "name": "switch vf-module_length",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 580.0833702087402,
        "y": 1485.357792854309,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "996a7f9b.32041",
                "904da051.0d0538"
            ]
        ]
    },
    {
        "id": "996a7f9b.32041",
        "type": "other",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 837.4643249511719,
        "y": 1452.500566482544,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "4c326b2e.0b59a4"
            ]
        ]
    },
    {
        "id": "4c326b2e.0b59a4",
        "type": "set",
        "name": "set vf-module-index=0",
        "xml": "<set>\n<parameter name='vf-module-index' value='0' />\n",
        "comments": "",
        "x": 1025.0833625793457,
        "y": 1453.1673412322998,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "904da051.0d0538",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 837.8928680419922,
        "y": 1516.7864246368408,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "ba1e98fd.f5e98"
            ]
        ]
    },
    {
        "id": "ee38f883.9fd87",
        "type": "set",
        "name": "set vf-module-index = vf-module_length",
        "xml": "<set>\n<parameter name='vf-module-index' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length`' />\n",
        "comments": "",
        "x": 1223.083408355713,
        "y": 1496.9768199920654,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "e6d36a66.fc6eb",
        "type": "for",
        "name": "for each existing VF module",
        "xml": "<for index='idx' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1182.1785011291504,
        "y": 1541.0720500946045,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "2fd1f627.c02a4a"
            ]
        ]
    },
    {
        "id": "ba1e98fd.f5e98",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 974.6071472167969,
        "y": 1516.7863502502441,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "ee38f883.9fd87",
                "e6d36a66.fc6eb"
            ]
        ]
    },
    {
        "id": "2fd1f627.c02a4a",
        "type": "switchNode",
        "name": "switch vf-module-information.vf-module-id == service-data.vnfs.vnf[].vf-modules.vf-module[].vf-module-id",
        "xml": "<switch test='`$vf-module-topology-operation-input.vf-module-information.vf-module-id == $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1685.7976036071777,
        "y": 1540.643461227417,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "f6ad1e0e.9e6058"
            ]
        ]
    },
    {
        "id": "f6ad1e0e.9e6058",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2128.4166526794434,
        "y": 1540.2149124145508,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "2a30af16.7b82"
            ]
        ]
    },
    {
        "id": "d15dcaa9.4347a8",
        "type": "comment",
        "name": "make sure this VF module doesn't exist already",
        "info": "",
        "comments": "",
        "x": 1712.2499504089355,
        "y": 1495.2709531784058,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "e1aa9962.b2cca8",
        "type": "set",
        "name": "set new vf-module_length",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length' value='`$vf-module-index + 1`' />\n",
        "comments": "",
        "x": 590.7499504089355,
        "y": 1596.357647895813,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "2886552.ce6422a",
        "type": "set",
        "name": "set vf-module-topology data",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-topology-identifier.vf-module-id' value='`$vf-module-topology-operation-input.vf-module-information.vf-module-id`' />\n<parameter name='tmp.vf-module-topology.vf-module-topology-identifier.vf-module-name' value='`$vf-module-topology-operation-input.vf-module-request-input.vf-module-name`' />\n<parameter name='tmp.vf-module-topology.vf-module-topology-identifier.vf-module-type' value='`$vf-module-topology-operation-input.vf-module-information.vf-module-type`' />\n<parameter name='tmp.vf-module-topology.tenant' value='`$vf-module-topology-operation-input.vf-module-request-input.tenant`' />\n<parameter name='tmp.vf-module-topology.aic-cloud-region' value='`$vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region`' />\n",
        "comments": "",
        "x": 597.2499694824219,
        "y": 1708.8577547073364,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "6e9378a9.0367d",
        "type": "set",
        "name": "set aic-clli",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.aic-clli'\n   value='`$aai-uid-split[$aai-uid-split_length - 1]`' />\n",
        "comments": "",
        "x": 1358.2022285461426,
        "y": 1868.0956811904907,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "259e2808.48083",
        "type": "switchNode",
        "name": "switch aic-clli",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.aic-clli`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 557.2498893737793,
        "y": 1982.0480213165283,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "9ac40770.7714b"
            ]
        ]
    },
    {
        "id": "9ac40770.7714b",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 702.5355796813965,
        "y": 1982.048089981079,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "42e790a.f88747"
            ]
        ]
    },
    {
        "id": "7ffcda81.e6c1cc",
        "type": "get-resource",
        "name": "get-resource cloud region",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"cloud-region\" \n\t\tkey=\"cloud-region.cloud-owner = $prop.cloud-region.cloud-owner AND \n\t\t     cloud-region.cloud-region-id = $vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region\"\n        pfx='aai.cloud-region' local-only='false' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 596.107105255127,
        "y": 1782.1912927627563,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "f2beec5b.5611a8",
                "30b937c5.93fd7"
            ]
        ]
    },
    {
        "id": "30b937c5.93fd7",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 810.3532981872559,
        "y": 1800.3421487808228,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "caeb64b7.ba2878"
            ]
        ]
    },
    {
        "id": "f2beec5b.5611a8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 819.2818946838379,
        "y": 1757.6278820037842,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "7e580eff.038e2"
            ]
        ]
    },
    {
        "id": "a2b9ec94.73978",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1636.7500534057617,
        "y": 846.694016456604,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "ffe8620d.4a41a8",
                "4b03173.9ac0e68"
            ]
        ]
    },
    {
        "id": "4b03173.9ac0e68",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 1771.7500190734863,
        "y": 868.3606023788452,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "fc19e6e.2a84698",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-invariant-uuid'\n  value='`$db.vf-module-model.invariant-uuid`' />\n",
        "comments": "",
        "x": 971.5832290649414,
        "y": 2023.4440145492554,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "4ffa8fa2.c8758",
        "type": "switchNode",
        "name": "switch input model-invariant-uuid",
        "xml": "<switch test='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-invariant-uuid`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 615.4403038024902,
        "y": 2046.268458366394,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "8859fea1.da3998",
                "69b411af.327d08"
            ]
        ]
    },
    {
        "id": "8859fea1.da3998",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 821.1069755554199,
        "y": 2023.4114217758179,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "fc19e6e.2a84698"
            ]
        ]
    },
    {
        "id": "69b411af.327d08",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 822.535572052002,
        "y": 2067.697012901306,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "d1ad172f.1fe558"
            ]
        ]
    },
    {
        "id": "d1ad172f.1fe558",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-invariant-uuid'\n  value='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-invariant-uuid`' />\n",
        "comments": "",
        "x": 976.8213081359863,
        "y": 2067.125585079193,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "ff8a2c9.6d54b5",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-uuid'\n  value='`$db.vf-module-model.uuid`' />\n",
        "comments": "",
        "x": 972.5354995727539,
        "y": 2111.982690811157,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "a7369062.c567c8",
        "type": "switchNode",
        "name": "switch input model-uuid",
        "xml": "<switch test='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-uuid`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 588.0593223571777,
        "y": 2134.807195663452,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "2621938b.96a034",
                "cc168f45.9ae8f8"
            ]
        ]
    },
    {
        "id": "2621938b.96a034",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 822.0592956542969,
        "y": 2111.9501276016235,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "ff8a2c9.6d54b5"
            ]
        ]
    },
    {
        "id": "cc168f45.9ae8f8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 823.4878921508789,
        "y": 2156.235718727112,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "6b2c4cda.703a54"
            ]
        ]
    },
    {
        "id": "6b2c4cda.703a54",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-uuid'\n  value='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-uuid`' />\n",
        "comments": "",
        "x": 977.7736282348633,
        "y": 2155.664290904999,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "40fb71b4.fe9a88",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-version'\n  value='`$db.vf-module-model.version`' />\n",
        "comments": "",
        "x": 969.6784324645996,
        "y": 2200.839898109436,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "69d66ce3.f97a5c",
        "type": "switchNode",
        "name": "switch input model-version",
        "xml": "<switch test='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-version`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 596.2021942138672,
        "y": 2223.664342880249,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "8d1bc34b.5f2768",
                "b5cb1b08.e5fea8"
            ]
        ]
    },
    {
        "id": "8d1bc34b.5f2768",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 819.2021789550781,
        "y": 2200.8073053359985,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "40fb71b4.fe9a88"
            ]
        ]
    },
    {
        "id": "b5cb1b08.e5fea8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 820.6307754516602,
        "y": 2245.092896461487,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "91462cbf.dd094"
            ]
        ]
    },
    {
        "id": "91462cbf.dd094",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-version'\n  value='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-version`' />\n",
        "comments": "",
        "x": 974.9165115356445,
        "y": 2244.521468639374,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "5d0993e7.17439c",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-name'\n  value='`$db.vf-module-model.name`' />\n",
        "comments": "",
        "x": 969.6784324645996,
        "y": 2287.982720375061,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "2cd2be99.205622",
        "type": "switchNode",
        "name": "switch input model-name",
        "xml": "<switch test='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 591.2021942138672,
        "y": 2310.807165145874,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "be5907cf.3853a",
                "c1f83a69.57a51"
            ]
        ]
    },
    {
        "id": "be5907cf.3853a",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 819.2021789550781,
        "y": 2287.9501276016235,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "5d0993e7.17439c"
            ]
        ]
    },
    {
        "id": "c1f83a69.57a51",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 820.6307754516602,
        "y": 2332.235718727112,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "19c39c5d.580394"
            ]
        ]
    },
    {
        "id": "19c39c5d.580394",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-name'\n  value='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-name`' />\n",
        "comments": "",
        "x": 974.9165115356445,
        "y": 2331.664290904999,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "be3b3ee.7ce42c",
        "type": "set",
        "name": "set model-customization-uuid",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-customization-uuid'\n  value='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-customization-uuid`' />\n",
        "comments": "",
        "x": 605.6545295715332,
        "y": 2383.3161544799805,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "c19d4ee0.8d77c",
        "type": "set",
        "name": "set vf-module-id",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-id'\n   value='`$vf-module-topology-operation-input.vf-module-information.vf-module-id`' />\n",
        "comments": "",
        "x": 558.8451766967773,
        "y": 1652.039330482483,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "bd5d1959.e5b588",
        "type": "for",
        "name": "for each cloud-region relationship",
        "xml": "<for index='idx' start='0' end='`$aai.cloud-region.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 618.3609199523926,
        "y": 1870.6979761123657,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "de08cd4.005073"
            ]
        ]
    },
    {
        "id": "de08cd4.005073",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$aai.cloud-region.relationship-list.relationship[$idx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 866.0394630432129,
        "y": 1870.4479055404663,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "fd795205.2ddc38"
            ]
        ]
    },
    {
        "id": "fd795205.2ddc38",
        "type": "outcome",
        "name": "complex",
        "xml": "<outcome value='complex'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1035.5037841796875,
        "y": 1869.8407278060913,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "87c9d5a3.8ba4f"
            ]
        ]
    },
    {
        "id": "893bbd1e.4638",
        "type": "execute",
        "name": "split related-link",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split'>\n   <parameter name='ctx_memory_result_key' value='aai-uid-split' />\n   <parameter name='original_string' value='`$aai.cloud-region.relationship-list.relationship[$idx].related-link`' />\n   <parameter name='regex' value='/' />\n",
        "comments": "",
        "outputs": 1,
        "x": 1375.5989418029785,
        "y": 1824.2693033218384,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "87c9d5a3.8ba4f",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1195.2656440734863,
        "y": 1870.9360914230347,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "893bbd1e.4638",
                "6e705361.dc7ec4",
                "6e9378a9.0367d"
            ]
        ]
    },
    {
        "id": "6e705361.dc7ec4",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 1345.2656059265137,
        "y": 1914.2693881988525,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "ba0281e8.c6d89",
        "type": "execute",
        "name": "execute PropertiesNode",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
        "comments": "",
        "outputs": 1,
        "x": 608.047607421875,
        "y": 270.048095703125,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "1b32685d.a9d2f",
        "type": "set",
        "name": "set order-status to PendingCreate",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-level-oper-status.order-status'\n  value='PendingCreate' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-level-oper-status.last-rpc-action'\n  value='`$vf-module-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-level-oper-status.last-action'\n  value='`$vf-module-topology-operation-input.sdnc-request-header.request-action`' />\n",
        "comments": "",
        "x": 503.5122756958008,
        "y": 7479.904579162598,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "5d0d3a4f.87fd84",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 447.0121307373047,
        "y": 8244.951930522919,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "d0512da2.27542",
        "type": "set",
        "name": "copy input data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.sdnc-request-header.'\n   value='$vf-module-topology-operation-input.sdnc-request-header.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.request-information.'\n   value='$vf-module-topology-operation-input.request-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.service-information.'\n   value='$vf-module-topology-operation-input.service-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vnf-information.'\n   value='$vf-module-topology-operation-input.vnf-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-information.'\n   value='$vf-module-topology-operation-input.vf-module-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-request-input.'\n   value='$vf-module-topology-operation-input.vf-module-request-input.' />\n\n",
        "comments": "",
        "x": 435.6192169189453,
        "y": 7336.253312110901,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "f7a15e8.e9d50a",
        "type": "set",
        "name": "copy vf-module-topology data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.' value='tmp.vf-module-topology.' />\n",
        "comments": "",
        "x": 490.50023651123047,
        "y": 7283.0382471084595,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "10740584.685552",
        "type": "save",
        "name": "update vf-module",
        "xml": "<update plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"vf-module\"\n   key=\"vf-module.vf-module-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-id\n      AND generic-vnf.vnf-id = $service-data.vnfs.vnf[$vnf-index].vnf-id\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"vf-module-name\" value=\"`$tmp.vf-module-topology.vf-module-topology-identifier.vf-module-name`\" />\n<parameter name=\"model-invariant-id\" value=\"`$tmp.vf-module-topology.onap-model-information.model-invariant-uuid`\" />\n<parameter name=\"model-version-id\" value=\"`$tmp.vf-module-topology.onap-model-information.model-uuid`\" />\n<parameter name=\"model-customization-id\" value=\"`$tmp.vf-module-topology.onap-model-information.model-customization-uuid`\" />\n<parameter name=\"selflink\" value=\"`$vf-module-object-path`\" />\n<parameter name=\"automated-assignment\" value=\"`$automated-assignment`\" />",
        "comments": "",
        "outputs": 1,
        "x": 520.8929557800293,
        "y": 4490.039911866188,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "ebdaa7ec.bf551",
                "1b4621ea.e2df9e"
            ]
        ]
    },
    {
        "id": "ebdaa7ec.bf551",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 695.9645957946777,
        "y": 4458.420533776283,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "5962f380.97801c"
            ]
        ]
    },
    {
        "id": "1b4621ea.e2df9e",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 704.5359687805176,
        "y": 4527.03962379694,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "a583af75.4a7c"
            ]
        ]
    },
    {
        "id": "353f71d8.b849ee",
        "type": "set",
        "name": "set vf-module-object-path",
        "xml": "<set>\n<parameter name='vf-module-object-path'\n value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vf-module-topology-operation-input.service-information.service-instance-id\n + '/service-data/vnfs/vnf/'\n + $service-data.vnfs.vnf[$vnf-index].vnf-id\n + '/vnf-data/vf-modules/vf-module/'\n + $vf-module-topology-operation-input.vf-module-information.vf-module-id\n + '/vf-module-data/vf-module-topology/'`\"/>\n<parameter name='vnf-object-path'\n value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vf-module-topology-operation-input.service-information.service-instance-id\n + '/service-data/vnfs/vnf/'\n + $service-data.vnfs.vnf[$vnf-index].vnf-id\n + '/vnf-data/vnf-topology/'`\"/>\n<parameter name='service-object-path'\n value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vf-module-topology-operation-input.service-information.service-instance-id\n + '/service-data/service-topology/'`\"/>\n",
        "comments": "",
        "x": 544.5597648620605,
        "y": 4365.564140915871,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "a523e3d.fb4e3a",
        "type": "save",
        "name": "save vf-module relationships",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"vf-module:relationship-list\"\n   key=\"vf-module.vf-module-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-id\n      AND generic-vnf.vnf-id = $service-data.vnfs.vnf[$vnf-index].vnf-id\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"l3-network\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].network-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1314.583511352539,
        "y": 6048.192306280136,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "194c928.6ab7c6e",
                "d8ed4d46.8d3988"
            ]
        ]
    },
    {
        "id": "194c928.6ab7c6e",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1534.4168548583984,
        "y": 6019.06405043602,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "8b294cea.9128d8"
            ]
        ]
    },
    {
        "id": "d8ed4d46.8d3988",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1542.9883880615234,
        "y": 6071.683194875717,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "3015a60e.8d9b02"
            ]
        ]
    },
    {
        "id": "8266f367.7a81d",
        "type": "for",
        "name": "for each vm-type",
        "xml": "<for silentFailure='true' index='vm-type-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 494.25023651123047,
        "y": 5813.525859117508,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "ae746370.fbd12"
            ]
        ]
    },
    {
        "id": "721dd7e.3003728",
        "type": "for",
        "name": "for each vm-network",
        "xml": "<for silentFailure='true' index='network-role-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 891.2502479553223,
        "y": 6232.192691326141,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "93d8dd9c.4ab7e8"
            ]
        ]
    },
    {
        "id": "d570eb5d.f5786",
        "type": "for",
        "name": "for each vm-type",
        "xml": "<for silentFailure='true' index='vm-type-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 439.9287796020508,
        "y": 7178.071877479553,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "84f3bff5.a80988"
            ]
        ]
    },
    {
        "id": "84f3bff5.a80988",
        "type": "for",
        "name": "for each vm",
        "xml": "<for index='vm-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-count`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 634.9288101196289,
        "y": 7177.404885292053,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "9db83f9.3bdd74"
            ]
        ]
    },
    {
        "id": "1b0dcc5f.b77854",
        "type": "save",
        "name": "save VIPR_CONFIGURATION",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource\" resource=\"SQL\"\nkey=\"INSERT INTO VIPR_CONFIGURATION (vnf_id, vnf_name, ecomp_service_instance_id, vm_name, cloud_region_id, cloud_owner) VALUES ( $service-data.vnfs.vnf[$vnf-index].vnf-id , $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.vnf-name , $service-data.service-information.service-instance-id , $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vm-name[$vm-index] , $tmp.vf-module-topology.aic-cloud-region , $prop.cloud-region.cloud-owner )\" >",
        "comments": "",
        "outputs": 1,
        "x": 1055.3455047607422,
        "y": 7202.572572648525,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "42a14d7b.afe65c"
            ]
        ]
    },
    {
        "id": "8c3d549d.3f55c",
        "type": "comment",
        "name": "Not a failure",
        "info": "",
        "comments": "",
        "x": 1575.3454055786133,
        "y": 7202.572577416897,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "42a14d7b.afe65c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1265.3454895019531,
        "y": 7202.572722375393,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "697d9822.ab8678"
            ]
        ]
    },
    {
        "id": "697d9822.ab8678",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"GENERIC-RESOURCE-API.vf-module-topology-operation-assign:REQID\"/>\n<parameter name=\"field3\" value=\"`$vf-module-topology-operation-input.sdnc-request-header.svc-request-id`\"/>\n<parameter name=\"field4\" value=\"Failed to insert VIPR_CONFIGURATION record\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1408.6789321899414,
        "y": 7202.572560250759,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "ebdc10bd.8a96c8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1438.679054260254,
        "y": 7153.904273927212,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "46ad510d.4ec508"
            ]
        ]
    },
    {
        "id": "9141cc56.5e1638",
        "type": "comment",
        "name": "Not a failure",
        "info": "",
        "comments": "",
        "x": 1762.012107849121,
        "y": 7152.238096177578,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "46ad510d.4ec508",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"GENERIC-RESOURCE-API.vf-module-topology-operation-assign:REQID\"/>\n<parameter name=\"field3\" value=\"`$vf-module-topology-operation-input.sdnc-request-header.svc-request-id`\"/>\n<parameter name=\"field4\" value=\"Failed to insert VIPR_CONFIGURATION record\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1584.6789894104004,
        "y": 7153.904907166958,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "9db83f9.3bdd74",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 803.2622032165527,
        "y": 7176.40472984314,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "48a8f335.b41d6c",
                "1b0dcc5f.b77854"
            ]
        ]
    },
    {
        "id": "48a8f335.b41d6c",
        "type": "delete",
        "name": "delete any pre-existing records in VIPR_CONFIGURATION",
        "xml": "<delete plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='DELETE from VIPR_CONFIGURATION WHERE vnf_id = $service-data.vnfs.vnf[$vnf-index].vnf-id\n     AND ecomp_service_instance_id = $service-data.service-information.service-instance-id\n     AND vm_name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vm-name[$vm-index]' >",
        "comments": "",
        "outputs": 1,
        "x": 1145.3455200195312,
        "y": 7154.238906800747,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "ebdc10bd.8a96c8"
            ]
        ]
    },
    {
        "id": "5962f380.97801c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 854.2501640319824,
        "y": 4458.191204667091,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "9929cc19.031428",
                "387bacc5.df1d84"
            ]
        ]
    },
    {
        "id": "a583af75.4a7c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 855.2500801086426,
        "y": 4524.85749489069,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "da0980a4.747a78"
            ]
        ]
    },
    {
        "id": "8b294cea.9128d8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1702.9168586730957,
        "y": 6018.8583199977875,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "bcecc401.bf37b",
                "96fecd53.204d4"
            ]
        ]
    },
    {
        "id": "3015a60e.8d9b02",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1697.9168586730957,
        "y": 6071.858162641525,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "8ce17d26.7481f8",
                "96fecd53.204d4"
            ]
        ]
    },
    {
        "id": "d8e05d0.e811aa",
        "type": "execute",
        "name": "execute RestApiCallNode - get preload-list",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='restapiUrl' value=\"`$prop.controller.url + $prop.restapi.preloadinformation + $vf-module-topology-operation-input.vf-module-request-input.vf-module-name + '/vf-module'`\" />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='GET' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-preload\" />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1063.8333358764648,
        "y": 2595.6910581588745,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "d9ea3efe.a87e5",
                "e2faee57.b7f5d"
            ]
        ]
    },
    {
        "id": "d9ea3efe.a87e5",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1332.1665687561035,
        "y": 2554.0243883132935,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "88e9c571.834c18"
            ]
        ]
    },
    {
        "id": "e2faee57.b7f5d",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1330.4999237060547,
        "y": 2629.024537086487,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "8820c3b4.3dae5"
            ]
        ]
    },
    {
        "id": "88e9c571.834c18",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1488.833324432373,
        "y": 2552.35782623291,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "581ce945.29d908"
            ]
        ]
    },
    {
        "id": "8820c3b4.3dae5",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1485.4999313354492,
        "y": 2629.0243787765503,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "4e9d9449.fc591c"
            ]
        ]
    },
    {
        "id": "581ce945.29d908",
        "type": "switchNode",
        "name": "switch mdsal-preload.response-code",
        "xml": "<switch test='`$mdsal-preload.response-code`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1717.1666259765625,
        "y": 2552.3578672409058,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "69e5b9e1.abe87",
                "bafb2098.90126"
            ]
        ]
    },
    {
        "id": "69e5b9e1.abe87",
        "type": "outcome",
        "name": "404 (not found)",
        "xml": "<outcome value='404'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2000.0833282470703,
        "y": 2506.94091129303,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "aeaac31c.b0a03"
            ]
        ]
    },
    {
        "id": "aeaac31c.b0a03",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-operation-assign-no-preload",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-operation-assign-no-preload' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2402.999900817871,
        "y": 2420.2743797302246,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "f7ff06c4.ed826"
            ]
        ]
    },
    {
        "id": "f7ff06c4.ed826",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2791.7498626708984,
        "y": 2421.1082582473755,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "8d60dce.3fe77a"
            ]
        ]
    },
    {
        "id": "bafb2098.90126",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1966.3332901000977,
        "y": 2571.107695579529,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "59ff4e4b.8c6b68"
            ]
        ]
    },
    {
        "id": "4e9d9449.fc591c",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-operation-assign-preload",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-operation-assign-preload' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1848.8332214355469,
        "y": 2630.6911268234253,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "e07b96b8.ec3848"
            ]
        ]
    },
    {
        "id": "e07b96b8.ec3848",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2204.50008392334,
        "y": 2629.024744987488,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "fddcb313.1cf958"
            ]
        ]
    },
    {
        "id": "ae746370.fbd12",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 684.7503051757812,
        "y": 5814.359093904495,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "721dd7e.3003728",
                "b19496cb.88b488"
            ]
        ]
    },
    {
        "id": "b19496cb.88b488",
        "type": "for",
        "name": "for each vnfc",
        "xml": "<for silentFailure='true' index='vnfc-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 935.7503547668457,
        "y": 5019.025185108185,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "1e32842a.58b264"
            ]
        ]
    },
    {
        "id": "486da9cb.5e0db",
        "type": "save",
        "name": "save vnfc to A&AI",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"vnfc\" \n\tkey=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\" >\n<parameter name=\"vnfc-name\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name`\" />\n<parameter name=\"nfc-naming-code\" value=\"`$tmp.nfc-naming-code`\" />\n<parameter name=\"nfc-function\" value=\"`$tmp.nfc-function`\" />\n<parameter name=\"model-invariant-id\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].invariant-uuid`\" />\n<parameter name=\"model-version-id\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].uuid`\" />\n<parameter name=\"model-customization-id\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].model-customization-uuid`\" />\n<parameter name=\"orchestration-status\" value=\"`PendingCreate`\" />\n<parameter name=\"in-maint\" value=\"true\" />\n<parameter name=\"prov-status\" value=\"`PREPROV`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1661.7504234313965,
        "y": 4827.359115600586,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "ed23263a.02e4b",
                "fd219437.f0a108"
            ]
        ]
    },
    {
        "id": "1e32842a.58b264",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1104.0836563110352,
        "y": 5019.692012310028,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "c0e750b5.9c30a",
                "92ab8c55.74cf88",
                "1b5a92a6.166fdd",
                "73fcbf14.3fdec",
                "94b5136b.b8b098",
                "c3cf109b.3ee48"
            ]
        ]
    },
    {
        "id": "ed23263a.02e4b",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1852.7504615783691,
        "y": 4779.692449569702,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "62a1d2ce.f5805c"
            ]
        ]
    },
    {
        "id": "62a1d2ce.f5805c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2017.917148590088,
        "y": 4793.820282876492,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "ce58c07c.b817d",
                "387bacc5.df1d84"
            ]
        ]
    },
    {
        "id": "1b5a92a6.166fdd",
        "type": "save",
        "name": "save vnfc relationships",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"vnfc:relationship-list\"\n   key=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"generic-vnf\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/generic-vnfs/generic-vnf/' +\n        $vf-module-topology-operation-input.vnf-information.vnf-id`\" />\n    <parameter name=\"relationship-list.relationship[1].related-to\" value=\"vf-module\" />\n    <parameter name=\"relationship-list.relationship[1].related-link\"\n      value=\"`'/aai/v$/network/generic-vnfs/generic-vnf/' +\n        $vf-module-topology-operation-input.vnf-information.vnf-id +\n        '/vf-modules/vf-module/' +\n        $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1328.654941558838,
        "y": 4927.978347301483,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "55b62c68.acde94",
                "e4bd7450.018bf"
            ]
        ]
    },
    {
        "id": "21cae6a7.1f1552",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1660.4881324768066,
        "y": 4901.295971393585,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "8a14b675.cd4478",
                "387bacc5.df1d84"
            ]
        ]
    },
    {
        "id": "32299384.140b94",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1660.488208770752,
        "y": 4954.295730113983,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "b8157190.3209b8",
                "387bacc5.df1d84"
            ]
        ]
    },
    {
        "id": "55b62c68.acde94",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1503.6550178527832,
        "y": 4901.311641216278,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "21cae6a7.1f1552"
            ]
        ]
    },
    {
        "id": "e4bd7450.018bf",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1512.2265510559082,
        "y": 4953.930785655975,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "32299384.140b94"
            ]
        ]
    },
    {
        "id": "c0e750b5.9c30a",
        "type": "for",
        "name": "for each vnfc-network-role",
        "xml": "<for silentFailure='true' index='network-role-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1326.131061553955,
        "y": 5344.834755420685,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "47726d30.d34cb4"
            ]
        ]
    },
    {
        "id": "33a320c6.b50498",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/bgb-vfmoduleb.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 546.7499656677246,
        "y": 2652.7385773658752,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "bb7020bf.917f88",
        "type": "for",
        "name": "for each vnfc-subnetwork-role",
        "xml": "<for silentFailure='true' index='subnet-role-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1782.0835990905762,
        "y": 5308.025188922882,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "a92688a9.e4a6b"
            ]
        ]
    },
    {
        "id": "a92688a9.e4a6b",
        "type": "for",
        "name": "for each vnfc-address-family",
        "xml": "<for silentFailure='true' index='address-family-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2049.4169425964355,
        "y": 5307.025677204132,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "ec22b21e.0a4ac"
            ]
        ]
    },
    {
        "id": "4ed6e311.93f5fc",
        "type": "for",
        "name": "for each vnfc-ip-address",
        "xml": "<for silentFailure='true' index='address-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2481.4165534973145,
        "y": 5373.691376686096,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "303dd138.323a4e"
            ]
        ]
    },
    {
        "id": "ec22b21e.0a4ac",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2260.4167137145996,
        "y": 5307.025133609772,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "15a125a7.f8a182",
                "4ed6e311.93f5fc"
            ]
        ]
    },
    {
        "id": "15a125a7.f8a182",
        "type": "set",
        "name": "set tmp.address-family",
        "xml": "<set>\n<parameter name='tmp.address-family'\n  value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-address-family`' />\n",
        "comments": "",
        "x": 2480.4170417785645,
        "y": 5227.025031089783,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "303dd138.323a4e",
        "type": "switchNode",
        "name": "switch address family",
        "xml": "<switch test='`$tmp.address-family`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2720.416645050049,
        "y": 5372.025198936462,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "e6ae0d09.a09cf",
                "4f6d9652.0c3078"
            ]
        ]
    },
    {
        "id": "e6ae0d09.a09cf",
        "type": "outcome",
        "name": "ipv4",
        "xml": "<outcome value='ipv4'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2917.5596504211426,
        "y": 5275.596459388733,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "602361cc.c4df38"
            ]
        ]
    },
    {
        "id": "4f6d9652.0c3078",
        "type": "outcome",
        "name": "ipv6",
        "xml": "<outcome value='ipv6'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2915.178722381592,
        "y": 5455.358490943909,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "1a69583f.183678"
            ]
        ]
    },
    {
        "id": "e702daf4.edb6a8",
        "type": "comment",
        "name": "Fixed IPs",
        "info": "",
        "comments": "",
        "x": 1799.0836143493652,
        "y": 5269.692565917969,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "c09d2003.b8f32",
        "type": "save",
        "name": "save l3-interface-ipv4-address-list object to A&AI",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"l3-interface-ipv4-address-list\" \n\tkey=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n\t  AND cp.cp-instance-id = $cp-instance-id\n\t  AND l3-interface-ipv4-address-list.l3-interface-ipv4-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[$address-index].vnfc-ip-address\" >\n<parameter name=\"l3-interface-ipv4-address\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[$address-index].vnfc-ip-address`\" />\n<parameter name=\"l3-interface-ipv4-prefix-length\" value=\"32\" />\n<parameter name=\"is-floating\" value=\"false\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3360.892780303955,
        "y": 5223.929539362591,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "1c4f2098.c55b27"
            ]
        ]
    },
    {
        "id": "602361cc.c4df38",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3067.5596504211426,
        "y": 5275.596378008526,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "c09d2003.b8f32",
                "3d116e3f.dedbd2"
            ]
        ]
    },
    {
        "id": "a1a5338b.dea9",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3774.3926544189453,
        "y": 5223.914031664532,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "c5ce8f8a.5c8cc",
                "4f9c607a.ce1c88"
            ]
        ]
    },
    {
        "id": "1c4f2098.c55b27",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3617.559539794922,
        "y": 5223.9297014872245,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "a1a5338b.dea9"
            ]
        ]
    },
    {
        "id": "3d116e3f.dedbd2",
        "type": "save",
        "name": "save l3-interface-ipv4-address-list relationships",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"l3-interface-ipv4-address-list:relationship-list\"\n   key=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n\t  AND cp.cp-instance-id = $cp-instance-id\n\t  AND l3-interface-ipv4-address-list.l3-interface-ipv4-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[$address-index].vnfc-ip-address\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"l3-network\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].network-id`\" />\n    <parameter name=\"relationship-list.relationship[1].related-to\" value=\"subnet\" />\n    <parameter name=\"relationship-list.relationship[1].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].network-id +\n        '/subnets/subnet/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].subnet-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3355.89302444458,
        "y": 5322.262958208721,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "b2f60d32.750248",
                "9412527d.7ae5b8"
            ]
        ]
    },
    {
        "id": "562e333b.9aa834",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3776.0592765808105,
        "y": 5293.914003054302,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "d6d217c2.575b08",
                "4f9c607a.ce1c88"
            ]
        ]
    },
    {
        "id": "385833b4.f6a1f4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3776.059352874756,
        "y": 5346.9137617747,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "eacb1b8b.899fc",
                "4f9c607a.ce1c88"
            ]
        ]
    },
    {
        "id": "b2f60d32.750248",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3619.226161956787,
        "y": 5293.929672876995,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "562e333b.9aa834"
            ]
        ]
    },
    {
        "id": "9412527d.7ae5b8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3627.797695159912,
        "y": 5346.548817316692,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "385833b4.f6a1f4"
            ]
        ]
    },
    {
        "id": "fb1894e6.eb936",
        "type": "save",
        "name": "save l3-interface-ipv6-address-list object to A&AI",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"l3-interface-ipv6-address-list\" \n\tkey=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n\t  AND cp.cp-instance-id = $cp-instance-id\n\t  AND l3-interface-ipv6-address-list.l3-interface-ipv6-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[$address-index].vnfc-ip-address\" >\n<parameter name=\"l3-interface-ipv6-address\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[$address-index].vnfc-ip-address`\" />\n<parameter name=\"l3-interface-ipv6-prefix-length\" value=\"128\" />\n<parameter name=\"is-floating\" value=\"false\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3359.7025184631348,
        "y": 5402.977595329285,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "bb93e24f.0ddfa"
            ]
        ]
    },
    {
        "id": "1a69583f.183678",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3066.3693885803223,
        "y": 5454.64443397522,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "fb1894e6.eb936",
                "ff950167.1fb1e"
            ]
        ]
    },
    {
        "id": "af4f59e8.34e16",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3773.202392578125,
        "y": 5402.962087631226,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "e1c04fe9.9abb6",
                "4f9c607a.ce1c88"
            ]
        ]
    },
    {
        "id": "bb93e24f.0ddfa",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3616.3692779541016,
        "y": 5402.9777574539185,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "af4f59e8.34e16"
            ]
        ]
    },
    {
        "id": "ff950167.1fb1e",
        "type": "save",
        "name": "save l3-interface-ipv6-address-list relationships",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"l3-interface-ipv6-address-list:relationship-list\"\n   key=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n\t  AND cp.cp-instance-id = $cp-instance-id\n\t  AND l3-interface-ipv6-address-list.l3-interface-ipv6-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[$address-index].vnfc-ip-address\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"l3-network\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].network-id`\" />\n    <parameter name=\"relationship-list.relationship[1].related-to\" value=\"subnet\" />\n    <parameter name=\"relationship-list.relationship[1].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].network-id +\n        '/subnets/subnet/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].subnet-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3354.7027626037598,
        "y": 5501.311014175415,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "92d98e03.b2aa9",
                "2492559a.c4998a"
            ]
        ]
    },
    {
        "id": "1c4e1681.7e4871",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3774.8690147399902,
        "y": 5472.962059020996,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "b00c290a.190b9",
                "4f9c607a.ce1c88"
            ]
        ]
    },
    {
        "id": "71aef803.40248",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3774.8690910339355,
        "y": 5525.961817741394,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "f9dafb05.46c9b",
                "4f9c607a.ce1c88"
            ]
        ]
    },
    {
        "id": "92d98e03.b2aa9",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3618.035900115967,
        "y": 5472.977728843689,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "1c4e1681.7e4871"
            ]
        ]
    },
    {
        "id": "2492559a.c4998a",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3626.607433319092,
        "y": 5525.596873283386,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "71aef803.40248"
            ]
        ]
    },
    {
        "id": "93d8dd9c.4ab7e8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1081.083568572998,
        "y": 6231.692130565643,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "c8fd9787.8452c",
                "a523e3d.fb4e3a",
                "bcda90cb.440fb8",
                "d730be4.76af4c"
            ]
        ]
    },
    {
        "id": "3fcdc941.269b36",
        "type": "for",
        "name": "for each vnfc",
        "xml": "<for silentFailure='true' index='vnfc-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1729.0837440490723,
        "y": 6354.025878429413,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "ddc96fa8.7a60c"
            ]
        ]
    },
    {
        "id": "5ebcb9e7.4aa54",
        "type": "save",
        "name": "save vip-ipv4-address-list object to A&AI",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"vip-ipv4-address-list\" \n\tkey=\"cloud-region.cloud-owner = $prop.cloud-region.cloud-owner\n\t  AND cloud-region.cloud-region-id = $vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region\n\t  AND vip-ipv4-address-list.vip-ipv4-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v4[$ipv4-index]\" >\n<parameter name=\"vip-ipv4-address\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v4[$ipv4-index]`\" />\n<parameter name=\"vip-ipv4-prefix-length\" value=\"32\" />\n<parameter name=\"is-floating\" value=\"false\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1812.0835990905762,
        "y": 6185.35889005661,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "573bd3c5.98aba4",
                "1bbdfbf6.b3d06c"
            ]
        ]
    },
    {
        "id": "bcda90cb.440fb8",
        "type": "for",
        "name": "for each floating ipv4 address",
        "xml": "<for silentFailure='true' index='ipv4-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v4_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1320.0835914611816,
        "y": 6243.358962535858,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "63669aaf.74e08c"
            ]
        ]
    },
    {
        "id": "63669aaf.74e08c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1546.0835914611816,
        "y": 6241.358962535858,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "5ebcb9e7.4aa54",
                "8d460902.156",
                "3fcdc941.269b36"
            ]
        ]
    },
    {
        "id": "8f0f7206.35cad8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2207.583469390869,
        "y": 6155.3432631492615,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "ac68386.d27d148",
                "96fecd53.204d4"
            ]
        ]
    },
    {
        "id": "f32c832d.fb25c8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2207.5835456848145,
        "y": 6208.343021869659,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "5c926ac4.441d54",
                "96fecd53.204d4"
            ]
        ]
    },
    {
        "id": "573bd3c5.98aba4",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2050.7503547668457,
        "y": 6155.358932971954,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "8f0f7206.35cad8"
            ]
        ]
    },
    {
        "id": "1bbdfbf6.b3d06c",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2059.3218879699707,
        "y": 6207.978077411652,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "f32c832d.fb25c8"
            ]
        ]
    },
    {
        "id": "26b909fe.b46aae",
        "type": "save",
        "name": "save vip-ipv4-address-list relationships",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"vip-ipv4-address-list:relationship-list\"\n   key=\"cloud-region.cloud-owner = $prop.cloud-region.cloud-owner\n\t  AND cloud-region.cloud-region-id = $vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region\n\t  AND vip-ipv4-address-list.vip-ipv4-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v4[$ipv4-index]\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"subnet\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].network-id\n        + '/subnets/subnet/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.ipv4-subnet-id`\" />\n    <parameter name=\"relationship-list.relationship[1].related-to\" value=\"vnfc\" />\n    <parameter name=\"relationship-list.relationship[1].related-link\"\n      value=\"`'/aai/v$/network/vnfcs/vnfc/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2147.7501945495605,
        "y": 6298.025553226471,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "369543b.0355ebc",
                "d5fdb460.0834c8"
            ]
        ]
    },
    {
        "id": "fd955046.bf6118",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2550.916473388672,
        "y": 6270.009895861149,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "1eb209e1.85fe36",
                "96fecd53.204d4"
            ]
        ]
    },
    {
        "id": "d7cc0097.28a2d",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2550.916549682617,
        "y": 6323.009654581547,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "703340a7.64aea8",
                "96fecd53.204d4"
            ]
        ]
    },
    {
        "id": "369543b.0355ebc",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2394.0833587646484,
        "y": 6270.025565683842,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "fd955046.bf6118"
            ]
        ]
    },
    {
        "id": "d5fdb460.0834c8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2402.6548919677734,
        "y": 6322.644710123539,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "d7cc0097.28a2d"
            ]
        ]
    },
    {
        "id": "b35a3553.69f82",
        "type": "save",
        "name": "save vip-ipv6-address-list object to A&AI",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"vip-ipv6-address-list\" \n\tkey=\"cloud-region.cloud-owner = $prop.cloud-region.cloud-owner\n\t  AND cloud-region.cloud-region-id = $vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region\n\t  AND vip-ipv6-address-list.vip-ipv6-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v6[$ipv6-index]\" >\n<parameter name=\"vip-ipv6-address\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v6[$ipv6-index]`\" />\n<parameter name=\"vip-ipv6-prefix-length\" value=\"128\" />\n<parameter name=\"is-floating\" value=\"false\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1815.4169273376465,
        "y": 6508.6915736198425,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "36e92cf1.e11e04",
                "8cc2b975.04ae18"
            ]
        ]
    },
    {
        "id": "d730be4.76af4c",
        "type": "for",
        "name": "for each floating ipv6 address",
        "xml": "<for silentFailure='true' index='ipv6-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v6_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1323.416919708252,
        "y": 6565.691646099091,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "d0c28ec3.c731b"
            ]
        ]
    },
    {
        "id": "d0c28ec3.c731b",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1549.416919708252,
        "y": 6564.691646099091,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "b35a3553.69f82",
                "b0707c4.6ea4d",
                "7d5e2a4c.059314"
            ]
        ]
    },
    {
        "id": "719917b1.86ce1",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2210.9167976379395,
        "y": 6478.675946712494,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "67c04d7.9f55234",
                "96fecd53.204d4"
            ]
        ]
    },
    {
        "id": "805fb62e.923ed",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2210.9168739318848,
        "y": 6531.675705432892,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "3bd1f48b.4c0b2c",
                "96fecd53.204d4"
            ]
        ]
    },
    {
        "id": "36e92cf1.e11e04",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2054.083683013916,
        "y": 6478.691616535187,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "719917b1.86ce1"
            ]
        ]
    },
    {
        "id": "8cc2b975.04ae18",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2062.655216217041,
        "y": 6531.310760974884,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "805fb62e.923ed"
            ]
        ]
    },
    {
        "id": "dca0d1ee.17c198",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2544.2500534057617,
        "y": 6591.675997316837,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "7345e678.7bf88",
                "96fecd53.204d4"
            ]
        ]
    },
    {
        "id": "99fb4bfb.6119d8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2544.250129699707,
        "y": 6644.675756037235,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "131ea97.a877f57",
                "96fecd53.204d4"
            ]
        ]
    },
    {
        "id": "b4c59645.4d87f8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2387.4169387817383,
        "y": 6591.69166713953,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "dca0d1ee.17c198"
            ]
        ]
    },
    {
        "id": "19a0a042.9844b8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2395.9884719848633,
        "y": 6644.310811579227,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "99fb4bfb.6119d8"
            ]
        ]
    },
    {
        "id": "8bf7fa79.126fb",
        "type": "save",
        "name": "save vip-ipv6-address-list relationships",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"vip-ipv6-address-list:relationship-list\"\n   key=\"cloud-region.cloud-owner = $prop.cloud-region.cloud-owner\n\t  AND cloud-region.cloud-region-id = $vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region\n\t  AND vip-ipv6-address-list.vip-ipv6-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v6[$ipv6-index]\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"subnet\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].network-id\n        + '/subnets/subnet/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.ipv6-subnet-id`\" />\n    <parameter name=\"relationship-list.relationship[1].related-to\" value=\"vnfc\" />\n    <parameter name=\"relationship-list.relationship[1].related-link\"\n      value=\"`'/aai/v$/network/vnfcs/vnfc/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2143.083782196045,
        "y": 6620.358086109161,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "b4c59645.4d87f8",
                "19a0a042.9844b8"
            ]
        ]
    },
    {
        "id": "92ab8c55.74cf88",
        "type": "set",
        "name": "set created_flag",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].created_flag' value='true' />\n",
        "comments": "",
        "x": 1305.7502250671387,
        "y": 4867.69187015295,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "c8fd9787.8452c",
        "type": "set",
        "name": "set created-flag",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].created-flag' value='true' />\n",
        "comments": "",
        "x": 1276.4169807434082,
        "y": 6115.692051589489,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "8d460902.156",
        "type": "set",
        "name": "set created-ipv4-flag",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.created-ipv4-flag' value='true' />\n",
        "comments": "",
        "x": 1749.4169464111328,
        "y": 6243.692131459713,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "b0707c4.6ea4d",
        "type": "set",
        "name": "set created-ipv6-flag",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.created-ipv6-flag' value='true' />\n",
        "comments": "",
        "x": 1754.7502822875977,
        "y": 6569.691734731197,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "fd219437.f0a108",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1855.750400543213,
        "y": 4827.692109048367,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "62a1d2ce.f5805c"
            ]
        ]
    },
    {
        "id": "13308bfd.0f2aec",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-vlan-tagging-assign",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-vlan-tagging-assign' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 623.1668014526367,
        "y": 6902.692086219788,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "b2c99321.07804"
            ]
        ]
    },
    {
        "id": "b2c99321.07804",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 967.5002174377441,
        "y": 6902.025581359863,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "9faf9bf7.4ac728"
            ]
        ]
    },
    {
        "id": "9faf9bf7.4ac728",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1122.5000915527344,
        "y": 6902.02537727356,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "9d5c7913.8b1318",
                "7d6098e9.a14988"
            ]
        ]
    },
    {
        "id": "9d5c7913.8b1318",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/bgb-vlantaggingfailure.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 1303.2737083435059,
        "y": 6874.763383388519,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "f8ca447b.c9d998",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 277.6428451538086,
        "y": 653.5714340209961,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "ba0281e8.c6d89",
                "16a1cdd5.b488f2",
                "d8c6245c.30876",
                "3ad4001f.cd4388",
                "9f361c75.f7c698",
                "b1d0605e.841ca",
                "32e92ddc.ae5c1a",
                "bb29ba7b.f486c",
                "ac910a9d.5490c8",
                "bf8d316e.62c2d",
                "54659cd5.5a9534"
            ]
        ]
    },
    {
        "id": "f0a7970e.17889",
        "type": "switchNode",
        "name": "switch from-preload",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-information.from-preload`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 568.6546897888184,
        "y": 2719.167197227478,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "375d9d1a.2a0dca",
                "ce7a0e15.45e6b8"
            ]
        ]
    },
    {
        "id": "375d9d1a.2a0dca",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 740.5594215393066,
        "y": 2696.5482177734375,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "2c31b540.c0b982"
            ]
        ]
    },
    {
        "id": "ce7a0e15.45e6b8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 742.22607421875,
        "y": 2741.548056602478,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "4a24532d.397b84"
            ]
        ]
    },
    {
        "id": "2c31b540.c0b982",
        "type": "set",
        "name": "set automated-assignment to true",
        "xml": "<set>\n<parameter name='automated-assignment' value='true' />\n",
        "comments": "",
        "x": 955.5594062805176,
        "y": 2694.8813886642456,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "4a24532d.397b84",
        "type": "set",
        "name": "set automated-assignment to false",
        "xml": "<set>\n<parameter name='automated-assignment' value='false' />\n",
        "comments": "",
        "x": 953.8927268981934,
        "y": 2739.881308555603,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "7d5e2a4c.059314",
        "type": "for",
        "name": "for each vnfc",
        "xml": "<for silentFailure='true' index='vnfc-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1730.1788139343262,
        "y": 6668.572158336639,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "ea947930.9aa72"
            ]
        ]
    },
    {
        "id": "a75def4f.6ee6e",
        "type": "for",
        "name": "for each vm-type",
        "xml": "<for silentFailure='true' index='vm-type-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 547.4167861938477,
        "y": 4079.3580799102783,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "46a5a77d.d755f8"
            ]
        ]
    },
    {
        "id": "46a5a77d.d755f8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 737.9168548583984,
        "y": 4080.1913146972656,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "8c7d407.6bcf7c"
            ]
        ]
    },
    {
        "id": "8c7d407.6bcf7c",
        "type": "for",
        "name": "for each vm-network",
        "xml": "<for silentFailure='true' index='network-role-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 939.4167861938477,
        "y": 4079.3580799102783,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "35ad2d4.547ffd2"
            ]
        ]
    },
    {
        "id": "35ad2d4.547ffd2",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1129.2501068115234,
        "y": 4078.8575191497803,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "f487beec.088c"
            ]
        ]
    },
    {
        "id": "f487beec.088c",
        "type": "get-resource",
        "name": "get-resource VFC_RELATED_NETWORK_ROLE",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='SELECT * from VFC_RELATED_NETWORK_ROLE where vfc_customization_uuid = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].model-customization-uuid\n    and network_role = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].network-role'\n  pfx='db.vnf-related-network-role[]'>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1418.7500801086426,
        "y": 4077.3581619262695,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "a0408b33.43b78",
                "3bacb1f6.d56f8e"
            ]
        ]
    },
    {
        "id": "a0408b33.43b78",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1689.7500190734863,
        "y": 3982.0248641967773,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "35e45c1b.0b696c"
            ]
        ]
    },
    {
        "id": "35e45c1b.0b696c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1836.9405364990234,
        "y": 3980.5728788375854,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "e1550da4.520918",
                "1980bda6.0907fa"
            ]
        ]
    },
    {
        "id": "3bacb1f6.d56f8e",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1690.5832290649414,
        "y": 4226.691743850708,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "d2a8eaa8.b65ea"
            ]
        ]
    },
    {
        "id": "1226c3aa.88da74",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2108.9164810180664,
        "y": 4228.691499710083,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "c57415e5.fd3248",
                "e4e8595c.9b58f",
                "e4b60504.f981a8",
                "156f261a.863eca",
                "495279ca.733358",
                "c85f9edd.97f348",
                "de61ca34.e42ee8",
                "1f01eb84.19964c"
            ]
        ]
    },
    {
        "id": "e4e8595c.9b58f",
        "type": "for",
        "name": "for each vnf network",
        "xml": "<for silentFailure='true' index='vnf-network-index' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2291.416660308838,
        "y": 4071.0247478485107,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "7a857ed.1aa998"
            ]
        ]
    },
    {
        "id": "c57415e5.fd3248",
        "type": "set",
        "name": "set found-related-network to false",
        "xml": "<set>\n<parameter name='found-related-network' value='false' />\n",
        "comments": "",
        "x": 2331.416736602783,
        "y": 4012.6915245056152,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "bce8e032.adb05",
        "type": "for",
        "name": "for each related network",
        "xml": "<for silentFailure='true' index='related-network-index' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].related-networks.related-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2690.4166221618652,
        "y": 4047.691011428833,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "e0911b99.e70388"
            ]
        ]
    },
    {
        "id": "7a857ed.1aa998",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2479.416660308838,
        "y": 4071.0247478485107,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "bce8e032.adb05",
                "62c152f0.7d2894"
            ]
        ]
    },
    {
        "id": "e0911b99.e70388",
        "type": "switchNode",
        "name": "switch network-role matches",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].related-networks.related-network[$related-network-index].network-role\n  == $db.vnf-related-network-role[$db-related-network-index].related-network-role`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2942.4165382385254,
        "y": 4047.6910877227783,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "1ffef684.6c9e81"
            ]
        ]
    },
    {
        "id": "d2a8eaa8.b65ea",
        "type": "for",
        "name": "for each db related-network",
        "xml": "<for index='db-related-network-index' start='0' end='`$db.vnf-related-network-role_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1894.916603088379,
        "y": 4227.358491897583,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "1226c3aa.88da74"
            ]
        ]
    },
    {
        "id": "1ffef684.6c9e81",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3142.4165382385254,
        "y": 4045.6910877227783,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "766ba0f5.f4bb98"
            ]
        ]
    },
    {
        "id": "766ba0f5.f4bb98",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3296.4165382385254,
        "y": 4043.6910877227783,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "15001ccf.c8a18b",
                "232797a8.b52268",
                "f2dd29bc.54a1a"
            ]
        ]
    },
    {
        "id": "15001ccf.c8a18b",
        "type": "set",
        "name": "set found-related-network to true",
        "xml": "<set>\n<parameter name='found-related-network' value='true' />\n",
        "comments": "",
        "x": 3528.4166984558105,
        "y": 4003.357671737671,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "232797a8.b52268",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 3451.7498741149902,
        "y": 4090.0244216918945,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "e4b60504.f981a8",
        "type": "switchNode",
        "name": "switch found-related-network",
        "xml": "<switch test='`$found-related-network`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2326.916549682617,
        "y": 4171.691633224487,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "72439ee4.6178c8"
            ]
        ]
    },
    {
        "id": "72439ee4.6178c8",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2520.916549682617,
        "y": 4169.691633224487,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "13dbfbb2.053ff4"
            ]
        ]
    },
    {
        "id": "13dbfbb2.053ff4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2650.916549682617,
        "y": 4169.691633224487,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "7b08fad7.a132ec",
                "1980bda6.0907fa"
            ]
        ]
    },
    {
        "id": "156f261a.863eca",
        "type": "set",
        "name": "set is-trunked and segmentation-id in vm-network",
        "xml": "<set>\n<parameter name='$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].is-trunked'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$saved-vnf-network-index].is-trunked`' />\n<parameter name='$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].segmentation-id'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$saved-vnf-network-index].segmentation-id`' />\n",
        "comments": "",
        "x": 2388.916549682617,
        "y": 4219.691633224487,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "c85f9edd.97f348",
        "type": "switchNode",
        "name": "switch rn-index",
        "xml": "<switch test='`$rn-index`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2276.916549682617,
        "y": 4327.691633224487,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "ef7434da.bc93f"
            ]
        ]
    },
    {
        "id": "495279ca.733358",
        "type": "set",
        "name": "set rn-index to related network length",
        "xml": "<set>\n<parameter name='rn-index' value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network_length`' />\n",
        "comments": "",
        "x": 2348.916549682617,
        "y": 4271.691633224487,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "ef7434da.bc93f",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 2440.916549682617,
        "y": 4327.691633224487,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "c24d1bf8.2f47d8"
            ]
        ]
    },
    {
        "id": "c24d1bf8.2f47d8",
        "type": "set",
        "name": "set rn-index to 0",
        "xml": "<set>\n<parameter name='rn-index' value='0' />\n",
        "comments": "",
        "x": 2600.916549682617,
        "y": 4327.691633224487,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "de61ca34.e42ee8",
        "type": "set",
        "name": "set related-network data",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network[$rn-index].network-id'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$saved-vnf-network-index].related-networks.related-network[$saved-related-network-index].network-id`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network[$rn-index].network-role'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$saved-vnf-network-index].related-networks.related-network[$saved-related-network-index].network-role`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network[$rn-index].vlan-tags.vlan-interface'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$saved-vnf-network-index].related-networks.related-network[$saved-related-network-index].vlan-tags.vlan-interface`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network[$rn-index].vlan-tags.lower-tag-id'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$saved-vnf-network-index].related-networks.related-network[$saved-related-network-index].vlan-tags.lower-tag-id`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network[$rn-index].vlan-tags.upper-tag-id'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$saved-vnf-network-index].related-networks.related-network[$saved-related-network-index].vlan-tags.upper-tag-id`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network[$rn-index].vlan-tags.is-private'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$saved-vnf-network-index].related-networks.related-network[$saved-related-network-index].vlan-tags.is-private`' />\n",
        "comments": "",
        "x": 2300.916549682617,
        "y": 4379.691633224487,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "1f01eb84.19964c",
        "type": "set",
        "name": "set new related network length",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network_length'\n  value='`$rn-index + 1`' />\n",
        "comments": "",
        "x": 2318.916549682617,
        "y": 4431.691633224487,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "62c152f0.7d2894",
        "type": "switchNode",
        "name": "switch found-related-network",
        "xml": "<switch test='`$found-related-network`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2703.416645050049,
        "y": 4095.3578720092773,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "85bfa485.399358"
            ]
        ]
    },
    {
        "id": "85bfa485.399358",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2900.083507537842,
        "y": 4095.3582439422607,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "bb00c0c7.52dd78"
            ]
        ]
    },
    {
        "id": "bb00c0c7.52dd78",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 3030.083393096924,
        "y": 4093.6913681030273,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "f2dd29bc.54a1a",
        "type": "set",
        "name": "save indexes",
        "xml": "<set>\n<parameter name='saved-vnf-network-index' value='`$vnf-network-index`' />\n<parameter name='saved-related-network-index' value='`$related-network-index`' />\n",
        "comments": "",
        "x": 3470.0836067199707,
        "y": 4045.358242034912,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "9c6dc578.9d7fc",
        "type": "execute",
        "name": "generate cp-instance-id",
        "xml": "<execute plugin=\"org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils\" method=\"generateUUID\" >\n<parameter name=\"ctx-destination\" value=\"cp-instance-id\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1758.9880981445312,
        "y": 5074.882295131683,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "aba2a62.76d55d8",
        "type": "save",
        "name": "save cp to A&AI",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"cp\" \n\tkey=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n\t  AND cp.cp-instance-id = $cp-instance-id\" >\n<parameter name=\"cp-instance-id\" value=\"`$cp-instance-id`\" />\n<parameter name=\"port-id\" value=\"0\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1740.6547203063965,
        "y": 5141.548800945282,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "afcda996.4564e",
                "6cc31709.9e47c8"
            ]
        ]
    },
    {
        "id": "afcda996.4564e",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1929.6547012329102,
        "y": 5117.215414464474,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "d55c685e.dfaad"
            ]
        ]
    },
    {
        "id": "d55c685e.dfaad",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2096.821449279785,
        "y": 5133.009848058224,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "3296dfd.dbc53a",
                "387bacc5.df1d84"
            ]
        ]
    },
    {
        "id": "6cc31709.9e47c8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1934.6547012329102,
        "y": 5166.881674230099,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "d55c685e.dfaad"
            ]
        ]
    },
    {
        "id": "47726d30.d34cb4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1535.4644203186035,
        "y": 5344.167088985443,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "5f7cb894.98d27",
                "bb7020bf.917f88",
                "9c6dc578.9d7fc",
                "aba2a62.76d55d8",
                "dc3b1c12.9b901",
                "e12a435b.3614b8"
            ]
        ]
    },
    {
        "id": "5f7cb894.98d27",
        "type": "set",
        "name": "set connection point data",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].connection-point.connection-point-id'\n  value='`$cp-instance-id`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].connection-point.port-id'\n  value='0' />\n",
        "comments": "",
        "x": 1770.9882621765137,
        "y": 5219.406370639801,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "800d9848.2437a8",
        "type": "comment",
        "name": "Floating IPs",
        "info": "",
        "comments": "",
        "x": 1331.7500801086426,
        "y": 6201.691488921642,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "dc3b1c12.9b901",
        "type": "for",
        "name": "for each vnf-network",
        "xml": "<for index='vnf-network-index' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1755.0832633972168,
        "y": 5615.691864490509,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "f1babc88.16382"
            ]
        ]
    },
    {
        "id": "81279dea.3bc048",
        "type": "save",
        "name": "save cp relationship to l3-network",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"cp:relationship-list\"\n   key=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n     AND cp.cp-instance-id = $cp-instance-id\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"l3-network\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/' +\n        $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].network-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2393.4167442321777,
        "y": 5615.358372211456,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "2abb93be.17e5dc",
                "f8469e10.8f33"
            ]
        ]
    },
    {
        "id": "99581456.eeacb8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2765.249782562256,
        "y": 5588.676320552826,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "804becc1.78da28",
                "387bacc5.df1d84"
            ]
        ]
    },
    {
        "id": "104ad31e.9bcd75",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2765.249858856201,
        "y": 5641.676079273224,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "7e2874de.0ebfec",
                "387bacc5.df1d84"
            ]
        ]
    },
    {
        "id": "2abb93be.17e5dc",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2608.4166679382324,
        "y": 5588.691990375519,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "99581456.eeacb8"
            ]
        ]
    },
    {
        "id": "f8469e10.8f33",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2616.9882011413574,
        "y": 5641.311134815216,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "104ad31e.9bcd75"
            ]
        ]
    },
    {
        "id": "e12a435b.3614b8",
        "type": "for",
        "name": "for each vm-network",
        "xml": "<for silentFailure='true' index='network-role-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1755.0834159851074,
        "y": 5776.358219623566,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "8b1c560f.764dd"
            ]
        ]
    },
    {
        "id": "e33ae63b.e49888",
        "type": "save",
        "name": "save cp relationship to l3-network and vlan-tag",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"cp:relationship-list\"\n   key=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n     AND cp.cp-instance-id = $cp-instance-id\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"l3-network\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network[$related-network-index].network-id`\" />\n    <parameter name=\"relationship-list.relationship[1].related-to\" value=\"vlan-tag\" />\n    <parameter name=\"relationship-list.relationship[1].related-link\"\n      value=\"`'/aai/v$/network/vlan-tags/vlan-tag/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network[$related-network-index].vlan-tags.vlan-interface`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2674.7504234313965,
        "y": 5774.358214855194,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "45ff040c.b512bc",
                "e1063714.f1338"
            ]
        ]
    },
    {
        "id": "938725ee.5957b8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3081.583469390869,
        "y": 5747.675513744355,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "9d950f64.0102",
                "387bacc5.df1d84"
            ]
        ]
    },
    {
        "id": "cfc84d0d.ef786",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3081.5835456848145,
        "y": 5800.675272464753,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "b2d45985.f53aa8",
                "387bacc5.df1d84"
            ]
        ]
    },
    {
        "id": "45ff040c.b512bc",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2924.7503547668457,
        "y": 5747.691183567048,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "938725ee.5957b8"
            ]
        ]
    },
    {
        "id": "e1063714.f1338",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2933.3218879699707,
        "y": 5800.310328006745,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "cfc84d0d.ef786"
            ]
        ]
    },
    {
        "id": "91124630.ba4798",
        "type": "for",
        "name": "for each related-network",
        "xml": "<for silentFailure='true' index='related-network-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2370.750255584717,
        "y": 5774.358215808868,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "e33ae63b.e49888"
            ]
        ]
    },
    {
        "id": "43e6fb56.3aad2c",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-generate-heat-parameters",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-generate-heat-parameters' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 619.0835800170898,
        "y": 7016.10897731781,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "8ddb6fb6.8a0038",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/bgb-vfmoduleheat.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 429.16688537597656,
        "y": 7069.108654975891,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "76eaad0d.045934",
        "type": "switchNode",
        "name": "switch input vf-module-name",
        "xml": "<switch test='`$vf-module-topology-operation-input.vf-module-request-input.vf-module-name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 601.7499809265137,
        "y": 2501.1910371780396,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "55d69cd.6f87864",
                "12fb7679.452c52"
            ]
        ]
    },
    {
        "id": "55d69cd.6f87864",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 824.2499465942383,
        "y": 2423.6909971237183,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "aeaac31c.b0a03"
            ]
        ]
    },
    {
        "id": "12fb7679.452c52",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 825.9285469055176,
        "y": 2596.309581756592,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "d8e05d0.e811aa"
            ]
        ]
    },
    {
        "id": "526e48e0.ddfea8",
        "type": "for",
        "name": "for each vnfc-subnet-role",
        "xml": "<for index='subnet-role-index' start='0'\n  end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1359.2500801086426,
        "y": 3296.1907138824463,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "7ac699be.e8b38"
            ]
        ]
    },
    {
        "id": "7ac699be.e8b38",
        "type": "for",
        "name": "for each vnfc-address-family",
        "xml": "<for index='address-family-index' start='0'\n  end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1607.583339691162,
        "y": 3296.1907138824463,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "5f865ea0.0676c"
            ]
        ]
    },
    {
        "id": "b55fea55.8a7208",
        "type": "for",
        "name": "for each vm-type",
        "xml": "<for silentFailure='true' index='vm-type-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 565.0832557678223,
        "y": 3014.5240507125854,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "1b0f2d74.152693"
            ]
        ]
    },
    {
        "id": "1b0f2d74.152693",
        "type": "for",
        "name": "for each vnfc",
        "xml": "<for silentFailure='true' index='vnfc-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 746.7500343322754,
        "y": 3013.1911993026733,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "50487ae9.4141e4"
            ]
        ]
    },
    {
        "id": "50487ae9.4141e4",
        "type": "for",
        "name": "for each vnfc-network",
        "xml": "<for silentFailure='true' index='vnfc-network-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 947.9166069030762,
        "y": 3013.0238885879517,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "fc43a65d.ee5618"
            ]
        ]
    },
    {
        "id": "fc43a65d.ee5618",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1160.0832786560059,
        "y": 3012.0242490768433,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "419335de.8f9efc",
                "967eee1a.e0e6a",
                "25438028.49af4",
                "526e48e0.ddfea8"
            ]
        ]
    },
    {
        "id": "419335de.8f9efc",
        "type": "set",
        "name": "set vnf-network-index to -1",
        "xml": "<set>\n<parameter name='vnf-network-index' value='-1' />\n",
        "comments": "",
        "x": 1371.7499961853027,
        "y": 2965.3574628829956,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "967eee1a.e0e6a",
        "type": "for",
        "name": "for each vnf-network",
        "xml": "<for index='idx' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1353.4167861938477,
        "y": 3012.024214744568,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "46dba174.c40b4"
            ]
        ]
    },
    {
        "id": "46dba174.c40b4",
        "type": "switchNode",
        "name": "switch network-roles match?",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-network-role\n  == $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$idx].network-role`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1595.0832557678223,
        "y": 3010.3577098846436,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "a012a02c.291a88"
            ]
        ]
    },
    {
        "id": "a012a02c.291a88",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1791.7499351501465,
        "y": 3010.3576288223267,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "1f8e0939.c42ce7"
            ]
        ]
    },
    {
        "id": "1f8e0939.c42ce7",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1945.0831565856934,
        "y": 3010.3575010299683,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "695e43ac.61996c",
                "dbb88684.a8701",
                "c77499cc.02fca"
            ]
        ]
    },
    {
        "id": "695e43ac.61996c",
        "type": "set",
        "name": "set vnf-network-index",
        "xml": "<set>\n<parameter name='vnf-network-index' value='`$idx`' />\n",
        "comments": "",
        "x": 2151.749988555908,
        "y": 2958.690878868103,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "dbb88684.a8701",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 2106.7499046325684,
        "y": 3048.6907997131348,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "25438028.49af4",
        "type": "switchNode",
        "name": "switch vnf-network-index",
        "xml": "<switch test='`$vnf-network-index`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1365.083324432373,
        "y": 3072.0242166519165,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "6ad7f58.4e60e0c"
            ]
        ]
    },
    {
        "id": "6ad7f58.4e60e0c",
        "type": "outcome",
        "name": "-1",
        "xml": "<outcome value='-1'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1556.7499656677246,
        "y": 3072.0244607925415,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "cac91700.4c17"
            ]
        ]
    },
    {
        "id": "cac91700.4c17",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1705.0831565856934,
        "y": 3070.3575010299683,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "a8978c6d.0307c8",
                "1980bda6.0907fa"
            ]
        ]
    },
    {
        "id": "7fe1eda3.4f3ee4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2396.7498741149902,
        "y": 3480.357352256775,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "356bc551.3ec1ca",
                "f041336a.316cd",
                "1f14cd7.70cf733"
            ]
        ]
    },
    {
        "id": "356bc551.3ec1ca",
        "type": "for",
        "name": "for each subnet-data",
        "xml": "<for index='subnet-data-index' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2593.4166259765625,
        "y": 3435.357271194458,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "82168895.ff1268"
            ]
        ]
    },
    {
        "id": "82168895.ff1268",
        "type": "switchNode",
        "name": "address-families match?",
        "xml": "<switch test='`$tmp.address-family\n  == $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].ip-version`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2820.083251953125,
        "y": 3435.357271194458,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "a740c25b.db367"
            ]
        ]
    },
    {
        "id": "a740c25b.db367",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3000.0832176208496,
        "y": 3435.357677459717,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "80f988bb.accbc8"
            ]
        ]
    },
    {
        "id": "584966d1.c2c31",
        "type": "set",
        "name": "set tmp.address-family",
        "xml": "<set>\n<parameter name='tmp.address-family'\n  value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-address-family`' />\n",
        "comments": "",
        "x": 2425.083209991455,
        "y": 3298.6907653808594,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "5f865ea0.0676c",
        "type": "switchNode",
        "name": "switch vnfc-subnet-ip_length",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1870.083553314209,
        "y": 3295.3578004837036,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "6181e221.800f7c",
                "b281bb18.f89538",
                "c6664773.42391"
            ]
        ]
    },
    {
        "id": "6181e221.800f7c",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 2071.7500648498535,
        "y": 3195.357343673706,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "632ebb0f.6b72ec"
            ]
        ]
    },
    {
        "id": "b281bb18.f89538",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2068.178695678711,
        "y": 3381.3096351623535,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "3a798a94.b1022e"
            ]
        ]
    },
    {
        "id": "632ebb0f.6b72ec",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2203.4166145324707,
        "y": 3218.0240907669067,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "2502e8d8.464bd",
        "type": "set",
        "name": "set subnet-id to -1",
        "xml": "<set>\n<parameter name='subnet-id' value='-1' />\n",
        "comments": "",
        "x": 3093.417133331299,
        "y": 3597.024757385254,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "3a798a94.b1022e",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2221.7501106262207,
        "y": 3380.3572673797607,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "584966d1.c2c31",
                "7fe1eda3.4f3ee4"
            ]
        ]
    },
    {
        "id": "c5140624.bb6f",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4353.416730880737,
        "y": 3768.6912343502045,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "f25057b4.2e266",
                "c542a135.ef0f5"
            ]
        ]
    },
    {
        "id": "c542a135.ef0f5",
        "type": "execute",
        "name": "execute isInSameSubnet",
        "xml": "<execute plugin=\"com.att.sdnctl.sli.plugin.ipAddressTools.IpAddressTool\" method=\"isInSameSubnet\">\n\t<parameter name=\"firstIPAddr\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].network-start-address`\" />\n\t<parameter name=\"secondIPAddr\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[0].vnfc-ip-address`\" />\n\t<parameter name=\"subnet\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].cidr-mask`\" />\n\t<parameter name=\"ipType\" value=\"`$ip-type`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 4568.416732788086,
        "y": 3818.6909081935883,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "ba13c0d4.a61928"
            ]
        ]
    },
    {
        "id": "f25057b4.2e266",
        "type": "switchNode",
        "name": "switch tmp.address-family",
        "xml": "<switch test='`$tmp.address-family`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4570.083889007568,
        "y": 3725.3578946590424,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "dc137b5d.faff98",
                "837132a3.44baa"
            ]
        ]
    },
    {
        "id": "dc137b5d.faff98",
        "type": "outcome",
        "name": "ipv4",
        "xml": "<outcome value='ipv4'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4773.417151133219,
        "y": 3698.691124995549,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "f7d6a129.7a1b8"
            ]
        ]
    },
    {
        "id": "837132a3.44baa",
        "type": "outcome",
        "name": "ipv6",
        "xml": "<outcome value='ipv6'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4773.41682434082,
        "y": 3745.357652425766,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "2617d4d6.3cfd54"
            ]
        ]
    },
    {
        "id": "f7d6a129.7a1b8",
        "type": "set",
        "name": "set ip-type parameter to IPv4",
        "xml": "<set>\n<parameter name='ip-type' value='IPv4' />\n",
        "comments": "",
        "x": 4970.083637237549,
        "y": 3697.024598836899,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "2617d4d6.3cfd54",
        "type": "set",
        "name": "set ip-type parameter to IPv6",
        "xml": "<set>\n<parameter name='ip-type' value='IPv6' />\n",
        "comments": "",
        "x": 4975.083515167236,
        "y": 3745.3576714992523,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "40290279.211ecc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4908.416763305664,
        "y": 3818.3576714992523,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "add111d3.22588",
                "d03c05a2.3fa848"
            ]
        ]
    },
    {
        "id": "add111d3.22588",
        "type": "set",
        "name": "set subnet-id",
        "xml": "<set>\n<parameter name='subnet-id' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].sdnc-subnet-id`' />\n",
        "comments": "",
        "x": 5086.75008392334,
        "y": 3795.0241582393646,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "d03c05a2.3fa848",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 5071.750087738037,
        "y": 3841.6911523342133,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "9fc4555.7a3cfa8",
        "type": "switchNode",
        "name": "switch subnet-id",
        "xml": "<switch test='`$subnet-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3085.0830078125,
        "y": 3758.6914920806885,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "4688ca4f.b10a14"
            ]
        ]
    },
    {
        "id": "4688ca4f.b10a14",
        "type": "outcome",
        "name": "-1",
        "xml": "<outcome value='-1'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3241.7495727539062,
        "y": 3758.691427230835,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "1418484.c2e4038"
            ]
        ]
    },
    {
        "id": "1418484.c2e4038",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3390.082763671875,
        "y": 3757.0244674682617,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "cb1415b6.cece5",
                "1980bda6.0907fa"
            ]
        ]
    },
    {
        "id": "911a7c16.59a3f",
        "type": "set",
        "name": "set subnet-id in vnfc-ip-assignments (temp variable)",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].subnet-id' value='`$subnet-id`' />\n",
        "comments": "",
        "x": 3196.749652862549,
        "y": 3835.358263015747,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "52376e41.5c3c28",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/bgb-vfmodulec.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 550.0832481384277,
        "y": 3430.3575010299683,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "ba13c0d4.a61928",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4755.083335876465,
        "y": 3818.6913964748383,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "40290279.211ecc"
            ]
        ]
    },
    {
        "id": "c77499cc.02fca",
        "type": "set",
        "name": "set network-id",
        "xml": "<set>\n<parameter name='$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].network-id'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$idx].network-id`' />\n",
        "comments": "",
        "x": 2128.416492462158,
        "y": 3003.6909618377686,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "73fcbf14.3fdec",
        "type": "switchNode",
        "name": "switch nfc-naming-code",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].nfc-naming-code`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1326.74995803833,
        "y": 4618.690689563751,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "ce72c455.4b3538",
                "d1d7edf9.9feb88"
            ]
        ]
    },
    {
        "id": "ce72c455.4b3538",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 1511.7499046325684,
        "y": 4593.690508365631,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "d9f4827a.0412b8"
            ]
        ]
    },
    {
        "id": "d1d7edf9.9feb88",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1509.8451766967773,
        "y": 4640.47633600235,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "22a96688.1f4e6a"
            ]
        ]
    },
    {
        "id": "d9f4827a.0412b8",
        "type": "set",
        "name": "set tmp.nfc-naming-code to DEFAULT",
        "xml": "<set>\n<parameter name='tmp.nfc-naming-code' value='DEFAULT' />\n",
        "comments": "",
        "x": 1743.416675567627,
        "y": 4592.023858547211,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "22a96688.1f4e6a",
        "type": "set",
        "name": "set tmp.nfc-naming-code",
        "xml": "<set>\n<parameter name='tmp.nfc-naming-code' value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].nfc-naming-code`' />\n",
        "comments": "",
        "x": 1700.0831871032715,
        "y": 4640.357356548309,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "94b5136b.b8b098",
        "type": "switchNode",
        "name": "switch nfc-function",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].nfc-function`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1315.0832901000977,
        "y": 4717.023863315582,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "2ffbc916.fecb7e",
                "e74db6e4.b95498"
            ]
        ]
    },
    {
        "id": "2ffbc916.fecb7e",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 1511.7498970031738,
        "y": 4692.023661136627,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "6b879f7a.6f22e8"
            ]
        ]
    },
    {
        "id": "e74db6e4.b95498",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1509.8451690673828,
        "y": 4738.809488773346,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "176069ae.2f780e"
            ]
        ]
    },
    {
        "id": "6b879f7a.6f22e8",
        "type": "set",
        "name": "set tmp.nfc-function to DEFAULT",
        "xml": "<set>\n<parameter name='tmp.nfc-function' value='DEFAULT' />\n",
        "comments": "",
        "x": 1723.4166793823242,
        "y": 4690.356870174408,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "176069ae.2f780e",
        "type": "set",
        "name": "set tmp.nfc-function",
        "xml": "<set>\n<parameter name='tmp.nfc-function' value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].nfc-function`' />\n",
        "comments": "",
        "x": 1681.7498092651367,
        "y": 4738.690531253815,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "f1babc88.16382",
        "type": "switchNode",
        "name": "switch network-roles match?",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-network-role\n  == $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].network-role`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1988.4166069030762,
        "y": 5615.690890789032,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "468a8949.ce6"
            ]
        ]
    },
    {
        "id": "468a8949.ce6",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2186.7500762939453,
        "y": 5615.35804605484,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "81279dea.3bc048"
            ]
        ]
    },
    {
        "id": "8b1c560f.764dd",
        "type": "switchNode",
        "name": "switch network-roles match?",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].network-role\n  == $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].network-role`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1991.7499504089355,
        "y": 5775.357338428497,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "90110945.ead0e"
            ]
        ]
    },
    {
        "id": "90110945.ead0e",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2190.0834197998047,
        "y": 5775.024493694305,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "91124630.ba4798"
            ]
        ]
    },
    {
        "id": "ddc96fa8.7a60c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1895.0832328796387,
        "y": 6353.690758228302,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "26b909fe.b46aae",
                "5e6235d3.e2f47c"
            ]
        ]
    },
    {
        "id": "ea947930.9aa72",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1896.7499809265137,
        "y": 6668.690769672394,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "8bf7fa79.126fb",
                "ee383b52.01d438"
            ]
        ]
    },
    {
        "id": "5e6235d3.e2f47c",
        "type": "for",
        "name": "for each vnfc-network-role",
        "xml": "<for silentFailure='true' index='vnfc-network-role-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2111.7501792907715,
        "y": 6412.02392911911,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "c5614b8.e3a3a38"
            ]
        ]
    },
    {
        "id": "19871893.cc9847",
        "type": "save",
        "name": "save vip-ipv4-address-list relationship to cp",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"vip-ipv4-address-list:relationship-list\"\n   key=\"cloud-region.cloud-owner = $prop.cloud-region.cloud-owner\n\t  AND cloud-region.cloud-region-id = $vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region\n\t  AND vip-ipv4-address-list.vip-ipv4-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v4[$ipv4-index]\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"cp\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/vnfcs/vnfc/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n        + '/cps/cp/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-role-index].connection-point.connection-point-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2786.750102996826,
        "y": 6412.023767948151,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "4d809b52.05f224",
                "6355c7af.050d9"
            ]
        ]
    },
    {
        "id": "a3d18e25.19c118",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3178.583194732666,
        "y": 6385.341549396515,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "fde5bb25.6eab78",
                "96fecd53.204d4"
            ]
        ]
    },
    {
        "id": "10e03ab.3830ec5",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3178.5832710266113,
        "y": 6438.341308116913,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "66f00f4e.933f1",
                "96fecd53.204d4"
            ]
        ]
    },
    {
        "id": "4d809b52.05f224",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3021.7500801086426,
        "y": 6385.357219219208,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "a3d18e25.19c118"
            ]
        ]
    },
    {
        "id": "6355c7af.050d9",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3030.3216133117676,
        "y": 6437.976363658905,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "10e03ab.3830ec5"
            ]
        ]
    },
    {
        "id": "ee383b52.01d438",
        "type": "for",
        "name": "for each vnfc-network-role",
        "xml": "<for silentFailure='true' index='vnfc-network-role-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2113.416576385498,
        "y": 6735.357338428497,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "8083303a.d06a3"
            ]
        ]
    },
    {
        "id": "61408d34.a74df4",
        "type": "save",
        "name": "save vip-ipv6-address-list relationship to cp",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"vip-ipv6-address-list:relationship-list\"\n   key=\"cloud-region.cloud-owner = $prop.cloud-region.cloud-owner\n\t  AND cloud-region.cloud-region-id = $vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region\n\t  AND vip-ipv6-address-list.vip-ipv6-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v6[$ipv6-index]\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"cp\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/vnfcs/vnfc/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n        + '/cps/cp/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-role-index].connection-point.connection-point-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2783.416530609131,
        "y": 6733.690121173859,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "f01d7d25.2f7cb",
                "2d4c9713.b3b4b"
            ]
        ]
    },
    {
        "id": "bd84552.fe7fe28",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3175.2496223449707,
        "y": 6707.007902622223,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "98387e99.104df8",
                "96fecd53.204d4"
            ]
        ]
    },
    {
        "id": "55bd1a97.bc2b8c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3175.249698638916,
        "y": 6760.007661342621,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "819cfbd9.9a75b8",
                "96fecd53.204d4"
            ]
        ]
    },
    {
        "id": "f01d7d25.2f7cb",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3018.4165077209473,
        "y": 6707.023572444916,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "bd84552.fe7fe28"
            ]
        ]
    },
    {
        "id": "2d4c9713.b3b4b",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3026.9880409240723,
        "y": 6759.642716884613,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "55bd1a97.bc2b8c"
            ]
        ]
    },
    {
        "id": "c5614b8.e3a3a38",
        "type": "switchNode",
        "name": "switch network-roles match?",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].network-role\n  == $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-role-index].vnfc-network-role`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2365.0832481384277,
        "y": 6412.023605823517,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "5a9b0fe2.51ad78"
            ]
        ]
    },
    {
        "id": "5a9b0fe2.51ad78",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2551.7500915527344,
        "y": 6412.0240931510925,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "19871893.cc9847"
            ]
        ]
    },
    {
        "id": "8083303a.d06a3",
        "type": "switchNode",
        "name": "switch network-roles match?",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].network-role\n  == $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-role-index].vnfc-network-role`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2361.749828338623,
        "y": 6733.690346240997,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "34a7a8dc.e2f4c8"
            ]
        ]
    },
    {
        "id": "34a7a8dc.e2f4c8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2548.4166717529297,
        "y": 6733.690833568573,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "61408d34.a74df4"
            ]
        ]
    },
    {
        "id": "1a648e8e.d27131",
        "type": "comment",
        "name": "SELF-SERVE FORK",
        "info": "",
        "comments": "",
        "x": 711.4642791748047,
        "y": 1065.7976160049438,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "4ee41069.1b1f68",
        "type": "comment",
        "name": "First, count the subnets for this address family",
        "info": "",
        "comments": "",
        "x": 2726.750385284424,
        "y": 3344.999761581421,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "8fa4cbde.d96c08",
        "type": "for",
        "name": "for each subnet-data",
        "xml": "<for index='subnet-data-index' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3100.0830726623535,
        "y": 3640.00026512146,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "d467b1f.701725"
            ]
        ]
    },
    {
        "id": "d467b1f.701725",
        "type": "switchNode",
        "name": "address-families match?",
        "xml": "<switch test='`$tmp.address-family\n  == $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].ip-version`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3326.749698638916,
        "y": 3640.00026512146,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "8bb6b15a.782b98"
            ]
        ]
    },
    {
        "id": "8bb6b15a.782b98",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3506.7496643066406,
        "y": 3640.0006713867188,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "698bc3f7.e95c9c"
            ]
        ]
    },
    {
        "id": "f041336a.316cd",
        "type": "set",
        "name": "set af-count to 0",
        "xml": "<set>\n<parameter name='af-count' value='0' />\n",
        "comments": "",
        "x": 2581.74995803833,
        "y": 3386.666513442993,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "d76c4f09.8e10b8",
        "type": "set",
        "name": "increment af-count",
        "xml": "<set>\n<parameter name='af-count' value='`$af-count + 1`' />\n",
        "comments": "",
        "x": 3330.083324432373,
        "y": 3453.333263397217,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "80f988bb.accbc8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3146.749698638916,
        "y": 3434.999948501587,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "d76c4f09.8e10b8",
                "1f44979a.e02c88"
            ]
        ]
    },
    {
        "id": "1f44979a.e02c88",
        "type": "set",
        "name": "set subnet-id",
        "xml": "<set>\n<parameter name='subnet-id' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].sdnc-subnet-id`' />\n",
        "comments": "",
        "x": 3311.749744415283,
        "y": 3408.333261489868,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "1f14cd7.70cf733",
        "type": "switchNode",
        "name": "switch af-count",
        "xml": "<switch test='`$af-count`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2571.7503700256348,
        "y": 3623.333430290222,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "16183673.7b26a2",
                "30204a0d.e2b17e"
            ]
        ]
    },
    {
        "id": "16183673.7b26a2",
        "type": "outcome",
        "name": "1",
        "xml": "<outcome value='1'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2731.7498893737793,
        "y": 3521.6665992736816,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "80e4ac5b.ed4d6"
            ]
        ]
    },
    {
        "id": "80e4ac5b.ed4d6",
        "type": "set",
        "name": "set subnet-id in vnfc-ip-assignments (temp variable)",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].subnet-id'\n  value='`$subnet-id`' />\n",
        "comments": "",
        "x": 3005.083194732666,
        "y": 3519.999948501587,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "30204a0d.e2b17e",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2731.7498054504395,
        "y": 3723.3335189819336,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "60bde60d.7fdc3"
            ]
        ]
    },
    {
        "id": "60bde60d.7fdc3",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2888.416446685791,
        "y": 3723.333200454712,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "2502e8d8.464bd",
                "8fa4cbde.d96c08",
                "9fc4555.7a3cfa8",
                "911a7c16.59a3f"
            ]
        ]
    },
    {
        "id": "698bc3f7.e95c9c",
        "type": "switchNode",
        "name": "switch network-start-address",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].network-start-address`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3701.749843597412,
        "y": 3638.3335151672363,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "319a767b.d617b2",
                "ccaed42d.bbe328"
            ]
        ]
    },
    {
        "id": "319a767b.d617b2",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 3898.416690826416,
        "y": 3573.3331258296967,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "8b1ae825.01b258"
            ]
        ]
    },
    {
        "id": "ccaed42d.bbe328",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3891.5120887756348,
        "y": 3707.6190373897552,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "e6e8901e.ce83d8"
            ]
        ]
    },
    {
        "id": "e6e8901e.ce83d8",
        "type": "switchNode",
        "name": "switch cidr-mask",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].cidr-mask`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4046.7498817443848,
        "y": 3706.6662442684174,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "32f80f7a.7278e",
                "5d27e1c1.0a5b88"
            ]
        ]
    },
    {
        "id": "32f80f7a.7278e",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 4201.74995803833,
        "y": 3636.6665437221527,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "fe4ceb3b.c7ac88"
            ]
        ]
    },
    {
        "id": "5d27e1c1.0a5b88",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4204.845754623413,
        "y": 3769.285630941391,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "c5140624.bb6f"
            ]
        ]
    },
    {
        "id": "c6664773.42391",
        "type": "outcome",
        "name": "0",
        "xml": "<outcome value='0'>",
        "comments": "",
        "outputs": 1,
        "x": 2073.4165687561035,
        "y": 3243.333200454712,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "632ebb0f.6b72ec"
            ]
        ]
    },
    {
        "id": "8b1ae825.01b258",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4043.416618347168,
        "y": 3573.3328931331635,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "cb15322d.db07d8",
                "1980bda6.0907fa"
            ]
        ]
    },
    {
        "id": "fe4ceb3b.c7ac88",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4348.416473388672,
        "y": 3634.999760389328,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "7d616bdb.daafe4",
                "1980bda6.0907fa"
            ]
        ]
    },
    {
        "id": "66035d73.07c344",
        "type": "comment",
        "name": "Ignore address families with no addresses",
        "info": "",
        "comments": "",
        "x": 2347.749942779541,
        "y": 3173.666696548462,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "c3cf109b.3ee48",
        "type": "switchNode",
        "name": "switch invariant-uuid",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].invariant-uuid`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1318.4167823791504,
        "y": 4803.333074569702,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "1816f4a4.8ea5ab",
                "faa47b4f.e3b78"
            ]
        ]
    },
    {
        "id": "1816f4a4.8ea5ab",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 1500.083194732666,
        "y": 4779.999704360962,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "927d4431.204cf"
            ]
        ]
    },
    {
        "id": "faa47b4f.e3b78",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1498.178466796875,
        "y": 4826.785531997681,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "486da9cb.5e0db"
            ]
        ]
    },
    {
        "id": "927d4431.204cf",
        "type": "save",
        "name": "save vnfc to A&AI",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"vnfc\" \n\tkey=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\" >\n<parameter name=\"vnfc-name\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name`\" />\n<parameter name=\"nfc-naming-code\" value=\"`$tmp.nfc-naming-code`\" />\n<parameter name=\"nfc-function\" value=\"`$tmp.nfc-function`\" />\n<parameter name=\"orchestration-status\" value=\"`PendingCreate`\" />\n<parameter name=\"in-maint\" value=\"true\" />\n<parameter name=\"prov-status\" value=\"`PREPROV`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1661.7498207092285,
        "y": 4781.666696548462,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "ed23263a.02e4b",
                "fd219437.f0a108"
            ]
        ]
    },
    {
        "id": "32e92ddc.ae5c1a",
        "type": "switchNode",
        "name": "switch input cloud-owner",
        "xml": "<switch test='`$vf-module-topology-operation-input.vf-module-request-input.cloud-owner`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 577.4641799926758,
        "y": 455.65472507476807,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "6af710a4.0530e8",
                "2bef5348.d878fc"
            ]
        ]
    },
    {
        "id": "6af710a4.0530e8",
        "type": "other",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 760.7975540161133,
        "y": 425.65471363067627,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "53f56a83.697074"
            ]
        ]
    },
    {
        "id": "2bef5348.d878fc",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 760.5594596862793,
        "y": 466.6072072982788,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "cd4db176.affc4"
            ]
        ]
    },
    {
        "id": "53f56a83.697074",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 895.7975082397461,
        "y": 423.9880533218384,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "cd4db176.affc4",
        "type": "set",
        "name": "set prop.cloud-region.cloud-owner",
        "xml": "<set>\n<parameter name='prop.cloud-region.cloud-owner' value='`$vf-module-topology-operation-input.vf-module-request-input.cloud-owner`' />\n",
        "comments": "",
        "x": 977.4641647338867,
        "y": 465.65473461151123,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "bb29ba7b.f486c",
        "type": "call",
        "name": "call self-serve-vf-module-forking-logic",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='self-serve-vf-module-forking-logic' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 609.0515518188477,
        "y": 1007.0480556488037,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "ac910a9d.5490c8",
        "type": "switchNode",
        "name": "switch ss.self-serve-flag",
        "xml": "<switch test=\"`$ss.self-serve-flag`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 567.1942901611328,
        "y": 1234.0481243133545,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "4dc0eb9c.507774",
                "edaf5038.5b0c1"
            ]
        ]
    },
    {
        "id": "4dc0eb9c.507774",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 787.9084892272949,
        "y": 1351.619023323059,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "b209b55a.0520c"
            ]
        ]
    },
    {
        "id": "edaf5038.5b0c1",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 788.4799423217773,
        "y": 1110.4766607284546,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "c72ffbe.21eac88"
            ]
        ]
    },
    {
        "id": "6e1b2ed4.8fd6b8",
        "type": "call",
        "name": "call check for VNF-API-preload and copy",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='gw-vfmodule-update' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 620.2499771118164,
        "y": 7413.250926017761,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "bdff604f.42ef3",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 942.9999465942383,
        "y": 584.6302671432495,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "bac0765.fd1d008",
                "3e420238.62f4c6"
            ]
        ]
    },
    {
        "id": "3e420238.62f4c6",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"If svc-action is 'assign' then request-action must be 'CreateVfModuleInstance'\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1130.9166297912598,
        "y": 568.2612452507019,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "a8481a22.9610b",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1045.2022514343262,
        "y": 633.1183609962463,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "8f2747d2.b35a78",
                "bac0765.fd1d008"
            ]
        ]
    },
    {
        "id": "8f2747d2.b35a78",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error reading VF_MODULE_MODEL table\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1242.5236549377441,
        "y": 611.6540603637695,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "12fc934c.3bd04d",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1059.4879570007324,
        "y": 678.2612137794495,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "6cfbe00a.c48468",
                "bac0765.fd1d008"
            ]
        ]
    },
    {
        "id": "6cfbe00a.c48468",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'No model found for VF module customization UUID ' + $vf-module-topology-operation-input.vf-module-information.onap-model-information.model-customization-uuid`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1254.130844116211,
        "y": 655.2255001068115,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "b40ea227.e7972",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1021.09521484375,
        "y": 806.3326950073242,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "4f3db911.0a293",
                "bac0765.fd1d008"
            ]
        ]
    },
    {
        "id": "4f3db911.0a293",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"There are no VNFs defined in MD-SAL\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1228.059471130371,
        "y": 777.3684196472168,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "5cd79a68.a802ec",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 885.3809204101562,
        "y": 914.3326950073242,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "866d0c00.2ab2",
                "bac0765.fd1d008"
            ]
        ]
    },
    {
        "id": "866d0c00.2ab2",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Unable to find VNF ID ' + $vf-module-topology-operation-input.vnf-information.vnf-id + ' in MD-SAL'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1087.34521484375,
        "y": 889.6898641586304,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "58bfc070.0570d8",
        "type": "call",
        "name": "call self-serve-vf-module-assign",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='self-serve-vf-module-assign' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1210.3325843811035,
        "y": 1023.1062259674072,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "d28cd7af.2db2a8"
            ]
        ]
    },
    {
        "id": "d28cd7af.2db2a8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1430.6301651000977,
        "y": 1022.5942573547363,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "dbee4993.a7efc8"
            ]
        ]
    },
    {
        "id": "9f93468d.33b288",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 1163.035255432129,
        "y": 1268.3677835464478,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "b8c19138.abe93",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/ss-vnfend.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 1149.2494659423828,
        "y": 1114.1094017028809,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "62bf18c3.b6afd8",
        "type": "set",
        "name": "set order-status to PendingCreate",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-level-oper-status.order-status'\n  value='PendingCreate' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-level-oper-status.last-rpc-action'\n  value='`$vf-module-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-level-oper-status.last-action'\n  value='`$vf-module-topology-operation-input.request-information.request-action`' />\n",
        "comments": "",
        "x": 1218.2732276916504,
        "y": 1068.070255279541,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "c72ffbe.21eac88",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 959.3686981201172,
        "y": 1109.5700874328613,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "58bfc070.0570d8",
                "62bf18c3.b6afd8",
                "b8c19138.abe93",
                "9f93468d.33b288",
                "b7e13818.1bbbd",
                "f83606b1.57aa68"
            ]
        ]
    },
    {
        "id": "bac0765.fd1d008",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1669.5477752685547,
        "y": 1290.9046697616577,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "50c201dc.9bc778",
                "adbc50ce.7d37f"
            ]
        ]
    },
    {
        "id": "dbee4993.a7efc8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1576.6308898925781,
        "y": 1021.9756126403809,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "dece85a0.4a47e",
                "bac0765.fd1d008"
            ]
        ]
    },
    {
        "id": "dece85a0.4a47e",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Failed to create self-serve assignment for vf-module with vf-module-id=' + $vf-module-topology-operation-input.vf-module-information.vf-module-id + ' with error: ' + $error-message`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1774.3096466064453,
        "y": 1001.2613220214844,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "39450462.cb0f84",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'VF module id ' + $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-id\n       + ' already exists, and status is ' + $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-data.vf-module-level-oper-status.order-status`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2481.75,
        "y": 1520.4688329696655,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "2a30af16.7b82",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2287.821090698242,
        "y": 1539.9331216812134,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "39450462.cb0f84",
                "8964842b.6432c8"
            ]
        ]
    },
    {
        "id": "7e580eff.038e2",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 992.8213195800781,
        "y": 1757.5997638702393,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "d95a6d03.0b146",
                "8964842b.6432c8"
            ]
        ]
    },
    {
        "id": "caeb64b7.ba2878",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 994.4880065917969,
        "y": 1800.9331378936768,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "6195cb44.48d0f4",
                "8964842b.6432c8"
            ]
        ]
    },
    {
        "id": "d95a6d03.0b146",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Cloud region not found in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1196.749984741211,
        "y": 1734.385540008545,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "6195cb44.48d0f4",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error retrieving cloud region from AAI.  Is AAI down?\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1192.1667251586914,
        "y": 1782.718876838684,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "42e790a.f88747",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 877.4045333862305,
        "y": 1981.5998163223267,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "69f063a.3b46c9c",
                "8964842b.6432c8"
            ]
        ]
    },
    {
        "id": "69f063a.3b46c9c",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Unable to find aic-clli in AAI for aic-cloud-region ' + $vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1070.0831909179688,
        "y": 1954.3855466842651,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "8964842b.6432c8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1671.571434020996,
        "y": 2242.5405530929565,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "3728e3f3.742a9c",
                "3312acbf.c98b04"
            ]
        ]
    },
    {
        "id": "6152a91e.e447b",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-assign-rollback",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-assign-rollback' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2786.749900817871,
        "y": 2730.774143218994,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "fddcb313.1cf958",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2404.011390686035,
        "y": 2781.1913537979126,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "6152a91e.e447b",
                "d8f50cf3.b660b8",
                "7e407330.b6b2bc"
            ]
        ]
    },
    {
        "id": "8d60dce.3fe77a",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2965.083194732666,
        "y": 2421.52436542511,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "61ebd127.67b2b",
                "fddcb313.1cf958"
            ]
        ]
    },
    {
        "id": "61ebd127.67b2b",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'from-preload flag is true but could not find preload information for VF module name ' + $vf-module-topology-operation-input.vf-module-request-input.vf-module-name`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3164.666435241699,
        "y": 2388.1673097610474,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "59ff4e4b.8c6b68",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2136.987747192383,
        "y": 2569.107672691345,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "9b4ca4c4.41e2c8",
                "fddcb313.1cf958"
            ]
        ]
    },
    {
        "id": "9b4ca4c4.41e2c8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error retrieving preload-information\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2342.999855041504,
        "y": 2543.7504091262817,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "59263ccb.02e03c",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-assign-rollback",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-assign-rollback' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4210.0835037231445,
        "y": 4609.2463722229,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "1980bda6.0907fa",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3822.3447189331055,
        "y": 4655.9133133888245,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "59263ccb.02e03c",
                "15beb6ed.58fac9",
                "98fe2567.5c7fd"
            ]
        ]
    },
    {
        "id": "a8978c6d.0307c8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'VNFC network role '\n      + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-network-role\n      + ' is not found in VNF network list'\n      `\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1905.0833053588867,
        "y": 3052.7189245224,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "cb15322d.db07d8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'SDNC subnet id '\n      + $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].sdnc-subnet-id\n      + ' does not have network-start-address populated'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 4234.666793823242,
        "y": 3528.4130017757416,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "7d616bdb.daafe4",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'SDNC subnet id '\n      + $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].sdnc-subnet-id\n      + ' does not have cidr-mask populated'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 4549.666816711426,
        "y": 3605.9130086898804,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "cb1415b6.cece5",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Not able to find VNF network subnet that contains address '\n      + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[0].vnfc-ip-address\n      `\" />",
        "comments": "",
        "outputs": 1,
        "x": 3597.1667709350586,
        "y": 3725.913025856018,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "e1550da4.520918",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error reading VFC_RELATED_NETWORK_ROLE table\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2037.8610229492188,
        "y": 3962.441393852234,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "7b08fad7.a132ec",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Unable to find related network '\n      + $db.vnf-related-network-role[$db-related-network-index].related-network-role + ' in vnf-networks'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2845.361083984375,
        "y": 4147.441142082214,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "ce58c07c.b817d",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error saving vnfc to AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2221.749931335449,
        "y": 4770.080783843994,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "c7eb84c5.f0e708",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-assign-rollback",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-assign-rollback' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3698.555419921875,
        "y": 5965.0813245773315,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "387bacc5.df1d84",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3312.066909790039,
        "y": 6007.998537063599,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "c7eb84c5.f0e708",
                "e35102b5.ead4c",
                "62bbfbdf.d34f3c"
            ]
        ]
    },
    {
        "id": "8a14b675.cd4478",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error updating vnfc relationships in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1859.091293334961,
        "y": 4883.829997062683,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "b8157190.3209b8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Not-found error updating vnfc relationships\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1858.5556144714355,
        "y": 4940.794563293457,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "3296dfd.dbc53a",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error saving cp object to AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2301.0556240081787,
        "y": 5110.080264091492,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "804becc1.78da28",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error updating cp relationship to l3-network in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2956.0556869506836,
        "y": 5562.3025188446045,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "7e2874de.0ebfec",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error updating cp relationship to l3-network\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2958.5556869506836,
        "y": 5624.802521705627,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "9d950f64.0102",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating cp relationship to l3-network and vlan-tag in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3287.1272888183594,
        "y": 5722.302535057068,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "b2d45985.f53aa8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error updating cp relationship to l3-network and vlan-tag\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3289.6273880004883,
        "y": 5784.802536010742,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "c5ce8f8a.5c8cc",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error creating l3-interface-ipv4-address-list object in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3978.9729919433594,
        "y": 5193.552491188049,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "d6d217c2.575b08",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating l3-interface-ipv4-address-list relationships in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3976.4729919433594,
        "y": 5272.302496910095,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "eacb1b8b.899fc",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error updating l3-interface-ipv4-address-list relationships\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3978.972724914551,
        "y": 5332.302503585815,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "e1c04fe9.9abb6",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error creating l3-interface-ipv6-address-list object in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3982.7227325439453,
        "y": 5382.302508354187,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "b00c290a.190b9",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating l3-interface-ipv6-address-list relationships in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3981.4724655151367,
        "y": 5443.55251121521,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "f9dafb05.46c9b",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error updating l3-interface-ipv6-address-list relationships\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3982.7224655151367,
        "y": 5503.552512168884,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "cf7438ea.85212",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-assign-rollback",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-assign-rollback' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4392.722400665283,
        "y": 5629.802440643311,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "4f9c607a.ce1c88",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4012.48388671875,
        "y": 5674.469653129578,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "cf7438ea.85212",
                "a33ba8b8.1d7cc",
                "de495219.3e8f9"
            ]
        ]
    },
    {
        "id": "26a60a34.f6645e",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-assign-rollback",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-assign-rollback' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3816.1943130493164,
        "y": 7094.2466859817505,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "96fecd53.204d4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3428.455535888672,
        "y": 7144.6633558273315,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "26a60a34.f6645e",
                "ac95a18e.e9d4e8",
                "23f95643.5a124a"
            ]
        ]
    },
    {
        "id": "819cfbd9.9a75b8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error updating vip-ipv4-address-list relationship to cp\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3366.194606781006,
        "y": 6732.996903419495,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "98387e99.104df8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating vip-ipv4-address-list relationship to cp in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3359.9448776245117,
        "y": 6669.247437477112,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "66f00f4e.933f1",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error updating vip-ipv4-address-list relationship to cp\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3371.194610595703,
        "y": 6420.49688243866,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "fde5bb25.6eab78",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating vip-ipv4-address-list relationship to cp in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3371.1948776245117,
        "y": 6359.2474184036255,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "131ea97.a877f57",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error updating vip-ipv6-address-list relationships\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2738.6945724487305,
        "y": 6620.4968938827515,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "7345e678.7bf88",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating vip-ipv6-address-list relationships in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2737.444564819336,
        "y": 6562.997429847717,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "3bd1f48b.4c0b2c",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error saving vip-ipv6-address-list\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2401.194549560547,
        "y": 6506.746886253357,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "67c04d7.9f55234",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error saving vip-ipv6-address-list in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2401.194549560547,
        "y": 6452.996883392334,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "703340a7.64aea8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error updating vip-ipv4-address-list relationships\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2747.444568634033,
        "y": 6295.496874809265,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "1eb209e1.85fe36",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating vip-ipv4-address-list relationships in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2748.6945724487305,
        "y": 6237.996870994568,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "5c926ac4.441d54",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error saving vip-ipv4-address-list\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2404.944549560547,
        "y": 6194.246867179871,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "ac68386.d27d148",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error saving vip-ipv4-address-list in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2401.194549560547,
        "y": 6126.746863365173,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "8ce17d26.7481f8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'No l3-network found in AAI for network ID '\n      + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].network-id`\" />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1898.6945152282715,
        "y": 6051.74686050415,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "bcecc401.bf37b",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating vf-module relationships in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1899.9445114135742,
        "y": 5992.996852397919,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "9929cc19.031428",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating vf-module in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1051.7499694824219,
        "y": 4423.830560684204,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "da0980a4.747a78",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"`'No vf-module found in AAI for vf module ID ' + $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1055.4999694824219,
        "y": 4500.080563545227,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "ebdeb223.d9f918",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/bgb-vfmodule.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 439.07335662841797,
        "y": 8061.709958553314,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "54266176.fdc52",
        "type": "execute",
        "name": "execute RestApiCallNode - PUT vf-module",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + 'vf-module-assign.json'`\" />\n    <parameter name='restapiUrl' value=\"`$prop.controller.url + $tmp.vf-module.url`\" />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"vf-module-assign\" />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 536.406494140625,
        "y": 7920.908839225769,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "1c4e5947.7ebd1f",
                "8333ad7b.b22908"
            ]
        ]
    },
    {
        "id": "1c4e5947.7ebd1f",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 817.1906661987305,
        "y": 7941.604918003082,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "abc9858a.0d3df8"
            ]
        ]
    },
    {
        "id": "8333ad7b.b22908",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 809.6193008422852,
        "y": 7900.104938030243,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "abc9858a.0d3df8"
            ]
        ]
    },
    {
        "id": "abc9858a.0d3df8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1018.5494117736816,
        "y": 7920.273898601532,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "2a8c3363.38afe4",
                "7d6098e9.a14988"
            ]
        ]
    },
    {
        "id": "e61f24da.fdfe2",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-assign-rollback",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-assign-rollback' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1772.799659729004,
        "y": 8062.442268848419,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "7d6098e9.a14988",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1391.846908569336,
        "y": 8114.465925693512,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "e61f24da.fdfe2",
                "24f79f9e.6a9758",
                "77199d84.b65ee4"
            ]
        ]
    },
    {
        "id": "2a8c3363.38afe4",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error doing PUT of vf-module\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1223.0498275756836,
        "y": 7892.798912525177,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "23e90598.1ab01a",
        "type": "comment",
        "name": "This should have been removed from Dublin",
        "info": "",
        "comments": "",
        "x": 691.7499771118164,
        "y": 7382.302031517029,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "bf8d316e.62c2d",
        "type": "set",
        "name": "Initialize SO 500 reponse params",
        "xml": "<set>\n<parameter name=\"so.ack-final-indicator\" value=\"Y\" />\n<parameter name=\"so.response-code\" value=\"500\" />\n<parameter name=\"so.notification-url\" value=\"`$vf-module-topology-operation-input.sdnc-request-header.svc-notification-url`\" />\n<parameter name=\"so.svc-request-id\" value=\"`$vf-module-topology-operation-input.sdnc-request-header.svc-request-id`\" />\n<parameter name=\"so.service-type\" value=\"`$vf-module-topology-operation-input.service-information.subscription-service-type`\" />\n<parameter name=\"so.service-instance-id\" value=\"`$vf-module-topology-operation-input.service-information.service-instance-id`\" />",
        "comments": "",
        "x": 607.9999160766602,
        "y": 367.0242910385132,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "50c201dc.9bc778",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1976.749855041504,
        "y": 1269.3854932785034,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "3728e3f3.742a9c",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1984.249900817871,
        "y": 2221.6077127456665,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "f83606b1.57aa68",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1272.9998779296875,
        "y": 1217.3020362854004,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "b7e13818.1bbbd",
        "type": "set",
        "name": "set so.reponse-code = 200",
        "xml": "<set>\n<parameter name=\"so.response-code\" value=\"200\" />\n",
        "comments": "",
        "x": 1201.749900817871,
        "y": 1161.0520486831665,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "d8f50cf3.b660b8",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2729.2498817443848,
        "y": 2781.3300075531006,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "15beb6ed.58fac9",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4151.888816833496,
        "y": 4656.8853006362915,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "a33ba8b8.1d7cc",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4334.388854980469,
        "y": 5673.691195487976,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "e35102b5.ead4c",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3635.638816833496,
        "y": 6010.4966287612915,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "ac95a18e.e9d4e8",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3755.638816833496,
        "y": 7144.5244607925415,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "24f79f9e.6a9758",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1713.6943054199219,
        "y": 8115.219509601593,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "2f669bfa.b0d904",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 557.4444274902344,
        "y": 8168.971009731293,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "db29530f.c21f7",
        "type": "set",
        "name": "set so.reponse-code = 200",
        "xml": "<set>\n<parameter name=\"so.response-code\" value=\"200\" />\n",
        "comments": "",
        "x": 487.4444274902344,
        "y": 8114.942265033722,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "77199d84.b65ee4",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 1594.9443664550781,
        "y": 8163.969213008881,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "23f95643.5a124a",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 3635.360984802246,
        "y": 7193.1353006362915,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "62bbfbdf.d34f3c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 3514.110984802246,
        "y": 6055.7744607925415,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "de495219.3e8f9",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 4217.860984802246,
        "y": 5718.2744607925415,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "98fe2567.5c7fd",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 4032.860984802246,
        "y": 4701.0522928237915,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "7e407330.b6b2bc",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 2612.999900817871,
        "y": 2827.4409646987915,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "3312acbf.c98b04",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 1865.499900817871,
        "y": 2263.2742166519165,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "adbc50ce.7d37f",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 1856.749900817871,
        "y": 1312.024338722229,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "d6e0298e.3c1e8",
        "type": "set",
        "name": "copy vf-module data",
        "xml": "<set>\n<parameter name='vf-module-data.'\n  value='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.' />\n",
        "comments": "",
        "x": 456.07117462158203,
        "y": 7565.457427024841,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "d3460755.d852e",
        "type": "execute",
        "name": "generate vf-module URL (sub service-instance-id)",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.vf-module`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.part\"/>\n    <parameter name=\"target\" value=\"{service-instance-id}\"/>\n    <parameter name=\"replacement\" value=\"`$service-data.service-topology.service-topology-identifier.service-instance-id`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 555.1782150268555,
        "y": 7649.745085716248,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "d35134f0.fec4d",
        "type": "execute",
        "name": "generate vf-module URL (sub vnf-id)",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.part`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.part\"/>\n    <parameter name=\"target\" value=\"{vnf-id}\"/>\n    <parameter name=\"replacement\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-id`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 509.82102966308594,
        "y": 7694.92303943634,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "7916d324.cb3bf4",
        "type": "execute",
        "name": "generate vf-module URL (sub vf-module-id)",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.part`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.vf-module.url\"/>\n    <parameter name=\"target\" value=\"{vf-module-id}\"/>\n    <parameter name=\"replacement\" value=\"`$vf-module-topology-operation-input.vf-module-information.vf-module-id`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 534.9996871948242,
        "y": 7741.530030250549,
        "z": "1e5d41b0.b1168e",
        "wires": [
            []
        ]
    },
    {
        "id": "1d9375e8.fa4aba",
        "type": "comment",
        "name": "'New' version of DG, called for flows where SO expects async response (so-bpmn-infra)",
        "info": "",
        "comments": "",
        "x": 490.99998474121094,
        "y": 160.99999618530273,
        "z": "1e5d41b0.b1168e",
        "wires": []
    },
    {
        "id": "54659cd5.5a9534",
        "type": "switchNode",
        "name": "cloud-owner passed in input?",
        "xml": "<switch test=\"`$vf-module-topology-operation-input.vf-module-request-input.cloud-owner != ''`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 678,
        "y": 320,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "47e0f28c.35157c"
            ]
        ]
    },
    {
        "id": "47e0f28c.35157c",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 975,
        "y": 320,
        "z": "1e5d41b0.b1168e",
        "wires": [
            [
                "55504f2e.1c2d8"
            ]
        ]
    },
    {
        "id": "55504f2e.1c2d8",
        "type": "set",
        "name": "set prop.cloud-region.cloud-owner to input cloud-owner",
        "xml": "<set>\n<parameter name='prop.cloud-region.cloud-owner' value='`$vf-module-topology-operation-input.vf-module-request-input.cloud-owner`' />\n",
        "comments": "",
        "x": 1346,
        "y": 316,
        "z": "1e5d41b0.b1168e",
        "wires": []
    }
]