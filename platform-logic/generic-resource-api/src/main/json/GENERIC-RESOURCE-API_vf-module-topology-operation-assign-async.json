[
    {
        "id": "47ef00b1.749c8",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 195,
        "y": 102.5242919921875,
        "z": "34265cd.7205424",
        "wires": [
            [
                "4efb4066.e4139"
            ]
        ]
    },
    {
        "id": "4efb4066.e4139",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 308.8571357727051,
        "y": 142.33382987976074,
        "z": "34265cd.7205424",
        "wires": [
            [
                "3089d18d.9d8e36"
            ]
        ]
    },
    {
        "id": "3089d18d.9d8e36",
        "type": "method",
        "name": "method vf-module-topology-operation-assign-async",
        "xml": "<method rpc='vf-module-topology-operation-assign-async' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 308.42862701416016,
        "y": 182.5242919921875,
        "z": "34265cd.7205424",
        "wires": [
            [
                "effbab1c.8eeb18"
            ]
        ]
    },
    {
        "id": "ddba88b.d2daa78",
        "type": "comment",
        "name": "vf-module-topology-operation-assign-async",
        "info": "",
        "comments": "",
        "x": 549.0711059570312,
        "y": 21,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "13d1edde.2c3cc2",
        "type": "switchNode",
        "name": "switch request-action",
        "xml": "<switch test='`$vf-module-topology-operation-input.request-information.request-action`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 600.1905212402344,
        "y": 455.5480899810791,
        "z": "34265cd.7205424",
        "wires": [
            [
                "d09a1f6d.c339a8",
                "ae721e71.bc28f8"
            ]
        ]
    },
    {
        "id": "d09a1f6d.c339a8",
        "type": "outcome",
        "name": "CreateVfModuleInstance",
        "xml": "<outcome value='CreateVfModuleInstance'>\n",
        "comments": "",
        "outputs": 1,
        "x": 870.9881591796875,
        "y": 423.9409656524658,
        "z": "34265cd.7205424",
        "wires": [
            [
                "163e3c12.686c64"
            ]
        ]
    },
    {
        "id": "ae721e71.bc28f8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 805.9047813415527,
        "y": 488.0719690322876,
        "z": "34265cd.7205424",
        "wires": [
            [
                "b097fd2d.1c3e2"
            ]
        ]
    },
    {
        "id": "163e3c12.686c64",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1060.845323562622,
        "y": 423.94099712371826,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "356786ed.1c1db2",
        "type": "get-resource",
        "name": "get-resource VF_MODULE_MODEL",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='SELECT * from VF_MODULE_MODEL WHERE customization_uuid = $vf-module-topology-operation-input.vf-module-information.onap-model-information.model-customization-uuid'\n  pfx='db.vf-module-model'>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 647.5237884521484,
        "y": 556.6910438537598,
        "z": "34265cd.7205424",
        "wires": [
            [
                "3e27e49d.23f3f4",
                "80af5787.882358"
            ]
        ]
    },
    {
        "id": "3e27e49d.23f3f4",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 913.3094787597656,
        "y": 537.0718746185303,
        "z": "34265cd.7205424",
        "wires": [
            [
                "2b23f970.b0e516"
            ]
        ]
    },
    {
        "id": "80af5787.882358",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 921.8809089660645,
        "y": 581.357587814331,
        "z": "34265cd.7205424",
        "wires": [
            [
                "19ca61b5.8fa5c6"
            ]
        ]
    },
    {
        "id": "f269ddb2.03ac18",
        "type": "switchNode",
        "name": "switch service-data.vnfs.vnf_length",
        "xml": "<switch test='`$service-data.vnfs.vnf_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 641.3690414428711,
        "y": 734.0124034881592,
        "z": "34265cd.7205424",
        "wires": [
            [
                "b91f6edf.e66fa",
                "de858ec5.7b807"
            ]
        ]
    },
    {
        "id": "b91f6edf.e66fa",
        "type": "other",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 882.0833129882812,
        "y": 710.155143737793,
        "z": "34265cd.7205424",
        "wires": [
            [
                "57fdbbee.7122f4"
            ]
        ]
    },
    {
        "id": "de858ec5.7b807",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 881.8451538085938,
        "y": 752.1076622009277,
        "z": "34265cd.7205424",
        "wires": [
            [
                "b90f80a9.a4803"
            ]
        ]
    },
    {
        "id": "b2cbded2.837b2",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 239.9404296875,
        "y": 3171.9293028116226,
        "z": "34265cd.7205424",
        "wires": [
            [
                "a43d883.25c17f8",
                "a0b91b46.4fb248",
                "cb9c99a0.7906c",
                "734ae3c5.175e1c",
                "d02c5f14.3d4ee",
                "97b7d623.89325",
                "925699fb.c3532",
                "500b7c10.330fb4",
                "e5d088d4.d1279",
                "9f6faea5.1876d",
                "b6b2184e.def9e",
                "6c341ffe.ffd948",
                "602e0129.20af78",
                "f312e38d.47c19",
                "c5f1094.89d7678",
                "bdd166c5.9655d",
                "3326bf0a.c858a",
                "eada7f38.32c088",
                "8aa4893.5435478",
                "40d2ead1.29e2d4",
                "205882d9.0b5ba6",
                "e9f0935c.0d26e",
                "cf288013.27e988",
                "50d2cea2.bb528",
                "886b51f6.cb8c8",
                "14aa8b5.d6278f5",
                "4b70bca8.2d04e4",
                "d4b60897.e18598",
                "fcdfebce.a935a8",
                "84fdd3bf.927fd",
                "9f112544.7f8a58",
                "5b817e7f.0206",
                "a1c5d05.89a983",
                "7e168e6e.8d02f8",
                "c1894905.cb3d58",
                "7badb381.1fbf0c",
                "2d6c7dfc.640b9a"
            ]
        ]
    },
    {
        "id": "b90f80a9.a4803",
        "type": "for",
        "name": "for each vnf",
        "xml": "<for index='idx' start='0' end='`$service-data.vnfs.vnf_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1044.0832977294922,
        "y": 751.7742805480957,
        "z": "34265cd.7205424",
        "wires": [
            [
                "f126a52f.3ffd6"
            ]
        ]
    },
    {
        "id": "f126a52f.3ffd6",
        "type": "switchNode",
        "name": "switch service data vnf == input vnf",
        "xml": "<switch test='`$service-data.vnfs.vnf[$idx].vnf-id == $vf-module-topology-operation-input.vnf-information.vnf-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1295.4165954589844,
        "y": 751.4410085678101,
        "z": "34265cd.7205424",
        "wires": [
            [
                "9db43827.db871"
            ]
        ]
    },
    {
        "id": "9db43827.db871",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1525.4166069030762,
        "y": 750.7743215560913,
        "z": "34265cd.7205424",
        "wires": [
            [
                "c01d11b0.35cf18"
            ]
        ]
    },
    {
        "id": "527b3c86.073724",
        "type": "set",
        "name": "set vnf-index to -1",
        "xml": "<set>\n<parameter name='vnf-index' value='-1' />\n",
        "comments": "",
        "x": 590.4166641235352,
        "y": 665.4409027099609,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "c592a9bb.2acb88",
        "type": "set",
        "name": "set vnf-index to idx",
        "xml": "<set>\n<parameter name='vnf-index' value='`$idx`' />\n",
        "comments": "",
        "x": 1847.0832443237305,
        "y": 721.7742795944214,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "aca51e3b.78a188",
        "type": "switchNode",
        "name": "switch vnf-index",
        "xml": "<switch test='`$vnf-index`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 579.1666870117188,
        "y": 817.6075925827026,
        "z": "34265cd.7205424",
        "wires": [
            [
                "cb668766.b21a98"
            ]
        ]
    },
    {
        "id": "cb668766.b21a98",
        "type": "outcome",
        "name": "-1",
        "xml": "<outcome value='-1'>\n",
        "comments": "",
        "outputs": 1,
        "x": 757.500072479248,
        "y": 816.9409685134888,
        "z": "34265cd.7205424",
        "wires": [
            [
                "a0d2ddbe.4ce55"
            ]
        ]
    },
    {
        "id": "a43d883.25c17f8",
        "type": "switchNode",
        "name": "switch vf-module_length",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 617.0833854675293,
        "y": 1388.3577966690063,
        "z": "34265cd.7205424",
        "wires": [
            [
                "8981146c.cb942",
                "fcfff00d.49938"
            ]
        ]
    },
    {
        "id": "8981146c.cb942",
        "type": "other",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 874.4643402099609,
        "y": 1355.5005702972412,
        "z": "34265cd.7205424",
        "wires": [
            [
                "3dbed402.1d6ef4"
            ]
        ]
    },
    {
        "id": "3dbed402.1d6ef4",
        "type": "set",
        "name": "set vf-module-index=0",
        "xml": "<set>\n<parameter name='vf-module-index' value='0' />\n",
        "comments": "",
        "x": 1062.0833778381348,
        "y": 1356.167345046997,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "fcfff00d.49938",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 874.8928833007812,
        "y": 1419.786428451538,
        "z": "34265cd.7205424",
        "wires": [
            [
                "7565eb2b.4c1ff4"
            ]
        ]
    },
    {
        "id": "c0b8cef7.d83a68",
        "type": "set",
        "name": "set vf-module-index = vf-module_length",
        "xml": "<set>\n<parameter name='vf-module-index' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length`' />\n",
        "comments": "",
        "x": 1260.083423614502,
        "y": 1399.9768238067627,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "baf65dc8.0e8fb8",
        "type": "for",
        "name": "for each existing VF module",
        "xml": "<for index='idx' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1219.1785163879395,
        "y": 1444.0720539093018,
        "z": "34265cd.7205424",
        "wires": [
            [
                "c8acfe74.080af8"
            ]
        ]
    },
    {
        "id": "7565eb2b.4c1ff4",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1011.6071624755859,
        "y": 1419.7863540649414,
        "z": "34265cd.7205424",
        "wires": [
            [
                "c0b8cef7.d83a68",
                "baf65dc8.0e8fb8"
            ]
        ]
    },
    {
        "id": "c8acfe74.080af8",
        "type": "switchNode",
        "name": "switch vf-module-information.vf-module-id == service-data.vnfs.vnf[].vf-modules.vf-module[].vf-module-id",
        "xml": "<switch test='`$vf-module-topology-operation-input.vf-module-information.vf-module-id == $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1722.7976188659668,
        "y": 1443.6434650421143,
        "z": "34265cd.7205424",
        "wires": [
            [
                "e7c1d7a5.ea41f"
            ]
        ]
    },
    {
        "id": "e7c1d7a5.ea41f",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2165.4166679382324,
        "y": 1443.214916229248,
        "z": "34265cd.7205424",
        "wires": [
            [
                "bdb7e590.4bbf98"
            ]
        ]
    },
    {
        "id": "d2392dfe.c660f",
        "type": "comment",
        "name": "make sure this VF module doesn't exist already",
        "info": "",
        "comments": "",
        "x": 1749.2499656677246,
        "y": 1398.270956993103,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "a0b91b46.4fb248",
        "type": "set",
        "name": "set new vf-module_length",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length' value='`$vf-module-index + 1`' />\n",
        "comments": "",
        "x": 627.7499656677246,
        "y": 1499.3576517105103,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "cb9c99a0.7906c",
        "type": "set",
        "name": "set vf-module-topology data",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-topology-identifier.vf-module-id' value='`$vf-module-topology-operation-input.vf-module-information.vf-module-id`' />\n<parameter name='tmp.vf-module-topology.vf-module-topology-identifier.vf-module-name' value='`$vf-module-topology-operation-input.vf-module-request-input.vf-module-name`' />\n<parameter name='tmp.vf-module-topology.vf-module-topology-identifier.vf-module-type' value='`$vf-module-topology-operation-input.vf-module-information.vf-module-type`' />\n<parameter name='tmp.vf-module-topology.tenant' value='`$vf-module-topology-operation-input.vf-module-request-input.tenant`' />\n<parameter name='tmp.vf-module-topology.aic-cloud-region' value='`$vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region`' />\n",
        "comments": "",
        "x": 634.2499847412109,
        "y": 1611.8577585220337,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "ee8323c4.89df98",
        "type": "set",
        "name": "set aic-clli",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.aic-clli'\n   value='`$aai-uid-split[$aai-uid-split_length - 1]`' />\n",
        "comments": "",
        "x": 1395.2022438049316,
        "y": 1771.095685005188,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "734ae3c5.175e1c",
        "type": "switchNode",
        "name": "switch aic-clli",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.aic-clli`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 594.2499046325684,
        "y": 1885.0480251312256,
        "z": "34265cd.7205424",
        "wires": [
            [
                "a5088391.cb913"
            ]
        ]
    },
    {
        "id": "a5088391.cb913",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 739.5355949401855,
        "y": 1885.0480937957764,
        "z": "34265cd.7205424",
        "wires": [
            [
                "2b8167ac.ee8e3"
            ]
        ]
    },
    {
        "id": "d02c5f14.3d4ee",
        "type": "get-resource",
        "name": "get-resource cloud region",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"cloud-region\" \n\t\tkey=\"cloud-region.cloud-owner = $prop.cloud-region.cloud-owner AND \n\t\t     cloud-region.cloud-region-id = $vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region\"\n        pfx='aai.cloud-region' local-only='false' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 633.107120513916,
        "y": 1685.1912965774536,
        "z": "34265cd.7205424",
        "wires": [
            [
                "afc6e33.fafafa",
                "60ebcdb7.264a0c"
            ]
        ]
    },
    {
        "id": "60ebcdb7.264a0c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 847.3533134460449,
        "y": 1703.34215259552,
        "z": "34265cd.7205424",
        "wires": [
            [
                "71cefe31.79b508"
            ]
        ]
    },
    {
        "id": "afc6e33.fafafa",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 856.281909942627,
        "y": 1660.6278858184814,
        "z": "34265cd.7205424",
        "wires": [
            [
                "e750571d.ca626"
            ]
        ]
    },
    {
        "id": "c01d11b0.35cf18",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1673.7500686645508,
        "y": 749.6940202713013,
        "z": "34265cd.7205424",
        "wires": [
            [
                "c592a9bb.2acb88",
                "9ce31ee0.52ab58"
            ]
        ]
    },
    {
        "id": "9ce31ee0.52ab58",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 1808.7500343322754,
        "y": 771.3606061935425,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "c55eb946.3ed8e8",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-invariant-uuid'\n  value='`$db.vf-module-model.invariant-uuid`' />\n",
        "comments": "",
        "x": 1008.5832443237305,
        "y": 1926.4440183639526,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "97b7d623.89325",
        "type": "switchNode",
        "name": "switch input model-invariant-uuid",
        "xml": "<switch test='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-invariant-uuid`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 652.4403190612793,
        "y": 1949.2684621810913,
        "z": "34265cd.7205424",
        "wires": [
            [
                "ef2c9ecf.3ea71",
                "6560f94f.b870d8"
            ]
        ]
    },
    {
        "id": "ef2c9ecf.3ea71",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 858.106990814209,
        "y": 1926.4114255905151,
        "z": "34265cd.7205424",
        "wires": [
            [
                "c55eb946.3ed8e8"
            ]
        ]
    },
    {
        "id": "6560f94f.b870d8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 859.535587310791,
        "y": 1970.6970167160034,
        "z": "34265cd.7205424",
        "wires": [
            [
                "3ee20fc0.bf22f"
            ]
        ]
    },
    {
        "id": "3ee20fc0.bf22f",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-invariant-uuid'\n  value='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-invariant-uuid`' />\n",
        "comments": "",
        "x": 1013.8213233947754,
        "y": 1970.1255888938904,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "3108a061.0ec8f",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-uuid'\n  value='`$db.vf-module-model.uuid`' />\n",
        "comments": "",
        "x": 1009.535514831543,
        "y": 2014.9826946258545,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "925699fb.c3532",
        "type": "switchNode",
        "name": "switch input model-uuid",
        "xml": "<switch test='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-uuid`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 625.0593376159668,
        "y": 2037.8071994781494,
        "z": "34265cd.7205424",
        "wires": [
            [
                "935ab6e4.246cd",
                "110bf82.0172d08"
            ]
        ]
    },
    {
        "id": "935ab6e4.246cd",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 859.0593109130859,
        "y": 2014.9501314163208,
        "z": "34265cd.7205424",
        "wires": [
            [
                "3108a061.0ec8f"
            ]
        ]
    },
    {
        "id": "110bf82.0172d08",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 860.487907409668,
        "y": 2059.235722541809,
        "z": "34265cd.7205424",
        "wires": [
            [
                "f5fdcdbb.a51fc8"
            ]
        ]
    },
    {
        "id": "f5fdcdbb.a51fc8",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-uuid'\n  value='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-uuid`' />\n",
        "comments": "",
        "x": 1014.7736434936523,
        "y": 2058.664294719696,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "3414be68.250f22",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-version'\n  value='`$db.vf-module-model.version`' />\n",
        "comments": "",
        "x": 1006.6784477233887,
        "y": 2103.8399019241333,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "500b7c10.330fb4",
        "type": "switchNode",
        "name": "switch input model-version",
        "xml": "<switch test='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-version`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 633.2022094726562,
        "y": 2126.6643466949463,
        "z": "34265cd.7205424",
        "wires": [
            [
                "2d96bcee.a98f2c",
                "d50c8bc4.769118"
            ]
        ]
    },
    {
        "id": "2d96bcee.a98f2c",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 856.2021942138672,
        "y": 2103.807309150696,
        "z": "34265cd.7205424",
        "wires": [
            [
                "3414be68.250f22"
            ]
        ]
    },
    {
        "id": "d50c8bc4.769118",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 857.6307907104492,
        "y": 2148.092900276184,
        "z": "34265cd.7205424",
        "wires": [
            [
                "f4ecdb0.7ccf3a8"
            ]
        ]
    },
    {
        "id": "f4ecdb0.7ccf3a8",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-version'\n  value='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-version`' />\n",
        "comments": "",
        "x": 1011.9165267944336,
        "y": 2147.521472454071,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "1c1e9347.9ae5dd",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-name'\n  value='`$db.vf-module-model.name`' />\n",
        "comments": "",
        "x": 1006.6784477233887,
        "y": 2190.9827241897583,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "e5d088d4.d1279",
        "type": "switchNode",
        "name": "switch input model-name",
        "xml": "<switch test='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 628.2022094726562,
        "y": 2213.8071689605713,
        "z": "34265cd.7205424",
        "wires": [
            [
                "f63d99eb.7ea558",
                "a3370d33.87d5d"
            ]
        ]
    },
    {
        "id": "f63d99eb.7ea558",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 856.2021942138672,
        "y": 2190.950131416321,
        "z": "34265cd.7205424",
        "wires": [
            [
                "1c1e9347.9ae5dd"
            ]
        ]
    },
    {
        "id": "a3370d33.87d5d",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 857.6307907104492,
        "y": 2235.235722541809,
        "z": "34265cd.7205424",
        "wires": [
            [
                "b62b5297.640c38"
            ]
        ]
    },
    {
        "id": "b62b5297.640c38",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-name'\n  value='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-name`' />\n",
        "comments": "",
        "x": 1011.9165267944336,
        "y": 2234.664294719696,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "9f6faea5.1876d",
        "type": "set",
        "name": "set model-customization-uuid",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-customization-uuid'\n  value='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-customization-uuid`' />\n",
        "comments": "",
        "x": 642.6545448303223,
        "y": 2286.3161582946777,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "b6b2184e.def9e",
        "type": "set",
        "name": "set vf-module-id",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-id'\n   value='`$vf-module-topology-operation-input.vf-module-information.vf-module-id`' />\n",
        "comments": "",
        "x": 595.8451919555664,
        "y": 1555.0393342971802,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "6c341ffe.ffd948",
        "type": "for",
        "name": "for each cloud-region relationship",
        "xml": "<for index='idx' start='0' end='`$aai.cloud-region.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 655.3609352111816,
        "y": 1773.697979927063,
        "z": "34265cd.7205424",
        "wires": [
            [
                "c0518e57.620ee8"
            ]
        ]
    },
    {
        "id": "c0518e57.620ee8",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$aai.cloud-region.relationship-list.relationship[$idx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 903.039478302002,
        "y": 1773.4479093551636,
        "z": "34265cd.7205424",
        "wires": [
            [
                "541c6720.7cffe8"
            ]
        ]
    },
    {
        "id": "541c6720.7cffe8",
        "type": "outcome",
        "name": "complex",
        "xml": "<outcome value='complex'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1072.5037994384766,
        "y": 1772.8407316207886,
        "z": "34265cd.7205424",
        "wires": [
            [
                "de4075f3.bc9ec"
            ]
        ]
    },
    {
        "id": "bfd35321.fbdcc",
        "type": "execute",
        "name": "split related-link",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split'>\n   <parameter name='ctx_memory_result_key' value='aai-uid-split' />\n   <parameter name='original_string' value='`$aai.cloud-region.relationship-list.relationship[$idx].related-link`' />\n   <parameter name='regex' value='/' />\n",
        "comments": "",
        "outputs": 1,
        "x": 1412.5989570617676,
        "y": 1727.2693071365356,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "de4075f3.bc9ec",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1232.2656593322754,
        "y": 1773.936095237732,
        "z": "34265cd.7205424",
        "wires": [
            [
                "bfd35321.fbdcc",
                "b03a09c0.4474b8",
                "ee8323c4.89df98"
            ]
        ]
    },
    {
        "id": "b03a09c0.4474b8",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 1382.2656211853027,
        "y": 1817.2693920135498,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "d583179d.999f08",
        "type": "execute",
        "name": "execute PropertiesNode",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
        "comments": "",
        "outputs": 1,
        "x": 614.0476226806641,
        "y": 212.04809951782227,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "8aa4893.5435478",
        "type": "set",
        "name": "set order-status to PendingCreate",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-level-oper-status.order-status'\n  value='PendingCreate' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-level-oper-status.last-rpc-action'\n  value='`$vf-module-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-level-oper-status.last-action'\n  value='`$vf-module-topology-operation-input.sdnc-request-header.request-action`' />\n",
        "comments": "",
        "x": 540.5122909545898,
        "y": 7382.904582977295,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "40d2ead1.29e2d4",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 484.01214599609375,
        "y": 8147.951934337616,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "eada7f38.32c088",
        "type": "set",
        "name": "copy input data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.sdnc-request-header.'\n   value='$vf-module-topology-operation-input.sdnc-request-header.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.request-information.'\n   value='$vf-module-topology-operation-input.request-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.service-information.'\n   value='$vf-module-topology-operation-input.service-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vnf-information.'\n   value='$vf-module-topology-operation-input.vnf-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-information.'\n   value='$vf-module-topology-operation-input.vf-module-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-request-input.'\n   value='$vf-module-topology-operation-input.vf-module-request-input.' />\n\n",
        "comments": "",
        "x": 472.6192321777344,
        "y": 7239.253315925598,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "3326bf0a.c858a",
        "type": "set",
        "name": "copy vf-module-topology data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.' value='tmp.vf-module-topology.' />\n",
        "comments": "",
        "x": 527.5002517700195,
        "y": 7186.038250923157,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "f312e38d.47c19",
        "type": "save",
        "name": "update vf-module",
        "xml": "<update plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"vf-module\"\n   key=\"vf-module.vf-module-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-id\n      AND generic-vnf.vnf-id = $service-data.vnfs.vnf[$vnf-index].vnf-id\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"vf-module-name\" value=\"`$tmp.vf-module-topology.vf-module-topology-identifier.vf-module-name`\" />\n<parameter name=\"model-invariant-id\" value=\"`$tmp.vf-module-topology.onap-model-information.model-invariant-uuid`\" />\n<parameter name=\"model-version-id\" value=\"`$tmp.vf-module-topology.onap-model-information.model-uuid`\" />\n<parameter name=\"model-customization-id\" value=\"`$tmp.vf-module-topology.onap-model-information.model-customization-uuid`\" />\n<parameter name=\"selflink\" value=\"`$vf-module-object-path`\" />\n<parameter name=\"automated-assignment\" value=\"`$automated-assignment`\" />",
        "comments": "",
        "outputs": 1,
        "x": 557.8929710388184,
        "y": 4393.039915680885,
        "z": "34265cd.7205424",
        "wires": [
            [
                "56183cf7.21f8bc",
                "298fb653.de04f2"
            ]
        ]
    },
    {
        "id": "56183cf7.21f8bc",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 732.9646110534668,
        "y": 4361.4205375909805,
        "z": "34265cd.7205424",
        "wires": [
            [
                "69c206e5.9c5be8"
            ]
        ]
    },
    {
        "id": "298fb653.de04f2",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 741.5359840393066,
        "y": 4430.039627611637,
        "z": "34265cd.7205424",
        "wires": [
            [
                "ca232fc7.373f28"
            ]
        ]
    },
    {
        "id": "602e0129.20af78",
        "type": "set",
        "name": "set vf-module-object-path",
        "xml": "<set>\n<parameter name='vf-module-object-path'\n value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vf-module-topology-operation-input.service-information.service-instance-id\n + '/service-data/vnfs/vnf/'\n + $service-data.vnfs.vnf[$vnf-index].vnf-id\n + '/vnf-data/vf-modules/vf-module/'\n + $vf-module-topology-operation-input.vf-module-information.vf-module-id\n + '/vf-module-data/vf-module-topology/'`\"/>\n<parameter name='vnf-object-path'\n value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vf-module-topology-operation-input.service-information.service-instance-id\n + '/service-data/vnfs/vnf/'\n + $service-data.vnfs.vnf[$vnf-index].vnf-id\n + '/vnf-data/vnf-topology/'`\"/>\n<parameter name='service-object-path'\n value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vf-module-topology-operation-input.service-information.service-instance-id\n + '/service-data/service-topology/'`\"/>\n",
        "comments": "",
        "x": 581.5597801208496,
        "y": 4268.564144730568,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "8b5e2bc.0d8cdd8",
        "type": "save",
        "name": "save vf-module relationships",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"vf-module:relationship-list\"\n   key=\"vf-module.vf-module-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-id\n      AND generic-vnf.vnf-id = $service-data.vnfs.vnf[$vnf-index].vnf-id\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"l3-network\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].network-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1351.5835266113281,
        "y": 5951.192310094833,
        "z": "34265cd.7205424",
        "wires": [
            [
                "156220b0.97881f",
                "a8f671db.55245"
            ]
        ]
    },
    {
        "id": "156220b0.97881f",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1571.4168701171875,
        "y": 5922.064054250717,
        "z": "34265cd.7205424",
        "wires": [
            [
                "d0730d21.778c9"
            ]
        ]
    },
    {
        "id": "a8f671db.55245",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1579.9884033203125,
        "y": 5974.683198690414,
        "z": "34265cd.7205424",
        "wires": [
            [
                "e6565cbf.f37f88"
            ]
        ]
    },
    {
        "id": "c5f1094.89d7678",
        "type": "for",
        "name": "for each vm-type",
        "xml": "<for silentFailure='true' index='vm-type-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 531.2502517700195,
        "y": 5716.525862932205,
        "z": "34265cd.7205424",
        "wires": [
            [
                "900abd87.03036"
            ]
        ]
    },
    {
        "id": "71e9d608.74954",
        "type": "for",
        "name": "for each vm-network",
        "xml": "<for silentFailure='true' index='network-role-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 928.2502632141113,
        "y": 6135.192695140839,
        "z": "34265cd.7205424",
        "wires": [
            [
                "474d2262.a76184"
            ]
        ]
    },
    {
        "id": "bdd166c5.9655d",
        "type": "for",
        "name": "for each vm-type",
        "xml": "<for silentFailure='true' index='vm-type-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 476.92879486083984,
        "y": 7081.0718812942505,
        "z": "34265cd.7205424",
        "wires": [
            [
                "5099fa11.6e8244"
            ]
        ]
    },
    {
        "id": "5099fa11.6e8244",
        "type": "for",
        "name": "for each vm",
        "xml": "<for index='vm-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-count`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 671.928825378418,
        "y": 7080.4048891067505,
        "z": "34265cd.7205424",
        "wires": [
            [
                "99b22585.2f4188"
            ]
        ]
    },
    {
        "id": "70d018d1.df953",
        "type": "save",
        "name": "save VIPR_CONFIGURATION",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource\" resource=\"SQL\"\nkey=\"INSERT INTO VIPR_CONFIGURATION (vnf_id, vnf_name, ecomp_service_instance_id, vm_name, cloud_region_id, cloud_owner) VALUES ( $service-data.vnfs.vnf[$vnf-index].vnf-id , $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.vnf-name , $service-data.service-information.service-instance-id , $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vm-name[$vm-index] , $tmp.vf-module-topology.aic-cloud-region , $prop.cloud-region.cloud-owner )\" >",
        "comments": "",
        "outputs": 1,
        "x": 1092.3455200195312,
        "y": 7105.5725764632225,
        "z": "34265cd.7205424",
        "wires": [
            [
                "ee6a30b6.2fdb08"
            ]
        ]
    },
    {
        "id": "f7b025d1.119928",
        "type": "comment",
        "name": "Not a failure",
        "info": "",
        "comments": "",
        "x": 1612.3454208374023,
        "y": 7105.572581231594,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "ee6a30b6.2fdb08",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1302.3455047607422,
        "y": 7105.57272619009,
        "z": "34265cd.7205424",
        "wires": [
            [
                "f00a7c73.128e3"
            ]
        ]
    },
    {
        "id": "f00a7c73.128e3",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"GENERIC-RESOURCE-API.vf-module-topology-operation-assign:REQID\"/>\n<parameter name=\"field3\" value=\"`$vf-module-topology-operation-input.sdnc-request-header.svc-request-id`\"/>\n<parameter name=\"field4\" value=\"Failed to insert VIPR_CONFIGURATION record\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1445.6789474487305,
        "y": 7105.572564065456,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "a9e98a28.a6413",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1475.679069519043,
        "y": 7056.904277741909,
        "z": "34265cd.7205424",
        "wires": [
            [
                "f18e18b8.f1a978"
            ]
        ]
    },
    {
        "id": "f0f9c912.bbfa7",
        "type": "comment",
        "name": "Not a failure",
        "info": "",
        "comments": "",
        "x": 1799.0121231079102,
        "y": 7055.238099992275,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "f18e18b8.f1a978",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"GENERIC-RESOURCE-API.vf-module-topology-operation-assign:REQID\"/>\n<parameter name=\"field3\" value=\"`$vf-module-topology-operation-input.sdnc-request-header.svc-request-id`\"/>\n<parameter name=\"field4\" value=\"Failed to insert VIPR_CONFIGURATION record\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1621.6790046691895,
        "y": 7056.904910981655,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "99b22585.2f4188",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 840.2622184753418,
        "y": 7079.404733657837,
        "z": "34265cd.7205424",
        "wires": [
            [
                "432a36c8.1b8a38",
                "70d018d1.df953"
            ]
        ]
    },
    {
        "id": "432a36c8.1b8a38",
        "type": "delete",
        "name": "delete any pre-existing records in VIPR_CONFIGURATION",
        "xml": "<delete plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='DELETE from VIPR_CONFIGURATION WHERE vnf_id = $service-data.vnfs.vnf[$vnf-index].vnf-id\n     AND ecomp_service_instance_id = $service-data.service-information.service-instance-id\n     AND vm_name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vm-name[$vm-index]' >",
        "comments": "",
        "outputs": 1,
        "x": 1182.3455352783203,
        "y": 7057.238910615444,
        "z": "34265cd.7205424",
        "wires": [
            [
                "a9e98a28.a6413"
            ]
        ]
    },
    {
        "id": "69c206e5.9c5be8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 891.2501792907715,
        "y": 4361.191208481789,
        "z": "34265cd.7205424",
        "wires": [
            [
                "23db4204.137326",
                "deea8b7a.34ee38"
            ]
        ]
    },
    {
        "id": "ca232fc7.373f28",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 892.2500953674316,
        "y": 4427.857498705387,
        "z": "34265cd.7205424",
        "wires": [
            [
                "c333832f.3cfc3"
            ]
        ]
    },
    {
        "id": "d0730d21.778c9",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1739.9168739318848,
        "y": 5921.858323812485,
        "z": "34265cd.7205424",
        "wires": [
            [
                "c98dc3b.19af54",
                "269063c8.ce5a84"
            ]
        ]
    },
    {
        "id": "e6565cbf.f37f88",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1734.9168739318848,
        "y": 5974.8581664562225,
        "z": "34265cd.7205424",
        "wires": [
            [
                "21dc9b2.c9b4164",
                "269063c8.ce5a84"
            ]
        ]
    },
    {
        "id": "857ef89e.1a5408",
        "type": "execute",
        "name": "execute RestApiCallNode - get preload-list",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='restapiUrl' value=\"`$prop.controller.url + $prop.restapi.preloadinformation + $vf-module-topology-operation-input.vf-module-request-input.vf-module-name + '/vf-module'`\" />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='GET' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-preload\" />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1100.833351135254,
        "y": 2498.691061973572,
        "z": "34265cd.7205424",
        "wires": [
            [
                "416fdbec.15ba44",
                "73c4e919.9f625"
            ]
        ]
    },
    {
        "id": "416fdbec.15ba44",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1369.1665840148926,
        "y": 2457.0243921279907,
        "z": "34265cd.7205424",
        "wires": [
            [
                "1f482e71.6f90f2"
            ]
        ]
    },
    {
        "id": "73c4e919.9f625",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1367.4999389648438,
        "y": 2532.024540901184,
        "z": "34265cd.7205424",
        "wires": [
            [
                "2b585b07.776fbc"
            ]
        ]
    },
    {
        "id": "1f482e71.6f90f2",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1525.833339691162,
        "y": 2455.3578300476074,
        "z": "34265cd.7205424",
        "wires": [
            [
                "875e55f0.b2f8e8"
            ]
        ]
    },
    {
        "id": "2b585b07.776fbc",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1522.4999465942383,
        "y": 2532.0243825912476,
        "z": "34265cd.7205424",
        "wires": [
            [
                "8bed185c.8ac5d"
            ]
        ]
    },
    {
        "id": "875e55f0.b2f8e8",
        "type": "switchNode",
        "name": "switch mdsal-preload.response-code",
        "xml": "<switch test='`$mdsal-preload.response-code`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1754.1666412353516,
        "y": 2455.357871055603,
        "z": "34265cd.7205424",
        "wires": [
            [
                "d327b2a2.0c837",
                "fd8f2e7a.c3fae"
            ]
        ]
    },
    {
        "id": "d327b2a2.0c837",
        "type": "outcome",
        "name": "404 (not found)",
        "xml": "<outcome value='404'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2037.0833435058594,
        "y": 2409.940915107727,
        "z": "34265cd.7205424",
        "wires": [
            [
                "35aa0744.80b5c8"
            ]
        ]
    },
    {
        "id": "35aa0744.80b5c8",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-operation-assign-no-preload",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-operation-assign-no-preload' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2439.99991607666,
        "y": 2323.274383544922,
        "z": "34265cd.7205424",
        "wires": [
            [
                "123078c4.5f42b7"
            ]
        ]
    },
    {
        "id": "123078c4.5f42b7",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2828.7498779296875,
        "y": 2324.1082620620728,
        "z": "34265cd.7205424",
        "wires": [
            [
                "b201b2ed.f32f68"
            ]
        ]
    },
    {
        "id": "fd8f2e7a.c3fae",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2003.3333053588867,
        "y": 2474.107699394226,
        "z": "34265cd.7205424",
        "wires": [
            [
                "886e3c52.8c2238"
            ]
        ]
    },
    {
        "id": "8bed185c.8ac5d",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-operation-assign-preload",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-operation-assign-preload' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1885.833236694336,
        "y": 2533.6911306381226,
        "z": "34265cd.7205424",
        "wires": [
            [
                "470a9210.0d2c7c"
            ]
        ]
    },
    {
        "id": "470a9210.0d2c7c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2241.500099182129,
        "y": 2532.024748802185,
        "z": "34265cd.7205424",
        "wires": [
            [
                "9af3e55f.6087e"
            ]
        ]
    },
    {
        "id": "900abd87.03036",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 721.7503204345703,
        "y": 5717.3590977191925,
        "z": "34265cd.7205424",
        "wires": [
            [
                "71e9d608.74954",
                "61dc9df3.118e34"
            ]
        ]
    },
    {
        "id": "61dc9df3.118e34",
        "type": "for",
        "name": "for each vnfc",
        "xml": "<for silentFailure='true' index='vnfc-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 972.7503700256348,
        "y": 4922.025188922882,
        "z": "34265cd.7205424",
        "wires": [
            [
                "933d597e.bd69e8"
            ]
        ]
    },
    {
        "id": "c87af5c.2b49f88",
        "type": "save",
        "name": "save vnfc to A&AI",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"vnfc\" \n\tkey=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\" >\n<parameter name=\"vnfc-name\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name`\" />\n<parameter name=\"nfc-naming-code\" value=\"`$tmp.nfc-naming-code`\" />\n<parameter name=\"nfc-function\" value=\"`$tmp.nfc-function`\" />\n<parameter name=\"model-invariant-id\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].invariant-uuid`\" />\n<parameter name=\"model-version-id\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].uuid`\" />\n<parameter name=\"model-customization-id\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].model-customization-uuid`\" />\n<parameter name=\"orchestration-status\" value=\"`PendingCreate`\" />\n<parameter name=\"in-maint\" value=\"true\" />\n<parameter name=\"prov-status\" value=\"`PREPROV`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1698.7504386901855,
        "y": 4730.359119415283,
        "z": "34265cd.7205424",
        "wires": [
            [
                "d4c69512.b7a85",
                "cb5ae333.4bb6c"
            ]
        ]
    },
    {
        "id": "933d597e.bd69e8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1141.0836715698242,
        "y": 4922.692016124725,
        "z": "34265cd.7205424",
        "wires": [
            [
                "90bbdc02.a17328",
                "4f542d3d.52a65c",
                "9ee6416c.5e5dc8",
                "67190c0.7b4b2f4",
                "2591369f.6e45f2",
                "f5615f88.05ae28"
            ]
        ]
    },
    {
        "id": "d4c69512.b7a85",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1889.7504768371582,
        "y": 4682.692453384399,
        "z": "34265cd.7205424",
        "wires": [
            [
                "fcab33e3.661e5"
            ]
        ]
    },
    {
        "id": "fcab33e3.661e5",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2054.917163848877,
        "y": 4696.820286691189,
        "z": "34265cd.7205424",
        "wires": [
            [
                "64b6a50b.0e40cc",
                "deea8b7a.34ee38"
            ]
        ]
    },
    {
        "id": "9ee6416c.5e5dc8",
        "type": "save",
        "name": "save vnfc relationships",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"vnfc:relationship-list\"\n   key=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"generic-vnf\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/generic-vnfs/generic-vnf/' +\n        $vf-module-topology-operation-input.vnf-information.vnf-id`\" />\n    <parameter name=\"relationship-list.relationship[1].related-to\" value=\"vf-module\" />\n    <parameter name=\"relationship-list.relationship[1].related-link\"\n      value=\"`'/aai/v$/network/generic-vnfs/generic-vnf/' +\n        $vf-module-topology-operation-input.vnf-information.vnf-id +\n        '/vf-modules/vf-module/' +\n        $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1365.654956817627,
        "y": 4830.97835111618,
        "z": "34265cd.7205424",
        "wires": [
            [
                "4aa5e996.c15df8",
                "627ad9e4.060cf"
            ]
        ]
    },
    {
        "id": "b05f84b7.ac3f68",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1697.4881477355957,
        "y": 4804.2959752082825,
        "z": "34265cd.7205424",
        "wires": [
            [
                "ecec95d0.f03d18",
                "deea8b7a.34ee38"
            ]
        ]
    },
    {
        "id": "d68d461e.5265a",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1697.488224029541,
        "y": 4857.29573392868,
        "z": "34265cd.7205424",
        "wires": [
            [
                "4b5a4f9a.72aaf8",
                "deea8b7a.34ee38"
            ]
        ]
    },
    {
        "id": "4aa5e996.c15df8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1540.6550331115723,
        "y": 4804.311645030975,
        "z": "34265cd.7205424",
        "wires": [
            [
                "b05f84b7.ac3f68"
            ]
        ]
    },
    {
        "id": "627ad9e4.060cf",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1549.2265663146973,
        "y": 4856.930789470673,
        "z": "34265cd.7205424",
        "wires": [
            [
                "d68d461e.5265a"
            ]
        ]
    },
    {
        "id": "90bbdc02.a17328",
        "type": "for",
        "name": "for each vnfc-network-role",
        "xml": "<for silentFailure='true' index='network-role-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1363.1310768127441,
        "y": 5247.834759235382,
        "z": "34265cd.7205424",
        "wires": [
            [
                "58cb90bc.4bbef8"
            ]
        ]
    },
    {
        "id": "205882d9.0b5ba6",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/bgb-vfmoduleb.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 583.7499809265137,
        "y": 2555.7385811805725,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "8cfa77fd.d126b8",
        "type": "for",
        "name": "for each vnfc-subnetwork-role",
        "xml": "<for silentFailure='true' index='subnet-role-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1819.0836143493652,
        "y": 5211.025192737579,
        "z": "34265cd.7205424",
        "wires": [
            [
                "6762299c.778d8"
            ]
        ]
    },
    {
        "id": "6762299c.778d8",
        "type": "for",
        "name": "for each vnfc-address-family",
        "xml": "<for silentFailure='true' index='address-family-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2086.4169578552246,
        "y": 5210.025681018829,
        "z": "34265cd.7205424",
        "wires": [
            [
                "7d53a97d.be26"
            ]
        ]
    },
    {
        "id": "d1f18ef1.182398",
        "type": "for",
        "name": "for each vnfc-ip-address",
        "xml": "<for silentFailure='true' index='address-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2518.4165687561035,
        "y": 5276.6913805007935,
        "z": "34265cd.7205424",
        "wires": [
            [
                "77214afc.517d0c"
            ]
        ]
    },
    {
        "id": "7d53a97d.be26",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2297.4167289733887,
        "y": 5210.025137424469,
        "z": "34265cd.7205424",
        "wires": [
            [
                "34424215.2a711e",
                "d1f18ef1.182398"
            ]
        ]
    },
    {
        "id": "34424215.2a711e",
        "type": "set",
        "name": "set tmp.address-family",
        "xml": "<set>\n<parameter name='tmp.address-family'\n  value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-address-family`' />\n",
        "comments": "",
        "x": 2517.4170570373535,
        "y": 5130.02503490448,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "77214afc.517d0c",
        "type": "switchNode",
        "name": "switch address family",
        "xml": "<switch test='`$tmp.address-family`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2757.416660308838,
        "y": 5275.02520275116,
        "z": "34265cd.7205424",
        "wires": [
            [
                "466ce5a0.fa2a7c",
                "e5989ca0.8172d"
            ]
        ]
    },
    {
        "id": "466ce5a0.fa2a7c",
        "type": "outcome",
        "name": "ipv4",
        "xml": "<outcome value='ipv4'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2954.5596656799316,
        "y": 5178.59646320343,
        "z": "34265cd.7205424",
        "wires": [
            [
                "16109ed1.313bd1"
            ]
        ]
    },
    {
        "id": "e5989ca0.8172d",
        "type": "outcome",
        "name": "ipv6",
        "xml": "<outcome value='ipv6'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2952.178737640381,
        "y": 5358.358494758606,
        "z": "34265cd.7205424",
        "wires": [
            [
                "9a0c5b84.5a57f"
            ]
        ]
    },
    {
        "id": "cf096cd1.ca06e8",
        "type": "comment",
        "name": "Fixed IPs",
        "info": "",
        "comments": "",
        "x": 1836.0836296081543,
        "y": 5172.692569732666,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "ba22ae12.2926b",
        "type": "save",
        "name": "save l3-interface-ipv4-address-list object to A&AI",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"l3-interface-ipv4-address-list\" \n\tkey=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n\t  AND cp.cp-instance-id = $cp-instance-id\n\t  AND l3-interface-ipv4-address-list.l3-interface-ipv4-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[$address-index].vnfc-ip-address\" >\n<parameter name=\"l3-interface-ipv4-address\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[$address-index].vnfc-ip-address`\" />\n<parameter name=\"l3-interface-ipv4-prefix-length\" value=\"32\" />\n<parameter name=\"is-floating\" value=\"false\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3397.892795562744,
        "y": 5126.929543177288,
        "z": "34265cd.7205424",
        "wires": [
            [
                "a96cb36a.8783d8"
            ]
        ]
    },
    {
        "id": "16109ed1.313bd1",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3104.5596656799316,
        "y": 5178.596381823223,
        "z": "34265cd.7205424",
        "wires": [
            [
                "ba22ae12.2926b",
                "c1872588.7583"
            ]
        ]
    },
    {
        "id": "2901367b.3a7652",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3811.3926696777344,
        "y": 5126.914035479229,
        "z": "34265cd.7205424",
        "wires": [
            [
                "a7be1c39.6ee63",
                "b8d50b6.e90cc78"
            ]
        ]
    },
    {
        "id": "a96cb36a.8783d8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3654.559555053711,
        "y": 5126.929705301922,
        "z": "34265cd.7205424",
        "wires": [
            [
                "2901367b.3a7652"
            ]
        ]
    },
    {
        "id": "c1872588.7583",
        "type": "save",
        "name": "save l3-interface-ipv4-address-list relationships",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"l3-interface-ipv4-address-list:relationship-list\"\n   key=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n\t  AND cp.cp-instance-id = $cp-instance-id\n\t  AND l3-interface-ipv4-address-list.l3-interface-ipv4-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[$address-index].vnfc-ip-address\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"l3-network\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].network-id`\" />\n    <parameter name=\"relationship-list.relationship[1].related-to\" value=\"subnet\" />\n    <parameter name=\"relationship-list.relationship[1].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].network-id +\n        '/subnets/subnet/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].subnet-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3392.893039703369,
        "y": 5225.262962023418,
        "z": "34265cd.7205424",
        "wires": [
            [
                "c76a4fda.833a4",
                "53b8f95f.e81ec"
            ]
        ]
    },
    {
        "id": "64905913.ec2ab",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3813.0592918395996,
        "y": 5196.914006868999,
        "z": "34265cd.7205424",
        "wires": [
            [
                "a4494b11.30c988",
                "b8d50b6.e90cc78"
            ]
        ]
    },
    {
        "id": "ea0b0cf4.b0b87",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3813.059368133545,
        "y": 5249.913765589397,
        "z": "34265cd.7205424",
        "wires": [
            [
                "3b6a1bff.11e25c",
                "b8d50b6.e90cc78"
            ]
        ]
    },
    {
        "id": "c76a4fda.833a4",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3656.226177215576,
        "y": 5196.929676691692,
        "z": "34265cd.7205424",
        "wires": [
            [
                "64905913.ec2ab"
            ]
        ]
    },
    {
        "id": "53b8f95f.e81ec",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3664.797710418701,
        "y": 5249.54882113139,
        "z": "34265cd.7205424",
        "wires": [
            [
                "ea0b0cf4.b0b87"
            ]
        ]
    },
    {
        "id": "5f65e4dc.17ee84",
        "type": "save",
        "name": "save l3-interface-ipv6-address-list object to A&AI",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"l3-interface-ipv6-address-list\" \n\tkey=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n\t  AND cp.cp-instance-id = $cp-instance-id\n\t  AND l3-interface-ipv6-address-list.l3-interface-ipv6-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[$address-index].vnfc-ip-address\" >\n<parameter name=\"l3-interface-ipv6-address\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[$address-index].vnfc-ip-address`\" />\n<parameter name=\"l3-interface-ipv6-prefix-length\" value=\"128\" />\n<parameter name=\"is-floating\" value=\"false\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3396.702533721924,
        "y": 5305.977599143982,
        "z": "34265cd.7205424",
        "wires": [
            [
                "c7c91c2b.8530c8"
            ]
        ]
    },
    {
        "id": "9a0c5b84.5a57f",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3103.3694038391113,
        "y": 5357.644437789917,
        "z": "34265cd.7205424",
        "wires": [
            [
                "5f65e4dc.17ee84",
                "6821e286.f06a64"
            ]
        ]
    },
    {
        "id": "20bc2782.743bc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3810.202407836914,
        "y": 5305.962091445923,
        "z": "34265cd.7205424",
        "wires": [
            [
                "1d21480c.1addf8",
                "b8d50b6.e90cc78"
            ]
        ]
    },
    {
        "id": "c7c91c2b.8530c8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3653.3692932128906,
        "y": 5305.977761268616,
        "z": "34265cd.7205424",
        "wires": [
            [
                "20bc2782.743bc"
            ]
        ]
    },
    {
        "id": "6821e286.f06a64",
        "type": "save",
        "name": "save l3-interface-ipv6-address-list relationships",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"l3-interface-ipv6-address-list:relationship-list\"\n   key=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n\t  AND cp.cp-instance-id = $cp-instance-id\n\t  AND l3-interface-ipv6-address-list.l3-interface-ipv6-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[$address-index].vnfc-ip-address\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"l3-network\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].network-id`\" />\n    <parameter name=\"relationship-list.relationship[1].related-to\" value=\"subnet\" />\n    <parameter name=\"relationship-list.relationship[1].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].network-id +\n        '/subnets/subnet/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].subnet-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3391.702777862549,
        "y": 5404.311017990112,
        "z": "34265cd.7205424",
        "wires": [
            [
                "8cd900c5.0fd1d",
                "7505a4c8.0ea53c"
            ]
        ]
    },
    {
        "id": "b7b6484f.d8c77",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3811.8690299987793,
        "y": 5375.962062835693,
        "z": "34265cd.7205424",
        "wires": [
            [
                "e3d10ed9.82b7b8",
                "b8d50b6.e90cc78"
            ]
        ]
    },
    {
        "id": "79bf1748.e06bb8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3811.8691062927246,
        "y": 5428.961821556091,
        "z": "34265cd.7205424",
        "wires": [
            [
                "fedf80c9.88e5f",
                "b8d50b6.e90cc78"
            ]
        ]
    },
    {
        "id": "8cd900c5.0fd1d",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3655.035915374756,
        "y": 5375.977732658386,
        "z": "34265cd.7205424",
        "wires": [
            [
                "b7b6484f.d8c77"
            ]
        ]
    },
    {
        "id": "7505a4c8.0ea53c",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3663.607448577881,
        "y": 5428.5968770980835,
        "z": "34265cd.7205424",
        "wires": [
            [
                "79bf1748.e06bb8"
            ]
        ]
    },
    {
        "id": "474d2262.a76184",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1118.083583831787,
        "y": 6134.692134380341,
        "z": "34265cd.7205424",
        "wires": [
            [
                "b6a8d268.c987",
                "8b5e2bc.0d8cdd8",
                "81d51660.a0c9e8",
                "a9042f25.4b114"
            ]
        ]
    },
    {
        "id": "5ff1efff.4270b8",
        "type": "for",
        "name": "for each vnfc",
        "xml": "<for silentFailure='true' index='vnfc-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1766.0837593078613,
        "y": 6257.02588224411,
        "z": "34265cd.7205424",
        "wires": [
            [
                "f2b022e3.1f756"
            ]
        ]
    },
    {
        "id": "e3153e0c.d09088",
        "type": "save",
        "name": "save vip-ipv4-address-list object to A&AI",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"vip-ipv4-address-list\" \n\tkey=\"cloud-region.cloud-owner = $prop.cloud-region.cloud-owner\n\t  AND cloud-region.cloud-region-id = $vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region\n\t  AND vip-ipv4-address-list.vip-ipv4-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v4[$ipv4-index]\" >\n<parameter name=\"vip-ipv4-address\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v4[$ipv4-index]`\" />\n<parameter name=\"vip-ipv4-prefix-length\" value=\"32\" />\n<parameter name=\"is-floating\" value=\"false\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1849.0836143493652,
        "y": 6088.358893871307,
        "z": "34265cd.7205424",
        "wires": [
            [
                "6c580401.058424",
                "381a766c.6ae85a"
            ]
        ]
    },
    {
        "id": "81d51660.a0c9e8",
        "type": "for",
        "name": "for each floating ipv4 address",
        "xml": "<for silentFailure='true' index='ipv4-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v4_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1357.0836067199707,
        "y": 6146.358966350555,
        "z": "34265cd.7205424",
        "wires": [
            [
                "a116ff51.f71318"
            ]
        ]
    },
    {
        "id": "a116ff51.f71318",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1583.0836067199707,
        "y": 6144.358966350555,
        "z": "34265cd.7205424",
        "wires": [
            [
                "e3153e0c.d09088",
                "caa9e69f.d253a",
                "5ff1efff.4270b8"
            ]
        ]
    },
    {
        "id": "af60e3c3.bb56a",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2244.583484649658,
        "y": 6058.343266963959,
        "z": "34265cd.7205424",
        "wires": [
            [
                "f4049c01.0aeaf",
                "269063c8.ce5a84"
            ]
        ]
    },
    {
        "id": "26f5dd9.f21b7a2",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2244.5835609436035,
        "y": 6111.343025684357,
        "z": "34265cd.7205424",
        "wires": [
            [
                "5573d94b.dc5",
                "269063c8.ce5a84"
            ]
        ]
    },
    {
        "id": "6c580401.058424",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2087.7503700256348,
        "y": 6058.358936786652,
        "z": "34265cd.7205424",
        "wires": [
            [
                "af60e3c3.bb56a"
            ]
        ]
    },
    {
        "id": "381a766c.6ae85a",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2096.3219032287598,
        "y": 6110.978081226349,
        "z": "34265cd.7205424",
        "wires": [
            [
                "26f5dd9.f21b7a2"
            ]
        ]
    },
    {
        "id": "cd3cd499.458be8",
        "type": "save",
        "name": "save vip-ipv4-address-list relationships",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"vip-ipv4-address-list:relationship-list\"\n   key=\"cloud-region.cloud-owner = $prop.cloud-region.cloud-owner\n\t  AND cloud-region.cloud-region-id = $vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region\n\t  AND vip-ipv4-address-list.vip-ipv4-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v4[$ipv4-index]\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"subnet\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].network-id\n        + '/subnets/subnet/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.ipv4-subnet-id`\" />\n    <parameter name=\"relationship-list.relationship[1].related-to\" value=\"vnfc\" />\n    <parameter name=\"relationship-list.relationship[1].related-link\"\n      value=\"`'/aai/v$/network/vnfcs/vnfc/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2184.7502098083496,
        "y": 6201.025557041168,
        "z": "34265cd.7205424",
        "wires": [
            [
                "a45ccf9a.b8373",
                "85e3b005.bd6568"
            ]
        ]
    },
    {
        "id": "5c68b77d.81077",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2587.916488647461,
        "y": 6173.009899675846,
        "z": "34265cd.7205424",
        "wires": [
            [
                "c60c031b.634f38",
                "269063c8.ce5a84"
            ]
        ]
    },
    {
        "id": "40a56b3d.e7bfb4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2587.9165649414062,
        "y": 6226.009658396244,
        "z": "34265cd.7205424",
        "wires": [
            [
                "bdc62da9.93398",
                "269063c8.ce5a84"
            ]
        ]
    },
    {
        "id": "a45ccf9a.b8373",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2431.0833740234375,
        "y": 6173.025569498539,
        "z": "34265cd.7205424",
        "wires": [
            [
                "5c68b77d.81077"
            ]
        ]
    },
    {
        "id": "85e3b005.bd6568",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2439.6549072265625,
        "y": 6225.644713938236,
        "z": "34265cd.7205424",
        "wires": [
            [
                "40a56b3d.e7bfb4"
            ]
        ]
    },
    {
        "id": "12a683dc.f7d1cc",
        "type": "save",
        "name": "save vip-ipv6-address-list object to A&AI",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"vip-ipv6-address-list\" \n\tkey=\"cloud-region.cloud-owner = $prop.cloud-region.cloud-owner\n\t  AND cloud-region.cloud-region-id = $vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region\n\t  AND vip-ipv6-address-list.vip-ipv6-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v6[$ipv6-index]\" >\n<parameter name=\"vip-ipv6-address\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v6[$ipv6-index]`\" />\n<parameter name=\"vip-ipv6-prefix-length\" value=\"128\" />\n<parameter name=\"is-floating\" value=\"false\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1852.4169425964355,
        "y": 6411.69157743454,
        "z": "34265cd.7205424",
        "wires": [
            [
                "f3231ce.0a38d6",
                "5e4e24ef.38b0bc"
            ]
        ]
    },
    {
        "id": "a9042f25.4b114",
        "type": "for",
        "name": "for each floating ipv6 address",
        "xml": "<for silentFailure='true' index='ipv6-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v6_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1360.416934967041,
        "y": 6468.691649913788,
        "z": "34265cd.7205424",
        "wires": [
            [
                "669eaafe.ae3adc"
            ]
        ]
    },
    {
        "id": "669eaafe.ae3adc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1586.416934967041,
        "y": 6467.691649913788,
        "z": "34265cd.7205424",
        "wires": [
            [
                "12a683dc.f7d1cc",
                "475a576d.8e3c28",
                "81320c04.9ba968"
            ]
        ]
    },
    {
        "id": "2b2655ee.d0e88a",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2247.9168128967285,
        "y": 6381.675950527191,
        "z": "34265cd.7205424",
        "wires": [
            [
                "37375282.76ddb6",
                "269063c8.ce5a84"
            ]
        ]
    },
    {
        "id": "4588595a.f76a3",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2247.916889190674,
        "y": 6434.675709247589,
        "z": "34265cd.7205424",
        "wires": [
            [
                "48c2cba4.91f6cc",
                "269063c8.ce5a84"
            ]
        ]
    },
    {
        "id": "f3231ce.0a38d6",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2091.083698272705,
        "y": 6381.691620349884,
        "z": "34265cd.7205424",
        "wires": [
            [
                "2b2655ee.d0e88a"
            ]
        ]
    },
    {
        "id": "5e4e24ef.38b0bc",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2099.65523147583,
        "y": 6434.310764789581,
        "z": "34265cd.7205424",
        "wires": [
            [
                "4588595a.f76a3"
            ]
        ]
    },
    {
        "id": "2c2d6569.a1c6a2",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2581.250068664551,
        "y": 6494.676001131535,
        "z": "34265cd.7205424",
        "wires": [
            [
                "4a19d7b6.f2c47",
                "269063c8.ce5a84"
            ]
        ]
    },
    {
        "id": "3ee8cc5c.76ddbc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2581.250144958496,
        "y": 6547.6757598519325,
        "z": "34265cd.7205424",
        "wires": [
            [
                "84c51507.94d668",
                "269063c8.ce5a84"
            ]
        ]
    },
    {
        "id": "de9afd93.7c394",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2424.4169540405273,
        "y": 6494.691670954227,
        "z": "34265cd.7205424",
        "wires": [
            [
                "2c2d6569.a1c6a2"
            ]
        ]
    },
    {
        "id": "6e9292b7.adab1c",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2432.9884872436523,
        "y": 6547.310815393925,
        "z": "34265cd.7205424",
        "wires": [
            [
                "3ee8cc5c.76ddbc"
            ]
        ]
    },
    {
        "id": "636270ad.cb1f1",
        "type": "save",
        "name": "save vip-ipv6-address-list relationships",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"vip-ipv6-address-list:relationship-list\"\n   key=\"cloud-region.cloud-owner = $prop.cloud-region.cloud-owner\n\t  AND cloud-region.cloud-region-id = $vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region\n\t  AND vip-ipv6-address-list.vip-ipv6-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v6[$ipv6-index]\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"subnet\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].network-id\n        + '/subnets/subnet/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.ipv6-subnet-id`\" />\n    <parameter name=\"relationship-list.relationship[1].related-to\" value=\"vnfc\" />\n    <parameter name=\"relationship-list.relationship[1].related-link\"\n      value=\"`'/aai/v$/network/vnfcs/vnfc/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2180.083797454834,
        "y": 6523.358089923859,
        "z": "34265cd.7205424",
        "wires": [
            [
                "de9afd93.7c394",
                "6e9292b7.adab1c"
            ]
        ]
    },
    {
        "id": "4f542d3d.52a65c",
        "type": "set",
        "name": "set created_flag",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].created_flag' value='true' />\n",
        "comments": "",
        "x": 1342.7502403259277,
        "y": 4770.691873967648,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "b6a8d268.c987",
        "type": "set",
        "name": "set created-flag",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].created-flag' value='true' />\n",
        "comments": "",
        "x": 1313.4169960021973,
        "y": 6018.692055404186,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "caa9e69f.d253a",
        "type": "set",
        "name": "set created-ipv4-flag",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.created-ipv4-flag' value='true' />\n",
        "comments": "",
        "x": 1786.4169616699219,
        "y": 6146.69213527441,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "475a576d.8e3c28",
        "type": "set",
        "name": "set created-ipv6-flag",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.created-ipv6-flag' value='true' />\n",
        "comments": "",
        "x": 1791.7502975463867,
        "y": 6472.691738545895,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "cb5ae333.4bb6c",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1892.750415802002,
        "y": 4730.692112863064,
        "z": "34265cd.7205424",
        "wires": [
            [
                "fcab33e3.661e5"
            ]
        ]
    },
    {
        "id": "e9f0935c.0d26e",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-vlan-tagging-assign",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-vlan-tagging-assign' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 660.1668167114258,
        "y": 6805.692090034485,
        "z": "34265cd.7205424",
        "wires": [
            [
                "bc1360c6.580c08"
            ]
        ]
    },
    {
        "id": "bc1360c6.580c08",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1004.5002326965332,
        "y": 6805.025585174561,
        "z": "34265cd.7205424",
        "wires": [
            [
                "a09eae64.f34c68"
            ]
        ]
    },
    {
        "id": "a09eae64.f34c68",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1159.5001068115234,
        "y": 6805.025381088257,
        "z": "34265cd.7205424",
        "wires": [
            [
                "3f7dfdbe.c1b85a",
                "1a40ddac.06f67a"
            ]
        ]
    },
    {
        "id": "3f7dfdbe.c1b85a",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/bgb-vlantaggingfailure.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 1340.273723602295,
        "y": 6777.763387203217,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "effbab1c.8eeb18",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 314.64286041259766,
        "y": 556.5714378356934,
        "z": "34265cd.7205424",
        "wires": [
            [
                "d583179d.999f08",
                "13d1edde.2c3cc2",
                "356786ed.1c1db2",
                "527b3c86.073724",
                "f269ddb2.03ac18",
                "aca51e3b.78a188",
                "a6f8df46.880ce8",
                "d918a5d3.4b678",
                "7933c6b5.bef96",
                "b13baffe.18c468"
            ]
        ]
    },
    {
        "id": "d4b60897.e18598",
        "type": "switchNode",
        "name": "switch from-preload",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-information.from-preload`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 605.6547050476074,
        "y": 2622.1672010421753,
        "z": "34265cd.7205424",
        "wires": [
            [
                "7205c7e2.e07a68",
                "338ca0a7.bfe7d8"
            ]
        ]
    },
    {
        "id": "7205c7e2.e07a68",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 777.5594367980957,
        "y": 2599.5482215881348,
        "z": "34265cd.7205424",
        "wires": [
            [
                "cee08d41.b2fe6"
            ]
        ]
    },
    {
        "id": "338ca0a7.bfe7d8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 779.2260894775391,
        "y": 2644.5480604171753,
        "z": "34265cd.7205424",
        "wires": [
            [
                "afc9b079.ac8a6"
            ]
        ]
    },
    {
        "id": "cee08d41.b2fe6",
        "type": "set",
        "name": "set automated-assignment to true",
        "xml": "<set>\n<parameter name='automated-assignment' value='true' />\n",
        "comments": "",
        "x": 992.5594215393066,
        "y": 2597.881392478943,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "afc9b079.ac8a6",
        "type": "set",
        "name": "set automated-assignment to false",
        "xml": "<set>\n<parameter name='automated-assignment' value='false' />\n",
        "comments": "",
        "x": 990.8927421569824,
        "y": 2642.8813123703003,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "81320c04.9ba968",
        "type": "for",
        "name": "for each vnfc",
        "xml": "<for silentFailure='true' index='vnfc-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1767.1788291931152,
        "y": 6571.572162151337,
        "z": "34265cd.7205424",
        "wires": [
            [
                "d27afbea.8fdbb"
            ]
        ]
    },
    {
        "id": "cf288013.27e988",
        "type": "for",
        "name": "for each vm-type",
        "xml": "<for silentFailure='true' index='vm-type-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 584.4168014526367,
        "y": 3982.3580837249756,
        "z": "34265cd.7205424",
        "wires": [
            [
                "4b547438.e5a1e4"
            ]
        ]
    },
    {
        "id": "4b547438.e5a1e4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 774.9168701171875,
        "y": 3983.191318511963,
        "z": "34265cd.7205424",
        "wires": [
            [
                "e115a59a.78977"
            ]
        ]
    },
    {
        "id": "e115a59a.78977",
        "type": "for",
        "name": "for each vm-network",
        "xml": "<for silentFailure='true' index='network-role-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 976.4168014526367,
        "y": 3982.3580837249756,
        "z": "34265cd.7205424",
        "wires": [
            [
                "c279839c.179e2"
            ]
        ]
    },
    {
        "id": "c279839c.179e2",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1166.2501220703125,
        "y": 3981.8575229644775,
        "z": "34265cd.7205424",
        "wires": [
            [
                "9c5890c1.1bc73"
            ]
        ]
    },
    {
        "id": "9c5890c1.1bc73",
        "type": "get-resource",
        "name": "get-resource VFC_RELATED_NETWORK_ROLE",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='SELECT * from VFC_RELATED_NETWORK_ROLE where vfc_customization_uuid = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].model-customization-uuid\n    and network_role = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].network-role'\n  pfx='db.vnf-related-network-role[]'>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1455.7500953674316,
        "y": 3980.358165740967,
        "z": "34265cd.7205424",
        "wires": [
            [
                "a30af21d.78b66",
                "54be536b.883c7c"
            ]
        ]
    },
    {
        "id": "a30af21d.78b66",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1726.7500343322754,
        "y": 3885.0248680114746,
        "z": "34265cd.7205424",
        "wires": [
            [
                "6573ac5d.e2d6fc"
            ]
        ]
    },
    {
        "id": "6573ac5d.e2d6fc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1873.9405517578125,
        "y": 3883.5728826522827,
        "z": "34265cd.7205424",
        "wires": [
            [
                "d4e308ce.5712b",
                "f3cab335.7ec9f"
            ]
        ]
    },
    {
        "id": "54be536b.883c7c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1727.5832443237305,
        "y": 4129.691747665405,
        "z": "34265cd.7205424",
        "wires": [
            [
                "8b99514d.224a68"
            ]
        ]
    },
    {
        "id": "bdec068a.d17588",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2145.9164962768555,
        "y": 4131.69150352478,
        "z": "34265cd.7205424",
        "wires": [
            [
                "2380b499.33cb74",
                "2a3d42f3.0625f6",
                "9050219d.292618",
                "a92d624e.c2d3a8",
                "64298756.8d8e3",
                "ee1be000.48bb78",
                "fa830b25.a2ef78",
                "18757bd7.bc1504"
            ]
        ]
    },
    {
        "id": "2a3d42f3.0625f6",
        "type": "for",
        "name": "for each vnf network",
        "xml": "<for silentFailure='true' index='vnf-network-index' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2328.416675567627,
        "y": 3974.024751663208,
        "z": "34265cd.7205424",
        "wires": [
            [
                "2377be3.2805842"
            ]
        ]
    },
    {
        "id": "2380b499.33cb74",
        "type": "set",
        "name": "set found-related-network to false",
        "xml": "<set>\n<parameter name='found-related-network' value='false' />\n",
        "comments": "",
        "x": 2368.4167518615723,
        "y": 3915.6915283203125,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "f214ef27.8c7068",
        "type": "for",
        "name": "for each related network",
        "xml": "<for silentFailure='true' index='related-network-index' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].related-networks.related-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2727.4166374206543,
        "y": 3950.6910152435303,
        "z": "34265cd.7205424",
        "wires": [
            [
                "7ede6549.805acc"
            ]
        ]
    },
    {
        "id": "2377be3.2805842",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2516.416675567627,
        "y": 3974.024751663208,
        "z": "34265cd.7205424",
        "wires": [
            [
                "f214ef27.8c7068",
                "ac51f9c5.7f381"
            ]
        ]
    },
    {
        "id": "7ede6549.805acc",
        "type": "switchNode",
        "name": "switch network-role matches",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].related-networks.related-network[$related-network-index].network-role\n  == $db.vnf-related-network-role[$db-related-network-index].related-network-role`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2979.4165534973145,
        "y": 3950.6910915374756,
        "z": "34265cd.7205424",
        "wires": [
            [
                "639ffefa.c6a668"
            ]
        ]
    },
    {
        "id": "8b99514d.224a68",
        "type": "for",
        "name": "for each db related-network",
        "xml": "<for index='db-related-network-index' start='0' end='`$db.vnf-related-network-role_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1931.916618347168,
        "y": 4130.35849571228,
        "z": "34265cd.7205424",
        "wires": [
            [
                "bdec068a.d17588"
            ]
        ]
    },
    {
        "id": "639ffefa.c6a668",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3179.4165534973145,
        "y": 3948.6910915374756,
        "z": "34265cd.7205424",
        "wires": [
            [
                "81afa752.330a7"
            ]
        ]
    },
    {
        "id": "81afa752.330a7",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3333.4165534973145,
        "y": 3946.6910915374756,
        "z": "34265cd.7205424",
        "wires": [
            [
                "9b9cff35.d523",
                "46e64037.6ec64",
                "8025f3eb.bd5ea"
            ]
        ]
    },
    {
        "id": "9b9cff35.d523",
        "type": "set",
        "name": "set found-related-network to true",
        "xml": "<set>\n<parameter name='found-related-network' value='true' />\n",
        "comments": "",
        "x": 3565.4167137145996,
        "y": 3906.357675552368,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "46e64037.6ec64",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 3488.7498893737793,
        "y": 3993.024425506592,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "9050219d.292618",
        "type": "switchNode",
        "name": "switch found-related-network",
        "xml": "<switch test='`$found-related-network`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2363.9165649414062,
        "y": 4074.6916370391846,
        "z": "34265cd.7205424",
        "wires": [
            [
                "2c771fce.f6f0e"
            ]
        ]
    },
    {
        "id": "2c771fce.f6f0e",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2557.9165649414062,
        "y": 4072.6916370391846,
        "z": "34265cd.7205424",
        "wires": [
            [
                "ed2c165a.75be88"
            ]
        ]
    },
    {
        "id": "ed2c165a.75be88",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2687.9165649414062,
        "y": 4072.6916370391846,
        "z": "34265cd.7205424",
        "wires": [
            [
                "e1873883.a0b338",
                "f3cab335.7ec9f"
            ]
        ]
    },
    {
        "id": "a92d624e.c2d3a8",
        "type": "set",
        "name": "set is-trunked and segmentation-id in vm-network",
        "xml": "<set>\n<parameter name='$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].is-trunked'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$saved-vnf-network-index].is-trunked`' />\n<parameter name='$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].segmentation-id'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$saved-vnf-network-index].segmentation-id`' />\n",
        "comments": "",
        "x": 2425.9165649414062,
        "y": 4122.691637039185,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "ee1be000.48bb78",
        "type": "switchNode",
        "name": "switch rn-index",
        "xml": "<switch test='`$rn-index`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2313.9165649414062,
        "y": 4230.691637039185,
        "z": "34265cd.7205424",
        "wires": [
            [
                "74c68449.7a6374"
            ]
        ]
    },
    {
        "id": "64298756.8d8e3",
        "type": "set",
        "name": "set rn-index to related network length",
        "xml": "<set>\n<parameter name='rn-index' value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network_length`' />\n",
        "comments": "",
        "x": 2385.9165649414062,
        "y": 4174.691637039185,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "74c68449.7a6374",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 2477.9165649414062,
        "y": 4230.691637039185,
        "z": "34265cd.7205424",
        "wires": [
            [
                "8aa2ab54.ceea58"
            ]
        ]
    },
    {
        "id": "8aa2ab54.ceea58",
        "type": "set",
        "name": "set rn-index to 0",
        "xml": "<set>\n<parameter name='rn-index' value='0' />\n",
        "comments": "",
        "x": 2637.9165649414062,
        "y": 4230.691637039185,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "fa830b25.a2ef78",
        "type": "set",
        "name": "set related-network data",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network[$rn-index].network-id'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$saved-vnf-network-index].related-networks.related-network[$saved-related-network-index].network-id`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network[$rn-index].network-role'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$saved-vnf-network-index].related-networks.related-network[$saved-related-network-index].network-role`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network[$rn-index].vlan-tags.vlan-interface'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$saved-vnf-network-index].related-networks.related-network[$saved-related-network-index].vlan-tags.vlan-interface`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network[$rn-index].vlan-tags.lower-tag-id'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$saved-vnf-network-index].related-networks.related-network[$saved-related-network-index].vlan-tags.lower-tag-id`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network[$rn-index].vlan-tags.upper-tag-id'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$saved-vnf-network-index].related-networks.related-network[$saved-related-network-index].vlan-tags.upper-tag-id`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network[$rn-index].vlan-tags.is-private'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$saved-vnf-network-index].related-networks.related-network[$saved-related-network-index].vlan-tags.is-private`' />\n",
        "comments": "",
        "x": 2337.9165649414062,
        "y": 4282.691637039185,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "18757bd7.bc1504",
        "type": "set",
        "name": "set new related network length",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network_length'\n  value='`$rn-index + 1`' />\n",
        "comments": "",
        "x": 2355.9165649414062,
        "y": 4334.691637039185,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "ac51f9c5.7f381",
        "type": "switchNode",
        "name": "switch found-related-network",
        "xml": "<switch test='`$found-related-network`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2740.416660308838,
        "y": 3998.3578758239746,
        "z": "34265cd.7205424",
        "wires": [
            [
                "8dfcb5e2.bf7d2"
            ]
        ]
    },
    {
        "id": "8dfcb5e2.bf7d2",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2937.083522796631,
        "y": 3998.358247756958,
        "z": "34265cd.7205424",
        "wires": [
            [
                "49e231.bdb7fdd"
            ]
        ]
    },
    {
        "id": "49e231.bdb7fdd",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 3067.083408355713,
        "y": 3996.6913719177246,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "8025f3eb.bd5ea",
        "type": "set",
        "name": "save indexes",
        "xml": "<set>\n<parameter name='saved-vnf-network-index' value='`$vnf-network-index`' />\n<parameter name='saved-related-network-index' value='`$related-network-index`' />\n",
        "comments": "",
        "x": 3507.0836219787598,
        "y": 3948.3582458496094,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "67c600cd.b9cba",
        "type": "execute",
        "name": "generate cp-instance-id",
        "xml": "<execute plugin=\"org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils\" method=\"generateUUID\" >\n<parameter name=\"ctx-destination\" value=\"cp-instance-id\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1795.9881134033203,
        "y": 4977.882298946381,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "def6cb8a.75abd",
        "type": "save",
        "name": "save cp to A&AI",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"cp\" \n\tkey=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n\t  AND cp.cp-instance-id = $cp-instance-id\" >\n<parameter name=\"cp-instance-id\" value=\"`$cp-instance-id`\" />\n<parameter name=\"port-id\" value=\"0\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1777.6547355651855,
        "y": 5044.548804759979,
        "z": "34265cd.7205424",
        "wires": [
            [
                "cec4e53.0593898",
                "73e9c7c7.e33118"
            ]
        ]
    },
    {
        "id": "cec4e53.0593898",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1966.6547164916992,
        "y": 5020.215418279171,
        "z": "34265cd.7205424",
        "wires": [
            [
                "6c56796a.9785"
            ]
        ]
    },
    {
        "id": "6c56796a.9785",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2133.821464538574,
        "y": 5036.009851872921,
        "z": "34265cd.7205424",
        "wires": [
            [
                "56c543eb.6150dc",
                "deea8b7a.34ee38"
            ]
        ]
    },
    {
        "id": "73e9c7c7.e33118",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1971.6547164916992,
        "y": 5069.881678044796,
        "z": "34265cd.7205424",
        "wires": [
            [
                "6c56796a.9785"
            ]
        ]
    },
    {
        "id": "58cb90bc.4bbef8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1572.4644355773926,
        "y": 5247.16709280014,
        "z": "34265cd.7205424",
        "wires": [
            [
                "bb7a5471.736f58",
                "8cfa77fd.d126b8",
                "67c600cd.b9cba",
                "def6cb8a.75abd",
                "c24016d.89a2f68",
                "e9947f94.840de"
            ]
        ]
    },
    {
        "id": "bb7a5471.736f58",
        "type": "set",
        "name": "set connection point data",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].connection-point.connection-point-id'\n  value='`$cp-instance-id`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].connection-point.port-id'\n  value='0' />\n",
        "comments": "",
        "x": 1807.9882774353027,
        "y": 5122.406374454498,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "197afe0.8443282",
        "type": "comment",
        "name": "Floating IPs",
        "info": "",
        "comments": "",
        "x": 1368.7500953674316,
        "y": 6104.69149273634,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "c24016d.89a2f68",
        "type": "for",
        "name": "for each vnf-network",
        "xml": "<for index='vnf-network-index' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1792.0832786560059,
        "y": 5518.691868305206,
        "z": "34265cd.7205424",
        "wires": [
            [
                "56804039.82c95"
            ]
        ]
    },
    {
        "id": "1b4d007d.b0d738",
        "type": "save",
        "name": "save cp relationship to l3-network",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"cp:relationship-list\"\n   key=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n     AND cp.cp-instance-id = $cp-instance-id\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"l3-network\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/' +\n        $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].network-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2430.416759490967,
        "y": 5518.358376026154,
        "z": "34265cd.7205424",
        "wires": [
            [
                "925d685c.856048",
                "2b843689.1bb8aa"
            ]
        ]
    },
    {
        "id": "c8275ab5.32ae",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2802.249797821045,
        "y": 5491.676324367523,
        "z": "34265cd.7205424",
        "wires": [
            [
                "d01f264c.61c318",
                "deea8b7a.34ee38"
            ]
        ]
    },
    {
        "id": "ee39eeee.ad11d8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2802.2498741149902,
        "y": 5544.676083087921,
        "z": "34265cd.7205424",
        "wires": [
            [
                "64482d7f.371044",
                "deea8b7a.34ee38"
            ]
        ]
    },
    {
        "id": "925d685c.856048",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2645.4166831970215,
        "y": 5491.691994190216,
        "z": "34265cd.7205424",
        "wires": [
            [
                "c8275ab5.32ae"
            ]
        ]
    },
    {
        "id": "2b843689.1bb8aa",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2653.9882164001465,
        "y": 5544.311138629913,
        "z": "34265cd.7205424",
        "wires": [
            [
                "ee39eeee.ad11d8"
            ]
        ]
    },
    {
        "id": "e9947f94.840de",
        "type": "for",
        "name": "for each vm-network",
        "xml": "<for silentFailure='true' index='network-role-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1792.0834312438965,
        "y": 5679.358223438263,
        "z": "34265cd.7205424",
        "wires": [
            [
                "a50b0d5a.ce5908"
            ]
        ]
    },
    {
        "id": "8135e354.1212a",
        "type": "save",
        "name": "save cp relationship to l3-network and vlan-tag",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"cp:relationship-list\"\n   key=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n     AND cp.cp-instance-id = $cp-instance-id\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"l3-network\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network[$related-network-index].network-id`\" />\n    <parameter name=\"relationship-list.relationship[1].related-to\" value=\"vlan-tag\" />\n    <parameter name=\"relationship-list.relationship[1].related-link\"\n      value=\"`'/aai/v$/network/vlan-tags/vlan-tag/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network[$related-network-index].vlan-tags.vlan-interface`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2711.7504386901855,
        "y": 5677.358218669891,
        "z": "34265cd.7205424",
        "wires": [
            [
                "54f5fc79.be774c",
                "c10c7043.50dca8"
            ]
        ]
    },
    {
        "id": "cffcf5c1.1e4ec8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3118.583484649658,
        "y": 5650.675517559052,
        "z": "34265cd.7205424",
        "wires": [
            [
                "7a163627.fcef3",
                "deea8b7a.34ee38"
            ]
        ]
    },
    {
        "id": "6f874e0.8ac4234",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3118.5835609436035,
        "y": 5703.67527627945,
        "z": "34265cd.7205424",
        "wires": [
            [
                "57dc1477.8da4b4",
                "deea8b7a.34ee38"
            ]
        ]
    },
    {
        "id": "54f5fc79.be774c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2961.7503700256348,
        "y": 5650.691187381745,
        "z": "34265cd.7205424",
        "wires": [
            [
                "cffcf5c1.1e4ec8"
            ]
        ]
    },
    {
        "id": "c10c7043.50dca8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2970.3219032287598,
        "y": 5703.310331821443,
        "z": "34265cd.7205424",
        "wires": [
            [
                "6f874e0.8ac4234"
            ]
        ]
    },
    {
        "id": "b14df7f0.70279",
        "type": "for",
        "name": "for each related-network",
        "xml": "<for silentFailure='true' index='related-network-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2407.750270843506,
        "y": 5677.358219623566,
        "z": "34265cd.7205424",
        "wires": [
            [
                "8135e354.1212a"
            ]
        ]
    },
    {
        "id": "50d2cea2.bb528",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-generate-heat-parameters",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-generate-heat-parameters' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 656.0835952758789,
        "y": 6919.108981132507,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "886b51f6.cb8c8",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/bgb-vfmoduleheat.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 466.1669006347656,
        "y": 6972.108658790588,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "14aa8b5.d6278f5",
        "type": "switchNode",
        "name": "switch input vf-module-name",
        "xml": "<switch test='`$vf-module-topology-operation-input.vf-module-request-input.vf-module-name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 638.7499961853027,
        "y": 2404.191040992737,
        "z": "34265cd.7205424",
        "wires": [
            [
                "75d4819e.af875",
                "b5b05f4.3353d2"
            ]
        ]
    },
    {
        "id": "75d4819e.af875",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 861.2499618530273,
        "y": 2326.6910009384155,
        "z": "34265cd.7205424",
        "wires": [
            [
                "35aa0744.80b5c8"
            ]
        ]
    },
    {
        "id": "b5b05f4.3353d2",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 862.9285621643066,
        "y": 2499.309585571289,
        "z": "34265cd.7205424",
        "wires": [
            [
                "857ef89e.1a5408"
            ]
        ]
    },
    {
        "id": "a0f0f960.3140c8",
        "type": "for",
        "name": "for each vnfc-subnet-role",
        "xml": "<for index='subnet-role-index' start='0'\n  end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1396.2500953674316,
        "y": 3199.1907176971436,
        "z": "34265cd.7205424",
        "wires": [
            [
                "9d57c772.862988"
            ]
        ]
    },
    {
        "id": "9d57c772.862988",
        "type": "for",
        "name": "for each vnfc-address-family",
        "xml": "<for index='address-family-index' start='0'\n  end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1644.5833549499512,
        "y": 3199.1907176971436,
        "z": "34265cd.7205424",
        "wires": [
            [
                "400506a5.64a12"
            ]
        ]
    },
    {
        "id": "4b70bca8.2d04e4",
        "type": "for",
        "name": "for each vm-type",
        "xml": "<for silentFailure='true' index='vm-type-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 602.0832710266113,
        "y": 2917.5240545272827,
        "z": "34265cd.7205424",
        "wires": [
            [
                "76c0436b.ee91fc"
            ]
        ]
    },
    {
        "id": "76c0436b.ee91fc",
        "type": "for",
        "name": "for each vnfc",
        "xml": "<for silentFailure='true' index='vnfc-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 783.7500495910645,
        "y": 2916.1912031173706,
        "z": "34265cd.7205424",
        "wires": [
            [
                "f9241628.26f1"
            ]
        ]
    },
    {
        "id": "f9241628.26f1",
        "type": "for",
        "name": "for each vnfc-network",
        "xml": "<for silentFailure='true' index='vnfc-network-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 984.9166221618652,
        "y": 2916.023892402649,
        "z": "34265cd.7205424",
        "wires": [
            [
                "ba3c1b94.fddce"
            ]
        ]
    },
    {
        "id": "ba3c1b94.fddce",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1197.083293914795,
        "y": 2915.0242528915405,
        "z": "34265cd.7205424",
        "wires": [
            [
                "dd887364.2936e",
                "ee8eb9ce.fef06",
                "3f48cbb0.25141c",
                "a0f0f960.3140c8"
            ]
        ]
    },
    {
        "id": "dd887364.2936e",
        "type": "set",
        "name": "set vnf-network-index to -1",
        "xml": "<set>\n<parameter name='vnf-network-index' value='-1' />\n",
        "comments": "",
        "x": 1408.7500114440918,
        "y": 2868.357466697693,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "ee8eb9ce.fef06",
        "type": "for",
        "name": "for each vnf-network",
        "xml": "<for index='idx' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1390.4168014526367,
        "y": 2915.024218559265,
        "z": "34265cd.7205424",
        "wires": [
            [
                "e1cac1a5.f31bf"
            ]
        ]
    },
    {
        "id": "e1cac1a5.f31bf",
        "type": "switchNode",
        "name": "switch network-roles match?",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-network-role\n  == $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$idx].network-role`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1632.0832710266113,
        "y": 2913.357713699341,
        "z": "34265cd.7205424",
        "wires": [
            [
                "d60f049.7085ef8"
            ]
        ]
    },
    {
        "id": "d60f049.7085ef8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1828.7499504089355,
        "y": 2913.357632637024,
        "z": "34265cd.7205424",
        "wires": [
            [
                "4013cdce.5ea73c"
            ]
        ]
    },
    {
        "id": "4013cdce.5ea73c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1982.0831718444824,
        "y": 2913.3575048446655,
        "z": "34265cd.7205424",
        "wires": [
            [
                "903a3aca.3e3288",
                "4a6e737f.7ebf6c",
                "9291e114.ac1f58"
            ]
        ]
    },
    {
        "id": "903a3aca.3e3288",
        "type": "set",
        "name": "set vnf-network-index",
        "xml": "<set>\n<parameter name='vnf-network-index' value='`$idx`' />\n",
        "comments": "",
        "x": 2188.7500038146973,
        "y": 2861.6908826828003,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "4a6e737f.7ebf6c",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 2143.7499198913574,
        "y": 2951.690803527832,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "3f48cbb0.25141c",
        "type": "switchNode",
        "name": "switch vnf-network-index",
        "xml": "<switch test='`$vnf-network-index`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1402.083339691162,
        "y": 2975.0242204666138,
        "z": "34265cd.7205424",
        "wires": [
            [
                "b6265ed2.699af8"
            ]
        ]
    },
    {
        "id": "b6265ed2.699af8",
        "type": "outcome",
        "name": "-1",
        "xml": "<outcome value='-1'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1593.7499809265137,
        "y": 2975.0244646072388,
        "z": "34265cd.7205424",
        "wires": [
            [
                "2ed011a8.f17046"
            ]
        ]
    },
    {
        "id": "2ed011a8.f17046",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1742.0831718444824,
        "y": 2973.3575048446655,
        "z": "34265cd.7205424",
        "wires": [
            [
                "4023444f.ec71fc",
                "f3cab335.7ec9f"
            ]
        ]
    },
    {
        "id": "cc22dd63.414278",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2433.7498893737793,
        "y": 3383.357356071472,
        "z": "34265cd.7205424",
        "wires": [
            [
                "7043f864.7c537",
                "4ca198d0.a53ec8",
                "791dbcea.c3f15c"
            ]
        ]
    },
    {
        "id": "7043f864.7c537",
        "type": "for",
        "name": "for each subnet-data",
        "xml": "<for index='subnet-data-index' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2630.4166412353516,
        "y": 3338.3572750091553,
        "z": "34265cd.7205424",
        "wires": [
            [
                "52062448.8dfe2c"
            ]
        ]
    },
    {
        "id": "52062448.8dfe2c",
        "type": "switchNode",
        "name": "address-families match?",
        "xml": "<switch test='`$tmp.address-family\n  == $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].ip-version`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2857.083267211914,
        "y": 3338.3572750091553,
        "z": "34265cd.7205424",
        "wires": [
            [
                "543cb01a.eba16"
            ]
        ]
    },
    {
        "id": "543cb01a.eba16",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3037.0832328796387,
        "y": 3338.357681274414,
        "z": "34265cd.7205424",
        "wires": [
            [
                "bdf7e6b7.6ee818"
            ]
        ]
    },
    {
        "id": "60ebadf1.68a63c",
        "type": "set",
        "name": "set tmp.address-family",
        "xml": "<set>\n<parameter name='tmp.address-family'\n  value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-address-family`' />\n",
        "comments": "",
        "x": 2462.083225250244,
        "y": 3201.6907691955566,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "400506a5.64a12",
        "type": "switchNode",
        "name": "switch vnfc-subnet-ip_length",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1907.083568572998,
        "y": 3198.357804298401,
        "z": "34265cd.7205424",
        "wires": [
            [
                "e743e437.36a2c8",
                "57980fd5.eb6b38",
                "67a6a045.51b5d"
            ]
        ]
    },
    {
        "id": "e743e437.36a2c8",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 2108.7500801086426,
        "y": 3098.3573474884033,
        "z": "34265cd.7205424",
        "wires": [
            [
                "14f67782.825778"
            ]
        ]
    },
    {
        "id": "57980fd5.eb6b38",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2105.1787109375,
        "y": 3284.309638977051,
        "z": "34265cd.7205424",
        "wires": [
            [
                "5396132e.ac2ccc"
            ]
        ]
    },
    {
        "id": "14f67782.825778",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2240.4166297912598,
        "y": 3121.024094581604,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "a683f1c3.23c0e",
        "type": "set",
        "name": "set subnet-id to -1",
        "xml": "<set>\n<parameter name='subnet-id' value='-1' />\n",
        "comments": "",
        "x": 3130.417148590088,
        "y": 3500.024761199951,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "5396132e.ac2ccc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2258.7501258850098,
        "y": 3283.357271194458,
        "z": "34265cd.7205424",
        "wires": [
            [
                "60ebadf1.68a63c",
                "cc22dd63.414278"
            ]
        ]
    },
    {
        "id": "8baea399.050c9",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4390.416746139526,
        "y": 3671.6912381649017,
        "z": "34265cd.7205424",
        "wires": [
            [
                "2294588d.69be78",
                "7cf89eba.e30e88"
            ]
        ]
    },
    {
        "id": "7cf89eba.e30e88",
        "type": "execute",
        "name": "execute isInSameSubnet",
        "xml": "<execute plugin=\"com.att.sdnctl.sli.plugin.ipAddressTools.IpAddressTool\" method=\"isInSameSubnet\">\n\t<parameter name=\"firstIPAddr\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].network-start-address`\" />\n\t<parameter name=\"secondIPAddr\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[0].vnfc-ip-address`\" />\n\t<parameter name=\"subnet\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].cidr-mask`\" />\n\t<parameter name=\"ipType\" value=\"`$ip-type`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 4605.416748046875,
        "y": 3721.6909120082855,
        "z": "34265cd.7205424",
        "wires": [
            [
                "b43b85f4.a3f6f"
            ]
        ]
    },
    {
        "id": "2294588d.69be78",
        "type": "switchNode",
        "name": "switch tmp.address-family",
        "xml": "<switch test='`$tmp.address-family`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4607.083904266357,
        "y": 3628.3578984737396,
        "z": "34265cd.7205424",
        "wires": [
            [
                "594b959.c2361ec",
                "9b3a3849.f2667"
            ]
        ]
    },
    {
        "id": "594b959.c2361ec",
        "type": "outcome",
        "name": "ipv4",
        "xml": "<outcome value='ipv4'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4810.417166392008,
        "y": 3601.6911288102465,
        "z": "34265cd.7205424",
        "wires": [
            [
                "6a520cb3.77f044"
            ]
        ]
    },
    {
        "id": "9b3a3849.f2667",
        "type": "outcome",
        "name": "ipv6",
        "xml": "<outcome value='ipv6'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4810.416839599609,
        "y": 3648.3576562404633,
        "z": "34265cd.7205424",
        "wires": [
            [
                "7af13a32.5ffc94"
            ]
        ]
    },
    {
        "id": "6a520cb3.77f044",
        "type": "set",
        "name": "set ip-type parameter to IPv4",
        "xml": "<set>\n<parameter name='ip-type' value='IPv4' />\n",
        "comments": "",
        "x": 5007.083652496338,
        "y": 3600.024602651596,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "7af13a32.5ffc94",
        "type": "set",
        "name": "set ip-type parameter to IPv6",
        "xml": "<set>\n<parameter name='ip-type' value='IPv6' />\n",
        "comments": "",
        "x": 5012.083530426025,
        "y": 3648.3576753139496,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "ab82723f.61758",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4945.416778564453,
        "y": 3721.3576753139496,
        "z": "34265cd.7205424",
        "wires": [
            [
                "b1e91b4.62d23e8",
                "7d551750.2413e8"
            ]
        ]
    },
    {
        "id": "b1e91b4.62d23e8",
        "type": "set",
        "name": "set subnet-id",
        "xml": "<set>\n<parameter name='subnet-id' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].sdnc-subnet-id`' />\n",
        "comments": "",
        "x": 5123.750099182129,
        "y": 3698.024162054062,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "7d551750.2413e8",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 5108.750102996826,
        "y": 3744.6911561489105,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "99f86360.f7c048",
        "type": "switchNode",
        "name": "switch subnet-id",
        "xml": "<switch test='`$subnet-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3122.083023071289,
        "y": 3661.6914958953857,
        "z": "34265cd.7205424",
        "wires": [
            [
                "3596c952.3e6b56"
            ]
        ]
    },
    {
        "id": "3596c952.3e6b56",
        "type": "outcome",
        "name": "-1",
        "xml": "<outcome value='-1'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3278.7495880126953,
        "y": 3661.691431045532,
        "z": "34265cd.7205424",
        "wires": [
            [
                "6bb9a9d2.d4614"
            ]
        ]
    },
    {
        "id": "6bb9a9d2.d4614",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3427.082778930664,
        "y": 3660.024471282959,
        "z": "34265cd.7205424",
        "wires": [
            [
                "1c39b653.2b576a",
                "f3cab335.7ec9f"
            ]
        ]
    },
    {
        "id": "5e59b7e1.f58dd8",
        "type": "set",
        "name": "set subnet-id in vnfc-ip-assignments (temp variable)",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].subnet-id' value='`$subnet-id`' />\n",
        "comments": "",
        "x": 3233.749668121338,
        "y": 3738.3582668304443,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "fcdfebce.a935a8",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/bgb-vfmodulec.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 587.0832633972168,
        "y": 3333.3575048446655,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "b43b85f4.a3f6f",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4792.083351135254,
        "y": 3721.6914002895355,
        "z": "34265cd.7205424",
        "wires": [
            [
                "ab82723f.61758"
            ]
        ]
    },
    {
        "id": "9291e114.ac1f58",
        "type": "set",
        "name": "set network-id",
        "xml": "<set>\n<parameter name='$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].network-id'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$idx].network-id`' />\n",
        "comments": "",
        "x": 2165.4165077209473,
        "y": 2906.690965652466,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "67190c0.7b4b2f4",
        "type": "switchNode",
        "name": "switch nfc-naming-code",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].nfc-naming-code`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1363.7499732971191,
        "y": 4521.6906933784485,
        "z": "34265cd.7205424",
        "wires": [
            [
                "fbe686e0.5f0fd",
                "957bd493.746db8"
            ]
        ]
    },
    {
        "id": "fbe686e0.5f0fd",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 1548.7499198913574,
        "y": 4496.690512180328,
        "z": "34265cd.7205424",
        "wires": [
            [
                "accede8.fdef6a"
            ]
        ]
    },
    {
        "id": "957bd493.746db8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1546.8451919555664,
        "y": 4543.476339817047,
        "z": "34265cd.7205424",
        "wires": [
            [
                "3d2d20a5.318a68"
            ]
        ]
    },
    {
        "id": "accede8.fdef6a",
        "type": "set",
        "name": "set tmp.nfc-naming-code to DEFAULT",
        "xml": "<set>\n<parameter name='tmp.nfc-naming-code' value='DEFAULT' />\n",
        "comments": "",
        "x": 1780.416690826416,
        "y": 4495.023862361908,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "3d2d20a5.318a68",
        "type": "set",
        "name": "set tmp.nfc-naming-code",
        "xml": "<set>\n<parameter name='tmp.nfc-naming-code' value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].nfc-naming-code`' />\n",
        "comments": "",
        "x": 1737.0832023620605,
        "y": 4543.357360363007,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "2591369f.6e45f2",
        "type": "switchNode",
        "name": "switch nfc-function",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].nfc-function`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1352.0833053588867,
        "y": 4620.0238671302795,
        "z": "34265cd.7205424",
        "wires": [
            [
                "db65fbda.8eb47",
                "25e9a13b.27b69e"
            ]
        ]
    },
    {
        "id": "db65fbda.8eb47",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 1548.749912261963,
        "y": 4595.0236649513245,
        "z": "34265cd.7205424",
        "wires": [
            [
                "402342b6.e54cbc"
            ]
        ]
    },
    {
        "id": "25e9a13b.27b69e",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1546.8451843261719,
        "y": 4641.809492588043,
        "z": "34265cd.7205424",
        "wires": [
            [
                "fc9c94e4.1cab6"
            ]
        ]
    },
    {
        "id": "402342b6.e54cbc",
        "type": "set",
        "name": "set tmp.nfc-function to DEFAULT",
        "xml": "<set>\n<parameter name='tmp.nfc-function' value='DEFAULT' />\n",
        "comments": "",
        "x": 1760.4166946411133,
        "y": 4593.356873989105,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "fc9c94e4.1cab6",
        "type": "set",
        "name": "set tmp.nfc-function",
        "xml": "<set>\n<parameter name='tmp.nfc-function' value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].nfc-function`' />\n",
        "comments": "",
        "x": 1718.7498245239258,
        "y": 4641.690535068512,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "56804039.82c95",
        "type": "switchNode",
        "name": "switch network-roles match?",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-network-role\n  == $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].network-role`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2025.4166221618652,
        "y": 5518.690894603729,
        "z": "34265cd.7205424",
        "wires": [
            [
                "d7344243.b04a2"
            ]
        ]
    },
    {
        "id": "d7344243.b04a2",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2223.7500915527344,
        "y": 5518.358049869537,
        "z": "34265cd.7205424",
        "wires": [
            [
                "1b4d007d.b0d738"
            ]
        ]
    },
    {
        "id": "a50b0d5a.ce5908",
        "type": "switchNode",
        "name": "switch network-roles match?",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].network-role\n  == $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].network-role`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2028.7499656677246,
        "y": 5678.357342243195,
        "z": "34265cd.7205424",
        "wires": [
            [
                "ecf473bc.4b56a8"
            ]
        ]
    },
    {
        "id": "ecf473bc.4b56a8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2227.0834350585938,
        "y": 5678.024497509003,
        "z": "34265cd.7205424",
        "wires": [
            [
                "b14df7f0.70279"
            ]
        ]
    },
    {
        "id": "f2b022e3.1f756",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1932.0832481384277,
        "y": 6256.690762042999,
        "z": "34265cd.7205424",
        "wires": [
            [
                "cd3cd499.458be8",
                "8f630208.bc1d7"
            ]
        ]
    },
    {
        "id": "d27afbea.8fdbb",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1933.7499961853027,
        "y": 6571.690773487091,
        "z": "34265cd.7205424",
        "wires": [
            [
                "636270ad.cb1f1",
                "8293c8c0.560c58"
            ]
        ]
    },
    {
        "id": "8f630208.bc1d7",
        "type": "for",
        "name": "for each vnfc-network-role",
        "xml": "<for silentFailure='true' index='vnfc-network-role-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2148.7501945495605,
        "y": 6315.023932933807,
        "z": "34265cd.7205424",
        "wires": [
            [
                "a6245c2f.d57048"
            ]
        ]
    },
    {
        "id": "c5f5f167.b223a",
        "type": "save",
        "name": "save vip-ipv4-address-list relationship to cp",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"vip-ipv4-address-list:relationship-list\"\n   key=\"cloud-region.cloud-owner = $prop.cloud-region.cloud-owner\n\t  AND cloud-region.cloud-region-id = $vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region\n\t  AND vip-ipv4-address-list.vip-ipv4-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v4[$ipv4-index]\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"cp\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/vnfcs/vnfc/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n        + '/cps/cp/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-role-index].connection-point.connection-point-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2823.7501182556152,
        "y": 6315.023771762848,
        "z": "34265cd.7205424",
        "wires": [
            [
                "af4f9563.46c848",
                "20889d25.78e392"
            ]
        ]
    },
    {
        "id": "24613f9d.2d98c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3215.583209991455,
        "y": 6288.341553211212,
        "z": "34265cd.7205424",
        "wires": [
            [
                "4923f1db.2fcc2",
                "269063c8.ce5a84"
            ]
        ]
    },
    {
        "id": "215b3725.6db0e8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3215.5832862854004,
        "y": 6341.34131193161,
        "z": "34265cd.7205424",
        "wires": [
            [
                "97a750a7.0acbc8",
                "269063c8.ce5a84"
            ]
        ]
    },
    {
        "id": "af4f9563.46c848",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3058.7500953674316,
        "y": 6288.357223033905,
        "z": "34265cd.7205424",
        "wires": [
            [
                "24613f9d.2d98c"
            ]
        ]
    },
    {
        "id": "20889d25.78e392",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3067.3216285705566,
        "y": 6340.976367473602,
        "z": "34265cd.7205424",
        "wires": [
            [
                "215b3725.6db0e8"
            ]
        ]
    },
    {
        "id": "8293c8c0.560c58",
        "type": "for",
        "name": "for each vnfc-network-role",
        "xml": "<for silentFailure='true' index='vnfc-network-role-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2150.416591644287,
        "y": 6638.357342243195,
        "z": "34265cd.7205424",
        "wires": [
            [
                "69d9fcf7.12a64c"
            ]
        ]
    },
    {
        "id": "d0a7f2e0.3a2078",
        "type": "save",
        "name": "save vip-ipv6-address-list relationship to cp",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"vip-ipv6-address-list:relationship-list\"\n   key=\"cloud-region.cloud-owner = $prop.cloud-region.cloud-owner\n\t  AND cloud-region.cloud-region-id = $vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region\n\t  AND vip-ipv6-address-list.vip-ipv6-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v6[$ipv6-index]\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"cp\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/vnfcs/vnfc/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n        + '/cps/cp/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-role-index].connection-point.connection-point-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2820.41654586792,
        "y": 6636.690124988556,
        "z": "34265cd.7205424",
        "wires": [
            [
                "84935ce4.e84668",
                "5e735e5d.b462a8"
            ]
        ]
    },
    {
        "id": "32fbd7c1.249f1",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3212.2496376037598,
        "y": 6610.00790643692,
        "z": "34265cd.7205424",
        "wires": [
            [
                "fc4213a2.47c98",
                "269063c8.ce5a84"
            ]
        ]
    },
    {
        "id": "d624a09c.620df",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3212.249713897705,
        "y": 6663.007665157318,
        "z": "34265cd.7205424",
        "wires": [
            [
                "fd80fcb3.880c8",
                "269063c8.ce5a84"
            ]
        ]
    },
    {
        "id": "84935ce4.e84668",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3055.4165229797363,
        "y": 6610.023576259613,
        "z": "34265cd.7205424",
        "wires": [
            [
                "32fbd7c1.249f1"
            ]
        ]
    },
    {
        "id": "5e735e5d.b462a8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3063.9880561828613,
        "y": 6662.64272069931,
        "z": "34265cd.7205424",
        "wires": [
            [
                "d624a09c.620df"
            ]
        ]
    },
    {
        "id": "a6245c2f.d57048",
        "type": "switchNode",
        "name": "switch network-roles match?",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].network-role\n  == $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-role-index].vnfc-network-role`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2402.083263397217,
        "y": 6315.023609638214,
        "z": "34265cd.7205424",
        "wires": [
            [
                "372012a9.b14566"
            ]
        ]
    },
    {
        "id": "372012a9.b14566",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2588.7501068115234,
        "y": 6315.02409696579,
        "z": "34265cd.7205424",
        "wires": [
            [
                "c5f5f167.b223a"
            ]
        ]
    },
    {
        "id": "69d9fcf7.12a64c",
        "type": "switchNode",
        "name": "switch network-roles match?",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].network-role\n  == $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-role-index].vnfc-network-role`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2398.749843597412,
        "y": 6636.690350055695,
        "z": "34265cd.7205424",
        "wires": [
            [
                "fc024c49.f1c3f"
            ]
        ]
    },
    {
        "id": "fc024c49.f1c3f",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2585.4166870117188,
        "y": 6636.69083738327,
        "z": "34265cd.7205424",
        "wires": [
            [
                "d0a7f2e0.3a2078"
            ]
        ]
    },
    {
        "id": "1d4a09e3.74f01e",
        "type": "comment",
        "name": "SELF-SERVE FORK",
        "info": "",
        "comments": "",
        "x": 748.4642944335938,
        "y": 968.7976198196411,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "bb6a45ed.04707",
        "type": "comment",
        "name": "First, count the subnets for this address family",
        "info": "",
        "comments": "",
        "x": 2763.750400543213,
        "y": 3247.999765396118,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "b1ade774.cfc288",
        "type": "for",
        "name": "for each subnet-data",
        "xml": "<for index='subnet-data-index' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3137.0830879211426,
        "y": 3543.000268936157,
        "z": "34265cd.7205424",
        "wires": [
            [
                "1d2a481b.bb5bc8"
            ]
        ]
    },
    {
        "id": "1d2a481b.bb5bc8",
        "type": "switchNode",
        "name": "address-families match?",
        "xml": "<switch test='`$tmp.address-family\n  == $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].ip-version`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3363.749713897705,
        "y": 3543.000268936157,
        "z": "34265cd.7205424",
        "wires": [
            [
                "79d9b537.c3936c"
            ]
        ]
    },
    {
        "id": "79d9b537.c3936c",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3543.7496795654297,
        "y": 3543.000675201416,
        "z": "34265cd.7205424",
        "wires": [
            [
                "d1d8beb4.cea2d8"
            ]
        ]
    },
    {
        "id": "4ca198d0.a53ec8",
        "type": "set",
        "name": "set af-count to 0",
        "xml": "<set>\n<parameter name='af-count' value='0' />\n",
        "comments": "",
        "x": 2618.749973297119,
        "y": 3289.6665172576904,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "70a514e0.1d9e4c",
        "type": "set",
        "name": "increment af-count",
        "xml": "<set>\n<parameter name='af-count' value='`$af-count + 1`' />\n",
        "comments": "",
        "x": 3367.083339691162,
        "y": 3356.333267211914,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "bdf7e6b7.6ee818",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3183.749713897705,
        "y": 3337.999952316284,
        "z": "34265cd.7205424",
        "wires": [
            [
                "70a514e0.1d9e4c",
                "5bb16a61.6e69bc"
            ]
        ]
    },
    {
        "id": "5bb16a61.6e69bc",
        "type": "set",
        "name": "set subnet-id",
        "xml": "<set>\n<parameter name='subnet-id' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].sdnc-subnet-id`' />\n",
        "comments": "",
        "x": 3348.7497596740723,
        "y": 3311.3332653045654,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "791dbcea.c3f15c",
        "type": "switchNode",
        "name": "switch af-count",
        "xml": "<switch test='`$af-count`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2608.750385284424,
        "y": 3526.3334341049194,
        "z": "34265cd.7205424",
        "wires": [
            [
                "ed47a0ef.b1bf78",
                "79ae7762.a4525"
            ]
        ]
    },
    {
        "id": "ed47a0ef.b1bf78",
        "type": "outcome",
        "name": "1",
        "xml": "<outcome value='1'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2768.7499046325684,
        "y": 3424.666603088379,
        "z": "34265cd.7205424",
        "wires": [
            [
                "e053fb41.4c10f8"
            ]
        ]
    },
    {
        "id": "e053fb41.4c10f8",
        "type": "set",
        "name": "set subnet-id in vnfc-ip-assignments (temp variable)",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].subnet-id'\n  value='`$subnet-id`' />\n",
        "comments": "",
        "x": 3042.083209991455,
        "y": 3422.999952316284,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "79ae7762.a4525",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2768.7498207092285,
        "y": 3626.333522796631,
        "z": "34265cd.7205424",
        "wires": [
            [
                "f9e96cae.86b4f8"
            ]
        ]
    },
    {
        "id": "f9e96cae.86b4f8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2925.41646194458,
        "y": 3626.333204269409,
        "z": "34265cd.7205424",
        "wires": [
            [
                "a683f1c3.23c0e",
                "b1ade774.cfc288",
                "99f86360.f7c048",
                "5e59b7e1.f58dd8"
            ]
        ]
    },
    {
        "id": "d1d8beb4.cea2d8",
        "type": "switchNode",
        "name": "switch network-start-address",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].network-start-address`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3738.749858856201,
        "y": 3541.3335189819336,
        "z": "34265cd.7205424",
        "wires": [
            [
                "2066aba2.d3bb4c",
                "f3e101cd.85b1b8"
            ]
        ]
    },
    {
        "id": "2066aba2.d3bb4c",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 3935.416706085205,
        "y": 3476.333129644394,
        "z": "34265cd.7205424",
        "wires": [
            [
                "c6a0914d.3826e8"
            ]
        ]
    },
    {
        "id": "f3e101cd.85b1b8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3928.512104034424,
        "y": 3610.6190412044525,
        "z": "34265cd.7205424",
        "wires": [
            [
                "4cd6ad1.9e140d4"
            ]
        ]
    },
    {
        "id": "4cd6ad1.9e140d4",
        "type": "switchNode",
        "name": "switch cidr-mask",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].cidr-mask`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4083.749897003174,
        "y": 3609.6662480831146,
        "z": "34265cd.7205424",
        "wires": [
            [
                "f5b0bc14.89cdb8",
                "78b8442f.309bb4"
            ]
        ]
    },
    {
        "id": "f5b0bc14.89cdb8",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 4238.749973297119,
        "y": 3539.66654753685,
        "z": "34265cd.7205424",
        "wires": [
            [
                "892836a6.bb30b8"
            ]
        ]
    },
    {
        "id": "78b8442f.309bb4",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4241.845769882202,
        "y": 3672.2856347560883,
        "z": "34265cd.7205424",
        "wires": [
            [
                "8baea399.050c9"
            ]
        ]
    },
    {
        "id": "67a6a045.51b5d",
        "type": "outcome",
        "name": "0",
        "xml": "<outcome value='0'>",
        "comments": "",
        "outputs": 1,
        "x": 2110.4165840148926,
        "y": 3146.333204269409,
        "z": "34265cd.7205424",
        "wires": [
            [
                "14f67782.825778"
            ]
        ]
    },
    {
        "id": "c6a0914d.3826e8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4080.416633605957,
        "y": 3476.3328969478607,
        "z": "34265cd.7205424",
        "wires": [
            [
                "38e6ba0e.ecd3ae",
                "f3cab335.7ec9f"
            ]
        ]
    },
    {
        "id": "892836a6.bb30b8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4385.416488647461,
        "y": 3537.9997642040253,
        "z": "34265cd.7205424",
        "wires": [
            [
                "5e50004f.2c9f",
                "f3cab335.7ec9f"
            ]
        ]
    },
    {
        "id": "eafa8b76.275b48",
        "type": "comment",
        "name": "Ignore address families with no addresses",
        "info": "",
        "comments": "",
        "x": 2384.74995803833,
        "y": 3076.666700363159,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "f5615f88.05ae28",
        "type": "switchNode",
        "name": "switch invariant-uuid",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].invariant-uuid`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1355.4167976379395,
        "y": 4706.333078384399,
        "z": "34265cd.7205424",
        "wires": [
            [
                "32f079b9.ff27d6",
                "1e96f66.5d21f8a"
            ]
        ]
    },
    {
        "id": "32f079b9.ff27d6",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 1537.083209991455,
        "y": 4682.999708175659,
        "z": "34265cd.7205424",
        "wires": [
            [
                "f9cc9731.038f7"
            ]
        ]
    },
    {
        "id": "1e96f66.5d21f8a",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1535.178482055664,
        "y": 4729.785535812378,
        "z": "34265cd.7205424",
        "wires": [
            [
                "c87af5c.2b49f88"
            ]
        ]
    },
    {
        "id": "f9cc9731.038f7",
        "type": "save",
        "name": "save vnfc to A&AI",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"vnfc\" \n\tkey=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\" >\n<parameter name=\"vnfc-name\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name`\" />\n<parameter name=\"nfc-naming-code\" value=\"`$tmp.nfc-naming-code`\" />\n<parameter name=\"nfc-function\" value=\"`$tmp.nfc-function`\" />\n<parameter name=\"orchestration-status\" value=\"`PendingCreate`\" />\n<parameter name=\"in-maint\" value=\"true\" />\n<parameter name=\"prov-status\" value=\"`PREPROV`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1698.7498359680176,
        "y": 4684.666700363159,
        "z": "34265cd.7205424",
        "wires": [
            [
                "d4c69512.b7a85",
                "cb5ae333.4bb6c"
            ]
        ]
    },
    {
        "id": "a6f8df46.880ce8",
        "type": "switchNode",
        "name": "switch input cloud-owner",
        "xml": "<switch test='`$vf-module-topology-operation-input.vf-module-request-input.cloud-owner`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 614.4641952514648,
        "y": 358.65472888946533,
        "z": "34265cd.7205424",
        "wires": [
            [
                "6677fe8a.aff6a",
                "6295c766.2daaa8"
            ]
        ]
    },
    {
        "id": "6677fe8a.aff6a",
        "type": "other",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 797.7975692749023,
        "y": 328.65471744537354,
        "z": "34265cd.7205424",
        "wires": [
            [
                "39261ade.66ad8e"
            ]
        ]
    },
    {
        "id": "6295c766.2daaa8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 797.5594749450684,
        "y": 369.6072111129761,
        "z": "34265cd.7205424",
        "wires": [
            [
                "a2677766.fe3f"
            ]
        ]
    },
    {
        "id": "39261ade.66ad8e",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 932.7975234985352,
        "y": 326.98805713653564,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "a2677766.fe3f",
        "type": "set",
        "name": "set prop.cloud-region.cloud-owner",
        "xml": "<set>\n<parameter name='prop.cloud-region.cloud-owner' value='`$vf-module-topology-operation-input.vf-module-request-input.cloud-owner`' />\n",
        "comments": "",
        "x": 1014.4641799926758,
        "y": 368.6547384262085,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "d918a5d3.4b678",
        "type": "call",
        "name": "call self-serve-vf-module-forking-logic",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='self-serve-vf-module-forking-logic' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 646.0515670776367,
        "y": 910.048059463501,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "7933c6b5.bef96",
        "type": "switchNode",
        "name": "switch ss.self-serve-flag",
        "xml": "<switch test=\"`$ss.self-serve-flag`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 604.1943054199219,
        "y": 1137.0481281280518,
        "z": "34265cd.7205424",
        "wires": [
            [
                "aa4d9d31.8db2d",
                "8b34e2b6.f12a5"
            ]
        ]
    },
    {
        "id": "aa4d9d31.8db2d",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 824.908504486084,
        "y": 1254.6190271377563,
        "z": "34265cd.7205424",
        "wires": [
            [
                "b2cbded2.837b2"
            ]
        ]
    },
    {
        "id": "8b34e2b6.f12a5",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 825.4799575805664,
        "y": 1013.4766645431519,
        "z": "34265cd.7205424",
        "wires": [
            [
                "be10b89.7317448"
            ]
        ]
    },
    {
        "id": "66d0262b.c1316",
        "type": "call",
        "name": "call check for VNF-API-preload and copy",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='gw-vfmodule-update' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 657.2499923706055,
        "y": 7316.2509298324585,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "b097fd2d.1c3e2",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 979.9999618530273,
        "y": 487.6302709579468,
        "z": "34265cd.7205424",
        "wires": [
            [
                "7e3f0173.cdd7c8",
                "52adbd59.e3948c"
            ]
        ]
    },
    {
        "id": "52adbd59.e3948c",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"If svc-action is 'assign' then request-action must be 'CreateVfModuleInstance'\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1167.9166450500488,
        "y": 471.26124906539917,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "2b23f970.b0e516",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1082.2022666931152,
        "y": 536.1183648109436,
        "z": "34265cd.7205424",
        "wires": [
            [
                "fd16e118.302da8",
                "7e3f0173.cdd7c8"
            ]
        ]
    },
    {
        "id": "fd16e118.302da8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error reading VF_MODULE_MODEL table\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1279.5236701965332,
        "y": 514.6540641784668,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "19ca61b5.8fa5c6",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1096.4879722595215,
        "y": 581.2612175941467,
        "z": "34265cd.7205424",
        "wires": [
            [
                "cb67a353.3c75b",
                "7e3f0173.cdd7c8"
            ]
        ]
    },
    {
        "id": "cb67a353.3c75b",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'No model found for VF module customization UUID ' + $vf-module-topology-operation-input.vf-module-information.onap-model-information.model-customization-uuid`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1291.130859375,
        "y": 558.2255039215088,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "57fdbbee.7122f4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1058.095230102539,
        "y": 709.3326988220215,
        "z": "34265cd.7205424",
        "wires": [
            [
                "f134d1f3.94396",
                "7e3f0173.cdd7c8"
            ]
        ]
    },
    {
        "id": "f134d1f3.94396",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"There are no VNFs defined in MD-SAL\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1265.0594863891602,
        "y": 680.3684234619141,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "a0d2ddbe.4ce55",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 922.3809356689453,
        "y": 817.3326988220215,
        "z": "34265cd.7205424",
        "wires": [
            [
                "bb2e5ad9.46ca68",
                "7e3f0173.cdd7c8"
            ]
        ]
    },
    {
        "id": "bb2e5ad9.46ca68",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Unable to find VNF ID ' + $vf-module-topology-operation-input.vnf-information.vnf-id + ' in MD-SAL'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1124.345230102539,
        "y": 792.6898679733276,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "b91cfedb.3fa03",
        "type": "call",
        "name": "call self-serve-vf-module-assign",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='self-serve-vf-module-assign' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1247.3325996398926,
        "y": 926.1062297821045,
        "z": "34265cd.7205424",
        "wires": [
            [
                "70c27670.277bc"
            ]
        ]
    },
    {
        "id": "70c27670.277bc",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1467.6301803588867,
        "y": 925.5942611694336,
        "z": "34265cd.7205424",
        "wires": [
            [
                "adee9682.834c08"
            ]
        ]
    },
    {
        "id": "2b74d386.947184",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 1200.035270690918,
        "y": 1171.367787361145,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "f3642c27.ec6008",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/ss-vnfend.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 1186.2494812011719,
        "y": 1017.1094055175781,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "d714905.ce5a3f",
        "type": "set",
        "name": "set order-status to PendingCreate",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-level-oper-status.order-status'\n  value='PendingCreate' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-level-oper-status.last-rpc-action'\n  value='`$vf-module-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-level-oper-status.last-action'\n  value='`$vf-module-topology-operation-input.request-information.request-action`' />\n",
        "comments": "",
        "x": 1255.2732429504395,
        "y": 971.0702590942383,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "be10b89.7317448",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 996.3687133789062,
        "y": 1012.5700912475586,
        "z": "34265cd.7205424",
        "wires": [
            [
                "b91cfedb.3fa03",
                "d714905.ce5a3f",
                "f3642c27.ec6008",
                "2b74d386.947184",
                "57df4d97.1b3e74",
                "60730953.c387"
            ]
        ]
    },
    {
        "id": "7e3f0173.cdd7c8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1706.5477905273438,
        "y": 1193.904673576355,
        "z": "34265cd.7205424",
        "wires": [
            [
                "78f1021d.4797bc",
                "d65a69c8.cf6ba"
            ]
        ]
    },
    {
        "id": "adee9682.834c08",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1613.6309051513672,
        "y": 924.9756164550781,
        "z": "34265cd.7205424",
        "wires": [
            [
                "f38280a4.feb028",
                "7e3f0173.cdd7c8"
            ]
        ]
    },
    {
        "id": "f38280a4.feb028",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Failed to create self-serve assignment for vf-module with vf-module-id=' + $vf-module-topology-operation-input.vf-module-information.vf-module-id + ' with error: ' + $error-message`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1811.3096618652344,
        "y": 904.2613258361816,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "41d32aa.5f68754",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'VF module id ' + $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-id\n       + ' already exists, and status is ' + $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-data.vf-module-level-oper-status.order-status`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2518.750015258789,
        "y": 1423.4688367843628,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "bdb7e590.4bbf98",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2324.8211059570312,
        "y": 1442.9331254959106,
        "z": "34265cd.7205424",
        "wires": [
            [
                "41d32aa.5f68754",
                "1d6f9b4e.71254d"
            ]
        ]
    },
    {
        "id": "e750571d.ca626",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1029.8213348388672,
        "y": 1660.5997676849365,
        "z": "34265cd.7205424",
        "wires": [
            [
                "1a7b6a78.6a325e",
                "1d6f9b4e.71254d"
            ]
        ]
    },
    {
        "id": "71cefe31.79b508",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1031.488021850586,
        "y": 1703.933141708374,
        "z": "34265cd.7205424",
        "wires": [
            [
                "808569e9.5d9618",
                "1d6f9b4e.71254d"
            ]
        ]
    },
    {
        "id": "1a7b6a78.6a325e",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Cloud region not found in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1233.75,
        "y": 1637.3855438232422,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "808569e9.5d9618",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error retrieving cloud region from AAI.  Is AAI down?\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1229.1667404174805,
        "y": 1685.7188806533813,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "2b8167ac.ee8e3",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 914.4045486450195,
        "y": 1884.599820137024,
        "z": "34265cd.7205424",
        "wires": [
            [
                "b31a2d90.6e6418",
                "1d6f9b4e.71254d"
            ]
        ]
    },
    {
        "id": "b31a2d90.6e6418",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Unable to find aic-clli in AAI for aic-cloud-region ' + $vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1107.0832061767578,
        "y": 1857.3855504989624,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "1d6f9b4e.71254d",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1708.5714492797852,
        "y": 2145.540556907654,
        "z": "34265cd.7205424",
        "wires": [
            [
                "caca347e.8787d",
                "a38241eb.287ec8"
            ]
        ]
    },
    {
        "id": "20ed866d.bb0ce2",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-assign-rollback",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-assign-rollback' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2823.74991607666,
        "y": 2633.7741470336914,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "9af3e55f.6087e",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2441.011405944824,
        "y": 2684.19135761261,
        "z": "34265cd.7205424",
        "wires": [
            [
                "20ed866d.bb0ce2",
                "9ea0a8d5.338e78",
                "bb2b8a64.4eda98"
            ]
        ]
    },
    {
        "id": "b201b2ed.f32f68",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3002.083209991455,
        "y": 2324.524369239807,
        "z": "34265cd.7205424",
        "wires": [
            [
                "c392950a.4cd7e",
                "9af3e55f.6087e"
            ]
        ]
    },
    {
        "id": "c392950a.4cd7e",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'from-preload flag is true but could not find preload information for VF module name ' + $vf-module-topology-operation-input.vf-module-request-input.vf-module-name`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3201.6664505004883,
        "y": 2291.1673135757446,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "886e3c52.8c2238",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2173.987762451172,
        "y": 2472.1076765060425,
        "z": "34265cd.7205424",
        "wires": [
            [
                "3be3b1ce.879d46",
                "9af3e55f.6087e"
            ]
        ]
    },
    {
        "id": "3be3b1ce.879d46",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error retrieving preload-information\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2379.999870300293,
        "y": 2446.750412940979,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "b6c26cf.773831",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-assign-rollback",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-assign-rollback' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4247.083518981934,
        "y": 4512.246376037598,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "f3cab335.7ec9f",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3859.3447341918945,
        "y": 4558.913317203522,
        "z": "34265cd.7205424",
        "wires": [
            [
                "b6c26cf.773831",
                "3a601dac.7a4482",
                "aee71bd7.cb4458"
            ]
        ]
    },
    {
        "id": "4023444f.ec71fc",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'VNFC network role '\n      + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-network-role\n      + ' is not found in VNF network list'\n      `\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1942.0833206176758,
        "y": 2955.718928337097,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "38e6ba0e.ecd3ae",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'SDNC subnet id '\n      + $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].sdnc-subnet-id\n      + ' does not have network-start-address populated'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 4271.666809082031,
        "y": 3431.413005590439,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "5e50004f.2c9f",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'SDNC subnet id '\n      + $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].sdnc-subnet-id\n      + ' does not have cidr-mask populated'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 4586.666831970215,
        "y": 3508.9130125045776,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "1c39b653.2b576a",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Not able to find VNF network subnet that contains address '\n      + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[0].vnfc-ip-address\n      `\" />",
        "comments": "",
        "outputs": 1,
        "x": 3634.1667861938477,
        "y": 3628.9130296707153,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "d4e308ce.5712b",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error reading VFC_RELATED_NETWORK_ROLE table\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2074.861038208008,
        "y": 3865.441397666931,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "e1873883.a0b338",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Unable to find related network '\n      + $db.vnf-related-network-role[$db-related-network-index].related-network-role + ' in vnf-networks'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2882.361099243164,
        "y": 4050.4411458969116,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "64b6a50b.0e40cc",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error saving vnfc to AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2258.7499465942383,
        "y": 4673.080787658691,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "b8f70cec.245ee",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-assign-rollback",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-assign-rollback' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3735.555435180664,
        "y": 5868.081328392029,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "deea8b7a.34ee38",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3349.066925048828,
        "y": 5910.998540878296,
        "z": "34265cd.7205424",
        "wires": [
            [
                "b8f70cec.245ee",
                "c7108bf6.17f21",
                "eb62798f.37c47"
            ]
        ]
    },
    {
        "id": "ecec95d0.f03d18",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error updating vnfc relationships in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1896.09130859375,
        "y": 4786.83000087738,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "4b5a4f9a.72aaf8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Not-found error updating vnfc relationships\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1895.5556297302246,
        "y": 4843.794567108154,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "56c543eb.6150dc",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error saving cp object to AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2338.055639266968,
        "y": 5013.080267906189,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "d01f264c.61c318",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error updating cp relationship to l3-network in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2993.0557022094727,
        "y": 5465.302522659302,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "64482d7f.371044",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error updating cp relationship to l3-network\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2995.5557022094727,
        "y": 5527.802525520325,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "7a163627.fcef3",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating cp relationship to l3-network and vlan-tag in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3324.1273040771484,
        "y": 5625.302538871765,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "57dc1477.8da4b4",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error updating cp relationship to l3-network and vlan-tag\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3326.6274032592773,
        "y": 5687.802539825439,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "a7be1c39.6ee63",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error creating l3-interface-ipv4-address-list object in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 4015.9730072021484,
        "y": 5096.552495002747,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "a4494b11.30c988",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating l3-interface-ipv4-address-list relationships in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 4013.4730072021484,
        "y": 5175.3025007247925,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "3b6a1bff.11e25c",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error updating l3-interface-ipv4-address-list relationships\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 4015.97274017334,
        "y": 5235.302507400513,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "1d21480c.1addf8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error creating l3-interface-ipv6-address-list object in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 4019.7227478027344,
        "y": 5285.302512168884,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "e3d10ed9.82b7b8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating l3-interface-ipv6-address-list relationships in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 4018.472480773926,
        "y": 5346.552515029907,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "fedf80c9.88e5f",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error updating l3-interface-ipv6-address-list relationships\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 4019.722480773926,
        "y": 5406.5525159835815,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "aee903cd.9f721",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-assign-rollback",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-assign-rollback' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4429.722415924072,
        "y": 5532.802444458008,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "b8d50b6.e90cc78",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4049.483901977539,
        "y": 5577.469656944275,
        "z": "34265cd.7205424",
        "wires": [
            [
                "aee903cd.9f721",
                "28125649.296d72",
                "a39b4b61.59b038"
            ]
        ]
    },
    {
        "id": "8395e0d5.a4ecb8",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-assign-rollback",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-assign-rollback' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3853.1943283081055,
        "y": 6997.246689796448,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "269063c8.ce5a84",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3465.455551147461,
        "y": 7047.663359642029,
        "z": "34265cd.7205424",
        "wires": [
            [
                "8395e0d5.a4ecb8",
                "8d26e950.2b598",
                "a7b746c4.2d389"
            ]
        ]
    },
    {
        "id": "fd80fcb3.880c8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error updating vip-ipv4-address-list relationship to cp\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3403.194622039795,
        "y": 6635.996907234192,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "fc4213a2.47c98",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating vip-ipv4-address-list relationship to cp in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3396.944892883301,
        "y": 6572.247441291809,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "97a750a7.0acbc8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error updating vip-ipv4-address-list relationship to cp\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3408.194625854492,
        "y": 6323.496886253357,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "4923f1db.2fcc2",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating vip-ipv4-address-list relationship to cp in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3408.194892883301,
        "y": 6262.247422218323,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "84c51507.94d668",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error updating vip-ipv6-address-list relationships\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2775.6945877075195,
        "y": 6523.496897697449,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "4a19d7b6.f2c47",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating vip-ipv6-address-list relationships in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2774.444580078125,
        "y": 6465.997433662415,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "48c2cba4.91f6cc",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error saving vip-ipv6-address-list\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2438.194564819336,
        "y": 6409.746890068054,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "37375282.76ddb6",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error saving vip-ipv6-address-list in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2438.194564819336,
        "y": 6355.996887207031,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "bdc62da9.93398",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error updating vip-ipv4-address-list relationships\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2784.4445838928223,
        "y": 6198.496878623962,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "c60c031b.634f38",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating vip-ipv4-address-list relationships in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2785.6945877075195,
        "y": 6140.996874809265,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "5573d94b.dc5",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error saving vip-ipv4-address-list\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2441.944564819336,
        "y": 6097.246870994568,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "f4049c01.0aeaf",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error saving vip-ipv4-address-list in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2438.194564819336,
        "y": 6029.746867179871,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "21dc9b2.c9b4164",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'No l3-network found in AAI for network ID '\n      + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].network-id`\" />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1935.6945304870605,
        "y": 5954.746864318848,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "c98dc3b.19af54",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating vf-module relationships in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1936.9445266723633,
        "y": 5895.996856212616,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "23db4204.137326",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating vf-module in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1088.749984741211,
        "y": 4326.830564498901,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "c333832f.3cfc3",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"`'No vf-module found in AAI for vf module ID ' + $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1092.499984741211,
        "y": 4403.080567359924,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "9f112544.7f8a58",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/bgb-vfmodule.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 476.07337188720703,
        "y": 7964.7099623680115,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "84fdd3bf.927fd",
        "type": "execute",
        "name": "execute RestApiCallNode - PUT vf-module",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + 'vf-module-assign.json'`\" />\n    <parameter name='restapiUrl' value=\"`$prop.controller.url + $tmp.vf-module.url`\" />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"vf-module-assign\" />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 573.4065093994141,
        "y": 7823.908843040466,
        "z": "34265cd.7205424",
        "wires": [
            [
                "48031f36.06a36",
                "61c1ba7d.9ba324"
            ]
        ]
    },
    {
        "id": "48031f36.06a36",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 854.1906814575195,
        "y": 7844.6049218177795,
        "z": "34265cd.7205424",
        "wires": [
            [
                "b517797c.221e9"
            ]
        ]
    },
    {
        "id": "61c1ba7d.9ba324",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 846.6193161010742,
        "y": 7803.10494184494,
        "z": "34265cd.7205424",
        "wires": [
            [
                "b517797c.221e9"
            ]
        ]
    },
    {
        "id": "b517797c.221e9",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1055.5494270324707,
        "y": 7823.273902416229,
        "z": "34265cd.7205424",
        "wires": [
            [
                "3d40ba87.1beba6",
                "1a40ddac.06f67a"
            ]
        ]
    },
    {
        "id": "91e9c48a.4b386",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-assign-rollback",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-assign-rollback' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1809.799674987793,
        "y": 7965.4422726631165,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "1a40ddac.06f67a",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1428.846923828125,
        "y": 8017.465929508209,
        "z": "34265cd.7205424",
        "wires": [
            [
                "91e9c48a.4b386",
                "c1b9561e.c76ae8",
                "c58f8414.25a99"
            ]
        ]
    },
    {
        "id": "3d40ba87.1beba6",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error doing PUT of vf-module\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1260.0498428344727,
        "y": 7795.798916339874,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "4c0ccb17.3b1804",
        "type": "comment",
        "name": "This should have been removed from Dublin",
        "info": "",
        "comments": "",
        "x": 728.7499923706055,
        "y": 7285.302035331726,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "b13baffe.18c468",
        "type": "set",
        "name": "Initialize SO 500 reponse params",
        "xml": "<set>\n<parameter name=\"so.ack-final-indicator\" value=\"Y\" />\n<parameter name=\"so.response-code\" value=\"500\" />\n<parameter name=\"so.notification-url\" value=\"`$vf-module-topology-operation-input.sdnc-request-header.svc-notification-url`\" />\n<parameter name=\"so.svc-request-id\" value=\"`$vf-module-topology-operation-input.sdnc-request-header.svc-request-id`\" />\n<parameter name=\"so.service-type\" value=\"`$vf-module-topology-operation-input.service-information.subscription-service-type`\" />\n<parameter name=\"so.service-instance-id\" value=\"`$vf-module-topology-operation-input.service-information.service-instance-id`\" />",
        "comments": "",
        "x": 644.9999313354492,
        "y": 270.02429485321045,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "78f1021d.4797bc",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2013.749870300293,
        "y": 1172.3854970932007,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "caca347e.8787d",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2021.2499160766602,
        "y": 2124.6077165603638,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "60730953.c387",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1309.9998931884766,
        "y": 1120.3020401000977,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "57df4d97.1b3e74",
        "type": "set",
        "name": "set so.reponse-code = 200",
        "xml": "<set>\n<parameter name=\"so.response-code\" value=\"200\" />\n",
        "comments": "",
        "x": 1238.7499160766602,
        "y": 1064.0520524978638,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "9ea0a8d5.338e78",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2766.249897003174,
        "y": 2684.330011367798,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "3a601dac.7a4482",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4188.888832092285,
        "y": 4559.885304450989,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "28125649.296d72",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4371.388870239258,
        "y": 5576.691199302673,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "c7108bf6.17f21",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3672.638832092285,
        "y": 5913.496632575989,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "8d26e950.2b598",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3792.638832092285,
        "y": 7047.524464607239,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "c1b9561e.c76ae8",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1750.694320678711,
        "y": 8018.21951341629,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "a1c5d05.89a983",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 594.4444427490234,
        "y": 8071.97101354599,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "5b817e7f.0206",
        "type": "set",
        "name": "set so.reponse-code = 200",
        "xml": "<set>\n<parameter name=\"so.response-code\" value=\"200\" />\n",
        "comments": "",
        "x": 524.4444427490234,
        "y": 8017.942268848419,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "c58f8414.25a99",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 1631.9443817138672,
        "y": 8066.969216823578,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "a7b746c4.2d389",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 3672.361000061035,
        "y": 7096.135304450989,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "eb62798f.37c47",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 3551.111000061035,
        "y": 5958.774464607239,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "a39b4b61.59b038",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 4254.861000061035,
        "y": 5621.274464607239,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "aee71bd7.cb4458",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 4069.861000061035,
        "y": 4604.052296638489,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "bb2b8a64.4eda98",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 2649.99991607666,
        "y": 2730.4409685134888,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "a38241eb.287ec8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 1902.4999160766602,
        "y": 2166.2742204666138,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "d65a69c8.cf6ba",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 1893.7499160766602,
        "y": 1215.0243425369263,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "7e168e6e.8d02f8",
        "type": "set",
        "name": "copy vf-module data",
        "xml": "<set>\n<parameter name='vf-module-data.'\n  value='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.' />\n",
        "comments": "",
        "x": 493.0711898803711,
        "y": 7468.457430839539,
        "z": "34265cd.7205424",
        "wires": []
    },
    {
        "id": "c1894905.cb3d58",
        "type": "execute",
        "name": "generate vf-module URL (sub service-instance-id)",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.vf-module`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.part\"/>\n    <parameter name=\"target\" value=\"{service-instance-id}\"/>\n    <parameter name=\"replacement\" value=\"`$service-data.service-topology.service-topology-identifier.service-instance-id`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 592.1782302856445,
        "y": 7552.745089530945,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "7badb381.1fbf0c",
        "type": "execute",
        "name": "generate vf-module URL (sub vnf-id)",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.part`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.part\"/>\n    <parameter name=\"target\" value=\"{vnf-id}\"/>\n    <parameter name=\"replacement\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-id`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 546.821044921875,
        "y": 7597.923043251038,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "2d6c7dfc.640b9a",
        "type": "execute",
        "name": "generate vf-module URL (sub vf-module-id)",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.part`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.vf-module.url\"/>\n    <parameter name=\"target\" value=\"{vf-module-id}\"/>\n    <parameter name=\"replacement\" value=\"`$vf-module-topology-operation-input.vf-module-information.vf-module-id`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 571.9997024536133,
        "y": 7644.530034065247,
        "z": "34265cd.7205424",
        "wires": [
            []
        ]
    },
    {
        "id": "bcdb4bf7.c65098",
        "type": "comment",
        "name": "'New' version of DG, called for flows where SO expects async response (so-bpmn-infra)",
        "info": "",
        "comments": "",
        "x": 528,
        "y": 64,
        "z": "34265cd.7205424",
        "wires": []
    }
]