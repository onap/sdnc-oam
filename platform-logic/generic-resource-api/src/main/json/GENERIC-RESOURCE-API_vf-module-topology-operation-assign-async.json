[
    {
        "id": "d4bbeac7.a1721",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 114.99998474121094,
        "y": 114.52428817749023,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "357222b9.1e11d6"
            ]
        ]
    },
    {
        "id": "357222b9.1e11d6",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 228.85712051391602,
        "y": 154.33382606506348,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "62287c5.13df504"
            ]
        ]
    },
    {
        "id": "62287c5.13df504",
        "type": "method",
        "name": "method vf-module-topology-operation-assign-async",
        "xml": "<method rpc='vf-module-topology-operation-assign-async' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 228.4286117553711,
        "y": 194.52428817749023,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "c81718c8.57c318"
            ]
        ]
    },
    {
        "id": "6a395a56.9543c4",
        "type": "comment",
        "name": "vf-module-topology-operation-assign-async",
        "info": "",
        "comments": "",
        "x": 469.0710906982422,
        "y": 32.999996185302734,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "5a677fe9.18c2c",
        "type": "switchNode",
        "name": "switch request-action",
        "xml": "<switch test='`$vf-module-topology-operation-input.request-information.request-action`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 520.1905059814453,
        "y": 467.54808616638184,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "3d3e49df.d8629e",
                "e632c088.761618"
            ]
        ]
    },
    {
        "id": "3d3e49df.d8629e",
        "type": "outcome",
        "name": "CreateVfModuleInstance",
        "xml": "<outcome value='CreateVfModuleInstance'>\n",
        "comments": "",
        "outputs": 1,
        "x": 790.9881439208984,
        "y": 435.94096183776855,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "99e489fe.e7676"
            ]
        ]
    },
    {
        "id": "e632c088.761618",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 725.9047660827637,
        "y": 500.07196521759033,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "2cd014f8.89c45c"
            ]
        ]
    },
    {
        "id": "99e489fe.e7676",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 980.845308303833,
        "y": 435.940993309021,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "f11f0133.6f3d58",
        "type": "get-resource",
        "name": "get-resource VF_MODULE_MODEL",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='SELECT * from VF_MODULE_MODEL WHERE customization_uuid = $vf-module-topology-operation-input.vf-module-information.onap-model-information.model-customization-uuid'\n  pfx='db.vf-module-model'>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 567.5237731933594,
        "y": 568.6910400390625,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "7ceee36a.1c23fc",
                "f59dcf2a.f162"
            ]
        ]
    },
    {
        "id": "7ceee36a.1c23fc",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 833.3094635009766,
        "y": 549.071870803833,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "4ce3fcce.f74dc4"
            ]
        ]
    },
    {
        "id": "f59dcf2a.f162",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 841.8808937072754,
        "y": 593.3575839996338,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "fab4e00d.38c2c"
            ]
        ]
    },
    {
        "id": "cebd50e6.9880e",
        "type": "switchNode",
        "name": "switch service-data.vnfs.vnf_length",
        "xml": "<switch test='`$service-data.vnfs.vnf_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 561.369026184082,
        "y": 746.0123996734619,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "5bd64a83.f66c9c",
                "d1f085ca.2b417"
            ]
        ]
    },
    {
        "id": "5bd64a83.f66c9c",
        "type": "other",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 802.0832977294922,
        "y": 722.1551399230957,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "46846d2b.f5bdb4"
            ]
        ]
    },
    {
        "id": "d1f085ca.2b417",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 801.8451385498047,
        "y": 764.1076583862305,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "fca96a4c.8f1398"
            ]
        ]
    },
    {
        "id": "baa8437c.25e1b8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 159.94041442871094,
        "y": 3183.9292989969254,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "bd3bafd.63246d",
                "d4183bae.81ef1",
                "57ef0d69.6ccc5c",
                "e55b2da3.788f58",
                "c7280b8c.af9f7",
                "cf561736.7536d8",
                "13976194.48a07e",
                "922ff71c.e86508",
                "78ef8957.52e18",
                "b588a4c4.a28318",
                "9fd43e95.8aedb8",
                "4ac243b7.6a7744",
                "27376e4b.7927c2",
                "4b4c8429.516a3c",
                "3a49b65b.96146a",
                "2fb8a6cc.1b3e0a",
                "1200a370.50f2dd",
                "5bfc4d0d.415904",
                "ab37860a.1af768",
                "d013285.0c24158",
                "da6bc8eb.1fc228",
                "70b9ed3c.8aee34",
                "916f3f95.63cb7",
                "12f004ff.5d7483",
                "9daa21f.2faf2e",
                "75cc32e2.eb2ba4",
                "e95385fa.a6c6d8",
                "51af9cd1.31d38c",
                "479bc256.bdd844",
                "61b7c587.3011c4",
                "1bbf14f4.7ed473",
                "e3854239.8c5bc",
                "6ba091e6.3c89c8",
                "baa5be49.ab6d",
                "52864b32.4b391c",
                "d4badadb.5d21b",
                "2a9cacce.12489c"
            ]
        ]
    },
    {
        "id": "fca96a4c.8f1398",
        "type": "for",
        "name": "for each vnf",
        "xml": "<for index='idx' start='0' end='`$service-data.vnfs.vnf_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 964.0832824707031,
        "y": 763.7742767333984,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "7f54c72a.7d46d8"
            ]
        ]
    },
    {
        "id": "7f54c72a.7d46d8",
        "type": "switchNode",
        "name": "switch service data vnf == input vnf",
        "xml": "<switch test='`$service-data.vnfs.vnf[$idx].vnf-id == $vf-module-topology-operation-input.vnf-information.vnf-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1215.4165802001953,
        "y": 763.4410047531128,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "5a190a06.a366c4"
            ]
        ]
    },
    {
        "id": "5a190a06.a366c4",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1445.416591644287,
        "y": 762.774317741394,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "11602f8f.d0d6d8"
            ]
        ]
    },
    {
        "id": "b5e092f5.9c85f",
        "type": "set",
        "name": "set vnf-index to -1",
        "xml": "<set>\n<parameter name='vnf-index' value='-1' />\n",
        "comments": "",
        "x": 510.4166488647461,
        "y": 677.4408988952637,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "723b7738.bdcd58",
        "type": "set",
        "name": "set vnf-index to idx",
        "xml": "<set>\n<parameter name='vnf-index' value='`$idx`' />\n",
        "comments": "",
        "x": 1767.0832290649414,
        "y": 733.7742757797241,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "40ad0b14.faee84",
        "type": "switchNode",
        "name": "switch vnf-index",
        "xml": "<switch test='`$vnf-index`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 499.1666717529297,
        "y": 829.6075887680054,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "b5a5d046.2aea"
            ]
        ]
    },
    {
        "id": "b5a5d046.2aea",
        "type": "outcome",
        "name": "-1",
        "xml": "<outcome value='-1'>\n",
        "comments": "",
        "outputs": 1,
        "x": 677.500057220459,
        "y": 828.9409646987915,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "1c165b04.08dcfd"
            ]
        ]
    },
    {
        "id": "bd3bafd.63246d",
        "type": "switchNode",
        "name": "switch vf-module_length",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 537.0833702087402,
        "y": 1400.357792854309,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "398e7691.e00d52",
                "cd445310.4957d"
            ]
        ]
    },
    {
        "id": "398e7691.e00d52",
        "type": "other",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 794.4643249511719,
        "y": 1367.500566482544,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "af8bed3c.78047"
            ]
        ]
    },
    {
        "id": "af8bed3c.78047",
        "type": "set",
        "name": "set vf-module-index=0",
        "xml": "<set>\n<parameter name='vf-module-index' value='0' />\n",
        "comments": "",
        "x": 982.0833625793457,
        "y": 1368.1673412322998,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "cd445310.4957d",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 794.8928680419922,
        "y": 1431.7864246368408,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "18529b11.b257e5"
            ]
        ]
    },
    {
        "id": "87cb2af9.9e952",
        "type": "set",
        "name": "set vf-module-index = vf-module_length",
        "xml": "<set>\n<parameter name='vf-module-index' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length`' />\n",
        "comments": "",
        "x": 1180.083408355713,
        "y": 1411.9768199920654,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "22e06ab1.135426",
        "type": "for",
        "name": "for each existing VF module",
        "xml": "<for index='idx' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1139.1785011291504,
        "y": 1456.0720500946045,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "2bf2a7bc.f6ff5"
            ]
        ]
    },
    {
        "id": "18529b11.b257e5",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 931.6071472167969,
        "y": 1431.7863502502441,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "87cb2af9.9e952",
                "22e06ab1.135426"
            ]
        ]
    },
    {
        "id": "2bf2a7bc.f6ff5",
        "type": "switchNode",
        "name": "switch vf-module-information.vf-module-id == service-data.vnfs.vnf[].vf-modules.vf-module[].vf-module-id",
        "xml": "<switch test='`$vf-module-topology-operation-input.vf-module-information.vf-module-id == $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1642.7976036071777,
        "y": 1455.643461227417,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "8ca0a3ab.167258"
            ]
        ]
    },
    {
        "id": "8ca0a3ab.167258",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2085.4166526794434,
        "y": 1455.2149124145508,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "a646058c.4e086"
            ]
        ]
    },
    {
        "id": "3ce22f86.5c072",
        "type": "comment",
        "name": "make sure this VF module doesn't exist already",
        "info": "",
        "comments": "",
        "x": 1669.2499504089355,
        "y": 1410.2709531784058,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "d4183bae.81ef1",
        "type": "set",
        "name": "set new vf-module_length",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length' value='`$vf-module-index + 1`' />\n",
        "comments": "",
        "x": 547.7499504089355,
        "y": 1511.357647895813,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "57ef0d69.6ccc5c",
        "type": "set",
        "name": "set vf-module-topology data",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-topology-identifier.vf-module-id' value='`$vf-module-topology-operation-input.vf-module-information.vf-module-id`' />\n<parameter name='tmp.vf-module-topology.vf-module-topology-identifier.vf-module-name' value='`$vf-module-topology-operation-input.vf-module-request-input.vf-module-name`' />\n<parameter name='tmp.vf-module-topology.vf-module-topology-identifier.vf-module-type' value='`$vf-module-topology-operation-input.vf-module-information.vf-module-type`' />\n<parameter name='tmp.vf-module-topology.tenant' value='`$vf-module-topology-operation-input.vf-module-request-input.tenant`' />\n<parameter name='tmp.vf-module-topology.aic-cloud-region' value='`$vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region`' />\n",
        "comments": "",
        "x": 554.2499694824219,
        "y": 1623.8577547073364,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "4f973dd3.93ef84",
        "type": "set",
        "name": "set aic-clli",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.aic-clli'\n   value='`$aai-uid-split[$aai-uid-split_length - 1]`' />\n",
        "comments": "",
        "x": 1315.2022285461426,
        "y": 1783.0956811904907,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "e55b2da3.788f58",
        "type": "switchNode",
        "name": "switch aic-clli",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.aic-clli`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 514.2498893737793,
        "y": 1897.0480213165283,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "8247c7c9.93f488"
            ]
        ]
    },
    {
        "id": "8247c7c9.93f488",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 659.5355796813965,
        "y": 1897.048089981079,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "b4230289.b09758"
            ]
        ]
    },
    {
        "id": "c7280b8c.af9f7",
        "type": "get-resource",
        "name": "get-resource cloud region",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"cloud-region\" \n\t\tkey=\"cloud-region.cloud-owner = $prop.cloud-region.cloud-owner AND \n\t\t     cloud-region.cloud-region-id = $vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region\"\n        pfx='aai.cloud-region' local-only='false' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 553.107105255127,
        "y": 1697.1912927627563,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "5f796db3.a6a91c",
                "617701d7.c413b8"
            ]
        ]
    },
    {
        "id": "617701d7.c413b8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 767.3532981872559,
        "y": 1715.3421487808228,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "bb13f81e.dfb888"
            ]
        ]
    },
    {
        "id": "5f796db3.a6a91c",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 776.2818946838379,
        "y": 1672.6278820037842,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "974c35b5.13a3f"
            ]
        ]
    },
    {
        "id": "11602f8f.d0d6d8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1593.7500534057617,
        "y": 761.694016456604,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "723b7738.bdcd58",
                "d5612010.e08bb"
            ]
        ]
    },
    {
        "id": "d5612010.e08bb",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 1728.7500190734863,
        "y": 783.3606023788452,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "8db8f0e8.0dd07",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-invariant-uuid'\n  value='`$db.vf-module-model.invariant-uuid`' />\n",
        "comments": "",
        "x": 928.5832290649414,
        "y": 1938.4440145492554,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "cf561736.7536d8",
        "type": "switchNode",
        "name": "switch input model-invariant-uuid",
        "xml": "<switch test='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-invariant-uuid`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 572.4403038024902,
        "y": 1961.268458366394,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "ed4d29ae.f526e",
                "a4bd7b29.66b19"
            ]
        ]
    },
    {
        "id": "ed4d29ae.f526e",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 778.1069755554199,
        "y": 1938.4114217758179,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "8db8f0e8.0dd07"
            ]
        ]
    },
    {
        "id": "a4bd7b29.66b19",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 779.535572052002,
        "y": 1982.6970129013062,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "dc7c58a.42c5ba8"
            ]
        ]
    },
    {
        "id": "dc7c58a.42c5ba8",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-invariant-uuid'\n  value='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-invariant-uuid`' />\n",
        "comments": "",
        "x": 933.8213081359863,
        "y": 1982.1255850791931,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "ea79f0d7.62648",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-uuid'\n  value='`$db.vf-module-model.uuid`' />\n",
        "comments": "",
        "x": 929.5354995727539,
        "y": 2026.9826908111572,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "13976194.48a07e",
        "type": "switchNode",
        "name": "switch input model-uuid",
        "xml": "<switch test='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-uuid`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 545.0593223571777,
        "y": 2049.807195663452,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "b5405fc7.a4035",
                "4c74c8c1.037728"
            ]
        ]
    },
    {
        "id": "b5405fc7.a4035",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 779.0592956542969,
        "y": 2026.9501276016235,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "ea79f0d7.62648"
            ]
        ]
    },
    {
        "id": "4c74c8c1.037728",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 780.4878921508789,
        "y": 2071.235718727112,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "2d86e904.26e136"
            ]
        ]
    },
    {
        "id": "2d86e904.26e136",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-uuid'\n  value='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-uuid`' />\n",
        "comments": "",
        "x": 934.7736282348633,
        "y": 2070.664290904999,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "4214630f.790b44",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-version'\n  value='`$db.vf-module-model.version`' />\n",
        "comments": "",
        "x": 926.6784324645996,
        "y": 2115.839898109436,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "922ff71c.e86508",
        "type": "switchNode",
        "name": "switch input model-version",
        "xml": "<switch test='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-version`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 553.2021942138672,
        "y": 2138.664342880249,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "c9621a51.fb7d78",
                "cc524a61.4db65"
            ]
        ]
    },
    {
        "id": "c9621a51.fb7d78",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 776.2021789550781,
        "y": 2115.8073053359985,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "4214630f.790b44"
            ]
        ]
    },
    {
        "id": "cc524a61.4db65",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 777.6307754516602,
        "y": 2160.092896461487,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "2dd3fe1b.d38bd2"
            ]
        ]
    },
    {
        "id": "2dd3fe1b.d38bd2",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-version'\n  value='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-version`' />\n",
        "comments": "",
        "x": 931.9165115356445,
        "y": 2159.521468639374,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "9208eb77.19773",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-name'\n  value='`$db.vf-module-model.name`' />\n",
        "comments": "",
        "x": 926.6784324645996,
        "y": 2202.982720375061,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "78ef8957.52e18",
        "type": "switchNode",
        "name": "switch input model-name",
        "xml": "<switch test='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 548.2021942138672,
        "y": 2225.807165145874,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "2b510e5e.9ee632",
                "bf3ae71f.b41f8"
            ]
        ]
    },
    {
        "id": "2b510e5e.9ee632",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 776.2021789550781,
        "y": 2202.9501276016235,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "9208eb77.19773"
            ]
        ]
    },
    {
        "id": "bf3ae71f.b41f8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 777.6307754516602,
        "y": 2247.235718727112,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "e5ffde63.8677b8"
            ]
        ]
    },
    {
        "id": "e5ffde63.8677b8",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-name'\n  value='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-name`' />\n",
        "comments": "",
        "x": 931.9165115356445,
        "y": 2246.664290904999,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "b588a4c4.a28318",
        "type": "set",
        "name": "set model-customization-uuid",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-customization-uuid'\n  value='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-customization-uuid`' />\n",
        "comments": "",
        "x": 562.6545295715332,
        "y": 2298.3161544799805,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "9fd43e95.8aedb8",
        "type": "set",
        "name": "set vf-module-id",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-id'\n   value='`$vf-module-topology-operation-input.vf-module-information.vf-module-id`' />\n",
        "comments": "",
        "x": 515.8451766967773,
        "y": 1567.039330482483,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "4ac243b7.6a7744",
        "type": "for",
        "name": "for each cloud-region relationship",
        "xml": "<for index='idx' start='0' end='`$aai.cloud-region.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 575.3609199523926,
        "y": 1785.6979761123657,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "d483e1b9.6f0bd8"
            ]
        ]
    },
    {
        "id": "d483e1b9.6f0bd8",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$aai.cloud-region.relationship-list.relationship[$idx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 823.0394630432129,
        "y": 1785.4479055404663,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "3757f192.c36d9e"
            ]
        ]
    },
    {
        "id": "3757f192.c36d9e",
        "type": "outcome",
        "name": "complex",
        "xml": "<outcome value='complex'>\n",
        "comments": "",
        "outputs": 1,
        "x": 992.5037841796875,
        "y": 1784.8407278060913,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "bf83b050.fae7"
            ]
        ]
    },
    {
        "id": "40511a60.e18ebc",
        "type": "execute",
        "name": "split related-link",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split'>\n   <parameter name='ctx_memory_result_key' value='aai-uid-split' />\n   <parameter name='original_string' value='`$aai.cloud-region.relationship-list.relationship[$idx].related-link`' />\n   <parameter name='regex' value='/' />\n",
        "comments": "",
        "outputs": 1,
        "x": 1332.5989418029785,
        "y": 1739.2693033218384,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "bf83b050.fae7",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1152.2656440734863,
        "y": 1785.9360914230347,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "40511a60.e18ebc",
                "d2527e14.c98248",
                "4f973dd3.93ef84"
            ]
        ]
    },
    {
        "id": "d2527e14.c98248",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 1302.2656059265137,
        "y": 1829.2693881988525,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "6a675694.1fa908",
        "type": "execute",
        "name": "execute PropertiesNode",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
        "comments": "",
        "outputs": 1,
        "x": 565.047607421875,
        "y": 185.048095703125,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "ab37860a.1af768",
        "type": "set",
        "name": "set order-status to PendingCreate",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-level-oper-status.order-status'\n  value='PendingCreate' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-level-oper-status.last-rpc-action'\n  value='`$vf-module-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-level-oper-status.last-action'\n  value='`$vf-module-topology-operation-input.sdnc-request-header.request-action`' />\n",
        "comments": "",
        "x": 460.5122756958008,
        "y": 7394.904579162598,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "d013285.0c24158",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 404.0121307373047,
        "y": 8159.951930522919,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "5bfc4d0d.415904",
        "type": "set",
        "name": "copy input data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.sdnc-request-header.'\n   value='$vf-module-topology-operation-input.sdnc-request-header.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.request-information.'\n   value='$vf-module-topology-operation-input.request-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.service-information.'\n   value='$vf-module-topology-operation-input.service-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vnf-information.'\n   value='$vf-module-topology-operation-input.vnf-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-information.'\n   value='$vf-module-topology-operation-input.vf-module-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-request-input.'\n   value='$vf-module-topology-operation-input.vf-module-request-input.' />\n\n",
        "comments": "",
        "x": 392.6192169189453,
        "y": 7251.253312110901,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "1200a370.50f2dd",
        "type": "set",
        "name": "copy vf-module-topology data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.' value='tmp.vf-module-topology.' />\n",
        "comments": "",
        "x": 447.50023651123047,
        "y": 7198.0382471084595,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "4b4c8429.516a3c",
        "type": "save",
        "name": "update vf-module",
        "xml": "<update plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"vf-module\"\n   key=\"vf-module.vf-module-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-id\n      AND generic-vnf.vnf-id = $service-data.vnfs.vnf[$vnf-index].vnf-id\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"vf-module-name\" value=\"`$tmp.vf-module-topology.vf-module-topology-identifier.vf-module-name`\" />\n<parameter name=\"model-invariant-id\" value=\"`$tmp.vf-module-topology.onap-model-information.model-invariant-uuid`\" />\n<parameter name=\"model-version-id\" value=\"`$tmp.vf-module-topology.onap-model-information.model-uuid`\" />\n<parameter name=\"model-customization-id\" value=\"`$tmp.vf-module-topology.onap-model-information.model-customization-uuid`\" />\n<parameter name=\"selflink\" value=\"`$vf-module-object-path`\" />\n<parameter name=\"automated-assignment\" value=\"`$automated-assignment`\" />",
        "comments": "",
        "outputs": 1,
        "x": 477.8929557800293,
        "y": 4405.039911866188,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "f388f641.8e063",
                "bcb9c843.9d522"
            ]
        ]
    },
    {
        "id": "f388f641.8e063",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 652.9645957946777,
        "y": 4373.420533776283,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "5b566790.c11438"
            ]
        ]
    },
    {
        "id": "bcb9c843.9d522",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 661.5359687805176,
        "y": 4442.03962379694,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "bcfaeb7c.add7e"
            ]
        ]
    },
    {
        "id": "27376e4b.7927c2",
        "type": "set",
        "name": "set vf-module-object-path",
        "xml": "<set>\n<parameter name='vf-module-object-path'\n value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vf-module-topology-operation-input.service-information.service-instance-id\n + '/service-data/vnfs/vnf/'\n + $service-data.vnfs.vnf[$vnf-index].vnf-id\n + '/vnf-data/vf-modules/vf-module/'\n + $vf-module-topology-operation-input.vf-module-information.vf-module-id\n + '/vf-module-data/vf-module-topology/'`\"/>\n<parameter name='vnf-object-path'\n value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vf-module-topology-operation-input.service-information.service-instance-id\n + '/service-data/vnfs/vnf/'\n + $service-data.vnfs.vnf[$vnf-index].vnf-id\n + '/vnf-data/vnf-topology/'`\"/>\n<parameter name='service-object-path'\n value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vf-module-topology-operation-input.service-information.service-instance-id\n + '/service-data/service-topology/'`\"/>\n",
        "comments": "",
        "x": 501.55976486206055,
        "y": 4280.564140915871,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "ca509dfe.913c",
        "type": "save",
        "name": "save vf-module relationships",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"vf-module:relationship-list\"\n   key=\"vf-module.vf-module-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-id\n      AND generic-vnf.vnf-id = $service-data.vnfs.vnf[$vnf-index].vnf-id\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"l3-network\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].network-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1271.583511352539,
        "y": 5963.192306280136,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "c73efa25.8a9368",
                "f207b6c6.afe03"
            ]
        ]
    },
    {
        "id": "c73efa25.8a9368",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1491.4168548583984,
        "y": 5934.06405043602,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "1a0ba202.7732be"
            ]
        ]
    },
    {
        "id": "f207b6c6.afe03",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1499.9883880615234,
        "y": 5986.683194875717,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "a7ce3dc1.0f9c8"
            ]
        ]
    },
    {
        "id": "3a49b65b.96146a",
        "type": "for",
        "name": "for each vm-type",
        "xml": "<for silentFailure='true' index='vm-type-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 451.25023651123047,
        "y": 5728.525859117508,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "340b05b.591b7fa"
            ]
        ]
    },
    {
        "id": "76a550da.8b0c1",
        "type": "for",
        "name": "for each vm-network",
        "xml": "<for silentFailure='true' index='network-role-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 848.2502479553223,
        "y": 6147.192691326141,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "fc1739b3.4083c8"
            ]
        ]
    },
    {
        "id": "2fb8a6cc.1b3e0a",
        "type": "for",
        "name": "for each vm-type",
        "xml": "<for silentFailure='true' index='vm-type-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 396.9287796020508,
        "y": 7093.071877479553,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "a1300f3.f6144f"
            ]
        ]
    },
    {
        "id": "a1300f3.f6144f",
        "type": "for",
        "name": "for each vm",
        "xml": "<for index='vm-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-count`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 591.9288101196289,
        "y": 7092.404885292053,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "a8d2b1b4.077da8"
            ]
        ]
    },
    {
        "id": "8403a258.2567d",
        "type": "save",
        "name": "save VIPR_CONFIGURATION",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource\" resource=\"SQL\"\nkey=\"INSERT INTO VIPR_CONFIGURATION (vnf_id, vnf_name, ecomp_service_instance_id, vm_name, cloud_region_id, cloud_owner) VALUES ( $service-data.vnfs.vnf[$vnf-index].vnf-id , $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.vnf-name , $service-data.service-information.service-instance-id , $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vm-name[$vm-index] , $tmp.vf-module-topology.aic-cloud-region , $prop.cloud-region.cloud-owner )\" >",
        "comments": "",
        "outputs": 1,
        "x": 1012.3455047607422,
        "y": 7117.572572648525,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "7ac5b4ac.9e6b94"
            ]
        ]
    },
    {
        "id": "1531a2a2.0c97bd",
        "type": "comment",
        "name": "Not a failure",
        "info": "",
        "comments": "",
        "x": 1532.3454055786133,
        "y": 7117.572577416897,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "7ac5b4ac.9e6b94",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1222.3454895019531,
        "y": 7117.572722375393,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "b62b0971.2ee91"
            ]
        ]
    },
    {
        "id": "b62b0971.2ee91",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"GENERIC-RESOURCE-API.vf-module-topology-operation-assign:REQID\"/>\n<parameter name=\"field3\" value=\"`$vf-module-topology-operation-input.sdnc-request-header.svc-request-id`\"/>\n<parameter name=\"field4\" value=\"Failed to insert VIPR_CONFIGURATION record\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1365.6789321899414,
        "y": 7117.572560250759,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "25b3c215.2230ee",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1395.679054260254,
        "y": 7068.904273927212,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "9a69e821.9583f8"
            ]
        ]
    },
    {
        "id": "b924d970.9d685",
        "type": "comment",
        "name": "Not a failure",
        "info": "",
        "comments": "",
        "x": 1719.012107849121,
        "y": 7067.238096177578,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "9a69e821.9583f8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"GENERIC-RESOURCE-API.vf-module-topology-operation-assign:REQID\"/>\n<parameter name=\"field3\" value=\"`$vf-module-topology-operation-input.sdnc-request-header.svc-request-id`\"/>\n<parameter name=\"field4\" value=\"Failed to insert VIPR_CONFIGURATION record\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1541.6789894104004,
        "y": 7068.904907166958,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "a8d2b1b4.077da8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 760.2622032165527,
        "y": 7091.40472984314,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "1fd0e908.b4148f",
                "8403a258.2567d"
            ]
        ]
    },
    {
        "id": "1fd0e908.b4148f",
        "type": "delete",
        "name": "delete any pre-existing records in VIPR_CONFIGURATION",
        "xml": "<delete plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='DELETE from VIPR_CONFIGURATION WHERE vnf_id = $service-data.vnfs.vnf[$vnf-index].vnf-id\n     AND ecomp_service_instance_id = $service-data.service-information.service-instance-id\n     AND vm_name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vm-name[$vm-index]' >",
        "comments": "",
        "outputs": 1,
        "x": 1102.3455200195312,
        "y": 7069.238906800747,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "25b3c215.2230ee"
            ]
        ]
    },
    {
        "id": "5b566790.c11438",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 811.2501640319824,
        "y": 4373.191204667091,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "cd5f210d.f3fd4",
                "53c51859.8f2058"
            ]
        ]
    },
    {
        "id": "bcfaeb7c.add7e",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 812.2500801086426,
        "y": 4439.85749489069,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "727c768e.53c37"
            ]
        ]
    },
    {
        "id": "1a0ba202.7732be",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1659.9168586730957,
        "y": 5933.8583199977875,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "56b701fd.1076",
                "80a87140.ea9ea8"
            ]
        ]
    },
    {
        "id": "a7ce3dc1.0f9c8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1654.9168586730957,
        "y": 5986.858162641525,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "5f2e67de.b98e08",
                "80a87140.ea9ea8"
            ]
        ]
    },
    {
        "id": "8b5ea826.2eb5",
        "type": "execute",
        "name": "execute RestApiCallNode - get preload-list",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='restapiUrl' value=\"`$prop.controller.url + $prop.restapi.preloadinformation + $vf-module-topology-operation-input.vf-module-request-input.vf-module-name + '/vf-module'`\" />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='GET' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-preload\" />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1020.8333358764648,
        "y": 2510.6910581588745,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "267e0f7.e3ace7",
                "697ff936.4332b8"
            ]
        ]
    },
    {
        "id": "267e0f7.e3ace7",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1289.1665687561035,
        "y": 2469.0243883132935,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "ddc4ab69.fde168"
            ]
        ]
    },
    {
        "id": "697ff936.4332b8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1287.4999237060547,
        "y": 2544.024537086487,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "1c279fba.87cb98"
            ]
        ]
    },
    {
        "id": "ddc4ab69.fde168",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1445.833324432373,
        "y": 2467.35782623291,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "84b6c305.bd4618"
            ]
        ]
    },
    {
        "id": "1c279fba.87cb98",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1442.4999313354492,
        "y": 2544.0243787765503,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "b43d51fa.4daf38"
            ]
        ]
    },
    {
        "id": "84b6c305.bd4618",
        "type": "switchNode",
        "name": "switch mdsal-preload.response-code",
        "xml": "<switch test='`$mdsal-preload.response-code`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1674.1666259765625,
        "y": 2467.3578672409058,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "84dfa8f7.5725",
                "1f554fd5.6bece8"
            ]
        ]
    },
    {
        "id": "84dfa8f7.5725",
        "type": "outcome",
        "name": "404 (not found)",
        "xml": "<outcome value='404'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1957.0833282470703,
        "y": 2421.94091129303,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "8109a9b9.3f42e"
            ]
        ]
    },
    {
        "id": "8109a9b9.3f42e",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-operation-assign-no-preload",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-operation-assign-no-preload' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2359.999900817871,
        "y": 2335.2743797302246,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "83d5974f.b69218"
            ]
        ]
    },
    {
        "id": "83d5974f.b69218",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2748.7498626708984,
        "y": 2336.1082582473755,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "e46d8895.35201"
            ]
        ]
    },
    {
        "id": "1f554fd5.6bece8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1923.3332901000977,
        "y": 2486.107695579529,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "d8394791.5ebab8"
            ]
        ]
    },
    {
        "id": "b43d51fa.4daf38",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-operation-assign-preload",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-operation-assign-preload' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1805.8332214355469,
        "y": 2545.6911268234253,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "bb84ecff.b3be88"
            ]
        ]
    },
    {
        "id": "bb84ecff.b3be88",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2161.50008392334,
        "y": 2544.024744987488,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "7f10ff23.aff7b"
            ]
        ]
    },
    {
        "id": "340b05b.591b7fa",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 641.7503051757812,
        "y": 5729.359093904495,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "76a550da.8b0c1",
                "c93cc2fe.fea77"
            ]
        ]
    },
    {
        "id": "c93cc2fe.fea77",
        "type": "for",
        "name": "for each vnfc",
        "xml": "<for silentFailure='true' index='vnfc-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 892.7503547668457,
        "y": 4934.025185108185,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "e0803888.0b7d68"
            ]
        ]
    },
    {
        "id": "27fb9162.23883e",
        "type": "save",
        "name": "save vnfc to A&AI",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"vnfc\" \n\tkey=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\" >\n<parameter name=\"vnfc-name\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name`\" />\n<parameter name=\"nfc-naming-code\" value=\"`$tmp.nfc-naming-code`\" />\n<parameter name=\"nfc-function\" value=\"`$tmp.nfc-function`\" />\n<parameter name=\"model-invariant-id\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].invariant-uuid`\" />\n<parameter name=\"model-version-id\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].uuid`\" />\n<parameter name=\"model-customization-id\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].model-customization-uuid`\" />\n<parameter name=\"orchestration-status\" value=\"`PendingCreate`\" />\n<parameter name=\"in-maint\" value=\"true\" />\n<parameter name=\"prov-status\" value=\"`PREPROV`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1618.7504234313965,
        "y": 4742.359115600586,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "868ff022.340b98",
                "ffd5f8ec.0567b8"
            ]
        ]
    },
    {
        "id": "e0803888.0b7d68",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1061.0836563110352,
        "y": 4934.692012310028,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "29b53f26.be023",
                "315c3130.42c366",
                "242e6a3a.db91ce",
                "55960229.8cc67c",
                "ec580ecf.954618",
                "b4920db5.4adea8"
            ]
        ]
    },
    {
        "id": "868ff022.340b98",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1809.7504615783691,
        "y": 4694.692449569702,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "57b5cca0.b41e44"
            ]
        ]
    },
    {
        "id": "57b5cca0.b41e44",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1974.917148590088,
        "y": 4708.820282876492,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "961a762e.b806d8",
                "53c51859.8f2058"
            ]
        ]
    },
    {
        "id": "242e6a3a.db91ce",
        "type": "save",
        "name": "save vnfc relationships",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"vnfc:relationship-list\"\n   key=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"generic-vnf\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/generic-vnfs/generic-vnf/' +\n        $vf-module-topology-operation-input.vnf-information.vnf-id`\" />\n    <parameter name=\"relationship-list.relationship[1].related-to\" value=\"vf-module\" />\n    <parameter name=\"relationship-list.relationship[1].related-link\"\n      value=\"`'/aai/v$/network/generic-vnfs/generic-vnf/' +\n        $vf-module-topology-operation-input.vnf-information.vnf-id +\n        '/vf-modules/vf-module/' +\n        $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1285.654941558838,
        "y": 4842.978347301483,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "cd16d557.fd608",
                "6becd26d.59e2d4"
            ]
        ]
    },
    {
        "id": "3c3e0eed.e4cb82",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1617.4881324768066,
        "y": 4816.295971393585,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "a946b36b.26d71",
                "53c51859.8f2058"
            ]
        ]
    },
    {
        "id": "71112219.53498c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1617.488208770752,
        "y": 4869.295730113983,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "8acbbfb.91cf84",
                "53c51859.8f2058"
            ]
        ]
    },
    {
        "id": "cd16d557.fd608",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1460.6550178527832,
        "y": 4816.311641216278,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "3c3e0eed.e4cb82"
            ]
        ]
    },
    {
        "id": "6becd26d.59e2d4",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1469.2265510559082,
        "y": 4868.930785655975,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "71112219.53498c"
            ]
        ]
    },
    {
        "id": "29b53f26.be023",
        "type": "for",
        "name": "for each vnfc-network-role",
        "xml": "<for silentFailure='true' index='network-role-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1283.131061553955,
        "y": 5259.834755420685,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "16633f2e.022661"
            ]
        ]
    },
    {
        "id": "da6bc8eb.1fc228",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/bgb-vfmoduleb.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 503.7499656677246,
        "y": 2567.7385773658752,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "4c17d408.0325d4",
        "type": "for",
        "name": "for each vnfc-subnetwork-role",
        "xml": "<for silentFailure='true' index='subnet-role-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1739.0835990905762,
        "y": 5223.025188922882,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "b25d503.04f60b"
            ]
        ]
    },
    {
        "id": "b25d503.04f60b",
        "type": "for",
        "name": "for each vnfc-address-family",
        "xml": "<for silentFailure='true' index='address-family-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2006.4169425964355,
        "y": 5222.025677204132,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "361bd618.e3774a"
            ]
        ]
    },
    {
        "id": "c30eb592.3deaa",
        "type": "for",
        "name": "for each vnfc-ip-address",
        "xml": "<for silentFailure='true' index='address-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2438.4165534973145,
        "y": 5288.691376686096,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "fd5c67b3.4eb9d8"
            ]
        ]
    },
    {
        "id": "361bd618.e3774a",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2217.4167137145996,
        "y": 5222.025133609772,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "3ac1bd96.4c4032",
                "c30eb592.3deaa"
            ]
        ]
    },
    {
        "id": "3ac1bd96.4c4032",
        "type": "set",
        "name": "set tmp.address-family",
        "xml": "<set>\n<parameter name='tmp.address-family'\n  value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-address-family`' />\n",
        "comments": "",
        "x": 2437.4170417785645,
        "y": 5142.025031089783,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "fd5c67b3.4eb9d8",
        "type": "switchNode",
        "name": "switch address family",
        "xml": "<switch test='`$tmp.address-family`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2677.416645050049,
        "y": 5287.025198936462,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "f7e9e9d1.1196a",
                "2e2d8a8e.c589ce"
            ]
        ]
    },
    {
        "id": "f7e9e9d1.1196a",
        "type": "outcome",
        "name": "ipv4",
        "xml": "<outcome value='ipv4'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2874.5596504211426,
        "y": 5190.596459388733,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "86bb7fd5.adcc48"
            ]
        ]
    },
    {
        "id": "2e2d8a8e.c589ce",
        "type": "outcome",
        "name": "ipv6",
        "xml": "<outcome value='ipv6'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2872.178722381592,
        "y": 5370.358490943909,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "be0d15ad.47c92"
            ]
        ]
    },
    {
        "id": "1274cbf9.f8a4c4",
        "type": "comment",
        "name": "Fixed IPs",
        "info": "",
        "comments": "",
        "x": 1756.0836143493652,
        "y": 5184.692565917969,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "9cd4c7f2.9e5188",
        "type": "save",
        "name": "save l3-interface-ipv4-address-list object to A&AI",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"l3-interface-ipv4-address-list\" \n\tkey=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n\t  AND cp.cp-instance-id = $cp-instance-id\n\t  AND l3-interface-ipv4-address-list.l3-interface-ipv4-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[$address-index].vnfc-ip-address\" >\n<parameter name=\"l3-interface-ipv4-address\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[$address-index].vnfc-ip-address`\" />\n<parameter name=\"l3-interface-ipv4-prefix-length\" value=\"32\" />\n<parameter name=\"is-floating\" value=\"false\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3317.892780303955,
        "y": 5138.929539362591,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "43863512.4717ac"
            ]
        ]
    },
    {
        "id": "86bb7fd5.adcc48",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3024.5596504211426,
        "y": 5190.596378008526,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "9cd4c7f2.9e5188",
                "ddfc5186.9c82d8"
            ]
        ]
    },
    {
        "id": "e2910ef7.9ece3",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3731.3926544189453,
        "y": 5138.914031664532,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "c9cbacd5.c19188",
                "d9c790eb.91fae"
            ]
        ]
    },
    {
        "id": "43863512.4717ac",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3574.559539794922,
        "y": 5138.9297014872245,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "e2910ef7.9ece3"
            ]
        ]
    },
    {
        "id": "ddfc5186.9c82d8",
        "type": "save",
        "name": "save l3-interface-ipv4-address-list relationships",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"l3-interface-ipv4-address-list:relationship-list\"\n   key=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n\t  AND cp.cp-instance-id = $cp-instance-id\n\t  AND l3-interface-ipv4-address-list.l3-interface-ipv4-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[$address-index].vnfc-ip-address\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"l3-network\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].network-id`\" />\n    <parameter name=\"relationship-list.relationship[1].related-to\" value=\"subnet\" />\n    <parameter name=\"relationship-list.relationship[1].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].network-id +\n        '/subnets/subnet/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].subnet-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3312.89302444458,
        "y": 5237.262958208721,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "c2cb99d6.a49c2",
                "c9ec70cf.4fd9e"
            ]
        ]
    },
    {
        "id": "52b5ed4.9db2f94",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3733.0592765808105,
        "y": 5208.914003054302,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "7dd0da25.d3ccfc",
                "d9c790eb.91fae"
            ]
        ]
    },
    {
        "id": "4ce52857.cc1b6",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3733.059352874756,
        "y": 5261.9137617747,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "468b5a03.5d976c",
                "d9c790eb.91fae"
            ]
        ]
    },
    {
        "id": "c2cb99d6.a49c2",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3576.226161956787,
        "y": 5208.929672876995,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "52b5ed4.9db2f94"
            ]
        ]
    },
    {
        "id": "c9ec70cf.4fd9e",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3584.797695159912,
        "y": 5261.548817316692,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "4ce52857.cc1b6"
            ]
        ]
    },
    {
        "id": "cf6ef28.b852b1",
        "type": "save",
        "name": "save l3-interface-ipv6-address-list object to A&AI",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"l3-interface-ipv6-address-list\" \n\tkey=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n\t  AND cp.cp-instance-id = $cp-instance-id\n\t  AND l3-interface-ipv6-address-list.l3-interface-ipv6-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[$address-index].vnfc-ip-address\" >\n<parameter name=\"l3-interface-ipv6-address\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[$address-index].vnfc-ip-address`\" />\n<parameter name=\"l3-interface-ipv6-prefix-length\" value=\"128\" />\n<parameter name=\"is-floating\" value=\"false\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3316.7025184631348,
        "y": 5317.977595329285,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "eb87edb2.b2c62"
            ]
        ]
    },
    {
        "id": "be0d15ad.47c92",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3023.3693885803223,
        "y": 5369.64443397522,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "cf6ef28.b852b1",
                "d8dfc76c.517de"
            ]
        ]
    },
    {
        "id": "9448c501.5eed9",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3730.202392578125,
        "y": 5317.962087631226,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "a2d763b4.1829c8",
                "d9c790eb.91fae"
            ]
        ]
    },
    {
        "id": "eb87edb2.b2c62",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3573.3692779541016,
        "y": 5317.9777574539185,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "9448c501.5eed9"
            ]
        ]
    },
    {
        "id": "d8dfc76c.517de",
        "type": "save",
        "name": "save l3-interface-ipv6-address-list relationships",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"l3-interface-ipv6-address-list:relationship-list\"\n   key=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n\t  AND cp.cp-instance-id = $cp-instance-id\n\t  AND l3-interface-ipv6-address-list.l3-interface-ipv6-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[$address-index].vnfc-ip-address\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"l3-network\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].network-id`\" />\n    <parameter name=\"relationship-list.relationship[1].related-to\" value=\"subnet\" />\n    <parameter name=\"relationship-list.relationship[1].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].network-id +\n        '/subnets/subnet/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].subnet-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3311.7027626037598,
        "y": 5416.311014175415,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "2dd9caae.ae5946",
                "7f4cb871.b2ebe"
            ]
        ]
    },
    {
        "id": "e1fae47b.7cdd48",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3731.8690147399902,
        "y": 5387.962059020996,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "5b880b05.e3e9bc",
                "d9c790eb.91fae"
            ]
        ]
    },
    {
        "id": "d0cf4e40.12591",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3731.8690910339355,
        "y": 5440.961817741394,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "b0bd1d84.04",
                "d9c790eb.91fae"
            ]
        ]
    },
    {
        "id": "2dd9caae.ae5946",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3575.035900115967,
        "y": 5387.977728843689,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "e1fae47b.7cdd48"
            ]
        ]
    },
    {
        "id": "7f4cb871.b2ebe",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3583.607433319092,
        "y": 5440.596873283386,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "d0cf4e40.12591"
            ]
        ]
    },
    {
        "id": "fc1739b3.4083c8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1038.083568572998,
        "y": 6146.692130565643,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "387b7c8f.6f32fc",
                "ca509dfe.913c",
                "d7168a31.df77e8",
                "75f88e01.9886a"
            ]
        ]
    },
    {
        "id": "51f6cb81.f398cc",
        "type": "for",
        "name": "for each vnfc",
        "xml": "<for silentFailure='true' index='vnfc-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1686.0837440490723,
        "y": 6269.025878429413,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "b48e64cd.c463c8"
            ]
        ]
    },
    {
        "id": "644c6dd7.a93ffc",
        "type": "save",
        "name": "save vip-ipv4-address-list object to A&AI",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"vip-ipv4-address-list\" \n\tkey=\"cloud-region.cloud-owner = $prop.cloud-region.cloud-owner\n\t  AND cloud-region.cloud-region-id = $vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region\n\t  AND vip-ipv4-address-list.vip-ipv4-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v4[$ipv4-index]\" >\n<parameter name=\"vip-ipv4-address\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v4[$ipv4-index]`\" />\n<parameter name=\"vip-ipv4-prefix-length\" value=\"32\" />\n<parameter name=\"is-floating\" value=\"false\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1769.0835990905762,
        "y": 6100.35889005661,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "acccc002.56c338",
                "c3700031.02a8e8"
            ]
        ]
    },
    {
        "id": "d7168a31.df77e8",
        "type": "for",
        "name": "for each floating ipv4 address",
        "xml": "<for silentFailure='true' index='ipv4-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v4_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1277.0835914611816,
        "y": 6158.358962535858,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "6e952524.c81e3c"
            ]
        ]
    },
    {
        "id": "6e952524.c81e3c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1503.0835914611816,
        "y": 6156.358962535858,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "644c6dd7.a93ffc",
                "e3eeddfa.6ffce8",
                "51f6cb81.f398cc"
            ]
        ]
    },
    {
        "id": "af96e8da.0b1c7",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2164.583469390869,
        "y": 6070.3432631492615,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "d1ef61f4.04b9b8",
                "80a87140.ea9ea8"
            ]
        ]
    },
    {
        "id": "ed161a35.56c07",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2164.5835456848145,
        "y": 6123.343021869659,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "7d3c5027.8588d8",
                "80a87140.ea9ea8"
            ]
        ]
    },
    {
        "id": "acccc002.56c338",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2007.7503547668457,
        "y": 6070.358932971954,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "af96e8da.0b1c7"
            ]
        ]
    },
    {
        "id": "c3700031.02a8e8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2016.3218879699707,
        "y": 6122.978077411652,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "ed161a35.56c07"
            ]
        ]
    },
    {
        "id": "13de43a5.0eac74",
        "type": "save",
        "name": "save vip-ipv4-address-list relationships",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"vip-ipv4-address-list:relationship-list\"\n   key=\"cloud-region.cloud-owner = $prop.cloud-region.cloud-owner\n\t  AND cloud-region.cloud-region-id = $vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region\n\t  AND vip-ipv4-address-list.vip-ipv4-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v4[$ipv4-index]\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"subnet\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].network-id\n        + '/subnets/subnet/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.ipv4-subnet-id`\" />\n    <parameter name=\"relationship-list.relationship[1].related-to\" value=\"vnfc\" />\n    <parameter name=\"relationship-list.relationship[1].related-link\"\n      value=\"`'/aai/v$/network/vnfcs/vnfc/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2104.7501945495605,
        "y": 6213.025553226471,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "5fc01690.0fbce",
                "4d4474b3.8b623c"
            ]
        ]
    },
    {
        "id": "66158bad.63d294",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2507.916473388672,
        "y": 6185.009895861149,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "b2979bec.ffc38",
                "80a87140.ea9ea8"
            ]
        ]
    },
    {
        "id": "9dbdd56a.6fe548",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2507.916549682617,
        "y": 6238.009654581547,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "41358f15.11788",
                "80a87140.ea9ea8"
            ]
        ]
    },
    {
        "id": "5fc01690.0fbce",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2351.0833587646484,
        "y": 6185.025565683842,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "66158bad.63d294"
            ]
        ]
    },
    {
        "id": "4d4474b3.8b623c",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2359.6548919677734,
        "y": 6237.644710123539,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "9dbdd56a.6fe548"
            ]
        ]
    },
    {
        "id": "34d32788.c5286",
        "type": "save",
        "name": "save vip-ipv6-address-list object to A&AI",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"vip-ipv6-address-list\" \n\tkey=\"cloud-region.cloud-owner = $prop.cloud-region.cloud-owner\n\t  AND cloud-region.cloud-region-id = $vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region\n\t  AND vip-ipv6-address-list.vip-ipv6-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v6[$ipv6-index]\" >\n<parameter name=\"vip-ipv6-address\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v6[$ipv6-index]`\" />\n<parameter name=\"vip-ipv6-prefix-length\" value=\"128\" />\n<parameter name=\"is-floating\" value=\"false\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1772.4169273376465,
        "y": 6423.6915736198425,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "98756967.51b218",
                "94c1c8c3.af893"
            ]
        ]
    },
    {
        "id": "75f88e01.9886a",
        "type": "for",
        "name": "for each floating ipv6 address",
        "xml": "<for silentFailure='true' index='ipv6-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v6_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1280.416919708252,
        "y": 6480.691646099091,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "8687d03a.fa788"
            ]
        ]
    },
    {
        "id": "8687d03a.fa788",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1506.416919708252,
        "y": 6479.691646099091,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "34d32788.c5286",
                "dde8735c.932628",
                "2b1e86b3.65e40a"
            ]
        ]
    },
    {
        "id": "1051e056.a9697",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2167.9167976379395,
        "y": 6393.675946712494,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "3ac13c99.2746ec",
                "80a87140.ea9ea8"
            ]
        ]
    },
    {
        "id": "6d917b6c.9c5ffc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2167.9168739318848,
        "y": 6446.675705432892,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "7a2126ed.822348",
                "80a87140.ea9ea8"
            ]
        ]
    },
    {
        "id": "98756967.51b218",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2011.083683013916,
        "y": 6393.691616535187,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "1051e056.a9697"
            ]
        ]
    },
    {
        "id": "94c1c8c3.af893",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2019.655216217041,
        "y": 6446.310760974884,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "6d917b6c.9c5ffc"
            ]
        ]
    },
    {
        "id": "7035f2f1.4d722c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2501.2500534057617,
        "y": 6506.675997316837,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "fabe0a78.603888",
                "80a87140.ea9ea8"
            ]
        ]
    },
    {
        "id": "37ddcd1b.e2b802",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2501.250129699707,
        "y": 6559.675756037235,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "df22df3e.1dd298",
                "80a87140.ea9ea8"
            ]
        ]
    },
    {
        "id": "5ffe6acf.38f0bc",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2344.4169387817383,
        "y": 6506.69166713953,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "7035f2f1.4d722c"
            ]
        ]
    },
    {
        "id": "ddb1c22c.1285d",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2352.9884719848633,
        "y": 6559.310811579227,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "37ddcd1b.e2b802"
            ]
        ]
    },
    {
        "id": "e604e329.ee375",
        "type": "save",
        "name": "save vip-ipv6-address-list relationships",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"vip-ipv6-address-list:relationship-list\"\n   key=\"cloud-region.cloud-owner = $prop.cloud-region.cloud-owner\n\t  AND cloud-region.cloud-region-id = $vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region\n\t  AND vip-ipv6-address-list.vip-ipv6-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v6[$ipv6-index]\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"subnet\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].network-id\n        + '/subnets/subnet/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.ipv6-subnet-id`\" />\n    <parameter name=\"relationship-list.relationship[1].related-to\" value=\"vnfc\" />\n    <parameter name=\"relationship-list.relationship[1].related-link\"\n      value=\"`'/aai/v$/network/vnfcs/vnfc/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2100.083782196045,
        "y": 6535.358086109161,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "5ffe6acf.38f0bc",
                "ddb1c22c.1285d"
            ]
        ]
    },
    {
        "id": "315c3130.42c366",
        "type": "set",
        "name": "set created_flag",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].created_flag' value='true' />\n",
        "comments": "",
        "x": 1262.7502250671387,
        "y": 4782.69187015295,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "387b7c8f.6f32fc",
        "type": "set",
        "name": "set created-flag",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].created-flag' value='true' />\n",
        "comments": "",
        "x": 1233.4169807434082,
        "y": 6030.692051589489,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "e3eeddfa.6ffce8",
        "type": "set",
        "name": "set created-ipv4-flag",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.created-ipv4-flag' value='true' />\n",
        "comments": "",
        "x": 1706.4169464111328,
        "y": 6158.692131459713,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "dde8735c.932628",
        "type": "set",
        "name": "set created-ipv6-flag",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.created-ipv6-flag' value='true' />\n",
        "comments": "",
        "x": 1711.7502822875977,
        "y": 6484.691734731197,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "ffd5f8ec.0567b8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1812.750400543213,
        "y": 4742.692109048367,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "57b5cca0.b41e44"
            ]
        ]
    },
    {
        "id": "70b9ed3c.8aee34",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-vlan-tagging-assign",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-vlan-tagging-assign' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 580.1668014526367,
        "y": 6817.692086219788,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "f8b0d0aa.bb2888"
            ]
        ]
    },
    {
        "id": "f8b0d0aa.bb2888",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 924.5002174377441,
        "y": 6817.025581359863,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "aa009e8b.45fc7"
            ]
        ]
    },
    {
        "id": "aa009e8b.45fc7",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1079.5000915527344,
        "y": 6817.02537727356,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "27d3a79b.3609c8",
                "a58ccc12.88c6e"
            ]
        ]
    },
    {
        "id": "27d3a79b.3609c8",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/bgb-vlantaggingfailure.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 1260.2737083435059,
        "y": 6789.763383388519,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "c81718c8.57c318",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 234.6428451538086,
        "y": 568.5714340209961,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "6a675694.1fa908",
                "5a677fe9.18c2c",
                "f11f0133.6f3d58",
                "b5e092f5.9c85f",
                "cebd50e6.9880e",
                "40ad0b14.faee84",
                "c898c24a.580b38",
                "1c7fb5.59a3f84c",
                "b6b98c0f.723cc",
                "7ae99515.fe481c",
                "dba7b6d3.68f8d8"
            ]
        ]
    },
    {
        "id": "51af9cd1.31d38c",
        "type": "switchNode",
        "name": "switch from-preload",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-information.from-preload`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 525.6546897888184,
        "y": 2634.167197227478,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "5f4877a.3fa3188",
                "4e561816.c2594"
            ]
        ]
    },
    {
        "id": "5f4877a.3fa3188",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 697.5594215393066,
        "y": 2611.5482177734375,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "3465f00.0ef611"
            ]
        ]
    },
    {
        "id": "4e561816.c2594",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 699.22607421875,
        "y": 2656.548056602478,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "acc1aa26.39c598"
            ]
        ]
    },
    {
        "id": "3465f00.0ef611",
        "type": "set",
        "name": "set automated-assignment to true",
        "xml": "<set>\n<parameter name='automated-assignment' value='true' />\n",
        "comments": "",
        "x": 912.5594062805176,
        "y": 2609.8813886642456,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "acc1aa26.39c598",
        "type": "set",
        "name": "set automated-assignment to false",
        "xml": "<set>\n<parameter name='automated-assignment' value='false' />\n",
        "comments": "",
        "x": 910.8927268981934,
        "y": 2654.881308555603,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "2b1e86b3.65e40a",
        "type": "for",
        "name": "for each vnfc",
        "xml": "<for silentFailure='true' index='vnfc-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1687.1788139343262,
        "y": 6583.572158336639,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "d8554d2f.59bf98"
            ]
        ]
    },
    {
        "id": "916f3f95.63cb7",
        "type": "for",
        "name": "for each vm-type",
        "xml": "<for silentFailure='true' index='vm-type-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 504.41678619384766,
        "y": 3994.3580799102783,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "c6b2954.3f9cb68"
            ]
        ]
    },
    {
        "id": "c6b2954.3f9cb68",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 694.9168548583984,
        "y": 3995.1913146972656,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "a438bb81.403d58"
            ]
        ]
    },
    {
        "id": "a438bb81.403d58",
        "type": "for",
        "name": "for each vm-network",
        "xml": "<for silentFailure='true' index='network-role-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 896.4167861938477,
        "y": 3994.3580799102783,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "6fe62d7e.548b64"
            ]
        ]
    },
    {
        "id": "6fe62d7e.548b64",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1086.2501068115234,
        "y": 3993.8575191497803,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "a90aa9e.5f76e58"
            ]
        ]
    },
    {
        "id": "a90aa9e.5f76e58",
        "type": "get-resource",
        "name": "get-resource VFC_RELATED_NETWORK_ROLE",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='SELECT * from VFC_RELATED_NETWORK_ROLE where vfc_customization_uuid = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].model-customization-uuid\n    and network_role = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].network-role'\n  pfx='db.vnf-related-network-role[]'>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1375.7500801086426,
        "y": 3992.3581619262695,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "da986f49.9830c8",
                "3dee0bd4.b64774"
            ]
        ]
    },
    {
        "id": "da986f49.9830c8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1646.7500190734863,
        "y": 3897.0248641967773,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "3d6c04eb.2a27a4"
            ]
        ]
    },
    {
        "id": "3d6c04eb.2a27a4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1793.9405364990234,
        "y": 3895.5728788375854,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "2e04ce34.b69242",
                "776c97ba.8147"
            ]
        ]
    },
    {
        "id": "3dee0bd4.b64774",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1647.5832290649414,
        "y": 4141.691743850708,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "39e600a7.94d748"
            ]
        ]
    },
    {
        "id": "8d2f0f0e.9d386",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2065.9164810180664,
        "y": 4143.691499710083,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "1ab7daf7.978e7d",
                "23d59a7d.9e6b76",
                "e03ffa32.f4ba68",
                "43706d92.07be84",
                "8c6778d0.b2bda",
                "5934601.8c18da",
                "3173c026.19835",
                "d855520e.cfeeb8"
            ]
        ]
    },
    {
        "id": "23d59a7d.9e6b76",
        "type": "for",
        "name": "for each vnf network",
        "xml": "<for silentFailure='true' index='vnf-network-index' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2248.416660308838,
        "y": 3986.0247478485107,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "92a1645d.49be"
            ]
        ]
    },
    {
        "id": "1ab7daf7.978e7d",
        "type": "set",
        "name": "set found-related-network to false",
        "xml": "<set>\n<parameter name='found-related-network' value='false' />\n",
        "comments": "",
        "x": 2288.416736602783,
        "y": 3927.6915245056152,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "338094b5.ea0694",
        "type": "for",
        "name": "for each related network",
        "xml": "<for silentFailure='true' index='related-network-index' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].related-networks.related-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2647.4166221618652,
        "y": 3962.691011428833,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "fc59ffe2.e053b8"
            ]
        ]
    },
    {
        "id": "92a1645d.49be",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2436.416660308838,
        "y": 3986.0247478485107,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "338094b5.ea0694",
                "b665f22f.2f257"
            ]
        ]
    },
    {
        "id": "fc59ffe2.e053b8",
        "type": "switchNode",
        "name": "switch network-role matches",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].related-networks.related-network[$related-network-index].network-role\n  == $db.vnf-related-network-role[$db-related-network-index].related-network-role`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2899.4165382385254,
        "y": 3962.6910877227783,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "476181be.a8d018"
            ]
        ]
    },
    {
        "id": "39e600a7.94d748",
        "type": "for",
        "name": "for each db related-network",
        "xml": "<for index='db-related-network-index' start='0' end='`$db.vnf-related-network-role_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1851.916603088379,
        "y": 4142.358491897583,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "8d2f0f0e.9d386"
            ]
        ]
    },
    {
        "id": "476181be.a8d018",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3099.4165382385254,
        "y": 3960.6910877227783,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "18cb7157.206877"
            ]
        ]
    },
    {
        "id": "18cb7157.206877",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3253.4165382385254,
        "y": 3958.6910877227783,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "b326a2de.8bafe",
                "4e6d1ea.4dc51e",
                "f3a55ecf.c8973"
            ]
        ]
    },
    {
        "id": "b326a2de.8bafe",
        "type": "set",
        "name": "set found-related-network to true",
        "xml": "<set>\n<parameter name='found-related-network' value='true' />\n",
        "comments": "",
        "x": 3485.4166984558105,
        "y": 3918.357671737671,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "4e6d1ea.4dc51e",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 3408.7498741149902,
        "y": 4005.0244216918945,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "e03ffa32.f4ba68",
        "type": "switchNode",
        "name": "switch found-related-network",
        "xml": "<switch test='`$found-related-network`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2283.916549682617,
        "y": 4086.6916332244873,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "e4f8196b.47aaf"
            ]
        ]
    },
    {
        "id": "e4f8196b.47aaf",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2477.916549682617,
        "y": 4084.6916332244873,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "a14b94c4.a117b"
            ]
        ]
    },
    {
        "id": "a14b94c4.a117b",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2607.916549682617,
        "y": 4084.6916332244873,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "da8aad89.31dd28",
                "776c97ba.8147"
            ]
        ]
    },
    {
        "id": "43706d92.07be84",
        "type": "set",
        "name": "set is-trunked and segmentation-id in vm-network",
        "xml": "<set>\n<parameter name='$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].is-trunked'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$saved-vnf-network-index].is-trunked`' />\n<parameter name='$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].segmentation-id'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$saved-vnf-network-index].segmentation-id`' />\n",
        "comments": "",
        "x": 2345.916549682617,
        "y": 4134.691633224487,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "5934601.8c18da",
        "type": "switchNode",
        "name": "switch rn-index",
        "xml": "<switch test='`$rn-index`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2233.916549682617,
        "y": 4242.691633224487,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "862fb1b9.56ed8"
            ]
        ]
    },
    {
        "id": "8c6778d0.b2bda",
        "type": "set",
        "name": "set rn-index to related network length",
        "xml": "<set>\n<parameter name='rn-index' value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network_length`' />\n",
        "comments": "",
        "x": 2305.916549682617,
        "y": 4186.691633224487,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "862fb1b9.56ed8",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 2397.916549682617,
        "y": 4242.691633224487,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "909a4051.229f78"
            ]
        ]
    },
    {
        "id": "909a4051.229f78",
        "type": "set",
        "name": "set rn-index to 0",
        "xml": "<set>\n<parameter name='rn-index' value='0' />\n",
        "comments": "",
        "x": 2557.916549682617,
        "y": 4242.691633224487,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "3173c026.19835",
        "type": "set",
        "name": "set related-network data",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network[$rn-index].network-id'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$saved-vnf-network-index].related-networks.related-network[$saved-related-network-index].network-id`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network[$rn-index].network-role'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$saved-vnf-network-index].related-networks.related-network[$saved-related-network-index].network-role`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network[$rn-index].vlan-tags.vlan-interface'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$saved-vnf-network-index].related-networks.related-network[$saved-related-network-index].vlan-tags.vlan-interface`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network[$rn-index].vlan-tags.lower-tag-id'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$saved-vnf-network-index].related-networks.related-network[$saved-related-network-index].vlan-tags.lower-tag-id`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network[$rn-index].vlan-tags.upper-tag-id'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$saved-vnf-network-index].related-networks.related-network[$saved-related-network-index].vlan-tags.upper-tag-id`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network[$rn-index].vlan-tags.is-private'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$saved-vnf-network-index].related-networks.related-network[$saved-related-network-index].vlan-tags.is-private`' />\n",
        "comments": "",
        "x": 2257.916549682617,
        "y": 4294.691633224487,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "d855520e.cfeeb8",
        "type": "set",
        "name": "set new related network length",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network_length'\n  value='`$rn-index + 1`' />\n",
        "comments": "",
        "x": 2275.916549682617,
        "y": 4346.691633224487,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "b665f22f.2f257",
        "type": "switchNode",
        "name": "switch found-related-network",
        "xml": "<switch test='`$found-related-network`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2660.416645050049,
        "y": 4010.3578720092773,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "e96b36b1.c668f"
            ]
        ]
    },
    {
        "id": "e96b36b1.c668f",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2857.083507537842,
        "y": 4010.3582439422607,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "64564a00.a38804"
            ]
        ]
    },
    {
        "id": "64564a00.a38804",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 2987.083393096924,
        "y": 4008.6913681030273,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "f3a55ecf.c8973",
        "type": "set",
        "name": "save indexes",
        "xml": "<set>\n<parameter name='saved-vnf-network-index' value='`$vnf-network-index`' />\n<parameter name='saved-related-network-index' value='`$related-network-index`' />\n",
        "comments": "",
        "x": 3427.0836067199707,
        "y": 3960.358242034912,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "8b7cc4d3.f4cfe8",
        "type": "execute",
        "name": "generate cp-instance-id",
        "xml": "<execute plugin=\"org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils\" method=\"generateUUID\" >\n<parameter name=\"ctx-destination\" value=\"cp-instance-id\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1715.9880981445312,
        "y": 4989.882295131683,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "4d22d4c5.361504",
        "type": "save",
        "name": "save cp to A&AI",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"cp\" \n\tkey=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n\t  AND cp.cp-instance-id = $cp-instance-id\" >\n<parameter name=\"cp-instance-id\" value=\"`$cp-instance-id`\" />\n<parameter name=\"port-id\" value=\"0\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1697.6547203063965,
        "y": 5056.548800945282,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "76a4a88e.e2942",
                "d2d98810.b8c8e"
            ]
        ]
    },
    {
        "id": "76a4a88e.e2942",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1886.6547012329102,
        "y": 5032.215414464474,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "81d77c8b.0798a"
            ]
        ]
    },
    {
        "id": "81d77c8b.0798a",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2053.821449279785,
        "y": 5048.009848058224,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "9d37e45d.b2b17",
                "53c51859.8f2058"
            ]
        ]
    },
    {
        "id": "d2d98810.b8c8e",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1891.6547012329102,
        "y": 5081.881674230099,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "81d77c8b.0798a"
            ]
        ]
    },
    {
        "id": "16633f2e.022661",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1492.4644203186035,
        "y": 5259.167088985443,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "4b045030.d41d88",
                "4c17d408.0325d4",
                "8b7cc4d3.f4cfe8",
                "4d22d4c5.361504",
                "5bafdfdf.124628",
                "2fec5aa7.77246e"
            ]
        ]
    },
    {
        "id": "4b045030.d41d88",
        "type": "set",
        "name": "set connection point data",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].connection-point.connection-point-id'\n  value='`$cp-instance-id`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].connection-point.port-id'\n  value='0' />\n",
        "comments": "",
        "x": 1727.9882621765137,
        "y": 5134.406370639801,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "acb49f16.15aaf",
        "type": "comment",
        "name": "Floating IPs",
        "info": "",
        "comments": "",
        "x": 1288.7500801086426,
        "y": 6116.691488921642,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "5bafdfdf.124628",
        "type": "for",
        "name": "for each vnf-network",
        "xml": "<for index='vnf-network-index' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1712.0832633972168,
        "y": 5530.691864490509,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "a14b82dd.38c208"
            ]
        ]
    },
    {
        "id": "3bc880a7.7c7",
        "type": "save",
        "name": "save cp relationship to l3-network",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"cp:relationship-list\"\n   key=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n     AND cp.cp-instance-id = $cp-instance-id\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"l3-network\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/' +\n        $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].network-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2350.4167442321777,
        "y": 5530.358372211456,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "9431a7ec.e47a",
                "8b56e758.e3b61"
            ]
        ]
    },
    {
        "id": "cfbe0831.f530f8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2722.249782562256,
        "y": 5503.676320552826,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "91c0d3db.ebd33",
                "53c51859.8f2058"
            ]
        ]
    },
    {
        "id": "80f14d0c.c93ce",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2722.249858856201,
        "y": 5556.676079273224,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "2b0409fe.5eb50e",
                "53c51859.8f2058"
            ]
        ]
    },
    {
        "id": "9431a7ec.e47a",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2565.4166679382324,
        "y": 5503.691990375519,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "cfbe0831.f530f8"
            ]
        ]
    },
    {
        "id": "8b56e758.e3b61",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2573.9882011413574,
        "y": 5556.311134815216,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "80f14d0c.c93ce"
            ]
        ]
    },
    {
        "id": "2fec5aa7.77246e",
        "type": "for",
        "name": "for each vm-network",
        "xml": "<for silentFailure='true' index='network-role-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1712.0834159851074,
        "y": 5691.358219623566,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "166a0b72.13f095"
            ]
        ]
    },
    {
        "id": "d6f7e7ee.5f0fa8",
        "type": "save",
        "name": "save cp relationship to l3-network and vlan-tag",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"cp:relationship-list\"\n   key=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n     AND cp.cp-instance-id = $cp-instance-id\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"l3-network\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network[$related-network-index].network-id`\" />\n    <parameter name=\"relationship-list.relationship[1].related-to\" value=\"vlan-tag\" />\n    <parameter name=\"relationship-list.relationship[1].related-link\"\n      value=\"`'/aai/v$/network/vlan-tags/vlan-tag/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network[$related-network-index].vlan-tags.vlan-interface`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2631.7504234313965,
        "y": 5689.358214855194,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "f3dd6394.da7d2",
                "6b1fdd75.d111d4"
            ]
        ]
    },
    {
        "id": "f5696346.2071d",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3038.583469390869,
        "y": 5662.675513744355,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "6be75e23.fe0cc8",
                "53c51859.8f2058"
            ]
        ]
    },
    {
        "id": "8b9ea20b.f99c38",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3038.5835456848145,
        "y": 5715.675272464753,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "404a23f0.0971fc",
                "53c51859.8f2058"
            ]
        ]
    },
    {
        "id": "f3dd6394.da7d2",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2881.7503547668457,
        "y": 5662.691183567048,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "f5696346.2071d"
            ]
        ]
    },
    {
        "id": "6b1fdd75.d111d4",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2890.3218879699707,
        "y": 5715.310328006745,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "8b9ea20b.f99c38"
            ]
        ]
    },
    {
        "id": "c3cb2479.7ecad",
        "type": "for",
        "name": "for each related-network",
        "xml": "<for silentFailure='true' index='related-network-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2327.750255584717,
        "y": 5689.358215808868,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "d6f7e7ee.5f0fa8"
            ]
        ]
    },
    {
        "id": "12f004ff.5d7483",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-generate-heat-parameters",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-generate-heat-parameters' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 576.0835800170898,
        "y": 6931.10897731781,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "9daa21f.2faf2e",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/bgb-vfmoduleheat.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 386.16688537597656,
        "y": 6984.108654975891,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "75cc32e2.eb2ba4",
        "type": "switchNode",
        "name": "switch input vf-module-name",
        "xml": "<switch test='`$vf-module-topology-operation-input.vf-module-request-input.vf-module-name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 558.7499809265137,
        "y": 2416.1910371780396,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "59e4dd88.a26cd4",
                "712860a4.42e0e8"
            ]
        ]
    },
    {
        "id": "59e4dd88.a26cd4",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 781.2499465942383,
        "y": 2338.6909971237183,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "8109a9b9.3f42e"
            ]
        ]
    },
    {
        "id": "712860a4.42e0e8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 782.9285469055176,
        "y": 2511.309581756592,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "8b5ea826.2eb5"
            ]
        ]
    },
    {
        "id": "dcc7600a.dab8b8",
        "type": "for",
        "name": "for each vnfc-subnet-role",
        "xml": "<for index='subnet-role-index' start='0'\n  end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1316.2500801086426,
        "y": 3211.1907138824463,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "be4138dd.4998d"
            ]
        ]
    },
    {
        "id": "be4138dd.4998d",
        "type": "for",
        "name": "for each vnfc-address-family",
        "xml": "<for index='address-family-index' start='0'\n  end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1564.583339691162,
        "y": 3211.1907138824463,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "a5646e3c.4175d8"
            ]
        ]
    },
    {
        "id": "e95385fa.a6c6d8",
        "type": "for",
        "name": "for each vm-type",
        "xml": "<for silentFailure='true' index='vm-type-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 522.0832557678223,
        "y": 2929.5240507125854,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "bd60405f.00c9c8"
            ]
        ]
    },
    {
        "id": "bd60405f.00c9c8",
        "type": "for",
        "name": "for each vnfc",
        "xml": "<for silentFailure='true' index='vnfc-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 703.7500343322754,
        "y": 2928.1911993026733,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "e0ec22a8.78c488"
            ]
        ]
    },
    {
        "id": "e0ec22a8.78c488",
        "type": "for",
        "name": "for each vnfc-network",
        "xml": "<for silentFailure='true' index='vnfc-network-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 904.9166069030762,
        "y": 2928.0238885879517,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "352c3cd6.3eadcc"
            ]
        ]
    },
    {
        "id": "352c3cd6.3eadcc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1117.0832786560059,
        "y": 2927.0242490768433,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "9a6ca74c.ffcc48",
                "cf58794f.06338",
                "5dd80c97.537c44",
                "dcc7600a.dab8b8"
            ]
        ]
    },
    {
        "id": "9a6ca74c.ffcc48",
        "type": "set",
        "name": "set vnf-network-index to -1",
        "xml": "<set>\n<parameter name='vnf-network-index' value='-1' />\n",
        "comments": "",
        "x": 1328.7499961853027,
        "y": 2880.3574628829956,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "cf58794f.06338",
        "type": "for",
        "name": "for each vnf-network",
        "xml": "<for index='idx' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1310.4167861938477,
        "y": 2927.024214744568,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "97ab4187.b118b8"
            ]
        ]
    },
    {
        "id": "97ab4187.b118b8",
        "type": "switchNode",
        "name": "switch network-roles match?",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-network-role\n  == $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$idx].network-role`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1552.0832557678223,
        "y": 2925.3577098846436,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "27dbd503.8b8602"
            ]
        ]
    },
    {
        "id": "27dbd503.8b8602",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1748.7499351501465,
        "y": 2925.3576288223267,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "501f59fe.df2de8"
            ]
        ]
    },
    {
        "id": "501f59fe.df2de8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1902.0831565856934,
        "y": 2925.3575010299683,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "a61dc19e.9e0f2",
                "5648c39a.ccdb6c",
                "8f9b8cbd.986a8"
            ]
        ]
    },
    {
        "id": "a61dc19e.9e0f2",
        "type": "set",
        "name": "set vnf-network-index",
        "xml": "<set>\n<parameter name='vnf-network-index' value='`$idx`' />\n",
        "comments": "",
        "x": 2108.749988555908,
        "y": 2873.690878868103,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "5648c39a.ccdb6c",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 2063.7499046325684,
        "y": 2963.6907997131348,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "5dd80c97.537c44",
        "type": "switchNode",
        "name": "switch vnf-network-index",
        "xml": "<switch test='`$vnf-network-index`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1322.083324432373,
        "y": 2987.0242166519165,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "bc2032e3.e8e4a"
            ]
        ]
    },
    {
        "id": "bc2032e3.e8e4a",
        "type": "outcome",
        "name": "-1",
        "xml": "<outcome value='-1'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1513.7499656677246,
        "y": 2987.0244607925415,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "935ecb48.0f2db8"
            ]
        ]
    },
    {
        "id": "935ecb48.0f2db8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1662.0831565856934,
        "y": 2985.3575010299683,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "bea780a5.f370a8",
                "776c97ba.8147"
            ]
        ]
    },
    {
        "id": "2540e81d.458288",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2353.7498741149902,
        "y": 3395.357352256775,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "ee67f52c.424d2",
                "c57e7277.7bd328",
                "e8c75e3a.2af288"
            ]
        ]
    },
    {
        "id": "ee67f52c.424d2",
        "type": "for",
        "name": "for each subnet-data",
        "xml": "<for index='subnet-data-index' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2550.4166259765625,
        "y": 3350.357271194458,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "972ea553.99d208"
            ]
        ]
    },
    {
        "id": "972ea553.99d208",
        "type": "switchNode",
        "name": "address-families match?",
        "xml": "<switch test='`$tmp.address-family\n  == $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].ip-version`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2777.083251953125,
        "y": 3350.357271194458,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "3dca1e34.e0847a"
            ]
        ]
    },
    {
        "id": "3dca1e34.e0847a",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2957.0832176208496,
        "y": 3350.357677459717,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "717cbfcb.60aa08"
            ]
        ]
    },
    {
        "id": "fcd27cae.9971d",
        "type": "set",
        "name": "set tmp.address-family",
        "xml": "<set>\n<parameter name='tmp.address-family'\n  value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-address-family`' />\n",
        "comments": "",
        "x": 2382.083209991455,
        "y": 3213.6907653808594,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "a5646e3c.4175d8",
        "type": "switchNode",
        "name": "switch vnfc-subnet-ip_length",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1827.083553314209,
        "y": 3210.3578004837036,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "27b221.61454de",
                "37c74ee9.63f5f2",
                "71f65fab.0bfe78"
            ]
        ]
    },
    {
        "id": "27b221.61454de",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 2028.7500648498535,
        "y": 3110.357343673706,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "2652efe4.17e35"
            ]
        ]
    },
    {
        "id": "37c74ee9.63f5f2",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2025.178695678711,
        "y": 3296.3096351623535,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "39833c34.42c8ec"
            ]
        ]
    },
    {
        "id": "2652efe4.17e35",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2160.4166145324707,
        "y": 3133.0240907669067,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "6d454cd3.78a5d4",
        "type": "set",
        "name": "set subnet-id to -1",
        "xml": "<set>\n<parameter name='subnet-id' value='-1' />\n",
        "comments": "",
        "x": 3050.417133331299,
        "y": 3512.024757385254,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "39833c34.42c8ec",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2178.7501106262207,
        "y": 3295.3572673797607,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "fcd27cae.9971d",
                "2540e81d.458288"
            ]
        ]
    },
    {
        "id": "5eed690e.75e0d",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4310.416730880737,
        "y": 3683.6912343502045,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "53a0e40b.8c8f94",
                "49360c29.954fe4"
            ]
        ]
    },
    {
        "id": "49360c29.954fe4",
        "type": "execute",
        "name": "execute isInSameSubnet",
        "xml": "<execute plugin=\"com.att.sdnctl.sli.plugin.ipAddressTools.IpAddressTool\" method=\"isInSameSubnet\">\n\t<parameter name=\"firstIPAddr\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].network-start-address`\" />\n\t<parameter name=\"secondIPAddr\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[0].vnfc-ip-address`\" />\n\t<parameter name=\"subnet\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].cidr-mask`\" />\n\t<parameter name=\"ipType\" value=\"`$ip-type`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 4525.416732788086,
        "y": 3733.6909081935883,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "b41ca9a.feb8c58"
            ]
        ]
    },
    {
        "id": "53a0e40b.8c8f94",
        "type": "switchNode",
        "name": "switch tmp.address-family",
        "xml": "<switch test='`$tmp.address-family`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4527.083889007568,
        "y": 3640.3578946590424,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "1ef473ca.377f54",
                "ce4efcca.87ca2"
            ]
        ]
    },
    {
        "id": "1ef473ca.377f54",
        "type": "outcome",
        "name": "ipv4",
        "xml": "<outcome value='ipv4'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4730.417151133219,
        "y": 3613.691124995549,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "54613d4d.a1d134"
            ]
        ]
    },
    {
        "id": "ce4efcca.87ca2",
        "type": "outcome",
        "name": "ipv6",
        "xml": "<outcome value='ipv6'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4730.41682434082,
        "y": 3660.357652425766,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "aa5ba609.df326"
            ]
        ]
    },
    {
        "id": "54613d4d.a1d134",
        "type": "set",
        "name": "set ip-type parameter to IPv4",
        "xml": "<set>\n<parameter name='ip-type' value='IPv4' />\n",
        "comments": "",
        "x": 4927.083637237549,
        "y": 3612.024598836899,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "aa5ba609.df326",
        "type": "set",
        "name": "set ip-type parameter to IPv6",
        "xml": "<set>\n<parameter name='ip-type' value='IPv6' />\n",
        "comments": "",
        "x": 4932.083515167236,
        "y": 3660.3576714992523,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "f9924c62.2a718",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4865.416763305664,
        "y": 3733.3576714992523,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "51b94f87.7092a",
                "85338e16.a5362"
            ]
        ]
    },
    {
        "id": "51b94f87.7092a",
        "type": "set",
        "name": "set subnet-id",
        "xml": "<set>\n<parameter name='subnet-id' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].sdnc-subnet-id`' />\n",
        "comments": "",
        "x": 5043.75008392334,
        "y": 3710.0241582393646,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "85338e16.a5362",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 5028.750087738037,
        "y": 3756.6911523342133,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "7d510a16.18b73c",
        "type": "switchNode",
        "name": "switch subnet-id",
        "xml": "<switch test='`$subnet-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3042.0830078125,
        "y": 3673.6914920806885,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "e9b66374.bf8458"
            ]
        ]
    },
    {
        "id": "e9b66374.bf8458",
        "type": "outcome",
        "name": "-1",
        "xml": "<outcome value='-1'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3198.7495727539062,
        "y": 3673.691427230835,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "5367842d.4f14bc"
            ]
        ]
    },
    {
        "id": "5367842d.4f14bc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3347.082763671875,
        "y": 3672.0244674682617,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "3a11036f.3fc69c",
                "776c97ba.8147"
            ]
        ]
    },
    {
        "id": "b10f151c.168cf8",
        "type": "set",
        "name": "set subnet-id in vnfc-ip-assignments (temp variable)",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].subnet-id' value='`$subnet-id`' />\n",
        "comments": "",
        "x": 3153.749652862549,
        "y": 3750.358263015747,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "479bc256.bdd844",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/bgb-vfmodulec.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 507.08324813842773,
        "y": 3345.3575010299683,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "b41ca9a.feb8c58",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4712.083335876465,
        "y": 3733.6913964748383,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "f9924c62.2a718"
            ]
        ]
    },
    {
        "id": "8f9b8cbd.986a8",
        "type": "set",
        "name": "set network-id",
        "xml": "<set>\n<parameter name='$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].network-id'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$idx].network-id`' />\n",
        "comments": "",
        "x": 2085.416492462158,
        "y": 2918.6909618377686,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "55960229.8cc67c",
        "type": "switchNode",
        "name": "switch nfc-naming-code",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].nfc-naming-code`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1283.74995803833,
        "y": 4533.690689563751,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "284cace4.04a9f4",
                "e7e9c383.1536c8"
            ]
        ]
    },
    {
        "id": "284cace4.04a9f4",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 1468.7499046325684,
        "y": 4508.690508365631,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "2e4f78b3.45e368"
            ]
        ]
    },
    {
        "id": "e7e9c383.1536c8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1466.8451766967773,
        "y": 4555.47633600235,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "8293acde.860808"
            ]
        ]
    },
    {
        "id": "2e4f78b3.45e368",
        "type": "set",
        "name": "set tmp.nfc-naming-code to DEFAULT",
        "xml": "<set>\n<parameter name='tmp.nfc-naming-code' value='DEFAULT' />\n",
        "comments": "",
        "x": 1700.416675567627,
        "y": 4507.023858547211,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "8293acde.860808",
        "type": "set",
        "name": "set tmp.nfc-naming-code",
        "xml": "<set>\n<parameter name='tmp.nfc-naming-code' value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].nfc-naming-code`' />\n",
        "comments": "",
        "x": 1657.0831871032715,
        "y": 4555.357356548309,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "ec580ecf.954618",
        "type": "switchNode",
        "name": "switch nfc-function",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].nfc-function`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1272.0832901000977,
        "y": 4632.023863315582,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "1e4cfb1e.66630d",
                "89d313b5.f6a258"
            ]
        ]
    },
    {
        "id": "1e4cfb1e.66630d",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 1468.7498970031738,
        "y": 4607.023661136627,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "dad439e2.83bcd8"
            ]
        ]
    },
    {
        "id": "89d313b5.f6a258",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1466.8451690673828,
        "y": 4653.809488773346,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "a6c49e2d.3c1e2"
            ]
        ]
    },
    {
        "id": "dad439e2.83bcd8",
        "type": "set",
        "name": "set tmp.nfc-function to DEFAULT",
        "xml": "<set>\n<parameter name='tmp.nfc-function' value='DEFAULT' />\n",
        "comments": "",
        "x": 1680.4166793823242,
        "y": 4605.356870174408,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "a6c49e2d.3c1e2",
        "type": "set",
        "name": "set tmp.nfc-function",
        "xml": "<set>\n<parameter name='tmp.nfc-function' value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].nfc-function`' />\n",
        "comments": "",
        "x": 1638.7498092651367,
        "y": 4653.690531253815,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "a14b82dd.38c208",
        "type": "switchNode",
        "name": "switch network-roles match?",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-network-role\n  == $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].network-role`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1945.4166069030762,
        "y": 5530.690890789032,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "2494ee9f.bc8212"
            ]
        ]
    },
    {
        "id": "2494ee9f.bc8212",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2143.7500762939453,
        "y": 5530.35804605484,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "3bc880a7.7c7"
            ]
        ]
    },
    {
        "id": "166a0b72.13f095",
        "type": "switchNode",
        "name": "switch network-roles match?",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].network-role\n  == $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].network-role`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1948.7499504089355,
        "y": 5690.357338428497,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "80e36ec5.5ba55"
            ]
        ]
    },
    {
        "id": "80e36ec5.5ba55",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2147.0834197998047,
        "y": 5690.024493694305,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "c3cb2479.7ecad"
            ]
        ]
    },
    {
        "id": "b48e64cd.c463c8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1852.0832328796387,
        "y": 6268.690758228302,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "13de43a5.0eac74",
                "894d30fc.6c6fa8"
            ]
        ]
    },
    {
        "id": "d8554d2f.59bf98",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1853.7499809265137,
        "y": 6583.690769672394,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "e604e329.ee375",
                "858d8d94.d7223"
            ]
        ]
    },
    {
        "id": "894d30fc.6c6fa8",
        "type": "for",
        "name": "for each vnfc-network-role",
        "xml": "<for silentFailure='true' index='vnfc-network-role-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2068.7501792907715,
        "y": 6327.02392911911,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "d95aac26.00788"
            ]
        ]
    },
    {
        "id": "293f99dd.5f58ce",
        "type": "save",
        "name": "save vip-ipv4-address-list relationship to cp",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"vip-ipv4-address-list:relationship-list\"\n   key=\"cloud-region.cloud-owner = $prop.cloud-region.cloud-owner\n\t  AND cloud-region.cloud-region-id = $vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region\n\t  AND vip-ipv4-address-list.vip-ipv4-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v4[$ipv4-index]\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"cp\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/vnfcs/vnfc/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n        + '/cps/cp/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-role-index].connection-point.connection-point-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2743.750102996826,
        "y": 6327.023767948151,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "c6a9ace1.4d8d28",
                "d61034fa.85a128"
            ]
        ]
    },
    {
        "id": "1dea203c.bdcd8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3135.583194732666,
        "y": 6300.341549396515,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "d7c74a1a.beb5d8",
                "80a87140.ea9ea8"
            ]
        ]
    },
    {
        "id": "3e76ca2.77ff2b6",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3135.5832710266113,
        "y": 6353.341308116913,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "c28e6997.1f3d58",
                "80a87140.ea9ea8"
            ]
        ]
    },
    {
        "id": "c6a9ace1.4d8d28",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2978.7500801086426,
        "y": 6300.357219219208,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "1dea203c.bdcd8"
            ]
        ]
    },
    {
        "id": "d61034fa.85a128",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2987.3216133117676,
        "y": 6352.976363658905,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "3e76ca2.77ff2b6"
            ]
        ]
    },
    {
        "id": "858d8d94.d7223",
        "type": "for",
        "name": "for each vnfc-network-role",
        "xml": "<for silentFailure='true' index='vnfc-network-role-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2070.416576385498,
        "y": 6650.357338428497,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "80024dde.cace28"
            ]
        ]
    },
    {
        "id": "31a049dc.dd1646",
        "type": "save",
        "name": "save vip-ipv6-address-list relationship to cp",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"vip-ipv6-address-list:relationship-list\"\n   key=\"cloud-region.cloud-owner = $prop.cloud-region.cloud-owner\n\t  AND cloud-region.cloud-region-id = $vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region\n\t  AND vip-ipv6-address-list.vip-ipv6-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v6[$ipv6-index]\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"cp\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/vnfcs/vnfc/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n        + '/cps/cp/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-role-index].connection-point.connection-point-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2740.416530609131,
        "y": 6648.690121173859,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "ad59cdcc.9349b",
                "dc37aace.1be328"
            ]
        ]
    },
    {
        "id": "622319e6.19aca",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3132.2496223449707,
        "y": 6622.007902622223,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "36c9fc6e.380a14",
                "80a87140.ea9ea8"
            ]
        ]
    },
    {
        "id": "204701e.e407afe",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3132.249698638916,
        "y": 6675.007661342621,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "544b9fc5.5e9118",
                "80a87140.ea9ea8"
            ]
        ]
    },
    {
        "id": "ad59cdcc.9349b",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2975.4165077209473,
        "y": 6622.023572444916,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "622319e6.19aca"
            ]
        ]
    },
    {
        "id": "dc37aace.1be328",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2983.9880409240723,
        "y": 6674.642716884613,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "204701e.e407afe"
            ]
        ]
    },
    {
        "id": "d95aac26.00788",
        "type": "switchNode",
        "name": "switch network-roles match?",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].network-role\n  == $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-role-index].vnfc-network-role`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2322.0832481384277,
        "y": 6327.023605823517,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "266513b0.222d24"
            ]
        ]
    },
    {
        "id": "266513b0.222d24",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2508.7500915527344,
        "y": 6327.0240931510925,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "293f99dd.5f58ce"
            ]
        ]
    },
    {
        "id": "80024dde.cace28",
        "type": "switchNode",
        "name": "switch network-roles match?",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].network-role\n  == $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-role-index].vnfc-network-role`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2318.749828338623,
        "y": 6648.690346240997,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "8380f403.103068"
            ]
        ]
    },
    {
        "id": "8380f403.103068",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2505.4166717529297,
        "y": 6648.690833568573,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "31a049dc.dd1646"
            ]
        ]
    },
    {
        "id": "13709f40.b0dd31",
        "type": "comment",
        "name": "SELF-SERVE FORK",
        "info": "",
        "comments": "",
        "x": 668.4642791748047,
        "y": 980.7976160049438,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "9402cf2e.405d98",
        "type": "comment",
        "name": "First, count the subnets for this address family",
        "info": "",
        "comments": "",
        "x": 2683.750385284424,
        "y": 3259.999761581421,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "1eaef579.28a94b",
        "type": "for",
        "name": "for each subnet-data",
        "xml": "<for index='subnet-data-index' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3057.0830726623535,
        "y": 3555.00026512146,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "f81ff23d.27228"
            ]
        ]
    },
    {
        "id": "f81ff23d.27228",
        "type": "switchNode",
        "name": "address-families match?",
        "xml": "<switch test='`$tmp.address-family\n  == $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].ip-version`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3283.749698638916,
        "y": 3555.00026512146,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "1dfe736f.13c30d"
            ]
        ]
    },
    {
        "id": "1dfe736f.13c30d",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3463.7496643066406,
        "y": 3555.0006713867188,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "a0b75caf.05a4b8"
            ]
        ]
    },
    {
        "id": "c57e7277.7bd328",
        "type": "set",
        "name": "set af-count to 0",
        "xml": "<set>\n<parameter name='af-count' value='0' />\n",
        "comments": "",
        "x": 2538.74995803833,
        "y": 3301.666513442993,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "720a597b.959368",
        "type": "set",
        "name": "increment af-count",
        "xml": "<set>\n<parameter name='af-count' value='`$af-count + 1`' />\n",
        "comments": "",
        "x": 3287.083324432373,
        "y": 3368.333263397217,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "717cbfcb.60aa08",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3103.749698638916,
        "y": 3349.999948501587,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "720a597b.959368",
                "43eee7db.7895f8"
            ]
        ]
    },
    {
        "id": "43eee7db.7895f8",
        "type": "set",
        "name": "set subnet-id",
        "xml": "<set>\n<parameter name='subnet-id' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].sdnc-subnet-id`' />\n",
        "comments": "",
        "x": 3268.749744415283,
        "y": 3323.333261489868,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "e8c75e3a.2af288",
        "type": "switchNode",
        "name": "switch af-count",
        "xml": "<switch test='`$af-count`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2528.7503700256348,
        "y": 3538.333430290222,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "99f37b56.de52d8",
                "e73c3edc.358018"
            ]
        ]
    },
    {
        "id": "99f37b56.de52d8",
        "type": "outcome",
        "name": "1",
        "xml": "<outcome value='1'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2688.7498893737793,
        "y": 3436.6665992736816,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "d4a48bee.739ff"
            ]
        ]
    },
    {
        "id": "d4a48bee.739ff",
        "type": "set",
        "name": "set subnet-id in vnfc-ip-assignments (temp variable)",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].subnet-id'\n  value='`$subnet-id`' />\n",
        "comments": "",
        "x": 2962.083194732666,
        "y": 3434.999948501587,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "e73c3edc.358018",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2688.7498054504395,
        "y": 3638.3335189819336,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "acd64f8.31711b"
            ]
        ]
    },
    {
        "id": "acd64f8.31711b",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2845.416446685791,
        "y": 3638.333200454712,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "6d454cd3.78a5d4",
                "1eaef579.28a94b",
                "7d510a16.18b73c",
                "b10f151c.168cf8"
            ]
        ]
    },
    {
        "id": "a0b75caf.05a4b8",
        "type": "switchNode",
        "name": "switch network-start-address",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].network-start-address`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3658.749843597412,
        "y": 3553.3335151672363,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "1bf1d0e2.e36047",
                "cd94efcc.38964"
            ]
        ]
    },
    {
        "id": "1bf1d0e2.e36047",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 3855.416690826416,
        "y": 3488.3331258296967,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "99644d7a.bf75f"
            ]
        ]
    },
    {
        "id": "cd94efcc.38964",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3848.5120887756348,
        "y": 3622.6190373897552,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "21b68063.f80dc8"
            ]
        ]
    },
    {
        "id": "21b68063.f80dc8",
        "type": "switchNode",
        "name": "switch cidr-mask",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].cidr-mask`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4003.7498817443848,
        "y": 3621.6662442684174,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "fa00bdc9.a6627",
                "9947b28e.9dc5c8"
            ]
        ]
    },
    {
        "id": "fa00bdc9.a6627",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 4158.74995803833,
        "y": 3551.6665437221527,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "4b26b087.3b6ee8"
            ]
        ]
    },
    {
        "id": "9947b28e.9dc5c8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4161.845754623413,
        "y": 3684.285630941391,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "5eed690e.75e0d"
            ]
        ]
    },
    {
        "id": "71f65fab.0bfe78",
        "type": "outcome",
        "name": "0",
        "xml": "<outcome value='0'>",
        "comments": "",
        "outputs": 1,
        "x": 2030.4165687561035,
        "y": 3158.333200454712,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "2652efe4.17e35"
            ]
        ]
    },
    {
        "id": "99644d7a.bf75f",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4000.416618347168,
        "y": 3488.3328931331635,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "eb5c8397.a45bb8",
                "776c97ba.8147"
            ]
        ]
    },
    {
        "id": "4b26b087.3b6ee8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4305.416473388672,
        "y": 3549.999760389328,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "fc16f81c.7c6f78",
                "776c97ba.8147"
            ]
        ]
    },
    {
        "id": "6d300a5b.ba10b4",
        "type": "comment",
        "name": "Ignore address families with no addresses",
        "info": "",
        "comments": "",
        "x": 2304.749942779541,
        "y": 3088.666696548462,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "b4920db5.4adea8",
        "type": "switchNode",
        "name": "switch invariant-uuid",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].invariant-uuid`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1275.4167823791504,
        "y": 4718.333074569702,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "7a26754a.276c24",
                "d9f734b6.69ca48"
            ]
        ]
    },
    {
        "id": "7a26754a.276c24",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 1457.083194732666,
        "y": 4694.999704360962,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "fabad9f4.62339"
            ]
        ]
    },
    {
        "id": "d9f734b6.69ca48",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1455.178466796875,
        "y": 4741.785531997681,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "27fb9162.23883e"
            ]
        ]
    },
    {
        "id": "fabad9f4.62339",
        "type": "save",
        "name": "save vnfc to A&AI",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"vnfc\" \n\tkey=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\" >\n<parameter name=\"vnfc-name\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name`\" />\n<parameter name=\"nfc-naming-code\" value=\"`$tmp.nfc-naming-code`\" />\n<parameter name=\"nfc-function\" value=\"`$tmp.nfc-function`\" />\n<parameter name=\"orchestration-status\" value=\"`PendingCreate`\" />\n<parameter name=\"in-maint\" value=\"true\" />\n<parameter name=\"prov-status\" value=\"`PREPROV`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1618.7498207092285,
        "y": 4696.666696548462,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "868ff022.340b98",
                "ffd5f8ec.0567b8"
            ]
        ]
    },
    {
        "id": "c898c24a.580b38",
        "type": "switchNode",
        "name": "switch input cloud-owner",
        "xml": "<switch test='`$vf-module-topology-operation-input.vf-module-request-input.cloud-owner`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 534.4641799926758,
        "y": 370.65472507476807,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "d73457ea.37ab9",
                "6797655b.baa904"
            ]
        ]
    },
    {
        "id": "d73457ea.37ab9",
        "type": "other",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 717.7975540161133,
        "y": 340.65471363067627,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "9bb2dda8.01ca"
            ]
        ]
    },
    {
        "id": "6797655b.baa904",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 717.5594596862793,
        "y": 381.6072072982788,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "9234ef6d.241d1"
            ]
        ]
    },
    {
        "id": "9bb2dda8.01ca",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 852.7975082397461,
        "y": 338.9880533218384,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "9234ef6d.241d1",
        "type": "set",
        "name": "set prop.cloud-region.cloud-owner",
        "xml": "<set>\n<parameter name='prop.cloud-region.cloud-owner' value='`$vf-module-topology-operation-input.vf-module-request-input.cloud-owner`' />\n",
        "comments": "",
        "x": 934.4641647338867,
        "y": 380.65473461151123,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "1c7fb5.59a3f84c",
        "type": "call",
        "name": "call self-serve-vf-module-forking-logic",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='self-serve-vf-module-forking-logic' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 566.0515518188477,
        "y": 922.0480556488037,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "b6b98c0f.723cc",
        "type": "switchNode",
        "name": "switch ss.self-serve-flag",
        "xml": "<switch test=\"`$ss.self-serve-flag`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 524.1942901611328,
        "y": 1149.0481243133545,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "59d270dd.f3c1e8",
                "8bf6a845.048568"
            ]
        ]
    },
    {
        "id": "59d270dd.f3c1e8",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 744.9084892272949,
        "y": 1266.619023323059,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "baa8437c.25e1b8"
            ]
        ]
    },
    {
        "id": "8bf6a845.048568",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 745.4799423217773,
        "y": 1025.4766607284546,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "db1a468e.7788a8"
            ]
        ]
    },
    {
        "id": "9c8cd2b7.3976",
        "type": "call",
        "name": "call check for VNF-API-preload and copy",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='gw-vfmodule-update' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 577.2499771118164,
        "y": 7328.250926017761,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "2cd014f8.89c45c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 899.9999465942383,
        "y": 499.6302671432495,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "17ae6133.298a4f",
                "f76370fa.76e25"
            ]
        ]
    },
    {
        "id": "f76370fa.76e25",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"If svc-action is 'assign' then request-action must be 'CreateVfModuleInstance'\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1087.9166297912598,
        "y": 483.2612452507019,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "4ce3fcce.f74dc4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1002.2022514343262,
        "y": 548.1183609962463,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "cebd6bbd.ea16b8",
                "17ae6133.298a4f"
            ]
        ]
    },
    {
        "id": "cebd6bbd.ea16b8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error reading VF_MODULE_MODEL table\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1199.5236549377441,
        "y": 526.6540603637695,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "fab4e00d.38c2c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1016.4879570007324,
        "y": 593.2612137794495,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "4b322c05.bb0ec4",
                "17ae6133.298a4f"
            ]
        ]
    },
    {
        "id": "4b322c05.bb0ec4",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'No model found for VF module customization UUID ' + $vf-module-topology-operation-input.vf-module-information.onap-model-information.model-customization-uuid`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1211.130844116211,
        "y": 570.2255001068115,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "46846d2b.f5bdb4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 978.09521484375,
        "y": 721.3326950073242,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "f8909b7d.421718",
                "17ae6133.298a4f"
            ]
        ]
    },
    {
        "id": "f8909b7d.421718",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"There are no VNFs defined in MD-SAL\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1185.059471130371,
        "y": 692.3684196472168,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "1c165b04.08dcfd",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 842.3809204101562,
        "y": 829.3326950073242,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "6fe49c98.8f785c",
                "17ae6133.298a4f"
            ]
        ]
    },
    {
        "id": "6fe49c98.8f785c",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Unable to find VNF ID ' + $vf-module-topology-operation-input.vnf-information.vnf-id + ' in MD-SAL'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1044.34521484375,
        "y": 804.6898641586304,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "d482ff58.9f58",
        "type": "call",
        "name": "call self-serve-vf-module-assign",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='self-serve-vf-module-assign' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1167.3325843811035,
        "y": 938.1062259674072,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "af08f147.3d47b"
            ]
        ]
    },
    {
        "id": "af08f147.3d47b",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1387.6301651000977,
        "y": 937.5942573547363,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "e6f76583.50a94"
            ]
        ]
    },
    {
        "id": "913524f0.a24d18",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 1120.035255432129,
        "y": 1183.3677835464478,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "5ec5bf2c.260a68",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/ss-vnfend.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 1106.2494659423828,
        "y": 1029.1094017028809,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "466d3f00.f97948",
        "type": "set",
        "name": "set order-status to PendingCreate",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-level-oper-status.order-status'\n  value='PendingCreate' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-level-oper-status.last-rpc-action'\n  value='`$vf-module-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-level-oper-status.last-action'\n  value='`$vf-module-topology-operation-input.request-information.request-action`' />\n",
        "comments": "",
        "x": 1175.2732276916504,
        "y": 983.070255279541,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "db1a468e.7788a8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 916.3686981201172,
        "y": 1024.5700874328613,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "d482ff58.9f58",
                "466d3f00.f97948",
                "5ec5bf2c.260a68",
                "913524f0.a24d18",
                "66988d35.e7dc64",
                "5e93cf2d.c6c3c8"
            ]
        ]
    },
    {
        "id": "17ae6133.298a4f",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1626.5477752685547,
        "y": 1205.9046697616577,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "4fa6b8ce.4f949",
                "fc20e099.660f1"
            ]
        ]
    },
    {
        "id": "e6f76583.50a94",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1533.6308898925781,
        "y": 936.9756126403809,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "24b1ca67.3521be",
                "17ae6133.298a4f"
            ]
        ]
    },
    {
        "id": "24b1ca67.3521be",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Failed to create self-serve assignment for vf-module with vf-module-id=' + $vf-module-topology-operation-input.vf-module-information.vf-module-id + ' with error: ' + $error-message`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1731.3096466064453,
        "y": 916.2613220214844,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "fe3bca20.350d5",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'VF module id ' + $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-id\n       + ' already exists, and status is ' + $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-data.vf-module-level-oper-status.order-status`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2438.75,
        "y": 1435.4688329696655,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "a646058c.4e086",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2244.821090698242,
        "y": 1454.9331216812134,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "fe3bca20.350d5",
                "a1d28791.d25048"
            ]
        ]
    },
    {
        "id": "974c35b5.13a3f",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 949.8213195800781,
        "y": 1672.5997638702393,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "bc1d3d3e.4a0728",
                "a1d28791.d25048"
            ]
        ]
    },
    {
        "id": "bb13f81e.dfb888",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 951.4880065917969,
        "y": 1715.9331378936768,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "d05b395f.7554f",
                "a1d28791.d25048"
            ]
        ]
    },
    {
        "id": "bc1d3d3e.4a0728",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Cloud region not found in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1153.749984741211,
        "y": 1649.385540008545,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "d05b395f.7554f",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error retrieving cloud region from AAI.  Is AAI down?\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1149.1667251586914,
        "y": 1697.718876838684,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "b4230289.b09758",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 834.4045333862305,
        "y": 1896.5998163223267,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "344a4afd.66ac8e",
                "a1d28791.d25048"
            ]
        ]
    },
    {
        "id": "344a4afd.66ac8e",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Unable to find aic-clli in AAI for aic-cloud-region ' + $vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1027.0831909179688,
        "y": 1869.3855466842651,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "a1d28791.d25048",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1628.571434020996,
        "y": 2157.5405530929565,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "68a61922.428eb",
                "e787becc.7c5fd8"
            ]
        ]
    },
    {
        "id": "e8c3b75c.ffe9a8",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-assign-rollback",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-assign-rollback' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2743.749900817871,
        "y": 2645.774143218994,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "7f10ff23.aff7b",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2361.011390686035,
        "y": 2696.1913537979126,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "e8c3b75c.ffe9a8",
                "a2e907fb.0fd028",
                "4b5390c7.288b"
            ]
        ]
    },
    {
        "id": "e46d8895.35201",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2922.083194732666,
        "y": 2336.52436542511,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "6edf118.3d35b7",
                "7f10ff23.aff7b"
            ]
        ]
    },
    {
        "id": "6edf118.3d35b7",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'from-preload flag is true but could not find preload information for VF module name ' + $vf-module-topology-operation-input.vf-module-request-input.vf-module-name`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3121.666435241699,
        "y": 2303.1673097610474,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "d8394791.5ebab8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2093.987747192383,
        "y": 2484.107672691345,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "a50aee54.5db5e",
                "7f10ff23.aff7b"
            ]
        ]
    },
    {
        "id": "a50aee54.5db5e",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error retrieving preload-information\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2299.999855041504,
        "y": 2458.7504091262817,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "c2ebbe0a.a48898",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-assign-rollback",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-assign-rollback' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4167.0835037231445,
        "y": 4524.2463722229,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "776c97ba.8147",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3779.3447189331055,
        "y": 4570.9133133888245,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "c2ebbe0a.a48898",
                "a3b18855.dda788",
                "9834e06e.f39e3"
            ]
        ]
    },
    {
        "id": "bea780a5.f370a8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'VNFC network role '\n      + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-network-role\n      + ' is not found in VNF network list'\n      `\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1862.0833053588867,
        "y": 2967.7189245224,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "eb5c8397.a45bb8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'SDNC subnet id '\n      + $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].sdnc-subnet-id\n      + ' does not have network-start-address populated'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 4191.666793823242,
        "y": 3443.4130017757416,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "fc16f81c.7c6f78",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'SDNC subnet id '\n      + $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].sdnc-subnet-id\n      + ' does not have cidr-mask populated'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 4506.666816711426,
        "y": 3520.9130086898804,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "3a11036f.3fc69c",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Not able to find VNF network subnet that contains address '\n      + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[0].vnfc-ip-address\n      `\" />",
        "comments": "",
        "outputs": 1,
        "x": 3554.1667709350586,
        "y": 3640.913025856018,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "2e04ce34.b69242",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error reading VFC_RELATED_NETWORK_ROLE table\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1994.8610229492188,
        "y": 3877.441393852234,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "da8aad89.31dd28",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Unable to find related network '\n      + $db.vnf-related-network-role[$db-related-network-index].related-network-role + ' in vnf-networks'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2802.361083984375,
        "y": 4062.4411420822144,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "961a762e.b806d8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error saving vnfc to AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2178.749931335449,
        "y": 4685.080783843994,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "bcfa50.5b5cbdb",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-assign-rollback",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-assign-rollback' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3655.555419921875,
        "y": 5880.0813245773315,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "53c51859.8f2058",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3269.066909790039,
        "y": 5922.998537063599,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "bcfa50.5b5cbdb",
                "d60bbd6e.0f4b48",
                "c6cb1743.cb898"
            ]
        ]
    },
    {
        "id": "a946b36b.26d71",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error updating vnfc relationships in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1816.091293334961,
        "y": 4798.829997062683,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "8acbbfb.91cf84",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Not-found error updating vnfc relationships\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1815.5556144714355,
        "y": 4855.794563293457,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "9d37e45d.b2b17",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error saving cp object to AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2258.0556240081787,
        "y": 5025.080264091492,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "91c0d3db.ebd33",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error updating cp relationship to l3-network in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2913.0556869506836,
        "y": 5477.3025188446045,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "2b0409fe.5eb50e",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error updating cp relationship to l3-network\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2915.5556869506836,
        "y": 5539.802521705627,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "6be75e23.fe0cc8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating cp relationship to l3-network and vlan-tag in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3244.1272888183594,
        "y": 5637.302535057068,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "404a23f0.0971fc",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error updating cp relationship to l3-network and vlan-tag\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3246.6273880004883,
        "y": 5699.802536010742,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "c9cbacd5.c19188",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error creating l3-interface-ipv4-address-list object in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3935.9729919433594,
        "y": 5108.552491188049,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "7dd0da25.d3ccfc",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating l3-interface-ipv4-address-list relationships in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3933.4729919433594,
        "y": 5187.302496910095,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "468b5a03.5d976c",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error updating l3-interface-ipv4-address-list relationships\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3935.972724914551,
        "y": 5247.302503585815,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "a2d763b4.1829c8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error creating l3-interface-ipv6-address-list object in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3939.7227325439453,
        "y": 5297.302508354187,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "5b880b05.e3e9bc",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating l3-interface-ipv6-address-list relationships in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3938.4724655151367,
        "y": 5358.55251121521,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "b0bd1d84.04",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error updating l3-interface-ipv6-address-list relationships\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3939.7224655151367,
        "y": 5418.552512168884,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "cf22374a.6f001",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-assign-rollback",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-assign-rollback' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4349.722400665283,
        "y": 5544.802440643311,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "d9c790eb.91fae",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3969.48388671875,
        "y": 5589.469653129578,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "cf22374a.6f001",
                "cc902acc.08ea5",
                "9b35be62.63ba28"
            ]
        ]
    },
    {
        "id": "b020c8f6.939c58",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-assign-rollback",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-assign-rollback' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3773.1943130493164,
        "y": 7009.2466859817505,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "80a87140.ea9ea8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3385.455535888672,
        "y": 7059.6633558273315,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "b020c8f6.939c58",
                "633530af.a7a188",
                "a3637eed.ade91"
            ]
        ]
    },
    {
        "id": "544b9fc5.5e9118",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error updating vip-ipv4-address-list relationship to cp\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3323.194606781006,
        "y": 6647.996903419495,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "36c9fc6e.380a14",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating vip-ipv4-address-list relationship to cp in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3316.9448776245117,
        "y": 6584.247437477112,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "c28e6997.1f3d58",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error updating vip-ipv4-address-list relationship to cp\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3328.194610595703,
        "y": 6335.49688243866,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "d7c74a1a.beb5d8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating vip-ipv4-address-list relationship to cp in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3328.1948776245117,
        "y": 6274.2474184036255,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "df22df3e.1dd298",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error updating vip-ipv6-address-list relationships\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2695.6945724487305,
        "y": 6535.4968938827515,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "fabe0a78.603888",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating vip-ipv6-address-list relationships in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2694.444564819336,
        "y": 6477.997429847717,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "7a2126ed.822348",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error saving vip-ipv6-address-list\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2358.194549560547,
        "y": 6421.746886253357,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "3ac13c99.2746ec",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error saving vip-ipv6-address-list in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2358.194549560547,
        "y": 6367.996883392334,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "41358f15.11788",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error updating vip-ipv4-address-list relationships\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2704.444568634033,
        "y": 6210.496874809265,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "b2979bec.ffc38",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating vip-ipv4-address-list relationships in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2705.6945724487305,
        "y": 6152.996870994568,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "7d3c5027.8588d8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error saving vip-ipv4-address-list\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2361.944549560547,
        "y": 6109.246867179871,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "d1ef61f4.04b9b8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error saving vip-ipv4-address-list in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2358.194549560547,
        "y": 6041.746863365173,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "5f2e67de.b98e08",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'No l3-network found in AAI for network ID '\n      + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].network-id`\" />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1855.6945152282715,
        "y": 5966.74686050415,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "56b701fd.1076",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating vf-module relationships in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1856.9445114135742,
        "y": 5907.996852397919,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "cd5f210d.f3fd4",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating vf-module in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1008.7499694824219,
        "y": 4338.830560684204,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "727c768e.53c37",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"`'No vf-module found in AAI for vf module ID ' + $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1012.4999694824219,
        "y": 4415.080563545227,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "1bbf14f4.7ed473",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/bgb-vfmodule.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 396.07335662841797,
        "y": 7976.709958553314,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "61b7c587.3011c4",
        "type": "execute",
        "name": "execute RestApiCallNode - PUT vf-module",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + 'vf-module-assign.json'`\" />\n    <parameter name='restapiUrl' value=\"`$prop.controller.url + $tmp.vf-module.url`\" />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"vf-module-assign\" />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 493.406494140625,
        "y": 7835.908839225769,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "be3ad74f.ce7048",
                "1a48fd9d.df382a"
            ]
        ]
    },
    {
        "id": "be3ad74f.ce7048",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 774.1906661987305,
        "y": 7856.604918003082,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "1a97060.c08a3fa"
            ]
        ]
    },
    {
        "id": "1a48fd9d.df382a",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 766.6193008422852,
        "y": 7815.104938030243,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "1a97060.c08a3fa"
            ]
        ]
    },
    {
        "id": "1a97060.c08a3fa",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 975.5494117736816,
        "y": 7835.273898601532,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "8356fc73.715b18",
                "a58ccc12.88c6e"
            ]
        ]
    },
    {
        "id": "15f7b566.0f5b13",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-assign-rollback",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-assign-rollback' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1729.799659729004,
        "y": 7977.442268848419,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "a58ccc12.88c6e",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1348.846908569336,
        "y": 8029.465925693512,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "15f7b566.0f5b13",
                "9457ae18.f65da",
                "694c6724.cb61b8"
            ]
        ]
    },
    {
        "id": "8356fc73.715b18",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error doing PUT of vf-module\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1180.0498275756836,
        "y": 7807.798912525177,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "d6633ccf.8b0fc",
        "type": "comment",
        "name": "This should have been removed from Dublin",
        "info": "",
        "comments": "",
        "x": 648.7499771118164,
        "y": 7297.302031517029,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "7ae99515.fe481c",
        "type": "set",
        "name": "Initialize SO 500 reponse params",
        "xml": "<set>\n<parameter name=\"so.ack-final-indicator\" value=\"Y\" />\n<parameter name=\"so.response-code\" value=\"500\" />\n<parameter name=\"so.notification-url\" value=\"`$vf-module-topology-operation-input.sdnc-request-header.svc-notification-url`\" />\n<parameter name=\"so.svc-request-id\" value=\"`$vf-module-topology-operation-input.sdnc-request-header.svc-request-id`\" />\n<parameter name=\"so.service-type\" value=\"`$vf-module-topology-operation-input.service-information.subscription-service-type`\" />\n<parameter name=\"so.service-instance-id\" value=\"`$vf-module-topology-operation-input.service-information.service-instance-id`\" />",
        "comments": "",
        "x": 564.9999160766602,
        "y": 282.0242910385132,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "4fa6b8ce.4f949",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1933.749855041504,
        "y": 1184.3854932785034,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "68a61922.428eb",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1941.249900817871,
        "y": 2136.6077127456665,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "5e93cf2d.c6c3c8",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1229.9998779296875,
        "y": 1132.3020362854004,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "66988d35.e7dc64",
        "type": "set",
        "name": "set so.reponse-code = 200",
        "xml": "<set>\n<parameter name=\"so.response-code\" value=\"200\" />\n",
        "comments": "",
        "x": 1158.749900817871,
        "y": 1076.0520486831665,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "a2e907fb.0fd028",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2686.2498817443848,
        "y": 2696.3300075531006,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "a3b18855.dda788",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4108.888816833496,
        "y": 4571.8853006362915,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "cc902acc.08ea5",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4291.388854980469,
        "y": 5588.691195487976,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "d60bbd6e.0f4b48",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3592.638816833496,
        "y": 5925.4966287612915,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "633530af.a7a188",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3712.638816833496,
        "y": 7059.5244607925415,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "9457ae18.f65da",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1670.6943054199219,
        "y": 8030.219509601593,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "6ba091e6.3c89c8",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 514.4444274902344,
        "y": 8083.971009731293,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "e3854239.8c5bc",
        "type": "set",
        "name": "set so.reponse-code = 200",
        "xml": "<set>\n<parameter name=\"so.response-code\" value=\"200\" />\n",
        "comments": "",
        "x": 444.4444274902344,
        "y": 8029.942265033722,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "694c6724.cb61b8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 1551.9443664550781,
        "y": 8078.969213008881,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "a3637eed.ade91",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 3592.360984802246,
        "y": 7108.1353006362915,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "c6cb1743.cb898",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 3471.110984802246,
        "y": 5970.7744607925415,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "9b35be62.63ba28",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 4174.860984802246,
        "y": 5633.2744607925415,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "9834e06e.f39e3",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 3989.860984802246,
        "y": 4616.0522928237915,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "4b5390c7.288b",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 2569.999900817871,
        "y": 2742.4409646987915,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "e787becc.7c5fd8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 1822.499900817871,
        "y": 2178.2742166519165,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "fc20e099.660f1",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 1813.749900817871,
        "y": 1227.024338722229,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "baa5be49.ab6d",
        "type": "set",
        "name": "copy vf-module data",
        "xml": "<set>\n<parameter name='vf-module-data.'\n  value='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.' />\n",
        "comments": "",
        "x": 413.07117462158203,
        "y": 7480.457427024841,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "52864b32.4b391c",
        "type": "execute",
        "name": "generate vf-module URL (sub service-instance-id)",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.vf-module`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.part\"/>\n    <parameter name=\"target\" value=\"{service-instance-id}\"/>\n    <parameter name=\"replacement\" value=\"`$service-data.service-topology.service-topology-identifier.service-instance-id`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 512.1782150268555,
        "y": 7564.745085716248,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "d4badadb.5d21b",
        "type": "execute",
        "name": "generate vf-module URL (sub vnf-id)",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.part`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.part\"/>\n    <parameter name=\"target\" value=\"{vnf-id}\"/>\n    <parameter name=\"replacement\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-id`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 466.82102966308594,
        "y": 7609.92303943634,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "2a9cacce.12489c",
        "type": "execute",
        "name": "generate vf-module URL (sub vf-module-id)",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.part`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.vf-module.url\"/>\n    <parameter name=\"target\" value=\"{vf-module-id}\"/>\n    <parameter name=\"replacement\" value=\"`$vf-module-topology-operation-input.vf-module-information.vf-module-id`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 491.9996871948242,
        "y": 7656.530030250549,
        "z": "9eed85f3.ca0c5",
        "wires": [
            []
        ]
    },
    {
        "id": "2372762f.a77b6a",
        "type": "comment",
        "name": "'New' version of DG, called for flows where SO expects async response (so-bpmn-infra)",
        "info": "",
        "comments": "",
        "x": 447.99998474121094,
        "y": 75.99999618530273,
        "z": "9eed85f3.ca0c5",
        "wires": []
    },
    {
        "id": "dba7b6d3.68f8d8",
        "type": "switchNode",
        "name": "switch input.vf-module-request-input.cloud-owner not null",
        "xml": "<switch test=\"`$input.vf-module-request-input.cloud-owner != ''`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 635,
        "y": 235,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "f01c395b.e6f6e"
            ]
        ]
    },
    {
        "id": "f01c395b.e6f6e",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 932,
        "y": 235,
        "z": "9eed85f3.ca0c5",
        "wires": [
            [
                "8a8f8c27.fd236"
            ]
        ]
    },
    {
        "id": "8a8f8c27.fd236",
        "type": "set",
        "name": "set prop.cloud-region.cloud-owner to input.vf-module-request-input.cloud-owner",
        "xml": "<set>\n<parameter name='prop.cloud-region.cloud-owner' value='`$input.vf-module-request-input.cloud-owner`' />\n",
        "comments": "",
        "x": 1303,
        "y": 231,
        "z": "9eed85f3.ca0c5",
        "wires": []
    }
]