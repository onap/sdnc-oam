[{"id":"2f8b1d9a.ab851a","type":"dgstart","name":"DGSTART","outputs":1,"x":149.5,"y":208,"z":"c08d0361.c1fec","wires":[["bf2ced21.d5c"]]},{"id":"bf2ced21.d5c","type":"service-logic","name":"GENERIC-RESOURCE-API ${project.version}","module":"GENERIC-RESOURCE-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>","outputs":1,"x":248.28570556640625,"y":282.23810386657715,"z":"c08d0361.c1fec","wires":[["da33b929.dd5d48"]]},{"id":"da33b929.dd5d48","type":"method","name":"validate-tunnelxconn-input","xml":"<method rpc='validate-tunnelxconn-input' mode='sync'>\n","comments":"","outputs":1,"x":277.1786193847656,"y":353.16669368743896,"z":"c08d0361.c1fec","wires":[["55b42c99.a5706c"]]},{"id":"55b42c99.a5706c","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":319.2500457763672,"y":626.4434947967529,"z":"c08d0361.c1fec","wires":[["28742a55.d311c6","b8f93651.971f88","ff0fbc34.e5202","e6dab746.3ce568","9a056511.a51ba"]]},{"id":"28742a55.d311c6","type":"switchNode","name":"switch svc-request-id","xml":"<switch test='`$tunnelxconn-topology-operation-input.sdnc-request-header.svc-request-id`'>\n","comments":"","outputs":1,"x":654.3095703125,"y":111.09528064727783,"z":"c08d0361.c1fec","wires":[["958c0c61.fda4b"]]},{"id":"958c0c61.fda4b","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":884.0238554818288,"y":109.09527737753706,"z":"c08d0361.c1fec","wires":[["379d0d50.73d9ca"]]},{"id":"379d0d50.73d9ca","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"sdnc-request-header.svc-request-id is a required input\" />\n","comments":"","x":1035.4523620605469,"y":105.76194381713867,"z":"c08d0361.c1fec","wires":[]},{"id":"b8f93651.971f88","type":"switchNode","name":"switch svc-action","xml":"<switch test='`$tunnelxconn-topology-operation-input.sdnc-request-header.svc-action`'>\n","comments":"","outputs":1,"x":646.8809204101562,"y":64.66667938232422,"z":"c08d0361.c1fec","wires":[["ae8ab228.ab1a3"]]},{"id":"ae8ab228.ab1a3","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":882.5952758789062,"y":66.23810291290283,"z":"c08d0361.c1fec","wires":[["cf01cddc.2e1f7"]]},{"id":"cf01cddc.2e1f7","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"sdnc-request-header.svc-action is a required input\" />\n","comments":"","x":1032.5952491760254,"y":66.238112449646,"z":"c08d0361.c1fec","wires":[]},{"id":"2b339e36.8a2812","type":"comment","name":"validate-tunnelxconn-input - CHANGELOG","info":"3/22: Initial release 1.0.0","comments":"","x":162.5,"y":112,"z":"c08d0361.c1fec","wires":[]},{"id":"ff0fbc34.e5202","type":"switchNode","name":"switch svc-action","xml":"<switch test='`$tunnelxconn-topology-operation-input.sdnc-request-header.svc-action`'>\n","comments":"","outputs":1,"x":559.1666603088379,"y":632.000036239624,"z":"c08d0361.c1fec","wires":[["c3d0f0a0.39da5","b563c03f.3832f","5fa45c86.c51ac4","bbf811e.7be627","30f25c1d.144b84","93622f83.2756c"]]},{"id":"c3d0f0a0.39da5","type":"other","name":"assign","xml":"<outcome value='assign'>","comments":"","outputs":1,"x":820.2143630981445,"y":467.57146644592285,"z":"c08d0361.c1fec","wires":[["e8516b3a.0fdb2"]]},{"id":"b563c03f.3832f","type":"other","name":"activate","xml":"<outcome value='activate'>","comments":"","outputs":1,"x":840.4999694824219,"y":655.0000305175781,"z":"c08d0361.c1fec","wires":[["98b20158.6dbe78"]]},{"id":"5fa45c86.c51ac4","type":"other","name":"deactivate","xml":"<outcome value='deactivate'>","comments":"","outputs":1,"x":847.4999694824219,"y":745.0000305175781,"z":"c08d0361.c1fec","wires":[["fcbd032a.f083d"]]},{"id":"bbf811e.7be627","type":"other","name":"unassign","xml":"<outcome value='unassign'>","comments":"","outputs":1,"x":828.4998321533203,"y":912.3333578109741,"z":"c08d0361.c1fec","wires":[["b62d7269.ffd568"]]},{"id":"e8516b3a.0fdb2","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":1018.5238189697266,"y":465.7262649536133,"z":"c08d0361.c1fec","wires":[["4cf017bd.9c50a","ef78b4aa.1786b","23634590.c34862","9f19675f.aa1a1","b8060244.131a7","5bb17440.76108c"]]},{"id":"98b20158.6dbe78","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":1018.7500152587891,"y":654.750072479248,"z":"c08d0361.c1fec","wires":[["23634590.c34862","b8060244.131a7"]]},{"id":"fcbd032a.f083d","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":1019.7500305175781,"y":746.0000743865967,"z":"c08d0361.c1fec","wires":[["23634590.c34862","b8060244.131a7"]]},{"id":"b62d7269.ffd568","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":1017.4998931884766,"y":912.8333883285522,"z":"c08d0361.c1fec","wires":[["23634590.c34862"]]},{"id":"4cf017bd.9c50a","type":"switchNode","name":"switch brg-wan-mac-address","xml":"<switch test='`$tunnelxconn-topology-operation-input.brg-wan-mac-address`'>\n","comments":"","outputs":1,"x":1425.6190185546875,"y":460.2976379394531,"z":"c08d0361.c1fec","wires":[["e9e09452.4fe688"]]},{"id":"e9e09452.4fe688","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1633.618896484375,"y":460.107177734375,"z":"c08d0361.c1fec","wires":[["5dfcedf9.eaa5fc"]]},{"id":"5dfcedf9.eaa5fc","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"tunnelxconn-topology-operation-input.brg-wan-mac-address is a required input\" />\n","comments":"","x":1848.8095703125,"y":456.1071472167969,"z":"c08d0361.c1fec","wires":[]},{"id":"5bb17440.76108c","type":"switchNode","name":"switch onap-model-information.model-customization-uuid","xml":"<switch test='`$tunnelxconn-topology-operation-input.allotted-resource-information.onap-model-information.model-customization-uuid`'>\n","comments":"","outputs":1,"x":1581.6072998046875,"y":374.0000915527344,"z":"c08d0361.c1fec","wires":[["f24ac93d.d8461"]]},{"id":"f24ac93d.d8461","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1862.607177734375,"y":374.0000305175781,"z":"c08d0361.c1fec","wires":[["3837b467.eaa36c"]]},{"id":"3837b467.eaa36c","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"tunnelxconn-information.onap-model-information.model-customization-uuid is a required input\" />\n","comments":"","x":1981.0357055664062,"y":369.00003814697266,"z":"c08d0361.c1fec","wires":[]},{"id":"e6dab746.3ce568","type":"returnSuccess","name":"return success","xml":"<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n","comments":"","x":585.8571166992188,"y":1053.4999694824219,"z":"c08d0361.c1fec","wires":[]},{"id":"ef78b4aa.1786b","type":"get-resource","name":"get-resource AR_MODEL","xml":"<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='SELECT * from ALLOTTED_RESOURCE_MODEL WHERE customization_uuid = $tunnelxconn-topology-operation-input.allotted-resource-information.onap-model-information.model-customization-uuid'\n  pfx='ar-model'>\n\n","comments":"","outputs":1,"x":1411.802146911621,"y":588.2818689346313,"z":"c08d0361.c1fec","wires":[["b392ca6b.8d1418","83f15138.3fb0d8"]]},{"id":"6ca5192.30e0668","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'No alloted resource model found for model customization UUID ' + $tunnelxconn-topology-operation-input.allotted-resource-information.onap-model-information.model-customization-uuid`\" />\n","comments":"","x":1858.8854637145996,"y":576.4484224319458,"z":"c08d0361.c1fec","wires":[]},{"id":"b392ca6b.8d1418","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1660.1355438232422,"y":571.8056383132935,"z":"c08d0361.c1fec","wires":[["6ca5192.30e0668"]]},{"id":"83f15138.3fb0d8","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1653.8855438232422,"y":604.3056383132935,"z":"c08d0361.c1fec","wires":[["6ca5192.30e0668"]]},{"id":"9a056511.a51ba","type":"switchNode","name":"switch service-instance-id","xml":"<switch test='`$tunnelxconn-topology-operation-input.service-information.service-instance-id`'>\n","comments":"","outputs":1,"x":653.9285583496094,"y":339.85719299316406,"z":"c08d0361.c1fec","wires":[["ba76ef7b.0d7f6"]]},{"id":"ba76ef7b.0d7f6","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":870.3571472167969,"y":340.85719299316406,"z":"c08d0361.c1fec","wires":[["a8acc626.d7a2c"]]},{"id":"a8acc626.d7a2c","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"service-information.service-instance-id is a required input\" />\n","comments":"","x":1028.7856750488281,"y":339.85719299316406,"z":"c08d0361.c1fec","wires":[]},{"id":"30f25c1d.144b84","type":"other","name":"create","xml":"<outcome value='create'>","comments":"","outputs":1,"x":827.2777137756348,"y":552.9074087142944,"z":"c08d0361.c1fec","wires":[["ba2778d3.3a60e8"]]},{"id":"ba2778d3.3a60e8","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":1019.5276031494141,"y":548.9907321929932,"z":"c08d0361.c1fec","wires":[["23634590.c34862","b8060244.131a7"]]},{"id":"93622f83.2756c","type":"other","name":"delete","xml":"<outcome value='delete'>","comments":"","outputs":1,"x":840.611083984375,"y":829.5739946365356,"z":"c08d0361.c1fec","wires":[["72b18f16.a14f28"]]},{"id":"72b18f16.a14f28","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":1017.1111068725586,"y":827.5740489959717,"z":"c08d0361.c1fec","wires":[["23634590.c34862","b8060244.131a7"]]},{"id":"23634590.c34862","type":"switchNode","name":"switch allotted-resource-id","xml":"<switch test='`$tunnelxconn-topology-operation-input.allotted-resource-information.allotted-resource-id`'>\n","comments":"","outputs":1,"x":1507.7938537597656,"y":118.03967714309692,"z":"c08d0361.c1fec","wires":[["458aeb95.6d8efc"]]},{"id":"458aeb95.6d8efc","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1710.8296146392822,"y":122.86111831665039,"z":"c08d0361.c1fec","wires":[["2f7031d7.ca8d76"]]},{"id":"2f7031d7.ca8d76","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"allotted-resource-information.allotted-resource-id is a required input\" />\n","comments":"","x":1896.0080833435059,"y":118.11111831665039,"z":"c08d0361.c1fec","wires":[]},{"id":"9f19675f.aa1a1","type":"switchNode","name":"switch allotted-resource-type","xml":"<switch test='`$tunnelxconn-topology-operation-input.allotted-resource-information.allotted-resource-type`'>\n","comments":"","outputs":1,"x":1511.7224349975586,"y":186.98810291290283,"z":"c08d0361.c1fec","wires":[["a573df4b.d2b7a8"]]},{"id":"a573df4b.d2b7a8","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1707.2578468322754,"y":186.80952644348145,"z":"c08d0361.c1fec","wires":[["d6dc873d.36537"]]},{"id":"d6dc873d.36537","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"allotted-resource-information.allotted-resource-type is a required input\" />\n","comments":"","x":1867.4363174438477,"y":185.80952644348145,"z":"c08d0361.c1fec","wires":[]},{"id":"b8060244.131a7","type":"switchNode","name":"switch parent-service-instance-id","xml":"<switch test='`$tunnelxconn-topology-operation-input.allotted-resource-information.parent-service-instance-id`'>\n","comments":"","outputs":1,"x":1527.0796127319336,"y":262.7023983001709,"z":"c08d0361.c1fec","wires":[["b38c7be2.1435f8"]]},{"id":"b38c7be2.1435f8","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1746.5437355041504,"y":262.3452482223511,"z":"c08d0361.c1fec","wires":[["e78ac273.3df9f"]]},{"id":"e78ac273.3df9f","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"allotted-resource-information.parent-service-instance-id is a required input\" />\n","comments":"","x":1897.9722023010254,"y":261.3452482223511,"z":"c08d0361.c1fec","wires":[]}]