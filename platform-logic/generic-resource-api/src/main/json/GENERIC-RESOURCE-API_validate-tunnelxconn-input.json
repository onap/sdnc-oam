[{"id":"368b0672.1be432","type":"dgstart","name":"DGSTART","outputs":1,"x":149.5,"y":289,"z":"dc39d835.96bdd8","wires":[["69a98a55.0b046c"]]},{"id":"69a98a55.0b046c","type":"service-logic","name":"GENERIC-RESOURCE-API ${project.version}","module":"GENERIC-RESOURCE-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>","outputs":1,"x":248.28570556640625,"y":363.23810386657715,"z":"dc39d835.96bdd8","wires":[["7ab244c3.e46244"]]},{"id":"7ab244c3.e46244","type":"method","name":"validate-tunnelxconn-input","xml":"<method rpc='validate-tunnelxconn-input' mode='sync'>\n","comments":"","outputs":1,"x":277.1786193847656,"y":434.16669368743896,"z":"dc39d835.96bdd8","wires":[["283bbfcd.ed6068"]]},{"id":"283bbfcd.ed6068","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":319.2500457763672,"y":707.4434947967529,"z":"dc39d835.96bdd8","wires":[["59bc0290.c7f034","10ce6be9.70a52c","308b15e6.44da62","147b9b93.45a634","38d40f5d.1f7d9"]]},{"id":"59bc0290.c7f034","type":"switchNode","name":"switch svc-request-id","xml":"<switch test='`$tunnelxconn-topology-operation-input.sdnc-request-header.svc-request-id`'>\n","comments":"","outputs":1,"x":654.3095703125,"y":192.09528064727783,"z":"dc39d835.96bdd8","wires":[["375a6f82.daaf68"]]},{"id":"375a6f82.daaf68","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":884.0238554818288,"y":190.09527737753706,"z":"dc39d835.96bdd8","wires":[["6294362.5d01a48"]]},{"id":"6294362.5d01a48","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"sdnc-request-header.svc-request-id is a required input\" />\n","comments":"","x":1035.4523620605469,"y":186.76194381713867,"z":"dc39d835.96bdd8","wires":[]},{"id":"10ce6be9.70a52c","type":"switchNode","name":"switch svc-action","xml":"<switch test='`$tunnelxconn-topology-operation-input.sdnc-request-header.svc-action`'>\n","comments":"","outputs":1,"x":646.8809204101562,"y":145.66667938232422,"z":"dc39d835.96bdd8","wires":[["79f66b28.48c23c"]]},{"id":"79f66b28.48c23c","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":882.5952758789062,"y":147.23810291290283,"z":"dc39d835.96bdd8","wires":[["1afe2bb9.fad974"]]},{"id":"1afe2bb9.fad974","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"sdnc-request-header.svc-action is a required input\" />\n","comments":"","x":1032.5952491760254,"y":147.238112449646,"z":"dc39d835.96bdd8","wires":[]},{"id":"45808300.fdad84","type":"comment","name":"validate-tunnelxconn-input - CHANGELOG","info":"3/22: Initial release 1.0.0","comments":"","x":162.5,"y":193,"z":"dc39d835.96bdd8","wires":[]},{"id":"308b15e6.44da62","type":"switchNode","name":"switch svc-action","xml":"<switch test='`$tunnelxconn-topology-operation-input.sdnc-request-header.svc-action`'>\n","comments":"","outputs":1,"x":559.1666603088379,"y":713.000036239624,"z":"dc39d835.96bdd8","wires":[["979e6455.cfc31","5ae75bf1.ec81bc","f24f51df.2e9bf8","3cdf8f95.4923c","9dc2e13c.b38008","5b47f09e.898778"]]},{"id":"979e6455.cfc31","type":"other","name":"assign","xml":"<outcome value='assign'>","comments":"","outputs":1,"x":820.2143630981445,"y":548.5714664459229,"z":"dc39d835.96bdd8","wires":[["b16e483a.17ddc8"]]},{"id":"5ae75bf1.ec81bc","type":"other","name":"activate","xml":"<outcome value='activate'>","comments":"","outputs":1,"x":840.4999694824219,"y":736.0000305175781,"z":"dc39d835.96bdd8","wires":[["865a4fc7.17712"]]},{"id":"f24f51df.2e9bf8","type":"other","name":"deactivate","xml":"<outcome value='deactivate'>","comments":"","outputs":1,"x":847.4999694824219,"y":826.0000305175781,"z":"dc39d835.96bdd8","wires":[["919509c2.2756a8"]]},{"id":"3cdf8f95.4923c","type":"other","name":"unassign","xml":"<outcome value='unassign'>","comments":"","outputs":1,"x":828.4998321533203,"y":993.3333578109741,"z":"dc39d835.96bdd8","wires":[["2eb26867.63f26"]]},{"id":"b16e483a.17ddc8","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":1018.5238189697266,"y":546.7262649536133,"z":"dc39d835.96bdd8","wires":[["bdcd3bcd.70d368","ead921b4.5c7498","7bf99760.d366f8","c994f413.2cb5e8","7840e223.6ecc1c","fc66f195.4287e8","234eec8e.262704","19b1d290.d22cfd"]]},{"id":"865a4fc7.17712","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":1018.7500152587891,"y":735.750072479248,"z":"dc39d835.96bdd8","wires":[["c994f413.2cb5e8","fc66f195.4287e8"]]},{"id":"919509c2.2756a8","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":1019.7500305175781,"y":827.0000743865967,"z":"dc39d835.96bdd8","wires":[["c994f413.2cb5e8","fc66f195.4287e8"]]},{"id":"2eb26867.63f26","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":1017.4998931884766,"y":993.8333883285522,"z":"dc39d835.96bdd8","wires":[["c994f413.2cb5e8"]]},{"id":"bdcd3bcd.70d368","type":"switchNode","name":"switch vlan-tag","xml":"<switch test='`$tunnelxconn-topology-operation-input.tunnelxconn-request-input.vlan-tag`'>\n","comments":"","outputs":1,"x":1406.619041442871,"y":502.29764556884766,"z":"dc39d835.96bdd8","wires":[["5e3ed0b0.de93f8"]]},{"id":"5e3ed0b0.de93f8","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1572.6188888549805,"y":502.1071891784668,"z":"dc39d835.96bdd8","wires":[["44e462d3.aeea5c"]]},{"id":"44e462d3.aeea5c","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"tunnelxconn-topology-operation-input.tunnelxconn-request-input.vlan-tag is a required input\" />\n","comments":"","x":1728.8096008300781,"y":502.107141494751,"z":"dc39d835.96bdd8","wires":[]},{"id":"7bf99760.d366f8","type":"switchNode","name":"switch onap-model-information.model-customization-uuid","xml":"<switch test='`$tunnelxconn-topology-operation-input.allotted-resource-information.onap-model-information.model-customization-uuid`'>\n","comments":"","outputs":1,"x":1539.6073303222656,"y":449.0000972747803,"z":"dc39d835.96bdd8","wires":[["b24c5015.cd06c"]]},{"id":"b24c5015.cd06c","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1833.6072387695312,"y":450.00003814697266,"z":"dc39d835.96bdd8","wires":[["70386862.b62d78"]]},{"id":"70386862.b62d78","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"tunnelxconn-information.onap-model-information.model-customization-uuid is a required input\" />\n","comments":"","x":1981.0357055664062,"y":450.00003814697266,"z":"dc39d835.96bdd8","wires":[]},{"id":"147b9b93.45a634","type":"returnSuccess","name":"return success","xml":"<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n","comments":"","x":585.8571166992188,"y":1134.4999694824219,"z":"dc39d835.96bdd8","wires":[]},{"id":"ead921b4.5c7498","type":"get-resource","name":"get-resource AR_MODEL","xml":"<get-resource plugin='org.onap.ccsdk.sli.adaptors.sli.resource.sql.SqlResource' resource='SQL'\n  key='SELECT * from ALLOTTED_RESOURCE_MODEL WHERE customization_uuid = $tunnelxconn-topology-operation-input.allotted-resource-information.onap-model-information.model-customization-uuid'\n  pfx='ar-model'>\n\n","comments":"","outputs":1,"x":1411.802146911621,"y":669.2818689346313,"z":"dc39d835.96bdd8","wires":[["35bb9a66.d0adf6","d80653.a0abb1b"]]},{"id":"c80461c8.341ca8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'No alloted resource model found for model customization UUID ' + $tunnelxconn-topology-operation-input.allotted-resource-information.onap-model-information.model-customization-uuid`\" />\n","comments":"","x":1858.8854637145996,"y":657.4484224319458,"z":"dc39d835.96bdd8","wires":[]},{"id":"35bb9a66.d0adf6","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1660.1355438232422,"y":652.8056383132935,"z":"dc39d835.96bdd8","wires":[["c80461c8.341ca8"]]},{"id":"d80653.a0abb1b","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1653.8855438232422,"y":685.3056383132935,"z":"dc39d835.96bdd8","wires":[["c80461c8.341ca8"]]},{"id":"38d40f5d.1f7d9","type":"switchNode","name":"switch service-instance-id","xml":"<switch test='`$tunnelxconn-topology-operation-input.service-information.service-instance-id`'>\n","comments":"","outputs":1,"x":653.9285583496094,"y":420.85719299316406,"z":"dc39d835.96bdd8","wires":[["4a734a8.76aa3b4"]]},{"id":"4a734a8.76aa3b4","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":870.3571472167969,"y":421.85719299316406,"z":"dc39d835.96bdd8","wires":[["456b9eb9.070da8"]]},{"id":"456b9eb9.070da8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"service-information.service-instance-id is a required input\" />\n","comments":"","x":1028.7856750488281,"y":420.85719299316406,"z":"dc39d835.96bdd8","wires":[]},{"id":"9dc2e13c.b38008","type":"other","name":"create","xml":"<outcome value='create'>","comments":"","outputs":1,"x":827.2777137756348,"y":633.9074087142944,"z":"dc39d835.96bdd8","wires":[["3adcb6d9.68932a"]]},{"id":"3adcb6d9.68932a","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":1019.5276031494141,"y":629.9907321929932,"z":"dc39d835.96bdd8","wires":[["c994f413.2cb5e8","fc66f195.4287e8"]]},{"id":"5b47f09e.898778","type":"other","name":"delete","xml":"<outcome value='delete'>","comments":"","outputs":1,"x":840.611083984375,"y":910.5739946365356,"z":"dc39d835.96bdd8","wires":[["e72f8b82.17d0f"]]},{"id":"e72f8b82.17d0f","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":1017.1111068725586,"y":908.5740489959717,"z":"dc39d835.96bdd8","wires":[["c994f413.2cb5e8","fc66f195.4287e8"]]},{"id":"c994f413.2cb5e8","type":"switchNode","name":"switch allotted-resource-id","xml":"<switch test='`$tunnelxconn-topology-operation-input.allotted-resource-information.allotted-resource-id`'>\n","comments":"","outputs":1,"x":1507.7938537597656,"y":199.03967714309692,"z":"dc39d835.96bdd8","wires":[["323e47dd.ce97d8"]]},{"id":"323e47dd.ce97d8","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1710.8296146392822,"y":203.8611183166504,"z":"dc39d835.96bdd8","wires":[["50ae4b2d.31f91c"]]},{"id":"50ae4b2d.31f91c","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"allotted-resource-information.allotted-resource-id is a required input\" />\n","comments":"","x":1896.0080833435059,"y":199.1111183166504,"z":"dc39d835.96bdd8","wires":[]},{"id":"7840e223.6ecc1c","type":"switchNode","name":"switch allotted-resource-type","xml":"<switch test='`$tunnelxconn-topology-operation-input.allotted-resource-information.allotted-resource-type`'>\n","comments":"","outputs":1,"x":1511.7224349975586,"y":267.98810291290283,"z":"dc39d835.96bdd8","wires":[["a6f5f0f2.393be"]]},{"id":"a6f5f0f2.393be","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1707.2578468322754,"y":267.80952644348145,"z":"dc39d835.96bdd8","wires":[["292de8a3.586568"]]},{"id":"292de8a3.586568","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"allotted-resource-information.allotted-resource-type is a required input\" />\n","comments":"","x":1867.4363174438477,"y":266.80952644348145,"z":"dc39d835.96bdd8","wires":[]},{"id":"fc66f195.4287e8","type":"switchNode","name":"switch parent-service-instance-id","xml":"<switch test='`$tunnelxconn-topology-operation-input.allotted-resource-information.parent-service-instance-id`'>\n","comments":"","outputs":1,"x":1527.0796127319336,"y":343.7023983001709,"z":"dc39d835.96bdd8","wires":[["2660b170.94d2fe"]]},{"id":"2660b170.94d2fe","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1746.5437355041504,"y":343.3452482223511,"z":"dc39d835.96bdd8","wires":[["644e2aed.6c16b4"]]},{"id":"644e2aed.6c16b4","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"allotted-resource-information.parent-service-instance-id is a required input\" />\n","comments":"","x":1897.9722023010254,"y":342.3452482223511,"z":"dc39d835.96bdd8","wires":[]},{"id":"234eec8e.262704","type":"switchNode","name":"switch trusted-network-role","xml":"<switch test='`$tunnelxconn-topology-operation-input.tunnelxconn-request-input.trusted-network-role`'>\n","comments":"","outputs":1,"x":1424.6784973144531,"y":543.1428604125977,"z":"dc39d835.96bdd8","wires":[["3fe21e6b.1c92ea"]]},{"id":"3fe21e6b.1c92ea","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1686.869155883789,"y":539.5238299369812,"z":"dc39d835.96bdd8","wires":[["569978c6.ddb04"]]},{"id":"569978c6.ddb04","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"tunnelxconn-topology-operation-input.tunnelxconn-request-input.trusted-network-role is a required input\" />\n","comments":"","x":1851.8693008422852,"y":539.5237903594971,"z":"dc39d835.96bdd8","wires":[]},{"id":"19b1d290.d22cfd","type":"switchNode","name":"switch untrusted-network-role","xml":"<switch test='`$tunnelxconn-topology-operation-input.tunnelxconn-request-input.untrusted-network-role`'>\n","comments":"","outputs":1,"x":1421.9169006347656,"y":598.9404678344727,"z":"dc39d835.96bdd8","wires":[["54767128.667cc"]]},{"id":"54767128.667cc","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1666.9170684814453,"y":598.9404630661011,"z":"dc39d835.96bdd8","wires":[["cdb945b8.cff3f"]]},{"id":"cdb945b8.cff3f","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"tunnelxconn-operation-input.tunnelxconn-request-input.untrusted-network-role is a required input\" />\n","comments":"","x":1833.3455352783203,"y":598.940432548523,"z":"dc39d835.96bdd8","wires":[]}]