[
  {
    "id": "59c8eddd.d351d4",
    "type": "dgstart",
    "name": "DGSTART",
    "outputs": 1,
    "x": 115,
    "y": 47.5,
    "z": "e707a2eb.031dc",
    "wires": [
      [
        "3fa7b3b2.14694c"
      ]
    ]
  },
  {
    "id": "7094f80c.f334a8",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic='true'>",
    "atomic": "true",
    "comments": "",
    "outputs": 1,
    "x": 158.72620391845703,
    "y": 160.27779006958008,
    "z": "e707a2eb.031dc",
    "wires": [
      [
        "e9626c7d.713ca",
        "669839ba.56b488",
        "4b0a760.f121c8c",
        "c4d10211.0d483",
        "bd7013b7.21885"
      ]
    ]
  },
  {
    "id": "8f7300f3.a1d57",
    "type": "method",
    "name": "method self-serve-vf-module-unassign",
    "xml": "<method rpc='self-serve-vf-module-unassign' mode='sync'>\n",
    "comments": "",
    "outputs": 1,
    "x": 231.76190948486328,
    "y": 102.20635509490967,
    "z": "e707a2eb.031dc",
    "wires": [
      [
        "7094f80c.f334a8"
      ]
    ]
  },
  {
    "id": "3fa7b3b2.14694c",
    "type": "service-logic",
    "name": "GENERIC-RESOURCE-API ${project.version}",
    "module": "GENERIC-RESOURCE-API",
    "version": "${project.version}",
    "comments": "",
    "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
    "outputs": 1,
    "x": 390.23819732666016,
    "y": 47.69049263000488,
    "z": "e707a2eb.031dc",
    "wires": [
      [
        "8f7300f3.a1d57"
      ]
    ]
  },
  {
    "id": "88e4ca0d.4b82e8",
    "type": "switchNode",
    "name": "switch resource-resolution-data.status",
    "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.status`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 483.5361022949219,
    "y": 760.1786985397339,
    "z": "e707a2eb.031dc",
    "wires": [
      [
        "2e842ad6.b13196",
        "6f51aecc.4c371",
        "81b87eaf.eec99"
      ]
    ]
  },
  {
    "id": "2e842ad6.b13196",
    "type": "other",
    "name": "SUCCESS",
    "xml": "<outcome value='SUCCESS'>\n",
    "comments": "",
    "outputs": 1,
    "x": 761.2386436462402,
    "y": 760.547661781311,
    "z": "e707a2eb.031dc",
    "wires": [
      [
        "a18437e.11876c8"
      ]
    ]
  },
  {
    "id": "e9626c7d.713ca",
    "type": "for",
    "name": "foreach capability-order[]",
    "xml": "<for index='cidx' start='0' end='`$ss.capability.execution-order_length`' >\n",
    "comments": "",
    "outputs": 1,
    "x": 409.1786346435547,
    "y": 247.53568077087402,
    "z": "e707a2eb.031dc",
    "wires": [
      [
        "5cc84364.d00a7c",
        "52fc6783.b27a48",
        "60c0d544.1395bc",
        "1f5f6357.bb701d"
      ]
    ]
  },
  {
    "id": "a18437e.11876c8",
    "type": "call",
    "name": "call ss.capability-dg",
    "xml": "<call module='GENERIC-RESOURCE-API' rpc='`$ss.capability-dg`' mode='sync' >\n",
    "comments": "",
    "outputs": 1,
    "x": 966.3573760986328,
    "y": 760.309513092041,
    "z": "e707a2eb.031dc",
    "wires": [
      [
        "83cd0b73.a2d968",
        "e01eeb11.ffdd28"
      ]
    ]
  },
  {
    "id": "5cc84364.d00a7c",
    "type": "set",
    "name": "ss.capability-name",
    "xml": "<set>\n<parameter name='ss.capability-name' value='`$ss.capability.execution-order[$cidx]`' />\n\n<!--\nss.capability.execution-order\n-->",
    "comments": "",
    "x": 677.5356903076172,
    "y": 247.48813247680664,
    "z": "e707a2eb.031dc",
    "wires": []
  },
  {
    "id": "60c0d544.1395bc",
    "type": "set",
    "name": "set ss.capability.action = unassign",
    "xml": "<set>\n<parameter name='ss.capability-action' value='unassign' />\n",
    "comments": "",
    "x": 726.2498321533203,
    "y": 294.4047164916992,
    "z": "e707a2eb.031dc",
    "wires": []
  },
  {
    "id": "83cd0b73.a2d968",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1151.249885559082,
    "y": 760.3095741271973,
    "z": "e707a2eb.031dc",
    "wires": [
      [
        "b3347c0d.511cc"
      ]
    ]
  },
  {
    "id": "99396b28.795028",
    "type": "set",
    "name": "set capability-dg",
    "xml": "<set>\n<parameter name='ss.capability-dg' value=\"`'self-serve-' + $ss.capability.execution-order[$cidx]`\" />\n",
    "comments": "",
    "x": 1130.0119018554688,
    "y": 441.63094902038574,
    "z": "e707a2eb.031dc",
    "wires": []
  },
  {
    "id": "52fc6783.b27a48",
    "type": "switchNode",
    "name": "switch ss.capability-name",
    "xml": "<switch test='`$ss.capability-name`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 701.5119018554688,
    "y": 343.3809566497803,
    "z": "e707a2eb.031dc",
    "wires": [
      [
        "89609b9d.832be8",
        "bb8dbf03.25222",
        "3e252dd8.99cbe2"
      ]
    ]
  },
  {
    "id": "89609b9d.832be8",
    "type": "other",
    "name": "alts-entitlement-assign",
    "xml": "<outcome value='alts-entitlement-assign'>\n",
    "comments": "",
    "outputs": 1,
    "x": 995.2620239257812,
    "y": 343.88094902038574,
    "z": "e707a2eb.031dc",
    "wires": [
      [
        "71970fc.f01b7f"
      ]
    ]
  },
  {
    "id": "bb8dbf03.25222",
    "type": "other",
    "name": "alts-license-assign",
    "xml": "<outcome value='alts-license-assign'>\n",
    "comments": "",
    "outputs": 1,
    "x": 984.5120239257812,
    "y": 391.63094902038574,
    "z": "e707a2eb.031dc",
    "wires": [
      [
        "71970fc.f01b7f"
      ]
    ]
  },
  {
    "id": "3e252dd8.99cbe2",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 950.5119857788086,
    "y": 441.8809394836426,
    "z": "e707a2eb.031dc",
    "wires": [
      [
        "99396b28.795028"
      ]
    ]
  },
  {
    "id": "71970fc.f01b7f",
    "type": "set",
    "name": "set capability-dg",
    "xml": "<set>\n<parameter name='ss.capability-dg' value='self-serve-alts-assignment' />\n",
    "comments": "",
    "x": 1254.0119018554688,
    "y": 343.38094902038574,
    "z": "e707a2eb.031dc",
    "wires": []
  },
  {
    "id": "c4d10211.0d483",
    "type": "execute",
    "name": "printContext",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/ss-vf-unassign.log' />\n",
    "comments": "",
    "outputs": 1,
    "x": 413.53592681884766,
    "y": 1625.226125717163,
    "z": "e707a2eb.031dc",
    "wires": [
      []
    ]
  },
  {
    "id": "669839ba.56b488",
    "type": "set",
    "name": "set ss.capability.execution-order[]",
    "xml": "<set>\n<parameter name='ss.capability.execution-order[0]' value='mac-address-assign' />\n<parameter name='ss.capability.execution-order[1]' value='eipam-ip-assign' />\n<parameter name='ss.capability.execution-order[2]' value='netbox-ip-assign' />\n<parameter name='ss.capability.execution-order[3]' value='vlan-tag-assign' />\n<parameter name='ss.capability.execution-order[4]' value='alts-license-assign' />\n<parameter name='ss.capability.execution-order[5]' value='alts-entitlement-assign' />\n<parameter name='ss.capability.execution-order[6]' value='generate-name' />\n<parameter name='ss.capability.execution-order_length' value='7' />",
    "comments": "",
    "x": 434.25003814697266,
    "y": 160.50000381469727,
    "z": "e707a2eb.031dc",
    "wires": []
  },
  {
    "id": "ecc91ea3.fdc65",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'Encountered error from capability: '+ $ss.capability-dg + ', with error: '+ $error-message`\" />\n",
    "comments": "",
    "x": 1533.75,
    "y": 1115.5,
    "z": "e707a2eb.031dc",
    "wires": []
  },
  {
    "id": "b3347c0d.511cc",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic='true'>",
    "atomic": "true",
    "comments": "",
    "outputs": 1,
    "x": 1315.3691329956055,
    "y": 760.8329677581787,
    "z": "e707a2eb.031dc",
    "wires": [
      [
        "ecc91ea3.fdc65",
        "f80cfa5f.ec5538",
        "f9478e50.da1ab",
        "b33b6f0d.9741b",
        "a62aae18.246a5",
        "9cf116cc.5d7c88"
      ]
    ]
  },
  {
    "id": "f80cfa5f.ec5538",
    "type": "execute",
    "name": "execute RestApiCallNode - PUT vf-module",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.ss.vfmodule.templatefile`\" />\n    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.ss-vfmodule-url`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-ss-vfmodule\" />\n\n",
    "comments": "",
    "outputs": 1,
    "x": 1630.9165725708008,
    "y": 1017.2069272994995,
    "z": "e707a2eb.031dc",
    "wires": [
      [
        "5a81dded.44b2c4",
        "2b7e4172.d9466e",
        "9c94c0a8.8a6b6"
      ]
    ]
  },
  {
    "id": "5a81dded.44b2c4",
    "type": "not-found",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1905.510238647461,
    "y": 1071.205080986023,
    "z": "e707a2eb.031dc",
    "wires": [
      [
        "144bf243.c5cf4e"
      ]
    ]
  },
  {
    "id": "2b7e4172.d9466e",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1897.9388732910156,
    "y": 1017.7051010131836,
    "z": "e707a2eb.031dc",
    "wires": [
      [
        "144bf243.c5cf4e"
      ]
    ]
  },
  {
    "id": "9c94c0a8.8a6b6",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1901.688865661621,
    "y": 964.062198638916,
    "z": "e707a2eb.031dc",
    "wires": [
      [
        "9b806219.d57b1"
      ]
    ]
  },
  {
    "id": "9b806219.d57b1",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 2078.059097290039,
    "y": 963.9686799049377,
    "z": "e707a2eb.031dc",
    "wires": [
      []
    ]
  },
  {
    "id": "144bf243.c5cf4e",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 2100.0711975097656,
    "y": 1017.3493556976318,
    "z": "e707a2eb.031dc",
    "wires": [
      [
        "a8a3bda2.3a4e7"
      ]
    ]
  },
  {
    "id": "a8a3bda2.3a4e7",
    "type": "configure",
    "name": "set error-message",
    "xml": "<set>\n<parameter name=\"error-message\" value=\"Failed to persist self-serve vf-module assignments during unassign in MD-SAL\" />\n",
    "comments": "",
    "outputs": 1,
    "x": 2318.356964111328,
    "y": 1017.4922189712524,
    "z": "e707a2eb.031dc",
    "wires": [
      []
    ]
  },
  {
    "id": "f9478e50.da1ab",
    "type": "set",
    "name": "set vf data for restapi-call-node",
    "xml": "<set>\n<parameter name='vf.vf-module-id'\n    value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-id`' />\n<parameter name='vf.vf-module-data.sdnc-request-header.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.sdnc-request-header.`' />\n<parameter name='vf.vf-module-data.request-information.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.request-information.`' />\n<parameter name='vf.vf-module-data.service-information.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.service-information.`' />\n<parameter name='vf.vf-module-data.vnf-information.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vnf-information.`' />\n<parameter name='vf.vf-module-data.vf-module-information.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-information.`' />\n<parameter name='vf.vf-module-data.vf-module-topology.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.`' />\n<parameter name='vf.vf-module-data.vf-module-level-oper-status.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-level-oper-status.`' />\n<parameter name='vf.vf-module-data.vf-module-request-input.vf-module-input-parameters.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-request-input.vf-module-input-parameters.`' />\n<parameter name='vf.vf-module-data.vf-module-request-input.request-version'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-request-input.request-version`' />\n<parameter name='vf.vf-module-data.vf-module-request-input.vf-module-name'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-request-input.vf-module-name`' />\n<parameter name='vf.vf-module-data.vf-module-request-input.tenant'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-request-input.tenant`' />\n<parameter name='vf.vf-module-data.vf-module-request-input.aic-cloud-region'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-request-input.aic-cloud-region`' />\n<parameter name='vf.vf-module-data.vf-module-request-input.aic-clli'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-request-input.aic-clli`' />",
    "comments": "",
    "x": 1592.428596496582,
    "y": 761.3249444961548,
    "z": "e707a2eb.031dc",
    "wires": []
  },
  {
    "id": "b33b6f0d.9741b",
    "type": "execute",
    "name": "generate ss-vfmodule url replace service-instance-id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.ss-vfmodule-assignments`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.ss-vfmodule-url\"/>\n    <parameter name=\"target\" value=\"{service-instance-id}\"/>\n    <parameter name=\"replacement\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.service-information.service-instance-id`\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 1658.6785430908203,
    "y": 809.3249893188477,
    "z": "e707a2eb.031dc",
    "wires": [
      []
    ]
  },
  {
    "id": "a62aae18.246a5",
    "type": "execute",
    "name": "generate ss-vfmodule url - replace vnf-id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.ss-vfmodule-url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.ss-vfmodule-url\"/>\n    <parameter name=\"target\" value=\"{vnf-id}\"/>\n    <parameter name=\"replacement\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vnf-information.vnf-id`\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 1622.964241027832,
    "y": 857.3839063644409,
    "z": "e707a2eb.031dc",
    "wires": [
      []
    ]
  },
  {
    "id": "9cf116cc.5d7c88",
    "type": "execute",
    "name": "generate ss-vfmodule url - replace vf-module-id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.ss-vfmodule-url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.ss-vfmodule-url\"/>\n    <parameter name=\"target\" value=\"{vf-module-id}\"/>\n    <parameter name=\"replacement\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-id`\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 1644.904914855957,
    "y": 907.3004064559937,
    "z": "e707a2eb.031dc",
    "wires": [
      []
    ]
  },
  {
    "id": "4b0a760.f121c8c",
    "type": "set",
    "name": "set ss.capability-type = vf-module",
    "xml": "<set>\n<parameter name='ss.capability-type' value='vf-module' />\n",
    "comments": "",
    "x": 434.8571319580078,
    "y": 203.50001049041748,
    "z": "e707a2eb.031dc",
    "wires": []
  },
  {
    "id": "e01eeb11.ffdd28",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1153.75,
    "y": 711.25,
    "z": "e707a2eb.031dc",
    "wires": [
      [
        "70f15cdb.b52454"
      ]
    ]
  },
  {
    "id": "70f15cdb.b52454",
    "type": "set",
    "name": "set capability-dg to UNASSIGNED",
    "xml": "<set>\n<parameter name='`$ss.capability-dg`' value='UNASSIGNED' />\n",
    "comments": "",
    "x": 1379.499984741211,
    "y": 710.9999723434448,
    "z": "e707a2eb.031dc",
    "wires": []
  },
  {
    "id": "6f51aecc.4c371",
    "type": "other",
    "name": "DELETED",
    "xml": "<outcome value='DELETED'>\n",
    "comments": "",
    "outputs": 1,
    "x": 760,
    "y": 857.1428833007812,
    "z": "e707a2eb.031dc",
    "wires": [
      [
        "31a0085.606c5f8"
      ]
    ]
  },
  {
    "id": "383dc66d.17f72a",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'Failed to unassign self-serve vf-module assignments because the status for ' + $ss.capability-name + ' is '  + $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.status`\"/>",
    "comments": "",
    "x": 1110.7380447387695,
    "y": 1024.6905918121338,
    "z": "e707a2eb.031dc",
    "wires": []
  },
  {
    "id": "31a0085.606c5f8",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 916.4999923706055,
    "y": 857.1428718566895,
    "z": "e707a2eb.031dc",
    "wires": [
      [
        "df136536.ec6fa8",
        "296bd731.42cef8"
      ]
    ]
  },
  {
    "id": "81b87eaf.eec99",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 750.0713958740234,
    "y": 989.3571853637695,
    "z": "e707a2eb.031dc",
    "wires": [
      [
        "74d32650.e89458"
      ]
    ]
  },
  {
    "id": "df136536.ec6fa8",
    "type": "record",
    "name": "record",
    "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"`'SS: resource-resolution-data.status: ' + $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.status`\"/>\n<parameter name=\"field2\" value=\"`'SS: ss.capability-name: ' + $ss.capability-name`\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 1090.3572616577148,
    "y": 948.6905670166016,
    "z": "e707a2eb.031dc",
    "wires": [
      []
    ]
  },
  {
    "id": "74d32650.e89458",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic='true'>",
    "atomic": "true",
    "comments": "",
    "outputs": 1,
    "x": 917.7856903076172,
    "y": 989.3572368621826,
    "z": "e707a2eb.031dc",
    "wires": [
      [
        "df136536.ec6fa8",
        "383dc66d.17f72a"
      ]
    ]
  },
  {
    "id": "1f5f6357.bb701d",
    "type": "for",
    "name": "foreach vf-module-parameters.param[]",
    "xml": "<for index='pidx' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param_length`' >\n",
    "comments": "",
    "outputs": 1,
    "x": 733.9999732971191,
    "y": 511.4285945892334,
    "z": "e707a2eb.031dc",
    "wires": [
      [
        "842a7679.474c78",
        "ff70ed31.3b468"
      ]
    ]
  },
  {
    "id": "842a7679.474c78",
    "type": "switchNode",
    "name": "switch capability-name param vs. execution",
    "xml": "<switch test='`$ss.capability-name == $tmp.param.capability-name`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1106.3927955627441,
    "y": 557.0713872909546,
    "z": "e707a2eb.031dc",
    "wires": [
      [
        "e83762f2.ee222"
      ]
    ]
  },
  {
    "id": "e83762f2.ee222",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1369.8927955627441,
    "y": 557.3213872909546,
    "z": "e707a2eb.031dc",
    "wires": [
      [
        "88e4ca0d.4b82e8"
      ]
    ]
  },
  {
    "id": "ff70ed31.3b468",
    "type": "set",
    "name": "tmp.param.capability-name",
    "xml": "<set>\n<parameter name='tmp.param.capability-name' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.capability-name`' />\n",
    "comments": "",
    "x": 1055.7498207092285,
    "y": 511.67859745025635,
    "z": "e707a2eb.031dc",
    "wires": []
  },
  {
    "id": "1b981df9.eea952",
    "type": "for",
    "name": "for i in vnf-parameters-data.param[]",
    "xml": "<for index='i' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param_length`' >\n",
    "comments": "",
    "outputs": 1,
    "x": 1211.8215026855469,
    "y": 1353.5238590240479,
    "z": "e707a2eb.031dc",
    "wires": [
      [
        "2955f79d.d9f148"
      ]
    ]
  },
  {
    "id": "2955f79d.d9f148",
    "type": "switchNode",
    "name": "switch param[$i].name",
    "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$i].name`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1490.5715026855469,
    "y": 1354.0238304138184,
    "z": "e707a2eb.031dc",
    "wires": [
      [
        "21118528.d17aba"
      ]
    ]
  },
  {
    "id": "5b3c9b0.4a95764",
    "type": "save",
    "name": "DELETE VNFC object",
    "xml": "<delete plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"vnfc\" \n\t\tkey=\"vnfc.vnfc-name = $tmp.ss.vnfc-name\" >",
    "comments": "",
    "outputs": 1,
    "x": 2052.3216857910156,
    "y": 1412.4880809783936,
    "z": "e707a2eb.031dc",
    "wires": [
      [
        "8f720052.82f16",
        "c7b9a17c.70b3a"
      ]
    ]
  },
  {
    "id": "3da72337.12504c",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic='true'>",
    "atomic": "true",
    "comments": "",
    "outputs": 1,
    "x": 948.6785659790039,
    "y": 1353.0116090774536,
    "z": "e707a2eb.031dc",
    "wires": [
      [
        "1b981df9.eea952"
      ]
    ]
  },
  {
    "id": "8f720052.82f16",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2264.0716705322266,
    "y": 1412.9880504608154,
    "z": "e707a2eb.031dc",
    "wires": [
      [
        "19415073.afd87"
      ]
    ]
  },
  {
    "id": "19415073.afd87",
    "type": "set",
    "name": "set error-message",
    "xml": "<set>\n<parameter name='error-message' value='Failed to delete vnfc object in AnAI' />\n",
    "comments": "",
    "x": 2454.0716705322266,
    "y": 1412.7380504608154,
    "z": "e707a2eb.031dc",
    "wires": []
  },
  {
    "id": "c7b9a17c.70b3a",
    "type": "not-found",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2270.3216819763184,
    "y": 1464.7380847930908,
    "z": "e707a2eb.031dc",
    "wires": [
      [
        "920b3ae7.9a1678"
      ]
    ]
  },
  {
    "id": "21118528.d17aba",
    "type": "other",
    "name": "vnfc-name",
    "xml": "<outcome value='vnfc-name'>\n<!--\n<outcome value='vmxvre_name_0'>\n-->\n",
    "comments": "",
    "outputs": 1,
    "x": 1695.1072311401367,
    "y": 1354.5238122940063,
    "z": "e707a2eb.031dc",
    "wires": [
      [
        "a6da92f.e11037"
      ]
    ]
  },
  {
    "id": "e5273bc6.236098",
    "type": "break",
    "name": "break",
    "xml": "<break>\n",
    "comments": "",
    "x": 2006.8215789794922,
    "y": 1496.9524536132812,
    "z": "e707a2eb.031dc",
    "wires": []
  },
  {
    "id": "a6da92f.e11037",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1836.8215522766113,
    "y": 1354.0953855514526,
    "z": "e707a2eb.031dc",
    "wires": [
      [
        "ebb79471.77e198",
        "e5273bc6.236098",
        "5b3c9b0.4a95764"
      ]
    ]
  },
  {
    "id": "ebb79471.77e198",
    "type": "set",
    "name": "set tmp.ss.vnfc-name",
    "xml": "<set>\n<parameter name='tmp.ss.vnfc-name' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$i].value`' />\n",
    "comments": "",
    "x": 2047.9643249511719,
    "y": 1354.0953922271729,
    "z": "e707a2eb.031dc",
    "wires": []
  },
  {
    "id": "bd7013b7.21885",
    "type": "switchNode",
    "name": "switch self-serve-generate-name  == UNASSIGNED",
    "xml": "<switch test=\"`$self-serve-generate-name == 'UNASSIGNED'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 518.5713958740234,
    "y": 1205.3806629180908,
    "z": "e707a2eb.031dc",
    "wires": [
      [
        "60911edd.fbec9",
        "dbc995c8.389a48"
      ]
    ]
  },
  {
    "id": "60911edd.fbec9",
    "type": "success",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 823.4999198913574,
    "y": 1255.5235767364502,
    "z": "e707a2eb.031dc",
    "wires": [
      [
        "3da72337.12504c"
      ]
    ]
  },
  {
    "id": "dbc995c8.389a48",
    "type": "outcomeFalse",
    "name": "false",
    "xml": "<outcome value='false'>\n",
    "comments": "",
    "outputs": 1,
    "x": 821.6071472167969,
    "y": 1205.3450736999512,
    "z": "e707a2eb.031dc",
    "wires": [
      [
        "2732c8d4.650e48"
      ]
    ]
  },
  {
    "id": "76c0b009.2d7e4",
    "type": "record",
    "name": "record",
    "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"`'SS: self-serve-generate-name status: ' + $self-serve-generate-name`\"/>\n<parameter name=\"field2\" value=\"`'SS: self-serve-unresolved-composite-data: ' + $self-serve-unresolved-composite-data`\"/>",
    "comments": "",
    "outputs": 1,
    "x": 1171.0357284545898,
    "y": 1205.3452463150024,
    "z": "e707a2eb.031dc",
    "wires": [
      []
    ]
  },
  {
    "id": "2732c8d4.650e48",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic='true'>",
    "atomic": "true",
    "comments": "",
    "outputs": 1,
    "x": 987.4642715454102,
    "y": 1205.3451922280447,
    "z": "e707a2eb.031dc",
    "wires": [
      [
        "76c0b009.2d7e4",
        "f27b027f.fa36"
      ]
    ]
  },
  {
    "id": "f27b027f.fa36",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'AAI Put is being skipped because NOT all capability components have SUCCESS status; '+ $error-message`\" />\n",
    "comments": "",
    "x": 1192.321418762207,
    "y": 1248.7737998962402,
    "z": "e707a2eb.031dc",
    "wires": []
  },
  {
    "id": "920b3ae7.9a1678",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 2423.333251953125,
    "y": 1464.333251953125,
    "z": "e707a2eb.031dc",
    "wires": [
      []
    ]
  },
  {
    "id": "296bd731.42cef8",
    "type": "set",
    "name": "set capability-dg to UNASSIGNED",
    "xml": "<set>\n<parameter name='`$ss.capability-dg`' value='UNASSIGNED' />\n",
    "comments": "",
    "x": 1171.3333129882812,
    "y": 857.333263669695,
    "z": "e707a2eb.031dc",
    "wires": []
  }
]