[
  {
    "id": "e612d5f5.8b6538",
    "type": "dgstart",
    "name": "DGSTART",
    "outputs": 1,
    "x": 105.00390625,
    "y": 55.99999871850014,
    "z": "f765645f.7b8058",
    "wires": [
      [
        "150c6234.3faf1e"
      ]
    ]
  },
  {
    "id": "150c6234.3faf1e",
    "type": "service-logic",
    "name": "GENERIC-RESOURCE-API ${project.version}",
    "module": "GENERIC-RESOURCE-API",
    "version": "${project.version}",
    "comments": "",
    "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
    "outputs": 1,
    "x": 253.2895965576172,
    "y": 106.23810735344887,
    "z": "f765645f.7b8058",
    "wires": [
      [
        "1b2d2c3d.3c9464"
      ]
    ]
  },
  {
    "id": "1b2d2c3d.3c9464",
    "type": "method",
    "name": "method sdwan-vnf-topology-operation-wanport-deactivate",
    "xml": "<method rpc='sdwan-vnf-topology-operation-wanport-deactivate' mode='sync'>\n",
    "comments": "",
    "outputs": 1,
    "x": 287.4325180053711,
    "y": 190.00001588463783,
    "z": "f765645f.7b8058",
    "wires": [
      [
        "bf701672.487a88"
      ]
    ]
  },
  {
    "id": "bf701672.487a88",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 262.6706123352051,
    "y": 574.6666819155216,
    "z": "f765645f.7b8058",
    "wires": [
      [
        "b889ffd5.0fa63",
        "f33aa2.256e456",
        "ca99ad99.37765",
        "26cf633a.338b9c",
        "554bc62c.9e5bc8",
        "ec3af845.5c1818",
        "5ba1424c.f63d5c",
        "46594e30.35ca2",
        "7caacd63.309604",
        "6bdcf104.b48b8",
        "13a2d05d.7d396"
      ]
    ]
  },
  {
    "id": "b889ffd5.0fa63",
    "type": "switchNode",
    "name": "switch service-data.vnfs.vnf_length",
    "xml": "<switch test='`$service-data.vnfs.vnf_length`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 768.0248603820801,
    "y": 99.02095222473145,
    "z": "f765645f.7b8058",
    "wires": [
      [
        "72446922.dfdc88",
        "2e454e9c.4de002",
        "34a36311.6884ac"
      ]
    ]
  },
  {
    "id": "72446922.dfdc88",
    "type": "other",
    "name": "Null",
    "xml": "<outcome value=''>\n",
    "comments": "",
    "outputs": 1,
    "x": 1011.024787902832,
    "y": 124.02103519439697,
    "z": "f765645f.7b8058",
    "wires": [
      [
        "2b15f4dc.0543ec"
      ]
    ]
  },
  {
    "id": "2b15f4dc.0543ec",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"vnf-topology-operation-input.vnf-request-input.vnf-id not found in service-data\" />\n",
    "comments": "",
    "x": 1159.8022994995117,
    "y": 103.9099702835083,
    "z": "f765645f.7b8058",
    "wires": []
  },
  {
    "id": "2e454e9c.4de002",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1012.0251121520996,
    "y": 157.02105808258057,
    "z": "f765645f.7b8058",
    "wires": [
      [
        "767b5296.07b42c"
      ]
    ]
  },
  {
    "id": "767b5296.07b42c",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1159.2948150634766,
    "y": 146.57558059692383,
    "z": "f765645f.7b8058",
    "wires": [
      [
        "e6f54805.c662c8",
        "150dec3f.ac66f4"
      ]
    ]
  },
  {
    "id": "e6f54805.c662c8",
    "type": "for",
    "name": "for vidx..service-data.vnfs.vnf_length[]",
    "xml": "<for index='vidx' start='0' end='`$service-data.vnfs.vnf_length`' >\n",
    "comments": "",
    "outputs": 1,
    "x": 1404.310775756836,
    "y": 98.44958019256592,
    "z": "f765645f.7b8058",
    "wires": [
      [
        "62dbeb25.9e1404"
      ]
    ]
  },
  {
    "id": "150dec3f.ac66f4",
    "type": "switchNode",
    "name": "switch tmp.vidx ",
    "xml": "<switch test=\"`$tmp.vidx`\">\n\n",
    "comments": "",
    "outputs": 1,
    "x": 1335.6121292114258,
    "y": 146.43275928497314,
    "z": "f765645f.7b8058",
    "wires": [
      [
        "7f71feab.68d97"
      ]
    ]
  },
  {
    "id": "7f71feab.68d97",
    "type": "outcome",
    "name": "NULL",
    "xml": "<outcome value=''>\n",
    "comments": "",
    "outputs": 1,
    "x": 1489.0407676696777,
    "y": 145.00417232513428,
    "z": "f765645f.7b8058",
    "wires": [
      [
        "7f6f3eb7.5ba2f"
      ]
    ]
  },
  {
    "id": "9c6aa9a4.753d88",
    "type": "switchNode",
    "name": "switch vnfid found",
    "xml": "<switch test=\"`$service-data.vnfs.vnf[$vidx].vnf-id == $vnf-topology-operation-input.vnf-information.vnf-id`\">\n\n",
    "comments": "",
    "outputs": 1,
    "x": 1775.739356994629,
    "y": 95.69969272613525,
    "z": "f765645f.7b8058",
    "wires": [
      [
        "414b7f38.5b52"
      ]
    ]
  },
  {
    "id": "7f6f3eb7.5ba2f",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"vnf-topology-operation-input.vnf-request-input.vnf-id not found in service-data\" />\n",
    "comments": "",
    "x": 1625.4691619873047,
    "y": 144.14703464508057,
    "z": "f765645f.7b8058",
    "wires": []
  },
  {
    "id": "414b7f38.5b52",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1814.691505432129,
    "y": 150.59241199493408,
    "z": "f765645f.7b8058",
    "wires": [
      [
        "de28481b.2e84a8"
      ]
    ]
  },
  {
    "id": "34a36311.6884ac",
    "type": "outcome",
    "name": "0",
    "xml": "<outcome value='0'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1007.9935340881348,
    "y": 91.98973083496094,
    "z": "f765645f.7b8058",
    "wires": [
      [
        "2b15f4dc.0543ec"
      ]
    ]
  },
  {
    "id": "62dbeb25.9e1404",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1623.6604080200195,
    "y": 97.9896411895752,
    "z": "f765645f.7b8058",
    "wires": [
      [
        "9c6aa9a4.753d88"
      ]
    ]
  },
  {
    "id": "f33aa2.256e456",
    "type": "set",
    "name": "set vnf in service-data",
    "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-id' value='`$service-data.vnfs.vnf[$tmp.vidx].vnf-id`' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.sdnc-request-header.' value='`$vnf-topology-operation-input.sdnc-request-header.`' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.request-information.' value='`$vnf-topology-operation-input.request-information.`' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.service-information.' value='`$vnf-topology-operation-input.service-information.`' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-information.' value='`$vnf-topology-operation-input.vnf-information.`' />\n\n",
    "comments": "",
    "x": 723.338077545166,
    "y": 747.6668863296509,
    "z": "f765645f.7b8058",
    "wires": []
  },
  {
    "id": "ca99ad99.37765",
    "type": "set",
    "name": "set vnfId and vnf-object-path",
    "xml": "<set>\n<parameter name='vnfId' value='`$vnf-topology-operation-input.vnf-information.vnf-id`' />\n<parameter name=\"vnf-object-path\" value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'  + $vnf-topology-operation-input.service-information.service-instance-id  + '/service-data/vnfs/vnf/'  + $vnf-topology-operation-input.vnf-information.vnf-id  + '/vnf-data/'` \" />",
    "comments": "",
    "x": 735.8937187194824,
    "y": 804.889181137085,
    "z": "f765645f.7b8058",
    "wires": []
  },
  {
    "id": "26cf633a.338b9c",
    "type": "set",
    "name": "set vnf-level-oper-status to PendingDelete",
    "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-level-oper-status.order-status' value='PendingDelete' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-level-oper-status.last-rpc-action' value='`$vnf-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-level-oper-status.last-action' value='`$vnf-topology-operation-input.request-information.request-action`' />\n",
    "comments": "",
    "x": 778.3380928039551,
    "y": 839.6670169830322,
    "z": "f765645f.7b8058",
    "wires": []
  },
  {
    "id": "554bc62c.9e5bc8",
    "type": "returnSuccess",
    "name": "return success",
    "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
    "comments": "",
    "x": 688.6714630126953,
    "y": 928.4448499679565,
    "z": "f765645f.7b8058",
    "wires": []
  },
  {
    "id": "46594e30.35ca2",
    "type": "get-resource",
    "name": "get-resource esr-thirdparty-sdnc",
    "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = SDWAN-Controller AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.esr-thirdparty-sdnc' local-only='false' >\n\n",
    "comments": "",
    "outputs": 1,
    "x": 748.5042667388916,
    "y": 267.00012239813805,
    "z": "f765645f.7b8058",
    "wires": [
      [
        "d2393044.02c98",
        "de34f71f.564f78",
        "165c6807.bce198"
      ]
    ]
  },
  {
    "id": "d2393044.02c98",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 967.5042362213135,
    "y": 226.00011897087097,
    "z": "f765645f.7b8058",
    "wires": [
      [
        "af0c4e7e.16054"
      ]
    ]
  },
  {
    "id": "de34f71f.564f78",
    "type": "not-found",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 970.9952030181885,
    "y": 273.5741546154022,
    "z": "f765645f.7b8058",
    "wires": [
      [
        "46779502.824a2c"
      ]
    ]
  },
  {
    "id": "165c6807.bce198",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 966.3282108306885,
    "y": 314.9074676036835,
    "z": "f765645f.7b8058",
    "wires": [
      [
        "d9434b38.eb9228"
      ]
    ]
  },
  {
    "id": "d9434b38.eb9228",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
    "comments": "",
    "x": 1154.1007671356201,
    "y": 310.3466603755951,
    "z": "f765645f.7b8058",
    "wires": []
  },
  {
    "id": "46779502.824a2c",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
    "comments": "",
    "x": 1147.566614151001,
    "y": 261.8598906993866,
    "z": "f765645f.7b8058",
    "wires": []
  },
  {
    "id": "af0c4e7e.16054",
    "type": "set",
    "name": "set controller data",
    "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.url' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.user' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.password' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n",
    "comments": "",
    "x": 1148.0043392181396,
    "y": 220.00015768408775,
    "z": "f765645f.7b8058",
    "wires": []
  },
  {
    "id": "13a2d05d.7d396",
    "type": "execute",
    "name": "execute RestApiCallNode device port delete",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sdwan-device-port-del.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/campus/v1/sdwan/net/ports/action/batch-delete'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"delete\"/>\n<parameter name=\"responsePrefix\" value=\"portResp\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.openecomp.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
    "comments": "",
    "outputs": 1,
    "x": 781.0044193267822,
    "y": 642.666867017746,
    "z": "f765645f.7b8058",
    "wires": [
      [
        "d7fb77a3.a86188",
        "e2af2841.d1f638"
      ]
    ]
  },
  {
    "id": "d7fb77a3.a86188",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1027.0044040679932,
    "y": 680.6669557094574,
    "z": "f765645f.7b8058",
    "wires": [
      [
        "d422494c.56c648"
      ]
    ]
  },
  {
    "id": "e2af2841.d1f638",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1023.0044841766357,
    "y": 634.6668708324432,
    "z": "f765645f.7b8058",
    "wires": [
      [
        "e8bbadbc.9ad4c"
      ]
    ]
  },
  {
    "id": "e8bbadbc.9ad4c",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create vpn rest api\" />\n",
    "comments": "",
    "x": 1164.0045757293701,
    "y": 634.6668717861176,
    "z": "f765645f.7b8058",
    "wires": []
  },
  {
    "id": "d422494c.56c648",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "comments": "",
    "outputs": 1,
    "x": 1171.0042705535889,
    "y": 678.6668746471405,
    "z": "f765645f.7b8058",
    "wires": [
      []
    ]
  },
  {
    "id": "6bdcf104.b48b8",
    "type": "execute",
    "name": "execute RestApiCallNode wan port delete",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sdwan-wan-port-del.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/campus/v1/sdwan/net/transport-network-ports/action/batch-delete'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"portResp\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.openecomp.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
    "comments": "",
    "outputs": 1,
    "x": 772.0045871734619,
    "y": 535.666864156723,
    "z": "f765645f.7b8058",
    "wires": [
      [
        "de6f5d9a.00d19",
        "fe1384f0.e198c8"
      ]
    ]
  },
  {
    "id": "de6f5d9a.00d19",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1005.0046825408936,
    "y": 568.6668565273285,
    "z": "f765645f.7b8058",
    "wires": [
      [
        "fd275e00.86cf8"
      ]
    ]
  },
  {
    "id": "fe1384f0.e198c8",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1009.0047626495361,
    "y": 504.66693472862244,
    "z": "f765645f.7b8058",
    "wires": [
      [
        "f44e9eb0.30563"
      ]
    ]
  },
  {
    "id": "f44e9eb0.30563",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create vpn rest api\" />\n",
    "comments": "",
    "x": 1154.004934310913,
    "y": 506.66693472862244,
    "z": "f765645f.7b8058",
    "wires": []
  },
  {
    "id": "fd275e00.86cf8",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "comments": "",
    "outputs": 1,
    "x": 1161.0045261383057,
    "y": 566.6668565273285,
    "z": "f765645f.7b8058",
    "wires": [
      []
    ]
  },
  {
    "id": "ec3af845.5c1818",
    "type": "execute",
    "name": "execute Properties",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
    "comments": "",
    "outputs": 1,
    "x": 716.0038948059082,
    "y": 142.0000295639038,
    "z": "f765645f.7b8058",
    "wires": [
      []
    ]
  },
  {
    "id": "7caacd63.309604",
    "type": "execute",
    "name": "execute RestApiCallNode Get token",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/actokentemplate.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/v2/tokens'`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"token-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.openecomp.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>",
    "comments": "",
    "outputs": 1,
    "x": 765.0041751861572,
    "y": 405.66669368743896,
    "z": "f765645f.7b8058",
    "wires": [
      [
        "187682f0.2e0ced",
        "97689994.fe4b58"
      ]
    ]
  },
  {
    "id": "187682f0.2e0ced",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 999.0042133331299,
    "y": 391.6667184829712,
    "z": "f765645f.7b8058",
    "wires": [
      [
        "dfaa5b94.faad78"
      ]
    ]
  },
  {
    "id": "97689994.fe4b58",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 992.2541751861572,
    "y": 437.3095769882202,
    "z": "f765645f.7b8058",
    "wires": [
      [
        "3f21f41a.0451bc"
      ]
    ]
  },
  {
    "id": "3f21f41a.0451bc",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing get token rest api\" />\n",
    "comments": "",
    "x": 1145.0041751861572,
    "y": 437.05963802337646,
    "z": "f765645f.7b8058",
    "wires": []
  },
  {
    "id": "dfaa5b94.faad78",
    "type": "set",
    "name": "set token-id",
    "xml": "<set>\n<parameter name='prop.sdncRestApi.token_id' value='`$token-result.data.token_id`' />\n",
    "comments": "",
    "x": 1153.0042133331299,
    "y": 392.6667184829712,
    "z": "f765645f.7b8058",
    "wires": []
  },
  {
    "id": "de28481b.2e84a8",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1955.0040168762207,
    "y": 151.00004482269287,
    "z": "f765645f.7b8058",
    "wires": [
      [
        "a23df7c7.a5b718",
        "c1a4bc96.3c58",
        "c7716aba.aa75c8"
      ]
    ]
  },
  {
    "id": "5ba1424c.f63d5c",
    "type": "update",
    "name": "save SDWAN wan port instance configuration in AAI",
    "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='wan-port-config' \n      key='wan-port-config.id = $service-data.vnfs.vnf[$tmp.vidx].vnf-id' >\n<parameter name=\"id\" value=\"`$service-data.vnfs.vnf[$tmp.vidx].vnf-id`\" />\n<parameter name='operational-status' value='PendingDelete' />\n<parameter name='model-customization-id' value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-customization-uuid`' />\n<parameter name='model-invariant-id' value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-invariant-uuid`' />\n<parameter name='model-version-id' value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-uuid`' />\n",
    "comments": "",
    "outputs": 1,
    "x": 801.0041923522949,
    "y": 881.0004291534424,
    "z": "f765645f.7b8058",
    "wires": [
      []
    ]
  },
  {
    "id": "a23df7c7.a5b718",
    "type": "set",
    "name": "set tmp.vidx and ctx.vnf-data",
    "xml": "<set>\n<parameter name='tmp.vidx' value='`$vidx`' />\n<parameter name='ctx.vnf-data.' value='`$service-data.vnfs.vnf[$vidx].`' />\n",
    "comments": "",
    "x": 2205.0352516174316,
    "y": 102.03129148483276,
    "z": "f765645f.7b8058",
    "wires": []
  },
  {
    "id": "c1a4bc96.3c58",
    "type": "set",
    "name": "set vnf-request-input.",
    "xml": "<set>\n<parameter name='vnf-request-input.' value='`$ctx.vnf-data.vnf-data.vnf-request-input.`' />\n\n",
    "comments": "",
    "x": 2177.4815406799316,
    "y": 148.6889271736145,
    "z": "f765645f.7b8058",
    "wires": []
  },
  {
    "id": "c7716aba.aa75c8",
    "type": "call",
    "name": "call sdwan-get-wan-param",
    "xml": "<call module='GENERIC-RESOURCE-API' rpc='sdwan-get-wan-param' mode='sync' >\n",
    "comments": "",
    "outputs": 1,
    "x": 2201.481491088867,
    "y": 198.68891525268555,
    "z": "f765645f.7b8058",
    "wires": [
      []
    ]
  }
]
