[
  {
    "id": "7b8cbc85.2da064",
    "type": "dgstart",
    "name": "DGSTART",
    "outputs": 1,
    "x": 100.00390625,
    "y": 55.99999871850014,
    "z": "b1933fd7.45eec",
    "wires": [
      [
        "e9b1afb9.5ff99"
      ]
    ]
  },
  {
    "id": "e9b1afb9.5ff99",
    "type": "service-logic",
    "name": "GENERIC-RESOURCE-API ${project.version}",
    "module": "GENERIC-RESOURCE-API",
    "version": "${project.version}",
    "comments": "",
    "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
    "outputs": 1,
    "x": 248.2895965576172,
    "y": 106.23810735344887,
    "z": "b1933fd7.45eec",
    "wires": [
      [
        "4b2b7cbd.d36844"
      ]
    ]
  },
  {
    "id": "4b2b7cbd.d36844",
    "type": "method",
    "name": "method sdwan-vnf-topology-operation-wanport-deactivate",
    "xml": "<method rpc='sdwan-vnf-topology-operation-wanport-deactivate' mode='sync'>\n",
    "comments": "",
    "outputs": 1,
    "x": 282.4325180053711,
    "y": 190.00001588463783,
    "z": "b1933fd7.45eec",
    "wires": [
      [
        "5407681f.e8b5e8"
      ]
    ]
  },
  {
    "id": "5407681f.e8b5e8",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 257.6706123352051,
    "y": 574.6666819155216,
    "z": "b1933fd7.45eec",
    "wires": [
      [
        "df156b9b.893498",
        "be3201ef.467c4",
        "860b5ecf.dd7b5",
        "16992179.73e94f",
        "98f2142f.e861f8",
        "d04b477e.b0b688",
        "873153fb.ad4f6",
        "104270ca.7ed57f",
        "e4cc3ba0.aaef78",
        "8c780213.0f5d9",
        "a5d33dff.966b"
      ]
    ]
  },
  {
    "id": "df156b9b.893498",
    "type": "switchNode",
    "name": "switch service-data.vnfs.vnf_length",
    "xml": "<switch test='`$service-data.vnfs.vnf_length`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 763.0248603820801,
    "y": 99.02095222473145,
    "z": "b1933fd7.45eec",
    "wires": [
      [
        "cd5b067d.e6ac48",
        "8805239b.f3949",
        "b1447a06.d6b6b8"
      ]
    ]
  },
  {
    "id": "cd5b067d.e6ac48",
    "type": "other",
    "name": "Null",
    "xml": "<outcome value=''>\n",
    "comments": "",
    "outputs": 1,
    "x": 1006.024787902832,
    "y": 124.02103519439697,
    "z": "b1933fd7.45eec",
    "wires": [
      [
        "e50203dd.f1638"
      ]
    ]
  },
  {
    "id": "e50203dd.f1638",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"vnf-topology-operation-input.vnf-request-input.vnf-id not found in service-data\" />\n",
    "comments": "",
    "x": 1154.8022994995117,
    "y": 103.9099702835083,
    "z": "b1933fd7.45eec",
    "wires": []
  },
  {
    "id": "8805239b.f3949",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1007.0251121520996,
    "y": 157.02105808258057,
    "z": "b1933fd7.45eec",
    "wires": [
      [
        "ec39454c.89fad8"
      ]
    ]
  },
  {
    "id": "ec39454c.89fad8",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1154.2948150634766,
    "y": 146.57558059692383,
    "z": "b1933fd7.45eec",
    "wires": [
      [
        "581f3be0.95f264",
        "9ccafa3a.a3a8e8"
      ]
    ]
  },
  {
    "id": "581f3be0.95f264",
    "type": "for",
    "name": "for vidx..service-data.vnfs.vnf_length[]",
    "xml": "<for index='vidx' start='0' end='`$service-data.vnfs.vnf_length`' >\n",
    "comments": "",
    "outputs": 1,
    "x": 1399.310775756836,
    "y": 98.44958019256592,
    "z": "b1933fd7.45eec",
    "wires": [
      [
        "66dc1ec4.8151c"
      ]
    ]
  },
  {
    "id": "9ccafa3a.a3a8e8",
    "type": "switchNode",
    "name": "switch tmp.vidx ",
    "xml": "<switch test=\"`$tmp.vidx`\">\n\n",
    "comments": "",
    "outputs": 1,
    "x": 1330.6121292114258,
    "y": 146.43275928497314,
    "z": "b1933fd7.45eec",
    "wires": [
      [
        "4834ec00.0aabb4"
      ]
    ]
  },
  {
    "id": "4834ec00.0aabb4",
    "type": "outcome",
    "name": "NULL",
    "xml": "<outcome value=''>\n",
    "comments": "",
    "outputs": 1,
    "x": 1484.0407676696777,
    "y": 145.00417232513428,
    "z": "b1933fd7.45eec",
    "wires": [
      [
        "fddc1ade.282818"
      ]
    ]
  },
  {
    "id": "5b23a76a.488d28",
    "type": "switchNode",
    "name": "switch vnfid found",
    "xml": "<switch test=\"`$service-data.vnfs.vnf[$vidx].vnf-id == $vnf-topology-operation-input.vnf-information.vnf-id`\">\n\n",
    "comments": "",
    "outputs": 1,
    "x": 1770.739356994629,
    "y": 95.69969272613525,
    "z": "b1933fd7.45eec",
    "wires": [
      [
        "acf51a78.0a9178"
      ]
    ]
  },
  {
    "id": "fddc1ade.282818",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"vnf-topology-operation-input.vnf-request-input.vnf-id not found in service-data\" />\n",
    "comments": "",
    "x": 1620.4691619873047,
    "y": 144.14703464508057,
    "z": "b1933fd7.45eec",
    "wires": []
  },
  {
    "id": "acf51a78.0a9178",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1809.691505432129,
    "y": 150.59241199493408,
    "z": "b1933fd7.45eec",
    "wires": [
      [
        "4a7918ac.67fac8"
      ]
    ]
  },
  {
    "id": "b1447a06.d6b6b8",
    "type": "outcome",
    "name": "0",
    "xml": "<outcome value='0'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1002.9935340881348,
    "y": 91.98973083496094,
    "z": "b1933fd7.45eec",
    "wires": [
      [
        "e50203dd.f1638"
      ]
    ]
  },
  {
    "id": "66dc1ec4.8151c",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1618.6604080200195,
    "y": 97.9896411895752,
    "z": "b1933fd7.45eec",
    "wires": [
      [
        "5b23a76a.488d28"
      ]
    ]
  },
  {
    "id": "be3201ef.467c4",
    "type": "set",
    "name": "set vnf in service-data",
    "xml": "<set>\n<!--parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-id' value='`$vnf-topology-operation-input.vnf-information.vnf-id`' /-->\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.sdnc-request-header.' value='`$vnf-topology-operation-input.sdnc-request-header.`' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.request-information.' value='`$vnf-topology-operation-input.request-information.`' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.service-information.' value='`$vnf-topology-operation-input.service-information.`' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-information.' value='`$vnf-topology-operation-input.vnf-information.`' />\n\n",
    "comments": "",
    "x": 718.338077545166,
    "y": 747.6668863296509,
    "z": "b1933fd7.45eec",
    "wires": []
  },
  {
    "id": "860b5ecf.dd7b5",
    "type": "set",
    "name": "set vnfId and vnf-object-path",
    "xml": "<set>\n<parameter name='vnfId' value='`$vnf-topology-operation-input.vnf-information.vnf-id`' />\n<parameter name=\"vnf-object-path\" value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'  + $vnf-topology-operation-input.service-information.service-instance-id  + '/service-data/vnfs/vnf/'  + $vnf-topology-operation-input.vnf-information.vnf-id  + '/vnf-data/'` \" />",
    "comments": "",
    "x": 730.8937187194824,
    "y": 804.889181137085,
    "z": "b1933fd7.45eec",
    "wires": []
  },
  {
    "id": "16992179.73e94f",
    "type": "set",
    "name": "set vnf-level-oper-status to PendingDelete",
    "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-level-oper-status.order-status' value='PendingDelete' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-level-oper-status.last-rpc-action' value='`$vnf-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-level-oper-status.last-action' value='`$vnf-topology-operation-input.request-information.request-action`' />\n",
    "comments": "",
    "x": 773.3380928039551,
    "y": 839.6670169830322,
    "z": "b1933fd7.45eec",
    "wires": []
  },
  {
    "id": "98f2142f.e861f8",
    "type": "returnSuccess",
    "name": "return success",
    "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
    "comments": "",
    "x": 683.6714630126953,
    "y": 928.4448499679565,
    "z": "b1933fd7.45eec",
    "wires": []
  },
  {
    "id": "873153fb.ad4f6",
    "type": "get-resource",
    "name": "get-resource esr-thirdparty-sdnc",
    "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = SDWANController AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.esr-thirdparty-sdnc' local-only='false' >\n\n",
    "comments": "",
    "outputs": 1,
    "x": 743.5042667388916,
    "y": 267.00012239813805,
    "z": "b1933fd7.45eec",
    "wires": [
      [
        "5df9a8e2.afb138",
        "e0b2bff0.163f1",
        "a120de42.8cdeb"
      ]
    ]
  },
  {
    "id": "5df9a8e2.afb138",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 962.5042362213135,
    "y": 226.00011897087097,
    "z": "b1933fd7.45eec",
    "wires": [
      [
        "c101e40a.a37c18"
      ]
    ]
  },
  {
    "id": "e0b2bff0.163f1",
    "type": "not-found",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 965.9952030181885,
    "y": 273.5741546154022,
    "z": "b1933fd7.45eec",
    "wires": [
      [
        "1f1c50e3.e0332f"
      ]
    ]
  },
  {
    "id": "a120de42.8cdeb",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 961.3282108306885,
    "y": 314.9074676036835,
    "z": "b1933fd7.45eec",
    "wires": [
      [
        "4fef696b.8e5e98"
      ]
    ]
  },
  {
    "id": "4fef696b.8e5e98",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
    "comments": "",
    "x": 1149.1007671356201,
    "y": 310.3466603755951,
    "z": "b1933fd7.45eec",
    "wires": []
  },
  {
    "id": "1f1c50e3.e0332f",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
    "comments": "",
    "x": 1142.566614151001,
    "y": 261.8598906993866,
    "z": "b1933fd7.45eec",
    "wires": []
  },
  {
    "id": "c101e40a.a37c18",
    "type": "set",
    "name": "set controller data",
    "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.url' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.user' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.password' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n",
    "comments": "",
    "x": 1143.0043392181396,
    "y": 220.00015768408775,
    "z": "b1933fd7.45eec",
    "wires": []
  },
  {
    "id": "8c780213.0f5d9",
    "type": "execute",
    "name": "execute RestApiCallNode device port delete",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sdwan-device-port-del.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/campus/v1/sdwan/net/ports/action/batch-delete'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"portResp\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.openecomp.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
    "comments": "",
    "outputs": 1,
    "x": 776.0044193267822,
    "y": 642.666867017746,
    "z": "b1933fd7.45eec",
    "wires": [
      [
        "a8a639cc.af8fc8",
        "b547a1c8.93a66"
      ]
    ]
  },
  {
    "id": "a8a639cc.af8fc8",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1022.0044040679932,
    "y": 680.6669557094574,
    "z": "b1933fd7.45eec",
    "wires": [
      [
        "da37396d.3af718"
      ]
    ]
  },
  {
    "id": "b547a1c8.93a66",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1018.0044841766357,
    "y": 634.6668708324432,
    "z": "b1933fd7.45eec",
    "wires": [
      [
        "bf4f49a8.2593f8"
      ]
    ]
  },
  {
    "id": "bf4f49a8.2593f8",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create vpn rest api\" />\n",
    "comments": "",
    "x": 1159.0045757293701,
    "y": 634.6668717861176,
    "z": "b1933fd7.45eec",
    "wires": []
  },
  {
    "id": "da37396d.3af718",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "comments": "",
    "outputs": 1,
    "x": 1166.0042705535889,
    "y": 678.6668746471405,
    "z": "b1933fd7.45eec",
    "wires": [
      []
    ]
  },
  {
    "id": "e4cc3ba0.aaef78",
    "type": "execute",
    "name": "execute RestApiCallNode wan port delete",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sdwan-wan-port-del.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/campus/v1/sdwan/net/transport-network-ports/action/batch-delete'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"portResp\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.openecomp.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
    "comments": "",
    "outputs": 1,
    "x": 767.0045871734619,
    "y": 535.666864156723,
    "z": "b1933fd7.45eec",
    "wires": [
      [
        "456c9aa6.bae384",
        "c9572446.4deba8"
      ]
    ]
  },
  {
    "id": "456c9aa6.bae384",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1000.0046825408936,
    "y": 568.6668565273285,
    "z": "b1933fd7.45eec",
    "wires": [
      [
        "3ae835e7.d94c3a"
      ]
    ]
  },
  {
    "id": "c9572446.4deba8",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1004.0047626495361,
    "y": 504.66693472862244,
    "z": "b1933fd7.45eec",
    "wires": [
      [
        "2bd63ac3.ca30f6"
      ]
    ]
  },
  {
    "id": "2bd63ac3.ca30f6",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create vpn rest api\" />\n",
    "comments": "",
    "x": 1149.004934310913,
    "y": 506.66693472862244,
    "z": "b1933fd7.45eec",
    "wires": []
  },
  {
    "id": "3ae835e7.d94c3a",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "comments": "",
    "outputs": 1,
    "x": 1156.0045261383057,
    "y": 566.6668565273285,
    "z": "b1933fd7.45eec",
    "wires": [
      []
    ]
  },
  {
    "id": "d04b477e.b0b688",
    "type": "execute",
    "name": "execute Properties",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
    "comments": "",
    "outputs": 1,
    "x": 711.0038948059082,
    "y": 142.0000295639038,
    "z": "b1933fd7.45eec",
    "wires": [
      []
    ]
  },
  {
    "id": "104270ca.7ed57f",
    "type": "execute",
    "name": "execute RestApiCallNode Get token",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/actokentemplate.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/v2/tokens'`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"token-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.openecomp.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>",
    "comments": "",
    "outputs": 1,
    "x": 760.0041751861572,
    "y": 405.66669368743896,
    "z": "b1933fd7.45eec",
    "wires": [
      [
        "4437f7fc.652918",
        "1c05902b.92524"
      ]
    ]
  },
  {
    "id": "4437f7fc.652918",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 994.0042133331299,
    "y": 391.6667184829712,
    "z": "b1933fd7.45eec",
    "wires": [
      [
        "a3e2158c.084138"
      ]
    ]
  },
  {
    "id": "1c05902b.92524",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 987.2541751861572,
    "y": 437.3095769882202,
    "z": "b1933fd7.45eec",
    "wires": [
      [
        "7ff91448.c6f30c"
      ]
    ]
  },
  {
    "id": "7ff91448.c6f30c",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing get token rest api\" />\n",
    "comments": "",
    "x": 1140.0041751861572,
    "y": 437.05963802337646,
    "z": "b1933fd7.45eec",
    "wires": []
  },
  {
    "id": "a3e2158c.084138",
    "type": "set",
    "name": "set token-id",
    "xml": "<set>\n<parameter name='prop.sdncRestApi.token_id' value='`$token-result.data.token_id`' />\n",
    "comments": "",
    "x": 1148.0042133331299,
    "y": 392.6667184829712,
    "z": "b1933fd7.45eec",
    "wires": []
  },
  {
    "id": "4a7918ac.67fac8",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1950.0040168762207,
    "y": 151.00004482269287,
    "z": "b1933fd7.45eec",
    "wires": [
      [
        "bb491f3b.31d3b",
        "af8f15c9.eb4d58",
        "df2693ee.5beea"
      ]
    ]
  },
  {
    "id": "a5d33dff.966b",
    "type": "update",
    "name": "save SDWAN wan port instance configuration in AAI",
    "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='wan-port-config' \n      key='wan-port-config.id = $vnf-topology-operation-input.vnf-information.vnf-id' >\n<parameter name=\"id\" value=\"`$vnf-topology-operation-input.vnf-information.vnf-id`\" />\n<parameter name='operational-status' value='PendingDelete' />\n<parameter name='model-customization-id' value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-customization-uuid`' />\n<parameter name='model-invariant-id' value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-invariant-uuid`' />\n<parameter name='model-version-id' value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-uuid`' />\n",
    "comments": "",
    "outputs": 1,
    "x": 796.0041923522949,
    "y": 881.0004291534424,
    "z": "b1933fd7.45eec",
    "wires": [
      []
    ]
  },
  {
    "id": "bb491f3b.31d3b",
    "type": "set",
    "name": "set tmp.vidx and ctx.vnf-data",
    "xml": "<set>\n<parameter name='tmp.vidx' value='`$vidx`' />\n<parameter name='ctx.vnf-data.' value='`$service-data.vnfs.vnf[$vidx].`' />\n",
    "comments": "",
    "x": 2200.0352516174316,
    "y": 102.03129148483276,
    "z": "b1933fd7.45eec",
    "wires": []
  },
  {
    "id": "af8f15c9.eb4d58",
    "type": "set",
    "name": "set vnf-request-input.",
    "xml": "<set>\n<parameter name='vnf-request-input.' value='`$ctx.vnf-data.vnf-data.vnf-request-input.`' />\n\n",
    "comments": "",
    "x": 2172.4815406799316,
    "y": 148.6889271736145,
    "z": "b1933fd7.45eec",
    "wires": []
  },
  {
    "id": "df2693ee.5beea",
    "type": "call",
    "name": "call sdwan-get-wan-param",
    "xml": "<call module='GENERIC-RESOURCE-API' rpc='sdwan-get-wan-param' mode='sync' >\n",
    "comments": "",
    "outputs": 1,
    "x": 2196.481491088867,
    "y": 198.68891525268555,
    "z": "b1933fd7.45eec",
    "wires": [
      []
    ]
  }
]
