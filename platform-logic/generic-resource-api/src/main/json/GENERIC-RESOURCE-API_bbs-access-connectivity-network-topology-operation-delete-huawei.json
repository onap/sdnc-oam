[
    {
        "id": "9258ad5d.d05ba",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 289.50011825561523,
        "y": 436.0000114440918,
        "z": "828aeb02.de4ff8",
        "wires": [
            [
                "377de850.27cec8"
            ]
        ]
    },
    {
        "id": "377de850.27cec8",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 677.5,
        "y": 436.0000162124634,
        "z": "828aeb02.de4ff8",
        "wires": [
            [
                "7334f5ac.b08f4c"
            ]
        ]
    },
    {
        "id": "7334f5ac.b08f4c",
        "type": "method",
        "name": "method:bbs-access-connectivity-network-topology-operation-delete-huawei",
        "xml": "<method rpc='bbs-access-connectivity-network-topology-operation-delete-huawei' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 640.5,
        "y": 555.0000162124634,
        "z": "828aeb02.de4ff8",
        "wires": [
            [
                "a88453d9.f253b"
            ]
        ]
    },
    {
        "id": "a88453d9.f253b",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1038.5001068115234,
        "y": 554.0000162124634,
        "z": "828aeb02.de4ff8",
        "wires": [
            [
                "cb91ee20.76b95",
                "ca9aad5d.392e5",
                "c4485241.e819a",
                "c4d9d4a8.396518",
                "2637d1ad.97175e",
                "bc596678.34ee28",
                "c3d1b49e.311728"
            ]
        ]
    },
    {
        "id": "cb91ee20.76b95",
        "type": "execute",
        "name": "excute:readProperties",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1480.5004043579102,
        "y": 408.11109733581543,
        "z": "828aeb02.de4ff8",
        "wires": [
            []
        ]
    },
    {
        "id": "bc596678.34ee28",
        "type": "for",
        "name": "for:network-input-paramters",
        "xml": "<for index='idx' start='0' end='`$network-input-parameters.param_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1484.5004272460938,
        "y": 629.999942779541,
        "z": "828aeb02.de4ff8",
        "wires": [
            [
                "e67c3291.c9f3e"
            ]
        ]
    },
    {
        "id": "2637d1ad.97175e",
        "type": "execute",
        "name": "execute:querryTokenID",
        "xml": " <execute plugin=\"org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode\" method=\"sendRequest\">\n    <parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/bbs-token-template.json'`\"/>\n    <parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url+'/rest/plat/smapp/v1/oauth/token'`\"/>\n    <parameter name=\"format\" value=\"json\"/>\n    <parameter name=\"httpMethod\" value=\"put\"/>\n    <parameter name=\"responsePrefix\" value=\"token-result\"/>\n    <parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n    <parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n    <parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n    <parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1475.5004272460938,
        "y": 540.0000190734863,
        "z": "828aeb02.de4ff8",
        "wires": [
            [
                "3ddf50e9.7ad19",
                "6fb4fdec.445914"
            ]
        ]
    },
    {
        "id": "6fb4fdec.445914",
        "type": "outcome",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1774.6670532226562,
        "y": 536.2500190734863,
        "z": "828aeb02.de4ff8",
        "wires": [
            [
                "bb09478d.013828"
            ]
        ]
    },
    {
        "id": "3ddf50e9.7ad19",
        "type": "outcome",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1770.6670532226562,
        "y": 430.2499885559082,
        "z": "828aeb02.de4ff8",
        "wires": [
            [
                "cafa7f31.58fb9"
            ]
        ]
    },
    {
        "id": "cafa7f31.58fb9",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"error-code\" value=\"500\" />\n<parameter name=\"error-message\" value=\"Error executing Get token rest api\" />\n",
        "comments": "",
        "x": 2341.4171752929688,
        "y": 422.2499885559082,
        "z": "828aeb02.de4ff8",
        "wires": []
    },
    {
        "id": "b7ad2681.5938c8",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 2141.5004348754883,
        "y": 478.9999752044678,
        "z": "828aeb02.de4ff8",
        "wires": [
            [
                "cafa7f31.58fb9"
            ]
        ]
    },
    {
        "id": "bb09478d.013828",
        "type": "switchNode",
        "name": "switch:token ",
        "xml": "<switch test='`$token-result.accessSession`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1973.5004348754883,
        "y": 536.9999752044678,
        "z": "828aeb02.de4ff8",
        "wires": [
            [
                "b7ad2681.5938c8",
                "c64cc196.0b01"
            ]
        ]
    },
    {
        "id": "c64cc196.0b01",
        "type": "outcome",
        "name": "Other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2142.5004348754883,
        "y": 535.9999752044678,
        "z": "828aeb02.de4ff8",
        "wires": [
            [
                "4a6b446f.138e7c"
            ]
        ]
    },
    {
        "id": "4a6b446f.138e7c",
        "type": "set",
        "name": "set:token-id",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.token_id' value='`$token-result.accessSession`' />\n",
        "comments": "",
        "x": 2317.0004272460938,
        "y": 535.2500190734863,
        "z": "828aeb02.de4ff8",
        "wires": []
    },
    {
        "id": "69330fca.c0655",
        "type": "record",
        "name": "log file",
        "xml": " <record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n    <parameter name=\"file\" value=\"/opt/oak/logx.txt\" />\n    <parameter name=\"field1\" value=\"__TIMESTAMP__\" />\n    <parameter name=\"field2\" value=\"sucess executing Get token rest api\" />\n    <parameter name=\"field3\" value=\"`$token-result.accessSession`\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 2528.5004272460938,
        "y": 532.9999580383301,
        "z": "828aeb02.de4ff8",
        "wires": [
            []
        ]
    },
    {
        "id": "c4d9d4a8.396518",
        "type": "set",
        "name": "set:variables",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.url' value='https://swisscom.onap.inhuawei.com:26335' />\n<parameter name='network-input-parameters.' value='`$network-topology-operation-input.network-request-input.network-input-parameters.`' />\n",
        "comments": "",
        "x": 1446.5004043579102,
        "y": 328.0001735687256,
        "z": "828aeb02.de4ff8",
        "wires": []
    },
    {
        "id": "c3d1b49e.311728",
        "type": "execute",
        "name": "execute:deleteAccessConnectivityService",
        "xml": "<execute plugin=\"org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode\" method=\"sendRequest\">\n    <parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/ws/rest/1002/FanOpenAPI/DeactivateOnt?serviceID='+$prop.bbs.serviceID`\" />\n    <parameter name=\"httpMethod\" value=\"get\"/>\n    <parameter name=\"contentType\" value=\"application/x-www-form-urlencoded\"/>\n    <parameter name=\"responsePrefix\" value=\"service-result\"/>\n    <parameter name=\"customHttpHeaders\" value=\"`'X-Auth-Token=' + $prop.sdncRestApi.token_id`\"/>\n    <parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n    <parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n    <parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n    <parameter name=\"keyStorePassword\" value=\"adminadmin\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1536.500690460205,
        "y": 810.0001218318939,
        "z": "828aeb02.de4ff8",
        "wires": [
            [
                "5321d4ef.5d4d2c",
                "d9cf5692.a52db8"
            ]
        ]
    },
    {
        "id": "5321d4ef.5d4d2c",
        "type": "outcome",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1841.5007057189941,
        "y": 750.0001029968262,
        "z": "828aeb02.de4ff8",
        "wires": [
            [
                "b0348a26.8427e8"
            ]
        ]
    },
    {
        "id": "d9cf5692.a52db8",
        "type": "outcome",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1841.5006790161133,
        "y": 809.0001027584076,
        "z": "828aeb02.de4ff8",
        "wires": [
            [
                "de1193ab.e5312"
            ]
        ]
    },
    {
        "id": "1e90d7c8.353078",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 2327.500789642334,
        "y": 706.0000369548798,
        "z": "828aeb02.de4ff8",
        "wires": [
            [
                "b0348a26.8427e8"
            ]
        ]
    },
    {
        "id": "b0348a26.8427e8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"error-code\" value=\"500\" />\n<parameter name=\"error-message\" value=\"invalid network-input-parameters.param in bbs-access-connectivity-network-topology-operation-delete\" />\n",
        "comments": "",
        "x": 2531.5006313323975,
        "y": 745.0000369548798,
        "z": "828aeb02.de4ff8",
        "wires": []
    },
    {
        "id": "e67c3291.c9f3e",
        "type": "switchNode",
        "name": "switch:serviceID",
        "xml": "<switch test=\"`$network-input-parameters.param[$idx].name == 'serviceID'`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 1759.5004539489746,
        "y": 629.0000305175781,
        "z": "828aeb02.de4ff8",
        "wires": [
            [
                "fb75295a.8000b8"
            ]
        ]
    },
    {
        "id": "fb75295a.8000b8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1932.5003385543823,
        "y": 628.0000286102295,
        "z": "828aeb02.de4ff8",
        "wires": [
            [
                "c27015c2.2e9f58"
            ]
        ]
    },
    {
        "id": "7c852ec3.9bf23",
        "type": "set",
        "name": "set:serviceID",
        "xml": "<set>\n<parameter name='prop.bbs.serviceID' value='`$network-input-parameters.param[$idx].value`' />\n",
        "comments": "",
        "x": 2503.5003051757812,
        "y": 627.600040435791,
        "z": "828aeb02.de4ff8",
        "wires": []
    },
    {
        "id": "c27015c2.2e9f58",
        "type": "switchNode",
        "name": "switch:serviceID value",
        "xml": "<switch test='`$network-input-parameters.param[$idx].value`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2113.6484985351562,
        "y": 627.7777137756348,
        "z": "828aeb02.de4ff8",
        "wires": [
            [
                "9c90b9c1.bc3cb8",
                "1e90d7c8.353078"
            ]
        ]
    },
    {
        "id": "9c90b9c1.bc3cb8",
        "type": "outcome",
        "name": "Other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2321.6484985351562,
        "y": 628.7777137756348,
        "z": "828aeb02.de4ff8",
        "wires": [
            [
                "7c852ec3.9bf23"
            ]
        ]
    },
    {
        "id": "ca9aad5d.392e5",
        "type": "call",
        "name": "call:validate-bbs-network-input-parameters",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='validate-bbs-network-input-parameters' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1558.0000305175781,
        "y": 247.00002479553223,
        "z": "828aeb02.de4ff8",
        "wires": [
            []
        ]
    },
    {
        "id": "477b70c6.2a5c9",
        "type": "record",
        "name": "log file",
        "xml": " <record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n    <parameter name=\"file\" value=\"/opt/oak/logx.txt\" />\n    <parameter name=\"field1\" value=\"deleteAccessConnectivityService success!\" />\n    <parameter name=\"field2\" value=\"`$service-result.accessE2Eservice.serviceID`\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 2885.0005645751953,
        "y": 911.0001068115234,
        "z": "828aeb02.de4ff8",
        "wires": [
            []
        ]
    },
    {
        "id": "de1193ab.e5312",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2018.0004768371582,
        "y": 810.0002808570862,
        "z": "828aeb02.de4ff8",
        "wires": [
            [
                "754aabd8.cabdb4"
            ]
        ]
    },
    {
        "id": "754aabd8.cabdb4",
        "type": "switchNode",
        "name": "switch:service-result",
        "xml": "<switch test=\"`$service-result.errors.error[0].error-message`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 2236.0003547668457,
        "y": 809.0001282691956,
        "z": "828aeb02.de4ff8",
        "wires": [
            [
                "2dd16d0d.e63022",
                "c62a673d.9cf0e8"
            ]
        ]
    },
    {
        "id": "2dd16d0d.e63022",
        "type": "outcome",
        "name": "Other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2470.000400543213,
        "y": 810.0000882148743,
        "z": "828aeb02.de4ff8",
        "wires": [
            [
                "6c15beca.e4e8a"
            ]
        ]
    },
    {
        "id": "c62a673d.9cf0e8",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 2472.000400543213,
        "y": 896.0000882148743,
        "z": "828aeb02.de4ff8",
        "wires": [
            [
                "c04ee5c.68b7018"
            ]
        ]
    },
    {
        "id": "5e21416c.565be",
        "type": "record",
        "name": "log error",
        "xml": " <record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n    <parameter name=\"file\" value=\"/opt/oak/logx.txt\" />\n    <parameter name=\"field1\" value=\"deleteAccessConnectivityService falied!\" />\n    <parameter name=\"field2\" value=\"`$service-result.errors.error[0].error-info.error-code`\" />\n    <parameter name=\"field3\" value=\"`$service-result.errors.error[0].error-message`\" />\n    <parameter name=\"field4\" value=\"`$service-result.errors.error[0].error-tag`\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 2910.0005645751953,
        "y": 797.0001049041748,
        "z": "828aeb02.de4ff8",
        "wires": [
            []
        ]
    },
    {
        "id": "c4485241.e819a",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 1438.000244140625,
        "y": 948.0000305175781,
        "z": "828aeb02.de4ff8",
        "wires": []
    },
    {
        "id": "6c15beca.e4e8a",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"error-code\" value=\"500\" />\n<parameter name=\"error-message\" value=\"`'Error deleteAccessConnectivityService failed: '+$service-result.errors.error[0].error-message`\" />\n\n",
        "comments": "",
        "x": 2670.0000762939453,
        "y": 810.0000228881836,
        "z": "828aeb02.de4ff8",
        "wires": []
    },
    {
        "id": "c04ee5c.68b7018",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2656.0000762939453,
        "y": 898.0000267028809,
        "z": "828aeb02.de4ff8",
        "wires": [
            []
        ]
    }
]