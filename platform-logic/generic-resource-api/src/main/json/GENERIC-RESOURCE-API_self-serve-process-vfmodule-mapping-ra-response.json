[{"id":"6b4b49f.1055fb8","type":"dgstart","name":"DGSTART","outputs":1,"x":138.75,"y":96.25,"z":"526171ae.fedf5","wires":[["3c107915.6fa3a6"]]},{"id":"3c107915.6fa3a6","type":"service-logic","name":"GENERIC-RESOURCE-API ${project.version}","module":"GENERIC-RESOURCE-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>","outputs":1,"x":414.75,"y":97.25,"z":"526171ae.fedf5","wires":[["cbd0ebd1.6e8f08"]]},{"id":"cbd0ebd1.6e8f08","type":"method","name":"self-serve-process-vfmodule-mapping-ra-response","xml":"<method rpc='self-serve-process-vfmodule-mapping-ra-response' mode='sync'>\n","comments":"","outputs":1,"x":304.25001525878906,"y":151.00000190734863,"z":"526171ae.fedf5","wires":[["f5bce3e6.1e567"]]},{"id":"f5bce3e6.1e567","type":"block","name":"block atomic","xml":"<block atomic=\"true\">\n","atomic":"false","comments":"","outputs":1,"x":198.0158462524414,"y":221.86904907226562,"z":"526171ae.fedf5","wires":[["9ce5b52e.48c908","d3cc5884.c30558","abee92b7.bc9c3","b79744d9.2bff98"]]},{"id":"9ce5b52e.48c908","type":"switchNode","name":"switch resolution-summary_length","xml":"<switch test='`$jsonContextPrefix.resolution-summary_length`'>\n","comments":"","outputs":1,"x":489.8015441894531,"y":265.2380962371826,"z":"526171ae.fedf5","wires":[["a0ee3414.05b128"]]},{"id":"a0ee3414.05b128","type":"not-found","name":"NULL","xml":"<outcome value=''>\n","comments":"","outputs":1,"x":798.3729553222656,"y":264.6666851043701,"z":"526171ae.fedf5","wires":[["ac033f2d.3200b"]]},{"id":"ac033f2d.3200b","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"resolution-summary_length is null\" />\n","comments":"","x":969.3729934692383,"y":265.238094329834,"z":"526171ae.fedf5","wires":[]},{"id":"d3cc5884.c30558","type":"for","name":"for resolution-summary[]","xml":"<for silentFailure='true'  index='vdns-index' start='0' end='`$jsonContextPrefix.resolution-summary_length`' >\n","comments":"","outputs":1,"x":456.01190185546875,"y":475.23812103271484,"z":"526171ae.fedf5","wires":[["dbd631f0.7febe"]]},{"id":"96cd4f.fc62d2b","type":"set","name":" ADD resolution-summary[].name/value to param[]","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].name' \n\tvalue='`$jsonContextPrefix.resolution-summary[$vdns-index].name`'/>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].value' \n\tvalue='`$jsonContextPrefix.resolution-summary[$vdns-index].value`'/>","comments":"","x":1687.5118865966797,"y":557.4881381988525,"z":"526171ae.fedf5","wires":[]},{"id":"2407a617.5c3aba","type":"for","name":"for vf-module-parameters.param[]","xml":"<for silentFailure='true' index='param-index' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param_length`' >\n","comments":"","outputs":1,"x":1359.2619094848633,"y":474.2381362915039,"z":"526171ae.fedf5","wires":[["857d3ce4.02812"]]},{"id":"dbd631f0.7febe","type":"block","name":"block atomic","xml":"<block atomic=\"true\">","atomic":"false","comments":"","outputs":1,"x":684.0118827819824,"y":474.9881372451782,"z":"526171ae.fedf5","wires":[["a8493bfd.538ca8","7fadd92a.eb8488","874b271f.dcac88"]]},{"id":"857d3ce4.02812","type":"switchNode","name":"switch param[].name == resolution-summary[].name","xml":"<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$param-index].name == $jsonContextPrefix.resolution-summary[$vdns-index].name`'>","comments":"","outputs":1,"x":1755.2619094848633,"y":474.2381362915039,"z":"526171ae.fedf5","wires":[["61ccc27c.9706bc"]]},{"id":"61ccc27c.9706bc","type":"not-found","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2075.2619094848633,"y":474.2381362915039,"z":"526171ae.fedf5","wires":[["5eb760a7.ca8b"]]},{"id":"767ab148.95e74","type":"set","name":"set param[].value = resolution-summary[].value","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$param-index].value' \n\tvalue='`$jsonContextPrefix.resolution-summary[$vdns-index].value`'/>\n","comments":"","x":2500.2620277404785,"y":442.4881362915039,"z":"526171ae.fedf5","wires":[]},{"id":"874b271f.dcac88","type":"switchNode","name":"switch tmp.mso.param.found","xml":"<switch test='`$tmp.mso.param.found`'>\n","comments":"","outputs":1,"x":930.0118865966797,"y":556.9881381988525,"z":"526171ae.fedf5","wires":[["36c79855.4818f8"]]},{"id":"36c79855.4818f8","type":"not-found","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1157.5118865966797,"y":556.4881381988525,"z":"526171ae.fedf5","wires":[["5e55393f.7f3178"]]},{"id":"a8493bfd.538ca8","type":"set","name":"set tmp.mso.param.found = false","xml":"<set>\n<parameter name='tmp.mso.param.found' value='false' />\n","comments":"","x":946.0118713378906,"y":397.23814964294434,"z":"526171ae.fedf5","wires":[]},{"id":"7fadd92a.eb8488","type":"switchNode","name":"switch prehighnum > 0","xml":"<switch test='`$prehighnum &gt; 0`'>\n","comments":"","outputs":1,"x":910.5118827819824,"y":474.9881372451782,"z":"526171ae.fedf5","wires":[["79213cb4.10d734"]]},{"id":"79213cb4.10d734","type":"not-found","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1125.047534942627,"y":474.80957984924316,"z":"526171ae.fedf5","wires":[["2407a617.5c3aba"]]},{"id":"5e55393f.7f3178","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1334.5118865966797,"y":556.4881381988525,"z":"526171ae.fedf5","wires":[["96cd4f.fc62d2b","3ec646c1.fece8a","ebe921a4.8fbc4","ea31d87.b092c28","9a192da8.5a885"]]},{"id":"3ec646c1.fece8a","type":"set","name":"highnum++","xml":"<set>\n\t<parameter name='highnum' value='`$highnum + 1`' />\n","comments":"","x":1554.4799880981445,"y":827.4840984344482,"z":"526171ae.fedf5","wires":[]},{"id":"69a400ee.5fa1e","type":"comment","name":"vdns-index","info":"","comments":"","x":487.73807525634766,"y":434.47620391845703,"z":"526171ae.fedf5","wires":[]},{"id":"3db6eec.3c5e512","type":"comment","name":"param-index","info":"","comments":"","x":1396.4880981445312,"y":433.4762029647827,"z":"526171ae.fedf5","wires":[]},{"id":"9973b602.5ec998","type":"set","name":"set tmp.mso.param.found = true","xml":"<set>\n<parameter name='tmp.mso.param.found' value='true' />\n","comments":"","x":2441.4880981445312,"y":506.7262077331543,"z":"526171ae.fedf5","wires":[]},{"id":"5eb760a7.ca8b","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":2213.4880981445312,"y":473.72620582580566,"z":"526171ae.fedf5","wires":[["767ab148.95e74","9973b602.5ec998"]]},{"id":"9a192da8.5a885","type":"for","name":"for key-identifiers[]","xml":"<for silentFailure='true'  index='kid-index' start='0' end='`$jsonContextPrefix.resolution-summary[$vdns-index].key-identifiers_length`' >\n","comments":"","outputs":1,"x":1580.0594940185547,"y":659.2976322174072,"z":"526171ae.fedf5","wires":[["7055c07e.16aca"]]},{"id":"7055c07e.16aca","type":"set","name":"set resource-key[] to key-identifiers[] ","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].resource-resolution-data.resource-key[$kid-index].name' \n\tvalue='`$jsonContextPrefix.resolution-summary[$vdns-index].key-identifiers[$kid-index].name`'/>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].resource-resolution-data.resource-key[$kid-index].value' \n\tvalue='`$jsonContextPrefix.resolution-summary[$vdns-index].key-identifiers[$kid-index].value`'/>\n","comments":"","x":1877.8095245361328,"y":659.5476417541504,"z":"526171ae.fedf5","wires":[]},{"id":"746854e.156b0ac","type":"set","name":"set request-payload","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].resource-resolution-data.payload' \n\tvalue='`$jsonContextPrefix.resolution-summary[$vdns-index].request-payload`'/>\n\n","comments":"","x":1608.8848266601562,"y":771.4721984863281,"z":"526171ae.fedf5","wires":[]},{"id":"1c0d5ecf.145b11","type":"comment","name":"Overwrite MSO input with RA response","info":"","comments":"","x":2136.988082885742,"y":414.47618675231934,"z":"526171ae.fedf5","wires":[]},{"id":"bf240c3d.97033","type":"comment","name":"NEW param from RA response","info":"","comments":"","x":1226.4880676269531,"y":523.226188659668,"z":"526171ae.fedf5","wires":[]},{"id":"ebe921a4.8fbc4","type":"set","name":"set resource-resolution-data.resource-key_length","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].resource-resolution-data.resource-key_length' \n\tvalue='`$jsonContextPrefix.resolution-summary[$vdns-index].key-identifiers_length`' />\n","comments":"","x":1684.3055572509766,"y":712.1229569911957,"z":"526171ae.fedf5","wires":[]},{"id":"b79744d9.2bff98","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"DONE: self-serve-process-vfmodule-mapping-ra-response\"/>\n\n","comments":"","outputs":1,"x":384.2618751525879,"y":1003.1824388504028,"z":"526171ae.fedf5","wires":[[]]},{"id":"abee92b7.bc9c3","type":"set","name":"set service-data...param_length","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param_length' \n\tvalue='`$highnum`'/>\n","comments":"","x":473.4761161804199,"y":950.0395412445068,"z":"526171ae.fedf5","wires":[]},{"id":"ea31d87.b092c28","type":"set","name":" set status, capability-name = dictionary-source","xml":"<set>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].resource-resolution-data.capability-name`' \n\tvalue='`$jsonContextPrefix.resolution-summary[$vdns-index].dictionary-source`'/>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].resource-resolution-data.status`' \n\tvalue='`$jsonContextPrefix.resolution-summary[$vdns-index].status`'/>\t","comments":"","x":1677.1428680419922,"y":608.5714321136475,"z":"526171ae.fedf5","wires":[]}]