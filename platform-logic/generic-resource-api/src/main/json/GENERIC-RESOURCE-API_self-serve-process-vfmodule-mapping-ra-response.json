[{"id":"4dffe5e5.2014cc","type":"dgstart","name":"DGSTART","outputs":1,"x":184.2857208251953,"y":84.28571319580078,"z":"41e4459d.447b8c","wires":[["2ce361bc.f836ce"]]},{"id":"2ce361bc.f836ce","type":"service-logic","name":"GENERIC-RESOURCE-API ${project.version}","module":"GENERIC-RESOURCE-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>","outputs":1,"x":460.2857208251953,"y":85.28571319580078,"z":"41e4459d.447b8c","wires":[["cfafb01f.8d49b"]]},{"id":"cfafb01f.8d49b","type":"method","name":"self-serve-process-vfmodule-mapping-ra-response","xml":"<method rpc='self-serve-process-vfmodule-mapping-ra-response' mode='sync'>\n","comments":"","outputs":1,"x":349.7857360839844,"y":139.0357151031494,"z":"41e4459d.447b8c","wires":[["d204cd73.3857c"]]},{"id":"d204cd73.3857c","type":"block","name":"block atomic","xml":"<block atomic=\"true\">\n","atomic":"false","comments":"","outputs":1,"x":243.55156707763672,"y":209.9047622680664,"z":"41e4459d.447b8c","wires":[["7add1820.763228","72dcae62.0aab6","b848ea26.075d18","958d6721.474458","69f6ae33.016d1"]]},{"id":"7add1820.763228","type":"switchNode","name":"switch resolution-summary_length","xml":"<switch test='`$jsonContextPrefix.resolution-summary_length`'>\n","comments":"","outputs":1,"x":535.3372650146484,"y":253.2738094329834,"z":"41e4459d.447b8c","wires":[["aa135c09.4b66e"]]},{"id":"aa135c09.4b66e","type":"not-found","name":"NULL","xml":"<outcome value=''>\n","comments":"","outputs":1,"x":843.9086761474609,"y":252.7023983001709,"z":"41e4459d.447b8c","wires":[["eef16a87.874de8"]]},{"id":"eef16a87.874de8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"resolution-summary_length is null\" />\n","comments":"","x":1014.9087142944336,"y":253.27380752563477,"z":"41e4459d.447b8c","wires":[]},{"id":"72dcae62.0aab6","type":"for","name":"for resolution-summary[]","xml":"<for silentFailure='true'  index='vdns-index' start='0' end='`$jsonContextPrefix.resolution-summary_length`' >\n","comments":"","outputs":1,"x":501.54762268066406,"y":463.2738342285156,"z":"41e4459d.447b8c","wires":[["f9ae9b79.bf3738"]]},{"id":"3b4b5171.7b11de","type":"set","name":" Set resolution-summary[].name to param[].name","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].name' \n\tvalue='`$jsonContextPrefix.resolution-summary[$vdns-index].name`'/>","comments":"","x":1733.047607421875,"y":545.5238513946533,"z":"41e4459d.447b8c","wires":[]},{"id":"f3b8559c.ea7078","type":"for","name":"for vf-module-parameters.param[]","xml":"<for silentFailure='true' index='param-index' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param_length`' >\n","comments":"","outputs":1,"x":1404.7976303100586,"y":462.2738494873047,"z":"41e4459d.447b8c","wires":[["e7afc417.ee7548"]]},{"id":"f9ae9b79.bf3738","type":"block","name":"block atomic","xml":"<block atomic=\"true\">","atomic":"false","comments":"","outputs":1,"x":729.5476036071777,"y":463.023850440979,"z":"41e4459d.447b8c","wires":[["7a396625.f84478","71739fc4.60f33","9d973e54.a0b6b"]]},{"id":"e7afc417.ee7548","type":"switchNode","name":"switch param[].name == resolution-summary[].name","xml":"<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$param-index].name == $jsonContextPrefix.resolution-summary[$vdns-index].name`'>","comments":"","outputs":1,"x":1800.7976303100586,"y":462.2738494873047,"z":"41e4459d.447b8c","wires":[["afcd5282.7577c"]]},{"id":"afcd5282.7577c","type":"not-found","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2120.7976303100586,"y":462.2738494873047,"z":"41e4459d.447b8c","wires":[["5f7a295a.f797f8"]]},{"id":"1f555f15.55e331","type":"set","name":"set param[].value = resolution-summary[].value","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$param-index].value' \n\tvalue='`$jsonContextPrefix.resolution-summary[$vdns-index].value`'/>\n","comments":"","x":2545.797748565674,"y":430.5238494873047,"z":"41e4459d.447b8c","wires":[]},{"id":"9d973e54.a0b6b","type":"switchNode","name":"switch tmp.mso.param.found","xml":"<switch test='`$tmp.mso.param.found`'>\n","comments":"","outputs":1,"x":975.547607421875,"y":545.0238513946533,"z":"41e4459d.447b8c","wires":[["2745cd4a.058652"]]},{"id":"2745cd4a.058652","type":"not-found","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1203.047607421875,"y":544.5238513946533,"z":"41e4459d.447b8c","wires":[["dccdd9d7.0b79f8"]]},{"id":"7a396625.f84478","type":"set","name":"set tmp.mso.param.found = false","xml":"<set>\n<parameter name='tmp.mso.param.found' value='false' />\n","comments":"","x":991.5475921630859,"y":385.2738628387451,"z":"41e4459d.447b8c","wires":[]},{"id":"71739fc4.60f33","type":"switchNode","name":"switch prehighnum > 0","xml":"<switch test='`$prehighnum &gt; 0`'>\n","comments":"","outputs":1,"x":956.0476036071777,"y":463.023850440979,"z":"41e4459d.447b8c","wires":[["66448f1f.e873c"]]},{"id":"66448f1f.e873c","type":"not-found","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1170.5832557678223,"y":462.84529304504395,"z":"41e4459d.447b8c","wires":[["f3b8559c.ea7078"]]},{"id":"dccdd9d7.0b79f8","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1380.047607421875,"y":544.5238513946533,"z":"41e4459d.447b8c","wires":[["3b4b5171.7b11de","8184abe7.2cf4d8","f160e4b4.12ad18","389e9c2c.beef34","6480c6ff.db9fb8","98db20a0.3df52"]]},{"id":"8184abe7.2cf4d8","type":"set","name":"highnum++","xml":"<set>\n\t<parameter name='highnum' value='`$highnum + 1`' />\n","comments":"","x":1600.015769958496,"y":956.9483280181885,"z":"41e4459d.447b8c","wires":[]},{"id":"b57595e3.b06de8","type":"comment","name":"vdns-index","info":"","comments":"","x":533.273796081543,"y":422.5119171142578,"z":"41e4459d.447b8c","wires":[]},{"id":"7ca63690.a892b8","type":"comment","name":"param-index","info":"","comments":"","x":1442.0238189697266,"y":421.5119161605835,"z":"41e4459d.447b8c","wires":[]},{"id":"77656ea4.1cb28","type":"set","name":"set tmp.mso.param.found = true","xml":"<set>\n<parameter name='tmp.mso.param.found' value='true' />\n","comments":"","x":2487.0238189697266,"y":494.7619209289551,"z":"41e4459d.447b8c","wires":[]},{"id":"5f7a295a.f797f8","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":2259.0238189697266,"y":461.76191902160645,"z":"41e4459d.447b8c","wires":[["1f555f15.55e331","77656ea4.1cb28"]]},{"id":"6480c6ff.db9fb8","type":"for","name":"for key-identifiers[]","xml":"<for silentFailure='true'  index='kid-index' start='0' end='`$jsonContextPrefix.resolution-summary[$vdns-index].key-identifiers_length`' >\n","comments":"","outputs":1,"x":1625.5952758789062,"y":788.7618618011475,"z":"41e4459d.447b8c","wires":[["c71cd379.b1433"]]},{"id":"c71cd379.b1433","type":"set","name":"set resource-key[] to key-identifiers[] ","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].resource-resolution-data.resource-key[$kid-index].name' \n\tvalue='`$jsonContextPrefix.resolution-summary[$vdns-index].key-identifiers[$kid-index].name`'/>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].resource-resolution-data.resource-key[$kid-index].value' \n\tvalue='`$jsonContextPrefix.resolution-summary[$vdns-index].key-identifiers[$kid-index].value`'/>\n","comments":"","x":1923.3453063964844,"y":789.0118713378906,"z":"41e4459d.447b8c","wires":[]},{"id":"12b915a0.4fd51a","type":"set","name":"set request-payload","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].resource-resolution-data.payload' \n\tvalue='`$jsonContextPrefix.resolution-summary[$vdns-index].request-payload`'/>\n\n","comments":"","x":1654.4206085205078,"y":900.9364280700684,"z":"41e4459d.447b8c","wires":[]},{"id":"577d9c27.3765d4","type":"comment","name":"Overwrite MSO input with RA response","info":"","comments":"","x":2182.5238037109375,"y":402.5118999481201,"z":"41e4459d.447b8c","wires":[]},{"id":"e7711e41.d6a6e","type":"comment","name":"NEW param from RA response","info":"","comments":"","x":1272.0237884521484,"y":511.26190185546875,"z":"41e4459d.447b8c","wires":[]},{"id":"f160e4b4.12ad18","type":"set","name":"set resource-resolution-data.resource-key_length","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].resource-resolution-data.resource-key_length' \n\tvalue='`$jsonContextPrefix.resolution-summary[$vdns-index].key-identifiers_length`' />\n","comments":"","x":1729.8413391113281,"y":841.5871865749359,"z":"41e4459d.447b8c","wires":[]},{"id":"958d6721.474458","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"DONE: self-serve-process-vfmodule-mapping-ra-response\"/>\n\n","comments":"","outputs":1,"x":429.7975959777832,"y":991.2181520462036,"z":"41e4459d.447b8c","wires":[[]]},{"id":"b848ea26.075d18","type":"set","name":"set service-data...param_length","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param_length' \n\tvalue='`$highnum`'/>\n","comments":"","x":519.0118370056152,"y":938.0752544403076,"z":"41e4459d.447b8c","wires":[]},{"id":"389e9c2c.beef34","type":"set","name":" set status, capability-name = dictionary-source","xml":"<set>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].resource-resolution-data.capability-name`' \n\tvalue='`$jsonContextPrefix.resolution-summary[$vdns-index].dictionary-source`'/>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].resource-resolution-data.status`' \n\tvalue='`$jsonContextPrefix.resolution-summary[$vdns-index].status`'/>\t","comments":"","x":1724.107177734375,"y":723.7499876022339,"z":"41e4459d.447b8c","wires":[]},{"id":"98db20a0.3df52","type":"switchNode","name":"switch resolution-summary[].status = success AND value = null","xml":"<switch test=\"`$jsonContextPrefix.resolution-summary[$vdns-index].status == 'success' and\n\t\t$jsonContextPrefix.resolution-summary[$vdns-index].value == ''`\">\n","comments":"","outputs":1,"x":1780.7142333984375,"y":632.857123374939,"z":"41e4459d.447b8c","wires":[["ac48d466.173e28","4f177fab.54b1c"]]},{"id":"ac48d466.173e28","type":"not-found","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2132.1427459716797,"y":596.7141876220703,"z":"41e4459d.447b8c","wires":[["29436634.a9614a"]]},{"id":"29436634.a9614a","type":"set","name":" Set param[].value = success","xml":"<set>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].value`' \n\tvalue='`$CONSTANT`'/>","comments":"","x":2359.285659790039,"y":597.1427621841431,"z":"41e4459d.447b8c","wires":[]},{"id":"4f177fab.54b1c","type":"not-found","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":2132.857147216797,"y":658.5713424682617,"z":"41e4459d.447b8c","wires":[["dc032ddc.425d1"]]},{"id":"dc032ddc.425d1","type":"set","name":" Set resolution-summary[].value to param[].value","xml":"<set>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].value`' \n\tvalue='`$jsonContextPrefix.resolution-summary[$vdns-index].value`'/>","comments":"","x":2432.142753601074,"y":657.7142295837402,"z":"41e4459d.447b8c","wires":[]},{"id":"69f6ae33.016d1","type":"set","name":"set CONSTANT = success","xml":"<set>\n<parameter name='CONSTANT' value='success'/>\n\n","comments":"","x":502.1429100036621,"y":319.99998664855957,"z":"41e4459d.447b8c","wires":[]}]