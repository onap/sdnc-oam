[
  {
    "id": "cbe4a9ee.16a0f8",
    "type": "dgstart",
    "name": "DGSTART",
    "outputs": 1,
    "x": 129.00390625,
    "y": 47.00390625,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "e13e73c3.adb19"
      ]
    ]
  },
  {
    "id": "e13e73c3.adb19",
    "type": "service-logic",
    "name": "GENERIC-RESOURCE-API ${project.version}",
    "module": "GENERIC-RESOURCE-API",
    "version": "${project.version}",
    "comments": "",
    "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
    "outputs": 1,
    "x": 341.00391006469727,
    "y": 119.0039234161377,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "5fa2576a.526658"
      ]
    ]
  },
  {
    "id": "5fa2576a.526658",
    "type": "method",
    "name": "sotn-attachment-topology-operation-activate",
    "xml": "<method rpc='sotn-attachment-topology-operation-activate' mode='sync'>\n",
    "comments": "",
    "outputs": 1,
    "x": 329.0040283203125,
    "y": 207.00390625,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "91f5fd5b.cb45c"
      ]
    ]
  },
  {
    "id": "91f5fd5b.cb45c",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 345.0040283203125,
    "y": 762.0041508674622,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "f796ddaa.da23c",
        "d7cfeb18.ac7528",
        "b6393afd.3cacd8",
        "81c5733e.5f25d",
        "1053c083.232fef",
        "42a877ee.39df08",
        "d3f500c4.1bfb3",
        "aa223239.c5978",
        "44848e46.5ebac",
        "b29f5799.241a78",
        "3637e175.005c6e",
        "295602b3.df648e",
        "6a3ffb44.1e9004",
        "6bb92832.c7ba68",
        "1605273a.149319",
        "93c61c2f.6bcfd",
        "eba0b0a5.90799",
        "e1d773b9.aec52",
        "8f7266fc.c45038",
        "5e07c169.5398c"
      ]
    ]
  },
  {
    "id": "f796ddaa.da23c",
    "type": "set",
    "name": "set tmp.ar.allotted-resource-id,etc",
    "xml": "<set>\n<parameter name='tmp.ar.allotted-resource-id' value='`$connection-attachment-topology-operation-input.allotted-resource-information.allotted-resource-id`' />\n<parameter name='tmp.ar.parent-service-instance-id' value='`$connection-attachment-topology-operation-input.allotted-resource-information.parent-service-instance-id`' />\n\n\n",
    "comments": "",
    "x": 741.9974670410156,
    "y": 160.9973931312561,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "84a283be.00d5",
    "type": "comment",
    "name": "set tmp ar-id to fetch resource from MDSAL",
    "info": "",
    "comments": "",
    "x": 770.9577789306641,
    "y": 125.02918910980225,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "d7cfeb18.ac7528",
    "type": "set",
    "name": "set tmp.ar.self-link",
    "xml": "<set>\n<parameter name='tmp.ar.self-link' value=\"`'restconf/config/GENERIC-RESOURCE-API:connection-attachment-allotted-resources/connection-attachment-allotted-resource/'\n + $tmp.ar.allotted-resource-id\n + '/allotted-resource-data/connection-attachment-topology/'` \" />\n\n",
    "comments": "",
    "x": 695.9974060058594,
    "y": 253.99739837646484,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "1053c083.232fef",
    "type": "execute",
    "name": "execute Properties",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
    "comments": "",
    "outputs": 1,
    "x": 702.2592964172363,
    "y": 341.6641273498535,
    "z": "886e5ee7.da286",
    "wires": [
      []
    ]
  },
  {
    "id": "b6393afd.3cacd8",
    "type": "execute",
    "name": "generate allotted-resource tmp.ar-url",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.connection-attachment-allottedresource`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.ar-url\"/>\n    <parameter name=\"target\" value=\"{allotted-resource-id}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.ar.allotted-resource-id`\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 749.2593536376953,
    "y": 429.6641311645508,
    "z": "886e5ee7.da286",
    "wires": [
      []
    ]
  },
  {
    "id": "611b176c.616988",
    "type": "comment",
    "name": "GET connection-attachment-allotted-resource from mdsal",
    "info": "",
    "comments": "",
    "x": 795.8122863769531,
    "y": 560.5425653457642,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "eec7a472.d0ac68",
    "type": "comment",
    "name": "Used for setting output to API Handler",
    "info": "",
    "comments": "",
    "x": 749.9974365234375,
    "y": 220.997407913208,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "5ba07193.a939c",
    "type": "comment",
    "name": "Obtain different URL, template location etc",
    "info": "For saving resource information to MDSAL & for AAI",
    "comments": "",
    "x": 767.9974021911621,
    "y": 306.8862886428833,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "25108569.01c11a",
    "type": "comment",
    "name": "Used to Get AR by id to MDSAL, same as self-link",
    "info": "",
    "comments": "",
    "x": 793.9974212646484,
    "y": 393.8862476348877,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "5268ad10.1fbc94",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1255.6706981658936,
    "y": 578.0038909912109,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "1b9b3a1f.4ecdd6"
      ]
    ]
  },
  {
    "id": "1b9b3a1f.4ecdd6",
    "type": "block",
    "name": "block: atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1399.6707763671875,
    "y": 535.5038089752197,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "b1843433.376208"
      ]
    ]
  },
  {
    "id": "b1843433.376208",
    "type": "switchNode",
    "name": "switch cr length",
    "xml": "<switch test='`$mdsal-ar.connection-attachment-allotted-resource_length`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1568.5282001495361,
    "y": 533.1229801177979,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "72d20a43.d9be64",
        "eb9d8f14.be82"
      ]
    ]
  },
  {
    "id": "72d20a43.d9be64",
    "type": "other",
    "name": "outcome 1",
    "xml": "<outcome value='1'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1723.8613357543945,
    "y": 505.1228952407837,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "bb2299d5.286418"
      ]
    ]
  },
  {
    "id": "bb2299d5.286418",
    "type": "block",
    "name": "block: atomic",
    "xml": "<block atomic='true'>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1882.385139465332,
    "y": 503.02774238586426,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "5775f1db.84903",
        "246f7da0.0df1c2",
        "af0aec90.73323"
      ]
    ]
  },
  {
    "id": "5facd3b6.9153ec",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"404\" />\n    <parameter name=\"error-message\" value=\"Error: Connection attachment resource not exist\" />\n    \n",
    "comments": "",
    "x": 1822.5230712890625,
    "y": 610.0699768066406,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "ffb50ed4.11c7e",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1247.5225009918213,
    "y": 613.0699758529663,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "8996743b.6d4188"
      ]
    ]
  },
  {
    "id": "8996743b.6d4188",
    "type": "block",
    "name": "block: atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1427.5224514007568,
    "y": 613.7365264892578,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "5facd3b6.9153ec"
      ]
    ]
  },
  {
    "id": "eb9d8f14.be82",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1715.189338684082,
    "y": 564.4032697677612,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "5facd3b6.9153ec"
      ]
    ]
  },
  {
    "id": "5775f1db.84903",
    "type": "set",
    "name": "set connection-attachment-ar from get",
    "xml": "<set>\n<parameter name='connection-attachment-ar.' value='$mdsal-ar.connection-attachment-allotted-resource[0].' />\n",
    "comments": "",
    "x": 2129.4485931396484,
    "y": 476.00399446487427,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "af0aec90.73323",
    "type": "set",
    "name": "set oper-status",
    "xml": "<set>\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.last-action' value='`$connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.request-information.request-action`' />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.last-rpc-action' value='`$connection-attachment-ar.allotted-resource-status.rpc-action`' />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.last-svc-request-id' value='`$connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.sdnc-request-header.svc-request-id`' />\n\n",
    "comments": "",
    "x": 2063.4486236572266,
    "y": 549.4324970245361,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "246f7da0.0df1c2",
    "type": "switchNode",
    "name": "switch order-status",
    "xml": "<switch test='`$connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.order-status`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2073.448402404785,
    "y": 515.0039310455322,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "9948e837.465828",
        "ac517970.6daf78"
      ]
    ]
  },
  {
    "id": "9948e837.465828",
    "type": "outcome",
    "name": "outcome Created",
    "xml": "<outcome value='Created'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2309.048484802246,
    "y": 509.0039620399475,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "d4094486.c3a6e8"
      ]
    ]
  },
  {
    "id": "ac517970.6daf78",
    "type": "outcome",
    "name": "outcome Other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2302.762924194336,
    "y": 548.4325699806213,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "757a486d.390608"
      ]
    ]
  },
  {
    "id": "d4094486.c3a6e8",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 2467.519157409668,
    "y": 509.37961769104004,
    "z": "886e5ee7.da286",
    "wires": [
      []
    ]
  },
  {
    "id": "757a486d.390608",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" \n    value=\"`'Existing connection-attachment-allotted-resource with order status of ' + $connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.order-status + '.'`\" />\n",
    "comments": "",
    "x": 2478.670738220215,
    "y": 547.0039691925049,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "d09e7753.a74cd8",
    "type": "call",
    "name": "call GENERIC-RESOURCE-API:sotn-get-saved-ar-param",
    "xml": "<call module='GENERIC-RESOURCE-API' rpc='sotn-get-saved-ar-param' mode='sync' >\n",
    "comments": "",
    "outputs": 1,
    "x": 966.306957244873,
    "y": 660.4975109100342,
    "z": "886e5ee7.da286",
    "wires": [
      []
    ]
  },
  {
    "id": "42a877ee.39df08",
    "type": "block",
    "name": "block: atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 660.3130569458008,
    "y": 661.5038814544678,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "d09e7753.a74cd8"
      ]
    ]
  },
  {
    "id": "e91124de.b8d7d8",
    "type": "comment",
    "name": "GET parent-service-data from mdsal to check existence of other End point",
    "info": "",
    "comments": "",
    "x": 848.00439453125,
    "y": 706.5356588363647,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "cfe58f57.1b13e",
    "type": "for",
    "name": "for pidx..mdsal-psd.service-data.provided-allotted-resources.provided-allotted-resource[]",
    "xml": "<for index='pidx' start='0' end='`$mdsal-psd.service-data.provided-allotted-resources.provided-allotted-resource_length`' >\n",
    "comments": "",
    "outputs": 1,
    "x": 1739.1891021728516,
    "y": 859.0081362724304,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "b90499b4.5bff18"
      ]
    ]
  },
  {
    "id": "81c5733e.5f25d",
    "type": "switchNode",
    "name": "switch mdsal-psd.service-data.provided-allotted-resources_length",
    "xml": "<switch test='`$mdsal-psd.service-data.provided-allotted-resources.provided-allotted-resource_length`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 823.1881256103516,
    "y": 966.7221727371216,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "2b5852f4.1574ce",
        "8b23ecf0.b4c98",
        "2dc5a41e.bad62c"
      ]
    ]
  },
  {
    "id": "2b5852f4.1574ce",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1151.3311462402344,
    "y": 1039.5794467926025,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "4362d0c4.f5cb7"
      ]
    ]
  },
  {
    "id": "3bb83710.9a5ab8",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1335.458408355713,
    "y": 898.7054557800293,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "cfe58f57.1b13e",
        "44aafa72.840b94"
      ]
    ]
  },
  {
    "id": "b90499b4.5bff18",
    "type": "switchNode",
    "name": "switch allotted-resource-id",
    "xml": "<switch test=\"`$mdsal-psd.service-data.provided-allotted-resources.provided-allotted-resource[$pidx].allotted-resource-id == $tmp.ar.allotted-resource-id`\">\n\n",
    "comments": "",
    "outputs": 1,
    "x": 2179.3004302978516,
    "y": 856.0079383850098,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "d9f6094c.60f3c8",
        "cb859d5.2b35e6"
      ]
    ]
  },
  {
    "id": "d9f6094c.60f3c8",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2352.1106452941895,
    "y": 827.4725532531738,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "8ae27c1b.bd8dc"
      ]
    ]
  },
  {
    "id": "303a5029.c6676",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 2500.8711166381836,
    "y": 884.3296403884888,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "da88cefe.fe269"
      ]
    ]
  },
  {
    "id": "da88cefe.fe269",
    "type": "set",
    "name": "set tmp.pidx and ptx.consumed-ar",
    "xml": "<set>\n<parameter name='tmp.pidx' value='`$pidx`' />\n<parameter name='tmp.provided-ar.' value='`$mdsal-psd.service-data.provided-allotted-resources.provided-allotted-resource[$pidx].`' />\n<parameter name='tmp.found-in-ar' value='true' />\n<parameter name='tmp.ep-available' value='true' />",
    "comments": "",
    "x": 2735.728542327881,
    "y": 882.9011726379395,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "eb542676.9f39a8",
    "type": "comment",
    "name": "Check existence of other AR in parent service data",
    "info": "Check if other allotted resource is available.",
    "comments": "",
    "x": 770.9665641784668,
    "y": 871.8968677520752,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "8b23ecf0.b4c98",
    "type": "other",
    "name": "outcome 1",
    "xml": "<outcome value='1'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1165.9836158752441,
    "y": 978.6811304092407,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "eb826fe2.5c753"
      ]
    ]
  },
  {
    "id": "4362d0c4.f5cb7",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"404\" />\n    <parameter name=\"error-message\" value=\"Error: End points not available\" />\n    \n",
    "comments": "",
    "x": 1310.9834938049316,
    "y": 1038.68137550354,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "2dc5a41e.bad62c",
    "type": "other",
    "name": "outcome 2",
    "xml": "<outcome value='2'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1160.9834289550781,
    "y": 899.6811561584473,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "3bb83710.9a5ab8"
      ]
    ]
  },
  {
    "id": "8ae27c1b.bd8dc",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 2510.0948600769043,
    "y": 826.6812963485718,
    "z": "886e5ee7.da286",
    "wires": [
      []
    ]
  },
  {
    "id": "cb859d5.2b35e6",
    "type": "outcomeTrue",
    "name": "false",
    "xml": "<outcome value='false'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2359.0945014953613,
    "y": 883.6811561584473,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "303a5029.c6676"
      ]
    ]
  },
  {
    "id": "44aafa72.840b94",
    "type": "switchNode",
    "name": "switch tmp.found-in-ar",
    "xml": "<switch test='`$tmp.found-in-ar`'>\n\n",
    "comments": "",
    "outputs": 1,
    "x": 1547.9834060668945,
    "y": 952.4589738845825,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "753da27d.40afec"
      ]
    ]
  },
  {
    "id": "753da27d.40afec",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1718.98344039917,
    "y": 953.5701951980591,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "15dd4c54.90cd64"
      ]
    ]
  },
  {
    "id": "15dd4c54.90cd64",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1867.9835357666016,
    "y": 953.5701942443848,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "2865c930.441376",
        "36209682.cdfdca"
      ]
    ]
  },
  {
    "id": "2877490b.8d1876",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2614.101360321045,
    "y": 969.7990484237671,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "2c4d90a6.77e83"
      ]
    ]
  },
  {
    "id": "bf4a739d.0a26c",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2605.9531631469727,
    "y": 1004.8651332855225,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "7b79fb1a.832b54"
      ]
    ]
  },
  {
    "id": "24a003e8.d381ac",
    "type": "switchNode",
    "name": "switch mdsal-psd.service-data.networks_length",
    "xml": "<switch test='`$mdsal-psd.service-data.networks.network_length`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1611.316909790039,
    "y": 1053.903814315796,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "1aeaa906.662367",
        "d808e760.0f46c8"
      ]
    ]
  },
  {
    "id": "d808e760.0f46c8",
    "type": "other",
    "name": "outcome 1",
    "xml": "<outcome value='1'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1875.3167572021484,
    "y": 1033.7925605773926,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "e18d77e0.ca5578"
      ]
    ]
  },
  {
    "id": "1aeaa906.662367",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1865.3168182373047,
    "y": 1081.792531967163,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "d8d07b23.4c08f8"
      ]
    ]
  },
  {
    "id": "d8d07b23.4c08f8",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"404\" />\n    <parameter name=\"error-message\" value=\"Error: Incorrect state found more then 1 network\" />\n    \n",
    "comments": "",
    "x": 2003.9691619873047,
    "y": 1083.894292831421,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "3516f8ea.4360d8",
    "type": "set",
    "name": "set tmp.network.",
    "xml": "<set>\n<parameter name='tmp.network.' value='`$mdsal-psd.service-data.networks.network[0].`' />\n\n\n",
    "comments": "",
    "x": 2236.761615753174,
    "y": 1034.792730331421,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "eb826fe2.5c753",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1333.4279251098633,
    "y": 977.7923974990845,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "24a003e8.d381ac"
      ]
    ]
  },
  {
    "id": "e18d77e0.ca5578",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 2034.0945281982422,
    "y": 1036.7923946380615,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "3516f8ea.4360d8",
        "fa997652.5fc978"
      ]
    ]
  },
  {
    "id": "fa997652.5fc978",
    "type": "for",
    "name": "for nidx..tmp.network.network-data.network-request-input.network...[]",
    "xml": "<for index='nidx' start='0' end='`$tmp.network.network-data.network-request-input.network-input-parameters.param_length`' >",
    "comments": "",
    "outputs": 1,
    "x": 2397.094566345215,
    "y": 1082.7925491333008,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "f89cda47.d902a8"
      ]
    ]
  },
  {
    "id": "f89cda47.d902a8",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 2443.650634765625,
    "y": 1313.7923583984375,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "eff80839.760f28",
        "81242a80.6995e8",
        "a9774cfd.8e266",
        "1742a4f9.42112b",
        "e032978.6936268",
        "b04f73ae.32d85",
        "3f331e86.57efa2",
        "d4d17449.0a3768",
        "b369fa7c.e07e38",
        "642263f7.dd00fc"
      ]
    ]
  },
  {
    "id": "eff80839.760f28",
    "type": "switchNode",
    "name": "switch access-node-id",
    "xml": "<switch test=\"`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].name == 'access-node-id'`\">",
    "comments": "",
    "outputs": 1,
    "x": 2720.1608505249023,
    "y": 1155.8031058311462,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "3c2bf5ae.ea0f1a"
      ]
    ]
  },
  {
    "id": "3c2bf5ae.ea0f1a",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2909.1604766845703,
    "y": 1157.8029704093933,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "ff19cd9d.b44a2"
      ]
    ]
  },
  {
    "id": "ff19cd9d.b44a2",
    "type": "set",
    "name": "set tmp.found-in-network tmp.ep-available",
    "xml": "<set>\n<parameter name='tmp.found-in-network' value='true' />\n<parameter name='tmp.ep-available' value='true' />",
    "comments": "",
    "x": 3162.1606521606445,
    "y": 1157.4030165672302,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "81242a80.6995e8",
    "type": "returnSuccess",
    "name": "return success",
    "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
    "comments": "",
    "x": 2694.150302886963,
    "y": 1529.7923970222473,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "295602b3.df648e",
    "type": "switchNode",
    "name": "switch tmp.ep-available",
    "xml": "<switch test='`$tmp.ep-available`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 686.3167266845703,
    "y": 1162.236707687378,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "49e6bbf9.737be4",
        "71f6c993.d973c8"
      ]
    ]
  },
  {
    "id": "71f6c993.d973c8",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 904.9834461212158,
    "y": 1211.5700645446777,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "71103f59.0e808"
      ]
    ]
  },
  {
    "id": "49e6bbf9.737be4",
    "type": "outcomeTrue",
    "name": "false",
    "xml": "<outcome value='false'>\n",
    "comments": "",
    "outputs": 1,
    "x": 909.8722476959229,
    "y": 1120.570125579834,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "20d8c152.565e0e"
      ]
    ]
  },
  {
    "id": "20d8c152.565e0e",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1056.8722438812256,
    "y": 1122.4589385986328,
    "z": "886e5ee7.da286",
    "wires": [
      []
    ]
  },
  {
    "id": "71103f59.0e808",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1075.094533920288,
    "y": 1209.5700225830078,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "44959453.f2ce1c",
        "8bc2c84.596c538",
        "431946d9.2130a8"
      ]
    ]
  },
  {
    "id": "44959453.f2ce1c",
    "type": "switchNode",
    "name": "switch tmp.found-in-ar",
    "xml": "<switch test='`$tmp.found-in-ar`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1301.2055473327637,
    "y": 1176.5700225830078,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "37b8c945.c963b6",
        "bce04597.421bd8"
      ]
    ]
  },
  {
    "id": "37b8c945.c963b6",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1496.6499938964844,
    "y": 1154.570083618164,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "2970ed54.87cac2"
      ]
    ]
  },
  {
    "id": "bce04597.421bd8",
    "type": "outcomeTrue",
    "name": "false",
    "xml": "<outcome value='false'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1493.64990234375,
    "y": 1202.570068359375,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "a5084037.7afaf"
      ]
    ]
  },
  {
    "id": "2970ed54.87cac2",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1684.2056579589844,
    "y": 1151.570083618164,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "c697bcdd.29bcd"
      ]
    ]
  },
  {
    "id": "a5084037.7afaf",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1681.20556640625,
    "y": 1201.570068359375,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "10ed7f5b.5c00f1"
      ]
    ]
  },
  {
    "id": "3b7ac17e.0f823e",
    "type": "comment",
    "name": "GET connection-attachment-ar to store AR data from mdsal",
    "info": "",
    "comments": "",
    "x": 2193.4767417907715,
    "y": 438.50785398483276,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "71841c48.209304",
    "type": "comment",
    "name": "Set source end point",
    "info": "",
    "comments": "",
    "x": 682.9766387939453,
    "y": 527.2578740119934,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "d3f500c4.1bfb3",
    "type": "set",
    "name": "set tmp.ar.parent-service-instance-id",
    "xml": "<set>\n<parameter name='tmp.ar.parent-service-instance-id' value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.parent-service-instance-id` \" />\n\n",
    "comments": "",
    "x": 733.9727325439453,
    "y": 736.0039968490601,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "7ecc4648.197a88",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1093.972885131836,
    "y": 807.0039834976196,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "2393b2c8.86b16e"
      ]
    ]
  },
  {
    "id": "dfe397a0.b9ba28",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1085.8246879577637,
    "y": 842.070068359375,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "1a3d638c.318b9c"
      ]
    ]
  },
  {
    "id": "1a3d638c.318b9c",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"404\" />\n    <parameter name=\"error-message\" value=\"Error: Parent service data not available\" />\n    \n",
    "comments": "",
    "x": 1231.9734687805176,
    "y": 841.3374795913696,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "2393b2c8.86b16e",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1224.9729804992676,
    "y": 807.0040445327759,
    "z": "886e5ee7.da286",
    "wires": [
      []
    ]
  },
  {
    "id": "7b79fb1a.832b54",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"404\" />\n    <parameter name=\"error-message\" value=\"Error: SOTN provided attachment resource not found\" />\n    \n",
    "comments": "",
    "x": 2755.973213195801,
    "y": 1005.00417137146,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "2c4d90a6.77e83",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 2740.9733352661133,
    "y": 972.0041561126709,
    "z": "886e5ee7.da286",
    "wires": [
      []
    ]
  },
  {
    "id": "aa223239.c5978",
    "type": "set",
    "name": "set tmp.found-in-ar tmp.found-in-network tmp.ep-available to false",
    "xml": "<set>\n<parameter name='tmp.found-in-ar' value='false' />\n<parameter name='tmp.found-in-network' value='false' />\n<parameter name='tmp.ep-available' value='false' />",
    "comments": "",
    "x": 819.9726715087891,
    "y": 909.0039710998535,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "3eb9877e.29bda8",
    "type": "comment",
    "name": "If other EP exists set destination end point",
    "info": "Check if other allotted resource is available.",
    "comments": "",
    "x": 736.9726715087891,
    "y": 1087.0039196014404,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "6bea5b5c.cc56a4",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1476.9727935791016,
    "y": 1414.0042009353638,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "873a1eb1.c2b41",
        "ec2f2c59.85a72",
        "4344ccac.0cc2d4",
        "3e861847.acb138",
        "dbce043e.c1b088",
        "6cf22112.6f2ff",
        "447be204.cdf4fc",
        "3722b20a.c8338e"
      ]
    ]
  },
  {
    "id": "873a1eb1.c2b41",
    "type": "switchNode",
    "name": "switch access-node-id",
    "xml": "<switch test=\"`$tmp.ep.parameters.param[$idx].name == 'access-node-id'`\">",
    "comments": "",
    "outputs": 1,
    "x": 1719.4830951690674,
    "y": 1284.014597415924,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "e78fa7d0.0dc8a8"
      ]
    ]
  },
  {
    "id": "ec2f2c59.85a72",
    "type": "returnSuccess",
    "name": "return success",
    "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
    "comments": "",
    "x": 1692.4730472564697,
    "y": 1589.0045609474182,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "4344ccac.0cc2d4",
    "type": "switchNode",
    "name": "switch access-ltp-id",
    "xml": "<switch test=\"`$tmp.ep.parameters.param[$idx].name == 'access-ltp-id'`\">",
    "comments": "",
    "outputs": 1,
    "x": 1710.9729251861572,
    "y": 1327.7821288108826,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "e0447eeb.b4df4"
      ]
    ]
  },
  {
    "id": "3e861847.acb138",
    "type": "switchNode",
    "name": "switch clientSignal",
    "xml": "<switch test=\"`$tmp.ep.parameters.param[$idx].name == 'clientSignal'`\">",
    "comments": "",
    "outputs": 1,
    "x": 1704.9729633331299,
    "y": 1373.782175540924,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "851a1f33.b90d6"
      ]
    ]
  },
  {
    "id": "dbce043e.c1b088",
    "type": "switchNode",
    "name": "switch cVLAN",
    "xml": "<switch test=\"`$tmp.ep.parameters.param[$idx].name == 'cVLAN'`\">",
    "comments": "",
    "outputs": 1,
    "x": 1688.9624652862549,
    "y": 1412.771677494049,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "cde9b854.f3d7e8"
      ]
    ]
  },
  {
    "id": "e78fa7d0.0dc8a8",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1897.1950092315674,
    "y": 1284.6709694862366,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "bfb532e5.03a1a"
      ]
    ]
  },
  {
    "id": "bfb532e5.03a1a",
    "type": "set",
    "name": "set dst-access-node-id",
    "xml": "<set>\n<parameter name='prop.remote.connection-attachment.access-node-id' value='`$tmp.ep.parameters.param[$idx].value`' />",
    "comments": "",
    "x": 2072.1950092315674,
    "y": 1284.270944595337,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "e0447eeb.b4df4",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1892.6848773956299,
    "y": 1327.438425540924,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "b05efaae.c42928"
      ]
    ]
  },
  {
    "id": "851a1f33.b90d6",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1892.6848773956299,
    "y": 1373.438425540924,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "24c05af2.8faa76"
      ]
    ]
  },
  {
    "id": "cde9b854.f3d7e8",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1892.6743793487549,
    "y": 1412.4280495643616,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "27931eaa.157cb2"
      ]
    ]
  },
  {
    "id": "8bc2c84.596c538",
    "type": "for",
    "name": "for idx..tmp.ep.parameters[]",
    "xml": "<for index='idx' start='0' end='`$tmp.ep.parameters.param_length`'>\n\n",
    "comments": "",
    "outputs": 1,
    "x": 1329.97265625,
    "y": 1302.00390625,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "6bea5b5c.cc56a4"
      ]
    ]
  },
  {
    "id": "c697bcdd.29bcd",
    "type": "set",
    "name": "set tmp.ep.parameters",
    "xml": "<set>\n<parameter name='tmp.ep.parameters.' value='`$mdsal-other-ar.connection-attachment-allotted-resource[0].allotted-resource-data.allotted-resource-operation-information.connection-attachment-request-input.`' />\n",
    "comments": "",
    "x": 1895.9727115631104,
    "y": 1151.0039806365967,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "10ed7f5b.5c00f1",
    "type": "set",
    "name": "set tmp.ep.parameters",
    "xml": "<set>\n<parameter name='tmp.ep.parameters.' value='`$tmp.network.network-data.network-request-input.network-input-parameters.`' />\n",
    "comments": "",
    "x": 1892.972620010376,
    "y": 1197.0039653778076,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "b05efaae.c42928",
    "type": "set",
    "name": "set dst-access-node-id",
    "xml": "<set>\n<parameter name='prop.remote.connection-attachment.access-ltp-id' value='`$tmp.ep.parameters.param[$idx].value`' />",
    "comments": "",
    "x": 2069.9728412628174,
    "y": 1327.0042214393616,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "24c05af2.8faa76",
    "type": "set",
    "name": "set dst-clientSignal",
    "xml": "<set>\n<parameter name='prop.remote.connection-attachment.clientSignal' value='`$tmp.ep.parameters.param[$idx].value`' />",
    "comments": "",
    "x": 2063.9728412628174,
    "y": 1371.0042214393616,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "27931eaa.157cb2",
    "type": "set",
    "name": "set dst-cVLAN",
    "xml": "<set>\n<parameter name='prop.remote.connection-attachment.cVLAN' value='`$tmp.ep.parameters.param[$idx].value`' />",
    "comments": "",
    "x": 2054.9728412628174,
    "y": 1410.0042214393616,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "1eb5604c.140ea",
    "type": "comment",
    "name": "Get controller info and send request",
    "info": "",
    "comments": "",
    "x": 1936.972713470459,
    "y": 1881.004059791565,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "4c07dee.6ce442",
    "type": "execute",
    "name": "execute RestApiCallNode Create ethernet Service",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sotn-ethernet-service.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + 'restconf/data/ietf-eth-tran-service:etht-svc'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"patch\"/>\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.openecomp.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
    "comments": "",
    "outputs": 1,
    "x": 1989.97314453125,
    "y": 2024.0048599243164,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "ebb13c18.63d5b",
        "27ef146.5170fec"
      ]
    ]
  },
  {
    "id": "ebb13c18.63d5b",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2255.972869873047,
    "y": 2053.004982948303,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "3abdd3d8.70de3c"
      ]
    ]
  },
  {
    "id": "3abdd3d8.70de3c",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "comments": "",
    "outputs": 1,
    "x": 2403.972869873047,
    "y": 2051.0048608779907,
    "z": "886e5ee7.da286",
    "wires": [
      []
    ]
  },
  {
    "id": "252b7082.c5a2b",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create vpn rest api\" />\n",
    "comments": "",
    "x": 2385.972900390625,
    "y": 1998.0049209594727,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "27ef146.5170fec",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2246.9728088378906,
    "y": 1998.0049209594727,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "252b7082.c5a2b"
      ]
    ]
  },
  {
    "id": "b6a98854.3d7a58",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 908.7350807189941,
    "y": 2104.9576148986816,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "35924502.aff77a"
      ]
    ]
  },
  {
    "id": "35924502.aff77a",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"AAI failed\" />\n",
    "comments": "",
    "x": 1075.2589015960693,
    "y": 2131.5766220092773,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "89209832.9697d8",
    "type": "failure",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 910.8303089141846,
    "y": 2152.719457626343,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "35924502.aff77a"
      ]
    ]
  },
  {
    "id": "48f4ae61.b756e",
    "type": "comment",
    "name": "Save Resource to AAI",
    "info": "",
    "comments": "",
    "x": 682.7827243804932,
    "y": 2093.3067779541016,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "e1d773b9.aec52",
    "type": "set",
    "name": "set output to api handler",
    "xml": "<set>\n<parameter name='allotted-resource-id' value='`$tmp.ar.allotted-resource-id`' />\n<parameter name='connection-attachment-object-path' value=\"`$tmp.ar.self-link`\"/>\n<parameter name='service-object-path' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $connection-attachment-topology-operation-input.service-information.service-instance-id\n + '/service-data/service-topology/'`\"/>\n \n",
    "comments": "",
    "x": 697.5504207611084,
    "y": 2014.8322591781616,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "5e07c169.5398c",
    "type": "returnSuccess",
    "name": "return success",
    "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
    "comments": "",
    "x": 657.9635925292969,
    "y": 2200.4480476379395,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "eba0b0a5.90799",
    "type": "execute",
    "name": "execute RestApiCallNode - PUT AR by id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.sotn-attachment.templatefile`\" />\n    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.ar-url`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-ar\" />\n\n",
    "comments": "",
    "outputs": 1,
    "x": 750.2825031280518,
    "y": 1939.4731121063232,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "88c5e9d5.563c18",
        "ade401d9.d9d7d",
        "c5f54133.a8e19"
      ]
    ]
  },
  {
    "id": "88c5e9d5.563c18",
    "type": "not-found",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1004.9239253997803,
    "y": 1983.8045063018799,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "effa0e45.a8e79"
      ]
    ]
  },
  {
    "id": "ade401d9.d9d7d",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1006.9239482879639,
    "y": 1942.3044704422355,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "effa0e45.a8e79"
      ]
    ]
  },
  {
    "id": "c5f54133.a8e19",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1010.6740322113037,
    "y": 1893.6616230010986,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "f45f0673.a366c8"
      ]
    ]
  },
  {
    "id": "effa0e45.a8e79",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error updating md-sal for connection-attachment-allotted-resource\" />\n",
    "comments": "",
    "x": 1165.67405128479,
    "y": 1962.054536819458,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "f45f0673.a366c8",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1138.3299770355225,
    "y": 1895.8537912368774,
    "z": "886e5ee7.da286",
    "wires": [
      []
    ]
  },
  {
    "id": "6a3ffb44.1e9004",
    "type": "set",
    "name": "set ar-data",
    "xml": "<set>\n<parameter name='connection-attachment-ar.allotted-resource-status.action' value=\"`$connection-attachment-topology-operation-input.request-information.request-action` \" />\n<parameter name='connection-attachment-ar.allotted-resource-status.rpc-name' value=\"connection-attachment-topology-operation\" />\n<parameter name='connection-attachment-ar.allotted-resource-status.rpc-action' value=\"`$connection-attachment-topology-operation-input.sdnc-request-header.svc-action` \" />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.request-information.' value=\"`$connection-attachment-topology-operation-input.request-information.` \" />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.sdnc-request-header.' value=\"`$connection-attachment-topology-operation-input.sdnc-request-header.` \" />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.service-information.' value=\"`$connection-attachment-topology-operation-input.service-information.` \" />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.allotted-resource-information.' value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.` \" />",
    "comments": "",
    "x": 652.4961185455322,
    "y": 1773.8540132045746,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "1605273a.149319",
    "type": "execute",
    "name": "execute getTime",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='setTime' >\n    <parameter name=\"outputPath\" value=\"tmp.current-time\" />\n\n",
    "comments": "",
    "outputs": 1,
    "x": 669.78196144104,
    "y": 1846.4736108779907,
    "z": "886e5ee7.da286",
    "wires": [
      []
    ]
  },
  {
    "id": "93c61c2f.6bcfd",
    "type": "set",
    "name": "set allotted-resource-oper-status",
    "xml": "<set>\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.order-status' value='Active' />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.last-action' value='`$connection-attachment-topology-operation-input.request-information.request-action`' />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.last-rpc-action' value='`$connection-attachment-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.last-svc-request-id' value='`$connection-attachment-topology-operation-input.sdnc-request-header.svc-request-id`' />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.create-timestamp' value='`$tmp.current-time`' />\n",
    "comments": "",
    "x": 719.7690410614014,
    "y": 1883.4246912002563,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "6bb92832.c7ba68",
    "type": "set",
    "name": "set model-data",
    "xml": "<set>\n<parameter name='connection-attachment-ar.allotted-resource-data.connection-attachment-topology.onap-model-information.' value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.onap-model-information.` \" />",
    "comments": "",
    "x": 666.3376598358154,
    "y": 1813.028663635254,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "4d71f89f.b7cd18",
    "type": "comment",
    "name": "Prepare data for allotted-resource addition to MDSAL",
    "info": "This will add to allotted-resource which is present inside service.",
    "comments": "",
    "x": 779.67112159729,
    "y": 1734.0286157131195,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "5c1a3e33.04e12",
    "type": "comment",
    "name": "Add to allotted-resources in mdsal",
    "info": "",
    "comments": "",
    "x": 721.2509479522705,
    "y": 1701.4419174194336,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "8f7266fc.c45038",
    "type": "update",
    "name": "update AAI allotted-resource",
    "xml": "<update plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"allotted-resource\" \n\t\tkey=\"customer.global-customer-id = $connection-attachment-topology-operation-input.service-information.global-customer-id AND\n\t\t\tservice-subscription.service-type = $connection-attachment-topology-operation-input.service-information.subscription-service-type AND\n\t\t\tservice-instance.service-instance-id = $connection-attachment-topology-operation-input.allotted-resource-information.parent-service-instance-id AND\n\t\t\tallotted-resource.id = $tmp.ar.allotted-resource-id\"\n        pfx='pfx' local-only='false' force='false'>\n\t<parameter name=\"description\" value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.allotted-resource-type`\" />\n\t<parameter name=\"selflink\" value=\"`$tmp.ar.self-link`\" />\n\t<parameter name=\"model-invariant-id\" value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.onap-model-information.model-invariant-uuid`\" />\n\t<parameter name=\"model-version-id\" value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.onap-model-information.model-uuid`\" />\n\t<parameter name=\"operational-status\" value=\"Active\" />\n",
    "comments": "",
    "outputs": 1,
    "x": 709.2270030975342,
    "y": 2130.7589206695557,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "b6a98854.3d7a58",
        "89209832.9697d8"
      ]
    ]
  },
  {
    "id": "f51b8e7a.4294a",
    "type": "execute",
    "name": "execute RestApiCallNode getPath from OOF",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.oof-getpath.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.restapi.connection-oof-url`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.oof.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.oof.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"oof\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.openecomp.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
    "comments": "",
    "outputs": 1,
    "x": 1517.976963043213,
    "y": 1693.2585725784302,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "475ee246.c4d58c",
        "951a0e07.b45a7"
      ]
    ]
  },
  {
    "id": "475ee246.c4d58c",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1757.9771041870117,
    "y": 1717.258542060852,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "2cebb233.b139be"
      ]
    ]
  },
  {
    "id": "dfc21d27.a29bd",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing OOF api\" />\n",
    "comments": "",
    "x": 1896.977138519287,
    "y": 1666.2586336135864,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "951a0e07.b45a7",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1756.9768905639648,
    "y": 1666.258632659912,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "dfc21d27.a29bd"
      ]
    ]
  },
  {
    "id": "d7025fc8.34b0f",
    "type": "comment",
    "name": "Get VPNs from OOF",
    "info": "",
    "comments": "",
    "x": 1503.980884552002,
    "y": 1660.2625722885132,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "7306bfe1.33065",
    "type": "for",
    "name": "for vidx..oof.vpns_length[]",
    "xml": "<for index='vidx' start='0' end='`$oof.vpns_length`' >",
    "comments": "",
    "outputs": 1,
    "x": 1470.9766845703125,
    "y": 1798.50830078125,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "3edaf3bd.0b304c"
      ]
    ]
  },
  {
    "id": "9a8b6203.49db4",
    "type": "comment",
    "name": "Loop through VPN and configure them",
    "info": "",
    "comments": "",
    "x": 1500.977138519287,
    "y": 1761.0086650848389,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "a9774cfd.8e266",
    "type": "switchNode",
    "name": "switch name",
    "xml": "<switch test=\"`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].name == 'name'`\">\n                \n",
    "comments": "",
    "outputs": 1,
    "x": 2697.760986328125,
    "y": 1247.125732421875,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "a313d119.ec211"
      ]
    ]
  },
  {
    "id": "a313d119.ec211",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2886.760955810547,
    "y": 1247.125717639923,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "3a640881.1aa1d8"
      ]
    ]
  },
  {
    "id": "3a640881.1aa1d8",
    "type": "set",
    "name": "set etht-svc-name & bandwidth-profile-name",
    "xml": "<set>\n<parameter name='prop.global.sotn.etht-svc-name' value='`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].value`' />\n<parameter name='prop.global.sotn.bandwidth-profile-name' value='`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].value`' />\n",
    "comments": "",
    "x": 3127.76127243042,
    "y": 1246.7257723808289,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "1742a4f9.42112b",
    "type": "switchNode",
    "name": "switch description",
    "xml": "<switch test=\"`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].name == 'description'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2710.6008644104004,
    "y": 1282.1258273124695,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "26c6398e.ae40a6"
      ]
    ]
  },
  {
    "id": "26c6398e.ae40a6",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2885.600929260254,
    "y": 1284.1258130073547,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "ec7ec9cc.624b18"
      ]
    ]
  },
  {
    "id": "ec7ec9cc.624b18",
    "type": "set",
    "name": "set etht-svc-descr",
    "xml": "<set>\n<parameter name='prop.global.sotn.etht-svc-descr' value='`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].value`' />\n",
    "comments": "",
    "x": 3041.9342460632324,
    "y": 1281.5868878364563,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "e032978.6936268",
    "type": "switchNode",
    "name": "switch tenantId",
    "xml": "<switch test=\"`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].name == 'tenantId'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2705.983127593994,
    "y": 1315.4592175483704,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "a0536f01.8cf66"
      ]
    ]
  },
  {
    "id": "a0536f01.8cf66",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2883.9831314086914,
    "y": 1319.4590954780579,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "a1009c69.a8fed"
      ]
    ]
  },
  {
    "id": "a1009c69.a8fed",
    "type": "set",
    "name": "set tenantId",
    "xml": "<set>\n<parameter name='prop.global.sotn.tenantId' value='`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].value`' />\n",
    "comments": "",
    "x": 3021.9833183288574,
    "y": 1316.0590710639954,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "3f331e86.57efa2",
    "type": "switchNode",
    "name": "switch cir",
    "xml": "<switch test=\"`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].name == 'cir'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2688.822727203369,
    "y": 1388.4591727256775,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "937bdc12.dc2f3"
      ]
    ]
  },
  {
    "id": "937bdc12.dc2f3",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2883.8227920532227,
    "y": 1389.4591727256775,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "5cef9c18.c1e3e4"
      ]
    ]
  },
  {
    "id": "5cef9c18.c1e3e4",
    "type": "set",
    "name": "set cir",
    "xml": "<set>\n<parameter name='prop.sotn.cir' value='`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].value`' />\n",
    "comments": "",
    "x": 3008.15629196167,
    "y": 1387.920247554779,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "b04f73ae.32d85",
    "type": "switchNode",
    "name": "switch vpnType",
    "xml": "<switch test=\"`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].name == 'vpnType'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2703.131015777588,
    "y": 1351.236882686615,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "56ebc42c.8ac03c"
      ]
    ]
  },
  {
    "id": "56ebc42c.8ac03c",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2885.131202697754,
    "y": 1354.236867427826,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "74808c5.5744174"
      ]
    ]
  },
  {
    "id": "74808c5.5744174",
    "type": "set",
    "name": "set vpnType",
    "xml": "<set>\n<parameter name='prop.global.sotn.vpnType' value='`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].value`' />\n",
    "comments": "",
    "x": 3021.464946746826,
    "y": 1350.6981091499329,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "d4d17449.0a3768",
    "type": "switchNode",
    "name": "switch eir",
    "xml": "<switch test=\"`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].name == 'eir'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2684.1130714416504,
    "y": 1422.1570801734924,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "f8a0cc6a.69a85"
      ]
    ]
  },
  {
    "id": "f8a0cc6a.69a85",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2884.1133193969727,
    "y": 1425.1570191383362,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "f369a42b.d52e88"
      ]
    ]
  },
  {
    "id": "f369a42b.d52e88",
    "type": "set",
    "name": "set eir",
    "xml": "<set>\n<parameter name='prop.global.sotn.eir' value='`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].value`' />\n",
    "comments": "",
    "x": 3007.4469413757324,
    "y": 1424.6180787086487,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "b369fa7c.e07e38",
    "type": "switchNode",
    "name": "switch colorAware",
    "xml": "<switch test=\"`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].name == 'colorAware'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2709.113681793213,
    "y": 1456.1569590568542,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "6206f9dc.040438"
      ]
    ]
  },
  {
    "id": "6206f9dc.040438",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2880.1135025024414,
    "y": 1462.1568975448608,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "be68a268.af6ac"
      ]
    ]
  },
  {
    "id": "be68a268.af6ac",
    "type": "set",
    "name": "set colorAware",
    "xml": "<set>\n<parameter name='prop.global.sotn.colorAware' value='`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].value`' />\n",
    "comments": "",
    "x": 3028.44681930542,
    "y": 1462.6181101799011,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "642263f7.dd00fc",
    "type": "switchNode",
    "name": "switch couplingFlag",
    "xml": "<switch test=\"`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].name == 'couplingFlag'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2711.1136207580566,
    "y": 1492.1570210456848,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "fa5db057.82465"
      ]
    ]
  },
  {
    "id": "fa5db057.82465",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2883.1135025024414,
    "y": 1501.1569905281067,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "6df9a5ad.64aebc"
      ]
    ]
  },
  {
    "id": "6df9a5ad.64aebc",
    "type": "set",
    "name": "set couplingFlag",
    "xml": "<set>\n<parameter name='prop.global.sotn.couplingFlag' value='`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].value`' />\n",
    "comments": "",
    "x": 3036.44681930542,
    "y": 1501.6181111335754,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "dcfbfca6.40021",
    "type": "comment",
    "name": "Check if other EP exists in SOTNConnectionResource",
    "info": "",
    "comments": "",
    "x": 2842.316650390625,
    "y": 1110.7923583984375,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "d09beabc.c794f8",
    "type": "comment",
    "name": "Get other global parameters from network",
    "info": "",
    "comments": "",
    "x": 2778.31640625,
    "y": 1196.7923583984375,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "6cf22112.6f2ff",
    "type": "switchNode",
    "name": "switch access-provider-id",
    "xml": "<switch test=\"`$tmp.ep.parameters.param[$idx].name == 'access-provider-id'`\">",
    "comments": "",
    "outputs": 1,
    "x": 1726.5387592315674,
    "y": 1458.2368874549866,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "c84add66.981c8"
      ]
    ]
  },
  {
    "id": "c84add66.981c8",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1913.5387592315674,
    "y": 1454.2368874549866,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "d4a1069.e5c08f8"
      ]
    ]
  },
  {
    "id": "d4a1069.e5c08f8",
    "type": "set",
    "name": "set access-provider-id",
    "xml": "<set>\n<parameter name='prop.remote.connection-attachment.access-provider-id' value='`$tmp.ep.parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2081.5387592315674,
    "y": 1454.8368935585022,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "447be204.cdf4fc",
    "type": "switchNode",
    "name": "switch access-client-id",
    "xml": "<switch test=\"`$tmp.ep.parameters.param[$idx].name == 'access-client-id'`\">",
    "comments": "",
    "outputs": 1,
    "x": 1717.5387744903564,
    "y": 1501.2473359107971,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "ced037b4.e37178"
      ]
    ]
  },
  {
    "id": "ced037b4.e37178",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1904.5387744903564,
    "y": 1497.2473359107971,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "f03bab32.57be38"
      ]
    ]
  },
  {
    "id": "f03bab32.57be38",
    "type": "set",
    "name": "set access-client-id",
    "xml": "<set>\n<parameter name='prop.remote.connection-attachment.access-client-id' value='`$tmp.ep.parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2072.5387744903564,
    "y": 1497.8473420143127,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "3722b20a.c8338e",
    "type": "switchNode",
    "name": "switch access-topology-id",
    "xml": "<switch test=\"`$tmp.ep.parameters.param[$idx].name == 'access-topology-id'`\">",
    "comments": "",
    "outputs": 1,
    "x": 1730.538719177246,
    "y": 1543.2473669052124,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "b6a6f2db.60fe6"
      ]
    ]
  },
  {
    "id": "b6a6f2db.60fe6",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1917.538719177246,
    "y": 1539.2473669052124,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "e9af1870.fc5978"
      ]
    ]
  },
  {
    "id": "e9af1870.fc5978",
    "type": "set",
    "name": "set access-topology-id",
    "xml": "<set>\n<parameter name='prop.remote.connection-attachment.access-topology-id' value='`$tmp.ep.parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2085.538719177246,
    "y": 1539.847373008728,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "3edaf3bd.0b304c",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1676.0940551757812,
    "y": 1796.3482403755188,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "13419eef.5a7671",
        "ab382a71.e012a8",
        "518651aa.2aca3",
        "24337100.d599a",
        "12ceff59.6da431",
        "d86cc1ce.6085e",
        "30cf4858.64e188",
        "fa2339a4.1d6f28",
        "f8b8212e.de624",
        "4c07dee.6ce442"
      ]
    ]
  },
  {
    "id": "9cf5ad87.06886",
    "type": "set",
    "name": "set controller data",
    "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.url' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.user' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.password' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n",
    "comments": "",
    "x": 2322.538787841797,
    "y": 1876.6815524101257,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "f8b8212e.de624",
    "type": "get-resource",
    "name": "get-resource esr-thirdparty-sdnc",
    "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.thirdparty-sdnc-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.esr-thirdparty-sdnc' local-only='false' >\n\n",
    "comments": "",
    "outputs": 1,
    "x": 1939.0386962890625,
    "y": 1913.6814918518066,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "2a73c293.cee82e",
        "cd5e3cf0.7e544",
        "e221ac88.e3abb"
      ]
    ]
  },
  {
    "id": "2a73c293.cee82e",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2159.038631439209,
    "y": 1877.6814608573914,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "9cf5ad87.06886"
      ]
    ]
  },
  {
    "id": "cd5e3cf0.7e544",
    "type": "not-found",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2168.529571533203,
    "y": 1918.2554669380188,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "73ddc8d7.9cef28"
      ]
    ]
  },
  {
    "id": "e221ac88.e3abb",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2163.862548828125,
    "y": 1954.5887799263,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "9cd2e5f3.c77dc8"
      ]
    ]
  },
  {
    "id": "73ddc8d7.9cef28",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
    "comments": "",
    "x": 2315.1009216308594,
    "y": 1914.5412936210632,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "9cd2e5f3.c77dc8",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
    "comments": "",
    "x": 2318.6351928710938,
    "y": 1956.0279278755188,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "fa2339a4.1d6f28",
    "type": "get-resource",
    "name": "get-resource pnf",
    "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"network-resource.network-id = $mdsal-psd.service-data.networks.network[0].network-id \n\t\tAND pnf.pnf-name = $oof.vpn.access-node-id \n\t\tAND depth = '0'\"\n        pfx='tmp.aai.pnf' local-only='false' >\n\n\n",
    "comments": "",
    "outputs": 1,
    "x": 1884.538589477539,
    "y": 1822.6811356544495,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "346b021b.bac82e",
        "fe6ca97c.41f258",
        "fc66139b.853a"
      ]
    ]
  },
  {
    "id": "346b021b.bac82e",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2066.5386352539062,
    "y": 1767.681245803833,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "edadbcd1.1307c"
      ]
    ]
  },
  {
    "id": "fe6ca97c.41f258",
    "type": "not-found",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2067.0295372009277,
    "y": 1805.2553424835205,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "df86be3c.187cb"
      ]
    ]
  },
  {
    "id": "fc66139b.853a",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2058.362548828125,
    "y": 1838.5887174606323,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "589f379c.3c1008"
      ]
    ]
  },
  {
    "id": "df86be3c.187cb",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
    "comments": "",
    "x": 2214.601161956787,
    "y": 1804.5412311553955,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "589f379c.3c1008",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
    "comments": "",
    "x": 2212.1351928710938,
    "y": 1838.027865409851,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "edadbcd1.1307c",
    "type": "set",
    "name": "set tmp.thirdparty-sdnc-id",
    "xml": "<set>\n<parameter name='tmp.thirdparty-sdnc-id' value=\"`$tmp.aai.pnf.relationship-list.relationship[0].relationship-data[0].relationship-value`\" />\n",
    "comments": "",
    "x": 2251.5386352539062,
    "y": 1766.6813678741455,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "ca8d7a27.974a78",
    "type": "comment",
    "name": "get domain controller information",
    "info": "",
    "comments": "",
    "x": 1935.0425033569336,
    "y": 1789.6850910186768,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "30cf4858.64e188",
    "type": "set",
    "name": "set oof.vpn",
    "xml": "<set>\n<parameter name='oof.vpn.' value='`$oof.vpns[$vidx].`' />",
    "comments": "",
    "x": 1896.538589477539,
    "y": 1743.7922191619873,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "ab382a71.e012a8",
    "type": "save",
    "name": "save VPN resource in AAI",
    "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $tmp.vpnName' >\n<parameter name='vpn-id' value='`$tmp.vpnName`' />\n<parameter name='vpn-name' value='`$tmp.vpnName`' />\n<parameter name='access-provider-id' value='`$oof.vpn.access-provider-id`' />\n<parameter name='access-client-id' value='`$oof.vpn.access-client-id`' />\n<parameter name='access-topology-id' value='`$oof.vpn.access-topology-id`' />\n<parameter name='src-access-node-id' value='`$oof.vpn.access-node-id`' />\n<parameter name='src-access-ltp-id' value='`$oof.vpn.src-access-ltp-id`' />\n<parameter name='dst-access-node-id' value='`$oof.vpn.access-node-id`' />\n<parameter name='dst-access-ltp-id' value='`$oof.vpn.dst-access-ltp-id`' />\n<parameter name='vpn-type' value='`$prop.global.sotn.vpnType`' />\n<parameter name='operational-status' value='Created' />\n<parameter name='model-customization-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-customization-uuid`' />\n<parameter name='model-invariant-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-invariant-uuid`' />\n<parameter name='model-version-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-uuid`' />",
    "comments": "",
    "outputs": 1,
    "x": 1915.004005432129,
    "y": 2160.7546215057373,
    "z": "886e5ee7.da286",
    "wires": [
      []
    ]
  },
  {
    "id": "518651aa.2aca3",
    "type": "set",
    "name": "set tmp.vpnName",
    "xml": "<set>\n<parameter name='tmp.vpnName' value=\"`$oof.vpn.access-node-id + '-' + $prop.global.sotn.etht-svc-name`\" />",
    "comments": "",
    "x": 1891.504005432129,
    "y": 2113.2543182373047,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "24337100.d599a",
    "type": "save",
    "name": "save connectivity relationship in AAI",
    "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding:relationship-list' \n      key='vpn-binding.vpn-id = $tmp.vpnName' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"connectivity\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/connectivities/connectivity/' + $mdsal-psd.service-data.networks.network[0].network-id`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"connectivity.connectivity-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$mdsal-psd.service-data.networks.network[0].network-id`\" />",
    "comments": "",
    "outputs": 1,
    "x": 1950.004005432129,
    "y": 2205.7543773651123,
    "z": "886e5ee7.da286",
    "wires": [
      []
    ]
  },
  {
    "id": "abe0f3b4.f562f",
    "type": "comment",
    "name": "save vpn and its relation to AAI",
    "info": "",
    "comments": "",
    "x": 1933.0042037963867,
    "y": 2074.754587173462,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "13419eef.5a7671",
    "type": "set",
    "name": "set src-ltpId dst-ltpId",
    "xml": "<set>\n<parameter name='src-ltpId' value=\"`'nodeId-' + $oof.vpn.access-node-id + '-ltpId-' + $oof.vpn.src-access-ltp-id`\" />\n<parameter name='dst-ltpId' value=\"`'nodeId-' + $oof.vpn.access-node-id + '-ltpId-' + $oof.vpn.dst-access-ltp-id`\" />",
    "comments": "",
    "x": 1902.004035949707,
    "y": 2245.754497528076,
    "z": "886e5ee7.da286",
    "wires": []
  },
  {
    "id": "12ceff59.6da431",
    "type": "save",
    "name": "save srcLTP relationship in AAI",
    "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding:relationship-list' \n      key='vpn-binding.vpn-id = $tmp.vpnName' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"p-interface\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/network-resources/network-resource/' + $mdsal-psd.service-data.networks.network[0].network-id + '/pnfs/pnf/' + $oof.vpn.access-node-id '/p-interfaces/p-interface/' + $src-ltpId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"p-interface.interface-name\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$src-ltpId`\" />\n\n\n\n",
    "comments": "",
    "outputs": 1,
    "x": 1936.0039825439453,
    "y": 2285.5043773651123,
    "z": "886e5ee7.da286",
    "wires": [
      []
    ]
  },
  {
    "id": "d86cc1ce.6085e",
    "type": "save",
    "name": "save dstLTP relationship in AAI",
    "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding:relationship-list' \n      key='vpn-binding.vpn-id = $tmp.vpnName' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"p-interface\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/network-resources/network-resource/' + $mdsal-psd.service-data.networks.network[0].network-id + '/pnfs/pnf/' + $oof.vpn.access-node-id '/p-interfaces/p-interface/' + $dst-ltpId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"p-interface.interface-name\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$dst-ltpId`\" />",
    "comments": "",
    "outputs": 1,
    "x": 1934.0039863586426,
    "y": 2331.2543773651123,
    "z": "886e5ee7.da286",
    "wires": [
      []
    ]
  },
  {
    "id": "44848e46.5ebac",
    "type": "execute",
    "name": "execute RestApiCallNode - get-resource connection-attachment-allotted-resource",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.ar-url`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='GET' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-ar\" />\n\n",
    "comments": "",
    "outputs": 1,
    "x": 876.0078430175781,
    "y": 596.0078182220459,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "5268ad10.1fbc94",
        "ffb50ed4.11c7e"
      ]
    ]
  },
  {
    "id": "b29f5799.241a78",
    "type": "execute",
    "name": "execute RestApiCallNode - get-resource parent service data",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.ar-url-psd`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='GET' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-psd\" />\n\n",
    "comments": "",
    "outputs": 1,
    "x": 803.0079956054688,
    "y": 823.007981300354,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "7ecc4648.197a88",
        "dfe397a0.b9ba28"
      ]
    ]
  },
  {
    "id": "3637e175.005c6e",
    "type": "execute",
    "name": "get parent-service-data url",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"/restconf/config/GENERIC-RESOURCE-API:services/service/{service-instance-id}/service-data\"/>\n    <parameter name=\"outputPath\" value=\"tmp.ar-url-psd\"/>\n    <parameter name=\"target\" value=\"{service-instance-id}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.ar.parent-service-instance-id`\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 703.0079040527344,
    "y": 786.0078144073486,
    "z": "886e5ee7.da286",
    "wires": [
      []
    ]
  },
  {
    "id": "2865c930.441376",
    "type": "execute",
    "name": "generate tmp.ar-other-url-connection",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.connection-attachment-allottedresource`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.ar-other-url-connection\"/>\n    <parameter name=\"target\" value=\"{allotted-resource-id}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.provided-ar.allotted-resource-id`\"/>\n    \n\n",
    "comments": "",
    "outputs": 1,
    "x": 2117.0042572021484,
    "y": 942.3373756408691,
    "z": "886e5ee7.da286",
    "wires": [
      []
    ]
  },
  {
    "id": "36209682.cdfdca",
    "type": "execute",
    "name": "execute RestApiCallNode - get-resource connection-attachment-allotted-resource",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.ar-other-url-connection`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='GET' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-other-ar\" />\n\n",
    "comments": "",
    "outputs": 1,
    "x": 2254.004898071289,
    "y": 984.8372402191162,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "2877490b.8d1876",
        "bf4a739d.0a26c"
      ]
    ]
  },
  {
    "id": "2cebb233.b139be",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1879.0041770935059,
    "y": 1708.0040254592896,
    "z": "886e5ee7.da286",
    "wires": [
      []
    ]
  },
  {
    "id": "431946d9.2130a8",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1255.9727897644043,
    "y": 1733.0042095184326,
    "z": "886e5ee7.da286",
    "wires": [
      [
        "7306bfe1.33065",
        "f51b8e7a.4294a"
      ]
    ]
  }
]