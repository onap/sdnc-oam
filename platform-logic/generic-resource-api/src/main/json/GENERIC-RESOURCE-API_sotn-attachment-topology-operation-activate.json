[
  {
    "id": "f0153b87.1aa798",
    "type": "dgstart",
    "name": "DGSTART",
    "outputs": 1,
    "x": 102,
    "y": 41,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "37db48aa.3102a8"
      ]
    ]
  },
  {
    "id": "37db48aa.3102a8",
    "type": "service-logic",
    "name": "GENERIC-RESOURCE-API ${project.version}",
    "module": "GENERIC-RESOURCE-API",
    "version": "${project.version}",
    "comments": "",
    "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
    "outputs": 1,
    "x": 314.00000381469727,
    "y": 113.0000171661377,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "8e5a288e.22ba38"
      ]
    ]
  },
  {
    "id": "8e5a288e.22ba38",
    "type": "method",
    "name": "sotn-attachment-topology-operation-activate",
    "xml": "<method rpc='sotn-attachment-topology-operation-activate' mode='sync'>\n",
    "comments": "",
    "outputs": 1,
    "x": 302.0001220703125,
    "y": 201,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "14475178.c2cb5f"
      ]
    ]
  },
  {
    "id": "14475178.c2cb5f",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 318.0001220703125,
    "y": 756.0002446174622,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "39d2596f.2e6486",
        "475fee4a.2321c",
        "3214622f.b70a0e",
        "194b53eb.9a430c",
        "70983b1f.d74fc4",
        "15c56856.fe4288",
        "9aff627b.6c891",
        "3120cc89.60b424",
        "3486149.4baf1ec",
        "6b5433e2.f9b98c",
        "11330b50.39fff5",
        "4c9795c0.2ea26c",
        "6808534f.26dedc",
        "5108ddf0.d611a4",
        "475dc457.5f7fcc",
        "81a2f8c8.11c298",
        "6686d349.e6f56c",
        "9c7c7cc9.00f0d",
        "d2f446e4.964e68",
        "4e180c2f.ed77c4"
      ]
    ]
  },
  {
    "id": "39d2596f.2e6486",
    "type": "set",
    "name": "set tmp.ar.allotted-resource-id,etc",
    "xml": "<set>\n<parameter name='tmp.ar.allotted-resource-id' value='`$connection-attachment-topology-operation-input.allotted-resource-information.allotted-resource-id`' />\n<parameter name='tmp.ar.parent-service-instance-id' value='`$connection-attachment-topology-operation-input.allotted-resource-information.parent-service-instance-id`' />\n\n\n",
    "comments": "",
    "x": 714.9935607910156,
    "y": 154.9934868812561,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "63cf4c88.8a5124",
    "type": "comment",
    "name": "set tmp ar-id to fetch resource from MDSAL",
    "info": "",
    "comments": "",
    "x": 743.9538726806641,
    "y": 119.02528285980225,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "475fee4a.2321c",
    "type": "set",
    "name": "set tmp.ar.self-link",
    "xml": "<set>\n<parameter name='tmp.ar.self-link' value=\"`'restconf/config/GENERIC-RESOURCE-API:connection-attachment-allotted-resources/connection-attachment-allotted-resource/'\n + $tmp.ar.allotted-resource-id\n + '/allotted-resource-data/connection-attachment-topology/'` \" />\n\n",
    "comments": "",
    "x": 668.9934997558594,
    "y": 247.99349212646484,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "70983b1f.d74fc4",
    "type": "execute",
    "name": "execute Properties",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
    "comments": "",
    "outputs": 1,
    "x": 675.2553901672363,
    "y": 335.6602210998535,
    "z": "b77eb8cb.f65338",
    "wires": [
      []
    ]
  },
  {
    "id": "3214622f.b70a0e",
    "type": "execute",
    "name": "generate allotted-resource tmp.ar-url",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.connection-attachment-allottedresource`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.ar-url\"/>\n    <parameter name=\"target\" value=\"{allotted-resource-id}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.ar.allotted-resource-id`\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 722.2554473876953,
    "y": 423.6602249145508,
    "z": "b77eb8cb.f65338",
    "wires": [
      []
    ]
  },
  {
    "id": "c87bf834.34ea78",
    "type": "comment",
    "name": "GET connection-attachment-allotted-resource from mdsal",
    "info": "",
    "comments": "",
    "x": 768.8083801269531,
    "y": 554.5386590957642,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "113ace35.809232",
    "type": "comment",
    "name": "Used for setting output to API Handler",
    "info": "",
    "comments": "",
    "x": 722.9935302734375,
    "y": 214.993501663208,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "50cc8221.52c2ac",
    "type": "comment",
    "name": "Obtain different URL, template location etc",
    "info": "For saving resource information to MDSAL & for AAI",
    "comments": "",
    "x": 740.9934959411621,
    "y": 300.8823823928833,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "af3c0a63.1e6a98",
    "type": "comment",
    "name": "Used to Get AR by id to MDSAL, same as self-link",
    "info": "",
    "comments": "",
    "x": 766.9935150146484,
    "y": 387.8823413848877,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "c1149ebc.a18f3",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1228.6667919158936,
    "y": 571.9999847412109,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "31376db9.acf272"
      ]
    ]
  },
  {
    "id": "31376db9.acf272",
    "type": "block",
    "name": "block: atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1372.6668701171875,
    "y": 529.4999027252197,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "5e5bcd6.19fdf34"
      ]
    ]
  },
  {
    "id": "5e5bcd6.19fdf34",
    "type": "switchNode",
    "name": "switch cr length",
    "xml": "<switch test='`$mdsal-ar.connection-attachment-allotted-resource_length`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1541.5242938995361,
    "y": 527.1190738677979,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "6c460039.1ac81",
        "eea84cd7.a917a"
      ]
    ]
  },
  {
    "id": "6c460039.1ac81",
    "type": "other",
    "name": "outcome 1",
    "xml": "<outcome value='1'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1696.8574295043945,
    "y": 499.1189889907837,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "77f82b9d.86f924"
      ]
    ]
  },
  {
    "id": "77f82b9d.86f924",
    "type": "block",
    "name": "block: atomic",
    "xml": "<block atomic='true'>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1855.381233215332,
    "y": 497.02383613586426,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "aacbb865.1f19e8",
        "72d77b62.0905d4",
        "3a7540da.bff7b"
      ]
    ]
  },
  {
    "id": "86743eee.5fc7a",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"404\" />\n    <parameter name=\"error-message\" value=\"Error: Connection attachment resource not exist\" />\n    \n",
    "comments": "",
    "x": 1795.5191650390625,
    "y": 604.0660705566406,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "a64622d2.6c92c",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1220.5185947418213,
    "y": 607.0660696029663,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "f60169e5.2b0f78"
      ]
    ]
  },
  {
    "id": "f60169e5.2b0f78",
    "type": "block",
    "name": "block: atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1400.5185451507568,
    "y": 607.7326202392578,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "86743eee.5fc7a"
      ]
    ]
  },
  {
    "id": "eea84cd7.a917a",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1688.185432434082,
    "y": 558.3993635177612,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "86743eee.5fc7a"
      ]
    ]
  },
  {
    "id": "aacbb865.1f19e8",
    "type": "set",
    "name": "set connection-attachment-ar from get",
    "xml": "<set>\n<parameter name='connection-attachment-ar.' value='$mdsal-ar.connection-attachment-allotted-resource[0].' />\n",
    "comments": "",
    "x": 2102.4446868896484,
    "y": 470.00008821487427,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "72d77b62.0905d4",
    "type": "set",
    "name": "set oper-status",
    "xml": "<set>\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.last-action' value='`$connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.request-information.request-action`' />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.last-rpc-action' value='`$connection-attachment-ar.allotted-resource-status.rpc-action`' />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.last-svc-request-id' value='`$connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.sdnc-request-header.svc-request-id`' />\n\n",
    "comments": "",
    "x": 2036.4447174072266,
    "y": 543.4285907745361,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "3a7540da.bff7b",
    "type": "switchNode",
    "name": "switch order-status",
    "xml": "<switch test='`$connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.order-status`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2054.4445571899414,
    "y": 503.0000858306885,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "90e207e.5908ef8",
        "70b210c6.9617b",
        "c906ca68.8f76f8"
      ]
    ]
  },
  {
    "id": "90e207e.5908ef8",
    "type": "outcome",
    "name": "outcome Created",
    "xml": "<outcome value='Created'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2282.044578552246,
    "y": 503.0000557899475,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "6b6d2ff5.d0809"
      ]
    ]
  },
  {
    "id": "70b210c6.9617b",
    "type": "outcome",
    "name": "outcome Other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2273.759262084961,
    "y": 573.4286651611328,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "20254544.302eaa"
      ]
    ]
  },
  {
    "id": "6b6d2ff5.d0809",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 2440.515251159668,
    "y": 503.37571144104004,
    "z": "b77eb8cb.f65338",
    "wires": [
      []
    ]
  },
  {
    "id": "20254544.302eaa",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" \n    value=\"`'Existing connection-attachment-allotted-resource with order status of ' + $connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.order-status + '.'`\" />\n",
    "comments": "",
    "x": 2458.6666564941406,
    "y": 575.0001983642578,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "a2b80ce.26fd3f",
    "type": "call",
    "name": "call GENERIC-RESOURCE-API:sotn-get-saved-ar-param",
    "xml": "<call module='GENERIC-RESOURCE-API' rpc='sotn-get-saved-ar-param' mode='sync' >\n",
    "comments": "",
    "outputs": 1,
    "x": 939.303050994873,
    "y": 654.4936046600342,
    "z": "b77eb8cb.f65338",
    "wires": [
      []
    ]
  },
  {
    "id": "15c56856.fe4288",
    "type": "block",
    "name": "block: atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 633.3091506958008,
    "y": 655.4999752044678,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "a2b80ce.26fd3f"
      ]
    ]
  },
  {
    "id": "868264f0.a05228",
    "type": "comment",
    "name": "GET parent-service-data from mdsal to check existence of other End point",
    "info": "",
    "comments": "",
    "x": 821.00048828125,
    "y": 700.5317525863647,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "aad0fb73.f0c288",
    "type": "for",
    "name": "for pidx..mdsal-psd.service-data.provided-allotted-resources.provided-allotted-resource[]",
    "xml": "<for index='pidx' start='0' end='`$mdsal-psd.service-data.provided-allotted-resources.provided-allotted-resource_length`' >\n",
    "comments": "",
    "outputs": 1,
    "x": 1712.1851959228516,
    "y": 853.0042300224304,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "f0eb202b.1e27a"
      ]
    ]
  },
  {
    "id": "194b53eb.9a430c",
    "type": "switchNode",
    "name": "switch mdsal-psd.service-data.provided-allotted-resources_length",
    "xml": "<switch test='`$mdsal-psd.service-data.provided-allotted-resources.provided-allotted-resource_length`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 796.1842193603516,
    "y": 960.7182664871216,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "13ffeb14.7360d5",
        "39757355.2fe49c",
        "fd39eb7b.7c9a98"
      ]
    ]
  },
  {
    "id": "13ffeb14.7360d5",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1124.3272399902344,
    "y": 1033.5755405426025,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "f2c1ecba.11558"
      ]
    ]
  },
  {
    "id": "1381483c.793168",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1308.454502105713,
    "y": 892.7015495300293,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "aad0fb73.f0c288",
        "97e063dd.81fb3"
      ]
    ]
  },
  {
    "id": "f0eb202b.1e27a",
    "type": "switchNode",
    "name": "switch allotted-resource-id",
    "xml": "<switch test=\"`$mdsal-psd.service-data.provided-allotted-resources.provided-allotted-resource[$pidx].allotted-resource-id == $tmp.ar.allotted-resource-id`\">\n\n",
    "comments": "",
    "outputs": 1,
    "x": 2152.2965240478516,
    "y": 850.0040321350098,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "2df567a7.73c798",
        "d4e922b5.7c7a7"
      ]
    ]
  },
  {
    "id": "2df567a7.73c798",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2325.1067390441895,
    "y": 821.4686470031738,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "fe8f7f2.bf5238"
      ]
    ]
  },
  {
    "id": "8a0b5adf.3a19e8",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 2473.8672103881836,
    "y": 878.3257341384888,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "b8fa816f.16c99"
      ]
    ]
  },
  {
    "id": "b8fa816f.16c99",
    "type": "set",
    "name": "set tmp.pidx and ptx.consumed-ar",
    "xml": "<set>\n<parameter name='tmp.pidx' value='`$pidx`' />\n<parameter name='tmp.provided-ar.' value='`$mdsal-psd.service-data.provided-allotted-resources.provided-allotted-resource[$pidx].`' />\n<parameter name='tmp.found-in-ar' value='true' />\n<parameter name='tmp.ep-available' value='true' />",
    "comments": "",
    "x": 2708.724636077881,
    "y": 876.8972663879395,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "64c0d4dc.b6dddc",
    "type": "comment",
    "name": "Check existence of other AR in parent service data",
    "info": "Check if other allotted resource is available.",
    "comments": "",
    "x": 743.9626579284668,
    "y": 865.8929615020752,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "39757355.2fe49c",
    "type": "other",
    "name": "outcome 1",
    "xml": "<outcome value='1'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1138.9797096252441,
    "y": 972.6772241592407,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "4899b8a4.daacc8"
      ]
    ]
  },
  {
    "id": "f2c1ecba.11558",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"404\" />\n    <parameter name=\"error-message\" value=\"Error: End points not available\" />\n    \n",
    "comments": "",
    "x": 1283.9795875549316,
    "y": 1032.67746925354,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "fd39eb7b.7c9a98",
    "type": "other",
    "name": "outcome 2",
    "xml": "<outcome value='2'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1133.9795227050781,
    "y": 893.6772499084473,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "1381483c.793168"
      ]
    ]
  },
  {
    "id": "fe8f7f2.bf5238",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 2483.0909538269043,
    "y": 820.6773900985718,
    "z": "b77eb8cb.f65338",
    "wires": [
      []
    ]
  },
  {
    "id": "d4e922b5.7c7a7",
    "type": "outcomeTrue",
    "name": "false",
    "xml": "<outcome value='false'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2332.0905952453613,
    "y": 877.6772499084473,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "8a0b5adf.3a19e8"
      ]
    ]
  },
  {
    "id": "97e063dd.81fb3",
    "type": "switchNode",
    "name": "switch tmp.found-in-ar",
    "xml": "<switch test='`$tmp.found-in-ar`'>\n\n",
    "comments": "",
    "outputs": 1,
    "x": 1520.9794998168945,
    "y": 946.4550676345825,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "208393be.b8887c"
      ]
    ]
  },
  {
    "id": "208393be.b8887c",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1691.97953414917,
    "y": 947.5662889480591,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "4d49666d.60a998"
      ]
    ]
  },
  {
    "id": "4d49666d.60a998",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1840.9796295166016,
    "y": 947.5662879943848,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "9e4e02da.ba863",
        "20489984.ecc376"
      ]
    ]
  },
  {
    "id": "22833208.b4a46e",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2587.097454071045,
    "y": 963.7951421737671,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "c65d5723.a5b848"
      ]
    ]
  },
  {
    "id": "2732d49d.cceecc",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2578.9492568969727,
    "y": 998.8612270355225,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "dbeaaa85.4029b8"
      ]
    ]
  },
  {
    "id": "d72c43b5.cf9f7",
    "type": "switchNode",
    "name": "switch mdsal-psd.service-data.networks_length",
    "xml": "<switch test='`$mdsal-psd.service-data.networks.network_length`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1584.313003540039,
    "y": 1047.899908065796,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "d0f7220d.4b428",
        "ac1935fc.dd95e8"
      ]
    ]
  },
  {
    "id": "ac1935fc.dd95e8",
    "type": "other",
    "name": "outcome 1",
    "xml": "<outcome value='1'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1848.3128509521484,
    "y": 1027.7886543273926,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "548f99fa.a891a8"
      ]
    ]
  },
  {
    "id": "d0f7220d.4b428",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1838.3129119873047,
    "y": 1075.788625717163,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "7b5d18d3.bbfea8"
      ]
    ]
  },
  {
    "id": "7b5d18d3.bbfea8",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"404\" />\n    <parameter name=\"error-message\" value=\"Error: Incorrect state found more then 1 network\" />\n    \n",
    "comments": "",
    "x": 1976.9652557373047,
    "y": 1077.890386581421,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "f1c4b18d.0cad8",
    "type": "set",
    "name": "set tmp.network.",
    "xml": "<set>\n<parameter name='tmp.network.' value='`$mdsal-psd.service-data.networks.network[0].`' />\n\n\n",
    "comments": "",
    "x": 2209.757709503174,
    "y": 1028.788824081421,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "4899b8a4.daacc8",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1306.4240188598633,
    "y": 971.7884912490845,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "d72c43b5.cf9f7"
      ]
    ]
  },
  {
    "id": "548f99fa.a891a8",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 2007.0906219482422,
    "y": 1030.7884883880615,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "f1c4b18d.0cad8",
        "a0176b10.5cf318"
      ]
    ]
  },
  {
    "id": "a0176b10.5cf318",
    "type": "for",
    "name": "for nidx..tmp.network.network-data.network-request-input.network...[]",
    "xml": "<for index='nidx' start='0' end='`$tmp.network.network-data.network-request-input.network-input-parameters.param_length`' >",
    "comments": "",
    "outputs": 1,
    "x": 2370.090660095215,
    "y": 1076.7886428833008,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "bdd0951b.7a1048"
      ]
    ]
  },
  {
    "id": "bdd0951b.7a1048",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 2416.646728515625,
    "y": 1307.7884521484375,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "d2a2a19a.30904",
        "b4ad6489.869268",
        "81d955a0.fdd798",
        "907393ed.e3cc5",
        "6915b32.ff96d4c",
        "7fed766c.9a4da8",
        "c5ad1fc.7f379e",
        "7f0676d5.fb4ed8",
        "f813892d.705858",
        "48683565.884b2c"
      ]
    ]
  },
  {
    "id": "d2a2a19a.30904",
    "type": "switchNode",
    "name": "switch access-node-id",
    "xml": "<switch test=\"`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].name == 'access-node-id'`\">",
    "comments": "",
    "outputs": 1,
    "x": 2693.1569442749023,
    "y": 1149.7991995811462,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "da3a6e67.286a7"
      ]
    ]
  },
  {
    "id": "da3a6e67.286a7",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2882.1565704345703,
    "y": 1151.7990641593933,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "473da373.c78e0c"
      ]
    ]
  },
  {
    "id": "473da373.c78e0c",
    "type": "set",
    "name": "set tmp.found-in-network tmp.ep-available",
    "xml": "<set>\n<parameter name='tmp.found-in-network' value='true' />\n<parameter name='tmp.ep-available' value='true' />",
    "comments": "",
    "x": 3135.1567459106445,
    "y": 1151.3991103172302,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "b4ad6489.869268",
    "type": "returnSuccess",
    "name": "return success",
    "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
    "comments": "",
    "x": 2667.146396636963,
    "y": 1523.7884907722473,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "4c9795c0.2ea26c",
    "type": "switchNode",
    "name": "switch tmp.ep-available",
    "xml": "<switch test='`$tmp.ep-available`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 659.3128204345703,
    "y": 1156.232801437378,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "2e8e9ef5.d59b52",
        "c574d3e5.739bd"
      ]
    ]
  },
  {
    "id": "c574d3e5.739bd",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 877.9795398712158,
    "y": 1205.5661582946777,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "6325fab7.6c4454"
      ]
    ]
  },
  {
    "id": "2e8e9ef5.d59b52",
    "type": "outcomeTrue",
    "name": "false",
    "xml": "<outcome value='false'>\n",
    "comments": "",
    "outputs": 1,
    "x": 882.8683414459229,
    "y": 1114.566219329834,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "b14d63ab.166b2"
      ]
    ]
  },
  {
    "id": "b14d63ab.166b2",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1029.8683376312256,
    "y": 1116.4550323486328,
    "z": "b77eb8cb.f65338",
    "wires": [
      []
    ]
  },
  {
    "id": "6325fab7.6c4454",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1048.090627670288,
    "y": 1203.5661163330078,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "56e3b129.b6311",
        "1c5e92b7.be5c6d",
        "30c4a59d.68013a"
      ]
    ]
  },
  {
    "id": "56e3b129.b6311",
    "type": "switchNode",
    "name": "switch tmp.found-in-ar",
    "xml": "<switch test='`$tmp.found-in-ar`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1274.2016410827637,
    "y": 1170.5661163330078,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "a61c0163.04aaf",
        "dd00d35e.b4ebf"
      ]
    ]
  },
  {
    "id": "a61c0163.04aaf",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1469.6460876464844,
    "y": 1148.566177368164,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "84bb93e.9db147"
      ]
    ]
  },
  {
    "id": "dd00d35e.b4ebf",
    "type": "outcomeTrue",
    "name": "false",
    "xml": "<outcome value='false'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1466.64599609375,
    "y": 1196.566162109375,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "7f2cc4d1.68de1c"
      ]
    ]
  },
  {
    "id": "84bb93e.9db147",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1657.2017517089844,
    "y": 1145.566177368164,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "91ed6caa.0f609"
      ]
    ]
  },
  {
    "id": "7f2cc4d1.68de1c",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1654.20166015625,
    "y": 1195.566162109375,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "ced1966a.91b668"
      ]
    ]
  },
  {
    "id": "61e6aa35.d2a674",
    "type": "comment",
    "name": "GET connection-attachment-ar to store AR data from mdsal",
    "info": "",
    "comments": "",
    "x": 2166.4728355407715,
    "y": 432.50394773483276,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "bc27dccb.1b84",
    "type": "comment",
    "name": "Set source end point",
    "info": "",
    "comments": "",
    "x": 655.9727325439453,
    "y": 521.2539677619934,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "9aff627b.6c891",
    "type": "set",
    "name": "set tmp.ar.parent-service-instance-id",
    "xml": "<set>\n<parameter name='tmp.ar.parent-service-instance-id' value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.parent-service-instance-id` \" />\n\n",
    "comments": "",
    "x": 706.9688262939453,
    "y": 730.0000905990601,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "4d9b94e4.b9fdbc",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1066.968978881836,
    "y": 801.0000772476196,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "80f05cb8.f45a"
      ]
    ]
  },
  {
    "id": "bba2abed.296388",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1058.8207817077637,
    "y": 836.066162109375,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "654ec40e.232e9c"
      ]
    ]
  },
  {
    "id": "654ec40e.232e9c",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"404\" />\n    <parameter name=\"error-message\" value=\"Error: Parent service data not available\" />\n    \n",
    "comments": "",
    "x": 1204.9695625305176,
    "y": 835.3335733413696,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "80f05cb8.f45a",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1197.9690742492676,
    "y": 801.0001382827759,
    "z": "b77eb8cb.f65338",
    "wires": [
      []
    ]
  },
  {
    "id": "dbeaaa85.4029b8",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"404\" />\n    <parameter name=\"error-message\" value=\"Error: SOTN provided attachment resource not found\" />\n    \n",
    "comments": "",
    "x": 2728.969306945801,
    "y": 999.00026512146,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "c65d5723.a5b848",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 2713.9694290161133,
    "y": 966.0002498626709,
    "z": "b77eb8cb.f65338",
    "wires": [
      []
    ]
  },
  {
    "id": "3120cc89.60b424",
    "type": "set",
    "name": "set tmp.found-in-ar tmp.found-in-network tmp.ep-available to false",
    "xml": "<set>\n<parameter name='tmp.found-in-ar' value='false' />\n<parameter name='tmp.found-in-network' value='false' />\n<parameter name='tmp.ep-available' value='false' />",
    "comments": "",
    "x": 792.9687652587891,
    "y": 903.0000648498535,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "2a163f7f.23a9",
    "type": "comment",
    "name": "If other EP exists set destination end point",
    "info": "Check if other allotted resource is available.",
    "comments": "",
    "x": 709.9687652587891,
    "y": 1081.0000133514404,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "efe2d9e1.22f788",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1449.9688873291016,
    "y": 1408.0002946853638,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "8f22b06a.c87a",
        "7118eaa9.b999b4",
        "dc85b61b.751118",
        "fb6322e2.b6f2a",
        "41bf95c2.22b18c",
        "e7dd1e4e.91a96",
        "430aff7b.4de3b",
        "73de4f36.d26f3"
      ]
    ]
  },
  {
    "id": "8f22b06a.c87a",
    "type": "switchNode",
    "name": "switch access-node-id",
    "xml": "<switch test=\"`$tmp.ep.parameters.param[$idx].name == 'access-node-id'`\">",
    "comments": "",
    "outputs": 1,
    "x": 1692.4791889190674,
    "y": 1278.010691165924,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "672849c2.24e3f8"
      ]
    ]
  },
  {
    "id": "7118eaa9.b999b4",
    "type": "returnSuccess",
    "name": "return success",
    "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
    "comments": "",
    "x": 1665.4691410064697,
    "y": 1583.0006546974182,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "dc85b61b.751118",
    "type": "switchNode",
    "name": "switch access-ltp-id",
    "xml": "<switch test=\"`$tmp.ep.parameters.param[$idx].name == 'access-ltp-id'`\">",
    "comments": "",
    "outputs": 1,
    "x": 1683.9690189361572,
    "y": 1321.7782225608826,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "f196130e.e0cbf"
      ]
    ]
  },
  {
    "id": "fb6322e2.b6f2a",
    "type": "switchNode",
    "name": "switch clientSignal",
    "xml": "<switch test=\"`$tmp.ep.parameters.param[$idx].name == 'clientSignal'`\">",
    "comments": "",
    "outputs": 1,
    "x": 1677.9690570831299,
    "y": 1367.778269290924,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "2fb3d21f.4787ee"
      ]
    ]
  },
  {
    "id": "41bf95c2.22b18c",
    "type": "switchNode",
    "name": "switch cVLAN",
    "xml": "<switch test=\"`$tmp.ep.parameters.param[$idx].name == 'cVLAN'`\">",
    "comments": "",
    "outputs": 1,
    "x": 1661.9585590362549,
    "y": 1406.767771244049,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "f3256d46.4c8db"
      ]
    ]
  },
  {
    "id": "672849c2.24e3f8",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1870.1911029815674,
    "y": 1278.6670632362366,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "d4ac551b.25eb18"
      ]
    ]
  },
  {
    "id": "d4ac551b.25eb18",
    "type": "set",
    "name": "set dst-access-node-id",
    "xml": "<set>\n<parameter name='prop.remote.connection-attachment.access-node-id' value='`$tmp.ep.parameters.param[$idx].value`' />",
    "comments": "",
    "x": 2045.1911029815674,
    "y": 1278.267038345337,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "f196130e.e0cbf",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1865.6809711456299,
    "y": 1321.434519290924,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "b63c2901.045798"
      ]
    ]
  },
  {
    "id": "2fb3d21f.4787ee",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1865.6809711456299,
    "y": 1367.434519290924,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "6e38c70e.7901e8"
      ]
    ]
  },
  {
    "id": "f3256d46.4c8db",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1865.6704730987549,
    "y": 1406.4241433143616,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "e13fa831.5fba68"
      ]
    ]
  },
  {
    "id": "1c5e92b7.be5c6d",
    "type": "for",
    "name": "for idx..tmp.ep.parameters[]",
    "xml": "<for index='idx' start='0' end='`$tmp.ep.parameters.param_length`'>\n\n",
    "comments": "",
    "outputs": 1,
    "x": 1302.96875,
    "y": 1296,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "efe2d9e1.22f788"
      ]
    ]
  },
  {
    "id": "91ed6caa.0f609",
    "type": "set",
    "name": "set tmp.ep.parameters",
    "xml": "<set>\n<parameter name='tmp.ep.parameters.' value='`$mdsal-other-ar.connection-attachment-allotted-resource[0].allotted-resource-data.allotted-resource-operation-information.connection-attachment-request-input.`' />\n",
    "comments": "",
    "x": 1868.9688053131104,
    "y": 1145.0000743865967,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "ced1966a.91b668",
    "type": "set",
    "name": "set tmp.ep.parameters",
    "xml": "<set>\n<parameter name='tmp.ep.parameters.' value='`$tmp.network.network-data.network-request-input.network-input-parameters.`' />\n",
    "comments": "",
    "x": 1865.968713760376,
    "y": 1191.0000591278076,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "b63c2901.045798",
    "type": "set",
    "name": "set dst-access-node-id",
    "xml": "<set>\n<parameter name='prop.remote.connection-attachment.access-ltp-id' value='`$tmp.ep.parameters.param[$idx].value`' />",
    "comments": "",
    "x": 2042.9689350128174,
    "y": 1321.0003151893616,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "6e38c70e.7901e8",
    "type": "set",
    "name": "set dst-clientSignal",
    "xml": "<set>\n<parameter name='prop.remote.connection-attachment.clientSignal' value='`$tmp.ep.parameters.param[$idx].value`' />",
    "comments": "",
    "x": 2036.9689350128174,
    "y": 1365.0003151893616,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "e13fa831.5fba68",
    "type": "set",
    "name": "set dst-cVLAN",
    "xml": "<set>\n<parameter name='prop.remote.connection-attachment.cVLAN' value='`$tmp.ep.parameters.param[$idx].value`' />",
    "comments": "",
    "x": 2027.9689350128174,
    "y": 1404.0003151893616,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "fc8692e0.c6c15",
    "type": "comment",
    "name": "Get controller info and send request",
    "info": "",
    "comments": "",
    "x": 1909.968807220459,
    "y": 1875.000153541565,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "720e074e.8200e8",
    "type": "execute",
    "name": "execute RestApiCallNode Create ethernet Service",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sotn-ethernet-service.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-eth-tran-service:etht-svc'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"patch\"/>\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.openecomp.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
    "comments": "",
    "outputs": 1,
    "x": 1962.96923828125,
    "y": 2018.0009536743164,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "8013381a.8c0a88",
        "b382f817.5ce988"
      ]
    ]
  },
  {
    "id": "8013381a.8c0a88",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2228.968963623047,
    "y": 2047.0010766983032,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "1b40a3e5.a15d0c"
      ]
    ]
  },
  {
    "id": "1b40a3e5.a15d0c",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "comments": "",
    "outputs": 1,
    "x": 2376.968963623047,
    "y": 2045.0009546279907,
    "z": "b77eb8cb.f65338",
    "wires": [
      []
    ]
  },
  {
    "id": "c561595f.c61f28",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create vpn rest api\" />\n",
    "comments": "",
    "x": 2358.968994140625,
    "y": 1992.0010147094727,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "b382f817.5ce988",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2219.9689025878906,
    "y": 1992.0010147094727,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "c561595f.c61f28"
      ]
    ]
  },
  {
    "id": "4adc98b9.5564f8",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 881.7311744689941,
    "y": 2098.9537086486816,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "b6407ec8.0d3fd"
      ]
    ]
  },
  {
    "id": "b6407ec8.0d3fd",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"AAI failed\" />\n",
    "comments": "",
    "x": 1048.2549953460693,
    "y": 2125.5727157592773,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "80088814.0d0078",
    "type": "failure",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 883.8264026641846,
    "y": 2146.715551376343,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "b6407ec8.0d3fd"
      ]
    ]
  },
  {
    "id": "75bfcca7.4ee8c4",
    "type": "comment",
    "name": "Save Resource to AAI",
    "info": "",
    "comments": "",
    "x": 655.7788181304932,
    "y": 2087.3028717041016,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "9c7c7cc9.00f0d",
    "type": "set",
    "name": "set output to api handler",
    "xml": "<set>\n<parameter name='allotted-resource-id' value='`$tmp.ar.allotted-resource-id`' />\n<parameter name='connection-attachment-object-path' value=\"`$tmp.ar.self-link`\"/>\n<parameter name='service-object-path' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $connection-attachment-topology-operation-input.service-information.service-instance-id\n + '/service-data/service-topology/'`\"/>\n \n",
    "comments": "",
    "x": 670.5465145111084,
    "y": 2008.8283529281616,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "4e180c2f.ed77c4",
    "type": "returnSuccess",
    "name": "return success",
    "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
    "comments": "",
    "x": 630.9596862792969,
    "y": 2194.4441413879395,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "6686d349.e6f56c",
    "type": "execute",
    "name": "execute RestApiCallNode - PUT AR by id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.sotn-attachment.templatefile`\" />\n    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.ar-url`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-ar\" />\n\n",
    "comments": "",
    "outputs": 1,
    "x": 723.2785968780518,
    "y": 1933.4692058563232,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "f7f89db4.fac1b",
        "f0927535.dd2f78",
        "f0728bcf.bffde8"
      ]
    ]
  },
  {
    "id": "f7f89db4.fac1b",
    "type": "not-found",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 977.9200191497803,
    "y": 1977.8006000518799,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "bf657686.a7ceb8"
      ]
    ]
  },
  {
    "id": "f0927535.dd2f78",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 979.9200420379639,
    "y": 1936.3005641922355,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "bf657686.a7ceb8"
      ]
    ]
  },
  {
    "id": "f0728bcf.bffde8",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 983.6701259613037,
    "y": 1887.6577167510986,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "6a1decc1.9e6014"
      ]
    ]
  },
  {
    "id": "bf657686.a7ceb8",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error updating md-sal for connection-attachment-allotted-resource\" />\n",
    "comments": "",
    "x": 1138.67014503479,
    "y": 1956.050630569458,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "6a1decc1.9e6014",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1111.3260707855225,
    "y": 1889.8498849868774,
    "z": "b77eb8cb.f65338",
    "wires": [
      []
    ]
  },
  {
    "id": "6808534f.26dedc",
    "type": "set",
    "name": "set ar-data",
    "xml": "<set>\n<parameter name='connection-attachment-ar.allotted-resource-status.action' value=\"`$connection-attachment-topology-operation-input.request-information.request-action` \" />\n<parameter name='connection-attachment-ar.allotted-resource-status.rpc-name' value=\"connection-attachment-topology-operation\" />\n<parameter name='connection-attachment-ar.allotted-resource-status.rpc-action' value=\"`$connection-attachment-topology-operation-input.sdnc-request-header.svc-action` \" />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.request-information.' value=\"`$connection-attachment-topology-operation-input.request-information.` \" />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.sdnc-request-header.' value=\"`$connection-attachment-topology-operation-input.sdnc-request-header.` \" />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.service-information.' value=\"`$connection-attachment-topology-operation-input.service-information.` \" />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.allotted-resource-information.' value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.` \" />",
    "comments": "",
    "x": 625.4922122955322,
    "y": 1767.8501069545746,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "475dc457.5f7fcc",
    "type": "execute",
    "name": "execute getTime",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='setTime' >\n    <parameter name=\"outputPath\" value=\"tmp.current-time\" />\n",
    "comments": "",
    "outputs": 1,
    "x": 642.77805519104,
    "y": 1840.4697046279907,
    "z": "b77eb8cb.f65338",
    "wires": [
      []
    ]
  },
  {
    "id": "81a2f8c8.11c298",
    "type": "set",
    "name": "set allotted-resource-oper-status",
    "xml": "<set>\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.order-status' value='Active' />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.last-action' value='`$connection-attachment-topology-operation-input.request-information.request-action`' />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.last-rpc-action' value='`$connection-attachment-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.last-svc-request-id' value='`$connection-attachment-topology-operation-input.sdnc-request-header.svc-request-id`' />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.create-timestamp' value='`$tmp.current-time`' />\n",
    "comments": "",
    "x": 692.7651348114014,
    "y": 1877.4207849502563,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "5108ddf0.d611a4",
    "type": "set",
    "name": "set model-data",
    "xml": "<set>\n<parameter name='connection-attachment-ar.allotted-resource-data.connection-attachment-topology.onap-model-information.' value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.onap-model-information.` \" />",
    "comments": "",
    "x": 639.3337535858154,
    "y": 1807.024757385254,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "f337484d.70bf28",
    "type": "comment",
    "name": "Prepare data for allotted-resource addition to MDSAL",
    "info": "This will add to allotted-resource which is present inside service.",
    "comments": "",
    "x": 752.66721534729,
    "y": 1728.0247094631195,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "5925686d.595f18",
    "type": "comment",
    "name": "Add to allotted-resources in mdsal",
    "info": "",
    "comments": "",
    "x": 694.2470417022705,
    "y": 1695.4380111694336,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "d2f446e4.964e68",
    "type": "update",
    "name": "update AAI allotted-resource",
    "xml": "<update plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"allotted-resource\" \n\t\tkey=\"customer.global-customer-id = $connection-attachment-topology-operation-input.service-information.global-customer-id AND\n\t\t\tservice-subscription.service-type = $connection-attachment-topology-operation-input.service-information.subscription-service-type AND\n\t\t\tservice-instance.service-instance-id = $connection-attachment-topology-operation-input.allotted-resource-information.parent-service-instance-id AND\n\t\t\tallotted-resource.id = $tmp.ar.allotted-resource-id\"\n        pfx='pfx' local-only='false' force='false'>\n\t<parameter name=\"description\" value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.allotted-resource-type`\" />\n\t<parameter name=\"selflink\" value=\"`$tmp.ar.self-link`\" />\n\t<!--parameter name=\"model-invariant-id\" value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.onap-model-information.model-invariant-uuid`\" />\n\t<parameter name=\"model-version-id\" value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.onap-model-information.model-uuid`\" /-->\n\t<parameter name=\"operational-status\" value=\"Active\" />\n",
    "comments": "",
    "outputs": 1,
    "x": 682.2230968475342,
    "y": 2124.7550144195557,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "4adc98b9.5564f8",
        "80088814.0d0078"
      ]
    ]
  },
  {
    "id": "c49b4aaa.8eb458",
    "type": "execute",
    "name": "execute RestApiCallNode getPath from OOF",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.oof-getpath.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"http://oof.api.simpledemo.onap.org:8698/api/oof/v1/route\" />\n<parameter name=\"restapiUser\" value=\"`$prop.oof.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.oof.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"oof\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.openecomp.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
    "comments": "",
    "outputs": 1,
    "x": 1490.973056793213,
    "y": 1687.2546663284302,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "650472ec.1541cc",
        "7bf7af19.41604"
      ]
    ]
  },
  {
    "id": "650472ec.1541cc",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1730.9731979370117,
    "y": 1711.254635810852,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "a355003b.47898"
      ]
    ]
  },
  {
    "id": "7b91a43a.43575c",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing OOF api\" />\n",
    "comments": "",
    "x": 1869.973232269287,
    "y": 1660.2547273635864,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "7bf7af19.41604",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1729.9729843139648,
    "y": 1660.254726409912,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "7b91a43a.43575c"
      ]
    ]
  },
  {
    "id": "9cc260b5.e6775",
    "type": "comment",
    "name": "Get VPNs from OOF",
    "info": "",
    "comments": "",
    "x": 1476.976978302002,
    "y": 1654.2586660385132,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "c8317c15.003a7",
    "type": "for",
    "name": "for vidx..oof.vpns_length[]",
    "xml": "<for index='vidx' start='0' end='`$oof.vpns_length`' >",
    "comments": "",
    "outputs": 1,
    "x": 1430.972900390625,
    "y": 1769.50439453125,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "af9451b6.6a8bc"
      ]
    ]
  },
  {
    "id": "ce7bfac9.59ea28",
    "type": "comment",
    "name": "Loop through VPN and configure them",
    "info": "",
    "comments": "",
    "x": 1476.9733505249023,
    "y": 1904.0047721862793,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "81d955a0.fdd798",
    "type": "switchNode",
    "name": "switch name",
    "xml": "<switch test=\"`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].name == 'name'`\">\n                \n",
    "comments": "",
    "outputs": 1,
    "x": 2670.757080078125,
    "y": 1241.121826171875,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "a8f319ce.fb7728"
      ]
    ]
  },
  {
    "id": "a8f319ce.fb7728",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2859.757049560547,
    "y": 1241.121811389923,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "431396b4.de7818"
      ]
    ]
  },
  {
    "id": "431396b4.de7818",
    "type": "set",
    "name": "set etht-svc-name & bandwidth-profile-name",
    "xml": "<set>\n<parameter name='prop.global.sotn.etht-svc-name' value='`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].value`' />\n<parameter name='prop.global.sotn.bandwidth-profile-name' value='`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].value`' />\n",
    "comments": "",
    "x": 3100.75736618042,
    "y": 1240.7218661308289,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "907393ed.e3cc5",
    "type": "switchNode",
    "name": "switch description",
    "xml": "<switch test=\"`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].name == 'description'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2683.5969581604004,
    "y": 1276.1219210624695,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "d9557ea4.bf394"
      ]
    ]
  },
  {
    "id": "d9557ea4.bf394",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2858.597023010254,
    "y": 1278.1219067573547,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "45e99806.06bec8"
      ]
    ]
  },
  {
    "id": "45e99806.06bec8",
    "type": "set",
    "name": "set etht-svc-descr",
    "xml": "<set>\n<parameter name='prop.global.sotn.etht-svc-descr' value='`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].value`' />\n",
    "comments": "",
    "x": 3014.9303398132324,
    "y": 1275.5829815864563,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "6915b32.ff96d4c",
    "type": "switchNode",
    "name": "switch tenantId",
    "xml": "<switch test=\"`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].name == 'tenantId'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2678.979221343994,
    "y": 1309.4553112983704,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "54c69927.f11c78"
      ]
    ]
  },
  {
    "id": "54c69927.f11c78",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2856.9792251586914,
    "y": 1313.4551892280579,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "1b6903e2.1bb38c"
      ]
    ]
  },
  {
    "id": "1b6903e2.1bb38c",
    "type": "set",
    "name": "set tenantId",
    "xml": "<set>\n<parameter name='prop.global.sotn.tenantId' value='`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].value`' />\n",
    "comments": "",
    "x": 2994.9794120788574,
    "y": 1310.0551648139954,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "c5ad1fc.7f379e",
    "type": "switchNode",
    "name": "switch cir",
    "xml": "<switch test=\"`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].name == 'cir'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2661.818820953369,
    "y": 1382.4552664756775,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "e6b9de18.07ff6"
      ]
    ]
  },
  {
    "id": "e6b9de18.07ff6",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2856.8188858032227,
    "y": 1383.4552664756775,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "5781b10a.e6964"
      ]
    ]
  },
  {
    "id": "5781b10a.e6964",
    "type": "set",
    "name": "set cir",
    "xml": "<set>\n<parameter name='prop.sotn.cir' value='`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].value`' />\n",
    "comments": "",
    "x": 2981.15238571167,
    "y": 1381.916341304779,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "7fed766c.9a4da8",
    "type": "switchNode",
    "name": "switch vpnType",
    "xml": "<switch test=\"`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].name == 'vpnType'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2676.127109527588,
    "y": 1345.232976436615,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "13e67a3c.d6e956"
      ]
    ]
  },
  {
    "id": "13e67a3c.d6e956",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2858.127296447754,
    "y": 1348.232961177826,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "ea1c32d4.47abf"
      ]
    ]
  },
  {
    "id": "ea1c32d4.47abf",
    "type": "set",
    "name": "set vpnType",
    "xml": "<set>\n<parameter name='prop.global.sotn.vpnType' value='`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].value`' />\n",
    "comments": "",
    "x": 2994.461040496826,
    "y": 1344.6942028999329,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "7f0676d5.fb4ed8",
    "type": "switchNode",
    "name": "switch eir",
    "xml": "<switch test=\"`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].name == 'eir'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2657.1091651916504,
    "y": 1416.1531739234924,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "353a94c4.e9e36c"
      ]
    ]
  },
  {
    "id": "353a94c4.e9e36c",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2857.1094131469727,
    "y": 1419.1531128883362,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "9533adc0.33657"
      ]
    ]
  },
  {
    "id": "9533adc0.33657",
    "type": "set",
    "name": "set eir",
    "xml": "<set>\n<parameter name='prop.global.sotn.eir' value='`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].value`' />\n",
    "comments": "",
    "x": 2980.4430351257324,
    "y": 1418.6141724586487,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "f813892d.705858",
    "type": "switchNode",
    "name": "switch colorAware",
    "xml": "<switch test=\"`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].name == 'colorAware'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2682.109775543213,
    "y": 1450.1530528068542,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "6cbb94d.cbf0a6c"
      ]
    ]
  },
  {
    "id": "6cbb94d.cbf0a6c",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2853.1095962524414,
    "y": 1456.1529912948608,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "fe3a2a29.5796b8"
      ]
    ]
  },
  {
    "id": "fe3a2a29.5796b8",
    "type": "set",
    "name": "set colorAware",
    "xml": "<set>\n<parameter name='prop.global.sotn.colorAware' value='`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].value`' />\n",
    "comments": "",
    "x": 3001.44291305542,
    "y": 1456.6142039299011,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "48683565.884b2c",
    "type": "switchNode",
    "name": "switch couplingFlag",
    "xml": "<switch test=\"`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].name == 'couplingFlag'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2684.1097145080566,
    "y": 1486.1531147956848,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "c607b88.5ed5148"
      ]
    ]
  },
  {
    "id": "c607b88.5ed5148",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2856.1095962524414,
    "y": 1495.1530842781067,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "b2a9da7.9c5cc28"
      ]
    ]
  },
  {
    "id": "b2a9da7.9c5cc28",
    "type": "set",
    "name": "set couplingFlag",
    "xml": "<set>\n<parameter name='prop.global.sotn.couplingFlag' value='`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].value`' />\n",
    "comments": "",
    "x": 3009.44291305542,
    "y": 1495.6142048835754,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "ff6739f7.297788",
    "type": "comment",
    "name": "Check if other EP exists in SOTNConnectionResource",
    "info": "",
    "comments": "",
    "x": 2815.312744140625,
    "y": 1104.7884521484375,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "fc6811ef.80d38",
    "type": "comment",
    "name": "Get other global parameters from network",
    "info": "",
    "comments": "",
    "x": 2751.3125,
    "y": 1190.7884521484375,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "e7dd1e4e.91a96",
    "type": "switchNode",
    "name": "switch access-provider-id",
    "xml": "<switch test=\"`$tmp.ep.parameters.param[$idx].name == 'access-provider-id'`\">",
    "comments": "",
    "outputs": 1,
    "x": 1699.5348529815674,
    "y": 1452.2329812049866,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "c8cfe5bb.859018"
      ]
    ]
  },
  {
    "id": "c8cfe5bb.859018",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1886.5348529815674,
    "y": 1448.2329812049866,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "46d10a3c.a7cbf4"
      ]
    ]
  },
  {
    "id": "46d10a3c.a7cbf4",
    "type": "set",
    "name": "set access-provider-id",
    "xml": "<set>\n<parameter name='prop.remote.connection-attachment.access-provider-id' value='`$tmp.ep.parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2054.5348529815674,
    "y": 1448.8329873085022,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "430aff7b.4de3b",
    "type": "switchNode",
    "name": "switch access-client-id",
    "xml": "<switch test=\"`$tmp.ep.parameters.param[$idx].name == 'access-client-id'`\">",
    "comments": "",
    "outputs": 1,
    "x": 1690.5348682403564,
    "y": 1495.2434296607971,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "f92b4400.307298"
      ]
    ]
  },
  {
    "id": "f92b4400.307298",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1877.5348682403564,
    "y": 1491.2434296607971,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "d45aefbe.25b84"
      ]
    ]
  },
  {
    "id": "d45aefbe.25b84",
    "type": "set",
    "name": "set access-client-id",
    "xml": "<set>\n<parameter name='prop.remote.connection-attachment.access-client-id' value='`$tmp.ep.parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2045.5348682403564,
    "y": 1491.8434357643127,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "73de4f36.d26f3",
    "type": "switchNode",
    "name": "switch access-topology-id",
    "xml": "<switch test=\"`$tmp.ep.parameters.param[$idx].name == 'access-topology-id'`\">",
    "comments": "",
    "outputs": 1,
    "x": 1703.534812927246,
    "y": 1537.2434606552124,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "50ab3262.1183fc"
      ]
    ]
  },
  {
    "id": "50ab3262.1183fc",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1890.534812927246,
    "y": 1533.2434606552124,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "ea1f641c.db0ad8"
      ]
    ]
  },
  {
    "id": "ea1f641c.db0ad8",
    "type": "set",
    "name": "set access-topology-id",
    "xml": "<set>\n<parameter name='prop.remote.connection-attachment.access-topology-id' value='`$tmp.ep.parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2058.534812927246,
    "y": 1533.843466758728,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "af9451b6.6a8bc",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1654.090217590332,
    "y": 1806.3444538116455,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "4ab77d48.311544",
        "e4eb13b3.c09f1",
        "605c3adc.d328c4",
        "cd8fce5c.84613",
        "46b7e45f.ca542c",
        "aad3c3a2.8ba1a",
        "1895c6b0.313e79",
        "dc6218bd.f32508",
        "720e074e.8200e8",
        "12b3a8ae.a63cd7"
      ]
    ]
  },
  {
    "id": "ee5a0a75.8e5478",
    "type": "set",
    "name": "set controller data",
    "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.url' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.user' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.password' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n",
    "comments": "",
    "x": 2295.534881591797,
    "y": 1870.6776461601257,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "dc6218bd.f32508",
    "type": "get-resource",
    "name": "get-resource esr-thirdparty-sdnc",
    "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.thirdparty-sdnc-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.esr-thirdparty-sdnc' local-only='false' >\n\n",
    "comments": "",
    "outputs": 1,
    "x": 1912.0347900390625,
    "y": 1907.6775856018066,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "3ad136d4.6f78ca",
        "4e664a18.4ede24",
        "d5ace46c.151878"
      ]
    ]
  },
  {
    "id": "3ad136d4.6f78ca",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2132.034725189209,
    "y": 1871.6775546073914,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "ee5a0a75.8e5478"
      ]
    ]
  },
  {
    "id": "4e664a18.4ede24",
    "type": "not-found",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2141.525665283203,
    "y": 1912.2515606880188,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "c1d6fb7f.5b5268"
      ]
    ]
  },
  {
    "id": "d5ace46c.151878",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2136.858642578125,
    "y": 1948.5848736763,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "240f3ab0.d77306"
      ]
    ]
  },
  {
    "id": "c1d6fb7f.5b5268",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
    "comments": "",
    "x": 2288.0970153808594,
    "y": 1908.5373873710632,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "240f3ab0.d77306",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
    "comments": "",
    "x": 2291.6312866210938,
    "y": 1950.0240216255188,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "1895c6b0.313e79",
    "type": "get-resource",
    "name": "get-resource pnf",
    "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $oof.vpn.access-node-id \n\t\tAND depth = '0'\"\n        pfx='tmp.aai.pnf' local-only='false' >\n\n\n",
    "comments": "",
    "outputs": 1,
    "x": 1857.534683227539,
    "y": 1816.6772294044495,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "dace1ed1.50115",
        "d1b98218.0bf6d",
        "8557ff13.c8435"
      ]
    ]
  },
  {
    "id": "dace1ed1.50115",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2039.5347290039062,
    "y": 1761.677339553833,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "e02d4e60.f9ac4"
      ]
    ]
  },
  {
    "id": "d1b98218.0bf6d",
    "type": "not-found",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2040.0256309509277,
    "y": 1799.2514362335205,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "22d246d8.fff85a"
      ]
    ]
  },
  {
    "id": "8557ff13.c8435",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2031.358642578125,
    "y": 1832.5848112106323,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "b4b019b3.7e6578"
      ]
    ]
  },
  {
    "id": "22d246d8.fff85a",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
    "comments": "",
    "x": 2187.597255706787,
    "y": 1798.5373249053955,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "b4b019b3.7e6578",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
    "comments": "",
    "x": 2185.1312866210938,
    "y": 1832.023959159851,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "e02d4e60.f9ac4",
    "type": "set",
    "name": "set tmp.thirdparty-sdnc-id",
    "xml": "<set>\n<parameter name='tmp.thirdparty-sdnc-id' value=\"`$tmp.aai.pnf.relationship-list.relationship[0].relationship-data[0].relationship-value`\" />\n",
    "comments": "",
    "x": 2224.5347290039062,
    "y": 1760.6774616241455,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "451dc042.93a4",
    "type": "comment",
    "name": "get domain controller information",
    "info": "",
    "comments": "",
    "x": 1908.0385971069336,
    "y": 1783.6811847686768,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "12b3a8ae.a63cd7",
    "type": "set",
    "name": "set oof.vpn",
    "xml": "<set>\n<parameter name='oof.vpn.' value='`$oof.vpns[$vidx].`' />",
    "comments": "",
    "x": 1869.534683227539,
    "y": 1737.7883129119873,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "e4eb13b3.c09f1",
    "type": "save",
    "name": "save VPN resource in AAI",
    "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $tmp.vpnName' >\n<parameter name='vpn-id' value='`$tmp.vpnName`' />\n<parameter name='vpn-name' value='`$tmp.vpnName`' />\n<parameter name='access-provider-id' value='`$oof.vpn.access-provider-id`' />\n<parameter name='access-client-id' value='`$oof.vpn.access-client-id`' />\n<parameter name='access-topology-id' value='`$oof.vpn.access-topology-id`' />\n<parameter name='src-access-node-id' value='`$oof.vpn.access-node-id`' />\n<parameter name='src-access-ltp-id' value='`$oof.vpn.src-access-ltp-id`' />\n<parameter name='dst-access-node-id' value='`$oof.vpn.access-node-id`' />\n<parameter name='dst-access-ltp-id' value='`$oof.vpn.dst-access-ltp-id`' />\n<parameter name='vpn-type' value='`$prop.global.sotn.vpnType`' />\n<parameter name='operational-status' value='Created' />\n<parameter name='model-customization-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-customization-uuid`' />\n<parameter name='model-invariant-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-invariant-uuid`' />\n<parameter name='model-version-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-uuid`' />",
    "comments": "",
    "outputs": 1,
    "x": 1888.000099182129,
    "y": 2154.7507152557373,
    "z": "b77eb8cb.f65338",
    "wires": [
      []
    ]
  },
  {
    "id": "605c3adc.d328c4",
    "type": "set",
    "name": "set tmp.vpnName",
    "xml": "<set>\n<parameter name='tmp.vpnName' value=\"`$oof.vpn.access-node-id + '-' + $prop.global.sotn.etht-svc-name`\" />",
    "comments": "",
    "x": 1864.500099182129,
    "y": 2107.2504119873047,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "cd8fce5c.84613",
    "type": "save",
    "name": "save connectivity relationship in AAI",
    "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding:relationship-list' \n      key='vpn-binding.vpn-id = $tmp.vpnName' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"connectivity\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/connectivities/connectivity/' + $mdsal-psd.service-data.networks.network[0].network-id`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"connectivity.connectivity-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$mdsal-psd.service-data.networks.network[0].network-id`\" />",
    "comments": "",
    "outputs": 1,
    "x": 1923.000099182129,
    "y": 2199.7504711151123,
    "z": "b77eb8cb.f65338",
    "wires": [
      []
    ]
  },
  {
    "id": "3a0ca724.da2ff8",
    "type": "comment",
    "name": "save vpn and its relation to AAI",
    "info": "",
    "comments": "",
    "x": 1906.0002975463867,
    "y": 2068.750680923462,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "4ab77d48.311544",
    "type": "set",
    "name": "set src-ltpId dst-ltpId",
    "xml": "<set>\n<parameter name='src-ltpId' value=\"`'nodeId-' + $oof.vpn.access-node-id + '-ltpId-' + $oof.vpn.src-access-ltp-id`\" />\n<parameter name='dst-ltpId' value=\"`'nodeId-' + $oof.vpn.access-node-id + '-ltpId-' + $oof.vpn.dst-access-ltp-id`\" />",
    "comments": "",
    "x": 1875.000129699707,
    "y": 2239.750591278076,
    "z": "b77eb8cb.f65338",
    "wires": []
  },
  {
    "id": "46b7e45f.ca542c",
    "type": "save",
    "name": "save srcLTP relationship in AAI",
    "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding:relationship-list' \n      key='vpn-binding.vpn-id = $tmp.vpnName' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"p-interface\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/pnfs/pnf/' + $oof.vpn.access-node-id + '/p-interfaces/p-interface/' + $src-ltpId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"p-interface.interface-name\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$src-ltpId`\" />\n\n\n\n",
    "comments": "",
    "outputs": 1,
    "x": 1909.0003814697266,
    "y": 2279.5008001327515,
    "z": "b77eb8cb.f65338",
    "wires": [
      []
    ]
  },
  {
    "id": "aad3c3a2.8ba1a",
    "type": "save",
    "name": "save dstLTP relationship in AAI",
    "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding:relationship-list' \n      key='vpn-binding.vpn-id = $tmp.vpnName' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"p-interface\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/pnfs/pnf/' + $oof.vpn.access-node-id + '/p-interfaces/p-interface/' + $dst-ltpId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"p-interface.interface-name\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$dst-ltpId`\" />",
    "comments": "",
    "outputs": 1,
    "x": 1907.0002136230469,
    "y": 2325.250638961792,
    "z": "b77eb8cb.f65338",
    "wires": [
      []
    ]
  },
  {
    "id": "3486149.4baf1ec",
    "type": "execute",
    "name": "execute RestApiCallNode - get-resource connection-attachment-allotted-resource",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.ar-url`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='GET' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-ar\" />\n\n",
    "comments": "",
    "outputs": 1,
    "x": 849.0039367675781,
    "y": 590.0039119720459,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "c1149ebc.a18f3",
        "a64622d2.6c92c"
      ]
    ]
  },
  {
    "id": "6b5433e2.f9b98c",
    "type": "execute",
    "name": "execute RestApiCallNode - get-resource parent service data",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.ar-url-psd`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='GET' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-psd\" />\n\n",
    "comments": "",
    "outputs": 1,
    "x": 776.0040893554688,
    "y": 817.004075050354,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "4d9b94e4.b9fdbc",
        "bba2abed.296388"
      ]
    ]
  },
  {
    "id": "11330b50.39fff5",
    "type": "execute",
    "name": "get parent-service-data url",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"/restconf/config/GENERIC-RESOURCE-API:services/service/{service-instance-id}/service-data\"/>\n    <parameter name=\"outputPath\" value=\"tmp.ar-url-psd\"/>\n    <parameter name=\"target\" value=\"{service-instance-id}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.ar.parent-service-instance-id`\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 676.0040054321289,
    "y": 780.0039291381836,
    "z": "b77eb8cb.f65338",
    "wires": [
      []
    ]
  },
  {
    "id": "9e4e02da.ba863",
    "type": "execute",
    "name": "generate tmp.ar-other-url-connection",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.connection-attachment-allottedresource`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.ar-other-url-connection\"/>\n    <parameter name=\"target\" value=\"{allotted-resource-id}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.provided-ar.allotted-resource-id`\"/>\n    \n\n",
    "comments": "",
    "outputs": 1,
    "x": 2090.0003509521484,
    "y": 936.3334693908691,
    "z": "b77eb8cb.f65338",
    "wires": [
      []
    ]
  },
  {
    "id": "20489984.ecc376",
    "type": "execute",
    "name": "execute RestApiCallNode - get-resource connection-attachment-allotted-resource",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.ar-other-url-connection`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='GET' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-other-ar\" />\n\n",
    "comments": "",
    "outputs": 1,
    "x": 2227.000991821289,
    "y": 978.8333339691162,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "22833208.b4a46e",
        "2732d49d.cceecc"
      ]
    ]
  },
  {
    "id": "a355003b.47898",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1852.0002708435059,
    "y": 1702.0001192092896,
    "z": "b77eb8cb.f65338",
    "wires": [
      []
    ]
  },
  {
    "id": "30c4a59d.68013a",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1228.9688835144043,
    "y": 1727.0003032684326,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "c49b4aaa.8eb458",
        "c8317c15.003a7"
      ]
    ]
  },
  {
    "id": "c906ca68.8f76f8",
    "type": "outcome",
    "name": "outcome PendingDelete",
    "xml": "<outcome value='PendingDelete'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2297.3333129882812,
    "y": 537.6667022705078,
    "z": "b77eb8cb.f65338",
    "wires": [
      [
        "a0d7730.956499"
      ]
    ]
  },
  {
    "id": "a0d7730.956499",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 2481.333324432373,
    "y": 533.6667022705078,
    "z": "b77eb8cb.f65338",
    "wires": [
      []
    ]
  }
]
