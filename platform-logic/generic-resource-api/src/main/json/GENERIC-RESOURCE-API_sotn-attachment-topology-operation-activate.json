[
  {
    "id": "13403d5.5be54c3",
    "type": "dgstart",
    "name": "DGSTART",
    "outputs": 1,
    "x": 112.00390625,
    "y": 46.00390625,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "8694bff7.45011"
      ]
    ]
  },
  {
    "id": "8694bff7.45011",
    "type": "service-logic",
    "name": "GENERIC-RESOURCE-API ${project.version}",
    "module": "GENERIC-RESOURCE-API",
    "version": "${project.version}",
    "comments": "",
    "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
    "outputs": 1,
    "x": 324.00391006469727,
    "y": 118.0039234161377,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "ce5f4d71.3c80b"
      ]
    ]
  },
  {
    "id": "ce5f4d71.3c80b",
    "type": "method",
    "name": "sotn-attachment-topology-operation-activate",
    "xml": "<method rpc='sotn-attachment-topology-operation-activate' mode='sync'>\n",
    "comments": "",
    "outputs": 1,
    "x": 312.0040283203125,
    "y": 206.00390625,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "e7e7b5c7.7cb0c8"
      ]
    ]
  },
  {
    "id": "e7e7b5c7.7cb0c8",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 328.0040283203125,
    "y": 761.0041508674622,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "581b91b6.06ff3",
        "680895fb.4f588c",
        "dc05cef1.a51f5",
        "89ef32f1.d5d63",
        "7184e2e7.8c461c",
        "f440893f.3eb748",
        "80cf693a.7220c8",
        "cab0e236.de21f",
        "84e0eeac.a2ba4",
        "602ccaa6.5c1754",
        "85ce847d.6d7528",
        "447e9068.877d",
        "4b7801cc.5bfc5",
        "195a1754.387c79",
        "17bafb78.38c045",
        "69a30b87.057684",
        "a26aed10.bae5b",
        "4c5d18d9.d86fb8",
        "bc43d14.b5aca3"
      ]
    ]
  },
  {
    "id": "581b91b6.06ff3",
    "type": "set",
    "name": "set tmp.ar.allotted-resource-id,etc",
    "xml": "<set>\n<parameter name='tmp.ar.allotted-resource-id' value='`connection-attachment-topology-operation-input.allotted-resource-information.allotted-resource-id`' />\n<parameter name='tmp.ar.parent-service-instance-id' value='`$connection-attachment-topology-operation-input.allotted-resource-information.parent-service-instance-id`' />\n\n\n",
    "comments": "",
    "x": 724.9974670410156,
    "y": 159.9973931312561,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "c2f92da0.ae67f",
    "type": "comment",
    "name": "set tmp ar-id to fetch resource from MDSAL",
    "info": "",
    "comments": "",
    "x": 753.9577789306641,
    "y": 124.02918910980225,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "680895fb.4f588c",
    "type": "set",
    "name": "set tmp.ar.self-link",
    "xml": "<set>\n<parameter name='tmp.ar.self-link' value=\"`'restconf/config/GENERIC-RESOURCE-API:connection-attachment-allotted-resources/connection-attachment-allotted-resource/'\n + $tmp.ar.allotted-resource-id\n + '/allotted-resource-data/connection-attachment-topology/'` \" />\n\n",
    "comments": "",
    "x": 678.9974060058594,
    "y": 252.99739837646484,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "cab0e236.de21f",
    "type": "execute",
    "name": "execute Properties",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
    "comments": "",
    "outputs": 1,
    "x": 685.2592964172363,
    "y": 340.6641273498535,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        
      ]
    ]
  },
  {
    "id": "dc05cef1.a51f5",
    "type": "execute",
    "name": "generate allotted-resource url",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.connection-attachment-allottedresource`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.ar-url\"/>\n    <parameter name=\"target\" value=\"{allotted-resource-id}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.ar.allotted-resource-id`\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 717.2593231201172,
    "y": 428.66410875320435,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        
      ]
    ]
  },
  {
    "id": "89ef32f1.d5d63",
    "type": "get-resource",
    "name": "get-resource connection-attachment-allotted-resource",
    "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.mdsal.ConfigResource' resource='GENERIC-RESOURCE-API' key='connection-attachment-allotted-resources/connection-attachment-allotted-resource/$connection-attachment-topology-operation-input.allotted-resource-information.allotted-resource-id/' pfx='mdsal-ar' >\n",
    "comments": "",
    "outputs": 1,
    "x": 787.9974212646484,
    "y": 518.77516746521,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "c4c666a0.dc3b68",
        "2a74b364.08117c"
      ]
    ]
  },
  {
    "id": "74acb38d.a8df3c",
    "type": "comment",
    "name": "GET connection-attachment-allotted-resource from mdsal",
    "info": "",
    "comments": "",
    "x": 794.8122177124023,
    "y": 490.5424861907959,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "f5129fcf.6a5ca",
    "type": "comment",
    "name": "Used for setting output to API Handler",
    "info": "",
    "comments": "",
    "x": 732.9974365234375,
    "y": 219.997407913208,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "d590f72a.b09d08",
    "type": "comment",
    "name": "Obtain different URL, template location etc",
    "info": "For saving resource information to MDSAL & for AAI",
    "comments": "",
    "x": 750.9974021911621,
    "y": 305.8862886428833,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "609f412.aec83c",
    "type": "comment",
    "name": "Used to Get AR by id to MDSAL, same as self-link",
    "info": "",
    "comments": "",
    "x": 776.9974212646484,
    "y": 392.8862476348877,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "c4c666a0.dc3b68",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1087.6706237792969,
    "y": 504.00389862060547,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "2a674d20.0005d2"
      ]
    ]
  },
  {
    "id": "2a674d20.0005d2",
    "type": "block",
    "name": "block: atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1256.6706275939941,
    "y": 502.50379943847656,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "801d5833.48d068"
      ]
    ]
  },
  {
    "id": "801d5833.48d068",
    "type": "switchNode",
    "name": "switch cr length",
    "xml": "<switch test='`$mdsal-ar.connection-attachment-allotted-resource_length`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1467.5278701782227,
    "y": 502.12292861938477,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "eb4c62e2.ed59e",
        "e1cf5942.513c08"
      ]
    ]
  },
  {
    "id": "eb4c62e2.ed59e",
    "type": "other",
    "name": "outcome 1",
    "xml": "<outcome value='1'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1656.8611755371094,
    "y": 502.12288665771484,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "6ded2c0c.68e914"
      ]
    ]
  },
  {
    "id": "6ded2c0c.68e914",
    "type": "block",
    "name": "block: atomic",
    "xml": "<block atomic='true'>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1841.3850650787354,
    "y": 499.027720451355,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "f931a889.3afae8",
        "bd538141.56707",
        "57b77b8c.0f7844"
      ]
    ]
  },
  {
    "id": "482ef87f.84eaa8",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"404\" />\n    <parameter name=\"error-message\" value=\"Error: SOTN resource not found\" />\n    \n",
    "comments": "",
    "x": 1800.5228652954102,
    "y": 580.0699520111084,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "2a74b364.08117c",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1079.5224266052246,
    "y": 539.0699834823608,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "ab1859dd.20d8a8"
      ]
    ]
  },
  {
    "id": "ab1859dd.20d8a8",
    "type": "block",
    "name": "block: atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1259.5223770141602,
    "y": 539.7365341186523,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "482ef87f.84eaa8"
      ]
    ]
  },
  {
    "id": "e1cf5942.513c08",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1645.1891288757324,
    "y": 539.4032468795776,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "482ef87f.84eaa8"
      ]
    ]
  },
  {
    "id": "f931a889.3afae8",
    "type": "set",
    "name": "set connection-attachment-ar from get",
    "xml": "<set>\n<parameter name='connection-attachment-ar.' value='$mdsal-ar.connection-attachment-allotted-resource[0].' />\n",
    "comments": "",
    "x": 2209.4485473632812,
    "y": 468.0039601325989,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "57b77b8c.0f7844",
    "type": "set",
    "name": "set oper-status",
    "xml": "<set>\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.last-action' value='`$connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.request-information.request-action`' />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.last-rpc-action' value='`$connection-attachment-ar.allotted-resource-status.rpc-action`' />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.last-svc-request-id' value='`$connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.sdnc-request-header.svc-request-id`' />\n\n",
    "comments": "",
    "x": 2143.4485778808594,
    "y": 541.4324626922607,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "bd538141.56707",
    "type": "switchNode",
    "name": "switch order-status",
    "xml": "<switch test='`$connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.order-status`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2153.448356628418,
    "y": 507.00389671325684,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "dff36ce6.7bfdb",
        "68d26983.d39818"
      ]
    ]
  },
  {
    "id": "dff36ce6.7bfdb",
    "type": "outcome",
    "name": "outcome Created",
    "xml": "<outcome value='Created'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2389.048439025879,
    "y": 501.0039277076721,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "a20d7036.b7b91"
      ]
    ]
  },
  {
    "id": "68d26983.d39818",
    "type": "outcome",
    "name": "outcome Other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2382.7628784179688,
    "y": 540.432535648346,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "95ec04c5.68c058"
      ]
    ]
  },
  {
    "id": "a20d7036.b7b91",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 2603.518955230713,
    "y": 502.37956190109253,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        
      ]
    ]
  },
  {
    "id": "95ec04c5.68c058",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" \n    value=\"`'Existing connection-attachment-allotted-resource with order status of ' + $connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.order-status + '.'`\" />\n",
    "comments": "",
    "x": 2622.6706581115723,
    "y": 543.0039258003235,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "a6cc9265.33dd9",
    "type": "call",
    "name": "call GENERIC-RESOURCE-API:sotn-get-request-input-param",
    "xml": "<call module='GENERIC-RESOURCE-API' rpc='connection-attachment-get-request-input-param' mode='sync' >\n",
    "comments": "",
    "outputs": 1,
    "x": 975.3069458007812,
    "y": 608.4974617958069,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        
      ]
    ]
  },
  {
    "id": "84e0eeac.a2ba4",
    "type": "block",
    "name": "block: atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 657.3130226135254,
    "y": 608.5037484169006,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "a6cc9265.33dd9"
      ]
    ]
  },
  {
    "id": "7184e2e7.8c461c",
    "type": "get-resource",
    "name": "get-resource parent-service-data",
    "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.mdsal.ConfigResource' resource='GENERIC-RESOURCE-API' key='services/service/$tmp.ar.parent-service-instance-id/service-data' pfx='mdsal-psd' >\n",
    "comments": "",
    "outputs": 1,
    "x": 722.0043334960938,
    "y": 750.5355229377747,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "1665d4d8.fb3cab",
        "7f1aaa67.966654"
      ]
    ]
  },
  {
    "id": "2d977877.2cdd28",
    "type": "comment",
    "name": "GET parent-service-data from mdsal to check existence of other End point",
    "info": "",
    "comments": "",
    "x": 842.0042724609375,
    "y": 679.5354619026184,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "413accea.8047d4",
    "type": "for",
    "name": "for pidx..mdsal-psd.provided-allotted-resources.provided-allotted-resource[]",
    "xml": "<for index='pidx' start='0' end='`$mdsal-psd.provided-allotted-resources.provided-allotted-resource_length`' >\n",
    "comments": "",
    "outputs": 1,
    "x": 1731.1887531280518,
    "y": 918.0080151557922,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "bf28fd20.e4d9d"
      ]
    ]
  },
  {
    "id": "f440893f.3eb748",
    "type": "switchNode",
    "name": "switch mdsal-psd.provided-allotted-resources_length",
    "xml": "<switch test='`$mdsal-psd.provided-allotted-resources.provided-allotted-resource_length`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 788.1881103515625,
    "y": 894.7219853401184,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "d800a1f4.f7982",
        "d253364d.d38c98",
        "2dc2ac81.8fbcc4"
      ]
    ]
  },
  {
    "id": "d800a1f4.f7982",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1120.3309326171875,
    "y": 1171.5794072151184,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "c302abb6.eb05c8"
      ]
    ]
  },
  {
    "id": "c4d4c7bb.632948",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1314.4583415985107,
    "y": 912.705427646637,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "413accea.8047d4",
        "ce0b3f4a.08eea"
      ]
    ]
  },
  {
    "id": "bf28fd20.e4d9d",
    "type": "switchNode",
    "name": "switch allotted-resource-id",
    "xml": "<switch test=\"`$mdsal-psd.provided-allotted-resources.provided-allotted-resource[$cidx].allotted-resource-id == $tmp.ar.allotted-resource-id`\">\n\n",
    "comments": "",
    "outputs": 1,
    "x": 2166.3001537323,
    "y": 918.0079121589661,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "1a1bdd33.763073",
        "f9268b46.a58948"
      ]
    ]
  },
  {
    "id": "1a1bdd33.763073",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2375.1103801727295,
    "y": 890.4724020957947,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "c5aa7e99.1a51b"
      ]
    ]
  },
  {
    "id": "9c7d5f29.63bbc",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 2554.8710765838623,
    "y": 954.329580783844,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "dc636dab.29589",
        "1d4567ac.71fcc8"
      ]
    ]
  },
  {
    "id": "dc636dab.29589",
    "type": "set",
    "name": "set tmp.pidx and ptx.consumed-ar",
    "xml": "<set>\n<parameter name='tmp.pidx' value='`$pidx`' />\n<parameter name='tmp.provided-ar.' value='`$mdsal-psd.provided-allotted-resources.provided-allotted-resource[$pidx].`' />\n<parameter name='tmp.found-in-ar' value='true' />\n<parameter name='tmp.ep-available' value='true' />",
    "comments": "",
    "x": 2811.728582382202,
    "y": 928.9010949134827,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "1d4567ac.71fcc8",
    "type": "break",
    "name": "break",
    "xml": "<break>\n",
    "comments": "",
    "x": 2722.5893001556396,
    "y": 975.6571106910706,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "b1ecb95e.fe19d8",
    "type": "comment",
    "name": "Check existence of other AR in parent service data",
    "info": "Check if other allotted resource is available.",
    "comments": "",
    "x": 777.966552734375,
    "y": 828.8967900276184,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "d253364d.d38c98",
    "type": "other",
    "name": "outcome 1",
    "xml": "<outcome value='1'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1131.9833793640137,
    "y": 1042.6811718940735,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "72798bd.8ed1174"
      ]
    ]
  },
  {
    "id": "c302abb6.eb05c8",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"404\" />\n    <parameter name=\"error-message\" value=\"Error: SOTN resource not found\" />\n    \n",
    "comments": "",
    "x": 1292.9832763671875,
    "y": 1170.68114900589,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "2dc2ac81.8fbcc4",
    "type": "other",
    "name": "outcome 2",
    "xml": "<outcome value='2'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1139.983362197876,
    "y": 913.6811280250549,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "c4d4c7bb.632948"
      ]
    ]
  },
  {
    "id": "c5aa7e99.1a51b",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 2533.0945949554443,
    "y": 889.6811451911926,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        
      ]
    ]
  },
  {
    "id": "f9268b46.a58948",
    "type": "outcomeTrue",
    "name": "false",
    "xml": "<outcome value='false'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2374.0945949554443,
    "y": 952.6811451911926,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "9c7d5f29.63bbc"
      ]
    ]
  },
  {
    "id": "ce0b3f4a.08eea",
    "type": "switchNode",
    "name": "switch tmp.found-in-ar",
    "xml": "<switch test='`$tmp.found-in-ar`'>\n\n",
    "comments": "",
    "outputs": 1,
    "x": 1560.9832668304443,
    "y": 989.4589009284973,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "e09e23ee.bea8f"
      ]
    ]
  },
  {
    "id": "e09e23ee.bea8f",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1783.9833126068115,
    "y": 988.5700707435608,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "8dfd0c85.a915"
      ]
    ]
  },
  {
    "id": "8dfd0c85.a915",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1973.9833431243896,
    "y": 988.5701203346252,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "c01e9fb3.005a4"
      ]
    ]
  },
  {
    "id": "c01e9fb3.005a4",
    "type": "get-resource",
    "name": "get-resource provided-ar.allotted-resource",
    "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.mdsal.ConfigResource' resource='GENERIC-RESOURCE-API' key='connection-attachment-allotted-resources/connection-attachment-allotted-resource/$tmp.provided-ar.allotted-resource-id/' pfx='mdsal-other-ar' >",
    "comments": "",
    "outputs": 1,
    "x": 2279.4276962280273,
    "y": 1040.5701661109924,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "cdcbe6d0.564cd8",
        "d4c31f68.30c06"
      ]
    ]
  },
  {
    "id": "cdcbe6d0.564cd8",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2579.100898742676,
    "y": 1025.798897266388,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "a8542804.b5e6c8"
      ]
    ]
  },
  {
    "id": "d4c31f68.30c06",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2570.9527015686035,
    "y": 1060.8649821281433,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "7d0763b3.444adc"
      ]
    ]
  },
  {
    "id": "4f1efc93.85dab4",
    "type": "switchNode",
    "name": "switch mdsal-psd.networks_length",
    "xml": "<switch test='`$mdsal-psd.networks.network_length`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1558.3167724609375,
    "y": 1141.9036870002747,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "6774f061.befc3",
        "82b7323.6fb02d"
      ]
    ]
  },
  {
    "id": "82b7323.6fb02d",
    "type": "other",
    "name": "outcome 1",
    "xml": "<outcome value='1'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1837.316650390625,
    "y": 1151.7924809455872,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "90c3e5fe.809838"
      ]
    ]
  },
  {
    "id": "6774f061.befc3",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1831.3167724609375,
    "y": 1211.7924809455872,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "f2dc069d.22e408"
      ]
    ]
  },
  {
    "id": "f2dc069d.22e408",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"404\" />\n    <parameter name=\"error-message\" value=\"Error: Incorrect state found more then 1 network\" />\n    \n",
    "comments": "",
    "x": 1987.9691162109375,
    "y": 1212.8942875862122,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "7296fdef.71a454",
    "type": "set",
    "name": "set tmp.network.",
    "xml": "<set>\n<parameter name='tmp.network.' value='`$mdsal-psd.networks.network[0].`' />\n",
    "comments": "",
    "x": 2284.7614822387695,
    "y": 1135.7926478385925,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "72798bd.8ed1174",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1304.427734375,
    "y": 1043.792419910431,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "4f1efc93.85dab4"
      ]
    ]
  },
  {
    "id": "90c3e5fe.809838",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 2029.0943603515625,
    "y": 1154.7923588752747,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "7296fdef.71a454",
        "f71acaf7.a5e418"
      ]
    ]
  },
  {
    "id": "f71acaf7.a5e418",
    "type": "for",
    "name": "for nidx..tmp.network.network-data.network-request-input.network...[]",
    "xml": "<for index='nidx' start='0' end='`$tmp.network.network-data.network-request-input.network-input-parameters.param_length`' >",
    "comments": "",
    "outputs": 1,
    "x": 2446.0944900512695,
    "y": 1202.79243516922,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "bef42353.ac417"
      ]
    ]
  },
  {
    "id": "bef42353.ac417",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 2817.64990234375,
    "y": 1235.7923588752747,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "7c3ef39d.83f20c",
        "18cbc1f3.8102ae",
        "d4ff5a6.b2eb6a8",
        "42092cc3.b6ed84",
        "297544d9.6ec98c",
        "66d53edd.cdef9",
        "b4d50d62.6f88a",
        "64cab1cd.5d443",
        "10c9f83a.94e8c8",
        "17843ccd.4f45d3"
      ]
    ]
  },
  {
    "id": "7c3ef39d.83f20c",
    "type": "switchNode",
    "name": "switch access-node-id",
    "xml": "<switch test=\"`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].name == 'access-node-id'`\">",
    "comments": "",
    "outputs": 1,
    "x": 3023.1608505249023,
    "y": 1083.8029837608337,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "19483932.311cc7"
      ]
    ]
  },
  {
    "id": "19483932.311cc7",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 3212.1604766845703,
    "y": 1085.8028483390808,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "3b79183c.e90878"
      ]
    ]
  },
  {
    "id": "3b79183c.e90878",
    "type": "set",
    "name": "set tmp.found-in-network tmp.ep-available",
    "xml": "<set>\n<parameter name='tmp.found-in-network' value='true' />\n<parameter name='tmp.ep-available' value='true' />",
    "comments": "",
    "x": 3465.1606521606445,
    "y": 1085.4028944969177,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "18cbc1f3.8102ae",
    "type": "returnSuccess",
    "name": "return success",
    "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
    "comments": "",
    "x": 3004.1499557495117,
    "y": 1540.7923188209534,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "80cf693a.7220c8",
    "type": "switchNode",
    "name": "switch tmp.ep-available",
    "xml": "<switch test='`$tmp.ep-available`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 714.3167114257812,
    "y": 1306.2366948127747,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "6819776a.dd6ac8",
        "786155e4.c1358c"
      ]
    ]
  },
  {
    "id": "786155e4.c1358c",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 932.9834308624268,
    "y": 1355.5700516700745,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "86bbb2c8.73a38"
      ]
    ]
  },
  {
    "id": "6819776a.dd6ac8",
    "type": "outcomeTrue",
    "name": "false",
    "xml": "<outcome value='false'>\n",
    "comments": "",
    "outputs": 1,
    "x": 937.8722324371338,
    "y": 1264.5701127052307,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "766accfd.fad464"
      ]
    ]
  },
  {
    "id": "766accfd.fad464",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1084.8722286224365,
    "y": 1266.4589257240295,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        
      ]
    ]
  },
  {
    "id": "86bbb2c8.73a38",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1103.094518661499,
    "y": 1353.5700097084045,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "1a3bb9ea.5fc846",
        "bafdeb31.9bf788",
        "8302661e.daec38"
      ]
    ]
  },
  {
    "id": "1a3bb9ea.5fc846",
    "type": "switchNode",
    "name": "switch tmp.found-in-ar",
    "xml": "<switch test='`$tmp.found-in-ar`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1333.20556640625,
    "y": 1288.5700688362122,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "2dbd7031.b0f13",
        "840dbee8.b38c3"
      ]
    ]
  },
  {
    "id": "2dbd7031.b0f13",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1553.649938583374,
    "y": 1274.5700097084045,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "26e907a2.2afef8"
      ]
    ]
  },
  {
    "id": "840dbee8.b38c3",
    "type": "outcomeTrue",
    "name": "false",
    "xml": "<outcome value='false'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1554.64990234375,
    "y": 1320.5700688362122,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "adf3229f.c54ae"
      ]
    ]
  },
  {
    "id": "26e907a2.2afef8",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1741.205602645874,
    "y": 1271.5700097084045,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "87392ac2.70f368"
      ]
    ]
  },
  {
    "id": "adf3229f.c54ae",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1742.20556640625,
    "y": 1319.5700688362122,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "e8d19413.2d1f98"
      ]
    ]
  },
  {
    "id": "ea1f1cf0.78972",
    "type": "comment",
    "name": "GET connection-attachment-ar to store AR data from mdsal",
    "info": "",
    "comments": "",
    "x": 2273.4766960144043,
    "y": 430.5078196525574,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "9aaa3746.59be18",
    "type": "comment",
    "name": "Set source end point",
    "info": "",
    "comments": "",
    "x": 678.9765739440918,
    "y": 576.2578291893005,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "602ccaa6.5c1754",
    "type": "set",
    "name": "set tmp.ar.parent-service-instance-id",
    "xml": "<set>\n<parameter name='tmp.ar.parent-service-instance-id' value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.parent-service-instance-id` \" />\n\n",
    "comments": "",
    "x": 732.97265625,
    "y": 715.0039067268372,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "1665d4d8.fb3cab",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 968.97265625,
    "y": 743.0039067268372,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "d2585978.579578"
      ]
    ]
  },
  {
    "id": "7f1aaa67.966654",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 960.8244590759277,
    "y": 778.0699915885925,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "417b4b0.5e31db4"
      ]
    ]
  },
  {
    "id": "417b4b0.5e31db4",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"404\" />\n    <parameter name=\"error-message\" value=\"Error: SOTN resource not found\" />\n    \n",
    "comments": "",
    "x": 1135.97314453125,
    "y": 774.3373417854309,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "d2585978.579578",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1119.97265625,
    "y": 741.0039067268372,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        
      ]
    ]
  },
  {
    "id": "7d0763b3.444adc",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"404\" />\n    <parameter name=\"error-message\" value=\"Error: SOTN provided attachment resource not found\" />\n    \n",
    "comments": "",
    "x": 2740.9725818634033,
    "y": 1062.0040020942688,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "a8542804.b5e6c8",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 2724.9725818634033,
    "y": 1023.0040020942688,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        
      ]
    ]
  },
  {
    "id": "85ce847d.6d7528",
    "type": "set",
    "name": "set tmp.found-in-ar tmp.found-in-network tmp.ep-available to false",
    "xml": "<set>\n<parameter name='tmp.found-in-ar' value='false' />\n<parameter name='tmp.found-in-network' value='false' />\n<parameter name='tmp.ep-available' value='false' />",
    "comments": "",
    "x": 824.97265625,
    "y": 860.0039067268372,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "3af7f371.2bc2ac",
    "type": "comment",
    "name": "If other EP exists set destination end point",
    "info": "Check if other allotted resource is available.",
    "comments": "",
    "x": 764.97265625,
    "y": 1231.0039067268372,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "5c493845.192678",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1531.97265625,
    "y": 1437.0039067268372,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "3869f025.0085f",
        "6d83eb1f.c06da4",
        "4ef9f41a.4cbccc",
        "6ef50d20.7a2d94",
        "1ec5a1f5.39482e",
        "2020b84a.aa3f78",
        "2fc4c609.3e5f6a",
        "8d865fcb.ed997"
      ]
    ]
  },
  {
    "id": "3869f025.0085f",
    "type": "switchNode",
    "name": "switch access-node-id",
    "xml": "<switch test=\"`$tmp.ep.parameters.param[$idx].name == 'access-node-id'`\">",
    "comments": "",
    "outputs": 1,
    "x": 1768.48291015625,
    "y": 1370.0142827033997,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "c5fce3c7.fd67c"
      ]
    ]
  },
  {
    "id": "6d83eb1f.c06da4",
    "type": "returnSuccess",
    "name": "return success",
    "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
    "comments": "",
    "x": 1741.4728622436523,
    "y": 1675.0042462348938,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "4ef9f41a.4cbccc",
    "type": "switchNode",
    "name": "switch access-ltp-id",
    "xml": "<switch test=\"`$tmp.ep.parameters.param[$idx].name == 'access-ltp-id'`\">",
    "comments": "",
    "outputs": 1,
    "x": 1759.9727401733398,
    "y": 1413.7818140983582,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "28368228.3fc38e"
      ]
    ]
  },
  {
    "id": "6ef50d20.7a2d94",
    "type": "switchNode",
    "name": "switch clientSignal",
    "xml": "<switch test=\"`$tmp.ep.parameters.param[$idx].name == 'clientSignal'`\">",
    "comments": "",
    "outputs": 1,
    "x": 1753.9727783203125,
    "y": 1459.7818608283997,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "acc31d1c.59732"
      ]
    ]
  },
  {
    "id": "1ec5a1f5.39482e",
    "type": "switchNode",
    "name": "switch cVLAN",
    "xml": "<switch test=\"`$tmp.ep.parameters.param[$idx].name == 'cVLAN'`\">",
    "comments": "",
    "outputs": 1,
    "x": 1737.9622802734375,
    "y": 1498.7713627815247,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "d493c625.a30ae8"
      ]
    ]
  },
  {
    "id": "c5fce3c7.fd67c",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1946.19482421875,
    "y": 1370.6706547737122,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "11ae82e.b231c7d"
      ]
    ]
  },
  {
    "id": "11ae82e.b231c7d",
    "type": "set",
    "name": "set dst-access-node-id",
    "xml": "<set>\n<parameter name='prop.remote.connection-attachment.access-node-id' value='`$tmp.ep.parameters.param[$idx].value`' />",
    "comments": "",
    "x": 2119.19482421875,
    "y": 1370.2706303596497,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "28368228.3fc38e",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1941.6846923828125,
    "y": 1413.4381108283997,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "304613c.5ad2cec"
      ]
    ]
  },
  {
    "id": "acc31d1c.59732",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1941.6846923828125,
    "y": 1459.4381108283997,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "fab4a63a.f922d8"
      ]
    ]
  },
  {
    "id": "d493c625.a30ae8",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1941.6741943359375,
    "y": 1498.4277348518372,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "2e48f16d.306a3e"
      ]
    ]
  },
  {
    "id": "bafdeb31.9bf788",
    "type": "for",
    "name": "for idx..tmp.ep.parameters[]",
    "xml": "<for index='idx' start='0' end='`$tmp.ep.parameters.param_length`' >",
    "comments": "",
    "outputs": 1,
    "x": 1349.97265625,
    "y": 1370.0039067268372,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "5c493845.192678"
      ]
    ]
  },
  {
    "id": "87392ac2.70f368",
    "type": "set",
    "name": "set tmp.ep.parameters",
    "xml": "<set>\n<parameter name='tmp.ep.parameters' value='`$mdsal-other-ar.allotted-resource-data.connection-attachment-topology.connection-attachment-parameters`' />",
    "comments": "",
    "x": 1952.97265625,
    "y": 1271.0039067268372,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "e8d19413.2d1f98",
    "type": "set",
    "name": "set tmp.ep.parameters",
    "xml": "<set>\n<parameter name='tmp.ep.parameters' value='`$tmp.network.network-data.network-request-input.network-input-parameters`' />\n",
    "comments": "",
    "x": 1953.972620010376,
    "y": 1315.0039658546448,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "304613c.5ad2cec",
    "type": "set",
    "name": "set dst-access-node-id",
    "xml": "<set>\n<parameter name='prop.remote.connection-attachment.access-ltp-id' value='`$tmp.ep.parameters.param[$idx].value`' />",
    "comments": "",
    "x": 2118.97265625,
    "y": 1413.0039067268372,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "fab4a63a.f922d8",
    "type": "set",
    "name": "set dst-clientSignal",
    "xml": "<set>\n<parameter name='prop.remote.connection-attachment.clientSignal' value='`$tmp.ep.parameters.param[$idx].value`' />",
    "comments": "",
    "x": 2112.97265625,
    "y": 1457.0039067268372,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "2e48f16d.306a3e",
    "type": "set",
    "name": "set dst-cVLAN",
    "xml": "<set>\n<parameter name='prop.remote.connection-attachment.cVLAN' value='`$tmp.ep.parameters.param[$idx].value`' />",
    "comments": "",
    "x": 2103.97265625,
    "y": 1496.0039067268372,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "8302661e.daec38",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 743.97265625,
    "y": 1598.0039067268372,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "fe3d007c.a7b3a",
        "d535134a.50d41"
      ]
    ]
  },
  {
    "id": "bec1e4c7.8b8598",
    "type": "comment",
    "name": "Get controller info and send request",
    "info": "",
    "comments": "",
    "x": 693.97265625,
    "y": 1560.0039067268372,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "17954934.ffd177",
    "type": "execute",
    "name": "execute RestApiCallNode Create ethernet Service",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sotn-ethernet-service.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + 'restconf/data/ietf-eth-tran-service:etht-svc'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"patch\"/>\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.openecomp.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
    "comments": "",
    "outputs": 1,
    "x": 1386.9726867675781,
    "y": 2076.0046677589417,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "cabe4ed3.59977",
        "efc13d2a.c27fa"
      ]
    ]
  },
  {
    "id": "cabe4ed3.59977",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1673.9726791381836,
    "y": 2097.004617214203,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "4d9476e4.ffbd08"
      ]
    ]
  },
  {
    "id": "4d9476e4.ffbd08",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "comments": "",
    "outputs": 1,
    "x": 1843.9726181030273,
    "y": 2100.004617214203,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        
      ]
    ]
  },
  {
    "id": "cb5d2c8f.264c6",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create vpn rest api\" />\n",
    "comments": "",
    "x": 1843.9727401733398,
    "y": 2056.004617214203,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "efc13d2a.c27fa",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1676.9726181030273,
    "y": 2056.004617214203,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "cb5d2c8f.264c6"
      ]
    ]
  },
  {
    "id": "e2b1aa80.433d58",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 994.7349166870117,
    "y": 2668.9571779966354,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "49e7952b.6308dc"
      ]
    ]
  },
  {
    "id": "49e7952b.6308dc",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"AAI failed\" />\n",
    "comments": "",
    "x": 1161.2587966918945,
    "y": 2680.5762490034103,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "b0220db9.73208",
    "type": "failure",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1001.8302040100098,
    "y": 2701.719145655632,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "49e7952b.6308dc"
      ]
    ]
  },
  {
    "id": "8836c87e.2127d8",
    "type": "comment",
    "name": "Save Resource to AAI",
    "info": "",
    "comments": "",
    "x": 713.7826309204102,
    "y": 2651.3065662384033,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "ae69a5b4.bcb4d8",
    "type": "comment",
    "name": "TODO: Rework after confirmation from AAI",
    "info": "",
    "comments": "",
    "x": 1014.1415405273438,
    "y": 2628.8776049613953,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "a26aed10.bae5b",
    "type": "set",
    "name": "set output to api handler",
    "xml": "<set>\n<parameter name='allotted-resource-id' value='`$tmp.ar.allotted-resource-id`' />\n<parameter name='connection-attachment-object-path' value=\"`$tmp.ar.self-link`\"/>\n<parameter name='service-object-path' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $connection-attachment-topology-operation-input.service-information.service-instance-id\n + '/service-data/service-topology/'`\"/>\n \n",
    "comments": "",
    "x": 728.5503273010254,
    "y": 2572.8320474624634,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "4c5d18d9.d86fb8",
    "type": "returnSuccess",
    "name": "return success",
    "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
    "comments": "",
    "x": 696.9634094238281,
    "y": 2733.447799682617,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "69a30b87.057684",
    "type": "execute",
    "name": "execute RestApiCallNode - PUT AR by id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.sotn-attachment.templatefile`\" />\n    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.ar-url`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-ar\" />\n\n",
    "comments": "",
    "outputs": 1,
    "x": 778.2824287414551,
    "y": 2480.4728212356567,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "28d10010.8846d",
        "a946bcd6.894fb",
        "dceabbc6.4f8628"
      ]
    ]
  },
  {
    "id": "28d10010.8846d",
    "type": "not-found",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1046.9238052368164,
    "y": 2531.8042329773307,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "8ae56ed5.c0311"
      ]
    ]
  },
  {
    "id": "a946bcd6.894fb",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1037.9238548278809,
    "y": 2500.3042587265372,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "8ae56ed5.c0311"
      ]
    ]
  },
  {
    "id": "dceabbc6.4f8628",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1041.6738929748535,
    "y": 2470.6613636016846,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "fec8c7a7.259eb8"
      ]
    ]
  },
  {
    "id": "8ae56ed5.c0311",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error updating md-sal for connection-attachment-allotted-resource\" />\n",
    "comments": "",
    "x": 1207.6738929748535,
    "y": 2501.054282568395,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "fec8c7a7.259eb8",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1183.3298606872559,
    "y": 2466.8535327911377,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        
      ]
    ]
  },
  {
    "id": "447e9068.877d",
    "type": "set",
    "name": "set ar-data",
    "xml": "<set>\n<parameter name='connection-attachment-ar.allotted-resource-status.action' value=\"`$connection-attachment-topology-operation-input.request-information.request-action` \" />\n<parameter name='connection-attachment-ar.allotted-resource-status.rpc-name' value=\"connection-attachment-topology-operation\" />\n<parameter name='connection-attachment-ar.allotted-resource-status.rpc-action' value=\"`$connection-attachment-topology-operation-input.sdnc-request-header.svc-action` \" />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.request-information.' value=\"`$connection-attachment-topology-operation-input.request-information.` \" />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.sdnc-request-header.' value=\"`$connection-attachment-topology-operation-input.sdnc-request-header.` \" />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.service-information.' value=\"`$connection-attachment-topology-operation-input.service-information.` \" />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.allotted-resource-information.' value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.` \" />",
    "comments": "",
    "x": 683.4960250854492,
    "y": 2331.8538014888763,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "195a1754.387c79",
    "type": "execute",
    "name": "execute getTime",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='setTime' >\n    <parameter name=\"outputPath\" value=\"tmp.current-time\" />\n\n",
    "comments": "",
    "outputs": 1,
    "x": 700.781867980957,
    "y": 2404.4733991622925,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        
      ]
    ]
  },
  {
    "id": "17bafb78.38c045",
    "type": "set",
    "name": "set allotted-resource-oper-status",
    "xml": "<set>\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.order-status' value='Active' />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.last-action' value='`$connection-attachment-topology-operation-input.request-information.request-action`' />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.last-rpc-action' value='`$connection-attachment-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.last-svc-request-id' value='`$connection-attachment-topology-operation-input.sdnc-request-header.svc-request-id`' />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.create-timestamp' value='`$tmp.current-time`' />\n",
    "comments": "",
    "x": 750.7689476013184,
    "y": 2441.424479484558,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "4b7801cc.5bfc5",
    "type": "set",
    "name": "set model-data",
    "xml": "<set>\n<parameter name='connection-attachment-ar.allotted-resource-data.connection-attachment-topology.onap-model-information.' value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.onap-model-information.` \" />",
    "comments": "",
    "x": 697.3375663757324,
    "y": 2371.0284519195557,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "4bbe982e.918098",
    "type": "comment",
    "name": "Prepare data for allotted-resource addition to MDSAL",
    "info": "This will add to allotted-resource which is present inside service.",
    "comments": "",
    "x": 810.671028137207,
    "y": 2292.0284039974213,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "cbc69d8c.531e6",
    "type": "comment",
    "name": "Add to allotted-resources in mdsal",
    "info": "",
    "comments": "",
    "x": 752.2508544921875,
    "y": 2259.4417057037354,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "bc43d14.b5aca3",
    "type": "update",
    "name": "update AAI allotted-resource",
    "xml": "<update plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"allotted-resource\" \n\t\tkey=\"customer.global-customer-id = $connection-attachment-topology-operation-input.service-information.global-customer-id AND\n\t\t\tservice-subscription.service-type = $connection-attachment-topology-operation-input.service-information.subscription-service-type AND\n\t\t\tservice-instance.service-instance-id = $connection-attachment-topology-operation-input.allotted-resource-information.parent-service-instance-id AND\n\t\t\tallotted-resource.id = $tmp.ar.allotted-resource-id\"\n        pfx='pfx' local-only='false' force='false'>\n\t<parameter name=\"description\" value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.allotted-resource-type`\" />\n\t<parameter name=\"selflink\" value=\"`$tmp.ar.self-link`\" />\n\t<parameter name=\"model-invariant-id\" value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.onap-model-information.model-invariant-uuid`\" />\n\t<parameter name=\"model-version-id\" value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.onap-model-information.model-uuid`\" />\n\t<parameter name=\"operational-status\" value=\"Active\" />\n",
    "comments": "",
    "outputs": 1,
    "x": 740.2269096374512,
    "y": 2688.7587089538574,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "e2b1aa80.433d58",
        "b0220db9.73208"
      ]
    ]
  },
  {
    "id": "fe3d007c.a7b3a",
    "type": "execute",
    "name": "execute RestApiCallNode getPath from OOF",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.oof-getpath.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.restapi.connection-oof-url'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.oof.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.oof.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"oof\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.openecomp.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
    "comments": "",
    "outputs": 1,
    "x": 1050.9766693115234,
    "y": 1586.2583985328674,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "4a299f49.a1b2",
        "c4483a2a.ee5b88"
      ]
    ]
  },
  {
    "id": "4a299f49.a1b2",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1357.9766120910645,
    "y": 1607.2582454681396,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "5d2783a1.6d3b9c"
      ]
    ]
  },
  {
    "id": "5d2783a1.6d3b9c",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "comments": "",
    "outputs": 1,
    "x": 1527.9765510559082,
    "y": 1610.2582454681396,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        
      ]
    ]
  },
  {
    "id": "17a7cdf5.434e32",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create vpn rest api\" />\n",
    "comments": "",
    "x": 1527.9766731262207,
    "y": 1566.2582454681396,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "c4483a2a.ee5b88",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1360.9765510559082,
    "y": 1566.2582454681396,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "17a7cdf5.434e32"
      ]
    ]
  },
  {
    "id": "f41dba91.d30b78",
    "type": "comment",
    "name": "Get VPNs from OOF",
    "info": "",
    "comments": "",
    "x": 970.9805603027344,
    "y": 1549.2623658180237,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "d535134a.50d41",
    "type": "for",
    "name": "for vidx..oof.vpns_length[]",
    "xml": "<for index='vidx' start='0' end='`$oof.vpns_length`' >",
    "comments": "",
    "outputs": 1,
    "x": 1001.9765586853027,
    "y": 1670.5079641342163,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "1e57fa4c.c37666"
      ]
    ]
  },
  {
    "id": "39fad139.2c54be",
    "type": "comment",
    "name": "Loop through VPN and configure them",
    "info": "",
    "comments": "",
    "x": 1023.976676940918,
    "y": 1634.0082244873047,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "d4ff5a6.b2eb6a8",
    "type": "switchNode",
    "name": "switch name",
    "xml": "<switch test=\"`$tmp.network.network-data.network-request-input.network-input-parameters.param[$idx].name == 'name'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 3002.7609481811523,
    "y": 1181.1256585121155,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "3a16beb3.77fd72"
      ]
    ]
  },
  {
    "id": "3a16beb3.77fd72",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 3189.760955810547,
    "y": 1175.1255955696106,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "16ef01df.25c11e"
      ]
    ]
  },
  {
    "id": "16ef01df.25c11e",
    "type": "set",
    "name": "set etht-svc-name & bandwidth-profile-name",
    "xml": "<set>\n<parameter name='prop.global.sotn.etht-svc-name' value='`$tmp.network.network-data.network-request-input.network-input-parameters.param[$idx].value`' />\n<parameter name='prop.global.sotn.bandwidth-profile-name' value='`$tmp.network.network-data.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 3451.761245727539,
    "y": 1161.7256226539612,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "42092cc3.b6ed84",
    "type": "switchNode",
    "name": "switch description",
    "xml": "<switch test=\"`$tmp.network.network-data.network-request-input.network-input-parameters.param[$idx].name == 'description'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 3013.600616455078,
    "y": 1219.125593662262,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "23eb9630.e037ca"
      ]
    ]
  },
  {
    "id": "23eb9630.e037ca",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 3183.600616455078,
    "y": 1215.125593662262,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "eb3f5617.6e6248"
      ]
    ]
  },
  {
    "id": "eb3f5617.6e6248",
    "type": "set",
    "name": "set etht-svc-descr",
    "xml": "<set>\n<parameter name='prop.global.sotn.etht-svc-descr' value='`$tmp.network.network-data.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 3370.934057235718,
    "y": 1213.5867505073547,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "297544d9.6ec98c",
    "type": "switchNode",
    "name": "switch tenantId",
    "xml": "<switch test=\"`$tmp.network.network-data.network-request-input.network-input-parameters.param[$idx].name == 'tenantId'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2998.983009338379,
    "y": 1265.4589972496033,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "dbc7c34c.cdaf7"
      ]
    ]
  },
  {
    "id": "dbc7c34c.cdaf7",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 3190.982997894287,
    "y": 1258.458920955658,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "6550e027.0b278"
      ]
    ]
  },
  {
    "id": "6550e027.0b278",
    "type": "set",
    "name": "set tenantId",
    "xml": "<set>\n<parameter name='prop.global.sotn.tenantId' value='`$tmp.network.network-data.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 3358.982997894287,
    "y": 1259.0589270591736,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "b4d50d62.6f88a",
    "type": "switchNode",
    "name": "switch CIR",
    "xml": "<switch test=\"`$tmp.network.network-data.network-request-input.network-input-parameters.param[$idx].name == 'CIR'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2985.822654724121,
    "y": 1352.4589791297913,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "451e6ff5.dd741"
      ]
    ]
  },
  {
    "id": "451e6ff5.dd741",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 3193.822723388672,
    "y": 1348.4589924812317,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "4615d379.ef895c"
      ]
    ]
  },
  {
    "id": "4615d379.ef895c",
    "type": "set",
    "name": "set cir",
    "xml": "<set>\n<parameter name='prop.sotn.cir' value='`$tmp.network.network-data.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 3343.1560440063477,
    "y": 1346.9201397895813,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "66d53edd.cdef9",
    "type": "switchNode",
    "name": "switch vpnType",
    "xml": "<switch test=\"`$tmp.network.network-data.network-request-input.network-input-parameters.param[$idx].name == 'vpnType'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 3005.1311264038086,
    "y": 1306.2366981506348,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "654a7b17.6fec94"
      ]
    ]
  },
  {
    "id": "654a7b17.6fec94",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 3192.1311264038086,
    "y": 1302.2366981506348,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "2fb4b95a.7ae496"
      ]
    ]
  },
  {
    "id": "2fb4b95a.7ae496",
    "type": "set",
    "name": "set vpnType",
    "xml": "<set>\n<parameter name='prop.global.sotn.vpnType' value='`$tmp.network.network-data.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 3361.46475982666,
    "y": 1299.6978631019592,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "64cab1cd.5d443",
    "type": "switchNode",
    "name": "switch EIR",
    "xml": "<switch test=\"`$tmp.network.network-data.network-request-input.network-input-parameters.param[$idx].name == 'EIR'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2987.113105773926,
    "y": 1395.1568455696106,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "6c9f358b.4ef8ec"
      ]
    ]
  },
  {
    "id": "6c9f358b.4ef8ec",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 3189.113067626953,
    "y": 1390.1568655967712,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "e70be1bb.0faca"
      ]
    ]
  },
  {
    "id": "e70be1bb.0faca",
    "type": "set",
    "name": "set eir",
    "xml": "<set>\n<parameter name='prop.global.sotn.eir' value='`$tmp.network.network-data.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 3345.4465713500977,
    "y": 1389.618001461029,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "10c9f83a.94e8c8",
    "type": "switchNode",
    "name": "switch color-aware",
    "xml": "<switch test=\"`$tmp.network.network-data.network-request-input.network-input-parameters.param[$idx].name == 'color-aware'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 3014.1133766174316,
    "y": 1449.1568112373352,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "1f4cc1a3.6b11ee"
      ]
    ]
  },
  {
    "id": "1f4cc1a3.6b11ee",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 3192.113380432129,
    "y": 1443.1568036079407,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "9c3700e2.9346b"
      ]
    ]
  },
  {
    "id": "9c3700e2.9346b",
    "type": "set",
    "name": "set colorAware",
    "xml": "<set>\n<parameter name='prop.global.sotn.colorAware' value='`$tmp.network.network-data.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 3373.4467582702637,
    "y": 1442.617962360382,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "17843ccd.4f45d3",
    "type": "switchNode",
    "name": "switch coupling-flag",
    "xml": "<switch test=\"`$tmp.network.network-data.network-request-input.network-input-parameters.param[$idx].name == 'coupling-flag'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 3014.113384246826,
    "y": 1495.1568360328674,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "1a061794.0a46a8"
      ]
    ]
  },
  {
    "id": "1a061794.0a46a8",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 3192.1133766174316,
    "y": 1487.156804561615,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "17025d4a.2f4a83"
      ]
    ]
  },
  {
    "id": "17025d4a.2f4a83",
    "type": "set",
    "name": "set couplingFlag",
    "xml": "<set>\n<parameter name='prop.global.sotn.couplingFlag' value='`$tmp.network.network-data.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 3377.4467582702637,
    "y": 1487.6179871559143,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "894df50e.725b18",
    "type": "comment",
    "name": "Check if other EP exists in SOTNConnectionResource",
    "info": "",
    "comments": "",
    "x": 3117.3167114257812,
    "y": 1048.7922387123108,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "cac8b97a.954468",
    "type": "comment",
    "name": "Get other global parameters from network",
    "info": "",
    "comments": "",
    "x": 3088.3165130615234,
    "y": 1140.792191028595,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "2020b84a.aa3f78",
    "type": "switchNode",
    "name": "switch access-provider-id",
    "xml": "<switch test=\"`$tmp.ep.parameters.param[$idx].name == 'access-provider-id'`\">",
    "comments": "",
    "outputs": 1,
    "x": 1775.53857421875,
    "y": 1544.2365727424622,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "b2fc0056.5b557"
      ]
    ]
  },
  {
    "id": "b2fc0056.5b557",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1962.53857421875,
    "y": 1540.2365727424622,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "d84c0472.872308"
      ]
    ]
  },
  {
    "id": "d84c0472.872308",
    "type": "set",
    "name": "set access-provider-id",
    "xml": "<set>\n<parameter name='prop.remote.connection-attachment.access-provider-id' value='`$tmp.ep.parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2130.53857421875,
    "y": 1540.8365788459778,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "2fc4c609.3e5f6a",
    "type": "switchNode",
    "name": "switch access-client-id",
    "xml": "<switch test=\"`$tmp.ep.parameters.param[$idx].name == 'access-client-id'`\">",
    "comments": "",
    "outputs": 1,
    "x": 1766.538589477539,
    "y": 1587.2470211982727,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "d33716c2.7a5c08"
      ]
    ]
  },
  {
    "id": "d33716c2.7a5c08",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1953.538589477539,
    "y": 1583.2470211982727,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "f4503085.70e8"
      ]
    ]
  },
  {
    "id": "f4503085.70e8",
    "type": "set",
    "name": "set access-client-id",
    "xml": "<set>\n<parameter name='prop.remote.connection-attachment.access-client-id' value='`$tmp.ep.parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2121.538589477539,
    "y": 1583.8470273017883,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "8d865fcb.ed997",
    "type": "switchNode",
    "name": "switch access-topology-id",
    "xml": "<switch test=\"`$tmp.ep.parameters.param[$idx].name == 'access-topology-id'`\">",
    "comments": "",
    "outputs": 1,
    "x": 1779.5385341644287,
    "y": 1629.247052192688,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "2b04431a.afbcfc"
      ]
    ]
  },
  {
    "id": "2b04431a.afbcfc",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1966.5385341644287,
    "y": 1625.247052192688,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "28052521.1d41ea"
      ]
    ]
  },
  {
    "id": "28052521.1d41ea",
    "type": "set",
    "name": "set access-topology-id",
    "xml": "<set>\n<parameter name='prop.remote.connection-attachment.access-topology-id' value='`$tmp.ep.parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2134.5385341644287,
    "y": 1625.8470582962036,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "1e57fa4c.c37666",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1074.0940399169922,
    "y": 1756.348135471344,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "17954934.ffd177",
        "edff10aa.4477f",
        "4a7a7654.befdb8",
        "d70e06b2.ae06d8",
        "fb8e8802.2321a8",
        "c8bfc2b1.75cdd",
        "b738f9eb.4faa78",
        "73934aff.e9fd34",
        "e16ca07c.f4def",
        "44ac5fd1.a9ce3"
      ]
    ]
  },
  {
    "id": "741fad04.c0bcd4",
    "type": "set",
    "name": "set controller data",
    "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.url' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.user' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.password' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n",
    "comments": "",
    "x": 1772.53857421875,
    "y": 1910.6810307502747,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "edff10aa.4477f",
    "type": "get-resource",
    "name": "get-resource esr-thirdparty-sdnc",
    "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.thirdparty-sdnc-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.esr-thirdparty-sdnc' local-only='false' >\n\n",
    "comments": "",
    "outputs": 1,
    "x": 1336.0385131835938,
    "y": 1969.6810307502747,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "b6132182.e115",
        "b6234a23.02b418",
        "52c7285a.09ea48"
      ]
    ]
  },
  {
    "id": "b6132182.e115",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1575.0385131835938,
    "y": 1922.6810307502747,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "741fad04.c0bcd4"
      ]
    ]
  },
  {
    "id": "b6234a23.02b418",
    "type": "not-found",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1578.5294799804688,
    "y": 1970.255066394806,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "39fa3945.b568c6"
      ]
    ]
  },
  {
    "id": "52c7285a.09ea48",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1573.8624877929688,
    "y": 2011.5883793830872,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "5bc6d6e6.4253f8"
      ]
    ]
  },
  {
    "id": "39fa3945.b568c6",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
    "comments": "",
    "x": 1755.1008911132812,
    "y": 1958.5408024787903,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "5bc6d6e6.4253f8",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
    "comments": "",
    "x": 1761.6350440979004,
    "y": 2007.0275721549988,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "4a7a7654.befdb8",
    "type": "get-resource",
    "name": "get-resource pnf",
    "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $oof.vpn.access-node-id AND \n\t\t     depth = '0'\"\n        pfx='tmp.aai.pnf' local-only='false' >\n\n",
    "comments": "",
    "outputs": 1,
    "x": 1282.53857421875,
    "y": 1782.6810307502747,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "c669a474.548c18",
        "49f40d92.f6bd74",
        "a24623ca.7bac3"
      ]
    ]
  },
  {
    "id": "c669a474.548c18",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1629.5385131835938,
    "y": 1786.6810612678528,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "d3849e4d.16c6c"
      ]
    ]
  },
  {
    "id": "49f40d92.f6bd74",
    "type": "not-found",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1633.0294799804688,
    "y": 1834.255096912384,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "cbab0518.f00ef8"
      ]
    ]
  },
  {
    "id": "a24623ca.7bac3",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1628.3624877929688,
    "y": 1875.5884099006653,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        "4095ec2a.4a6c64"
      ]
    ]
  },
  {
    "id": "cbab0518.f00ef8",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
    "comments": "",
    "x": 1809.6008911132812,
    "y": 1822.5408329963684,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "4095ec2a.4a6c64",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
    "comments": "",
    "x": 1816.1350440979004,
    "y": 1871.027602672577,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "d3849e4d.16c6c",
    "type": "set",
    "name": "set tmp.thirdparty-sdnc-id",
    "xml": "<set>\n<parameter name='tmp.thirdparty-sdnc-id' value=\"`$tmp.aai.pnf.relationship-list.relationship[0].relationship-data[0].relationship-value`\" />\n",
    "comments": "",
    "x": 1833.5385131835938,
    "y": 1773.6810612678528,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "b5630d7.89ad9f",
    "type": "comment",
    "name": "get domain controller information",
    "info": "",
    "comments": "",
    "x": 1327.0424423217773,
    "y": 1748.6849284172058,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "d70e06b2.ae06d8",
    "type": "set",
    "name": "set oof.vpn",
    "xml": "<set>\n<parameter name='oof.vpn.' value='`$oof.vpns[$vidx].`' />",
    "comments": "",
    "x": 1264.5385437011719,
    "y": 1709.792055606842,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "fb8e8802.2321a8",
    "type": "save",
    "name": "save VPN resource in AAI",
    "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $tmp.vpnName' >\n<parameter name='vpn-id' value='`$tmp.vpnName`' />\n<parameter name='vpn-name' value='`$tmp.vpnName`' />\n<parameter name='access-provider-id' value='`$oof.vpn.access-provider-id`' />\n<parameter name='access-client-id' value='`$oof.vpn.access-client-id`' />\n<parameter name='access-topology-id' value='`$oof.vpn.access-topology-id`' />\n<parameter name='src-access-node-id' value='`$oof.vpn.access-node-id`' />\n<parameter name='src-access-ltp-id' value='`$oof.vpn.src-access-ltp-id`' />\n<parameter name='dst-access-node-id' value='`$oof.vpn.access-node-id`' />\n<parameter name='dst-access-ltp-id' value='`$oof.vpn.dst-access-ltp-id`' />\n<parameter name='cvlan-tag-entry' value='`$prop.connection-attachment.cVLAN`' />\n<parameter name='operational-status' value='Created' />\n<parameter name='model-customization-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-customization-uuid`' />\n<parameter name='model-invariant-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-invariant-uuid`' />\n<parameter name='model-version-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-uuid`' />\n<parameter name='configuration-selflink' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'  + $network-topology-operation-input.service-information.service-instance-id  + '/service-data/networks/network/'  + $prop.sotn.network-id  + '/network-data/'` \" />",
    "comments": "",
    "outputs": 1,
    "x": 1313.00390625,
    "y": 2214.7540521621704,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        
      ]
    ]
  },
  {
    "id": "c8bfc2b1.75cdd",
    "type": "set",
    "name": "set tmp.vpnName",
    "xml": "<set>\n<parameter name='tmp.vpnName' value='`$oof.vpn.access-node-id + '-' + $prop.global.sotn.etht-svc-name`' />",
    "comments": "",
    "x": 1288.5039520263672,
    "y": 2176.2539596557617,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "b738f9eb.4faa78",
    "type": "save",
    "name": "save connectivity relationship in AAI",
    "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding:relationship-list' \n      key='vpn-binding.vpn-id = $tmp.vpnName \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"connectivity\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/connectivities/connectivity/' + $mdsal-psd.networks.network[0].network-id`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"connectivity.connectivity-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$mdsal-psd.networks.network[0].network-id`\" />",
    "comments": "",
    "outputs": 1,
    "x": 1340.0039367675781,
    "y": 2252.7539653778076,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        
      ]
    ]
  },
  {
    "id": "4b44bb19.a886d4",
    "type": "comment",
    "name": "save vpn and its relation to AAI",
    "info": "",
    "comments": "",
    "x": 1325.0039596557617,
    "y": 2140.7539899349213,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "e16ca07c.f4def",
    "type": "set",
    "name": "set src-ltpId dst-ltpId",
    "xml": "<set>\n<parameter name='src-ltpId' value=\"`'nodeId-' + $oof.vpn.access-node-id + '-ltpId-' + $oof.vpn.src-access-ltp-id`\" />\n<parameter name='dst-ltpId' value=\"`'nodeId-' + $oof.vpn.access-node-id + '-ltpId-' + $oof.vpn.dst-access-ltp-id`\" />",
    "comments": "",
    "x": 1292.0039672851562,
    "y": 2292.754026412964,
    "z": "4f77841b.f6c90c",
    "wires": [
      
    ]
  },
  {
    "id": "73934aff.e9fd34",
    "type": "save",
    "name": "save srcLTP relationship in AAI",
    "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding:relationship-list' \n      key='vpn-binding.vpn-id = $tmp.vpnName \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"p-interface\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/pnfs/pnf/p-interfaces/p-interface/' + $src-ltpId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"p-interface.interface-name\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$src-ltpId`\" />",
    "comments": "",
    "outputs": 1,
    "x": 1325.00390625,
    "y": 2333.50390625,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        
      ]
    ]
  },
  {
    "id": "44ac5fd1.a9ce3",
    "type": "save",
    "name": "save dstLTP relationship in AAI",
    "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding:relationship-list' \n      key='vpn-binding.vpn-id = $tmp.vpnName \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"p-interface\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/pnfs/pnf/p-interfaces/p-interface/' + $dst-ltpId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"p-interface.interface-name\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$dst-ltpId`\" />",
    "comments": "",
    "outputs": 1,
    "x": 1326.00390625,
    "y": 2372.25390625,
    "z": "4f77841b.f6c90c",
    "wires": [
      [
        
      ]
    ]
  }
]
