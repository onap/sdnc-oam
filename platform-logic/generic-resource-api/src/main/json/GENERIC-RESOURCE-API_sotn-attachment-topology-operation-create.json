[
  {
    "id": "e71077a5.449178",
    "type": "dgstart",
    "name": "DGSTART",
    "outputs": 1,
    "x": 94.00001907348633,
    "y": 67.0000991821289,
    "z": "ab45b2a0.2d254",
    "wires": [
      [
        "e230874f.1ced38"
      ]
    ]
  },
  {
    "id": "e230874f.1ced38",
    "type": "service-logic",
    "name": "GENERIC-RESOURCE-API ${project.version}",
    "module": "GENERIC-RESOURCE-API",
    "version": "${project.version}",
    "comments": "",
    "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
    "outputs": 1,
    "x": 269.0000228881836,
    "y": 139.0001163482666,
    "z": "ab45b2a0.2d254",
    "wires": [
      [
        "fda28de9.a9688"
      ]
    ]
  },
  {
    "id": "fda28de9.a9688",
    "type": "method",
    "name": "sotn-attachment-topology-operation-create",
    "xml": "<method rpc='sotn-attachment-topology-operation-create' mode='sync'>\n",
    "comments": "",
    "outputs": 1,
    "x": 257.0001411437988,
    "y": 227.0000991821289,
    "z": "ab45b2a0.2d254",
    "wires": [
      [
        "8e26551b.7dfe18"
      ]
    ]
  },
  {
    "id": "8e26551b.7dfe18",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 177.00007247924805,
    "y": 976.0003471374512,
    "z": "ab45b2a0.2d254",
    "wires": [
      [
        "c93c04d7.3e5348",
        "9950e65d.3636a8",
        "1ae547a2.eaba88",
        "65f23dcc.6522b4",
        "3e30e763.22be28",
        "aa28416d.6d08a",
        "15ca2e29.9a7dd2",
        "9b1a0521.5c3978",
        "f24b78b1.fdc468",
        "a64f1b8.759c3e8",
        "ab5d9313.ad157",
        "6c39c83c.d7b048",
        "8b5e7723.d59fc8",
        "6b976d2c.2711d4",
        "c9e7bba5.2bcb28",
        "5aa40ff8.faf21",
        "46cb4068.e43d3",
        "8bddffb6.5284",
        "abedf313.5d507",
        "fac542dd.1d112",
        "b07d75d2.a2b088",
        "26fdc495.60ac0c",
        "a63f9a77.c174a8",
        "e02c5c21.82a2",
        "bde5bdf6.37338"
      ]
    ]
  },
  {
    "id": "c90f1d50.24dc",
    "type": "comment",
    "name": "Set allotted resource id if not sent by SO",
    "info": "",
    "comments": "",
    "x": 661.0767707824707,
    "y": 136.4340181350708,
    "z": "ab45b2a0.2d254",
    "wires": []
  },
  {
    "id": "c93c04d7.3e5348",
    "type": "switchNode",
    "name": "switch allotted-resource-id",
    "xml": "<switch test='`$connection-attachment-topology-operation-input.allotted-resource-information.allotted-resource-id`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 607.0000495910645,
    "y": 192.00009155273438,
    "z": "ab45b2a0.2d254",
    "wires": [
      [
        "213269bc.4275f6",
        "6419db5e.a2c0c4"
      ]
    ]
  },
  {
    "id": "213269bc.4275f6",
    "type": "outcome",
    "name": "NULL",
    "xml": "<outcome value=''>",
    "comments": "",
    "outputs": 1,
    "x": 805.0001373291016,
    "y": 162.00008010864258,
    "z": "ab45b2a0.2d254",
    "wires": [
      [
        "eccd2036.554d7"
      ]
    ]
  },
  {
    "id": "6419db5e.a2c0c4",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 804.0000457763672,
    "y": 199.00009059906006,
    "z": "ab45b2a0.2d254",
    "wires": [
      [
        "4ab8dc05.8f0984"
      ]
    ]
  },
  {
    "id": "4ab8dc05.8f0984",
    "type": "set",
    "name": "set tmp.ar.allotted-resource-id",
    "xml": "<set>\n<parameter name='tmp.ar.allotted-resource-id' value='`$connection-attachment-topology-operation-input.allotted-resource-information.allotted-resource-id`' />\n",
    "comments": "",
    "x": 1002.0000343322754,
    "y": 196.0001096725464,
    "z": "ab45b2a0.2d254",
    "wires": []
  },
  {
    "id": "9950e65d.3636a8",
    "type": "set",
    "name": "set tmp.ar.self-link",
    "xml": "<set>\n<parameter name='tmp.ar.self-link' value=\"`'restconf/config/GENERIC-RESOURCE-API:connection-attachment-allotted-resources/connection-attachment-allotted-resource/'\n + $tmp.ar.allotted-resource-id\n + '/allotted-resource-data/connection-attachment-topology/'` \" />\n\n",
    "comments": "",
    "x": 574.9999732971191,
    "y": 413.0001983642578,
    "z": "ab45b2a0.2d254",
    "wires": []
  },
  {
    "id": "1ae547a2.eaba88",
    "type": "execute",
    "name": "execute Properties",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
    "comments": "",
    "outputs": 1,
    "x": 575.261890411377,
    "y": 494.66687965393066,
    "z": "ab45b2a0.2d254",
    "wires": [
      []
    ]
  },
  {
    "id": "65f23dcc.6522b4",
    "type": "execute",
    "name": "generate allotted-resource tmp.ar-url",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.connection-attachment-allottedresource`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.ar-url\"/>\n    <parameter name=\"target\" value=\"{allotted-resource-id}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.ar.allotted-resource-id`\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 628.2619514465332,
    "y": 581.6667976379395,
    "z": "ab45b2a0.2d254",
    "wires": [
      []
    ]
  },
  {
    "id": "eccd2036.554d7",
    "type": "execute",
    "name": "execute tmp.ar.allotted-resource-id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"tmp.ar.allotted-resource-id\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 1020.000114440918,
    "y": 163.00008583068848,
    "z": "ab45b2a0.2d254",
    "wires": [
      [
        "90c2cdec.e7c9c"
      ]
    ]
  },
  {
    "id": "90c2cdec.e7c9c",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1238.000156402588,
    "y": 163.00004959106445,
    "z": "ab45b2a0.2d254",
    "wires": [
      [
        "a192b9fd.7610f8"
      ]
    ]
  },
  {
    "id": "a192b9fd.7610f8",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while generation allotted resource ID\" />\n",
    "comments": "",
    "x": 1404.0001106262207,
    "y": 163.0000638961792,
    "z": "ab45b2a0.2d254",
    "wires": []
  },
  {
    "id": "66a512c5.0faacc",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1134.000249862671,
    "y": 653.7779703140259,
    "z": "ab45b2a0.2d254",
    "wires": [
      [
        "19566392.15832c"
      ]
    ]
  },
  {
    "id": "2a3354d7.ee765c",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error: Existing connection attachment allotted resource\" />\n    \n",
    "comments": "",
    "x": 1867.5186290740967,
    "y": 654.8440418243408,
    "z": "ab45b2a0.2d254",
    "wires": []
  },
  {
    "id": "70da4f2f.1d3ca",
    "type": "comment",
    "name": "Check for non existence of allotted resource",
    "info": "",
    "comments": "",
    "x": 990.000171661377,
    "y": 587.778037071228,
    "z": "ab45b2a0.2d254",
    "wires": []
  },
  {
    "id": "66ac283c.bd2348",
    "type": "for",
    "name": "for cidx..service-data.consumed-allotted-resources.consumed-allotted-resource[]",
    "xml": "<for index='cidx' start='0' end='`$service-data.consumed-allotted-resources.consumed-allotted-resource_length`' >\n",
    "comments": "",
    "outputs": 1,
    "x": 1510.6667175292969,
    "y": 798.0001494884491,
    "z": "ab45b2a0.2d254",
    "wires": [
      [
        "c03dacc1.547db"
      ]
    ]
  },
  {
    "id": "aa28416d.6d08a",
    "type": "switchNode",
    "name": "switch service-data.consumed-allotted-resources_length",
    "xml": "<switch test='`$service-data.consumed-allotted-resources.consumed-allotted-resource_length`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 692.6660423278809,
    "y": 774.7141819000244,
    "z": "ab45b2a0.2d254",
    "wires": [
      [
        "ae723a2a.13be98",
        "1678938e.1bfafc"
      ]
    ]
  },
  {
    "id": "ae723a2a.13be98",
    "type": "other",
    "name": "outcome Null",
    "xml": "<outcome value=''>\n",
    "comments": "",
    "outputs": 1,
    "x": 996.8089408874512,
    "y": 743.5716190338135,
    "z": "ab45b2a0.2d254",
    "wires": [
      [
        "9ff14f9b.0b3b"
      ]
    ]
  },
  {
    "id": "1678938e.1bfafc",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 973.8089904785156,
    "y": 804.5715742111206,
    "z": "ab45b2a0.2d254",
    "wires": [
      [
        "79d1a933.7fd6a8"
      ]
    ]
  },
  {
    "id": "79d1a933.7fd6a8",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1133.9360809326172,
    "y": 802.6975507736206,
    "z": "ab45b2a0.2d254",
    "wires": [
      [
        "66ac283c.bd2348",
        "3b659fae.e519",
        "a32862a8.8af3d"
      ]
    ]
  },
  {
    "id": "9ff14f9b.0b3b",
    "type": "set",
    "name": "set cidx",
    "xml": "<set>\n<parameter name='tmp.cidx' value=\"`0`\" />\n<parameter name='service-data.consumed-allotted-resources.consumed-allotted-resource_length' value=\"1\" />\n\n\n",
    "comments": "",
    "x": 1146.6659240722656,
    "y": 741.2856693267822,
    "z": "ab45b2a0.2d254",
    "wires": []
  },
  {
    "id": "15ca2e29.9a7dd2",
    "type": "set",
    "name": "set consumed allotted resources",
    "xml": "<set>\n<parameter name='service-data.consumed-allotted-resources.consumed-allotted-resource[$tmp.cidx].allotted-resource-id' value=\"`$tmp.ar.allotted-resource-id` \" />\n<parameter name='service-data.consumed-allotted-resources.consumed-allotted-resource[$tmp.cidx].allotted-resource-type' value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.allotted-resource-type` \" />\n<parameter name='service-data.consumed-allotted-resources.consumed-allotted-resource[$tmp.cidx].allotted-resource-pointer' value=\"`$tmp.ar.self-link` \" />\n<parameter name='service-data.consumed-allotted-resources.consumed-allotted-resource_length' value='`$tmp.cidx + 1`' />\n\n",
    "comments": "",
    "x": 621.5233345031738,
    "y": 878.2857465744019,
    "z": "ab45b2a0.2d254",
    "wires": []
  },
  {
    "id": "3b659fae.e519",
    "type": "switchNode",
    "name": "switch tmp.found-cidx",
    "xml": "<switch test='`$tmp.found-cidx`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1323.0511283874512,
    "y": 834.7090735435486,
    "z": "ab45b2a0.2d254",
    "wires": [
      [
        "966db31a.47786"
      ]
    ]
  },
  {
    "id": "966db31a.47786",
    "type": "outcomeTrue",
    "name": "false",
    "xml": "<outcome value='false'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1513.051082611084,
    "y": 834.7090106010437,
    "z": "ab45b2a0.2d254",
    "wires": [
      [
        "b95410b0.660fd"
      ]
    ]
  },
  {
    "id": "b95410b0.660fd",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1679.051082611084,
    "y": 834.7090106010437,
    "z": "ab45b2a0.2d254",
    "wires": [
      [
        "2ab57899.a130b8"
      ]
    ]
  },
  {
    "id": "c03dacc1.547db",
    "type": "switchNode",
    "name": "switch allotted-resource-id",
    "xml": "<switch test=\"`$service-data.consumed-allotted-resources.consumed-allotted-resource[$cidx].allotted-resource-id == $tmp.ar.allotted-resource-id`\">\n\n",
    "comments": "",
    "outputs": 1,
    "x": 1927.7783470153809,
    "y": 795.0001764297485,
    "z": "ab45b2a0.2d254",
    "wires": [
      [
        "ba9ad589.8abb58"
      ]
    ]
  },
  {
    "id": "ba9ad589.8abb58",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2109.587921142578,
    "y": 795.4646234512329,
    "z": "ab45b2a0.2d254",
    "wires": [
      [
        "ef75ff36.6e6a8"
      ]
    ]
  },
  {
    "id": "2ab57899.a130b8",
    "type": "set",
    "name": "set tmp.cidx",
    "xml": "<set>\n<parameter name='tmp.cidx' value='`$service-data.consumed-allotted-resources.consumed-allotted-resource_length`' />\n",
    "comments": "",
    "x": 1840.9244651794434,
    "y": 834.2207117080688,
    "z": "ab45b2a0.2d254",
    "wires": []
  },
  {
    "id": "e6f158d3.3c83a8",
    "type": "comment",
    "name": "Add to consumed service consumed-allotted-resources in mdsal",
    "info": "Prepare data and add to service-data",
    "comments": "",
    "x": 713.6672554016113,
    "y": 705.0001459121704,
    "z": "ab45b2a0.2d254",
    "wires": []
  },
  {
    "id": "464592d5.7d3adc",
    "type": "comment",
    "name": "This set resource will be added to MDSAL by provider code",
    "info": "Below we add to service-data.consumed-allotted-resource at last index",
    "comments": "",
    "x": 701.000171661377,
    "y": 843.7782382965088,
    "z": "ab45b2a0.2d254",
    "wires": []
  },
  {
    "id": "a63f9a77.c174a8",
    "type": "update",
    "name": "save AAI allotted-resource",
    "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"allotted-resource\" \n\t\tkey=\"customer.global-customer-id = $connection-attachment-topology-operation-input.service-information.global-customer-id AND\n\t\t\tservice-subscription.service-type = $connection-attachment-topology-operation-input.service-information.subscription-service-type AND\n\t\t\tservice-instance.service-instance-id = $connection-attachment-topology-operation-input.allotted-resource-information.parent-service-instance-id AND\n\t\t\tallotted-resource.id = $tmp.ar.allotted-resource-id\"\n        pfx='pfx' local-only='false' force='false'>\n    <parameter name=\"id\" value=\"`$tmp.ar.allotted-resource-id`\" />\n\t<parameter name=\"name\" value=\"`$prop.connection-attachment.sotnVpnName`\" />\n\t<parameter name=\"access-provider-id\" value=\"`$prop.connection-attachment.access-provider-id`\" />\n\t<parameter name=\"access-client-id\" value=\"`$prop.connection-attachment.access-client-id`\" />\n\t<parameter name=\"access-topology-id\" value=\"`$prop.connection-attachment.access-topology-id`\" />\n\t<parameter name=\"access-node-id\" value=\"`$prop.connection-attachment.access-node-id`\" />\n\t<parameter name=\"access-ltp-id\" value=\"`$prop.connection-attachment.access-ltp-id`\" />\t\n\t<parameter name=\"cvlan\" value=\"`$prop.connection-attachment.cVLAN`\" />\n    <parameter name=\"vpn-name\" value=\"`$prop.connection-attachment.sotnVpnName`\" />\n\t<parameter name=\"selflink\" value=\"`$tmp.ar.self-link`\" />\n\t<!--parameter name=\"model-invariant-id\" value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.onap-model-information.model-invariant-uuid`\" />\n\t<parameter name=\"model-version-id\" value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.onap-model-information.model-uuid`\" /-->\n\t<parameter name=\"operational-status\" value=\"Created\" />\n",
    "comments": "",
    "outputs": 1,
    "x": 577.6909523010254,
    "y": 1914.5320167541504,
    "z": "ab45b2a0.2d254",
    "wires": [
      [
        "8865c331.63809",
        "3795c6dc.0749ba"
      ]
    ]
  },
  {
    "id": "8865c331.63809",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 801.4528045654297,
    "y": 1884.4845905303955,
    "z": "ab45b2a0.2d254",
    "wires": [
      [
        "4e95350f.9bd78c"
      ]
    ]
  },
  {
    "id": "4e95350f.9bd78c",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"AAI failed\" />\n",
    "comments": "",
    "x": 967.9766845703125,
    "y": 1896.1036615371704,
    "z": "ab45b2a0.2d254",
    "wires": []
  },
  {
    "id": "3795c6dc.0749ba",
    "type": "failure",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 808.5480918884277,
    "y": 1917.246558189392,
    "z": "ab45b2a0.2d254",
    "wires": [
      [
        "4e95350f.9bd78c"
      ]
    ]
  },
  {
    "id": "e8bcac4.3e63b5",
    "type": "comment",
    "name": "Save Resource to AAI",
    "info": "",
    "comments": "",
    "x": 583.5005073547363,
    "y": 1836.8339614868164,
    "z": "ab45b2a0.2d254",
    "wires": []
  },
  {
    "id": "9ada057d.8d0ed8",
    "type": "comment",
    "name": "Set allotted resource type if not sent by SO",
    "info": "",
    "comments": "",
    "x": 647.0000190734863,
    "y": 245.0000991821289,
    "z": "ab45b2a0.2d254",
    "wires": []
  },
  {
    "id": "3e30e763.22be28",
    "type": "switchNode",
    "name": "switch allotted-resource-type",
    "xml": "<switch test='`$connection-attachment-topology-operation-input.allotted-resource-information.allotted-resource-type`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 608.9233283996582,
    "y": 285.5661554336548,
    "z": "ab45b2a0.2d254",
    "wires": [
      [
        "1b1ef42.aa2a50c",
        "5b1a6ad6.d32444"
      ]
    ]
  },
  {
    "id": "1b1ef42.aa2a50c",
    "type": "outcome",
    "name": "NULL",
    "xml": "<outcome value=''>",
    "comments": "",
    "outputs": 1,
    "x": 811.9234809875488,
    "y": 270.56615829467773,
    "z": "ab45b2a0.2d254",
    "wires": [
      [
        "23a0059d.3f004a"
      ]
    ]
  },
  {
    "id": "5b1a6ad6.d32444",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 804.9233093261719,
    "y": 310.5661783218384,
    "z": "ab45b2a0.2d254",
    "wires": [
      [
        "e101a8fa.94ec78"
      ]
    ]
  },
  {
    "id": "e101a8fa.94ec78",
    "type": "set",
    "name": "set tmp.ar.allotted-resource-type",
    "xml": "<set>\n<parameter name='tmp.ar.allotted-resource-type' value='`$connection-attachment-topology-operation-input.allotted-resource-information.allotted-resource-type`' />\n",
    "comments": "",
    "x": 1036.9232940673828,
    "y": 310.56618309020996,
    "z": "ab45b2a0.2d254",
    "wires": []
  },
  {
    "id": "535c3465.db6a5c",
    "type": "comment",
    "name": "For storage in AAI connection-attachment-topology",
    "info": "",
    "comments": "",
    "x": 671.9999809265137,
    "y": 380.0000991821289,
    "z": "ab45b2a0.2d254",
    "wires": []
  },
  {
    "id": "7158b402.34b20c",
    "type": "comment",
    "name": "Obtain different URL, template location etc",
    "info": "For saving resource information to MDSAL & for AAI",
    "comments": "",
    "x": 646.9999656677246,
    "y": 461.8890085220337,
    "z": "ab45b2a0.2d254",
    "wires": []
  },
  {
    "id": "8b7046e5.63a738",
    "type": "comment",
    "name": "Used for Put AR by id to MDSAL",
    "info": "",
    "comments": "",
    "x": 613.0000495910645,
    "y": 550.8890256881714,
    "z": "ab45b2a0.2d254",
    "wires": []
  },
  {
    "id": "41e867cd.171798",
    "type": "comment",
    "name": "Obtain the last index in services",
    "info": "ServiceData is added by Provider code",
    "comments": "",
    "x": 614.4444923400879,
    "y": 736.888970375061,
    "z": "ab45b2a0.2d254",
    "wires": []
  },
  {
    "id": "abedf313.5d507",
    "type": "set",
    "name": "set output to api handler",
    "xml": "<set>\n<parameter name='allotted-resource-id' value='`$tmp.ar.allotted-resource-id`' />\n<parameter name='connection-attachment-object-path' value=\"`$tmp.ar.self-link`\"/>\n<parameter name='service-object-path' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $connection-attachment-topology-operation-input.service-information.service-instance-id\n + '/service-data/service-topology/'`\"/>\n \n",
    "comments": "",
    "x": 592.2681541442871,
    "y": 1800.3592882156372,
    "z": "ab45b2a0.2d254",
    "wires": []
  },
  {
    "id": "fac542dd.1d112",
    "type": "returnSuccess",
    "name": "return success",
    "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
    "comments": "",
    "x": 536.6813507080078,
    "y": 2033.975341796875,
    "z": "ab45b2a0.2d254",
    "wires": []
  },
  {
    "id": "23a0059d.3f004a",
    "type": "set",
    "name": "set tmp.ar.allotted-resource-type",
    "xml": "<set>\n<parameter name='tmp.ar.allotted-resource-type' value=\"SOTNAttachmentInstance\" />\n",
    "comments": "",
    "x": 1051.0001678466797,
    "y": 271.00008487701416,
    "z": "ab45b2a0.2d254",
    "wires": []
  },
  {
    "id": "77c2c758.5059b8",
    "type": "call",
    "name": "call GENERIC-RESOURCE-API:sotn-get-saved-ar-param",
    "xml": "<call module='GENERIC-RESOURCE-API' rpc='sotn-get-saved-ar-param' mode='sync' >\n",
    "comments": "",
    "outputs": 1,
    "x": 893.9941749572754,
    "y": 1649.4938287734985,
    "z": "ab45b2a0.2d254",
    "wires": [
      []
    ]
  },
  {
    "id": "8bddffb6.5284",
    "type": "execute",
    "name": "execute RestApiCallNode - PUT AR by id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.sotn-attachment.templatefile`\" />\n    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.ar-url`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-ar\" />\n\n",
    "comments": "",
    "outputs": 1,
    "x": 643.0002861022949,
    "y": 1734.0002174377441,
    "z": "ab45b2a0.2d254",
    "wires": [
      [
        "d13a7894.7c9648",
        "a17ed53e.8a7c48",
        "2a45ba4f.903ad6"
      ]
    ]
  },
  {
    "id": "d13a7894.7c9648",
    "type": "not-found",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 892.6416397094727,
    "y": 1772.3315477371216,
    "z": "ab45b2a0.2d254",
    "wires": [
      [
        "2a58bb37.857ca4"
      ]
    ]
  },
  {
    "id": "a17ed53e.8a7c48",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 883.6416893005371,
    "y": 1740.8315734863281,
    "z": "ab45b2a0.2d254",
    "wires": [
      [
        "2a58bb37.857ca4"
      ]
    ]
  },
  {
    "id": "2a45ba4f.903ad6",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 887.3917274475098,
    "y": 1711.1886783614755,
    "z": "ab45b2a0.2d254",
    "wires": [
      [
        "4b685690.de2cf8"
      ]
    ]
  },
  {
    "id": "2a58bb37.857ca4",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error updating md-sal for connection-attachment-allotted-resource\" />\n",
    "comments": "",
    "x": 1053.3917274475098,
    "y": 1741.581597328186,
    "z": "ab45b2a0.2d254",
    "wires": []
  },
  {
    "id": "4b685690.de2cf8",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1029.047695159912,
    "y": 1707.3808475509286,
    "z": "ab45b2a0.2d254",
    "wires": [
      []
    ]
  },
  {
    "id": "ab5d9313.ad157",
    "type": "execute",
    "name": "execute RestApiCallNode - Update parent provided service AR",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.parentsvc.templatefile`\" />\n    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.parent-ar-url`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"parent\" />\n\n",
    "comments": "",
    "outputs": 1,
    "x": 712.9999732971191,
    "y": 1160.0002641677856,
    "z": "ab45b2a0.2d254",
    "wires": [
      [
        "9094ff9e.53d26",
        "43bc3599.27bffc",
        "fc9fd873.a374e8"
      ]
    ]
  },
  {
    "id": "9094ff9e.53d26",
    "type": "not-found",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1021.308032989502,
    "y": 1191.9985399246216,
    "z": "ab45b2a0.2d254",
    "wires": [
      [
        "421ec30a.485b8c"
      ]
    ]
  },
  {
    "id": "43bc3599.27bffc",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1012.3080825805664,
    "y": 1160.4985656738281,
    "z": "ab45b2a0.2d254",
    "wires": [
      [
        "421ec30a.485b8c"
      ]
    ]
  },
  {
    "id": "fc9fd873.a374e8",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1016.0581207275391,
    "y": 1130.8556705489755,
    "z": "ab45b2a0.2d254",
    "wires": [
      [
        "c6163b00.f85308"
      ]
    ]
  },
  {
    "id": "421ec30a.485b8c",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error updating md-sal for connection-attachment-allotted-resource\" />\n",
    "comments": "",
    "x": 1182.058120727539,
    "y": 1161.248589515686,
    "z": "ab45b2a0.2d254",
    "wires": []
  },
  {
    "id": "c6163b00.f85308",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1157.7140884399414,
    "y": 1127.0478397384286,
    "z": "ab45b2a0.2d254",
    "wires": [
      []
    ]
  },
  {
    "id": "f91628dc.a22298",
    "type": "comment",
    "name": "Put the parent allotted resource in mdsal",
    "info": "",
    "comments": "",
    "x": 641.9999198913574,
    "y": 1122.0001707077026,
    "z": "ab45b2a0.2d254",
    "wires": []
  },
  {
    "id": "8b5e7723.d59fc8",
    "type": "set",
    "name": "set connection-attachment-ar-identifiers",
    "xml": "<set>\n<parameter name='connection-attachment-ar-identifiers.consuming-service-instance-id' value=\"`$connection-attachment-topology-operation-input.service-information.service-instance-id` \" />\n<parameter name='connection-attachment-ar-identifiers.parent-service-instance-id' value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.parent-service-instance-id` \" />\n<parameter name='connection-attachment-ar-identifiers.allotted-resource-type' value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.allotted-resource-type` \" />\n<parameter name='connection-attachment-ar-identifiers.allotted-resource-id' value=\"`$tmp.ar.allotted-resource-id` \" />\n\n",
    "comments": "",
    "x": 638.357105255127,
    "y": 1324.571789741516,
    "z": "ab45b2a0.2d254",
    "wires": []
  },
  {
    "id": "6c39c83c.d7b048",
    "type": "set",
    "name": "set ar-data",
    "xml": "<set>\n<parameter name='connection-attachment-ar.allotted-resource-id' value=\"`$tmp.ar.allotted-resource-id` \" />\n<parameter name='connection-attachment-ar.allotted-resource-status.action' value=\"`$connection-attachment-topology-operation-input.request-information.request-action` \" />\n<parameter name='connection-attachment-ar.allotted-resource-status.rpc-name' value=\"connection-attachment-topology-operation\" />\n<parameter name='connection-attachment-ar.allotted-resource-status.rpc-action' value=\"`$connection-attachment-topology-operation-input.sdnc-request-header.svc-action` \" />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.request-information.' value=\"`$connection-attachment-topology-operation-input.request-information.` \" />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.sdnc-request-header.' value=\"`$connection-attachment-topology-operation-input.sdnc-request-header.` \" />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.service-information.' value=\"`$connection-attachment-topology-operation-input.service-information.` \" />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.allotted-resource-information.' value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.` \" />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.connection-attachment-request-input.' value=\"`$connection-attachment-topology-operation-input.connection-attachment-request-input.` \" />",
    "comments": "",
    "x": 552.2138862609863,
    "y": 1292.3811464309692,
    "z": "ab45b2a0.2d254",
    "wires": []
  },
  {
    "id": "6b976d2c.2711d4",
    "type": "set",
    "name": "set identifiers in overall structure",
    "xml": "<set>\n<parameter name='connection-attachment-ar.allotted-resource-data.connection-attachment-topology.allotted-resource-identifiers.' \nvalue=\"`$connection-attachment-ar-identifiers.`\" />\n\n\n",
    "comments": "",
    "x": 617.1669044494629,
    "y": 1358.6669750213623,
    "z": "ab45b2a0.2d254",
    "wires": []
  },
  {
    "id": "c9e7bba5.2bcb28",
    "type": "execute",
    "name": "execute getTime",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='setTime' >\n    <parameter name=\"outputPath\" value=\"tmp.current-time\" />\n\n",
    "comments": "",
    "outputs": 1,
    "x": 569.4997444152832,
    "y": 1432.0005025863647,
    "z": "ab45b2a0.2d254",
    "wires": [
      []
    ]
  },
  {
    "id": "5aa40ff8.faf21",
    "type": "set",
    "name": "set allotted-resource-oper-status",
    "xml": "<set>\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.order-status' value='Created' />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.last-action' value='`$connection-attachment-topology-operation-input.request-information.request-action`' />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.last-rpc-action' value='`$connection-attachment-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.last-svc-request-id' value='`$connection-attachment-topology-operation-input.sdnc-request-header.svc-request-id`' />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.create-timestamp' value='`$tmp.current-time`' />\n",
    "comments": "",
    "x": 620.4867820739746,
    "y": 1487.951735496521,
    "z": "ab45b2a0.2d254",
    "wires": []
  },
  {
    "id": "46cb4068.e43d3",
    "type": "set",
    "name": "set model-data",
    "xml": "<set>\n<parameter name='connection-attachment-ar.allotted-resource-data.connection-attachment-topology.onap-model-information.' value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.onap-model-information.` \" />",
    "comments": "",
    "x": 565.0554008483887,
    "y": 1393.5558605194092,
    "z": "ab45b2a0.2d254",
    "wires": []
  },
  {
    "id": "b1148074.b83dc",
    "type": "comment",
    "name": "Prepare data for allotted-resource addition to MDSAL",
    "info": "This will add to allotted-resource which is present inside service.",
    "comments": "",
    "x": 682.3888893127441,
    "y": 1258.5557069778442,
    "z": "ab45b2a0.2d254",
    "wires": []
  },
  {
    "id": "a64f1b8.759c3e8",
    "type": "execute",
    "name": "generate parent-ar url - replace allotted-resource-id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.parent-ar-url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.parent-ar-url\"/>\n    <parameter name=\"target\" value=\"{allotted-resource-id}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.ar.allotted-resource-id`\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 677.5000343322754,
    "y": 1086.0001096725464,
    "z": "ab45b2a0.2d254",
    "wires": [
      []
    ]
  },
  {
    "id": "f24b78b1.fdc468",
    "type": "execute",
    "name": "generate parent-ar url - replace service-instance-id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.parent-provided-resource`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.parent-ar-url\"/>\n    <parameter name=\"target\" value=\"{service-instance-id}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.ar.parent-service-instance-id`\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 673.4999580383301,
    "y": 1043.0002460479736,
    "z": "ab45b2a0.2d254",
    "wires": [
      []
    ]
  },
  {
    "id": "5c890ede.9091d",
    "type": "comment",
    "name": "Prepare Parent AR URL",
    "info": "Preparation to set provided-allotted-resource in parent service instance",
    "comments": "",
    "x": 591.500415802002,
    "y": 972.0001993179321,
    "z": "ab45b2a0.2d254",
    "wires": []
  },
  {
    "id": "9b1a0521.5c3978",
    "type": "set",
    "name": "set tmp.ar.parent-service-instance-id",
    "xml": "<set>\n<parameter name='tmp.ar.parent-service-instance-id' value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.parent-service-instance-id` \" />\n\n",
    "comments": "",
    "x": 630.5002098083496,
    "y": 1005.500138759613,
    "z": "ab45b2a0.2d254",
    "wires": []
  },
  {
    "id": "1dce57cb.3a2f28",
    "type": "comment",
    "name": "Required for filling template values",
    "info": "This is done because connection-attachment is generic resource and doesn't have specific parameters",
    "comments": "",
    "x": 820.0003776550293,
    "y": 1612.4999017715454,
    "z": "ab45b2a0.2d254",
    "wires": []
  },
  {
    "id": "ef75ff36.6e6a8",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error updating md-sal for connection-attachment-allotted-resource as cosumed allotted resource already exists.\" />\n",
    "comments": "",
    "x": 2187.756992340088,
    "y": 843.6459283828735,
    "z": "ab45b2a0.2d254",
    "wires": []
  },
  {
    "id": "a32862a8.8af3d",
    "type": "set",
    "name": "set tmp.found-cidx",
    "xml": "<set>\n<parameter name='tmp.found-cidx' value=\"`false`\" />\n\n\n",
    "comments": "",
    "x": 1313.6461639404297,
    "y": 755.3126714229584,
    "z": "ab45b2a0.2d254",
    "wires": []
  },
  {
    "id": "46efcfd6.a7a1a",
    "type": "comment",
    "name": "Add to parent services provided-allotted-resources in mdsal",
    "info": "",
    "comments": "",
    "x": 702.2015266418457,
    "y": 939.9793558120728,
    "z": "ab45b2a0.2d254",
    "wires": []
  },
  {
    "id": "b6eb1599.cd85e8",
    "type": "comment",
    "name": "Add to allotted-resources in mdsal",
    "info": "",
    "comments": "",
    "x": 622.9687156677246,
    "y": 1225.969036102295,
    "z": "ab45b2a0.2d254",
    "wires": []
  },
  {
    "id": "19566392.15832c",
    "type": "block",
    "name": "block: atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1296.0000705718994,
    "y": 653.2778596878052,
    "z": "ab45b2a0.2d254",
    "wires": [
      [
        "be105cba.576f"
      ]
    ]
  },
  {
    "id": "be105cba.576f",
    "type": "switchNode",
    "name": "switch cr length",
    "xml": "<switch test='`$mdsal-ar.connection-attachment-allotted-resource_length`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1483.8574504852295,
    "y": 653.8969950675964,
    "z": "ab45b2a0.2d254",
    "wires": [
      [
        "a5af4603.e786b8"
      ]
    ]
  },
  {
    "id": "a5af4603.e786b8",
    "type": "other",
    "name": "outcome 1",
    "xml": "<outcome value='1'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1683.1905727386475,
    "y": 653.8970737457275,
    "z": "ab45b2a0.2d254",
    "wires": [
      [
        "2a3354d7.ee765c"
      ]
    ]
  },
  {
    "id": "b07d75d2.a2b088",
    "type": "execute",
    "name": "execute RestApiCallNode - get-resource connection-attachment-allotted-resource",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.ar-url`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='GET' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-ar\" />\n\n",
    "comments": "",
    "outputs": 1,
    "x": 768.000072479248,
    "y": 648.0001354217529,
    "z": "ab45b2a0.2d254",
    "wires": [
      [
        "66a512c5.0faacc",
        "9a3ff920.b9ec88"
      ]
    ]
  },
  {
    "id": "9a3ff920.b9ec88",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1136.0001029968262,
    "y": 618.0001335144043,
    "z": "ab45b2a0.2d254",
    "wires": [
      [
        "9cab679f.f79248"
      ]
    ]
  },
  {
    "id": "9cab679f.f79248",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1288.0001029968262,
    "y": 617.0001335144043,
    "z": "ab45b2a0.2d254",
    "wires": [
      []
    ]
  },
  {
    "id": "26fdc495.60ac0c",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 564.5556297302246,
    "y": 1567.6667528152466,
    "z": "ab45b2a0.2d254",
    "wires": [
      [
        "3267c7d4.904798",
        "77c2c758.5059b8"
      ]
    ]
  },
  {
    "id": "3267c7d4.904798",
    "type": "for",
    "name": "for each sotn-get-request-input-param",
    "xml": "<for index='i' start='0' end='`$connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.connection-attachment-request-input.param_length`' >\n",
    "comments": "",
    "outputs": 1,
    "x": 834.5556945800781,
    "y": 1567.6668004989624,
    "z": "ab45b2a0.2d254",
    "wires": [
      [
        "2605999a.01d556"
      ]
    ]
  },
  {
    "id": "2051e6d6.e5a81a",
    "type": "comment",
    "name": "Take the parameter names by removing prefix",
    "info": "",
    "comments": "",
    "x": 1374.555477142334,
    "y": 1523.6668338775635,
    "z": "ab45b2a0.2d254",
    "wires": []
  },
  {
    "id": "43dec0c4.9aa5a",
    "type": "execute",
    "name": "execute split parameterName",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.connection-attachment-request-input.param[$i].name`'/>\n<parameter name=\"regex\" value=\"_\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 1332.590145111084,
    "y": 1558.6459770202637,
    "z": "ab45b2a0.2d254",
    "wires": [
      []
    ]
  },
  {
    "id": "e2d39b7e.8a6eb8",
    "type": "set",
    "name": "set parameterName",
    "xml": "<set>\n<parameter name=\"`connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.connection-attachment-request-input.param[$i].name`\" value='`$param-prefix[$param-prefix_length -1]`'/>\n",
    "comments": "",
    "x": 1303.0346717834473,
    "y": 1591.6459770202637,
    "z": "ab45b2a0.2d254",
    "wires": []
  },
  {
    "id": "36eb754f.ed7b4a",
    "type": "comment",
    "name": "Remove VNFC prefix",
    "info": "",
    "comments": "",
    "x": 775.5556221008301,
    "y": 1535.1111145019531,
    "z": "ab45b2a0.2d254",
    "wires": []
  },
  {
    "id": "2605999a.01d556",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1081.5555305480957,
    "y": 1566.1111450195312,
    "z": "ab45b2a0.2d254",
    "wires": [
      [
        "43dec0c4.9aa5a",
        "e2d39b7e.8a6eb8"
      ]
    ]
  },
  {
    "id": "e02c5c21.82a2",
    "type": "save",
    "name": "save srcLTP relationship in AAI",
    "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"allotted-resource\" \n\t\tkey=\"customer.global-customer-id = $connection-attachment-topology-operation-input.service-information.global-customer-id AND\n\t\t\tservice-subscription.service-type = $connection-attachment-topology-operation-input.service-information.subscription-service-type AND\n\t\t\tservice-instance.service-instance-id = $connection-attachment-topology-operation-input.allotted-resource-information.parent-service-instance-id AND\n\t\t\tallotted-resource.id = $tmp.ar.allotted-resource-id\" \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"p-interface\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/pnfs/pnf/' + $prop.connection-attachment.access-node-id + '/p-interfaces/p-interface/' + $src-ltpId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"p-interface.interface-name\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$src-ltpId`\" />\n\n\n\n",
    "comments": "",
    "outputs": 1,
    "x": 590.0041046142578,
    "y": 1988.0046367645264,
    "z": "ab45b2a0.2d254",
    "wires": [
      []
    ]
  },
  {
    "id": "bde5bdf6.37338",
    "type": "set",
    "name": "set src-ltpId",
    "xml": "<set>\n<parameter name='src-ltpId' value=\"`'nodeId-' + $prop.connection-attachment.access-node-id + '-ltpId-' + $prop.connection-attachment.access-ltp-id`\" />\n",
    "comments": "",
    "x": 534.0001983642578,
    "y": 1952.0004014968872,
    "z": "ab45b2a0.2d254",
    "wires": []
  }
]
