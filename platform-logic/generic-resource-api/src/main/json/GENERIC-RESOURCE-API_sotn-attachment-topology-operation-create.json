[
  {
    "id": "c96eae79.08813",
    "type": "dgstart",
    "name": "DGSTART",
    "outputs": 1,
    "x": 100,
    "y": 40,
    "z": "307cdf1d.539fd",
    "wires": [
      [
        "2bbd4a2b.66a236"
      ]
    ]
  },
  {
    "id": "2bbd4a2b.66a236",
    "type": "service-logic",
    "name": "GENERIC-RESOURCE-API ${project.version}",
    "module": "GENERIC-RESOURCE-API",
    "version": "${project.version}",
    "comments": "",
    "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
    "outputs": 1,
    "x": 275.00000381469727,
    "y": 112.0000171661377,
    "z": "307cdf1d.539fd",
    "wires": [
      [
        "7de06dac.f33994"
      ]
    ]
  },
  {
    "id": "7de06dac.f33994",
    "type": "method",
    "name": "sotn-attachment-topology-operation-create",
    "xml": "<method rpc='sotn-attachment-topology-operation-create' mode='sync'>\n",
    "comments": "",
    "outputs": 1,
    "x": 263.0001220703125,
    "y": 200,
    "z": "307cdf1d.539fd",
    "wires": [
      [
        "8a29d369.0bab4"
      ]
    ]
  },
  {
    "id": "8a29d369.0bab4",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 183.00005340576172,
    "y": 949.0002479553223,
    "z": "307cdf1d.539fd",
    "wires": [
      [
        "51f31211.8f114c",
        "a2a65745.852438",
        "f3044df1.6f232",
        "5ba82df.f35b0d4",
        "2da52da7.95c362",
        "dc7e1c21.4599e",
        "7bdd95f3.db24ac",
        "371cf69b.dabcaa",
        "c34405e1.82d938",
        "46e15a07.ae9ba4",
        "cd08d99a.10abb8",
        "c56a158b.169088",
        "3292b995.f13186",
        "71214832.584f28",
        "23b7a6d1.9a369a",
        "4ebfff40.f0aa5",
        "cb431e44.1b2d7",
        "6c73a0d6.045f8",
        "1f74500.b2f7fb",
        "6d4b764b.a8a308",
        "6e7b925f.51d77c",
        "92f874df.f4a158",
        "ea8d2a7c.dc1c98",
        "5a956e5b.11a09",
        "e93c0a9f.0608a8"
      ]
    ]
  },
  {
    "id": "dceaac22.2856",
    "type": "comment",
    "name": "Set allotted resource id if not sent by SO",
    "info": "",
    "comments": "",
    "x": 667.0767517089844,
    "y": 109.4339189529419,
    "z": "307cdf1d.539fd",
    "wires": []
  },
  {
    "id": "51f31211.8f114c",
    "type": "switchNode",
    "name": "switch allotted-resource-id",
    "xml": "<switch test='`$connection-attachment-topology-operation-input.allotted-resource-information.allotted-resource-id`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 613.0000305175781,
    "y": 164.99999237060547,
    "z": "307cdf1d.539fd",
    "wires": [
      [
        "5d06a5f3.384e7c",
        "a9453642.a0afc8"
      ]
    ]
  },
  {
    "id": "5d06a5f3.384e7c",
    "type": "outcome",
    "name": "NULL",
    "xml": "<outcome value=''>",
    "comments": "",
    "outputs": 1,
    "x": 811.0001182556152,
    "y": 134.99998092651367,
    "z": "307cdf1d.539fd",
    "wires": [
      [
        "b367b4cb.81eda8"
      ]
    ]
  },
  {
    "id": "a9453642.a0afc8",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 810.0000267028809,
    "y": 171.99999141693115,
    "z": "307cdf1d.539fd",
    "wires": [
      [
        "b2cd00b8.57706"
      ]
    ]
  },
  {
    "id": "b2cd00b8.57706",
    "type": "set",
    "name": "set tmp.ar.allotted-resource-id",
    "xml": "<set>\n<parameter name='tmp.ar.allotted-resource-id' value='`$connection-attachment-topology-operation-input.allotted-resource-information.allotted-resource-id`' />\n",
    "comments": "",
    "x": 1008.0000152587891,
    "y": 169.00001049041748,
    "z": "307cdf1d.539fd",
    "wires": []
  },
  {
    "id": "a2a65745.852438",
    "type": "set",
    "name": "set tmp.ar.self-link",
    "xml": "<set>\n<parameter name='tmp.ar.self-link' value=\"`'restconf/config/GENERIC-RESOURCE-API:connection-attachment-allotted-resources/connection-attachment-allotted-resource/'\n + $tmp.ar.allotted-resource-id\n + '/allotted-resource-data/connection-attachment-topology/'` \" />\n\n",
    "comments": "",
    "x": 580.9999542236328,
    "y": 386.0000991821289,
    "z": "307cdf1d.539fd",
    "wires": []
  },
  {
    "id": "f3044df1.6f232",
    "type": "execute",
    "name": "execute Properties",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
    "comments": "",
    "outputs": 1,
    "x": 581.2618713378906,
    "y": 467.66678047180176,
    "z": "307cdf1d.539fd",
    "wires": [
      []
    ]
  },
  {
    "id": "5ba82df.f35b0d4",
    "type": "execute",
    "name": "generate allotted-resource tmp.ar-url",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.connection-attachment-allottedresource`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.ar-url\"/>\n    <parameter name=\"target\" value=\"{allotted-resource-id}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.ar.allotted-resource-id`\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 634.2619323730469,
    "y": 554.6666984558105,
    "z": "307cdf1d.539fd",
    "wires": [
      []
    ]
  },
  {
    "id": "b367b4cb.81eda8",
    "type": "execute",
    "name": "execute tmp.ar.allotted-resource-id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"tmp.ar.allotted-resource-id\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 1026.0000953674316,
    "y": 135.99998664855957,
    "z": "307cdf1d.539fd",
    "wires": [
      [
        "a3bb33e3.15368"
      ]
    ]
  },
  {
    "id": "a3bb33e3.15368",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1244.0001373291016,
    "y": 135.99995040893555,
    "z": "307cdf1d.539fd",
    "wires": [
      [
        "1a685e2d.8d4cc2"
      ]
    ]
  },
  {
    "id": "1a685e2d.8d4cc2",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while generation allotted resource ID\" />\n",
    "comments": "",
    "x": 1410.0000915527344,
    "y": 135.9999647140503,
    "z": "307cdf1d.539fd",
    "wires": []
  },
  {
    "id": "8b5477db.c5c9d8",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1140.0002307891846,
    "y": 626.777871131897,
    "z": "307cdf1d.539fd",
    "wires": [
      [
        "5b1e701f.600c"
      ]
    ]
  },
  {
    "id": "cc9f7f26.8914e",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error: Existing connection attachment allotted resource\" />\n    \n",
    "comments": "",
    "x": 1873.5186100006104,
    "y": 627.8439426422119,
    "z": "307cdf1d.539fd",
    "wires": []
  },
  {
    "id": "65a2f2cb.5edd4c",
    "type": "comment",
    "name": "Check for non existence of allotted resource",
    "info": "",
    "comments": "",
    "x": 996.0001525878906,
    "y": 560.7779378890991,
    "z": "307cdf1d.539fd",
    "wires": []
  },
  {
    "id": "2eaa291f.8f6b46",
    "type": "for",
    "name": "for cidx..service-data.consumed-allotted-resources.consumed-allotted-resource[]",
    "xml": "<for index='cidx' start='0' end='`$service-data.consumed-allotted-resources.consumed-allotted-resource_length`' >\n",
    "comments": "",
    "outputs": 1,
    "x": 1516.6666984558105,
    "y": 771.0000503063202,
    "z": "307cdf1d.539fd",
    "wires": [
      [
        "1bef4b2b.0d1235"
      ]
    ]
  },
  {
    "id": "dc7e1c21.4599e",
    "type": "switchNode",
    "name": "switch service-data.consumed-allotted-resources_length",
    "xml": "<switch test='`$service-data.consumed-allotted-resources.consumed-allotted-resource_length`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 698.6660232543945,
    "y": 747.7140827178955,
    "z": "307cdf1d.539fd",
    "wires": [
      [
        "f0ad968c.edb0a8",
        "6ec4508a.edb8"
      ]
    ]
  },
  {
    "id": "f0ad968c.edb0a8",
    "type": "other",
    "name": "outcome Null",
    "xml": "<outcome value=''>\n",
    "comments": "",
    "outputs": 1,
    "x": 1002.8089218139648,
    "y": 716.5715198516846,
    "z": "307cdf1d.539fd",
    "wires": [
      [
        "1bdd00e8.bfe58f"
      ]
    ]
  },
  {
    "id": "6ec4508a.edb8",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 979.8089714050293,
    "y": 777.5714750289917,
    "z": "307cdf1d.539fd",
    "wires": [
      [
        "db245e97.27431"
      ]
    ]
  },
  {
    "id": "db245e97.27431",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1139.9360618591309,
    "y": 775.6974515914917,
    "z": "307cdf1d.539fd",
    "wires": [
      [
        "2eaa291f.8f6b46",
        "493dd1d2.fc196",
        "23139ea3.633f22"
      ]
    ]
  },
  {
    "id": "1bdd00e8.bfe58f",
    "type": "set",
    "name": "set cidx",
    "xml": "<set>\n<parameter name='tmp.cidx' value=\"`0`\" />\n<parameter name='service-data.consumed-allotted-resources.consumed-allotted-resource_length' value=\"1\" />\n\n\n",
    "comments": "",
    "x": 1152.6659049987793,
    "y": 714.2855701446533,
    "z": "307cdf1d.539fd",
    "wires": []
  },
  {
    "id": "7bdd95f3.db24ac",
    "type": "set",
    "name": "set consumed allotted resources",
    "xml": "<set>\n<parameter name='service-data.consumed-allotted-resources.consumed-allotted-resource[$tmp.cidx].allotted-resource-id' value=\"`$tmp.ar.allotted-resource-id` \" />\n<parameter name='service-data.consumed-allotted-resources.consumed-allotted-resource[$tmp.cidx].allotted-resource-type' value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.allotted-resource-type` \" />\n<parameter name='service-data.consumed-allotted-resources.consumed-allotted-resource[$tmp.cidx].allotted-resource-pointer' value=\"`$tmp.ar.self-link` \" />\n<parameter name='service-data.consumed-allotted-resources.consumed-allotted-resource_length' value='`$tmp.cidx + 1`' />\n\n",
    "comments": "",
    "x": 627.5233154296875,
    "y": 851.285647392273,
    "z": "307cdf1d.539fd",
    "wires": []
  },
  {
    "id": "493dd1d2.fc196",
    "type": "switchNode",
    "name": "switch tmp.found-cidx",
    "xml": "<switch test='`$tmp.found-cidx`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1329.0511093139648,
    "y": 807.7089743614197,
    "z": "307cdf1d.539fd",
    "wires": [
      [
        "2ccff848.6a8838"
      ]
    ]
  },
  {
    "id": "2ccff848.6a8838",
    "type": "outcomeTrue",
    "name": "false",
    "xml": "<outcome value='false'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1519.0510635375977,
    "y": 807.7089114189148,
    "z": "307cdf1d.539fd",
    "wires": [
      [
        "d5d85369.7e688"
      ]
    ]
  },
  {
    "id": "d5d85369.7e688",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1685.0510635375977,
    "y": 807.7089114189148,
    "z": "307cdf1d.539fd",
    "wires": [
      [
        "fa8e9142.85d7d"
      ]
    ]
  },
  {
    "id": "1bef4b2b.0d1235",
    "type": "switchNode",
    "name": "switch allotted-resource-id",
    "xml": "<switch test=\"`$service-data.consumed-allotted-resources.consumed-allotted-resource[$cidx].allotted-resource-id == $tmp.ar.allotted-resource-id`\">\n\n",
    "comments": "",
    "outputs": 1,
    "x": 1933.7783279418945,
    "y": 768.0000772476196,
    "z": "307cdf1d.539fd",
    "wires": [
      [
        "39a011f4.26c90e"
      ]
    ]
  },
  {
    "id": "39a011f4.26c90e",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2115.587902069092,
    "y": 768.464524269104,
    "z": "307cdf1d.539fd",
    "wires": [
      [
        "3bd67468.05082c"
      ]
    ]
  },
  {
    "id": "fa8e9142.85d7d",
    "type": "set",
    "name": "set tmp.cidx",
    "xml": "<set>\n<parameter name='tmp.cidx' value='`$service-data.consumed-allotted-resources.consumed-allotted-resource_length`' />\n",
    "comments": "",
    "x": 1846.924446105957,
    "y": 807.2206125259399,
    "z": "307cdf1d.539fd",
    "wires": []
  },
  {
    "id": "45f09705.29f058",
    "type": "comment",
    "name": "Add to consumed service consumed-allotted-resources in mdsal",
    "info": "Prepare data and add to service-data",
    "comments": "",
    "x": 719.667236328125,
    "y": 678.0000467300415,
    "z": "307cdf1d.539fd",
    "wires": []
  },
  {
    "id": "7472ca93.259114",
    "type": "comment",
    "name": "This set resource will be added to MDSAL by provider code",
    "info": "Below we add to service-data.consumed-allotted-resource at last index",
    "comments": "",
    "x": 707.0001525878906,
    "y": 816.7781391143799,
    "z": "307cdf1d.539fd",
    "wires": []
  },
  {
    "id": "ea8d2a7c.dc1c98",
    "type": "update",
    "name": "save AAI allotted-resource",
    "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"allotted-resource\" \n\t\tkey=\"customer.global-customer-id = $connection-attachment-topology-operation-input.service-information.global-customer-id AND\n\t\t\tservice-subscription.service-type = $connection-attachment-topology-operation-input.service-information.subscription-service-type AND\n\t\t\tservice-instance.service-instance-id = $connection-attachment-topology-operation-input.allotted-resource-information.parent-service-instance-id AND\n\t\t\tallotted-resource.id = $tmp.ar.allotted-resource-id\"\n        pfx='pfx' local-only='false' force='false'>\n    <parameter name=\"id\" value=\"`$tmp.ar.allotted-resource-id`\" />\n\t<parameter name=\"name\" value=\"`$prop.connection-attachment.sotnVpnName`\" />\n\t<parameter name=\"access-provider-id\" value=\"`$prop.connection-attachment.access-provider-id`\" />\n\t<parameter name=\"access-client-id\" value=\"`$prop.connection-attachment.access-client-id`\" />\n\t<parameter name=\"access-topology-id\" value=\"`$prop.connection-attachment.access-topology-id`\" />\n\t<parameter name=\"access-node-id\" value=\"`$prop.connection-attachment.access-node-id`\" />\n\t<parameter name=\"access-ltp-id\" value=\"`$prop.connection-attachment.access-ltp-id`\" />\t\n\t<parameter name=\"cvlan\" value=\"`$prop.connection-attachment.cVLAN`\" />\n    <parameter name=\"vpn-name\" value=\"`$prop.connection-attachment.sotnVpnName`\" />\n\t<parameter name=\"selflink\" value=\"`$tmp.ar.self-link`\" />\n\t<parameter name=\"model-invariant-id\" value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.onap-model-information.model-invariant-uuid`\" />\n\t<parameter name=\"model-version-id\" value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.onap-model-information.model-uuid`\" />\n\t<parameter name=\"operational-status\" value=\"Created\" />\n",
    "comments": "",
    "outputs": 1,
    "x": 593.6909332275391,
    "y": 1873.5319156646729,
    "z": "307cdf1d.539fd",
    "wires": [
      [
        "951bf335.bca52",
        "3aff12ef.b5135e"
      ]
    ]
  },
  {
    "id": "951bf335.bca52",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 807.4527854919434,
    "y": 1857.4844913482666,
    "z": "307cdf1d.539fd",
    "wires": [
      [
        "5683eb13.db5c34"
      ]
    ]
  },
  {
    "id": "5683eb13.db5c34",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"AAI failed\" />\n",
    "comments": "",
    "x": 973.9766654968262,
    "y": 1869.1035623550415,
    "z": "307cdf1d.539fd",
    "wires": []
  },
  {
    "id": "3aff12ef.b5135e",
    "type": "failure",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 814.5480728149414,
    "y": 1890.2464590072632,
    "z": "307cdf1d.539fd",
    "wires": [
      [
        "5683eb13.db5c34"
      ]
    ]
  },
  {
    "id": "9b778367.8c46a",
    "type": "comment",
    "name": "Save Resource to AAI",
    "info": "",
    "comments": "",
    "x": 589.50048828125,
    "y": 1809.8338623046875,
    "z": "307cdf1d.539fd",
    "wires": []
  },
  {
    "id": "9719bb6e.70a358",
    "type": "comment",
    "name": "Set allotted resource type if not sent by SO",
    "info": "",
    "comments": "",
    "x": 653,
    "y": 218,
    "z": "307cdf1d.539fd",
    "wires": []
  },
  {
    "id": "2da52da7.95c362",
    "type": "switchNode",
    "name": "switch allotted-resource-type",
    "xml": "<switch test='`$connection-attachment-topology-operation-input.allotted-resource-information.allotted-resource-type`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 614.9233093261719,
    "y": 258.5660562515259,
    "z": "307cdf1d.539fd",
    "wires": [
      [
        "684d8da4.b880e4",
        "7ce6426e.522ebc"
      ]
    ]
  },
  {
    "id": "684d8da4.b880e4",
    "type": "outcome",
    "name": "NULL",
    "xml": "<outcome value=''>",
    "comments": "",
    "outputs": 1,
    "x": 817.9234619140625,
    "y": 243.56605911254883,
    "z": "307cdf1d.539fd",
    "wires": [
      [
        "63c4923.3c3426c"
      ]
    ]
  },
  {
    "id": "7ce6426e.522ebc",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 810.9232902526855,
    "y": 283.5660791397095,
    "z": "307cdf1d.539fd",
    "wires": [
      [
        "bca9b7c7.73b158"
      ]
    ]
  },
  {
    "id": "bca9b7c7.73b158",
    "type": "set",
    "name": "set tmp.ar.allotted-resource-type",
    "xml": "<set>\n<parameter name='tmp.ar.allotted-resource-type' value='`$connection-attachment-topology-operation-input.allotted-resource-information.allotted-resource-type`' />\n",
    "comments": "",
    "x": 1042.9232749938965,
    "y": 283.56608390808105,
    "z": "307cdf1d.539fd",
    "wires": []
  },
  {
    "id": "4c5ae3e7.94b54c",
    "type": "comment",
    "name": "For storage in AAI connection-attachment-topology",
    "info": "",
    "comments": "",
    "x": 677.9999618530273,
    "y": 353,
    "z": "307cdf1d.539fd",
    "wires": []
  },
  {
    "id": "566d8977.bdc218",
    "type": "comment",
    "name": "Obtain different URL, template location etc",
    "info": "For saving resource information to MDSAL & for AAI",
    "comments": "",
    "x": 652.9999465942383,
    "y": 434.8889093399048,
    "z": "307cdf1d.539fd",
    "wires": []
  },
  {
    "id": "eba557cf.66dec8",
    "type": "comment",
    "name": "Used for Put AR by id to MDSAL",
    "info": "",
    "comments": "",
    "x": 619.0000305175781,
    "y": 523.8889265060425,
    "z": "307cdf1d.539fd",
    "wires": []
  },
  {
    "id": "6d67020a.67de0c",
    "type": "comment",
    "name": "Obtain the last index in services",
    "info": "ServiceData is added by Provider code",
    "comments": "",
    "x": 620.4444732666016,
    "y": 709.8888711929321,
    "z": "307cdf1d.539fd",
    "wires": []
  },
  {
    "id": "1f74500.b2f7fb",
    "type": "set",
    "name": "set output to api handler",
    "xml": "<set>\n<parameter name='allotted-resource-id' value='`$tmp.ar.allotted-resource-id`' />\n<parameter name='connection-attachment-object-path' value=\"`$tmp.ar.self-link`\"/>\n<parameter name='service-object-path' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $connection-attachment-topology-operation-input.service-information.service-instance-id\n + '/service-data/service-topology/'`\"/>\n \n",
    "comments": "",
    "x": 598.2681350708008,
    "y": 1773.3591890335083,
    "z": "307cdf1d.539fd",
    "wires": []
  },
  {
    "id": "6d4b764b.a8a308",
    "type": "returnSuccess",
    "name": "return success",
    "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
    "comments": "",
    "x": 547.6812896728516,
    "y": 2023.9751167297363,
    "z": "307cdf1d.539fd",
    "wires": []
  },
  {
    "id": "63c4923.3c3426c",
    "type": "set",
    "name": "set tmp.ar.allotted-resource-type",
    "xml": "<set>\n<parameter name='tmp.ar.allotted-resource-type' value=\"SOTNAttachmentInstance\" />\n",
    "comments": "",
    "x": 1057.0001487731934,
    "y": 243.99998569488525,
    "z": "307cdf1d.539fd",
    "wires": []
  },
  {
    "id": "e855335b.71b3c",
    "type": "call",
    "name": "call GENERIC-RESOURCE-API:sotn-get-saved-ar-param",
    "xml": "<call module='GENERIC-RESOURCE-API' rpc='sotn-get-saved-ar-param' mode='sync' >\n",
    "comments": "",
    "outputs": 1,
    "x": 899.9941558837891,
    "y": 1622.4937295913696,
    "z": "307cdf1d.539fd",
    "wires": [
      []
    ]
  },
  {
    "id": "6c73a0d6.045f8",
    "type": "execute",
    "name": "execute RestApiCallNode - PUT AR by id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.sotn-attachment.templatefile`\" />\n    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.ar-url`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-ar\" />\n\n",
    "comments": "",
    "outputs": 1,
    "x": 649.0002670288086,
    "y": 1707.0001182556152,
    "z": "307cdf1d.539fd",
    "wires": [
      [
        "17f1151d.06a5ab",
        "ccace23a.27702",
        "325329b.e9052d6"
      ]
    ]
  },
  {
    "id": "17f1151d.06a5ab",
    "type": "not-found",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 898.6416206359863,
    "y": 1745.3314485549927,
    "z": "307cdf1d.539fd",
    "wires": [
      [
        "503ba1c3.ce81b"
      ]
    ]
  },
  {
    "id": "ccace23a.27702",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 889.6416702270508,
    "y": 1713.8314743041992,
    "z": "307cdf1d.539fd",
    "wires": [
      [
        "503ba1c3.ce81b"
      ]
    ]
  },
  {
    "id": "325329b.e9052d6",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 893.3917083740234,
    "y": 1684.1885791793466,
    "z": "307cdf1d.539fd",
    "wires": [
      [
        "565609af.5fb058"
      ]
    ]
  },
  {
    "id": "503ba1c3.ce81b",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error updating md-sal for connection-attachment-allotted-resource\" />\n",
    "comments": "",
    "x": 1059.3917083740234,
    "y": 1714.5814981460571,
    "z": "307cdf1d.539fd",
    "wires": []
  },
  {
    "id": "565609af.5fb058",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1035.0476760864258,
    "y": 1680.3807483687997,
    "z": "307cdf1d.539fd",
    "wires": [
      []
    ]
  },
  {
    "id": "cd08d99a.10abb8",
    "type": "execute",
    "name": "execute RestApiCallNode - Update parent provided service AR",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.parentsvc.templatefile`\" />\n    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.parent-ar-url`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"parent\" />\n\n",
    "comments": "",
    "outputs": 1,
    "x": 718.9999542236328,
    "y": 1133.0001649856567,
    "z": "307cdf1d.539fd",
    "wires": [
      [
        "ef2f7f10.9941b",
        "b03054a4.69fc18",
        "8aa9a171.e089b"
      ]
    ]
  },
  {
    "id": "ef2f7f10.9941b",
    "type": "not-found",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1027.3080139160156,
    "y": 1164.9984407424927,
    "z": "307cdf1d.539fd",
    "wires": [
      [
        "65c0c4d1.41acbc"
      ]
    ]
  },
  {
    "id": "b03054a4.69fc18",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1018.3080635070801,
    "y": 1133.4984664916992,
    "z": "307cdf1d.539fd",
    "wires": [
      [
        "65c0c4d1.41acbc"
      ]
    ]
  },
  {
    "id": "8aa9a171.e089b",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1022.0581016540527,
    "y": 1103.8555713668466,
    "z": "307cdf1d.539fd",
    "wires": [
      [
        "c70fcaaf.55a4c8"
      ]
    ]
  },
  {
    "id": "65c0c4d1.41acbc",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error updating md-sal for connection-attachment-allotted-resource\" />\n",
    "comments": "",
    "x": 1188.0581016540527,
    "y": 1134.2484903335571,
    "z": "307cdf1d.539fd",
    "wires": []
  },
  {
    "id": "c70fcaaf.55a4c8",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1163.714069366455,
    "y": 1100.0477405562997,
    "z": "307cdf1d.539fd",
    "wires": [
      []
    ]
  },
  {
    "id": "4609b233.9d833c",
    "type": "comment",
    "name": "Put the parent allotted resource in mdsal",
    "info": "",
    "comments": "",
    "x": 647.9999008178711,
    "y": 1095.0000715255737,
    "z": "307cdf1d.539fd",
    "wires": []
  },
  {
    "id": "3292b995.f13186",
    "type": "set",
    "name": "set connection-attachment-ar-identifiers",
    "xml": "<set>\n<parameter name='connection-attachment-ar-identifiers.consuming-service-instance-id' value=\"`$connection-attachment-topology-operation-input.service-information.service-instance-id` \" />\n<parameter name='connection-attachment-ar-identifiers.parent-service-instance-id' value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.parent-service-instance-id` \" />\n<parameter name='connection-attachment-ar-identifiers.allotted-resource-type' value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.allotted-resource-type` \" />\n<parameter name='connection-attachment-ar-identifiers.allotted-resource-id' value=\"`$tmp.ar.allotted-resource-id` \" />\n\n",
    "comments": "",
    "x": 644.3570861816406,
    "y": 1297.5716905593872,
    "z": "307cdf1d.539fd",
    "wires": []
  },
  {
    "id": "c56a158b.169088",
    "type": "set",
    "name": "set ar-data",
    "xml": "<set>\n<parameter name='connection-attachment-ar.allotted-resource-id' value=\"`$tmp.ar.allotted-resource-id` \" />\n<parameter name='connection-attachment-ar.allotted-resource-status.action' value=\"`$connection-attachment-topology-operation-input.request-information.request-action` \" />\n<parameter name='connection-attachment-ar.allotted-resource-status.rpc-name' value=\"connection-attachment-topology-operation\" />\n<parameter name='connection-attachment-ar.allotted-resource-status.rpc-action' value=\"`$connection-attachment-topology-operation-input.sdnc-request-header.svc-action` \" />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.request-information.' value=\"`$connection-attachment-topology-operation-input.request-information.` \" />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.sdnc-request-header.' value=\"`$connection-attachment-topology-operation-input.sdnc-request-header.` \" />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.service-information.' value=\"`$connection-attachment-topology-operation-input.service-information.` \" />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.allotted-resource-information.' value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.` \" />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.connection-attachment-request-input.' value=\"`$connection-attachment-topology-operation-input.connection-attachment-request-input.` \" />",
    "comments": "",
    "x": 558.2138671875,
    "y": 1265.3810472488403,
    "z": "307cdf1d.539fd",
    "wires": []
  },
  {
    "id": "71214832.584f28",
    "type": "set",
    "name": "set identifiers in overall structure",
    "xml": "<set>\n<parameter name='connection-attachment-ar.allotted-resource-data.connection-attachment-topology.allotted-resource-identifiers.' \nvalue=\"`$connection-attachment-ar-identifiers.`\" />\n\n\n",
    "comments": "",
    "x": 623.1668853759766,
    "y": 1331.6668758392334,
    "z": "307cdf1d.539fd",
    "wires": []
  },
  {
    "id": "23b7a6d1.9a369a",
    "type": "execute",
    "name": "execute getTime",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='setTime' >\n    <parameter name=\"outputPath\" value=\"tmp.current-time\" />\n\n",
    "comments": "",
    "outputs": 1,
    "x": 575.4997253417969,
    "y": 1405.0004034042358,
    "z": "307cdf1d.539fd",
    "wires": [
      []
    ]
  },
  {
    "id": "4ebfff40.f0aa5",
    "type": "set",
    "name": "set allotted-resource-oper-status",
    "xml": "<set>\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.order-status' value='Created' />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.last-action' value='`$connection-attachment-topology-operation-input.request-information.request-action`' />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.last-rpc-action' value='`$connection-attachment-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.last-svc-request-id' value='`$connection-attachment-topology-operation-input.sdnc-request-header.svc-request-id`' />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.create-timestamp' value='`$tmp.current-time`' />\n",
    "comments": "",
    "x": 626.4867630004883,
    "y": 1460.951636314392,
    "z": "307cdf1d.539fd",
    "wires": []
  },
  {
    "id": "cb431e44.1b2d7",
    "type": "set",
    "name": "set model-data",
    "xml": "<set>\n<parameter name='connection-attachment-ar.allotted-resource-data.connection-attachment-topology.onap-model-information.' value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.onap-model-information.` \" />",
    "comments": "",
    "x": 571.0553817749023,
    "y": 1366.5557613372803,
    "z": "307cdf1d.539fd",
    "wires": []
  },
  {
    "id": "10171c26.195644",
    "type": "comment",
    "name": "Prepare data for allotted-resource addition to MDSAL",
    "info": "This will add to allotted-resource which is present inside service.",
    "comments": "",
    "x": 688.3888702392578,
    "y": 1231.5556077957153,
    "z": "307cdf1d.539fd",
    "wires": []
  },
  {
    "id": "46e15a07.ae9ba4",
    "type": "execute",
    "name": "generate parent-ar url - replace allotted-resource-id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.parent-ar-url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.parent-ar-url\"/>\n    <parameter name=\"target\" value=\"{allotted-resource-id}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.ar.allotted-resource-id`\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 683.5000152587891,
    "y": 1059.0000104904175,
    "z": "307cdf1d.539fd",
    "wires": [
      []
    ]
  },
  {
    "id": "c34405e1.82d938",
    "type": "execute",
    "name": "generate parent-ar url - replace service-instance-id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.parent-provided-resource`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.parent-ar-url\"/>\n    <parameter name=\"target\" value=\"{service-instance-id}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.ar.parent-service-instance-id`\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 679.4999389648438,
    "y": 1016.0001468658447,
    "z": "307cdf1d.539fd",
    "wires": [
      []
    ]
  },
  {
    "id": "a521acad.d004d",
    "type": "comment",
    "name": "Prepare Parent AR URL",
    "info": "Preparation to set provided-allotted-resource in parent service instance",
    "comments": "",
    "x": 597.5003967285156,
    "y": 945.0001001358032,
    "z": "307cdf1d.539fd",
    "wires": []
  },
  {
    "id": "371cf69b.dabcaa",
    "type": "set",
    "name": "set tmp.ar.parent-service-instance-id",
    "xml": "<set>\n<parameter name='tmp.ar.parent-service-instance-id' value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.parent-service-instance-id` \" />\n\n",
    "comments": "",
    "x": 636.5001907348633,
    "y": 978.5000395774841,
    "z": "307cdf1d.539fd",
    "wires": []
  },
  {
    "id": "471a396d.b72ac8",
    "type": "comment",
    "name": "Required for filling template values",
    "info": "This is done because connection-attachment is generic resource and doesn't have specific parameters",
    "comments": "",
    "x": 826.000358581543,
    "y": 1585.4998025894165,
    "z": "307cdf1d.539fd",
    "wires": []
  },
  {
    "id": "3bd67468.05082c",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error updating md-sal for connection-attachment-allotted-resource as cosumed allotted resource already exists.\" />\n",
    "comments": "",
    "x": 2193.7569732666016,
    "y": 816.6458292007446,
    "z": "307cdf1d.539fd",
    "wires": []
  },
  {
    "id": "23139ea3.633f22",
    "type": "set",
    "name": "set tmp.found-cidx",
    "xml": "<set>\n<parameter name='tmp.found-cidx' value=\"`false`\" />\n\n\n",
    "comments": "",
    "x": 1319.6461448669434,
    "y": 728.3125722408295,
    "z": "307cdf1d.539fd",
    "wires": []
  },
  {
    "id": "572750a4.da966",
    "type": "comment",
    "name": "Add to parent services provided-allotted-resources in mdsal",
    "info": "",
    "comments": "",
    "x": 708.2015075683594,
    "y": 912.9792566299438,
    "z": "307cdf1d.539fd",
    "wires": []
  },
  {
    "id": "c22af7ab.9a1898",
    "type": "comment",
    "name": "Add to allotted-resources in mdsal",
    "info": "",
    "comments": "",
    "x": 628.9686965942383,
    "y": 1198.968936920166,
    "z": "307cdf1d.539fd",
    "wires": []
  },
  {
    "id": "5b1e701f.600c",
    "type": "block",
    "name": "block: atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1302.000051498413,
    "y": 626.2777605056763,
    "z": "307cdf1d.539fd",
    "wires": [
      [
        "f33fd165.6af9d"
      ]
    ]
  },
  {
    "id": "f33fd165.6af9d",
    "type": "switchNode",
    "name": "switch cr length",
    "xml": "<switch test='`$mdsal-ar.connection-attachment-allotted-resource_length`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1489.8574314117432,
    "y": 626.8968958854675,
    "z": "307cdf1d.539fd",
    "wires": [
      [
        "30bd1249.6e0cce"
      ]
    ]
  },
  {
    "id": "30bd1249.6e0cce",
    "type": "other",
    "name": "outcome 1",
    "xml": "<outcome value='1'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1689.1905536651611,
    "y": 626.8969745635986,
    "z": "307cdf1d.539fd",
    "wires": [
      [
        "cc9f7f26.8914e"
      ]
    ]
  },
  {
    "id": "6e7b925f.51d77c",
    "type": "execute",
    "name": "execute RestApiCallNode - get-resource connection-attachment-allotted-resource",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.ar-url`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='GET' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-ar\" />\n\n",
    "comments": "",
    "outputs": 1,
    "x": 774.0000534057617,
    "y": 621.000036239624,
    "z": "307cdf1d.539fd",
    "wires": [
      [
        "8b5477db.c5c9d8",
        "94a8a58d.dee408"
      ]
    ]
  },
  {
    "id": "94a8a58d.dee408",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1142.0000839233398,
    "y": 591.0000343322754,
    "z": "307cdf1d.539fd",
    "wires": [
      [
        "9c37a2ea.b7b0a"
      ]
    ]
  },
  {
    "id": "9c37a2ea.b7b0a",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1294.0000839233398,
    "y": 590.0000343322754,
    "z": "307cdf1d.539fd",
    "wires": [
      []
    ]
  },
  {
    "id": "92f874df.f4a158",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 570.5556106567383,
    "y": 1540.6666536331177,
    "z": "307cdf1d.539fd",
    "wires": [
      [
        "53c527c9.b22648",
        "e855335b.71b3c"
      ]
    ]
  },
  {
    "id": "53c527c9.b22648",
    "type": "for",
    "name": "for each sotn-get-request-input-param",
    "xml": "<for index='i' start='0' end='`$connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.connection-attachment-request-input.param_length`' >\n",
    "comments": "",
    "outputs": 1,
    "x": 840.5556755065918,
    "y": 1540.6667013168335,
    "z": "307cdf1d.539fd",
    "wires": [
      [
        "261e5f2.fe442a"
      ]
    ]
  },
  {
    "id": "d5857a39.639db8",
    "type": "comment",
    "name": "Take the parameter names by removing prefix",
    "info": "",
    "comments": "",
    "x": 1380.5554580688477,
    "y": 1496.6667346954346,
    "z": "307cdf1d.539fd",
    "wires": []
  },
  {
    "id": "6df2fba8.889c14",
    "type": "execute",
    "name": "execute split parameterName",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.connection-attachment-request-input.param[$i].name`'/>\n<parameter name=\"regex\" value=\"_\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 1338.5901260375977,
    "y": 1531.6458778381348,
    "z": "307cdf1d.539fd",
    "wires": [
      []
    ]
  },
  {
    "id": "bd5f9072.2a8a7",
    "type": "set",
    "name": "set parameterName",
    "xml": "<set>\n<parameter name=\"`connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.connection-attachment-request-input.param[$i].name`\" value='`$param-prefix[$param-prefix_length -1]`'/>\n",
    "comments": "",
    "x": 1309.034652709961,
    "y": 1564.6458778381348,
    "z": "307cdf1d.539fd",
    "wires": []
  },
  {
    "id": "4a2aa60e.ed5c08",
    "type": "comment",
    "name": "Remove VNFC prefix",
    "info": "",
    "comments": "",
    "x": 781.5556030273438,
    "y": 1508.1110153198242,
    "z": "307cdf1d.539fd",
    "wires": []
  },
  {
    "id": "261e5f2.fe442a",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1087.5555114746094,
    "y": 1539.1110458374023,
    "z": "307cdf1d.539fd",
    "wires": [
      [
        "6df2fba8.889c14",
        "bd5f9072.2a8a7"
      ]
    ]
  },
  {
    "id": "5a956e5b.11a09",
    "type": "save",
    "name": "update srcLTP relationship in AAI",
    "xml": "<update plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"allotted-resource\" \n\t\tkey=\"customer.global-customer-id = $connection-attachment-topology-operation-input.service-information.global-customer-id AND\n\t\t\tservice-subscription.service-type = $connection-attachment-topology-operation-input.service-information.subscription-service-type AND\n\t\t\tservice-instance.service-instance-id = $connection-attachment-topology-operation-input.allotted-resource-information.parent-service-instance-id AND\n\t\t\tallotted-resource.id = $tmp.ar.allotted-resource-id\" \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"p-interface\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/pnfs/pnf/' + $prop.connection-attachment.access-node-id + '/p-interfaces/p-interface/' + $src-ltpId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"p-interface.interface-name\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$src-ltpId`\" />\n\n\n\n",
    "comments": "",
    "outputs": 1,
    "x": 607.0040016174316,
    "y": 1973.004249572754,
    "z": "307cdf1d.539fd",
    "wires": [
      []
    ]
  },
  {
    "id": "e93c0a9f.0608a8",
    "type": "set",
    "name": "set src-ltpId",
    "xml": "<set>\n<parameter name='src-ltpId' value=\"`'nodeId-' + $prop.connection-attachment.access-node-id + '-ltpId-' + $prop.connection-attachment.access-ltp-id`\" />\n",
    "comments": "",
    "x": 547.0000991821289,
    "y": 1930.0003423690796,
    "z": "307cdf1d.539fd",
    "wires": []
  }
]
