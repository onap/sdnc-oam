[
  {
    "id": "b2b2fc12.cf96d",
    "type": "dgstart",
    "name": "DGSTART",
    "outputs": 1,
    "x": 96.50000190734863,
    "y": 38.00000286102295,
    "z": "f5fcb4a8.869698",
    "wires": [
      [
        "6e50c528.de9a7c"
      ]
    ]
  },
  {
    "id": "6e50c528.de9a7c",
    "type": "service-logic",
    "name": "GENERIC-RESOURCE-API ${project.version}",
    "module": "GENERIC-RESOURCE-API",
    "version": "${project.version}",
    "comments": "",
    "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
    "outputs": 1,
    "x": 237.50000381469727,
    "y": 115.0000171661377,
    "z": "f5fcb4a8.869698",
    "wires": [
      [
        "f4bf8d69.ecd28"
      ]
    ]
  },
  {
    "id": "f4bf8d69.ecd28",
    "type": "method",
    "name": "sotn-attachment-topology-operation-create",
    "xml": "<method rpc='sotn-attachment-topology-operation-create' mode='sync'>\n",
    "comments": "",
    "outputs": 1,
    "x": 225.5001220703125,
    "y": 203,
    "z": "f5fcb4a8.869698",
    "wires": [
      [
        "3bd3ace.6bd7c54"
      ]
    ]
  },
  {
    "id": "3bd3ace.6bd7c54",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 145.50005340576172,
    "y": 952.0002479553223,
    "z": "f5fcb4a8.869698",
    "wires": [
      [
        "e49d7cd0.24623",
        "4a92eb0d.67e9c4",
        "2dd15073.0da3b",
        "5e1f3d4f.82c794",
        "afc1bdf5.4b836",
        "7d9ca6fb.249298",
        "f5e2658.10ace98",
        "3342f593.51121a",
        "458e8426.a4810c",
        "506bd024.3cd4a",
        "ca1aa6f6.be5228",
        "a07927be.544a08",
        "2adeb8b.a94ce48",
        "c51e932f.b0db6",
        "16ace716.f64f39",
        "91c11379.3848",
        "c018ef66.ea6f",
        "d7ef6ed3.36d06",
        "9a473067.67045",
        "91b59706.e4cdc8",
        "cfbbadf0.d1c3a",
        "e88d2834.1fdcf8",
        "8fb59fb4.b6b0c",
        "c224a6bb.b7b288",
        "c765719e.98d15"
      ]
    ]
  },
  {
    "id": "bc77dabb.b8dfe8",
    "type": "comment",
    "name": "Set allotted resource id if not sent by SO",
    "info": "",
    "comments": "",
    "x": 629.5767517089844,
    "y": 112.4339189529419,
    "z": "f5fcb4a8.869698",
    "wires": []
  },
  {
    "id": "e49d7cd0.24623",
    "type": "switchNode",
    "name": "switch allotted-resource-id",
    "xml": "<switch test='`$connection-attachment-topology-operation-input.allotted-resource-information.allotted-resource-id`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 575.5000305175781,
    "y": 167.99999237060547,
    "z": "f5fcb4a8.869698",
    "wires": [
      [
        "ede8227d.3da0a",
        "871d8b04.92b798"
      ]
    ]
  },
  {
    "id": "ede8227d.3da0a",
    "type": "outcome",
    "name": "NULL",
    "xml": "<outcome value=''>",
    "comments": "",
    "outputs": 1,
    "x": 773.5001182556152,
    "y": 137.99998092651367,
    "z": "f5fcb4a8.869698",
    "wires": [
      [
        "8efccbca.23f2f8"
      ]
    ]
  },
  {
    "id": "871d8b04.92b798",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 772.5000267028809,
    "y": 174.99999141693115,
    "z": "f5fcb4a8.869698",
    "wires": [
      [
        "4fdaace7.615964"
      ]
    ]
  },
  {
    "id": "4fdaace7.615964",
    "type": "set",
    "name": "set tmp.ar.allotted-resource-id",
    "xml": "<set>\n<parameter name='tmp.ar.allotted-resource-id' value='`$connection-attachment-topology-operation-input.allotted-resource-information.allotted-resource-id`' />\n",
    "comments": "",
    "x": 970.5000152587891,
    "y": 172.00001049041748,
    "z": "f5fcb4a8.869698",
    "wires": []
  },
  {
    "id": "4a92eb0d.67e9c4",
    "type": "set",
    "name": "set tmp.ar.self-link",
    "xml": "<set>\n<parameter name='tmp.ar.self-link' value=\"`'restconf/config/GENERIC-RESOURCE-API:connection-attachment-allotted-resources/connection-attachment-allotted-resource/'\n + $tmp.ar.allotted-resource-id\n + '/allotted-resource-data/connection-attachment-topology/'` \" />\n\n",
    "comments": "",
    "x": 543.4999542236328,
    "y": 389.0000991821289,
    "z": "f5fcb4a8.869698",
    "wires": []
  },
  {
    "id": "2dd15073.0da3b",
    "type": "execute",
    "name": "execute Properties",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
    "comments": "",
    "outputs": 1,
    "x": 543.7618713378906,
    "y": 470.66678047180176,
    "z": "f5fcb4a8.869698",
    "wires": [
      []
    ]
  },
  {
    "id": "5e1f3d4f.82c794",
    "type": "execute",
    "name": "generate allotted-resource tmp.ar-url",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.connection-attachment-allottedresource`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.ar-url\"/>\n    <parameter name=\"target\" value=\"{allotted-resource-id}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.ar.allotted-resource-id`\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 596.7619323730469,
    "y": 557.6666984558105,
    "z": "f5fcb4a8.869698",
    "wires": [
      []
    ]
  },
  {
    "id": "8efccbca.23f2f8",
    "type": "execute",
    "name": "execute tmp.ar.allotted-resource-id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"tmp.ar.allotted-resource-id\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 988.5000953674316,
    "y": 138.99998664855957,
    "z": "f5fcb4a8.869698",
    "wires": [
      [
        "d4c15c7f.c9c6b"
      ]
    ]
  },
  {
    "id": "d4c15c7f.c9c6b",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1206.5001373291016,
    "y": 138.99995040893555,
    "z": "f5fcb4a8.869698",
    "wires": [
      [
        "4780ce03.07d49"
      ]
    ]
  },
  {
    "id": "4780ce03.07d49",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while generation allotted resource ID\" />\n",
    "comments": "",
    "x": 1372.5000915527344,
    "y": 138.9999647140503,
    "z": "f5fcb4a8.869698",
    "wires": []
  },
  {
    "id": "cd668aab.887ef8",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1102.5002307891846,
    "y": 629.777871131897,
    "z": "f5fcb4a8.869698",
    "wires": [
      [
        "43f948c5.8e3c48"
      ]
    ]
  },
  {
    "id": "fff5fcf9.b91b7",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error: Existing connection attachment allotted resource\" />\n    \n",
    "comments": "",
    "x": 1836.0186100006104,
    "y": 630.8439426422119,
    "z": "f5fcb4a8.869698",
    "wires": []
  },
  {
    "id": "ae16b108.dde0f",
    "type": "comment",
    "name": "Check for non existence of allotted resource",
    "info": "",
    "comments": "",
    "x": 958.5001525878906,
    "y": 563.7779378890991,
    "z": "f5fcb4a8.869698",
    "wires": []
  },
  {
    "id": "ada117fc.11b638",
    "type": "for",
    "name": "for cidx..service-data.consumed-allotted-resources.consumed-allotted-resource[]",
    "xml": "<for index='cidx' start='0' end='`$service-data.consumed-allotted-resources.consumed-allotted-resource_length`' >\n",
    "comments": "",
    "outputs": 1,
    "x": 1479.1666984558105,
    "y": 774.0000503063202,
    "z": "f5fcb4a8.869698",
    "wires": [
      [
        "e40e8409.36d7f8"
      ]
    ]
  },
  {
    "id": "7d9ca6fb.249298",
    "type": "switchNode",
    "name": "switch service-data.consumed-allotted-resources_length",
    "xml": "<switch test='`$service-data.consumed-allotted-resources.consumed-allotted-resource_length`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 661.1660232543945,
    "y": 750.7140827178955,
    "z": "f5fcb4a8.869698",
    "wires": [
      [
        "6fbc583.8ed6aa8",
        "2f545e93.6ba8a2"
      ]
    ]
  },
  {
    "id": "6fbc583.8ed6aa8",
    "type": "other",
    "name": "outcome Null",
    "xml": "<outcome value=''>\n",
    "comments": "",
    "outputs": 1,
    "x": 965.3089218139648,
    "y": 719.5715198516846,
    "z": "f5fcb4a8.869698",
    "wires": [
      [
        "a95f5b55.d6e9b8"
      ]
    ]
  },
  {
    "id": "2f545e93.6ba8a2",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 942.3089714050293,
    "y": 780.5714750289917,
    "z": "f5fcb4a8.869698",
    "wires": [
      [
        "7d9f20d0.5505c"
      ]
    ]
  },
  {
    "id": "7d9f20d0.5505c",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1102.4360618591309,
    "y": 778.6974515914917,
    "z": "f5fcb4a8.869698",
    "wires": [
      [
        "ada117fc.11b638",
        "67b14806.59d9a8",
        "458ffc55.d5db04"
      ]
    ]
  },
  {
    "id": "a95f5b55.d6e9b8",
    "type": "set",
    "name": "set cidx",
    "xml": "<set>\n<parameter name='tmp.cidx' value=\"`0`\" />\n<parameter name='service-data.consumed-allotted-resources.consumed-allotted-resource_length' value=\"1\" />\n\n\n",
    "comments": "",
    "x": 1115.1659049987793,
    "y": 717.2855701446533,
    "z": "f5fcb4a8.869698",
    "wires": []
  },
  {
    "id": "f5e2658.10ace98",
    "type": "set",
    "name": "set consumed allotted resources",
    "xml": "<set>\n<parameter name='service-data.consumed-allotted-resources.consumed-allotted-resource[$tmp.cidx].allotted-resource-id' value=\"`$tmp.ar.allotted-resource-id` \" />\n<parameter name='service-data.consumed-allotted-resources.consumed-allotted-resource[$tmp.cidx].allotted-resource-type' value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.allotted-resource-type` \" />\n<parameter name='service-data.consumed-allotted-resources.consumed-allotted-resource[$tmp.cidx].allotted-resource-pointer' value=\"`$tmp.ar.self-link` \" />\n<parameter name='service-data.consumed-allotted-resources.consumed-allotted-resource_length' value='`$tmp.cidx + 1`' />\n\n",
    "comments": "",
    "x": 590.0233154296875,
    "y": 854.285647392273,
    "z": "f5fcb4a8.869698",
    "wires": []
  },
  {
    "id": "67b14806.59d9a8",
    "type": "switchNode",
    "name": "switch tmp.found-cidx",
    "xml": "<switch test='`$tmp.found-cidx`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1291.5511093139648,
    "y": 810.7089743614197,
    "z": "f5fcb4a8.869698",
    "wires": [
      [
        "b4f07caa.1eece"
      ]
    ]
  },
  {
    "id": "b4f07caa.1eece",
    "type": "outcomeTrue",
    "name": "false",
    "xml": "<outcome value='false'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1481.5510635375977,
    "y": 810.7089114189148,
    "z": "f5fcb4a8.869698",
    "wires": [
      [
        "9b5a2a9b.791398"
      ]
    ]
  },
  {
    "id": "9b5a2a9b.791398",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1647.5510635375977,
    "y": 810.7089114189148,
    "z": "f5fcb4a8.869698",
    "wires": [
      [
        "82e04cf1.4917b"
      ]
    ]
  },
  {
    "id": "e40e8409.36d7f8",
    "type": "switchNode",
    "name": "switch allotted-resource-id",
    "xml": "<switch test=\"`$service-data.consumed-allotted-resources.consumed-allotted-resource[$cidx].allotted-resource-id == $tmp.ar.allotted-resource-id`\">\n\n",
    "comments": "",
    "outputs": 1,
    "x": 1896.2783279418945,
    "y": 771.0000772476196,
    "z": "f5fcb4a8.869698",
    "wires": [
      [
        "f29e0cd9.704ae"
      ]
    ]
  },
  {
    "id": "f29e0cd9.704ae",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2078.087902069092,
    "y": 771.464524269104,
    "z": "f5fcb4a8.869698",
    "wires": [
      [
        "60273371.090a2c"
      ]
    ]
  },
  {
    "id": "82e04cf1.4917b",
    "type": "set",
    "name": "set tmp.cidx",
    "xml": "<set>\n<parameter name='tmp.cidx' value='`$service-data.consumed-allotted-resources.consumed-allotted-resource_length`' />\n",
    "comments": "",
    "x": 1809.424446105957,
    "y": 810.2206125259399,
    "z": "f5fcb4a8.869698",
    "wires": []
  },
  {
    "id": "9b1a4b9d.344fd8",
    "type": "comment",
    "name": "Add to consumed service consumed-allotted-resources in mdsal",
    "info": "Prepare data and add to service-data",
    "comments": "",
    "x": 682.167236328125,
    "y": 681.0000467300415,
    "z": "f5fcb4a8.869698",
    "wires": []
  },
  {
    "id": "57f62d80.43fe94",
    "type": "comment",
    "name": "This set resource will be added to MDSAL by provider code",
    "info": "Below we add to service-data.consumed-allotted-resource at last index",
    "comments": "",
    "x": 669.5001525878906,
    "y": 819.7781391143799,
    "z": "f5fcb4a8.869698",
    "wires": []
  },
  {
    "id": "8fb59fb4.b6b0c",
    "type": "update",
    "name": "save AAI allotted-resource",
    "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"allotted-resource\" \n\t\tkey=\"customer.global-customer-id = $connection-attachment-topology-operation-input.service-information.global-customer-id AND\n\t\t\tservice-subscription.service-type = $connection-attachment-topology-operation-input.service-information.subscription-service-type AND\n\t\t\tservice-instance.service-instance-id = $connection-attachment-topology-operation-input.allotted-resource-information.parent-service-instance-id AND\n\t\t\tallotted-resource.id = $tmp.ar.allotted-resource-id\"\n        pfx='pfx' local-only='false' force='false'>\n    <parameter name=\"id\" value=\"`$tmp.ar.allotted-resource-id`\" />\n\t<parameter name=\"name\" value=\"`$prop.connection-attachment.sotnVpnName`\" />\n\t<parameter name=\"access-provider-id\" value=\"`$prop.connection-attachment.access-provider-id`\" />\n\t<parameter name=\"access-client-id\" value=\"`$prop.connection-attachment.access-client-id`\" />\n\t<parameter name=\"access-topology-id\" value=\"`$prop.connection-attachment.access-topology-id`\" />\n\t<parameter name=\"access-node-id\" value=\"`$prop.connection-attachment.access-node-id`\" />\n\t<parameter name=\"access-ltp-id\" value=\"`$prop.connection-attachment.access-ltp-id`\" />\t\n\t<parameter name=\"cvlan\" value=\"`$prop.connection-attachment.cVLAN`\" />\n    <parameter name=\"vpn-name\" value=\"`$prop.connection-attachment.sotnVpnName`\" />\n\t<parameter name=\"selflink\" value=\"`$tmp.ar.self-link`\" />\n\t<parameter name=\"model-invariant-id\" value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.onap-model-information.model-invariant-uuid`\" />\n\t<parameter name=\"model-version-id\" value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.onap-model-information.model-uuid`\" />\n\t<parameter name=\"operational-status\" value=\"Created\" />\n",
    "comments": "",
    "outputs": 1,
    "x": 556.1909332275391,
    "y": 1876.5319156646729,
    "z": "f5fcb4a8.869698",
    "wires": [
      [
        "a1966a3.5032b98",
        "3409a13c.09f89e"
      ]
    ]
  },
  {
    "id": "a1966a3.5032b98",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 769.9527854919434,
    "y": 1860.4844913482666,
    "z": "f5fcb4a8.869698",
    "wires": [
      [
        "9c3ee63e.5c5548"
      ]
    ]
  },
  {
    "id": "9c3ee63e.5c5548",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"AAI failed\" />\n",
    "comments": "",
    "x": 936.4766654968262,
    "y": 1872.1035623550415,
    "z": "f5fcb4a8.869698",
    "wires": []
  },
  {
    "id": "3409a13c.09f89e",
    "type": "failure",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 777.0480728149414,
    "y": 1893.2464590072632,
    "z": "f5fcb4a8.869698",
    "wires": [
      [
        "9c3ee63e.5c5548"
      ]
    ]
  },
  {
    "id": "72ae40d1.ad37d",
    "type": "comment",
    "name": "Save Resource to AAI",
    "info": "",
    "comments": "",
    "x": 552.00048828125,
    "y": 1812.8338623046875,
    "z": "f5fcb4a8.869698",
    "wires": []
  },
  {
    "id": "a332d2fb.609ff",
    "type": "comment",
    "name": "Set allotted resource type if not sent by SO",
    "info": "",
    "comments": "",
    "x": 615.5,
    "y": 221,
    "z": "f5fcb4a8.869698",
    "wires": []
  },
  {
    "id": "afc1bdf5.4b836",
    "type": "switchNode",
    "name": "switch allotted-resource-type",
    "xml": "<switch test='`$connection-attachment-topology-operation-input.allotted-resource-information.allotted-resource-type`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 577.4233093261719,
    "y": 261.5660562515259,
    "z": "f5fcb4a8.869698",
    "wires": [
      [
        "cf33bc7c.594b3",
        "977436f5.c716c8"
      ]
    ]
  },
  {
    "id": "cf33bc7c.594b3",
    "type": "outcome",
    "name": "NULL",
    "xml": "<outcome value=''>",
    "comments": "",
    "outputs": 1,
    "x": 780.4234619140625,
    "y": 246.56605911254883,
    "z": "f5fcb4a8.869698",
    "wires": [
      [
        "382edb8d.38df44"
      ]
    ]
  },
  {
    "id": "977436f5.c716c8",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 773.4232902526855,
    "y": 286.5660791397095,
    "z": "f5fcb4a8.869698",
    "wires": [
      [
        "2162049e.dcac4c"
      ]
    ]
  },
  {
    "id": "2162049e.dcac4c",
    "type": "set",
    "name": "set tmp.ar.allotted-resource-type",
    "xml": "<set>\n<parameter name='tmp.ar.allotted-resource-type' value='`$connection-attachment-topology-operation-input.allotted-resource-information.allotted-resource-type`' />\n",
    "comments": "",
    "x": 1005.4232749938965,
    "y": 286.56608390808105,
    "z": "f5fcb4a8.869698",
    "wires": []
  },
  {
    "id": "689a35d2.e3d7ac",
    "type": "comment",
    "name": "For storage in AAI connection-attachment-topology",
    "info": "",
    "comments": "",
    "x": 640.4999618530273,
    "y": 356,
    "z": "f5fcb4a8.869698",
    "wires": []
  },
  {
    "id": "adaba0c1.0cdca",
    "type": "comment",
    "name": "Obtain different URL, template location etc",
    "info": "For saving resource information to MDSAL & for AAI",
    "comments": "",
    "x": 615.4999465942383,
    "y": 437.8889093399048,
    "z": "f5fcb4a8.869698",
    "wires": []
  },
  {
    "id": "bdfc2cb5.718fd",
    "type": "comment",
    "name": "Used for Put AR by id to MDSAL",
    "info": "",
    "comments": "",
    "x": 581.5000305175781,
    "y": 526.8889265060425,
    "z": "f5fcb4a8.869698",
    "wires": []
  },
  {
    "id": "882372f2.e4c61",
    "type": "comment",
    "name": "Obtain the last index in services",
    "info": "ServiceData is added by Provider code",
    "comments": "",
    "x": 582.9444732666016,
    "y": 712.8888711929321,
    "z": "f5fcb4a8.869698",
    "wires": []
  },
  {
    "id": "9a473067.67045",
    "type": "set",
    "name": "set output to api handler",
    "xml": "<set>\n<parameter name='allotted-resource-id' value='`$tmp.ar.allotted-resource-id`' />\n<parameter name='connection-attachment-object-path' value=\"`$tmp.ar.self-link`\"/>\n<parameter name='service-object-path' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $connection-attachment-topology-operation-input.service-information.service-instance-id\n + '/service-data/service-topology/'`\"/>\n \n",
    "comments": "",
    "x": 560.7681350708008,
    "y": 1776.3591890335083,
    "z": "f5fcb4a8.869698",
    "wires": []
  },
  {
    "id": "91b59706.e4cdc8",
    "type": "returnSuccess",
    "name": "return success",
    "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
    "comments": "",
    "x": 510.18128967285156,
    "y": 2026.9751167297363,
    "z": "f5fcb4a8.869698",
    "wires": []
  },
  {
    "id": "382edb8d.38df44",
    "type": "set",
    "name": "set tmp.ar.allotted-resource-type",
    "xml": "<set>\n<parameter name='tmp.ar.allotted-resource-type' value=\"SOTNAttachmentInstance\" />\n",
    "comments": "",
    "x": 1019.5001487731934,
    "y": 246.99998569488525,
    "z": "f5fcb4a8.869698",
    "wires": []
  },
  {
    "id": "7cc17548.dbfedc",
    "type": "call",
    "name": "call GENERIC-RESOURCE-API:sotn-get-saved-ar-param",
    "xml": "<call module='GENERIC-RESOURCE-API' rpc='sotn-get-saved-ar-param' mode='sync' >\n",
    "comments": "",
    "outputs": 1,
    "x": 862.4941558837891,
    "y": 1625.4937295913696,
    "z": "f5fcb4a8.869698",
    "wires": [
      []
    ]
  },
  {
    "id": "d7ef6ed3.36d06",
    "type": "execute",
    "name": "execute RestApiCallNode - PUT AR by id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.sotn-attachment.templatefile`\" />\n    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.ar-url`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-ar\" />\n\n",
    "comments": "",
    "outputs": 1,
    "x": 611.5002670288086,
    "y": 1710.0001182556152,
    "z": "f5fcb4a8.869698",
    "wires": [
      [
        "5ed47414.f6a9ec",
        "9d623053.1780e",
        "f8eb328d.71989"
      ]
    ]
  },
  {
    "id": "5ed47414.f6a9ec",
    "type": "not-found",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 861.1416206359863,
    "y": 1748.3314485549927,
    "z": "f5fcb4a8.869698",
    "wires": [
      [
        "ee36b0d3.645c5"
      ]
    ]
  },
  {
    "id": "9d623053.1780e",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 852.1416702270508,
    "y": 1716.8314743041992,
    "z": "f5fcb4a8.869698",
    "wires": [
      [
        "ee36b0d3.645c5"
      ]
    ]
  },
  {
    "id": "f8eb328d.71989",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 855.8917083740234,
    "y": 1687.1885791793466,
    "z": "f5fcb4a8.869698",
    "wires": [
      [
        "3e7a6f90.4daaf"
      ]
    ]
  },
  {
    "id": "ee36b0d3.645c5",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error updating md-sal for connection-attachment-allotted-resource\" />\n",
    "comments": "",
    "x": 1021.8917083740234,
    "y": 1717.5814981460571,
    "z": "f5fcb4a8.869698",
    "wires": []
  },
  {
    "id": "3e7a6f90.4daaf",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 997.5476760864258,
    "y": 1683.3807483687997,
    "z": "f5fcb4a8.869698",
    "wires": [
      []
    ]
  },
  {
    "id": "ca1aa6f6.be5228",
    "type": "execute",
    "name": "execute RestApiCallNode - Update parent provided service AR",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.parentsvc.templatefile`\" />\n    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.parent-ar-url`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"parent\" />\n\n",
    "comments": "",
    "outputs": 1,
    "x": 681.4999542236328,
    "y": 1136.0001649856567,
    "z": "f5fcb4a8.869698",
    "wires": [
      [
        "10d6c8ff.30a7e7",
        "fdb9bed8.ececf",
        "d7a65ee0.6afc7"
      ]
    ]
  },
  {
    "id": "10d6c8ff.30a7e7",
    "type": "not-found",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 989.8080139160156,
    "y": 1167.9984407424927,
    "z": "f5fcb4a8.869698",
    "wires": [
      [
        "c03cc053.bc771"
      ]
    ]
  },
  {
    "id": "fdb9bed8.ececf",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 980.8080635070801,
    "y": 1136.4984664916992,
    "z": "f5fcb4a8.869698",
    "wires": [
      [
        "c03cc053.bc771"
      ]
    ]
  },
  {
    "id": "d7a65ee0.6afc7",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 984.5581016540527,
    "y": 1106.8555713668466,
    "z": "f5fcb4a8.869698",
    "wires": [
      [
        "c4688568.f7e6a8"
      ]
    ]
  },
  {
    "id": "c03cc053.bc771",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error updating md-sal for connection-attachment-allotted-resource\" />\n",
    "comments": "",
    "x": 1150.5581016540527,
    "y": 1137.2484903335571,
    "z": "f5fcb4a8.869698",
    "wires": []
  },
  {
    "id": "c4688568.f7e6a8",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1126.214069366455,
    "y": 1103.0477405562997,
    "z": "f5fcb4a8.869698",
    "wires": [
      []
    ]
  },
  {
    "id": "8a0df30e.6ab87",
    "type": "comment",
    "name": "Put the parent allotted resource in mdsal",
    "info": "",
    "comments": "",
    "x": 610.4999008178711,
    "y": 1098.0000715255737,
    "z": "f5fcb4a8.869698",
    "wires": []
  },
  {
    "id": "2adeb8b.a94ce48",
    "type": "set",
    "name": "set connection-attachment-ar-identifiers",
    "xml": "<set>\n<parameter name='connection-attachment-ar-identifiers.consuming-service-instance-id' value=\"`$connection-attachment-topology-operation-input.service-information.service-instance-id` \" />\n<parameter name='connection-attachment-ar-identifiers.parent-service-instance-id' value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.parent-service-instance-id` \" />\n<parameter name='connection-attachment-ar-identifiers.allotted-resource-type' value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.allotted-resource-type` \" />\n<parameter name='connection-attachment-ar-identifiers.allotted-resource-id' value=\"`$tmp.ar.allotted-resource-id` \" />\n\n",
    "comments": "",
    "x": 606.8570861816406,
    "y": 1300.5716905593872,
    "z": "f5fcb4a8.869698",
    "wires": []
  },
  {
    "id": "a07927be.544a08",
    "type": "set",
    "name": "set ar-data",
    "xml": "<set>\n<parameter name='connection-attachment-ar.allotted-resource-id' value=\"`$tmp.ar.allotted-resource-id` \" />\n<parameter name='connection-attachment-ar.allotted-resource-status.action' value=\"`$connection-attachment-topology-operation-input.request-information.request-action` \" />\n<parameter name='connection-attachment-ar.allotted-resource-status.rpc-name' value=\"connection-attachment-topology-operation\" />\n<parameter name='connection-attachment-ar.allotted-resource-status.rpc-action' value=\"`$connection-attachment-topology-operation-input.sdnc-request-header.svc-action` \" />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.request-information.' value=\"`$connection-attachment-topology-operation-input.request-information.` \" />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.sdnc-request-header.' value=\"`$connection-attachment-topology-operation-input.sdnc-request-header.` \" />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.service-information.' value=\"`$connection-attachment-topology-operation-input.service-information.` \" />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.allotted-resource-information.' value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.` \" />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.connection-attachment-request-input.' value=\"`$connection-attachment-topology-operation-input.connection-attachment-request-input.` \" />",
    "comments": "",
    "x": 520.7138671875,
    "y": 1268.3810472488403,
    "z": "f5fcb4a8.869698",
    "wires": []
  },
  {
    "id": "c51e932f.b0db6",
    "type": "set",
    "name": "set identifiers in overall structure",
    "xml": "<set>\n<parameter name='connection-attachment-ar.allotted-resource-data.connection-attachment-topology.allotted-resource-identifiers.' \nvalue=\"`$connection-attachment-ar-identifiers.`\" />\n\n\n",
    "comments": "",
    "x": 585.6668853759766,
    "y": 1334.6668758392334,
    "z": "f5fcb4a8.869698",
    "wires": []
  },
  {
    "id": "16ace716.f64f39",
    "type": "execute",
    "name": "execute getTime",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='setTime' >\n    <parameter name=\"outputPath\" value=\"tmp.current-time\" />\n\n",
    "comments": "",
    "outputs": 1,
    "x": 537.9997253417969,
    "y": 1408.0004034042358,
    "z": "f5fcb4a8.869698",
    "wires": [
      []
    ]
  },
  {
    "id": "91c11379.3848",
    "type": "set",
    "name": "set allotted-resource-oper-status",
    "xml": "<set>\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.order-status' value='Created' />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.last-action' value='`$connection-attachment-topology-operation-input.request-information.request-action`' />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.last-rpc-action' value='`$connection-attachment-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.last-svc-request-id' value='`$connection-attachment-topology-operation-input.sdnc-request-header.svc-request-id`' />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.create-timestamp' value='`$tmp.current-time`' />\n",
    "comments": "",
    "x": 588.9867630004883,
    "y": 1463.951636314392,
    "z": "f5fcb4a8.869698",
    "wires": []
  },
  {
    "id": "c018ef66.ea6f",
    "type": "set",
    "name": "set model-data",
    "xml": "<set>\n<parameter name='connection-attachment-ar.allotted-resource-data.connection-attachment-topology.onap-model-information.' value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.onap-model-information.` \" />",
    "comments": "",
    "x": 533.5553817749023,
    "y": 1369.5557613372803,
    "z": "f5fcb4a8.869698",
    "wires": []
  },
  {
    "id": "34c8d9e7.5935d6",
    "type": "comment",
    "name": "Prepare data for allotted-resource addition to MDSAL",
    "info": "This will add to allotted-resource which is present inside service.",
    "comments": "",
    "x": 650.8888702392578,
    "y": 1234.5556077957153,
    "z": "f5fcb4a8.869698",
    "wires": []
  },
  {
    "id": "506bd024.3cd4a",
    "type": "execute",
    "name": "generate parent-ar url - replace allotted-resource-id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.parent-ar-url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.parent-ar-url\"/>\n    <parameter name=\"target\" value=\"{allotted-resource-id}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.ar.allotted-resource-id`\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 646.0000152587891,
    "y": 1062.0000104904175,
    "z": "f5fcb4a8.869698",
    "wires": [
      []
    ]
  },
  {
    "id": "458e8426.a4810c",
    "type": "execute",
    "name": "generate parent-ar url - replace service-instance-id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.parent-provided-resource`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.parent-ar-url\"/>\n    <parameter name=\"target\" value=\"{service-instance-id}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.ar.parent-service-instance-id`\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 641.9999389648438,
    "y": 1019.0001468658447,
    "z": "f5fcb4a8.869698",
    "wires": [
      []
    ]
  },
  {
    "id": "cd63ec4b.ff1cb",
    "type": "comment",
    "name": "Prepare Parent AR URL",
    "info": "Preparation to set provided-allotted-resource in parent service instance",
    "comments": "",
    "x": 560.0003967285156,
    "y": 948.0001001358032,
    "z": "f5fcb4a8.869698",
    "wires": []
  },
  {
    "id": "3342f593.51121a",
    "type": "set",
    "name": "set tmp.ar.parent-service-instance-id",
    "xml": "<set>\n<parameter name='tmp.ar.parent-service-instance-id' value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.parent-service-instance-id` \" />\n\n",
    "comments": "",
    "x": 599.0001907348633,
    "y": 981.5000395774841,
    "z": "f5fcb4a8.869698",
    "wires": []
  },
  {
    "id": "367a31a2.e26f2e",
    "type": "comment",
    "name": "Required for filling template values",
    "info": "This is done because connection-attachment is generic resource and doesn't have specific parameters",
    "comments": "",
    "x": 788.500358581543,
    "y": 1588.4998025894165,
    "z": "f5fcb4a8.869698",
    "wires": []
  },
  {
    "id": "60273371.090a2c",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error updating md-sal for connection-attachment-allotted-resource as cosumed allotted resource already exists.\" />\n",
    "comments": "",
    "x": 2156.2569732666016,
    "y": 819.6458292007446,
    "z": "f5fcb4a8.869698",
    "wires": []
  },
  {
    "id": "458ffc55.d5db04",
    "type": "set",
    "name": "set tmp.found-cidx",
    "xml": "<set>\n<parameter name='tmp.found-cidx' value=\"`false`\" />\n\n\n",
    "comments": "",
    "x": 1282.1461448669434,
    "y": 731.3125722408295,
    "z": "f5fcb4a8.869698",
    "wires": []
  },
  {
    "id": "9861d990.de9418",
    "type": "comment",
    "name": "Add to parent services provided-allotted-resources in mdsal",
    "info": "",
    "comments": "",
    "x": 670.7015075683594,
    "y": 915.9792566299438,
    "z": "f5fcb4a8.869698",
    "wires": []
  },
  {
    "id": "3b543dd4.ce0012",
    "type": "comment",
    "name": "Add to allotted-resources in mdsal",
    "info": "",
    "comments": "",
    "x": 591.4686965942383,
    "y": 1201.968936920166,
    "z": "f5fcb4a8.869698",
    "wires": []
  },
  {
    "id": "43f948c5.8e3c48",
    "type": "block",
    "name": "block: atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1264.500051498413,
    "y": 629.2777605056763,
    "z": "f5fcb4a8.869698",
    "wires": [
      [
        "8dd70ad1.fb4fc8"
      ]
    ]
  },
  {
    "id": "8dd70ad1.fb4fc8",
    "type": "switchNode",
    "name": "switch cr length",
    "xml": "<switch test='`$mdsal-ar.connection-attachment-allotted-resource_length`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1452.3574314117432,
    "y": 629.8968958854675,
    "z": "f5fcb4a8.869698",
    "wires": [
      [
        "fbc1bfeb.141c9"
      ]
    ]
  },
  {
    "id": "fbc1bfeb.141c9",
    "type": "other",
    "name": "outcome 1",
    "xml": "<outcome value='1'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1651.6905536651611,
    "y": 629.8969745635986,
    "z": "f5fcb4a8.869698",
    "wires": [
      [
        "fff5fcf9.b91b7"
      ]
    ]
  },
  {
    "id": "cfbbadf0.d1c3a",
    "type": "execute",
    "name": "execute RestApiCallNode - get-resource connection-attachment-allotted-resource",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.ar-url`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='GET' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-ar\" />\n\n",
    "comments": "",
    "outputs": 1,
    "x": 736.5000534057617,
    "y": 624.000036239624,
    "z": "f5fcb4a8.869698",
    "wires": [
      [
        "cd668aab.887ef8",
        "bae083e9.e29fb"
      ]
    ]
  },
  {
    "id": "bae083e9.e29fb",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1104.5000839233398,
    "y": 594.0000343322754,
    "z": "f5fcb4a8.869698",
    "wires": [
      [
        "3e8fa261.9dd48e"
      ]
    ]
  },
  {
    "id": "3e8fa261.9dd48e",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1256.5000839233398,
    "y": 593.0000343322754,
    "z": "f5fcb4a8.869698",
    "wires": [
      []
    ]
  },
  {
    "id": "e88d2834.1fdcf8",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 533.0556106567383,
    "y": 1543.6666536331177,
    "z": "f5fcb4a8.869698",
    "wires": [
      [
        "89eae9c8.150108",
        "7cc17548.dbfedc"
      ]
    ]
  },
  {
    "id": "89eae9c8.150108",
    "type": "for",
    "name": "for each sotn-get-request-input-param",
    "xml": "<for index='i' start='0' end='`$connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.connection-attachment-request-input.param_length`' >\n",
    "comments": "",
    "outputs": 1,
    "x": 803.0556755065918,
    "y": 1543.6667013168335,
    "z": "f5fcb4a8.869698",
    "wires": [
      [
        "a8e3f2e1.dc676"
      ]
    ]
  },
  {
    "id": "2789cf1d.918af",
    "type": "comment",
    "name": "Take the parameter names by removing prefix",
    "info": "",
    "comments": "",
    "x": 1343.0554580688477,
    "y": 1499.6667346954346,
    "z": "f5fcb4a8.869698",
    "wires": []
  },
  {
    "id": "b944f1f.576e11",
    "type": "execute",
    "name": "execute split parameterName",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.connection-attachment-request-input.param[$i].name`'/>\n<parameter name=\"regex\" value=\"_\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 1301.0901260375977,
    "y": 1534.6458778381348,
    "z": "f5fcb4a8.869698",
    "wires": [
      []
    ]
  },
  {
    "id": "ab8b4370.c5cdb",
    "type": "set",
    "name": "set parameterName",
    "xml": "<set>\n<parameter name=\"`connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.connection-attachment-request-input.param[$i].name`\" value='`$param-prefix[$param-prefix_length -1]`'/>\n",
    "comments": "",
    "x": 1271.534652709961,
    "y": 1567.6458778381348,
    "z": "f5fcb4a8.869698",
    "wires": []
  },
  {
    "id": "426abdbb.ca9194",
    "type": "comment",
    "name": "Remove VNFC prefix",
    "info": "",
    "comments": "",
    "x": 744.0556030273438,
    "y": 1511.1110153198242,
    "z": "f5fcb4a8.869698",
    "wires": []
  },
  {
    "id": "a8e3f2e1.dc676",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1050.0555114746094,
    "y": 1542.1110458374023,
    "z": "f5fcb4a8.869698",
    "wires": [
      [
        "b944f1f.576e11",
        "ab8b4370.c5cdb"
      ]
    ]
  },
  {
    "id": "c224a6bb.b7b288",
    "type": "save",
    "name": "save srcLTP relationship in AAI",
    "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"allotted-resource:relationship-list\" \n\t\tkey=\"customer.global-customer-id = $connection-attachment-topology-operation-input.service-information.global-customer-id AND\n\t\t\tservice-subscription.service-type = $connection-attachment-topology-operation-input.service-information.subscription-service-type AND\n\t\t\tservice-instance.service-instance-id = $connection-attachment-topology-operation-input.allotted-resource-information.parent-service-instance-id AND\n\t\t\tallotted-resource.id = $tmp.ar.allotted-resource-id\" \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"p-interface\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/pnfs/pnf/' + $prop.connection-attachment.access-node-id + '/p-interfaces/p-interface/' + $src-ltpId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"p-interface.interface-name\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$src-ltpId`\" />\n\n\n\n",
    "comments": "",
    "outputs": 1,
    "x": 569.5040016174316,
    "y": 1976.004249572754,
    "z": "f5fcb4a8.869698",
    "wires": [
      []
    ]
  },
  {
    "id": "c765719e.98d15",
    "type": "set",
    "name": "set src-ltpId",
    "xml": "<set>\n<parameter name='src-ltpId' value=\"`'nodeId-' + $prop.connection-attachment.access-node-id + '-ltpId-' + $prop.connection-attachment.access-ltp-id`\" />\n",
    "comments": "",
    "x": 509.5000991821289,
    "y": 1933.0003423690796,
    "z": "f5fcb4a8.869698",
    "wires": []
  }
]