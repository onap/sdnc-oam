[
    {
        "id": "af68a756.55096",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 224,
        "y": 57,
        "z": "caece5cd.2ef448",
        "wires": [
            [
                "9d567ba3.357cb8"
            ]
        ]
    },
    {
        "id": "9d567ba3.357cb8",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 320.2380790710449,
        "y": 117.95239067077637,
        "z": "caece5cd.2ef448",
        "wires": [
            [
                "893e2373.b3f628"
            ]
        ]
    },
    {
        "id": "893e2373.b3f628",
        "type": "method",
        "name": "gw-vfmodule-update",
        "xml": "<method rpc='gw-vfmodule-update' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 204.15488815307617,
        "y": 211.19043064117432,
        "z": "caece5cd.2ef448",
        "wires": [
            [
                "19af8d6e.2c0433"
            ]
        ]
    },
    {
        "id": "19af8d6e.2c0433",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 320.9999809265137,
        "y": 311.0000009536743,
        "z": "caece5cd.2ef448",
        "wires": [
            [
                "5b934b68.d4bc4c",
                "ab05db20.ad2a38",
                "fbfcef0c.b1fa4",
                "c18f5dad.e38a88"
            ]
        ]
    },
    {
        "id": "c903ff15.c8da9",
        "type": "execute",
        "name": "generate vnf service-info url - vnf-d",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.vnf-api-url1`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.vnf-api-url2\"/>\n    <parameter name=\"target\" value=\"{vnf-id}\"/>\n    <parameter name=\"replacement\" value=\"`$brg-topology-operation-input.allotted-resource-data.brg-topology.brg-assignments.gw-vnf-id`\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2080.2500610351562,
        "y": 1481.0002136230469,
        "z": "caece5cd.2ef448",
        "wires": [
            []
        ]
    },
    {
        "id": "87af4cb9.d55488",
        "type": "execute",
        "name": "execute RestApiCallNode - PUT service into service",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.services.vnf.vfmodule.templatefile`\" />\n   <!--\n   <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.vnf-api-url3`' />\n   -->\n   <parameter name='restapiUrl' value='`$tmp.vf-module-object-path`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-vfmodule-vgw\" />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1666.9999389648438,
        "y": 2012.0001831054688,
        "z": "caece5cd.2ef448",
        "wires": [
            [
                "675beb23.d82dd4"
            ]
        ]
    },
    {
        "id": "329df260.64414e",
        "type": "execute",
        "name": "generate vnf service-info url - service-instance-id",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.service.vnf.vfmodule-resource`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.vnf-api-url1\"/>\n    <parameter name=\"target\" value=\"{service-instance-id}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.service-data.service-information.service-instance-id`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2125.7500610351562,
        "y": 1438.2502136230469,
        "z": "caece5cd.2ef448",
        "wires": [
            []
        ]
    },
    {
        "id": "ce8b56ee.f21f68",
        "type": "execute",
        "name": "generate vnf service-info url - vf-module-id",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.vnf-api-url2`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.vnf-api-url3\"/>\n    <parameter name=\"target\" value=\"{vf-module-id}\"/>\n    <parameter name=\"replacement\" value=\"`$brg-topology-operation-input.allotted-resource-data.brg-topology.brg-assignments.gw-vfmodule-id`\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2104.5000610351562,
        "y": 1522.0002136230469,
        "z": "caece5cd.2ef448",
        "wires": [
            []
        ]
    },
    {
        "id": "4e65acf4.19f5e4",
        "type": "set",
        "name": "set tmp.vgw.vg_mux_tunnel.vni",
        "xml": "<set>\n<!--\n<parameter name='tmp.service.vnf.vf-module.vg-mux-tunnel-vni' value='`$input.vni`' />\n-->\n<parameter name='tmp.service.vnf.vf-module.vg-mux-tunnel-vni' value='`$tmp.txconns.tunnelxconn-allotted-resources.tunnelxconn-allotted-resource[0].allotted-resource-data[0].tunnelxconn-topology[0].tunnelxconn-assignments[0].vni`' />\n<parameter name='tmp.service.vnf.vf-module.vg-lan-ip' value='`$tmp.txconns.tunnelxconn-allotted-resources.tunnelxconn-allotted-resource[0].allotted-resource-data[0].tunnelxconn-topology[0].tunnelxconn-assignments[0].vg-ip`' />\n\n\n\n",
        "comments": "",
        "x": 1658.2500610351562,
        "y": 1599.5002136230469,
        "z": "caece5cd.2ef448",
        "wires": []
    },
    {
        "id": "f8325fcd.c51cb",
        "type": "set",
        "name": "set tmp.service.vnf.vf-module-id",
        "xml": "<set>\n<parameter name='tmp.service.vnf.vf-module.vf-module-id' value='9aa4ede4-c639-48c4-9386-74c9ff87f8e3' />\n<parameter name='brg-topology-operation-input.allotted-resource-data.brg-topology.brg-assignments.gw-vfmodule-id' value='9aa4ede4-c639-48c4-9386-74c9ff87f8e3' />",
        "comments": "",
        "x": 2120.75,
        "y": 1279.0834045410156,
        "z": "caece5cd.2ef448",
        "wires": []
    },
    {
        "id": "24455d28.22e502",
        "type": "set",
        "name": "set tmp.service-data.vnf-information.vnf-id",
        "xml": "<set>\n<parameter name='tmp.service-data.vnf-information.vnf-id' value='3a3332d1-12ad-4709-ac81-ba32b304a462' />\n<parameter name='brg-topology-operation-input.allotted-resource-data.brg-topology.brg-assignments.gw-vnf-id' value='3a3332d1-12ad-4709-ac81-ba32b304a462' />\n",
        "comments": "",
        "x": 2087,
        "y": 1239.0834045410156,
        "z": "caece5cd.2ef448",
        "wires": []
    },
    {
        "id": "13344bb7.6a186c",
        "type": "set",
        "name": "set tmp.service-data.service-information.service-instance-id",
        "xml": "<set>\n<parameter name='tmp.service-data.service-information.service-instance-id' value='6e34b9fb-9ec1-4c95-9e12-0326c434c623' />\n",
        "comments": "",
        "x": 2135.7499389648438,
        "y": 1184.083251953125,
        "z": "caece5cd.2ef448",
        "wires": []
    },
    {
        "id": "785a10cb.09807",
        "type": "set",
        "name": "set tmp.service.vnf.vf-module-id",
        "xml": "<set>\n<parameter name='tmp.restapi.service.vnf.vfmodule-resource' value='`$prop.restapi.service.vnf.vfmodule-resource`' />\n",
        "comments": "",
        "x": 1640.75,
        "y": 1317.8333435058594,
        "z": "caece5cd.2ef448",
        "wires": []
    },
    {
        "id": "bc131237.6bd1a8",
        "type": "execute",
        "name": "execute Propertis gen-res-api-dg",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
        "comments": "",
        "outputs": 1,
        "x": 1648.2498779296875,
        "y": 1109.0834045410156,
        "z": "caece5cd.2ef448",
        "wires": [
            []
        ]
    },
    {
        "id": "675beb23.d82dd4",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1948.2499389648438,
        "y": 2063.2501831054688,
        "z": "caece5cd.2ef448",
        "wires": [
            [
                "bc40802e.025be"
            ]
        ]
    },
    {
        "id": "bc40802e.025be",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value='Failed on PUT vf-module parameters to MD0SAL' />\n",
        "comments": "",
        "x": 2138.2499389648438,
        "y": 2072.0001831054688,
        "z": "caece5cd.2ef448",
        "wires": []
    },
    {
        "id": "c18f5dad.e38a88",
        "type": "set",
        "name": "set  consuming service-instance",
        "xml": "<set>\n<!--\n<parameter name='tmp.brg-macaddress' value='fa:16:3e:8f:ea:68' />\n\n\n<parameter name='tmp.consuming-service-instance-id' value='b3cb7040-f7a5-4beb-ad2f-2a893b7d374b' />\nservice-data.service-topology.service-topology-identifier.service-instance-id\n\n-->\n<parameter name='tmp.brg-mac-address-match' value=\"`'VGW2BRG-' + $tmp.brg-macaddress`\"/>\n<parameter name='tmp.consuming-service-instance-id' value='`$service-data.service-topology.service-topology-identifier.service-instance-id`' />\n",
        "comments": "",
        "x": 589.0000610351562,
        "y": 321.08343505859375,
        "z": "caece5cd.2ef448",
        "wires": []
    },
    {
        "id": "dc7c5d03.4d231",
        "type": "get-resource",
        "name": "get-resource vnfs",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.mdsal.ConfigResource' resource='VNF-API' key='preload-vnfs' pfx='tmp.preloadvnfdata' >\n",
        "comments": "",
        "outputs": 1,
        "x": 857.3055419921875,
        "y": 654.7499694824219,
        "z": "caece5cd.2ef448",
        "wires": [
            []
        ]
    },
    {
        "id": "7f596301.fa3134",
        "type": "for",
        "name": "for tmp.vnfs",
        "xml": "<for index='vnfidx' start='0' end='`$tmp.preloadvnfdata.preload-vnfs.vnf-preload-list_length`' >\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 829.1944274902344,
        "y": 741.9723815917969,
        "z": "caece5cd.2ef448",
        "wires": [
            [
                "934215e.7068ce8"
            ]
        ]
    },
    {
        "id": "1f5e6997.ef93e6",
        "type": "switchNode",
        "name": "switch parameter name",
        "xml": "<switch test='`$tmp.preloadvnfdata.preload-vnfs.vnf-preload-list[$vnfidx].vnf-name == $tmp.brg-mac-address-match`'>\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1139.1942749023438,
        "y": 772.361083984375,
        "z": "caece5cd.2ef448",
        "wires": [
            [
                "22bc89a6.b03916"
            ]
        ]
    },
    {
        "id": "22bc89a6.b03916",
        "type": "success",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1297.91650390625,
        "y": 918.5,
        "z": "caece5cd.2ef448",
        "wires": [
            [
                "35814a82.ccef46"
            ]
        ]
    },
    {
        "id": "35814a82.ccef46",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1213,
        "y": 1378.5,
        "z": "caece5cd.2ef448",
        "wires": [
            [
                "620f672a.965bb",
                "bc131237.6bd1a8",
                "785a10cb.09807",
                "a8f185fb.4badd",
                "f0807db6.87249",
                "448baaea.e1bf2c",
                "96f22272.ad947",
                "9b6b5557.79422",
                "4e65acf4.19f5e4",
                "6ae3ff0d.685628"
            ]
        ]
    },
    {
        "id": "d6be364c.75b48",
        "type": "comment",
        "name": "vnfidx ",
        "info": "",
        "comments": "",
        "x": 1459.2499389648438,
        "y": 792.2500305175781,
        "z": "caece5cd.2ef448",
        "wires": []
    },
    {
        "id": "620f672a.965bb",
        "type": "for",
        "name": "for each vnf parameter copy to vf_module_parameter",
        "xml": "<for index='preloadIdx' start='0' end='`$tmp.endLoop1`'>\n<!--\n\n     \"preload-data\": {\n          \"vnf-topology-information\": {\n            \"vnf-parameters\": [\n            \n            -->\n",
        "comments": "",
        "outputs": 1,
        "x": 1715.4999389648438,
        "y": 987.25,
        "z": "caece5cd.2ef448",
        "wires": [
            [
                "92b1dc61.916888"
            ]
        ]
    },
    {
        "id": "313945b7.ebaaea",
        "type": "set",
        "name": "set name/values",
        "xml": "<set>\n<parameter name='tmp.vfmodule.param[$preloadIdx].name'  value='`$tmp.preloadvnfdata.preload-vnfs.vnf-preload-list[$vnfidx].preload-data.vnf-topology-information.vnf-parameters[$preloadIdx].vnf-parameter-name`' />\n<parameter name='tmp.vfmodule.param[$preloadIdx].value' value='`$tmp.preloadvnfdata.preload-vnfs.vnf-preload-list[$vnfidx].preload-data.vnf-topology-information.vnf-parameters[$preloadIdx].vnf-parameter-value`' />",
        "comments": "",
        "x": 2220.6389770507812,
        "y": 1056.9722595214844,
        "z": "caece5cd.2ef448",
        "wires": []
    },
    {
        "id": "5b934b68.d4bc4c",
        "type": "get-resource",
        "name": "get-resource tunnelxcon-allotted-resources",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.mdsal.ConfigResource' resource='GENERIC-RESOURCE-API'    \n         key='tunnelxconn-allotted-resources/' pfx='tmp.txconns' >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t",
        "comments": "",
        "outputs": 1,
        "x": 637.3635559082031,
        "y": 423.8182067871094,
        "z": "caece5cd.2ef448",
        "wires": [
            [
                "48f5c296.020444"
            ]
        ]
    },
    {
        "id": "bdc216ea.d5dec8",
        "type": "for",
        "name": "for tmp.xconns.tunnelxconn-allotted-resoruces.tunnelxonn-alloted-resource[]",
        "xml": "<for index='txidx' start='0' end='`$tmp.txconns.tunnelxconn-allotted-resources.tunnelxconn-allotted-resource_length`' >\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1108.4544982910156,
        "y": 446.9090576171875,
        "z": "caece5cd.2ef448",
        "wires": [
            [
                "ab38eebb.b17f5"
            ]
        ]
    },
    {
        "id": "3649bc65.49682c",
        "type": "switchNode",
        "name": "switch consuming-service-instance-id",
        "xml": "<switch test='`$tmp.test1 == $tmp.consuming-service-instance-id`'>",
        "comments": "",
        "outputs": 1,
        "x": 1494,
        "y": 578.7423706054688,
        "z": "caece5cd.2ef448",
        "wires": [
            [
                "5c5f59a.8640328"
            ]
        ]
    },
    {
        "id": "5c5f59a.8640328",
        "type": "success",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1662.5,
        "y": 649.060546875,
        "z": "caece5cd.2ef448",
        "wires": [
            [
                "c892aaa2.91903"
            ]
        ]
    },
    {
        "id": "7eed385e.3ffca",
        "type": "set",
        "name": "set thisIsVGW",
        "xml": "<set>\n<parameter name='tmp.thisIsVGW' value='true' />\n",
        "comments": "",
        "x": 2009.8183288574219,
        "y": 803.5455017089844,
        "z": "caece5cd.2ef448",
        "wires": []
    },
    {
        "id": "ab05db20.ad2a38",
        "type": "set",
        "name": "set thisIsVGW false",
        "xml": "<set>\n<parameter name='tmp.thisIsVGW' value='false' />\n",
        "comments": "",
        "x": 557.8181762695312,
        "y": 373.81817626953125,
        "z": "caece5cd.2ef448",
        "wires": []
    },
    {
        "id": "fbfcef0c.b1fa4",
        "type": "switchNode",
        "name": "switch thsIsVGW",
        "xml": "<switch test='`$tmp.thisIsVGW`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 369.3636474609375,
        "y": 482.36370849609375,
        "z": "caece5cd.2ef448",
        "wires": [
            [
                "df393b74.7e4eb",
                "8097c350.d9969"
            ]
        ]
    },
    {
        "id": "df393b74.7e4eb",
        "type": "other",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 392.090909090909,
        "y": 564.1818181818181,
        "z": "caece5cd.2ef448",
        "wires": [
            [
                "9fb21359.cdb8e"
            ]
        ]
    },
    {
        "id": "9fb21359.cdb8e",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 573.6747436523438,
        "y": 752.293701171875,
        "z": "caece5cd.2ef448",
        "wires": [
            [
                "dc7c5d03.4d231",
                "7f596301.fa3134"
            ]
        ]
    },
    {
        "id": "934215e.7068ce8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 929.666748046875,
        "y": 807.1112060546875,
        "z": "caece5cd.2ef448",
        "wires": [
            [
                "1f5e6997.ef93e6",
                "49297da1.c68e64"
            ]
        ]
    },
    {
        "id": "ab38eebb.b17f5",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1263,
        "y": 510.4444580078125,
        "z": "caece5cd.2ef448",
        "wires": [
            [
                "3649bc65.49682c",
                "dfd41184.e18d1"
            ]
        ]
    },
    {
        "id": "92b1dc61.916888",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2018.4166259765625,
        "y": 1019.1944885253906,
        "z": "caece5cd.2ef448",
        "wires": [
            [
                "313945b7.ebaaea"
            ]
        ]
    },
    {
        "id": "48f5c296.020444",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 722.6666666666665,
        "y": 474.2222222222222,
        "z": "caece5cd.2ef448",
        "wires": [
            [
                "bdc216ea.d5dec8"
            ]
        ]
    },
    {
        "id": "dfd41184.e18d1",
        "type": "set",
        "name": "set test consuming service id tunnelxconn-allotted-resource-identifiers.consuming-service-instance-id",
        "xml": "<set>\n<parameter name='tmp.test1' value='`$tmp.txconns.tunnelxconn-allotted-resources.tunnelxconn-allotted-resource[$txidx].allotted-resource-data.tunnelxconn-topology.allotted-resource-identifiers.consuming-service-instance-id`' />\n<!--\nthis is null\n<parameter name='tmp.test2' value='`$tmp.txconns.tunnelxconn-allotted-resources.tunnelxconn-allotted-resource-data[$txidx].tunnelxconn-topology[0].allotted-resource-identifiers[0].consuming-service-instance-id`' />\n-->",
        "comments": "",
        "x": 1730.9999694824219,
        "y": 511.99993896484375,
        "z": "caece5cd.2ef448",
        "wires": []
    },
    {
        "id": "49297da1.c68e64",
        "type": "set",
        "name": "set test3",
        "xml": "<set>\n<parameter name='tmp.test3' value='`$tmp.preloadvnfdata.preload-vnfs.vnf-preload-list[$vnfidx].vnf-name`' />\n<parameter name='tmp.test4' value='`$tmp.brg-mac-address-match`'/>\n\n\n",
        "comments": "",
        "x": 1091,
        "y": 698,
        "z": "caece5cd.2ef448",
        "wires": []
    },
    {
        "id": "a8f185fb.4badd",
        "type": "set",
        "name": "set length of for  endLoop1",
        "xml": "<set>\n<parameter name='tmp.endLoop1' value='`$tmp.preloadvnfdata.preload-vnfs.vnf-preload-list[$vnfidx].preload-data.vnf-topology-information.vnf-parameters_length`' />",
        "comments": "",
        "x": 1629.25,
        "y": 913.5,
        "z": "caece5cd.2ef448",
        "wires": []
    },
    {
        "id": "f0807db6.87249",
        "type": "set",
        "name": "set vf-module-object-path",
        "xml": "<set>\n<parameter name='tmp.vf-module-object-path'\n value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $service-data.service-topology.service-topology-identifier.service-instance-id\n + '/service-data/vnfs/vnf/'\n + $service-data.vnfs.vnf[$vnf-index].vnf-id\n + '/vnf-data/vf-modules/vf-module/'\n + $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-id \n + '/'`\"/>\n",
        "comments": "",
        "x": 1565.5,
        "y": 1378.5,
        "z": "caece5cd.2ef448",
        "wires": []
    },
    {
        "id": "448baaea.e1bf2c",
        "type": "set",
        "name": "copy  vf-module-parameters",
        "xml": "<set>\n<!--\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param.'\n\n                 service-data.vnfs.vnf\\[0\\].       vnf-data.vf-modules.vf-module\\[0\\]             .vf-module-data.vf-module-topology.vf-module-parameters.param.\n   value='$tmp.vfmodule.' />\n-->\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.'\n   value='$tmp.vfmodule.' />",
        "comments": "",
        "x": 1603.0000610351562,
        "y": 1784.2499389648438,
        "z": "caece5cd.2ef448",
        "wires": []
    },
    {
        "id": "6ecb315b.8707c",
        "type": "execute",
        "name": "execute print context",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/bdf-gw-vfmodule.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 1539.2500610351562,
        "y": 1839.7499389648438,
        "z": "caece5cd.2ef448",
        "wires": [
            []
        ]
    },
    {
        "id": "96f22272.ad947",
        "type": "set",
        "name": "set tmp.vfmodule.param_length",
        "xml": "<set>\n<parameter name='tmp.vfmodule.param_length' value='`$tmp.endLoop1`' />\n",
        "comments": "",
        "x": 1649.2501831054688,
        "y": 1051,
        "z": "caece5cd.2ef448",
        "wires": []
    },
    {
        "id": "7c2a74f0.e50844",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 1290.5,
        "y": 1598.5,
        "z": "caece5cd.2ef448",
        "wires": []
    },
    {
        "id": "9b6b5557.79422",
        "type": "for",
        "name": "for paramIdx to set VNI",
        "xml": "<for index='paramIdx' start='0' end='`$tmp.vfmodule.param_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1638,
        "y": 1698.5,
        "z": "caece5cd.2ef448",
        "wires": [
            [
                "951469e9.6df528"
            ]
        ]
    },
    {
        "id": "942c74df.ac7a4",
        "type": "switchNode",
        "name": "switch parameter name vg-mux-tunnel-vni",
        "xml": "<switch test='`$tmp.vfmodule.param[$paramIdx].name == $tmp.vg-mux-tunnel-vni-match`'>",
        "comments": "",
        "outputs": 1,
        "x": 2135.5,
        "y": 1767.25,
        "z": "caece5cd.2ef448",
        "wires": [
            [
                "ce254ee4.14cce8"
            ]
        ]
    },
    {
        "id": "ce254ee4.14cce8",
        "type": "success",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2453,
        "y": 1794.75,
        "z": "caece5cd.2ef448",
        "wires": [
            [
                "a8fded5b.9ea318"
            ]
        ]
    },
    {
        "id": "a8fded5b.9ea318",
        "type": "set",
        "name": "set vni in tmp.vfmodule.param",
        "xml": "<set>\n<parameter name='$tmp.vfmodule.param[$paramIdx].value' value='`$tmp.vg-vgmux-tunnel-vni`' />\n\n<!--\n<parameter name='$tmp.vfmodule.param[$paramIdx].value' value='`$tmp.txconns.tunnelxconn-allotted-resources.tunnelxconn-allotted-resource.allotted-resource-data.tunnelxconn-topology.tunnelxconn-assignments.vni`' />\n-->",
        "comments": "",
        "x": 2665.5,
        "y": 1832.25,
        "z": "caece5cd.2ef448",
        "wires": []
    },
    {
        "id": "6ae3ff0d.685628",
        "type": "set",
        "name": "set switch test string",
        "xml": "<set>\n<!--\n<parameter name='tmp.service.vnf.vf-module.vg-mux-tunnel-vni' value='`$input.vni`' />\n-->\n<parameter name='tmp.vg-mux-tunnel-vni-match' value='vg_vgmux_tunnel_vni' />\n<parameter name='tmp.vg-lan-ip-match' value='vgw_private_ip_0' />\n\n\n\n\n",
        "comments": "",
        "x": 1628,
        "y": 1648.5,
        "z": "caece5cd.2ef448",
        "wires": []
    },
    {
        "id": "951469e9.6df528",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1844.25,
        "y": 1693.5,
        "z": "caece5cd.2ef448",
        "wires": [
            [
                "942c74df.ac7a4",
                "32be398d.0c408e"
            ]
        ]
    },
    {
        "id": "83093932.aac0a",
        "type": "set",
        "name": "set to see tmpvfmodule.param[].name",
        "xml": "<set>\n<!--\n<parameter name='tmp.service.vnf.vf-module.vg-mux-tunnel-vni' value='`$input.vni`' />\n-->\n<parameter name='tmp.test.param[$paramIdx].name' value='`$tmp.vfmodule.param[$paramIdx].name`' />\n\n\n\n",
        "comments": "",
        "x": 2123.0000610351562,
        "y": 1686,
        "z": "caece5cd.2ef448",
        "wires": []
    },
    {
        "id": "57c57d0.7e3e484",
        "type": "comment",
        "name": "let md-sal helper save data so no need for the RESTAPICAll Node",
        "info": "",
        "comments": "",
        "x": 1635.4999084472656,
        "y": 1938.5,
        "z": "caece5cd.2ef448",
        "wires": []
    },
    {
        "id": "e927100a.05bb6",
        "type": "comment",
        "name": " using path from calling DG - these nodes for testing",
        "info": "",
        "comments": "",
        "x": 2118,
        "y": 1389.75,
        "z": "caece5cd.2ef448",
        "wires": []
    },
    {
        "id": "4a336320.99c96c",
        "type": "set",
        "name": "set MACADDRESS fa:16:3e:8f:ea:68 ",
        "xml": "<set>\n<parameter name='tmp.brg-macaddress' value='fa:16:3e:8f:ea:68' />\n\n",
        "comments": "",
        "x": 614.9999694824219,
        "y": 222,
        "z": "caece5cd.2ef448",
        "wires": []
    },
    {
        "id": "65145df2.0c1e74",
        "type": "set",
        "name": "set VGW2BRG-MACADDRESs & consuming service-instance",
        "xml": "<set>\n<parameter name='tmp.brg-mac-address-match' value=\"`'VGW2BRG-' + $tmp.brg-macaddress`\"/>\n<parameter name='tmp.consuming-service-instance-id' value='`$service-data.service-topology.service-topology-identifier.service-instance-id`' />\n\n<!--\n<parameter name='tmp.brg-macaddress' value='fa:16:3e:8f:ea:68' />\n<parameter name='tmp.brg-mac-address-match' value=\"`'VGW2BRG-' + $tmp.brg-macaddress`\"/>\n-->\n<!--\n<parameter name='tmp.consuming-service-instance-id' value='b3cb7040-f7a5-4beb-ad2f-2a893b7d374b' />\nservice-data.service-topology.service-topology-identifier.service-instance-id\n\n-->\n",
        "comments": "",
        "x": 2151.999969482422,
        "y": 694.9999694824219,
        "z": "caece5cd.2ef448",
        "wires": []
    },
    {
        "id": "c892aaa2.91903",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1808,
        "y": 679,
        "z": "caece5cd.2ef448",
        "wires": [
            [
                "7eed385e.3ffca",
                "65145df2.0c1e74",
                "7ba745a4.4f6fe4",
                "a34dd562.8a5b38"
            ]
        ]
    },
    {
        "id": "7ba745a4.4f6fe4",
        "type": "set",
        "name": "set MACADDRESS tmp.txconcs...brg-wan-mac-address",
        "xml": "<set>\n<parameter name='tmp.brg-macaddress' \n      value='`$tmp.txconns.tunnelxconn-allotted-resources.tunnelxconn-allotted-resource.allotted-resource-data.allotted-resource-operation-information.tunnelxconn-request-input.brg-wan-mac-address`' />\n\n",
        "comments": "",
        "x": 2126,
        "y": 633,
        "z": "caece5cd.2ef448",
        "wires": []
    },
    {
        "id": "8097c350.d9969",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 332,
        "y": 723,
        "z": "caece5cd.2ef448",
        "wires": [
            [
                "7ff0e8f5.de2938"
            ]
        ]
    },
    {
        "id": "2e04371b.1ffb8",
        "type": "returnFailure",
        "name": "return failure Did not find vGW Preload",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value='Did not find vGW Preload' />\n",
        "comments": "",
        "x": 862,
        "y": 968,
        "z": "caece5cd.2ef448",
        "wires": []
    },
    {
        "id": "22222428.b5a0dc",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 631,
        "y": 969,
        "z": "caece5cd.2ef448",
        "wires": [
            [
                "2e04371b.1ffb8"
            ]
        ]
    },
    {
        "id": "627ff31e.316f14",
        "type": "execute",
        "name": "execute print context",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/bdf-gw-vfmodule.failure.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 855,
        "y": 934,
        "z": "caece5cd.2ef448",
        "wires": [
            []
        ]
    },
    {
        "id": "32be398d.0c408e",
        "type": "switchNode",
        "name": "switch parameter name vg-mux-tunnel-vni",
        "xml": "<switch test='`$tmp.vfmodule.param[$paramIdx].name == $tmp.vg-lan-ip-match`'>",
        "comments": "",
        "outputs": 1,
        "x": 2129,
        "y": 1832,
        "z": "caece5cd.2ef448",
        "wires": [
            [
                "4cfda756.22d698"
            ]
        ]
    },
    {
        "id": "4cfda756.22d698",
        "type": "success",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2446.5,
        "y": 1859.5,
        "z": "caece5cd.2ef448",
        "wires": [
            [
                "dbf201c4.a95d3"
            ]
        ]
    },
    {
        "id": "dbf201c4.a95d3",
        "type": "set",
        "name": "set lan-ip[ in tmp.vfmodule.param",
        "xml": "<set>\n<parameter name='$tmp.vfmodule.param[$paramIdx].value' value='`$tmp.vg-ip`' />\n<!--\n<parameter name='$tmp.vfmodule.param[$paramIdx].value' value='`$tmp.txconns.tunnelxconn-allotted-resources.tunnelxconn-allotted-resource.allotted-resource-data.tunnelxconn-topology.tunnelxconn-assignments.vg-ip`' />\n-->",
        "comments": "",
        "x": 2659,
        "y": 1897,
        "z": "caece5cd.2ef448",
        "wires": []
    },
    {
        "id": "1a257413.e66934",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 1881,
        "y": 1834,
        "z": "caece5cd.2ef448",
        "wires": []
    },
    {
        "id": "a34dd562.8a5b38",
        "type": "set",
        "name": "set VNI and VG-IP",
        "xml": "<set>\n<parameter name='tmp.vg-vgmux-tunnel-vni' \n    value='`$tmp.txconns.tunnelxconn-allotted-resources.tunnelxconn-allotted-resource[$txidx].allotted-resource-data.tunnelxconn-topology.tunnelxconn-assignments.vni`' />\n<parameter name='tmp.vg-ip' \n    value='`$tmp.txconns.tunnelxconn-allotted-resources.tunnelxconn-allotted-resource[$txidx].allotted-resource-data.tunnelxconn-topology.tunnelxconn-assignments.vg-ip`' />\n",
        "comments": "",
        "x": 2017.8334655761719,
        "y": 753.9999694824219,
        "z": "caece5cd.2ef448",
        "wires": []
    },
    {
        "id": "7ff0e8f5.de2938",
        "type": "switchNode",
        "name": "switch thsIsVGW",
        "xml": "<switch test='`$tmp.ignoreNoPreload`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 301,
        "y": 860,
        "z": "caece5cd.2ef448",
        "wires": [
            [
                "2d142987.b11cd6",
                "3a08a783.cb137"
            ]
        ]
    },
    {
        "id": "2d142987.b11cd6",
        "type": "other",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 491,
        "y": 860,
        "z": "caece5cd.2ef448",
        "wires": [
            [
                "c9244e51.4d1fc"
            ]
        ]
    },
    {
        "id": "3a08a783.cb137",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 487,
        "y": 969,
        "z": "caece5cd.2ef448",
        "wires": [
            [
                "22222428.b5a0dc"
            ]
        ]
    },
    {
        "id": "c9244e51.4d1fc",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name='' value='' />\n",
        "comments": "",
        "x": 660,
        "y": 862,
        "z": "caece5cd.2ef448",
        "wires": []
    }
]