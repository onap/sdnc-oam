[{"id":"5a2ce84a.2a5768","type":"dgstart","name":"DGSTART","outputs":1,"x":149,"y":91,"z":"d1447f06.01b7f","wires":[["be8f043.98f0ef8"]]},{"id":"be8f043.98f0ef8","type":"service-logic","name":"GENERIC-RESOURCE-API 1.2.0-SNAPSHOT-111603b2","module":"GENERIC-RESOURCE-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>","outputs":1,"x":245.23807907104492,"y":151.95239067077637,"z":"d1447f06.01b7f","wires":[["94e132ae.047618"]]},{"id":"94e132ae.047618","type":"method","name":"gw-vfmodule-update","xml":"<method rpc='gw-vfmodule-update' mode='sync'>\n","comments":"","outputs":1,"x":129.15488815307617,"y":245.19043064117432,"z":"d1447f06.01b7f","wires":[["2c97cc82.13917c"]]},{"id":"2c97cc82.13917c","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":245.99998092651367,"y":345.0000009536743,"z":"d1447f06.01b7f","wires":[["6fd806f5.1e0cf8","7e47a1b6.ea6ca","ed3653e2.5212a8","d77077f7.503848"]]},{"id":"318d30e7.cc194","type":"execute","name":"generate vnf service-info url - vnf-d","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.vnf-api-url1`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.vnf-api-url2\"/>\n    <parameter name=\"target\" value=\"{vnf-id}\"/>\n    <parameter name=\"replacement\" value=\"`$brg-topology-operation-input.allotted-resource-data.brg-topology.brg-assignments.gw-vnf-id`\"/>\n\n","comments":"","outputs":1,"x":2005.2500610351562,"y":1515.0002136230469,"z":"d1447f06.01b7f","wires":[[]]},{"id":"43971082.730f7","type":"execute","name":"execute RestApiCallNode - PUT service into service","xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.services.vnf.vfmodule.templatefile`\" />\n   <!--\n   <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.vnf-api-url3`' />\n   -->\n   <parameter name='restapiUrl' value='`$tmp.vf-module-object-path`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-vfmodule-vgw\" />\n\n","comments":"","outputs":1,"x":1591.9999389648438,"y":2046.0001831054688,"z":"d1447f06.01b7f","wires":[["cac6eda.d1dd69"]]},{"id":"27f265c4.04de6a","type":"execute","name":"generate vnf service-info url - service-instance-id","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.service.vnf.vfmodule-resource`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.vnf-api-url1\"/>\n    <parameter name=\"target\" value=\"{service-instance-id}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.service-data.service-information.service-instance-id`\"/>\n","comments":"","outputs":1,"x":2050.7500610351562,"y":1472.2502136230469,"z":"d1447f06.01b7f","wires":[[]]},{"id":"26b6b15e.7cf40e","type":"execute","name":"generate vnf service-info url - vf-module-id","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.vnf-api-url2`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.vnf-api-url3\"/>\n    <parameter name=\"target\" value=\"{vf-module-id}\"/>\n    <parameter name=\"replacement\" value=\"`$brg-topology-operation-input.allotted-resource-data.brg-topology.brg-assignments.gw-vfmodule-id`\"/>\n\n","comments":"","outputs":1,"x":2029.5000610351562,"y":1556.0002136230469,"z":"d1447f06.01b7f","wires":[[]]},{"id":"dbd1314c.923b4","type":"set","name":"set tmp.vgw.vg_mux_tunnel.vni","xml":"<set>\n<!--\n<parameter name='tmp.service.vnf.vf-module.vg-mux-tunnel-vni' value='`$input.vni`' />\n-->\n<parameter name='tmp.service.vnf.vf-module.vg-mux-tunnel-vni' value='`$tmp.txconns.tunnelxconn-allotted-resources.tunnelxconn-allotted-resource[0].allotted-resource-data[0].tunnelxconn-topology[0].tunnelxconn-assignments[0].vni`' />\n\n\n\n","comments":"","x":1583.2500610351562,"y":1633.5002136230469,"z":"d1447f06.01b7f","wires":[]},{"id":"c79e8967.5f551","type":"set","name":"set tmp.service.vnf.vf-module-id","xml":"<set>\n<parameter name='tmp.service.vnf.vf-module.vf-module-id' value='9aa4ede4-c639-48c4-9386-74c9ff87f8e3' />\n<parameter name='brg-topology-operation-input.allotted-resource-data.brg-topology.brg-assignments.gw-vfmodule-id' value='9aa4ede4-c639-48c4-9386-74c9ff87f8e3' />","comments":"","x":2045.75,"y":1313.0834045410156,"z":"d1447f06.01b7f","wires":[]},{"id":"1743f961.36c79f","type":"set","name":"set tmp.service-data.vnf-information.vnf-id","xml":"<set>\n<parameter name='tmp.service-data.vnf-information.vnf-id' value='3a3332d1-12ad-4709-ac81-ba32b304a462' />\n<parameter name='brg-topology-operation-input.allotted-resource-data.brg-topology.brg-assignments.gw-vnf-id' value='3a3332d1-12ad-4709-ac81-ba32b304a462' />\n","comments":"","x":2012,"y":1273.0834045410156,"z":"d1447f06.01b7f","wires":[]},{"id":"e053f1e9.fe00e","type":"set","name":"set tmp.service-data.service-information.service-instance-id","xml":"<set>\n<parameter name='tmp.service-data.service-information.service-instance-id' value='6e34b9fb-9ec1-4c95-9e12-0326c434c623' />\n","comments":"","x":2060.7499389648438,"y":1218.083251953125,"z":"d1447f06.01b7f","wires":[]},{"id":"db82c7d3.0603c8","type":"set","name":"set tmp.service.vnf.vf-module-id","xml":"<set>\n<parameter name='tmp.restapi.service.vnf.vfmodule-resource' value='`$prop.restapi.service.vnf.vfmodule-resource`' />\n","comments":"","x":1565.75,"y":1351.8333435058594,"z":"d1447f06.01b7f","wires":[]},{"id":"eff549e7.c3aa1","type":"execute","name":"execute Propertis gen-res-api-dg","xml":"<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n","comments":"","outputs":1,"x":1573.2498779296875,"y":1143.0834045410156,"z":"d1447f06.01b7f","wires":[[]]},{"id":"cac6eda.d1dd69","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1873.2499389648438,"y":2097.2501831054688,"z":"d1447f06.01b7f","wires":[["118e296d.8d4b27"]]},{"id":"118e296d.8d4b27","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value='Failed on PUT vf-module parameters to MD0SAL' />\n","comments":"","x":2063.2499389648438,"y":2106.0001831054688,"z":"d1447f06.01b7f","wires":[]},{"id":"d77077f7.503848","type":"set","name":"set  consuming service-instance","xml":"<set>\n<!--\n<parameter name='tmp.brg-macaddress' value='fa:16:3e:8f:ea:68' />\n<parameter name='tmp.brg-mac-address-match' value=\"`'VGW2BRG-' + $tmp.brg-macaddress`\"/>\n\n<parameter name='tmp.consuming-service-instance-id' value='b3cb7040-f7a5-4beb-ad2f-2a893b7d374b' />\nservice-data.service-topology.service-topology-identifier.service-instance-id\n\n-->\n<parameter name='tmp.consuming-service-instance-id' value='`$service-data.service-topology.service-topology-identifier.service-instance-id`' />\n","comments":"","x":620.0000610351562,"y":357.08343505859375,"z":"d1447f06.01b7f","wires":[]},{"id":"523ea527.76699c","type":"get-resource","name":"get-resource vnfs","xml":"<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.mdsal.ConfigResource' resource='VNF-API' key='preload-vnfs' pfx='tmp.preloadvnfdata' >\n","comments":"","outputs":1,"x":782.3055419921875,"y":688.7499694824219,"z":"d1447f06.01b7f","wires":[[]]},{"id":"76a8e6e4.4fc528","type":"for","name":"for tmp.vnfs","xml":"<for index='vnfidx' start='0' end='`$tmp.preloadvnfdata.preload-vnfs.vnf-preload-list_length`' >\n\n\n","comments":"","outputs":1,"x":776.1944580078125,"y":790.9723510742188,"z":"d1447f06.01b7f","wires":[["b2eff683.95cbe"]]},{"id":"91e15171.591e1","type":"switchNode","name":"switch parameter name","xml":"<switch test='`$tmp.preloadvnfdata.preload-vnfs.vnf-preload-list[$vnfidx].vnf-name == $tmp.brg-mac-address-match`'>\n\n\n","comments":"","outputs":1,"x":1064.1942749023438,"y":806.361083984375,"z":"d1447f06.01b7f","wires":[["889d8c80.f385f8"]]},{"id":"889d8c80.f385f8","type":"success","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1222.91650390625,"y":952.5,"z":"d1447f06.01b7f","wires":[["2cc787b4.515c08"]]},{"id":"2cc787b4.515c08","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1138,"y":1412.5,"z":"d1447f06.01b7f","wires":[["d21db1e1.8f1b08","eff549e7.c3aa1","db82c7d3.0603c8","1b68e1a3.6004ae","2086475b.a51918","35c66ad8.ae3386","2e18627.f93a01e","61a05b5e.1b139c","79598fea.259c78","dbd1314c.923b4","5426cffc.d7aa3"]]},{"id":"e64a5ef3.99b52","type":"comment","name":"vnfidx ","info":"","comments":"","x":1384.2499389648438,"y":826.2500305175781,"z":"d1447f06.01b7f","wires":[]},{"id":"d21db1e1.8f1b08","type":"for","name":"for each vnf parameter copy to vf_module_parameter","xml":"<for index='preloadIdx' start='0' end='`$tmp.endLoop1`'>\n<!--\n\n     \"preload-data\": {\n          \"vnf-topology-information\": {\n            \"vnf-parameters\": [\n            \n            -->\n","comments":"","outputs":1,"x":1640.4999389648438,"y":1021.25,"z":"d1447f06.01b7f","wires":[["2c47b660.a0b01a"]]},{"id":"51e53b5d.e9a984","type":"set","name":"set name/values","xml":"<set>\n<parameter name='tmp.vfmodule.param[$preloadIdx].name'  value='`$tmp.preloadvnfdata.preload-vnfs.vnf-preload-list[$vnfidx].preload-data.vnf-topology-information.vnf-parameters[$preloadIdx].vnf-parameter-name`' />\n<parameter name='tmp.vfmodule.param[$preloadIdx].value' value='`$tmp.preloadvnfdata.preload-vnfs.vnf-preload-list[$vnfidx].preload-data.vnf-topology-information.vnf-parameters[$preloadIdx].vnf-parameter-value`' />","comments":"","x":2145.6389770507812,"y":1090.9722595214844,"z":"d1447f06.01b7f","wires":[]},{"id":"6fd806f5.1e0cf8","type":"get-resource","name":"get-resource tunnelxcon-allotted-resources","xml":"<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.mdsal.ConfigResource' resource='GENERIC-RESOURCE-API'    \n         key='tunnelxconn-allotted-resources/' pfx='tmp.txconns' >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t","comments":"","outputs":1,"x":562.3635559082031,"y":457.8182067871094,"z":"d1447f06.01b7f","wires":[["a14f4f30.7bf86"]]},{"id":"4ed3399b.5f757","type":"for","name":"for tmp.xconns.tunnelxconn-allotted-resoruces.tunnelxonn-alloted-resource[]","xml":"<for index='txidx' start='0' end='`$tmp.txconns.tunnelxconn-allotted-resources.tunnelxconn-allotted-resource_length`' >\n\n\n","comments":"","outputs":1,"x":1033.4544982910156,"y":480.9090576171875,"z":"d1447f06.01b7f","wires":[["1f8ab929.f4fdff"]]},{"id":"63993bff.c5d494","type":"switchNode","name":"switch parameter name","xml":"<switch test='`$tmp.test1 == $tmp.consuming-service-instance-id`'>","comments":"","outputs":1,"x":1419,"y":612.7423706054688,"z":"d1447f06.01b7f","wires":[["c5f860b7.8ce078"]]},{"id":"c5f860b7.8ce078","type":"success","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1587.5,"y":683.060546875,"z":"d1447f06.01b7f","wires":[["d9ee0f7e.01bf88"]]},{"id":"60344461.6714d4","type":"set","name":"set thisIsVGW","xml":"<set>\n<parameter name='tmp.thisIsVGW' value='true' />\n","comments":"","x":1934.8182373046875,"y":797.5454711914062,"z":"d1447f06.01b7f","wires":[]},{"id":"7e47a1b6.ea6ca","type":"set","name":"set thisIsVGW false","xml":"<set>\n<parameter name='tmp.thisIsVGW' value='false' />\n","comments":"","x":482.81817626953125,"y":407.81817626953125,"z":"d1447f06.01b7f","wires":[]},{"id":"ed3653e2.5212a8","type":"switchNode","name":"switch thsIsVGW","xml":"<switch test='`$tmp.thisIsVGW`'>\n","comments":"","outputs":1,"x":294.3636474609375,"y":516.3637084960938,"z":"d1447f06.01b7f","wires":[["88630163.1f719","6d08e5de.b49f9c"]]},{"id":"88630163.1f719","type":"other","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":317.090909090909,"y":598.1818181818181,"z":"d1447f06.01b7f","wires":[["8910cdf6.2f0ab"]]},{"id":"8910cdf6.2f0ab","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":498.67474365234375,"y":786.293701171875,"z":"d1447f06.01b7f","wires":[["523ea527.76699c","76a8e6e4.4fc528"]]},{"id":"b2eff683.95cbe","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":854.666748046875,"y":841.1112060546875,"z":"d1447f06.01b7f","wires":[["91e15171.591e1","7ac6eb03.0d1e8c"]]},{"id":"1f8ab929.f4fdff","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1188,"y":544.4444580078125,"z":"d1447f06.01b7f","wires":[["63993bff.c5d494","43685628.f5f5d"]]},{"id":"2c47b660.a0b01a","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1943.4166259765625,"y":1053.1944885253906,"z":"d1447f06.01b7f","wires":[["51e53b5d.e9a984"]]},{"id":"a14f4f30.7bf86","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":647.6666666666665,"y":508.22222222222223,"z":"d1447f06.01b7f","wires":[["4ed3399b.5f757"]]},{"id":"43685628.f5f5d","type":"set","name":"set txconns.tunnelxconn-allotted-resources.tunnelxconn-alloted-resource[$txidx].allotted-resource-data.tunnelxconn-topology.allotted-resource-identifiers.consuming-service-instance-id","xml":"<set>\n<parameter name='tmp.test1' value='`$tmp.txconns.tunnelxconn-allotted-resources.tunnelxconn-allotted-resource[$txidx].allotted-resource-data.tunnelxconn-topology.allotted-resource-identifiers.consuming-service-instance-id`' />\n<parameter name='tmp.test2' value='`$tmp.txconns.tunnelxconn-allotted-resources.tunnelxconn-allotted-resource-data[$txidx].tunnelxconn-topology[0].allotted-resource-identifiers[0].consuming-service-instance-id`' />","comments":"","x":1290,"y":183,"z":"d1447f06.01b7f","wires":[]},{"id":"7ac6eb03.0d1e8c","type":"set","name":"set test3","xml":"<set>\n<parameter name='tmp.test3' value='`$tmp.preloadvnfdata.preload-vnfs.vnf-preload-list[$vnfidx].vnf-name`' />\n<parameter name='tmp.test4' value='`$tmp.brg-mac-address-match`'/>\n\n\n","comments":"","x":1016,"y":732,"z":"d1447f06.01b7f","wires":[]},{"id":"1b68e1a3.6004ae","type":"set","name":"set length of for  endLoop1","xml":"<set>\n<parameter name='tmp.endLoop1' value='`$tmp.preloadvnfdata.preload-vnfs.vnf-preload-list[$vnfidx].preload-data.vnf-topology-information.vnf-parameters_length`' />","comments":"","x":1554.25,"y":947.5,"z":"d1447f06.01b7f","wires":[]},{"id":"2086475b.a51918","type":"set","name":"set vf-module-object-path","xml":"<set>\n<parameter name='tmp.vf-module-object-path'\n value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $service-data.service-topology.service-topology-identifier.service-instance-id\n + '/service-data/vnfs/vnf/'\n + $service-data.vnfs.vnf[$vnf-index].vnf-id\n + '/vnf-data/vf-modules/vf-module/'\n + $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-id \n + '/'`\"/>\n","comments":"","x":1490.5,"y":1412.5,"z":"d1447f06.01b7f","wires":[]},{"id":"35c66ad8.ae3386","type":"set","name":"copy  vf-module-parameters","xml":"<set>\n<!--\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param.'\n\n                 service-data.vnfs.vnf\\[0\\].       vnf-data.vf-modules.vf-module\\[0\\]             .vf-module-data.vf-module-topology.vf-module-parameters.param.\n   value='$tmp.vfmodule.' />\n-->\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.'\n   value='$tmp.vfmodule.' />","comments":"","x":1528.0000610351562,"y":1818.2499389648438,"z":"d1447f06.01b7f","wires":[]},{"id":"2e18627.f93a01e","type":"execute","name":"execute print context","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/bdf-gw-vfmodule.log' />\n","comments":"","outputs":1,"x":1464.2500610351562,"y":1873.7499389648438,"z":"d1447f06.01b7f","wires":[[]]},{"id":"61a05b5e.1b139c","type":"set","name":"set tmp.vfmodule.param_length","xml":"<set>\n<parameter name='tmp.vfmodule.param_length' value='`$tmp.endLoop1`' />\n","comments":"","x":1574.2501831054688,"y":1085,"z":"d1447f06.01b7f","wires":[]},{"id":"8dcc0569.10249","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n","comments":"","x":1215.5,"y":1632.5,"z":"d1447f06.01b7f","wires":[]},{"id":"79598fea.259c78","type":"for","name":"for paramIdx to set VNI","xml":"<for index='paramIdx' start='0' end='`$tmp.vfmodule.param_length`' >\n","comments":"","outputs":1,"x":1563,"y":1732.5,"z":"d1447f06.01b7f","wires":[["907e0702.827b98"]]},{"id":"27ea0bf1.7371bc","type":"switchNode","name":"switch parameter name vg-mux-tunnel-vni","xml":"<switch test='`$tmp.vfmodule.param[$paramIdx].name == $tmp.vg-mux-tunnel-vni-match`'>","comments":"","outputs":1,"x":2060.5,"y":1801.25,"z":"d1447f06.01b7f","wires":[["cd5c9ec4.ad0af8"]]},{"id":"cd5c9ec4.ad0af8","type":"success","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2378,"y":1828.75,"z":"d1447f06.01b7f","wires":[["bb91234f.950048"]]},{"id":"bb91234f.950048","type":"set","name":"set vni in tmp.vfmodule.param","xml":"<set>\n<parameter name='$tmp.vfmodule.param[$paramIdx].value' value='`$tmp.txconns.tunnelxconn-allotted-resources.tunnelxconn-allotted-resource.allotted-resource-data.tunnelxconn-topology.tunnelxconn-assignments.vni`' />\n","comments":"","x":2590.5,"y":1866.25,"z":"d1447f06.01b7f","wires":[]},{"id":"5426cffc.d7aa3","type":"set","name":"set switch test string","xml":"<set>\n<!--\n<parameter name='tmp.service.vnf.vf-module.vg-mux-tunnel-vni' value='`$input.vni`' />\n-->\n<parameter name='tmp.vg-mux-tunnel-vni-match' value='vg_vgmux_tunnel_vni' />\n\n\n\n","comments":"","x":1553,"y":1682.5,"z":"d1447f06.01b7f","wires":[]},{"id":"907e0702.827b98","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1769.25,"y":1727.5,"z":"d1447f06.01b7f","wires":[["27ea0bf1.7371bc"]]},{"id":"39894545.21de32","type":"set","name":"set to see tmpvfmodule.param[].name","xml":"<set>\n<!--\n<parameter name='tmp.service.vnf.vf-module.vg-mux-tunnel-vni' value='`$input.vni`' />\n-->\n<parameter name='tmp.test.param[$paramIdx].name' value='`$tmp.vfmodule.param[$paramIdx].name`' />\n\n\n\n","comments":"","x":2048.0000610351562,"y":1720,"z":"d1447f06.01b7f","wires":[]},{"id":"307ee0b5.e38d7","type":"comment","name":"let md-sal helper save data so no need for the RESTAPICAll Node","info":"","comments":"","x":1560.4999084472656,"y":1972.5,"z":"d1447f06.01b7f","wires":[]},{"id":"d2760d91.22b388","type":"comment","name":" using path from calling DG - these nodes for testing","info":"","comments":"","x":2043,"y":1423.75,"z":"d1447f06.01b7f","wires":[]},{"id":"e46e612b.087e1","type":"set","name":"set MACADDRESS fa:16:3e:8f:ea:68 ","xml":"<set>\n<parameter name='tmp.brg-macaddress' value='fa:16:3e:8f:ea:68' />\n\n","comments":"","x":537,"y":309,"z":"d1447f06.01b7f","wires":[]},{"id":"5bb21711.d63b1","type":"set","name":"set VGW2BRG-MACADDRESs & consuming service-instance","xml":"<set>\n<parameter name='tmp.brg-macaddress' value='fa:16:3e:8f:ea:68' />\n<parameter name='tmp.brg-mac-address-match' value=\"`'VGW2BRG-' + $tmp.brg-macaddress`\"/>\n<!--\n<parameter name='tmp.consuming-service-instance-id' value='b3cb7040-f7a5-4beb-ad2f-2a893b7d374b' />\nservice-data.service-topology.service-topology-identifier.service-instance-id\n\n-->\n<parameter name='tmp.consuming-service-instance-id' value='`$service-data.service-topology.service-topology-identifier.service-instance-id`' />\n","comments":"","x":2077,"y":730,"z":"d1447f06.01b7f","wires":[]},{"id":"d9ee0f7e.01bf88","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1733,"y":713,"z":"d1447f06.01b7f","wires":[["60344461.6714d4","5bb21711.d63b1","f7dd993b.b754a"]]},{"id":"f7dd993b.b754a","type":"set","name":"set MACADDRESS tmp.txconcs...brg-wan-mac-address","xml":"<set>\n<parameter name='tmp.brg-macaddress' \n      value='`$tmp.txconns.tunnelxconn-allotted-resources.tunnelxconn-allotted-resource.allotted-resource-data.allotted-resource-operation-information.tunnelxconn-request-input.brg-wan-mac-address`' />\n\n","comments":"","x":2051,"y":667,"z":"d1447f06.01b7f","wires":[]},{"id":"6d08e5de.b49f9c","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":257,"y":757,"z":"d1447f06.01b7f","wires":[["8fa522a5.35575"]]},{"id":"d71a16e.28b1f68","type":"returnFailure","name":"return failure Did not find vGW Preload","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value='Did not find vGW Preload' />\n","comments":"","x":515,"y":923,"z":"d1447f06.01b7f","wires":[]},{"id":"8fa522a5.35575","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":269,"y":835,"z":"d1447f06.01b7f","wires":[["d71a16e.28b1f68","abacc0f3.a3d4c8"]]},{"id":"abacc0f3.a3d4c8","type":"execute","name":"execute print context","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/bdf-gw-vfmodule.failure.log' />\n","comments":"","outputs":1,"x":465,"y":872,"z":"d1447f06.01b7f","wires":[[]]}]
