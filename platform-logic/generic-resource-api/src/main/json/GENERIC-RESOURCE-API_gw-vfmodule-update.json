[
    {
        "id": "74596d33.3494f4",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 164,
        "y": 90,
        "z": "e7a1a55a.a83ed8",
        "wires": [
            [
                "f61dde6d.1dd72"
            ]
        ]
    },
    {
        "id": "f61dde6d.1dd72",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 260.2380790710449,
        "y": 150.95239067077637,
        "z": "e7a1a55a.a83ed8",
        "wires": [
            [
                "da1f0c79.2a5128"
            ]
        ]
    },
    {
        "id": "da1f0c79.2a5128",
        "type": "method",
        "name": "gw-vfmodule-update",
        "xml": "<method rpc='gw-vfmodule-update' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 144.15488815307617,
        "y": 244.19043064117432,
        "z": "e7a1a55a.a83ed8",
        "wires": [
            [
                "8104f103.eab9a"
            ]
        ]
    },
    {
        "id": "8104f103.eab9a",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 260.9999809265137,
        "y": 344.0000009536743,
        "z": "e7a1a55a.a83ed8",
        "wires": [
            [
                "ca8e753.0b80388",
                "83699406.56e9b",
                "eb810e05.52662",
                "be4e9078.b54e18"
            ]
        ]
    },
    {
        "id": "fccdb11d.9716f8",
        "type": "execute",
        "name": "generate vnf service-info url - vnf-d",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.vnf-api-url1`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.vnf-api-url2\"/>\n    <parameter name=\"target\" value=\"{vnf-id}\"/>\n    <parameter name=\"replacement\" value=\"`$brg-topology-operation-input.allotted-resource-data.brg-topology.brg-assignments.gw-vnf-id`\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2020.2500610351562,
        "y": 1514.0002136230469,
        "z": "e7a1a55a.a83ed8",
        "wires": [
            []
        ]
    },
    {
        "id": "12a0cb.d36c9f35",
        "type": "execute",
        "name": "execute RestApiCallNode - PUT service into service",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.services.vnf.vfmodule.templatefile`\" />\n   <!--\n   <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.vnf-api-url3`' />\n   -->\n   <parameter name='restapiUrl' value='`$tmp.vf-module-object-path`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-vfmodule-vgw\" />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1606.9999389648438,
        "y": 2045.0001831054688,
        "z": "e7a1a55a.a83ed8",
        "wires": [
            [
                "23137253.3de5be"
            ]
        ]
    },
    {
        "id": "762da4fd.ddf7c4",
        "type": "execute",
        "name": "generate vnf service-info url - service-instance-id",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.service.vnf.vfmodule-resource`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.vnf-api-url1\"/>\n    <parameter name=\"target\" value=\"{service-instance-id}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.service-data.service-information.service-instance-id`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2065.7500610351562,
        "y": 1471.2502136230469,
        "z": "e7a1a55a.a83ed8",
        "wires": [
            []
        ]
    },
    {
        "id": "1289ef67.074e71",
        "type": "execute",
        "name": "generate vnf service-info url - vf-module-id",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.vnf-api-url2`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.vnf-api-url3\"/>\n    <parameter name=\"target\" value=\"{vf-module-id}\"/>\n    <parameter name=\"replacement\" value=\"`$brg-topology-operation-input.allotted-resource-data.brg-topology.brg-assignments.gw-vfmodule-id`\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2044.5000610351562,
        "y": 1555.0002136230469,
        "z": "e7a1a55a.a83ed8",
        "wires": [
            []
        ]
    },
    {
        "id": "879da1f.03718e",
        "type": "set",
        "name": "set tmp.vgw.vg_mux_tunnel.vni",
        "xml": "<set>\n<!--\n<parameter name='tmp.service.vnf.vf-module.vg-mux-tunnel-vni' value='`$input.vni`' />\n-->\n<parameter name='tmp.service.vnf.vf-module.vg-mux-tunnel-vni' value='`$tmp.txconns.tunnelxconn-allotted-resources.tunnelxconn-allotted-resource[0].allotted-resource-data[0].tunnelxconn-topology[0].tunnelxconn-assignments[0].vni`' />\n<parameter name='tmp.service.vnf.vf-module.vg-lan-ip' value='`$tmp.txconns.tunnelxconn-allotted-resources.tunnelxconn-allotted-resource[0].allotted-resource-data[0].tunnelxconn-topology[0].tunnelxconn-assignments[0].vg-ip`' />\n\n\n\n",
        "comments": "",
        "x": 1598.2500610351562,
        "y": 1632.5002136230469,
        "z": "e7a1a55a.a83ed8",
        "wires": []
    },
    {
        "id": "72cc5439.e2100c",
        "type": "set",
        "name": "set tmp.service.vnf.vf-module-id",
        "xml": "<set>\n<parameter name='tmp.service.vnf.vf-module.vf-module-id' value='9aa4ede4-c639-48c4-9386-74c9ff87f8e3' />\n<parameter name='brg-topology-operation-input.allotted-resource-data.brg-topology.brg-assignments.gw-vfmodule-id' value='9aa4ede4-c639-48c4-9386-74c9ff87f8e3' />",
        "comments": "",
        "x": 2060.75,
        "y": 1312.0834045410156,
        "z": "e7a1a55a.a83ed8",
        "wires": []
    },
    {
        "id": "7ff0e3de.eda6ec",
        "type": "set",
        "name": "set tmp.service-data.vnf-information.vnf-id",
        "xml": "<set>\n<parameter name='tmp.service-data.vnf-information.vnf-id' value='3a3332d1-12ad-4709-ac81-ba32b304a462' />\n<parameter name='brg-topology-operation-input.allotted-resource-data.brg-topology.brg-assignments.gw-vnf-id' value='3a3332d1-12ad-4709-ac81-ba32b304a462' />\n",
        "comments": "",
        "x": 2027,
        "y": 1272.0834045410156,
        "z": "e7a1a55a.a83ed8",
        "wires": []
    },
    {
        "id": "dbbdf588.8850c8",
        "type": "set",
        "name": "set tmp.service-data.service-information.service-instance-id",
        "xml": "<set>\n<parameter name='tmp.service-data.service-information.service-instance-id' value='6e34b9fb-9ec1-4c95-9e12-0326c434c623' />\n",
        "comments": "",
        "x": 2075.7499389648438,
        "y": 1217.083251953125,
        "z": "e7a1a55a.a83ed8",
        "wires": []
    },
    {
        "id": "46550ce6.d7bc7c",
        "type": "set",
        "name": "set tmp.service.vnf.vf-module-id",
        "xml": "<set>\n<parameter name='tmp.restapi.service.vnf.vfmodule-resource' value='`$prop.restapi.service.vnf.vfmodule-resource`' />\n",
        "comments": "",
        "x": 1580.75,
        "y": 1350.8333435058594,
        "z": "e7a1a55a.a83ed8",
        "wires": []
    },
    {
        "id": "3c99c60b.1134d2",
        "type": "execute",
        "name": "execute Propertis gen-res-api-dg",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
        "comments": "",
        "outputs": 1,
        "x": 1588.2498779296875,
        "y": 1142.0834045410156,
        "z": "e7a1a55a.a83ed8",
        "wires": [
            []
        ]
    },
    {
        "id": "23137253.3de5be",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1888.2499389648438,
        "y": 2096.2501831054688,
        "z": "e7a1a55a.a83ed8",
        "wires": [
            [
                "ebd456a6.805128"
            ]
        ]
    },
    {
        "id": "ebd456a6.805128",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value='Failed on PUT vf-module parameters to MD0SAL' />\n",
        "comments": "",
        "x": 2078.2499389648438,
        "y": 2105.0001831054688,
        "z": "e7a1a55a.a83ed8",
        "wires": []
    },
    {
        "id": "be4e9078.b54e18",
        "type": "set",
        "name": "set  consuming service-instance",
        "xml": "<set>\n<!--\n<parameter name='tmp.brg-macaddress' value='fa:16:3e:8f:ea:68' />\n\n\n<parameter name='tmp.consuming-service-instance-id' value='b3cb7040-f7a5-4beb-ad2f-2a893b7d374b' />\nservice-data.service-topology.service-topology-identifier.service-instance-id\n\n-->\n<parameter name='tmp.brg-mac-address-match' value=\"`'VGW2BRG-' + $tmp.brg-macaddress`\"/>\n<parameter name='tmp.consuming-service-instance-id' value='`$service-data.service-topology.service-topology-identifier.service-instance-id`' />\n",
        "comments": "",
        "x": 529.0000610351562,
        "y": 354.08343505859375,
        "z": "e7a1a55a.a83ed8",
        "wires": []
    },
    {
        "id": "ad03697c.d0086",
        "type": "get-resource",
        "name": "get-resource vnfs",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.mdsal.ConfigResource' resource='VNF-API' key='preload-vnfs' pfx='tmp.preloadvnfdata' >\n",
        "comments": "",
        "outputs": 1,
        "x": 797.3055419921875,
        "y": 687.7499694824219,
        "z": "e7a1a55a.a83ed8",
        "wires": [
            []
        ]
    },
    {
        "id": "e0ff3ee2.272ee8",
        "type": "for",
        "name": "for tmp.vnfs",
        "xml": "<for index='vnfidx' start='0' end='`$tmp.preloadvnfdata.preload-vnfs.vnf-preload-list_length`' >\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 769.1944274902344,
        "y": 774.9723815917969,
        "z": "e7a1a55a.a83ed8",
        "wires": [
            [
                "e80b5bb9.574438"
            ]
        ]
    },
    {
        "id": "f69e3efe.c41dd8",
        "type": "switchNode",
        "name": "switch parameter name",
        "xml": "<switch test='`$tmp.preloadvnfdata.preload-vnfs.vnf-preload-list[$vnfidx].vnf-name == $tmp.brg-mac-address-match`'>\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1079.1942749023438,
        "y": 805.361083984375,
        "z": "e7a1a55a.a83ed8",
        "wires": [
            [
                "13b5e753.aa5c71"
            ]
        ]
    },
    {
        "id": "13b5e753.aa5c71",
        "type": "success",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1237.91650390625,
        "y": 951.5,
        "z": "e7a1a55a.a83ed8",
        "wires": [
            [
                "4d42013e.d00468"
            ]
        ]
    },
    {
        "id": "4d42013e.d00468",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1153,
        "y": 1411.5,
        "z": "e7a1a55a.a83ed8",
        "wires": [
            [
                "9210b7d9.b30e4",
                "3c99c60b.1134d2",
                "46550ce6.d7bc7c",
                "6ab04ca7.9f500c",
                "cfebe45d.fed14",
                "bd10c9f9.48a0c8",
                "559dd115.a25ed8",
                "d521fdca.bd03a8",
                "879da1f.03718e",
                "ba931e26.d62ba"
            ]
        ]
    },
    {
        "id": "922dc58f.86b808",
        "type": "comment",
        "name": "vnfidx ",
        "info": "",
        "comments": "",
        "x": 1399.2499389648438,
        "y": 825.2500305175781,
        "z": "e7a1a55a.a83ed8",
        "wires": []
    },
    {
        "id": "9210b7d9.b30e4",
        "type": "for",
        "name": "for each vnf parameter copy to vf_module_parameter",
        "xml": "<for index='preloadIdx' start='0' end='`$tmp.endLoop1`'>\n<!--\n\n     \"preload-data\": {\n          \"vnf-topology-information\": {\n            \"vnf-parameters\": [\n            \n            -->\n",
        "comments": "",
        "outputs": 1,
        "x": 1655.4999389648438,
        "y": 1020.25,
        "z": "e7a1a55a.a83ed8",
        "wires": [
            [
                "b560d3ab.cf253"
            ]
        ]
    },
    {
        "id": "376dd63c.25068a",
        "type": "set",
        "name": "set name/values",
        "xml": "<set>\n<parameter name='tmp.vfmodule.param[$preloadIdx].name'  value='`$tmp.preloadvnfdata.preload-vnfs.vnf-preload-list[$vnfidx].preload-data.vnf-topology-information.vnf-parameters[$preloadIdx].vnf-parameter-name`' />\n<parameter name='tmp.vfmodule.param[$preloadIdx].value' value='`$tmp.preloadvnfdata.preload-vnfs.vnf-preload-list[$vnfidx].preload-data.vnf-topology-information.vnf-parameters[$preloadIdx].vnf-parameter-value`' />",
        "comments": "",
        "x": 2160.6389770507812,
        "y": 1089.9722595214844,
        "z": "e7a1a55a.a83ed8",
        "wires": []
    },
    {
        "id": "ca8e753.0b80388",
        "type": "get-resource",
        "name": "get-resource tunnelxcon-allotted-resources",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.mdsal.ConfigResource' resource='GENERIC-RESOURCE-API'    \n         key='tunnelxconn-allotted-resources/' pfx='tmp.txconns' >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t",
        "comments": "",
        "outputs": 1,
        "x": 577.3635559082031,
        "y": 456.8182067871094,
        "z": "e7a1a55a.a83ed8",
        "wires": [
            [
                "4a0f3a2.0daf844"
            ]
        ]
    },
    {
        "id": "9d1673a3.71a3b",
        "type": "for",
        "name": "for tmp.xconns.tunnelxconn-allotted-resoruces.tunnelxonn-alloted-resource[]",
        "xml": "<for index='txidx' start='0' end='`$tmp.txconns.tunnelxconn-allotted-resources.tunnelxconn-allotted-resource_length`' >\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1048.4544982910156,
        "y": 479.9090576171875,
        "z": "e7a1a55a.a83ed8",
        "wires": [
            [
                "412ef4cf.e5eb0c"
            ]
        ]
    },
    {
        "id": "2715444a.23c59c",
        "type": "switchNode",
        "name": "switch consuming-service-instance-id",
        "xml": "<switch test='`$tmp.test1 == $tmp.consuming-service-instance-id`'>",
        "comments": "",
        "outputs": 1,
        "x": 1434,
        "y": 611.7423706054688,
        "z": "e7a1a55a.a83ed8",
        "wires": [
            [
                "d915ef0e.e337f8"
            ]
        ]
    },
    {
        "id": "d915ef0e.e337f8",
        "type": "success",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1602.5,
        "y": 682.060546875,
        "z": "e7a1a55a.a83ed8",
        "wires": [
            [
                "3dd4c472.384754"
            ]
        ]
    },
    {
        "id": "f4aa4343.8dbfe",
        "type": "set",
        "name": "set thisIsVGW",
        "xml": "<set>\n<parameter name='tmp.thisIsVGW' value='true' />\n",
        "comments": "",
        "x": 1949.8183288574219,
        "y": 836.5455017089844,
        "z": "e7a1a55a.a83ed8",
        "wires": []
    },
    {
        "id": "83699406.56e9b",
        "type": "set",
        "name": "set thisIsVGW false",
        "xml": "<set>\n<parameter name='tmp.thisIsVGW' value='false' />\n",
        "comments": "",
        "x": 497.81817626953125,
        "y": 406.81817626953125,
        "z": "e7a1a55a.a83ed8",
        "wires": []
    },
    {
        "id": "eb810e05.52662",
        "type": "switchNode",
        "name": "switch thsIsVGW",
        "xml": "<switch test='`$tmp.thisIsVGW`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 309.3636474609375,
        "y": 515.3637084960938,
        "z": "e7a1a55a.a83ed8",
        "wires": [
            [
                "6535840c.7ff924",
                "3ea3b79.6a30d48"
            ]
        ]
    },
    {
        "id": "6535840c.7ff924",
        "type": "other",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 332.090909090909,
        "y": 597.1818181818181,
        "z": "e7a1a55a.a83ed8",
        "wires": [
            [
                "dd639037.f88b68"
            ]
        ]
    },
    {
        "id": "dd639037.f88b68",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 513.6747436523438,
        "y": 785.293701171875,
        "z": "e7a1a55a.a83ed8",
        "wires": [
            [
                "ad03697c.d0086",
                "e0ff3ee2.272ee8"
            ]
        ]
    },
    {
        "id": "e80b5bb9.574438",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 869.666748046875,
        "y": 840.1112060546875,
        "z": "e7a1a55a.a83ed8",
        "wires": [
            [
                "f69e3efe.c41dd8",
                "b01b8f7f.7d68c"
            ]
        ]
    },
    {
        "id": "412ef4cf.e5eb0c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1203,
        "y": 543.4444580078125,
        "z": "e7a1a55a.a83ed8",
        "wires": [
            [
                "2715444a.23c59c",
                "82f37083.4f4cb"
            ]
        ]
    },
    {
        "id": "b560d3ab.cf253",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1958.4166259765625,
        "y": 1052.1944885253906,
        "z": "e7a1a55a.a83ed8",
        "wires": [
            [
                "376dd63c.25068a"
            ]
        ]
    },
    {
        "id": "4a0f3a2.0daf844",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 662.6666666666665,
        "y": 507.2222222222222,
        "z": "e7a1a55a.a83ed8",
        "wires": [
            [
                "9d1673a3.71a3b"
            ]
        ]
    },
    {
        "id": "82f37083.4f4cb",
        "type": "set",
        "name": "set test consuming service id tunnelxconn-allotted-resource-identifiers.consuming-service-instance-id",
        "xml": "<set>\n<parameter name='tmp.test1' value='`$tmp.txconns.tunnelxconn-allotted-resources.tunnelxconn-allotted-resource[$txidx].allotted-resource-data.tunnelxconn-topology.allotted-resource-identifiers.consuming-service-instance-id`' />\n<!--\nthis is null\n<parameter name='tmp.test2' value='`$tmp.txconns.tunnelxconn-allotted-resources.tunnelxconn-allotted-resource-data[$txidx].tunnelxconn-topology[0].allotted-resource-identifiers[0].consuming-service-instance-id`' />\n-->",
        "comments": "",
        "x": 1670.9999694824219,
        "y": 544.9999389648438,
        "z": "e7a1a55a.a83ed8",
        "wires": []
    },
    {
        "id": "b01b8f7f.7d68c",
        "type": "set",
        "name": "set test3",
        "xml": "<set>\n<parameter name='tmp.test3' value='`$tmp.preloadvnfdata.preload-vnfs.vnf-preload-list[$vnfidx].vnf-name`' />\n<parameter name='tmp.test4' value='`$tmp.brg-mac-address-match`'/>\n\n\n",
        "comments": "",
        "x": 1031,
        "y": 731,
        "z": "e7a1a55a.a83ed8",
        "wires": []
    },
    {
        "id": "6ab04ca7.9f500c",
        "type": "set",
        "name": "set length of for  endLoop1",
        "xml": "<set>\n<parameter name='tmp.endLoop1' value='`$tmp.preloadvnfdata.preload-vnfs.vnf-preload-list[$vnfidx].preload-data.vnf-topology-information.vnf-parameters_length`' />",
        "comments": "",
        "x": 1569.25,
        "y": 946.5,
        "z": "e7a1a55a.a83ed8",
        "wires": []
    },
    {
        "id": "cfebe45d.fed14",
        "type": "set",
        "name": "set vf-module-object-path",
        "xml": "<set>\n<parameter name='tmp.vf-module-object-path'\n value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $service-data.service-topology.service-topology-identifier.service-instance-id\n + '/service-data/vnfs/vnf/'\n + $service-data.vnfs.vnf[$vnf-index].vnf-id\n + '/vnf-data/vf-modules/vf-module/'\n + $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-id \n + '/'`\"/>\n",
        "comments": "",
        "x": 1505.5,
        "y": 1411.5,
        "z": "e7a1a55a.a83ed8",
        "wires": []
    },
    {
        "id": "bd10c9f9.48a0c8",
        "type": "set",
        "name": "copy  vf-module-parameters",
        "xml": "<set>\n<!--\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param.'\n\n                 service-data.vnfs.vnf\\[0\\].       vnf-data.vf-modules.vf-module\\[0\\]             .vf-module-data.vf-module-topology.vf-module-parameters.param.\n   value='$tmp.vfmodule.' />\n-->\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.'\n   value='$tmp.vfmodule.' />",
        "comments": "",
        "x": 1543.0000610351562,
        "y": 1817.2499389648438,
        "z": "e7a1a55a.a83ed8",
        "wires": []
    },
    {
        "id": "3dd4e676.f765ca",
        "type": "execute",
        "name": "execute print context",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/bdf-gw-vfmodule.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 1479.2500610351562,
        "y": 1872.7499389648438,
        "z": "e7a1a55a.a83ed8",
        "wires": [
            []
        ]
    },
    {
        "id": "559dd115.a25ed8",
        "type": "set",
        "name": "set tmp.vfmodule.param_length",
        "xml": "<set>\n<parameter name='tmp.vfmodule.param_length' value='`$tmp.endLoop1`' />\n",
        "comments": "",
        "x": 1589.2501831054688,
        "y": 1084,
        "z": "e7a1a55a.a83ed8",
        "wires": []
    },
    {
        "id": "dd1c6e99.8acc1",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 1230.5,
        "y": 1631.5,
        "z": "e7a1a55a.a83ed8",
        "wires": []
    },
    {
        "id": "d521fdca.bd03a8",
        "type": "for",
        "name": "for paramIdx to set VNI",
        "xml": "<for index='paramIdx' start='0' end='`$tmp.vfmodule.param_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1578,
        "y": 1731.5,
        "z": "e7a1a55a.a83ed8",
        "wires": [
            [
                "929dcb7c.d4faf8"
            ]
        ]
    },
    {
        "id": "25387698.79b2ba",
        "type": "switchNode",
        "name": "switch parameter name vg-mux-tunnel-vni",
        "xml": "<switch test='`$tmp.vfmodule.param[$paramIdx].name == $tmp.vg-mux-tunnel-vni-match`'>",
        "comments": "",
        "outputs": 1,
        "x": 2075.5,
        "y": 1800.25,
        "z": "e7a1a55a.a83ed8",
        "wires": [
            [
                "d5e6b6b.458adc8"
            ]
        ]
    },
    {
        "id": "d5e6b6b.458adc8",
        "type": "success",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2393,
        "y": 1827.75,
        "z": "e7a1a55a.a83ed8",
        "wires": [
            [
                "8d862f5a.48563"
            ]
        ]
    },
    {
        "id": "8d862f5a.48563",
        "type": "set",
        "name": "set vni in tmp.vfmodule.param",
        "xml": "<set>\n<parameter name='$tmp.vfmodule.param[$paramIdx].value' value='`$tmp.vg-vgmux-tunnel-vni`' />\n\n<!--\n<parameter name='$tmp.vfmodule.param[$paramIdx].value' value='`$tmp.txconns.tunnelxconn-allotted-resources.tunnelxconn-allotted-resource.allotted-resource-data.tunnelxconn-topology.tunnelxconn-assignments.vni`' />\n-->",
        "comments": "",
        "x": 2605.5,
        "y": 1865.25,
        "z": "e7a1a55a.a83ed8",
        "wires": []
    },
    {
        "id": "ba931e26.d62ba",
        "type": "set",
        "name": "set switch test string",
        "xml": "<set>\n<!--\n<parameter name='tmp.service.vnf.vf-module.vg-mux-tunnel-vni' value='`$input.vni`' />\n-->\n<parameter name='tmp.vg-mux-tunnel-vni-match' value='vg_vgmux_tunnel_vni' />\n<parameter name='tmp.vg-lan-ip-match' value='vgw_private_ip_0' />\n\n\n\n\n",
        "comments": "",
        "x": 1568,
        "y": 1681.5,
        "z": "e7a1a55a.a83ed8",
        "wires": []
    },
    {
        "id": "929dcb7c.d4faf8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1784.25,
        "y": 1726.5,
        "z": "e7a1a55a.a83ed8",
        "wires": [
            [
                "25387698.79b2ba",
                "bacfba18.e402c8"
            ]
        ]
    },
    {
        "id": "8bc8d9d7.254a",
        "type": "set",
        "name": "set to see tmpvfmodule.param[].name",
        "xml": "<set>\n<!--\n<parameter name='tmp.service.vnf.vf-module.vg-mux-tunnel-vni' value='`$input.vni`' />\n-->\n<parameter name='tmp.test.param[$paramIdx].name' value='`$tmp.vfmodule.param[$paramIdx].name`' />\n\n\n\n",
        "comments": "",
        "x": 2063.0000610351562,
        "y": 1719,
        "z": "e7a1a55a.a83ed8",
        "wires": []
    },
    {
        "id": "21d9a4bc.f50b44",
        "type": "comment",
        "name": "let md-sal helper save data so no need for the RESTAPICAll Node",
        "info": "",
        "comments": "",
        "x": 1575.4999084472656,
        "y": 1971.5,
        "z": "e7a1a55a.a83ed8",
        "wires": []
    },
    {
        "id": "e17c6c61.b10198",
        "type": "comment",
        "name": " using path from calling DG - these nodes for testing",
        "info": "",
        "comments": "",
        "x": 2058,
        "y": 1422.75,
        "z": "e7a1a55a.a83ed8",
        "wires": []
    },
    {
        "id": "1cdfca7.a640436",
        "type": "set",
        "name": "set MACADDRESS fa:16:3e:8f:ea:68 ",
        "xml": "<set>\n<parameter name='tmp.brg-macaddress' value='fa:16:3e:8f:ea:68' />\n\n",
        "comments": "",
        "x": 554.9999694824219,
        "y": 255,
        "z": "e7a1a55a.a83ed8",
        "wires": []
    },
    {
        "id": "b32ba29e.7cc798",
        "type": "set",
        "name": "set VGW2BRG-MACADDRESs & consuming service-instance",
        "xml": "<set>\n<parameter name='tmp.brg-mac-address-match' value=\"`'VGW2BRG-' + $tmp.brg-macaddress`\"/>\n<parameter name='tmp.consuming-service-instance-id' value='`$service-data.service-topology.service-topology-identifier.service-instance-id`' />\n\n<!--\n<parameter name='tmp.brg-macaddress' value='fa:16:3e:8f:ea:68' />\n<parameter name='tmp.brg-mac-address-match' value=\"`'VGW2BRG-' + $tmp.brg-macaddress`\"/>\n-->\n<!--\n<parameter name='tmp.consuming-service-instance-id' value='b3cb7040-f7a5-4beb-ad2f-2a893b7d374b' />\nservice-data.service-topology.service-topology-identifier.service-instance-id\n\n-->\n",
        "comments": "",
        "x": 2091.999969482422,
        "y": 727.9999694824219,
        "z": "e7a1a55a.a83ed8",
        "wires": []
    },
    {
        "id": "3dd4c472.384754",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1748,
        "y": 712,
        "z": "e7a1a55a.a83ed8",
        "wires": [
            [
                "f4aa4343.8dbfe",
                "b32ba29e.7cc798",
                "f944dcec.c4fb3",
                "4cbd8541.f0a334"
            ]
        ]
    },
    {
        "id": "f944dcec.c4fb3",
        "type": "set",
        "name": "set MACADDRESS tmp.txconcs...brg-wan-mac-address",
        "xml": "<set>\n<parameter name='tmp.brg-macaddress' \n      value='`$tmp.txconns.tunnelxconn-allotted-resources.tunnelxconn-allotted-resource.allotted-resource-data.allotted-resource-operation-information.tunnelxconn-request-input.brg-wan-mac-address`' />\n\n",
        "comments": "",
        "x": 2066,
        "y": 666,
        "z": "e7a1a55a.a83ed8",
        "wires": []
    },
    {
        "id": "3ea3b79.6a30d48",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 272,
        "y": 756,
        "z": "e7a1a55a.a83ed8",
        "wires": [
            [
                "fb02842f.7305b"
            ]
        ]
    },
    {
        "id": "812382ea.517458",
        "type": "returnFailure",
        "name": "return failure Did not find vGW Preload",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value='Did not find vGW Preload' />\n",
        "comments": "",
        "x": 530,
        "y": 922,
        "z": "e7a1a55a.a83ed8",
        "wires": []
    },
    {
        "id": "fb02842f.7305b",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 284,
        "y": 834,
        "z": "e7a1a55a.a83ed8",
        "wires": [
            [
                "a891f4c.fb6c088"
            ]
        ]
    },
    {
        "id": "e61222b.543c56",
        "type": "execute",
        "name": "execute print context",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/bdf-gw-vfmodule.failure.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 480,
        "y": 871,
        "z": "e7a1a55a.a83ed8",
        "wires": [
            []
        ]
    },
    {
        "id": "bacfba18.e402c8",
        "type": "switchNode",
        "name": "switch parameter name vg-mux-tunnel-vni",
        "xml": "<switch test='`$tmp.vfmodule.param[$paramIdx].name == $tmp.vg-lan-ip-match`'>",
        "comments": "",
        "outputs": 1,
        "x": 2069,
        "y": 1865,
        "z": "e7a1a55a.a83ed8",
        "wires": [
            [
                "173c523.48cf3ae"
            ]
        ]
    },
    {
        "id": "173c523.48cf3ae",
        "type": "success",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2386.5,
        "y": 1892.5,
        "z": "e7a1a55a.a83ed8",
        "wires": [
            [
                "ad2dd089.7b68c8"
            ]
        ]
    },
    {
        "id": "ad2dd089.7b68c8",
        "type": "set",
        "name": "set lan-ip[ in tmp.vfmodule.param",
        "xml": "<set>\n<parameter name='$tmp.vfmodule.param[$paramIdx].value' value='`$tmp.vg-ip`' />\n<!--\n<parameter name='$tmp.vfmodule.param[$paramIdx].value' value='`$tmp.txconns.tunnelxconn-allotted-resources.tunnelxconn-allotted-resource.allotted-resource-data.tunnelxconn-topology.tunnelxconn-assignments.vg-ip`' />\n-->",
        "comments": "",
        "x": 2599,
        "y": 1930,
        "z": "e7a1a55a.a83ed8",
        "wires": []
    },
    {
        "id": "4d421be5.083c7c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 1821,
        "y": 1867,
        "z": "e7a1a55a.a83ed8",
        "wires": []
    },
    {
        "id": "4cbd8541.f0a334",
        "type": "set",
        "name": "set VNI and VG-IP",
        "xml": "<set>\n<parameter name='tmp.vg-vgmux-tunnel-vni' \n    value='`$tmp.txconns.tunnelxconn-allotted-resources.tunnelxconn-allotted-resource[$txidx].allotted-resource-data.tunnelxconn-topology.tunnelxconn-assignments.vni`' />\n<parameter name='tmp.vg-ip' \n    value='`$tmp.txconns.tunnelxconn-allotted-resources.tunnelxconn-allotted-resource[$txidx].allotted-resource-data.tunnelxconn-topology.tunnelxconn-assignments.vg-ip`' />\n",
        "comments": "",
        "x": 1957.8334655761719,
        "y": 786.9999694824219,
        "z": "e7a1a55a.a83ed8",
        "wires": []
    },
    {
        "id": "a891f4c.fb6c088",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name='' value='' />\n",
        "comments": "",
        "x": 478,
        "y": 1002,
        "z": "e7a1a55a.a83ed8",
        "wires": []
    }
]