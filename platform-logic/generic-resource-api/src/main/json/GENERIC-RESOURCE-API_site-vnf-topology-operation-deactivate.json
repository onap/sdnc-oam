[
  {
    "id": "6ccc8c09.2b8304",
    "type": "service-logic",
    "name": "GENERIC-RESOURCE-API ${project.version}",
    "module": "GENERIC-RESOURCE-API",
    "version": "${project.version}",
    "comments": "",
    "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
    "outputs": 1,
    "x": 236,
    "y": 198.23809814453125,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      [
        "409ebb2f.e8ad54"
      ]
    ]
  },
  {
    "id": "409f3886.89a6d8",
    "type": "dgstart",
    "name": "DGSTART",
    "outputs": 1,
    "x": 160.71429443359375,
    "y": 157.99998664855957,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      [
        "6ccc8c09.2b8304"
      ]
    ]
  },
  {
    "id": "409ebb2f.e8ad54",
    "type": "method",
    "name": "method site-vnf-topology-operation-deactivate",
    "xml": "<method rpc='site-vnf-topology-operation-deactivate' mode='sync'>",
    "comments": "",
    "outputs": 1,
    "x": 229.1429214477539,
    "y": 237.99998092651367,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      [
        "ee6b102d.9bc0f"
      ]
    ]
  },
  {
    "id": "ee6b102d.9bc0f",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 269.88101959228516,
    "y": 309.69349193573,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      [
        "d94f594e.9a1e28",
        "77e489d5.0dc728",
        "645640e8.7e9d6",
        "e086e978.b7c0b8",
        "56a4c2b7.6f30ac",
        "2d9db742.053758",
        "7187dbfb.6bac64",
        "f3d7c99e.474f98"
      ]
    ]
  },
  {
    "id": "56a4c2b7.6f30ac",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 676.9286193847656,
    "y": 174.80950736999512,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      [
        "3ef216ab.40e58a",
        "525e8314.ae7b7c",
        "94275cf3.eae7b",
        "71e555e5.d00a8c"
      ]
    ]
  },
  {
    "id": "3ef216ab.40e58a",
    "type": "switchNode",
    "name": "switch service-data.vnfs.vnf_length",
    "xml": "<switch test='`$service-data.vnfs.vnf_length`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 956.817626953125,
    "y": 200.14282512664795,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      [
        "d5d6e81a.5bc058",
        "800a6510.d1f968"
      ]
    ]
  },
  {
    "id": "d5d6e81a.5bc058",
    "type": "other",
    "name": "outcome Null",
    "xml": "<outcome value=''>\n",
    "comments": "",
    "outputs": 1,
    "x": 1210.4287490844727,
    "y": 181.8095121383667,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      [
        "ddb8ce8a.7f246"
      ]
    ]
  },
  {
    "id": "ddb8ce8a.7f246",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"vnf-topology-operation-input.vnf-request-input.vnf-id not found in service-data\" />\n",
    "comments": "",
    "x": 1384.4287643432617,
    "y": 181.8095121383667,
    "z": "eff7eab0.9cd3d8",
    "wires": []
  },
  {
    "id": "800a6510.d1f968",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1193.9287185668945,
    "y": 217.80952262878418,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      [
        "50b9f2ad.291a9c"
      ]
    ]
  },
  {
    "id": "50b9f2ad.291a9c",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1375.9289169311523,
    "y": 228.80952835083008,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      [
        "f7ce686c.d20c58",
        "9dbd12a4.f85cd"
      ]
    ]
  },
  {
    "id": "9dbd12a4.f85cd",
    "type": "switchNode",
    "name": "switch tmp.vidx ",
    "xml": "<switch test=\"`$tmp.vidx`\">\n\n",
    "comments": "",
    "outputs": 1,
    "x": 1565.928810119629,
    "y": 245.80952262878418,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      [
        "696391da.7271e"
      ]
    ]
  },
  {
    "id": "94275cf3.eae7b",
    "type": "switchNode",
    "name": "switch vnf-level-oper-status",
    "xml": "<switch test='`$service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-level-oper-status.order-status`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 920.0954284667969,
    "y": 295.69837856292725,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      [
        "e334dbcd.151be8",
        "9389bd62.f177c"
      ]
    ]
  },
  {
    "id": "e334dbcd.151be8",
    "type": "outcome",
    "name": "outcome Active",
    "xml": "<outcome value='Active'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1226.9287414550781,
    "y": 276.8095006942749,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      [
        "24f67561.938d5a"
      ]
    ]
  },
  {
    "id": "9389bd62.f177c",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1194.9287414550781,
    "y": 316.8095006942749,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      [
        "588ade71.a0132"
      ]
    ]
  },
  {
    "id": "588ade71.a0132",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'VNF is not in appropriate state for activate. Current state is ' + $service-data.vnfs.vnf[$tmp.nidx].vnf-data.vnf-level-oper-status.order-status`\" />",
    "comments": "",
    "x": 1352.4287414550781,
    "y": 316.8095006942749,
    "z": "eff7eab0.9cd3d8",
    "wires": []
  },
  {
    "id": "525e8314.ae7b7c",
    "type": "switchNode",
    "name": "switch vnf-id",
    "xml": "<switch test=\"`$vnf-topology-operation-input.vnf-information.vnf-id`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 898.9287261962891,
    "y": 140.8094997406006,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      [
        "f2085c0a.4e032"
      ]
    ]
  },
  {
    "id": "f2085c0a.4e032",
    "type": "outcome",
    "name": "NULL",
    "xml": "<outcome value=''>",
    "comments": "",
    "outputs": 1,
    "x": 1041.9287185668945,
    "y": 140.80950260162354,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      [
        "d4705f94.a1bcc"
      ]
    ]
  },
  {
    "id": "d4705f94.a1bcc",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"vnf-topology-operation-input.vnf-information.vnf-id is a required input\" />\n",
    "comments": "",
    "x": 1190.4287185668945,
    "y": 140.80950164794922,
    "z": "eff7eab0.9cd3d8",
    "wires": []
  },
  {
    "id": "f7ce686c.d20c58",
    "type": "for",
    "name": "for vidx..service-data.vnfs.vnf[]",
    "xml": "<for index='vidx' start='0' end='`$service-data.vnfs.vnf_length`' >\n",
    "comments": "",
    "outputs": 1,
    "x": 1611.428840637207,
    "y": 207.8095121383667,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      [
        "c9f68a99.b009a8"
      ]
    ]
  },
  {
    "id": "c9f68a99.b009a8",
    "type": "switchNode",
    "name": "switch vnf-id found",
    "xml": "<switch test=\"`$service-data.vnfs.vnf[$vidx].vnf-id == $vnf-topology-operation-input.vnf-information.vnf-id`\">\n\n",
    "comments": "",
    "outputs": 1,
    "x": 1897.428840637207,
    "y": 207.8095121383667,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      [
        "5af04128.f2028"
      ]
    ]
  },
  {
    "id": "5af04128.f2028",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2082.9289169311523,
    "y": 207.80951404571533,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      [
        "5e480ff6.78db3"
      ]
    ]
  },
  {
    "id": "5e480ff6.78db3",
    "type": "set",
    "name": "set tmp.vidx and ctx.vnf-data",
    "xml": "<set>\n<parameter name='tmp.vidx' value='`$vidx`' />\n<parameter name='ctx.vnf-data.' value='`$service-data.vnfs.vnf[$vidx].vnf-data.`' />\n",
    "comments": "",
    "x": 2290.928840637207,
    "y": 207.8095121383667,
    "z": "eff7eab0.9cd3d8",
    "wires": []
  },
  {
    "id": "ba414191.d6502",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"vnf-topology-operation-input.vnf-information.vnf-id not found in service-data\" />\n",
    "comments": "",
    "x": 1857.428810119629,
    "y": 245.80952262878418,
    "z": "eff7eab0.9cd3d8",
    "wires": []
  },
  {
    "id": "696391da.7271e",
    "type": "outcome",
    "name": "NULL",
    "xml": "<outcome value=''>\n",
    "comments": "",
    "outputs": 1,
    "x": 1719.928810119629,
    "y": 245.80952262878418,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      [
        "ba414191.d6502"
      ]
    ]
  },
  {
    "id": "d94f594e.9a1e28",
    "type": "set",
    "name": "set vnf in service-data",
    "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.sdnc-request-header.' value='`$vnf-topology-operation-input.sdnc-request-header.`' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.request-information.' value='`$vnf-topology-operation-input.request-information.`' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.service-information.' value='`$vnf-topology-operation-input.service-information.`' />",
    "comments": "",
    "x": 663.7145080566406,
    "y": 643.00022315979,
    "z": "eff7eab0.9cd3d8",
    "wires": []
  },
  {
    "id": "77e489d5.0dc728",
    "type": "set",
    "name": "set vnfId and vnf-object-path",
    "xml": "<set>\n<parameter name='vnfId' value='`$vnf-topology-operation-input.vnf-information.vnf-id`' />\n<parameter name=\"vnf-object-path\" value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'  + $vnf-topology-operation-input.service-information.service-instance-id  + '/service-data/vnfs/vnf/'  + $vnf-topology-operation-input.vnf-request-input.vnf-id  + '/vnf-data/'` \" />",
    "comments": "",
    "x": 685.2701034545898,
    "y": 680.2224445343018,
    "z": "eff7eab0.9cd3d8",
    "wires": []
  },
  {
    "id": "e086e978.b7c0b8",
    "type": "returnSuccess",
    "name": "return success",
    "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
    "comments": "",
    "x": 639.0478849411011,
    "y": 830.7778739929199,
    "z": "eff7eab0.9cd3d8",
    "wires": []
  },
  {
    "id": "645640e8.7e9d6",
    "type": "set",
    "name": "set vnf-level-oper-status to PendingDelete",
    "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-level-oper-status.order-status' value='PendingDelete' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-level-oper-status.last-rpc-action' value='`$vnf-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-level-oper-status.last-action' value='`$vnf-topology-operation-input.request-information.request-action`' />\n",
    "comments": "",
    "x": 723.7145080566406,
    "y": 724.0002861022949,
    "z": "eff7eab0.9cd3d8",
    "wires": []
  },
  {
    "id": "24f67561.938d5a",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1420.856201171875,
    "y": 280.88886964321136,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      []
    ]
  },
  {
    "id": "71e555e5.d00a8c",
    "type": "execute",
    "name": "execute requiredParameters",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='requiredParameters' >\n<parameter name=\"vnf-topology-operation-input.vnf-information.vnf-id\" value=\"$vnf-topology-operation-input.vnf-information.vnf-id\"/>\n\n",
    "comments": "",
    "outputs": 1,
    "x": 948.7145385742188,
    "y": 103,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      []
    ]
  },
  {
    "id": "e60c28b5.c18778",
    "type": "comment",
    "name": "site-vnf-topology-operation-deactivate",
    "info": "",
    "comments": "",
    "x": 543,
    "y": 103.23809814453125,
    "z": "eff7eab0.9cd3d8",
    "wires": []
  },
  {
    "id": "2d9db742.053758",
    "type": "for",
    "name": "for loop idx - VNF input parameters",
    "xml": "<for index='idx' start='0' end='`$service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-request-input.vnf-input-parameters.param_length`' >\n",
    "comments": "",
    "outputs": 1,
    "x": 721.0001487731934,
    "y": 374.0000219345093,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      [
        "80c4ae72.42739"
      ]
    ]
  },
  {
    "id": "80c4ae72.42739",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 927.8958854675293,
    "y": 373.9218854904175,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      [
        "63fe67db.46dbb8",
        "47d8a977.7bcef8"
      ]
    ]
  },
  {
    "id": "63fe67db.46dbb8",
    "type": "switchNode",
    "name": "switch role",
    "xml": "<switch test=\"`$service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-request-input.vnf-input-parameters.param[$idx].name == 'role'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1065.0130882263184,
    "y": 373.89532566070557,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      [
        "dcc5b7e8.fb8158"
      ]
    ]
  },
  {
    "id": "dcc5b7e8.fb8158",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1205.013095855713,
    "y": 374.89532566070557,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      [
        "cbf60ece.652ac"
      ]
    ]
  },
  {
    "id": "cbf60ece.652ac",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1353.562744140625,
    "y": 375.9220190048218,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      [
        "424bee8e.9bf07"
      ]
    ]
  },
  {
    "id": "424bee8e.9bf07",
    "type": "set",
    "name": "set role",
    "xml": "<set>\n<parameter name='prop.site.role' value='`$service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-request-input.vnf-input-parameters.param[$idx].value`' />\n<parameter name='prop.site.sdwan' value=\"true\" />\n",
    "comments": "",
    "x": 1497.8961067199707,
    "y": 376.9220361709595,
    "z": "eff7eab0.9cd3d8",
    "wires": []
  },
  {
    "id": "7187dbfb.6bac64",
    "type": "switchNode",
    "name": "switch prop.site.sdwan",
    "xml": "<switch test=\"`$prop.site.sdwan`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 695,
    "y": 529.0000438690186,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      [
        "cb003742.48ab98"
      ]
    ]
  },
  {
    "id": "cb003742.48ab98",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 876.0001335144043,
    "y": 530.0000705718994,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      [
        "1ee2c8d6.10f407"
      ]
    ]
  },
  {
    "id": "756928c2.61cc28",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1580.500156402588,
    "y": 498.00012493133545,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      [
        "322e7d0b.458572"
      ]
    ]
  },
  {
    "id": "322e7d0b.458572",
    "type": "set",
    "name": "set controller data",
    "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.url' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.user' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.password' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n",
    "comments": "",
    "x": 1769.0002517700195,
    "y": 492.0001345872879,
    "z": "eff7eab0.9cd3d8",
    "wires": []
  },
  {
    "id": "bb1947f2.98f208",
    "type": "not-found",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1583.991123199463,
    "y": 545.5741605758667,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      [
        "5cfa6625.324948"
      ]
    ]
  },
  {
    "id": "5cfa6625.324948",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
    "comments": "",
    "x": 1757.5625343322754,
    "y": 533.8598966598511,
    "z": "eff7eab0.9cd3d8",
    "wires": []
  },
  {
    "id": "16f79b1d.b15fb5",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1576.324131011963,
    "y": 586.907473564148,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      [
        "bf858a17.da4cd8"
      ]
    ]
  },
  {
    "id": "bf858a17.da4cd8",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
    "comments": "",
    "x": 1764.0966873168945,
    "y": 582.3466663360596,
    "z": "eff7eab0.9cd3d8",
    "wires": []
  },
  {
    "id": "2a0162f0.652d0e",
    "type": "get-resource",
    "name": "get-resource esr-thirdparty-sdnc",
    "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.thirdparty-sdnc-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.esr-thirdparty-sdnc' local-only='false' >\n\n",
    "comments": "",
    "outputs": 1,
    "x": 1313.5000686645508,
    "y": 546.0001307725906,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      [
        "756928c2.61cc28",
        "bb1947f2.98f208",
        "16f79b1d.b15fb5"
      ]
    ]
  },
  {
    "id": "425e43c6.41024c",
    "type": "execute",
    "name": "execute RestApiCallNode Create  SDWAN site",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sdwan-site.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/campus/v1/sdwan/net/sites/action/batch-delete'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"site-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.openecomp.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
    "comments": "",
    "outputs": 1,
    "x": 1342.0004119873047,
    "y": 744.0002021789551,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      [
        "d8a62ab1.3226c8"
      ]
    ]
  },
  {
    "id": "e6bf359c.0d5038",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "comments": "",
    "outputs": 1,
    "x": 1835.6665420532227,
    "y": 717.8889743089676,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      []
    ]
  },
  {
    "id": "daf14f72.6267b",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create vpn rest api\" />\n",
    "comments": "",
    "x": 1811.111183166504,
    "y": 779.4443570375443,
    "z": "eff7eab0.9cd3d8",
    "wires": []
  },
  {
    "id": "ee352e09.62376",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1666.111183166504,
    "y": 776.4443570375443,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      [
        "daf14f72.6267b"
      ]
    ]
  },
  {
    "id": "d8a62ab1.3226c8",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1662.5555572509766,
    "y": 718.1111422777176,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      [
        "e6bf359c.0d5038"
      ]
    ]
  },
  {
    "id": "59e4450.765e9bc",
    "type": "execute",
    "name": "execute RestApiCallNode Get token",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/actokentemplate.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/v2/tokens'`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"token-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.openecomp.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>",
    "comments": "",
    "outputs": 1,
    "x": 1314.754165649414,
    "y": 639.0041915178299,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      [
        "4f99f1d7.125d6"
      ]
    ]
  },
  {
    "id": "4f99f1d7.125d6",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1579.7540473937988,
    "y": 624.0040866136551,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      [
        "95a44633.4c2bb8"
      ]
    ]
  },
  {
    "id": "9465e4a7.7fcdd8",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1572.0040473937988,
    "y": 665.6469699144363,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      [
        "3c2828d.1b54dd8"
      ]
    ]
  },
  {
    "id": "3c2828d.1b54dd8",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1698.0875434875488,
    "y": 665.8930026292801,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      []
    ]
  },
  {
    "id": "95a44633.4c2bb8",
    "type": "set",
    "name": "set token-id",
    "xml": "<set>\n<parameter name='prop.sdncRestApi.token_id' value='`$token-result.data.token_id`' />\n",
    "comments": "",
    "x": 1716.7540473937988,
    "y": 624.0040866136551,
    "z": "eff7eab0.9cd3d8",
    "wires": []
  },
  {
    "id": "5b3d78a3.085a08",
    "type": "comment",
    "name": "tmp.thirdparty-sdnc-id is hardcoded value?",
    "info": "",
    "comments": "",
    "x": 1310.0039596557617,
    "y": 513.0040522813797,
    "z": "eff7eab0.9cd3d8",
    "wires": []
  },
  {
    "id": "1ee2c8d6.10f407",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1037.0000686645508,
    "y": 530.6665782928467,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      [
        "59e4450.765e9bc",
        "425e43c6.41024c"
      ]
    ]
  },
  {
    "id": "f3d7c99e.474f98",
    "type": "save",
    "name": "update siteInstance configuration in AAI",
    "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='site-resource' \n      key='site-resource.id = $service-data.vnfs.vnf[$tmp.vidx].vnf-id' >\n<parameter name='id' value='`$service-data.vnfs.vnf[$tmp.vidx].vnf-id`' />      \n<parameter name='operational-status' value='PendingDelete' />\n",
    "comments": "",
    "outputs": 1,
    "x": 717.0000915527344,
    "y": 763.0001029968262,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      []
    ]
  },
  {
    "id": "47d8a977.7bcef8",
    "type": "switchNode",
    "name": "switch siteId",
    "xml": "<switch test=\"`$service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-request-input.vnf-input-parameters.param[$idx].name == 'siteId'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1065.0129852294922,
    "y": 448.8953685760498,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      [
        "fa8be7fe.c1c4d8"
      ]
    ]
  },
  {
    "id": "fa8be7fe.c1c4d8",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1205.0129928588867,
    "y": 449.8953685760498,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      [
        "2d6d00f4.1abec"
      ]
    ]
  },
  {
    "id": "2d6d00f4.1abec",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1353.5626411437988,
    "y": 450.922061920166,
    "z": "eff7eab0.9cd3d8",
    "wires": [
      [
        "36dd1c11.5f9e34"
      ]
    ]
  },
  {
    "id": "36dd1c11.5f9e34",
    "type": "set",
    "name": "set siteId",
    "xml": "<set>\n<parameter name='prop.site.siteId' value='`$service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-request-input.vnf-input-parameters.param[$idx].value`' />\n\n",
    "comments": "",
    "x": 1497.8960037231445,
    "y": 451.9220790863037,
    "z": "eff7eab0.9cd3d8",
    "wires": []
  },
  {
    "id": "8ea74f03.d14d3",
    "type": "comment",
    "name": "Get siteId to delete",
    "info": "",
    "comments": "",
    "x": 1076.9999694824219,
    "y": 418.0000247955322,
    "z": "eff7eab0.9cd3d8",
    "wires": []
  }
]
