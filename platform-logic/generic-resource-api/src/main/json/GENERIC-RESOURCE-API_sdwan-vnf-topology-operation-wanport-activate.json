[
  {
    "id": "fea5a9bd.a03d18",
    "type": "dgstart",
    "name": "DGSTART",
    "outputs": 1,
    "x": 86.00390625,
    "y": 44.999999046325684,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "e45f8bd6.497e68"
      ]
    ]
  },
  {
    "id": "e45f8bd6.497e68",
    "type": "service-logic",
    "name": "GENERIC-RESOURCE-API ${project.version}",
    "module": "GENERIC-RESOURCE-API",
    "version": "${project.version}",
    "comments": "",
    "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
    "outputs": 1,
    "x": 234.2895965576172,
    "y": 95.23810768127441,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "f0f23207.f8f43"
      ]
    ]
  },
  {
    "id": "f0f23207.f8f43",
    "type": "method",
    "name": "method sdwan-vnf-topology-operation-wanport-activate",
    "xml": "<method rpc='sdwan-vnf-topology-operation-wanport-activate' mode='sync'>\n",
    "comments": "",
    "outputs": 1,
    "x": 237.43252563476562,
    "y": 180.00003147125244,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "32849d64.f1ae32"
      ]
    ]
  },
  {
    "id": "32849d64.f1ae32",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 300.67066192626953,
    "y": 785.6669883728027,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "dc92d74f.dca7a8",
        "1cf85990.ed3b86",
        "b4c4037f.4ac1e",
        "f3c230b1.3312b",
        "ac816a8a.6fb1f8",
        "e9d0f6cd.99c098",
        "62f05310.c79d2c",
        "ca279788.45f118",
        "aece4931.30eed8",
        "d9e42142.36e4c",
        "eaa46981.c8da08",
        "2847803.c88858",
        "a3465abe.51b3e8",
        "ea6762c6.702c5",
        "33c90daa.1c8182",
        "81b0e70b.0576d8",
        "e220c2f5.e3641",
        "cd49784f.a3cd48"
      ]
    ]
  },
  {
    "id": "dc92d74f.dca7a8",
    "type": "returnSuccess",
    "name": "return success",
    "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
    "comments": "",
    "x": 639.3383979797363,
    "y": 1527.3344058990479,
    "z": "3545e2b7.8c73ce",
    "wires": []
  },
  {
    "id": "eaa46981.c8da08",
    "type": "execute",
    "name": "execute RestApiCallNode device port create",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sdwan-port.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/campus/v1/sdwan/net/ports'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"portResp\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.openecomp.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
    "comments": "",
    "outputs": 1,
    "x": 715.3380165100098,
    "y": 780.8894968032837,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "65c0152d.40a98c",
        "6523c3cc.277f2c"
      ]
    ]
  },
  {
    "id": "65c0152d.40a98c",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 964.3380756378174,
    "y": 794.889702796936,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "9cca9a95.c82758"
      ]
    ]
  },
  {
    "id": "6523c3cc.277f2c",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 964.3380756378174,
    "y": 756.8895382881165,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "d75e1634.f465a8"
      ]
    ]
  },
  {
    "id": "d75e1634.f465a8",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create device port rest api\" />\n",
    "comments": "",
    "x": 1108.3384094238281,
    "y": 755.8895378112793,
    "z": "3545e2b7.8c73ce",
    "wires": []
  },
  {
    "id": "9cca9a95.c82758",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "comments": "",
    "outputs": 1,
    "x": 1111.3380870819092,
    "y": 795.8895416259766,
    "z": "3545e2b7.8c73ce",
    "wires": [
      []
    ]
  },
  {
    "id": "a3465abe.51b3e8",
    "type": "execute",
    "name": "execute RestApiCallNode get transport network info",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sdwan-network-orchestration.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/campus/v1/sdwan/net/network-orchestration-resources'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"get\"/>\n<parameter name=\"responsePrefix\" value=\"transportNetworksResp\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.openecomp.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
    "comments": "",
    "outputs": 1,
    "x": 738.0043678283691,
    "y": 960.0006022453308,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "91b71ecc.ea421",
        "dad0aff7.4b6c2"
      ]
    ]
  },
  {
    "id": "81b0e70b.0576d8",
    "type": "execute",
    "name": "execute RestApiCallNode wan port create",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sdwan-wan-port.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/campus/v1/sdwan/net/transport-network-ports'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"wanPortResp\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.openecomp.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
    "comments": "",
    "outputs": 1,
    "x": 711.0044593811035,
    "y": 1197.0006504058838,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "b0038d4b.581a3",
        "fdc236b1.efb848"
      ]
    ]
  },
  {
    "id": "1cf85990.ed3b86",
    "type": "switchNode",
    "name": "switch service-data.vnfs.vnf_length",
    "xml": "<switch test='`$service-data.vnfs.vnf_length`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 697.0248413085938,
    "y": 124.02091121673584,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "d1aa4aa.5bcccb8",
        "7a701067.ec473",
        "6e75ccb1.58cf34"
      ]
    ]
  },
  {
    "id": "d1aa4aa.5bcccb8",
    "type": "other",
    "name": "Null",
    "xml": "<outcome value=''>\n",
    "comments": "",
    "outputs": 1,
    "x": 949.0248756408691,
    "y": 125.02099227905273,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "4988f92c.8e1ab8"
      ]
    ]
  },
  {
    "id": "4988f92c.8e1ab8",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"vnf-topology-operation-input.vnf-request-input.vnf-id not found in service-data\" />\n",
    "comments": "",
    "x": 1110.8026237487793,
    "y": 104.90993928909302,
    "z": "3545e2b7.8c73ce",
    "wires": []
  },
  {
    "id": "7a701067.ec473",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 942.0252838134766,
    "y": 158.02099609375,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "ba03b0d7.0be36"
      ]
    ]
  },
  {
    "id": "ba03b0d7.0be36",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 960.2947769165039,
    "y": 320.5755786895752,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "24648014.ff824",
        "5aa1ffdc.05015",
        "a65a9125.dc54c",
        "ae97242b.dc5558",
        "acc92682.3c6fd8"
      ]
    ]
  },
  {
    "id": "24648014.ff824",
    "type": "for",
    "name": "for vidx..service-data.vnfs.vnf_length[]",
    "xml": "<for index='vidx' start='0' end='`$service-data.vnfs.vnf_length`' >\n",
    "comments": "",
    "outputs": 1,
    "x": 1245.3109436035156,
    "y": 150.44955730438232,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "1aa311e.b073aee"
      ]
    ]
  },
  {
    "id": "5aa1ffdc.05015",
    "type": "switchNode",
    "name": "switch tmp.vidx ",
    "xml": "<switch test=\"`$tmp.vidx`\">\n\n",
    "comments": "",
    "outputs": 1,
    "x": 1171.612247467041,
    "y": 296.4327926635742,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "93a97c9.4fbf08"
      ]
    ]
  },
  {
    "id": "93a97c9.4fbf08",
    "type": "outcome",
    "name": "NULL",
    "xml": "<outcome value=''>\n",
    "comments": "",
    "outputs": 1,
    "x": 1319.0408897399902,
    "y": 296.0042028427124,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "c3cf31a6.b52f"
      ]
    ]
  },
  {
    "id": "b192d0.2d48dd3",
    "type": "switchNode",
    "name": "switch vnfid found",
    "xml": "<switch test=\"`$service-data.vnfs.vnf[$vidx].vnf-id == $vnf-topology-operation-input.vnf-information.vnf-id`\">\n\n",
    "comments": "",
    "outputs": 1,
    "x": 1618.7401733398438,
    "y": 149.6997194290161,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "801ede81.82f43"
      ]
    ]
  },
  {
    "id": "c3cf31a6.b52f",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"vnf-topology-operation-input.vnf-request-input.vnf-id not found in service-data\" />\n",
    "comments": "",
    "x": 1468.4696159362793,
    "y": 297.14712047576904,
    "z": "3545e2b7.8c73ce",
    "wires": []
  },
  {
    "id": "801ede81.82f43",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1773.6921653747559,
    "y": 150.59239864349365,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "7772ec9b.efcac4"
      ]
    ]
  },
  {
    "id": "db3e11bd.eb0ca",
    "type": "set",
    "name": "set tmp.vidx and ctx.vnf-data",
    "xml": "<set>\n<parameter name='tmp.vidx' value='`$vidx`' />\n<parameter name='ctx.vnf-data.' value='`$service-data.vnfs.vnf[$vidx].`' />\n",
    "comments": "",
    "x": 2181.224250793457,
    "y": 60.34245681762695,
    "z": "3545e2b7.8c73ce",
    "wires": []
  },
  {
    "id": "6e75ccb1.58cf34",
    "type": "outcome",
    "name": "0",
    "xml": "<outcome value='0'>\n",
    "comments": "",
    "outputs": 1,
    "x": 950.9936256408691,
    "y": 88.98967838287354,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "4988f92c.8e1ab8"
      ]
    ]
  },
  {
    "id": "cd49784f.a3cd48",
    "type": "set",
    "name": "set device PortId and wan portId to service data",
    "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-request-input.vnf-input-parameters.param[$service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-request-input.vnf-input-parameters.param_length].name' value='devicePortId' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-request-input.vnf-input-parameters.param[$service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-request-input.vnf-input-parameters.param_length].value' value='`$prop.wan.devicePortId`' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-request-input.vnf-input-parameters.param[$service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-request-input.vnf-input-parameters.param_length + 1].name' value='wanPortId' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-request-input.vnf-input-parameters.param[$service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-request-input.vnf-input-parameters.param_length + 1].value' value='`$prop.wan.wanPortId`' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-request-input.vnf-input-parameters.param_length' value='`$service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-request-input.vnf-input-parameters.param_length + 2`' />\n\n\n\n\n",
    "comments": "",
    "x": 734.9947814941406,
    "y": 1318.9909219741821,
    "z": "3545e2b7.8c73ce",
    "wires": []
  },
  {
    "id": "abae1674.12b3d8",
    "type": "comment",
    "name": "Get siteId from site resource created for this service",
    "info": "",
    "comments": "",
    "x": 722.9938888549805,
    "y": 309.32321548461914,
    "z": "3545e2b7.8c73ce",
    "wires": []
  },
  {
    "id": "1aa311e.b073aee",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1464.6605758666992,
    "y": 149.98963737487793,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "b192d0.2d48dd3"
      ]
    ]
  },
  {
    "id": "b4c4037f.4ac1e",
    "type": "set",
    "name": "set vnfId and vnf-object-path",
    "xml": "<set>\n<parameter name='vnfId' value='`$vnf-topology-operation-input.vnf-information.vnf-id`' />\n<parameter name=\"vnf-object-path\" value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'  + $vnf-topology-operation-input.service-information.service-instance-id  + '/service-data/vnfs/vnf/'  + $vnf-topology-operation-input.vnf-information.vnf-id  + '/vnf-data/'` \" />",
    "comments": "",
    "x": 672.5501022338867,
    "y": 1406.2128171920776,
    "z": "3545e2b7.8c73ce",
    "wires": []
  },
  {
    "id": "f3c230b1.3312b",
    "type": "set",
    "name": "set vnf-level-oper-status to Active",
    "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-level-oper-status.order-status' value='Active' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-level-oper-status.last-rpc-action' value='`$vnf-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-level-oper-status.last-action' value='`$vnf-topology-operation-input.request-information.request-action`' />\n",
    "comments": "",
    "x": 689.9945640563965,
    "y": 1445.990653038025,
    "z": "3545e2b7.8c73ce",
    "wires": []
  },
  {
    "id": "da8588c8.55f098",
    "type": "update",
    "name": "save SDWAN wan port instance configuration in AAI",
    "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='wan-port-config' \n      key='wan-port-config.id = $service-data.vnfs.vnf[$tmp.vidx].vnf-id' >\n<parameter name=\"id\" value=\"`$service-data.vnfs.vnf[$tmp.vidx].vnf-id`\" />\n<parameter name='operational-status' value='Active' />\n<parameter name='device-port-id' value='`$prop.wan.devicePortId`' />\n<parameter name='wan-port-id' value='`$prop.wan.wanPortId`' />\n<parameter name='model-customization-id' value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-customization-uuid`' />\n<parameter name='model-invariant-id' value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-invariant-uuid`' />\n<parameter name='model-version-id' value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-uuid`' />\n",
    "comments": "",
    "outputs": 1,
    "x": 752.6574897766113,
    "y": 1485.1381149291992,
    "z": "3545e2b7.8c73ce",
    "wires": [
      []
    ]
  },
  {
    "id": "d902b620.732c58",
    "type": "set",
    "name": "set prop.wan.transportNetworkId",
    "xml": "<set>\n<parameter name='prop.wan.transportNetworkId' value='`$transportNetworksResp[$tidx].id`' />\n",
    "comments": "",
    "x": 1492.995449066162,
    "y": 1036.9906740188599,
    "z": "3545e2b7.8c73ce",
    "wires": []
  },
  {
    "id": "ac816a8a.6fb1f8",
    "type": "for",
    "name": "for loop sidx - Get siteId from servicedata",
    "xml": "<for index=\"sidx\" start=\"0\" end=\"`$ctx.site.vnf-data.vnf-request-input.vnf-input-parameters.param_length`\">\n    \n    \n",
    "comments": "",
    "outputs": 1,
    "x": 702.9939117431641,
    "y": 459.98987197875977,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "f946d98b.8721e8"
      ]
    ]
  },
  {
    "id": "6e3361b7.a1918",
    "type": "switchNode",
    "name": "switch siteId",
    "xml": "<switch test=\"`$ctx.site.vnf-data.vnf-request-input.vnf-input-parameters.param[$sidx].name == 'siteId'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1133.994239807129,
    "y": 460.9900026321411,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "628588c5.8c4528"
      ]
    ]
  },
  {
    "id": "628588c5.8c4528",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1271.9946975708008,
    "y": 458.98998737335205,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "b0597272.0a65f"
      ]
    ]
  },
  {
    "id": "b0597272.0a65f",
    "type": "set",
    "name": "set prop.wan.siteId",
    "xml": "<set>\n<parameter name='prop.wan.siteId' value='`$ctx.site.vnf-data.vnf-request-input.vnf-input-parameters.param[$sidx].value`' />\n\n\n",
    "comments": "",
    "x": 1435.9947319030762,
    "y": 460.58984088897705,
    "z": "3545e2b7.8c73ce",
    "wires": []
  },
  {
    "id": "33c90daa.1c8182",
    "type": "execute",
    "name": "execute split ip and mask",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$prop.ipAddress`'/>\n<parameter name=\"regex\" value=\"/\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"ipandMask\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 661.9942359924316,
    "y": 1105.323642730713,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "d21f243c.e29608",
        "61bef1c0.f032f"
      ]
    ]
  },
  {
    "id": "61bef1c0.f032f",
    "type": "failure",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 862.994255065918,
    "y": 1083.323634147644,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "dba59ea6.fb87c"
      ]
    ]
  },
  {
    "id": "d21f243c.e29608",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 862.9942588806152,
    "y": 1124.3236379623413,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "5e04d6ae.a87ea8"
      ]
    ]
  },
  {
    "id": "dba59ea6.fb87c",
    "type": "set",
    "name": "set ipAddress prefixLength",
    "xml": "<set>\n<parameter name='prop.wan.ip-address' value='`$ipandMask[0]`' />\n<parameter name='prop.wan.prefixLength' value='`$ipandMask[1]`' />",
    "comments": "",
    "x": 1059.9942741394043,
    "y": 1081.323634147644,
    "z": "3545e2b7.8c73ce",
    "wires": []
  },
  {
    "id": "5e04d6ae.a87ea8",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
    "comments": "",
    "x": 1017.9942665100098,
    "y": 1121.323637008667,
    "z": "3545e2b7.8c73ce",
    "wires": []
  },
  {
    "id": "aece4931.30eed8",
    "type": "get-resource",
    "name": "get-resource esr-thirdparty-sdnc",
    "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = SDWAN-Controller AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.esr-thirdparty-sdnc' local-only='false' >\n\n",
    "comments": "",
    "outputs": 1,
    "x": 696.4940643310547,
    "y": 559.9899234771729,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "acfff48e.adde88",
        "cfdab1ae.df7ca",
        "3d21e606.ef145a"
      ]
    ]
  },
  {
    "id": "acfff48e.adde88",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 909.4941635131836,
    "y": 521.989951133728,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "caaa91ba.7a205"
      ]
    ]
  },
  {
    "id": "cfdab1ae.df7ca",
    "type": "not-found",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 911.9850463867188,
    "y": 557.5639877319336,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "43a0c2ab.03d7fc"
      ]
    ]
  },
  {
    "id": "3d21e606.ef145a",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 907.3180541992188,
    "y": 593.897346496582,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "5c31ca17.841574"
      ]
    ]
  },
  {
    "id": "5c31ca17.841574",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
    "comments": "",
    "x": 1061.0905456542969,
    "y": 591.3364334106445,
    "z": "3545e2b7.8c73ce",
    "wires": []
  },
  {
    "id": "43a0c2ab.03d7fc",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
    "comments": "",
    "x": 1057.5564422607422,
    "y": 555.8496751785278,
    "z": "3545e2b7.8c73ce",
    "wires": []
  },
  {
    "id": "caaa91ba.7a205",
    "type": "set",
    "name": "set controller data",
    "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.url' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.user' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.password' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n",
    "comments": "",
    "x": 1069.9942741394043,
    "y": 519.9898910522461,
    "z": "3545e2b7.8c73ce",
    "wires": []
  },
  {
    "id": "e9d0f6cd.99c098",
    "type": "record",
    "name": "record",
    "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/svclogic.log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"sdwan-wanport-vnf-topology-operation-activate\"/>\n<parameter name=\"field3\" value=\"SDWAN-Activate\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 615.0040016174316,
    "y": 180.00002908706665,
    "z": "3545e2b7.8c73ce",
    "wires": [
      []
    ]
  },
  {
    "id": "62f05310.c79d2c",
    "type": "execute",
    "name": "execute Properties",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
    "comments": "",
    "outputs": 1,
    "x": 651.3061256408691,
    "y": 215.0000729560852,
    "z": "3545e2b7.8c73ce",
    "wires": [
      []
    ]
  },
  {
    "id": "d9e42142.36e4c",
    "type": "execute",
    "name": "execute RestApiCallNode Get token",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/actokentemplate.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/v2/tokens'`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"token-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.openecomp.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>",
    "comments": "",
    "outputs": 1,
    "x": 699.004207611084,
    "y": 649.6669254302979,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "dbf3792f.06d4c8",
        "ba692605.0e2fb8"
      ]
    ]
  },
  {
    "id": "dbf3792f.06d4c8",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 927.004337310791,
    "y": 631.6669187545776,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "2ce328a2.bcfc88"
      ]
    ]
  },
  {
    "id": "2ce328a2.bcfc88",
    "type": "set",
    "name": "set token-id",
    "xml": "<set>\n<parameter name='prop.sdncRestApi.token_id' value='`$token-result.data.token_id`' />\n",
    "comments": "",
    "x": 1069.0043449401855,
    "y": 630.666919708252,
    "z": "3545e2b7.8c73ce",
    "wires": []
  },
  {
    "id": "eb7128c2.0605b8",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing get token rest api\" />\n",
    "comments": "",
    "x": 1075.0043449401855,
    "y": 668.059907913208,
    "z": "3545e2b7.8c73ce",
    "wires": []
  },
  {
    "id": "ba692605.0e2fb8",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 926.254337310791,
    "y": 667.3098258972168,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "eb7128c2.0605b8"
      ]
    ]
  },
  {
    "id": "ea6762c6.702c5",
    "type": "for",
    "name": "for loop tidx - Get transportNetwork ID",
    "xml": "<for index=\"tidx\" start=\"0\" end=\"`$transportNetworksResp.transportNetworks_length`\">\n    \n    \n",
    "comments": "",
    "outputs": 1,
    "x": 695.0043983459473,
    "y": 995.3335218429565,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "f45abeac.b55fa"
      ]
    ]
  },
  {
    "id": "f45abeac.b55fa",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 911.0047798156738,
    "y": 996.3337659835815,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "8c6e090d.8c7a88"
      ]
    ]
  },
  {
    "id": "8c6e090d.8c7a88",
    "type": "switchNode",
    "name": "switch transportNetworkName same",
    "xml": "<switch test=\"`$transportNetworksResp.transportNetworks[$tidx].name == $prop.wan.transportNetworkName`\">\n\n",
    "comments": "",
    "outputs": 1,
    "x": 1132.0050621032715,
    "y": 994.6670722961426,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "9c44e433.9ec8a8"
      ]
    ]
  },
  {
    "id": "9c44e433.9ec8a8",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1345.0045127868652,
    "y": 994.6669902801514,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "d902b620.732c58"
      ]
    ]
  },
  {
    "id": "570db1f7.cbe77",
    "type": "switchNode",
    "name": "switch ActivateSDWANDeviceInstance",
    "xml": "<switch test=\"`$service-data.vnfs.vnf[$vidx].vnf-data.request-information.request-action == 'ActivateSDWANDeviceInstance'`\">\n    \n    \n\n",
    "comments": "",
    "outputs": 1,
    "x": 1559.3375091552734,
    "y": 227.00005626678467,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "8b1ff3eb.69d25"
      ]
    ]
  },
  {
    "id": "8b1ff3eb.69d25",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1782.3375186920166,
    "y": 227.00005626678467,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "48e7d6a0.748938"
      ]
    ]
  },
  {
    "id": "c26d092c.4da7c8",
    "type": "set",
    "name": "set tmp.devicevidx",
    "xml": "<set>\n<parameter name='tmp.devicevidx' value='`$vidx`' />\n\n",
    "comments": "",
    "x": 2747.3368530273438,
    "y": 658.0000810623169,
    "z": "3545e2b7.8c73ce",
    "wires": []
  },
  {
    "id": "a65a9125.dc54c",
    "type": "switchNode",
    "name": "switch tmp.devicevidx",
    "xml": "<switch test=\"`$tmp.devicevidx`\">\n\n",
    "comments": "",
    "outputs": 1,
    "x": 1212.3374366760254,
    "y": 385.0001187324524,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "432fe6b0.129348"
      ]
    ]
  },
  {
    "id": "432fe6b0.129348",
    "type": "outcome",
    "name": "NULL",
    "xml": "<outcome value=''>\n",
    "comments": "",
    "outputs": 1,
    "x": 1396.7660026550293,
    "y": 385.57155561447144,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "4e59531.7ac0fac"
      ]
    ]
  },
  {
    "id": "4e59531.7ac0fac",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"ActivateSDWANDeviceInstance not found in service-data\" />\n",
    "comments": "",
    "x": 1537.1947441101074,
    "y": 385.7144351005554,
    "z": "3545e2b7.8c73ce",
    "wires": []
  },
  {
    "id": "81f1ba7c.aa1808",
    "type": "comment",
    "name": "Get deviceId from device resource created for this service",
    "info": "",
    "comments": "",
    "x": 2196.6707916259766,
    "y": 324.3333349227905,
    "z": "3545e2b7.8c73ce",
    "wires": []
  },
  {
    "id": "c653d564.103fb8",
    "type": "for",
    "name": "for loop didx - Get deviceId from servicedata",
    "xml": "<for index=\"didx\" start=\"0\" end=\"`$service-data.vnfs.vnf[$vidx].vnf-data.vnf-request-input.vnf-input-parameters.param_length`\">\n    \n    \n",
    "comments": "",
    "outputs": 1,
    "x": 2182.671001434326,
    "y": 247.99997901916504,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "b9b11207.7934a"
      ]
    ]
  },
  {
    "id": "7c90973.05bfa68",
    "type": "switchNode",
    "name": "switch name (DeviceName)",
    "xml": "<switch test=\"`$service-data.vnfs.vnf[$vidx].vnf-data.vnf-request-input.vnf-input-parameters.param[$didx].name == 'name'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2200.671600341797,
    "y": 386.00022411346436,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "41a73401.a0e75c"
      ]
    ]
  },
  {
    "id": "41a73401.a0e75c",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2402.672092437744,
    "y": 380.0002841949463,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "edf1bf9c.83bf3"
      ]
    ]
  },
  {
    "id": "f946d98b.8721e8",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 965.0041046142578,
    "y": 460.6666965484619,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "6e3361b7.a1918"
      ]
    ]
  },
  {
    "id": "b9b11207.7934a",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1975.003890991211,
    "y": 384.6667251586914,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "7c90973.05bfa68"
      ]
    ]
  },
  {
    "id": "f5314270.2417a",
    "type": "switchNode",
    "name": "switch deviceId",
    "xml": "<switch test=\"`$service-data.vnfs.vnf[$vidx].vnf-data.vnf-request-input.vnf-input-parameters.param[$deviceidx].name == 'deviceId'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 3046.0050506591797,
    "y": 598.6670217514038,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "6eb2a758.9628c8"
      ]
    ]
  },
  {
    "id": "6eb2a758.9628c8",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 3199.0054206848145,
    "y": 599.6670989990234,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "2a323a58.ea63c6"
      ]
    ]
  },
  {
    "id": "2a323a58.ea63c6",
    "type": "set",
    "name": "set prop.wan.deviceId",
    "xml": "<set>\n<parameter name='prop.wan.deviceId' value='`$service-data.vnfs.vnf[$vidx].vnf-data.vnf-request-input.vnf-input-parameters.param[$deviceidx].value`' />\n",
    "comments": "",
    "x": 3368.0060272216797,
    "y": 598.2671337127686,
    "z": "3545e2b7.8c73ce",
    "wires": []
  },
  {
    "id": "48e7d6a0.748938",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1923.6708374023438,
    "y": 249.0000762939453,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "c653d564.103fb8"
      ]
    ]
  },
  {
    "id": "edf1bf9c.83bf3",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 2221.0051345825195,
    "y": 463.00025367736816,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "8e851a14.33c2e8"
      ]
    ]
  },
  {
    "id": "15e6beda.ef5931",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2610.0058403015137,
    "y": 466.0003786087036,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "8b8e8a8.6844f78"
      ]
    ]
  },
  {
    "id": "7772ec9b.efcac4",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1912.3376846313477,
    "y": 151.00003242492676,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "db3e11bd.eb0ca",
        "3f24458e.06f9fa",
        "a565af06.127cb",
        "9a2c7dc6.4b893"
      ]
    ]
  },
  {
    "id": "e220c2f5.e3641",
    "type": "for",
    "name": "for loop wanPortidx - Get wanPortId",
    "xml": "<for index=\"wanPortidx\" start=\"0\" end=\"`$wanPortResp_length`\">\n    \n    \n",
    "comments": "",
    "outputs": 1,
    "x": 693.3374061584473,
    "y": 1231.0003681182861,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "50e167ac.c7e768"
      ]
    ]
  },
  {
    "id": "50e167ac.c7e768",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 910.3379402160645,
    "y": 1232.000452041626,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "97aa93ae.f7018"
      ]
    ]
  },
  {
    "id": "97aa93ae.f7018",
    "type": "switchNode",
    "name": "switch deviceId same",
    "xml": "<switch test=\"`$wanPortResp[$wanPortidx].deviceId == $prop.deviceId`\">\n\n",
    "comments": "",
    "outputs": 1,
    "x": 1084.3385925292969,
    "y": 1239.3339138031006,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "3a30ba64.e39ed6"
      ]
    ]
  },
  {
    "id": "3a30ba64.e39ed6",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1252.3377742767334,
    "y": 1228.333701133728,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "3ba0cd34.c2b072"
      ]
    ]
  },
  {
    "id": "3ba0cd34.c2b072",
    "type": "set",
    "name": "set prop.wan.wanPortId",
    "xml": "<set>\n<parameter name='prop.wan.wanPortId' value='`$wanPortResp[$wanPortidx].id`' />\n",
    "comments": "",
    "x": 1334.3284950256348,
    "y": 1278.6572723388672,
    "z": "3545e2b7.8c73ce",
    "wires": []
  },
  {
    "id": "2847803.c88858",
    "type": "for",
    "name": "for loop portidx - Get device portId",
    "xml": "<for index=\"portidx\" start=\"0\" end=\"`$portResp_length`\">\n    \n    \n",
    "comments": "",
    "outputs": 1,
    "x": 686.0040702819824,
    "y": 831.333553314209,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "ec540fb0.f5947"
      ]
    ]
  },
  {
    "id": "ec540fb0.f5947",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 887.0044059753418,
    "y": 832.3337163925171,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "b9169b7.ff5dd68"
      ]
    ]
  },
  {
    "id": "b9169b7.ff5dd68",
    "type": "switchNode",
    "name": "switch deviceId same",
    "xml": "<switch test=\"`$portResp[$portidx].deviceId == $prop.deviceId`\">\n\n",
    "comments": "",
    "outputs": 1,
    "x": 1046.0049057006836,
    "y": 830.6671323776245,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "165db6.9ea6824a"
      ]
    ]
  },
  {
    "id": "165db6.9ea6824a",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1219.0042743682861,
    "y": 831.6669683456421,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "a1161094.a324"
      ]
    ]
  },
  {
    "id": "a1161094.a324",
    "type": "set",
    "name": "set prop.wan.devicePortId",
    "xml": "<set>\n<parameter name='prop.wan.devicePortId' value='`$portResp[$portidx].id`' />\n",
    "comments": "",
    "x": 1379.99515914917,
    "y": 882.9906177520752,
    "z": "3545e2b7.8c73ce",
    "wires": []
  },
  {
    "id": "69fec1ed.0fee",
    "type": "comment",
    "name": "Create port",
    "info": "",
    "comments": "",
    "x": 617.0039558410645,
    "y": 747.3335208892822,
    "z": "3545e2b7.8c73ce",
    "wires": []
  },
  {
    "id": "595aa329.443d7c",
    "type": "comment",
    "name": "Get network id",
    "info": "",
    "comments": "",
    "x": 613.0039558410645,
    "y": 922.3334903717041,
    "z": "3545e2b7.8c73ce",
    "wires": []
  },
  {
    "id": "a89f747e.6de7f8",
    "type": "comment",
    "name": "Create wan port",
    "info": "",
    "comments": "",
    "x": 628.0041046142578,
    "y": 1069.3336572647095,
    "z": "3545e2b7.8c73ce",
    "wires": []
  },
  {
    "id": "fdc236b1.efb848",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 997.0040283203125,
    "y": 1157.000238418579,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "a6e9f6d5.ea4dd8"
      ]
    ]
  },
  {
    "id": "b0038d4b.581a3",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 997.0040245056152,
    "y": 1197.0004034042358,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "be9a3635.dfb8c8"
      ]
    ]
  },
  {
    "id": "be9a3635.dfb8c8",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "comments": "",
    "outputs": 1,
    "x": 1141.0040397644043,
    "y": 1196.0002403259277,
    "z": "3545e2b7.8c73ce",
    "wires": [
      []
    ]
  },
  {
    "id": "a6e9f6d5.ea4dd8",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create wan port rest api\" />\n",
    "comments": "",
    "x": 1139.0043601989746,
    "y": 1156.000238418579,
    "z": "3545e2b7.8c73ce",
    "wires": []
  },
  {
    "id": "dad0aff7.4b6c2",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1044.0039558410645,
    "y": 908.0001773834229,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "63d1b7a0.e4fbc8"
      ]
    ]
  },
  {
    "id": "91b71ecc.ea421",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1044.0039520263672,
    "y": 948.0003423690796,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "45c0e517.c6f5ac"
      ]
    ]
  },
  {
    "id": "45c0e517.c6f5ac",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "comments": "",
    "outputs": 1,
    "x": 1188.0039672851562,
    "y": 947.0001792907715,
    "z": "3545e2b7.8c73ce",
    "wires": [
      []
    ]
  },
  {
    "id": "63d1b7a0.e4fbc8",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Get transport network info rest api\" />\n",
    "comments": "",
    "x": 1186.0042877197266,
    "y": 907.0001773834229,
    "z": "3545e2b7.8c73ce",
    "wires": []
  },
  {
    "id": "a565af06.127cb",
    "type": "call",
    "name": "call sdwan-get-wan-param",
    "xml": "<call module='GENERIC-RESOURCE-API' rpc='sdwan-get-wan-param' mode='sync' >\n",
    "comments": "",
    "outputs": 1,
    "x": 2184.670539855957,
    "y": 157.000075340271,
    "z": "3545e2b7.8c73ce",
    "wires": [
      []
    ]
  },
  {
    "id": "3f24458e.06f9fa",
    "type": "set",
    "name": "set vnf-request-input.",
    "xml": "<set>\n<parameter name='vnf-request-input.' value='`$ctx.vnf-data.vnf-data.vnf-request-input.`' />\n\n",
    "comments": "",
    "x": 2153.670539855957,
    "y": 107.00009250640869,
    "z": "3545e2b7.8c73ce",
    "wires": []
  },
  {
    "id": "7cd20fc3.2681b",
    "type": "comment",
    "name": "This is also required for template parameters update",
    "info": "",
    "comments": "",
    "x": 2549.0043029785156,
    "y": 203.0000352859497,
    "z": "3545e2b7.8c73ce",
    "wires": []
  },
  {
    "id": "400dec0b.3df124",
    "type": "switchNode",
    "name": "switch ActivateSiteInstance",
    "xml": "<switch test=\"`$service-data.vnfs.vnf[$vidx].vnf-data.request-information.request-action == 'ActivateSiteInstance'`\">\n    \n    \n\n",
    "comments": "",
    "outputs": 1,
    "x": 1522.0043487548828,
    "y": 192.00004863739014,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "a948b445.19bab8"
      ]
    ]
  },
  {
    "id": "a948b445.19bab8",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1718.0045318603516,
    "y": 193.00004863739014,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "50e42e52.250bb"
      ]
    ]
  },
  {
    "id": "50e42e52.250bb",
    "type": "set",
    "name": "set tmp.siteVidx",
    "xml": "<set>\n<parameter name='tmp.siteVidx' value='`$vidx`' />\n<parameter name='ctx.site.' value='`$service-data.vnfs.vnf[$vidx].`' />\n\n",
    "comments": "",
    "x": 1904.0038299560547,
    "y": 190.0000524520874,
    "z": "3545e2b7.8c73ce",
    "wires": []
  },
  {
    "id": "ae97242b.dc5558",
    "type": "switchNode",
    "name": "switch tmp.siteVidx",
    "xml": "<switch test=\"`$tmp.siteVidx`\">\n\n",
    "comments": "",
    "outputs": 1,
    "x": 1195.6706581115723,
    "y": 334.00006914138794,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "31115c1a.df8dd4"
      ]
    ]
  },
  {
    "id": "31115c1a.df8dd4",
    "type": "outcome",
    "name": "NULL",
    "xml": "<outcome value=''>\n",
    "comments": "",
    "outputs": 1,
    "x": 1370.0993690490723,
    "y": 334.5715208053589,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "efdc94d7.becbf8"
      ]
    ]
  },
  {
    "id": "efdc94d7.becbf8",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"ActivateSiteInstance not found in service-data\" />\n",
    "comments": "",
    "x": 1512.5280876159668,
    "y": 333.71438360214233,
    "z": "3545e2b7.8c73ce",
    "wires": []
  },
  {
    "id": "8e851a14.33c2e8",
    "type": "switchNode",
    "name": "switch deviceName match",
    "xml": "<switch test=\"`$prop.wan.deviceName == $service-data.vnfs.vnf[$vidx].vnf-data.vnf-request-input.vnf-input-parameters.param[$didx].value`\">\n\n\n",
    "comments": "",
    "outputs": 1,
    "x": 2426.671859741211,
    "y": 464.00031757354736,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "15e6beda.ef5931"
      ]
    ]
  },
  {
    "id": "8b8e8a8.6844f78",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 2509.3377990722656,
    "y": 538.0001611709595,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "7124d1e8.c1afc",
        "c26d092c.4da7c8"
      ]
    ]
  },
  {
    "id": "7124d1e8.c1afc",
    "type": "for",
    "name": "for loop deviceidx - Get deviceId from servicedata",
    "xml": "<for index=\"deviceidx\" start=\"0\" end=\"`$service-data.vnfs.vnf[$vidx].vnf-data.vnf-request-input.vnf-input-parameters.param_length`\">\n    \n    \n",
    "comments": "",
    "outputs": 1,
    "x": 2789.5349502563477,
    "y": 533.0313501358032,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "29242480.1ab1ec"
      ]
    ]
  },
  {
    "id": "29242480.1ab1ec",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 2866.5356826782227,
    "y": 597.0314493179321,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "f5314270.2417a"
      ]
    ]
  },
  {
    "id": "9a2c7dc6.4b893",
    "type": "record",
    "name": "record",
    "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/svclogic.log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\".....\"/>\n<parameter name=\"field3\" value=\"prop.wan.deviceName\"/>\n<parameter name=\"field4\" value='`$prop.wan.deviceName`'/>\n",
    "comments": "",
    "outputs": 1,
    "x": 2112.535285949707,
    "y": 205.03126621246338,
    "z": "3545e2b7.8c73ce",
    "wires": [
      []
    ]
  },
  {
    "id": "acc92682.3c6fd8",
    "type": "for",
    "name": "for vidx..service-data.vnfs.vnf_length[]",
    "xml": "<for index='vidx' start='0' end='`$service-data.vnfs.vnf_length`' >\n",
    "comments": "",
    "outputs": 1,
    "x": 1238.003978729248,
    "y": 228.00001621246338,
    "z": "3545e2b7.8c73ce",
    "wires": [
      [
        "570db1f7.cbe77",
        "400dec0b.3df124"
      ]
    ]
  },
  {
    "id": "ca279788.45f118",
    "type": "set",
    "name": "copy input data to service data",
    "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-id' value='`$service-data.vnfs.vnf[$tmp.vidx].vnf-id`' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.sdnc-request-header.' value='$vnf-topology-operation-input.sdnc-request-header.' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.request-information.' value='$vnf-topology-operation-input.request-information.' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.service-information.' value='$vnf-topology-operation-input.service-information.' />",
    "comments": "",
    "x": 685.03515625,
    "y": 1360.5311269760132,
    "z": "3545e2b7.8c73ce",
    "wires": []
  },
  {
    "id": "a2ce1e1.66d8de",
    "type": "comment",
    "name": "TODO: split ip/mask",
    "info": "",
    "comments": "",
    "x": 1059.00390625,
    "y": 1043.50390625,
    "z": "3545e2b7.8c73ce",
    "wires": []
  }
]
