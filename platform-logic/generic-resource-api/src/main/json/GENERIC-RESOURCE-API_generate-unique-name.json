[{"id":"67de88fb.8c7938","type":"comment","name":"Validation of required data","info":"","comments":"","x":1057.142822265625,"y":515.5803684507098,"z":"90110745.0f08b8","wires":[]},{"id":"94850767.18cb88","type":"dgstart","name":"DGSTART","outputs":1,"x":102.17857578822532,"y":85.27079963684082,"z":"90110745.0f08b8","wires":[["9515dbaf.7cfdd8"]]},{"id":"9515dbaf.7cfdd8","type":"service-logic","name":"GENERIC-RESOURCE-API ${project.version}","module":"GENERIC-RESOURCE-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>","outputs":1,"x":217.46428680419922,"y":126.5089168548584,"z":"90110745.0f08b8","wires":[["e2f684c5.eb7ee8"]]},{"id":"e2f684c5.eb7ee8","type":"method","name":"method generate-unique-name","xml":"<method rpc='generate-unique-name' mode='sync'>\n","comments":"","outputs":1,"x":173.5238800048828,"y":168.1874546323504,"z":"90110745.0f08b8","wires":[["68aae923.1b9ef8"]]},{"id":"2c60d5c7.2f6a4a","type":"comment","name":"generate-unique-name","info":"Input arguments:\ngenerate-unique-name-input.index-table-name - name of INDEX table\ngenerate-unique-name-input.index-table-prefix-column - name of prefix column in above table\ngenerate-unique-name-input.name-table-name - name of table holding all generated names\ngenerate-unique-name-input.index-length - non-null digit if index should be fixed length\n\nOutput arguments:\ngenerate-unique-name-output.generated-name - generated name (null if error)\ngenerate-unique-name-output.error-message - error message (non-null if error)\n","comments":"","x":496.52343205043235,"y":32.85714340209961,"z":"90110745.0f08b8","wires":[]},{"id":"c38467.17e88b98","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":552.0595245361328,"y":1462.4405617032733,"z":"90110745.0f08b8","wires":[["e07193e1.224fa","db37eadb.3a3d08","f2d5b5.74cefa48","e4e1fe0e.7ce86","536fad15.81aec4","54f8ebb1.fbd3a4","56d20088.dca34","a0df1e14.0a77c","2db87246.6ac1ae","a9e87bf7.6d8b68","4e23a92d.e2e488"]]},{"id":"e07193e1.224fa","type":"switchNode","name":"switch generate-unique-name-input.index-table-name","xml":"<switch test='`$generate-unique-name-input.index-table-name`'>\n","comments":"","outputs":1,"x":993.7262115478516,"y":561.1905063901629,"z":"90110745.0f08b8","wires":[["18433a18.3228e6"]]},{"id":"18433a18.3228e6","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1323.726131439209,"y":561.1904958997454,"z":"90110745.0f08b8","wires":[["631b8d51.8c1104"]]},{"id":"631b8d51.8c1104","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='generate-unique-name-output.error-message' value='generate-unique-name-input.index-table-name not supplied' />\n","comments":"","x":1497.0594520568848,"y":561.1904873166766,"z":"90110745.0f08b8","wires":[]},{"id":"db37eadb.3a3d08","type":"switchNode","name":"switch generate-unique-name-input.index-table-prefix-column","xml":"<switch test='`$generate-unique-name-input.index-table-prefix-column`'>\n","comments":"","outputs":1,"x":1018.7261810302734,"y":604.5238422666278,"z":"90110745.0f08b8","wires":[["1d937744.b083a9"]]},{"id":"1d937744.b083a9","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1322.0594444274902,"y":604.5238212857928,"z":"90110745.0f08b8","wires":[["545cc85f.e1dd58"]]},{"id":"545cc85f.e1dd58","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='generate-unique-name-output.error-message' value='generate-unique-name-input.index-table-prefix-column not supplied' />\n","comments":"","x":1495.3927612304688,"y":604.8571647916522,"z":"90110745.0f08b8","wires":[]},{"id":"f2d5b5.74cefa48","type":"switchNode","name":"switch generate-unique-name-input.name-table-type","xml":"<switch test='`$generate-unique-name-input.name-table-type`'>\n","comments":"","outputs":1,"x":989.726188659668,"y":649.5238346372332,"z":"90110745.0f08b8","wires":[["c3a054c.71adaa8"]]},{"id":"c3a054c.71adaa8","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1322.0593852996826,"y":649.5238441739764,"z":"90110745.0f08b8","wires":[["a9d236bd.19e0f8"]]},{"id":"a9d236bd.19e0f8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='generate-unique-name-output.error-message' value='generate-unique-name-input.name-table-type not supplied' />\n","comments":"","x":1493.726161956787,"y":649.8571476255145,"z":"90110745.0f08b8","wires":[]},{"id":"56d20088.dca34","type":"get-resource","name":"get-resource current name index","xml":"<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key=\"`$tmp.gun.sql`\" pfx='tmp.gun.prefixdb'>\n\n","comments":"","outputs":1,"x":921.3927917480469,"y":1090.2855362210955,"z":"90110745.0f08b8","wires":[["145a06ca.15e939","b91db4d1.5863b8","c98722cf.dc1a3"]]},{"id":"145a06ca.15e939","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1146.5832595825195,"y":1168.8094429288592,"z":"90110745.0f08b8","wires":[["5ade3940.140eb8"]]},{"id":"5ade3940.140eb8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n    <parameter name=\"generate-unique-name-output.error-message\" value=\"`'Error reading the ' + $generate-unique-name-input.index-table-name + ' table'`\" />\n","comments":"","x":1309.2023811340332,"y":1170.238171032497,"z":"90110745.0f08b8","wires":[]},{"id":"43b733f4.e9302c","type":"for","name":"for idx from current index to list-end","xml":"<for index='tmp.gun.idx' start='`$tmp.gun.index-number`' end='`$tmp.gun.list-end`' >\n","comments":"","outputs":1,"x":1073.7261962890625,"y":1492.8571519851685,"z":"90110745.0f08b8","wires":[["91d927f9.353948"]]},{"id":"e4e1fe0e.7ce86","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":836.3451919555664,"y":1492.8571171079363,"z":"90110745.0f08b8","wires":[["43b733f4.e9302c","c322ca3a.666808"]]},{"id":"c322ca3a.666808","type":"returnSuccess","name":"CATCH BREAK","xml":"<return status='success'>\n\n","comments":"","x":1024.6786041259766,"y":2067.857247761318,"z":"90110745.0f08b8","wires":[]},{"id":"536fad15.81aec4","type":"switchNode","name":"switch generate-unique-name-input.prefix","xml":"<switch test='`$generate-unique-name-input.prefix`'>\n","comments":"","outputs":1,"x":955.3928298950195,"y":694.5238136563983,"z":"90110745.0f08b8","wires":[["82c1a7dd.32a6a8"]]},{"id":"82c1a7dd.32a6a8","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1322.7260189056396,"y":694.5238384519305,"z":"90110745.0f08b8","wires":[["db83eab5.1248c8"]]},{"id":"db83eab5.1248c8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='generate-unique-name-output.error-message' value='generate-unique-name-input.prefix not supplied' />\n","comments":"","x":1495.3927955627441,"y":694.8571419034686,"z":"90110745.0f08b8","wires":[]},{"id":"54f8ebb1.fbd3a4","type":"switchNode","name":"switch generate-unique-name-input.index-length","xml":"<switch test='`$generate-unique-name-input.index-length`'>\n","comments":"","outputs":1,"x":978.7261962890625,"y":829.523755482265,"z":"90110745.0f08b8","wires":[["f7c6d6ff.541f78","ce184e71.86be8","4c11c2f5.d535ac","d88178cc.f88d98","febff3b8.f5c6e"]]},{"id":"f7c6d6ff.541f78","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1322.0595092773438,"y":737.8571419034686,"z":"90110745.0f08b8","wires":[["5b517f27.498b7"]]},{"id":"febff3b8.f5c6e","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1319.3928985595703,"y":914.5238022123065,"z":"90110745.0f08b8","wires":[["2531a549.b793aa"]]},{"id":"ce184e71.86be8","type":"outcome","name":"1","xml":"<outcome value='1'>\n","comments":"","outputs":1,"x":1320.3928565979004,"y":782.8571819577899,"z":"90110745.0f08b8","wires":[["31a1c558.a77dba"]]},{"id":"4c11c2f5.d535ac","type":"outcome","name":"2","xml":"<outcome value='2'>\n","comments":"","outputs":1,"x":1320.3928413391113,"y":827.8571724210467,"z":"90110745.0f08b8","wires":[["510f4c1a.709e14"]]},{"id":"d88178cc.f88d98","type":"outcome","name":"3","xml":"<outcome value='3'>\n","comments":"","outputs":1,"x":1318.7261772155762,"y":871.1905082975115,"z":"90110745.0f08b8","wires":[["9efb14fc.5f68e8"]]},{"id":"31a1c558.a77dba","type":"set","name":"set list-end = 10","xml":"<set>\n<parameter name='tmp.gun.list-end' value='10' />\n","comments":"","x":1503.0595932006836,"y":782.8571705136981,"z":"90110745.0f08b8","wires":[]},{"id":"510f4c1a.709e14","type":"set","name":"set list-end = 100","xml":"<set>\n<parameter name='tmp.gun.list-end' value='100' />\n","comments":"","x":1506.392822265625,"y":827.8571724210467,"z":"90110745.0f08b8","wires":[]},{"id":"9efb14fc.5f68e8","type":"set","name":"set list-end = 1000","xml":"<set>\n<parameter name='tmp.gun.list-end' value='1000' />\n","comments":"","x":1508.392822265625,"y":871.190485409328,"z":"90110745.0f08b8","wires":[]},{"id":"2531a549.b793aa","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='generate-unique-name-output.error-message' value='generate-unique-name-input.prefix not supplied' />\n","comments":"","x":1490.392822265625,"y":913.8571724210467,"z":"90110745.0f08b8","wires":[]},{"id":"70192d95.678c34","type":"set","name":"set new index number to 1","xml":"<set>\n<parameter name='tmp.gun.index-number' value='1' />\n","comments":"","x":1481.8216018676758,"y":1113.4288276944842,"z":"90110745.0f08b8","wires":[]},{"id":"5b517f27.498b7","type":"set","name":"set list-end = 10000 (infinity basically)","xml":"<set>\n<parameter name='tmp.gun.list-end' value='10000' />\n","comments":"","x":1571.0594482421875,"y":738.190485409328,"z":"90110745.0f08b8","wires":[]},{"id":"314df997.3fe296","type":"switchNode","name":"switch generate-unique-name-input.index-length","xml":"<switch test='`$generate-unique-name-input.index-length`'>\n","comments":"","outputs":1,"x":1635.3927764892578,"y":1419.5237907682147,"z":"90110745.0f08b8","wires":[["d05e660d.be4cd8","c3985438.571b88","b03a2186.83945","f88e445.6bd78b8"]]},{"id":"d05e660d.be4cd8","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1915.3927764892578,"y":1349.523851803371,"z":"90110745.0f08b8","wires":[["4bdac272.02882c"]]},{"id":"c3985438.571b88","type":"outcome","name":"1","xml":"<outcome value='1'>\n","comments":"","outputs":1,"x":1913.7261238098145,"y":1394.5238918576922,"z":"90110745.0f08b8","wires":[["4bdac272.02882c"]]},{"id":"b03a2186.83945","type":"outcome","name":"2","xml":"<outcome value='2'>\n","comments":"","outputs":1,"x":1913.7262115478516,"y":1447.8572391782488,"z":"90110745.0f08b8","wires":[["aa9d44e3.177b58"]]},{"id":"f88e445.6bd78b8","type":"outcome","name":"3","xml":"<outcome value='3'>\n","comments":"","outputs":1,"x":1913.726089477539,"y":1544.5239719663348,"z":"90110745.0f08b8","wires":[["9cdd86f.ae52778"]]},{"id":"4bdac272.02882c","type":"set","name":"set index-string to idx","xml":"<set>\n<parameter name='tmp.gun.index-string' value='`$tmp.gun.idx`' />\n","comments":"","x":2100.392925262451,"y":1367.8571953092303,"z":"90110745.0f08b8","wires":[]},{"id":"aa9d44e3.177b58","type":"switchNode","name":"switch idx < 10","xml":"<switch test='`$tmp.gun.idx &lt; 10`'>\n","comments":"","outputs":1,"x":2080.3928413391113,"y":1447.857137135097,"z":"90110745.0f08b8","wires":[["db28baee.042fe8","31a49c00.cbd4c4"]]},{"id":"db28baee.042fe8","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2242.0594749450684,"y":1421.1905102048602,"z":"90110745.0f08b8","wires":[["1f2e15a5.5c898a"]]},{"id":"31a49c00.cbd4c4","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":2242.0594329833984,"y":1469.523846081325,"z":"90110745.0f08b8","wires":[["5fd3a71c.4e8c88"]]},{"id":"1f2e15a5.5c898a","type":"set","name":"set index-string to '0' + idx","xml":"<set>\n<parameter name='tmp.gun.index-string' value=\"`'' + '0' + $tmp.gun.idx`\" />\n","comments":"","x":2433.726234436035,"y":1420.523737362453,"z":"90110745.0f08b8","wires":[]},{"id":"5fd3a71c.4e8c88","type":"set","name":"set index-string to idx","xml":"<set>\n<parameter name='tmp.gun.index-string' value='`$tmp.gun.idx`' />\n","comments":"","x":2417.05948638916,"y":1469.1904529844012,"z":"90110745.0f08b8","wires":[]},{"id":"9cdd86f.ae52778","type":"switchNode","name":"switch idx < 10","xml":"<switch test='`$tmp.gun.idx &lt; 10`'>\n","comments":"","outputs":1,"x":2082.059425354004,"y":1542.8570999417987,"z":"90110745.0f08b8","wires":[["4dff528e.5fe12c","e36c83c7.3522d"]]},{"id":"4dff528e.5fe12c","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2242.0594024658203,"y":1516.1904777799334,"z":"90110745.0f08b8","wires":[["3d8d515c.20155e"]]},{"id":"e36c83c7.3522d","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":2243.726058959961,"y":1591.1904358182635,"z":"90110745.0f08b8","wires":[["5210620f.f035ac"]]},{"id":"3d8d515c.20155e","type":"set","name":"set index-string to '00' + idx","xml":"<set>\n<parameter name='tmp.gun.index-string' value=\"`'' + '00' + $tmp.gun.idx`\" />\n","comments":"","x":2437.0594940185547,"y":1516.1903686523438,"z":"90110745.0f08b8","wires":[]},{"id":"5210620f.f035ac","type":"switchNode","name":"switch idx < 100","xml":"<switch test='`$tmp.gun.idx &lt; 100`'>\n","comments":"","outputs":1,"x":2400.059440612793,"y":1589.5237964902606,"z":"90110745.0f08b8","wires":[["bb2d2969.5be9a8","f8c44cdb.e372f"]]},{"id":"bb2d2969.5be9a8","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2557.0594177246094,"y":1562.8571743283953,"z":"90110745.0f08b8","wires":[["7621b36e.37c05c"]]},{"id":"f8c44cdb.e372f","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":2557.0593757629395,"y":1611.1905102048602,"z":"90110745.0f08b8","wires":[["c1d12981.5578f8"]]},{"id":"7621b36e.37c05c","type":"set","name":"set index-string to '0' + idx","xml":"<set>\n<parameter name='tmp.gun.index-string' value=\"`'' + '0' + $tmp.gun.idx`\" />\n","comments":"","x":2749.726203918457,"y":1562.5238289151873,"z":"90110745.0f08b8","wires":[]},{"id":"c1d12981.5578f8","type":"set","name":"set index-string to idx","xml":"<set>\n<parameter name='tmp.gun.index-string' value='`$tmp.gun.idx`' />\n","comments":"","x":2733.726188659668,"y":1610.8571323667254,"z":"90110745.0f08b8","wires":[]},{"id":"630383d6.9584cc","type":"set","name":"set generated-name to prefix + index-string","xml":"<set>\n<parameter name='tmp.gun.generated-name' value='`$generate-unique-name-input.prefix + $tmp.gun.index-string`' />\n","comments":"","x":1619.3928680419922,"y":1696.1904396329608,"z":"90110745.0f08b8","wires":[]},{"id":"e52dd26e.0f4e","type":"set","name":"increment index number","xml":"<set>\n<parameter name='tmp.gun.index-number' value='`$tmp.gun.prefixdb.index-number + 1`' />\n","comments":"","x":1473.7261962890625,"y":1023.4761659417834,"z":"90110745.0f08b8","wires":[]},{"id":"73c9dbdb.c05d54","type":"comment","name":"First check from the current index to the max index","info":"","comments":"","x":1037.0595397949219,"y":1431.1905206952777,"z":"90110745.0f08b8","wires":[]},{"id":"1b12fce7.736083","type":"comment","name":"check if we've used this name before","info":"","comments":"","x":1616.1073913574219,"y":1780.4765853881836,"z":"90110745.0f08b8","wires":[]},{"id":"60c15f95.e82e1","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1723.7261924743652,"y":1857.8573679242816,"z":"90110745.0f08b8","wires":[["d699e5de.1c2618"]]},{"id":"38122015.0cd4f","type":"set","name":"set generate-unique-name-output.error-message","xml":"<set>\n<parameter name='generate-unique-name-output.error-message' value=\"`'Error reading the GENERIC_RESOURCE_NAME table'`\" />\n","comments":"","x":2169.6784439086914,"y":1831.4287008558001,"z":"90110745.0f08b8","wires":[]},{"id":"9f978d91.b34da","type":"returnFailure","name":"BREAK","xml":"<return status='failure'>\n","comments":"","x":2034.916690826416,"y":1876.4287885938372,"z":"90110745.0f08b8","wires":[]},{"id":"48493fbe.6eb1a","type":"returnFailure","name":"BREAK","xml":"<return status='failure'>\n","comments":"","x":2037.7737121582031,"y":1971.33347933633,"z":"90110745.0f08b8","wires":[]},{"id":"ff71e11.cb7392","type":"comment","name":"found one we can use","info":"","comments":"","x":1855.6311683654785,"y":1902.3814014707293,"z":"90110745.0f08b8","wires":[]},{"id":"a0df1e14.0a77c","type":"switchNode","name":"switch generate-unique-name-output.error-message","xml":"<switch test='`$generate-unique-name-output.error-message`'>\n","comments":"","outputs":1,"x":987.8928833007812,"y":2185.7143883023946,"z":"90110745.0f08b8","wires":[["47956a10.f7f354","822e2233.58978"]]},{"id":"47956a10.f7f354","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1261.2262916564941,"y":2159.0476402555196,"z":"90110745.0f08b8","wires":[["9fcbb9ed.6b3558"]]},{"id":"9fcbb9ed.6b3558","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1396.2262916564941,"y":2159.0476402555196,"z":"90110745.0f08b8","wires":[[]]},{"id":"822e2233.58978","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1261.2262573242188,"y":2209.0476612363545,"z":"90110745.0f08b8","wires":[["d471ec21.e29e1"]]},{"id":"d471ec21.e29e1","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n","comments":"","x":1411.2262573242188,"y":2209.0476612363545,"z":"90110745.0f08b8","wires":[]},{"id":"2db87246.6ac1ae","type":"switchNode","name":"switch found-flag","xml":"<switch test='`$tmp.gun.found-flag`'>\n","comments":"","outputs":1,"x":859.6071929931641,"y":2468.5715078626363,"z":"90110745.0f08b8","wires":[["1afe7988.3e2406","382ec618.a7ddba"]]},{"id":"1afe7988.3e2406","type":"outcome","name":"true","xml":"<outcome value='true'>","comments":"","outputs":1,"x":1033.9405326843262,"y":2468.5715088163106,"z":"90110745.0f08b8","wires":[["3d2939f2.411d96"]]},{"id":"97761528.22f748","type":"set","name":"set generate-unique-name-output.generated-name","xml":"<set>\n<parameter name='generate-unique-name-output.generated-name' value='`$tmp.gun.generated-name`' />\n","comments":"","x":1504.6071472167969,"y":2313.5717949186055,"z":"90110745.0f08b8","wires":[]},{"id":"eda538a7.a89168","type":"returnSuccess","name":"return success","xml":"<return status='success'>\n","comments":"","x":1386.6547164916992,"y":2650.952589443752,"z":"90110745.0f08b8","wires":[]},{"id":"3d2939f2.411d96","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1185.607162475586,"y":2467.9049228940694,"z":"90110745.0f08b8","wires":[["97761528.22f748","8aabfd4d.0ee5a","b24cce42.caeba","eda538a7.a89168","76d2de9f.d1d72"]]},{"id":"77a666ae.651d38","type":"set","name":"set index-exists flag to false","xml":"<set>\n<parameter name='tmp.gun.index-exists' value='false' />\n","comments":"","x":1485.8689880371094,"y":1067.142887524196,"z":"90110745.0f08b8","wires":[]},{"id":"21842051.8fdc8","type":"set","name":"set index-exists flag to true","xml":"<set>\n<parameter name='tmp.gun.index-exists' value='true' />\n","comments":"","x":1482.0120010375977,"y":978.571439913341,"z":"90110745.0f08b8","wires":[]},{"id":"4cecef4a.45b81","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1288.7262725830078,"y":1000.0000459466662,"z":"90110745.0f08b8","wires":[["21842051.8fdc8","e52dd26e.0f4e"]]},{"id":"8aabfd4d.0ee5a","type":"switchNode","name":"switch index-exists","xml":"<switch test='`$tmp.gun.index-exists`'>\n","comments":"","outputs":1,"x":1400.369155883789,"y":2445.714796475002,"z":"90110745.0f08b8","wires":[["346f0424.17228c","2db882f9.07b2be"]]},{"id":"346f0424.17228c","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1578.9405212402344,"y":2421.429064205715,"z":"90110745.0f08b8","wires":[["46d7a7fe.5f3bf8"]]},{"id":"2db882f9.07b2be","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1578.9405364990234,"y":2468.571989468166,"z":"90110745.0f08b8","wires":[["a296a95c.85f908"]]},{"id":"783bc8f9.d13d28","type":"save","name":"save (update) name index","xml":"<save plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key=\"`$tmp.gun.sql`\" pfx='pfx'>\n","comments":"","outputs":1,"x":1974.6548461914062,"y":2422.857480457851,"z":"90110745.0f08b8","wires":[["67762a25.ef1984"]]},{"id":"c608a7c.ab02058","type":"save","name":"save (insert) name index","xml":"<save plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key=\"`$tmp.gun.sql`\" pfx='pfx'>\n","comments":"","outputs":1,"x":1967.5118255615234,"y":2517.1429485593526,"z":"90110745.0f08b8","wires":[["396de0c3.36e29"]]},{"id":"67762a25.ef1984","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2167.512046813965,"y":2422.8574995313375,"z":"90110745.0f08b8","wires":[["77e2ebe5.4aacd4"]]},{"id":"396de0c3.36e29","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2164.6546173095703,"y":2515.71446459634,"z":"90110745.0f08b8","wires":[["a64a1c5c.548e1"]]},{"id":"b24cce42.caeba","type":"save","name":"save (insert) generated name","xml":"<save plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key=\"`$tmp.gun.sql`\" pfx='pfx'>\n","comments":"","outputs":1,"x":1434.797752380371,"y":2604.2857708249776,"z":"90110745.0f08b8","wires":[["6e840dcf.98d2c4"]]},{"id":"6e840dcf.98d2c4","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1644.7976837158203,"y":2604.2858223233907,"z":"90110745.0f08b8","wires":[["14711303.85363d"]]},{"id":"14711303.85363d","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n    <parameter name=\"generate-unique-name-output.error-message\" value=\"Failed insert into GENERIC_RESOURCE_NAME table\" />\n","comments":"","x":1799.0834999084473,"y":2604.285841396877,"z":"90110745.0f08b8","wires":[]},{"id":"a9e87bf7.6d8b68","type":"set","name":"set sql statement","xml":"<set>\n<parameter name='tmp.gun.sql' value=\"`'SELECT * from ' + $generate-unique-name-input.index-table-name\n+ ' WHERE ' + $generate-unique-name-input.index-table-prefix-column + ' = '\n+ '$generate-unique-name-input.prefix'`\" />\n","comments":"","x":877.2976760864258,"y":958.5715393338885,"z":"90110745.0f08b8","wires":[]},{"id":"91d927f9.353948","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1315.8690567016602,"y":1491.428631237575,"z":"90110745.0f08b8","wires":[["314df997.3fe296","630383d6.9584cc","3e27b62f.f1d58a","880d7037.87ac9"]]},{"id":"d699e5de.1c2618","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1876.1071891784668,"y":1857.3812870298113,"z":"90110745.0f08b8","wires":[["38122015.0cd4f","9f978d91.b34da"]]},{"id":"46d7a7fe.5f3bf8","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1756.226333618164,"y":2398.5715927396504,"z":"90110745.0f08b8","wires":[["d44f050d.8c0008","783bc8f9.d13d28"]]},{"id":"a296a95c.85f908","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1753.3691864013672,"y":2494.285911015102,"z":"90110745.0f08b8","wires":[["c608a7c.ab02058","462aa6c7.448d08"]]},{"id":"d44f050d.8c0008","type":"set","name":"set sql statement","xml":"<set>\n<parameter name='tmp.gun.sql' value=\"`'update ' + $generate-unique-name-input.index-table-name\n+ ' set index_number = ' + $tmp.gun.index-string + ' where '\n+ $generate-unique-name-input.index-table-prefix-column\n+ ' = $generate-unique-name-input.prefix'`\" />\n","comments":"","x":1944.7976150512695,"y":2374.285564354488,"z":"90110745.0f08b8","wires":[]},{"id":"462aa6c7.448d08","type":"set","name":"set sql statement","xml":"<set>\n<parameter name='tmp.gun.sql' value=\"`'insert into ' + $generate-unique-name-input.index-table-name\n+ '(' + $generate-unique-name-input.index-table-prefix-column + ', index_number) values ('\n+ ' $generate-unique-name-input.prefix , ' + $tmp.gun.index-string + ')'`\" />\n\n","comments":"","x":1943.3691635131836,"y":2468.571381023952,"z":"90110745.0f08b8","wires":[]},{"id":"bbed7686.7c8a78","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1730.3929290771484,"y":1948.8097633634295,"z":"90110745.0f08b8","wires":[["193702b8.5c51ed"]]},{"id":"6d5c7c0e.2718a4","type":"for","name":"for idx from 1 to current index","xml":"<for index='tmp.gun.idx' start='1' end='`$tmp.gun.index-number`' >\n","comments":"","outputs":1,"x":1580.1787033081055,"y":3060.5239128385274,"z":"90110745.0f08b8","wires":[["c87de081.2b7b6"]]},{"id":"1185013a.772fcf","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1348.5119857788086,"y":3060.5239137922017,"z":"90110745.0f08b8","wires":[["6d5c7c0e.2718a4","bf365e0a.2dfca"]]},{"id":"bf365e0a.2dfca","type":"returnSuccess","name":"CATCH BREAK","xml":"<return status='success'>\n\n","comments":"","x":1531.1310958862305,"y":3635.5240434919087,"z":"90110745.0f08b8","wires":[]},{"id":"9144f7d0.dfe548","type":"switchNode","name":"switch generate-unique-name-input.index-length","xml":"<switch test='`$generate-unique-name-input.index-length`'>\n","comments":"","outputs":1,"x":2141.8452682495117,"y":2987.1905864988057,"z":"90110745.0f08b8","wires":[["644f5421.41381c","e5c0619b.7a065","e0c68335.db7ab","41de4558.401f8c"]]},{"id":"644f5421.41381c","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":2421.8452682495117,"y":2917.190647533962,"z":"90110745.0f08b8","wires":[["fb2ee76c.834068"]]},{"id":"e5c0619b.7a065","type":"outcome","name":"1","xml":"<outcome value='1'>\n","comments":"","outputs":1,"x":2420.1786155700684,"y":2962.1906875882833,"z":"90110745.0f08b8","wires":[["fb2ee76c.834068"]]},{"id":"e0c68335.db7ab","type":"outcome","name":"2","xml":"<outcome value='2'>\n","comments":"","outputs":1,"x":2420.1787033081055,"y":3015.52403490884,"z":"90110745.0f08b8","wires":[["21e6c935.f093a6"]]},{"id":"41de4558.401f8c","type":"outcome","name":"3","xml":"<outcome value='3'>\n","comments":"","outputs":1,"x":2420.178581237793,"y":3112.190767696926,"z":"90110745.0f08b8","wires":[["ae67a8d.0fd0d58"]]},{"id":"fb2ee76c.834068","type":"set","name":"set index-string to idx","xml":"<set>\n<parameter name='tmp.gun.index-string' value='`$tmp.gun.idx`' />\n","comments":"","x":2606.845417022705,"y":2935.5239910398213,"z":"90110745.0f08b8","wires":[]},{"id":"21e6c935.f093a6","type":"switchNode","name":"switch idx < 10","xml":"<switch test='`$tmp.gun.idx &lt; 10`'>\n","comments":"","outputs":1,"x":2586.8453330993652,"y":3015.523932865688,"z":"90110745.0f08b8","wires":[["c00eb747.c971c8","7a0fee3a.c8155"]]},{"id":"c00eb747.c971c8","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2748.5119667053223,"y":2988.857305935451,"z":"90110745.0f08b8","wires":[["c515b54.3569d48"]]},{"id":"7a0fee3a.c8155","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":2748.5119247436523,"y":3037.190641811916,"z":"90110745.0f08b8","wires":[["de2fc71d.e11088"]]},{"id":"c515b54.3569d48","type":"set","name":"set index-string to '0' + idx","xml":"<set>\n<parameter name='tmp.gun.index-string' value=\"`'' + '0' + $tmp.gun.idx`\" />\n","comments":"","x":2940.178726196289,"y":2988.190533093044,"z":"90110745.0f08b8","wires":[]},{"id":"de2fc71d.e11088","type":"set","name":"set index-string to idx","xml":"<set>\n<parameter name='tmp.gun.index-string' value='`$tmp.gun.idx`' />\n","comments":"","x":2923.511978149414,"y":3036.8572487149922,"z":"90110745.0f08b8","wires":[]},{"id":"ae67a8d.0fd0d58","type":"switchNode","name":"switch idx < 10","xml":"<switch test='`$tmp.gun.idx &lt; 10`'>\n","comments":"","outputs":1,"x":2588.511917114258,"y":3110.5238956723897,"z":"90110745.0f08b8","wires":[["c8925f4d.077c6","12f4b493.683e8b"]]},{"id":"c8925f4d.077c6","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2748.511894226074,"y":3083.8572735105245,"z":"90110745.0f08b8","wires":[["c22d1aeb.d63b48"]]},{"id":"12f4b493.683e8b","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":2750.178550720215,"y":3158.8572315488545,"z":"90110745.0f08b8","wires":[["90f5c134.3ca9"]]},{"id":"c22d1aeb.d63b48","type":"set","name":"set index-string to '00' + idx","xml":"<set>\n<parameter name='tmp.gun.index-string' value=\"`'' + '00' + $tmp.gun.idx`\" />\n","comments":"","x":2943.511978149414,"y":3083.8572487149922,"z":"90110745.0f08b8","wires":[]},{"id":"90f5c134.3ca9","type":"switchNode","name":"switch idx < 100","xml":"<switch test='`$tmp.gun.idx &lt; 100`'>\n","comments":"","outputs":1,"x":2906.511932373047,"y":3157.1905922208516,"z":"90110745.0f08b8","wires":[["87f17e57.81d71","f8e50bff.aaa1f8"]]},{"id":"87f17e57.81d71","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":3063.5119094848633,"y":3130.5239700589864,"z":"90110745.0f08b8","wires":[["caf5e13b.23238"]]},{"id":"f8e50bff.aaa1f8","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":3063.5118675231934,"y":3178.857305935451,"z":"90110745.0f08b8","wires":[["2e72859.272837a"]]},{"id":"caf5e13b.23238","type":"set","name":"set index-string to '0' + idx","xml":"<set>\n<parameter name='tmp.gun.index-string' value=\"`'' + '0' + $tmp.gun.idx`\" />\n","comments":"","x":3256.178695678711,"y":3130.1906246457784,"z":"90110745.0f08b8","wires":[]},{"id":"2e72859.272837a","type":"set","name":"set index-string to idx","xml":"<set>\n<parameter name='tmp.gun.index-string' value='`$tmp.gun.idx`' />\n","comments":"","x":3240.178680419922,"y":3178.5239280973165,"z":"90110745.0f08b8","wires":[]},{"id":"9775d1bd.a31a5","type":"set","name":"set generated-name to prefix + index-string","xml":"<set>\n<parameter name='tmp.gun.generated-name' value='`$generate-unique-name-input.prefix + $tmp.gun.index-string`' />\n","comments":"","x":2125.845359802246,"y":3263.857235363552,"z":"90110745.0f08b8","wires":[]},{"id":"35bc5497.2d892c","type":"comment","name":"Wrapping around - now check from 1 to the original index","info":"","comments":"","x":1553.5120162963867,"y":2946.000319889614,"z":"90110745.0f08b8","wires":[]},{"id":"ccb5f6ab.ef5478","type":"comment","name":"check if we've used this name before","info":"","comments":"","x":2112.5598068237305,"y":3378.8575090680806,"z":"90110745.0f08b8","wires":[]},{"id":"e74cf3af.ae8e8","type":"get-resource","name":"get-resource name","xml":"<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key=\"`$tmp.gun.sql`\" pfx='tmp.gun.namedb'>\n\n","comments":"","outputs":1,"x":2050.178623199463,"y":3519.571578979492,"z":"90110745.0f08b8","wires":[["2f478f3e.e0607","398f430e.7a743c"]]},{"id":"2f478f3e.e0607","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2228.5120162963867,"y":3473.8574156079976,"z":"90110745.0f08b8","wires":[["c9df5194.5868"]]},{"id":"9ffe2099.9294f","type":"set","name":"set generate-unique-name-output.error-message","xml":"<set>\n<parameter name='generate-unique-name-output.error-message' value=\"Error reading the GENERIC_RESOURCE_NAME table\" />\n","comments":"","x":2674.464267730713,"y":3447.428748539516,"z":"90110745.0f08b8","wires":[]},{"id":"745383f6.b6740c","type":"returnFailure","name":"BREAK","xml":"<return status='failure'>\n","comments":"","x":2539.7025146484375,"y":3492.4288362775533,"z":"90110745.0f08b8","wires":[]},{"id":"cd5abdec.20e31","type":"switchNode","name":"switch generate-unique-name-output.error-message","xml":"<switch test='`$generate-unique-name-output.error-message`'>\n","comments":"","outputs":1,"x":1512.5595932006836,"y":3743.381119183132,"z":"90110745.0f08b8","wires":[["8a7bb59.e987548","ec85a0b6.70f26"]]},{"id":"8a7bb59.e987548","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1785.8930015563965,"y":3716.714371136257,"z":"90110745.0f08b8","wires":[["13932aab.cff7c5"]]},{"id":"13932aab.cff7c5","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1920.8930015563965,"y":3716.714371136257,"z":"90110745.0f08b8","wires":[[]]},{"id":"ec85a0b6.70f26","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1785.892967224121,"y":3766.714392117092,"z":"90110745.0f08b8","wires":[["a496c9cc.3afe48"]]},{"id":"a496c9cc.3afe48","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n","comments":"","x":1935.892967224121,"y":3766.714392117092,"z":"90110745.0f08b8","wires":[]},{"id":"e38bddb.6889c2","type":"switchNode","name":"switch found-flag","xml":"<switch test='`$tmp.gun.found-flag`'>\n","comments":"","outputs":1,"x":1394.2738723754883,"y":3922.905027798244,"z":"90110745.0f08b8","wires":[["d6f25ad7.1e9978"]]},{"id":"70380c05.64b0a4","type":"comment","name":"if db name is null we found an index we can use","info":"","comments":"","x":1560.9882125854492,"y":3872.428802898952,"z":"90110745.0f08b8","wires":[]},{"id":"d6f25ad7.1e9978","type":"outcome","name":"true","xml":"<outcome value='true'>","comments":"","outputs":1,"x":1553.607192993164,"y":3922.9049848829,"z":"90110745.0f08b8","wires":[["e5da090c.731d68"]]},{"id":"feb55f31.73e7a","type":"set","name":"set generate-unique-name-output.generated-name","xml":"<set>\n<parameter name='generate-unique-name-output.generated-name' value='`$tmp.gun.generated-name`' />\n","comments":"","x":2029.2738571166992,"y":3871.238525799343,"z":"90110745.0f08b8","wires":[]},{"id":"89e6e738.067dc8","type":"returnSuccess","name":"return success","xml":"<return status='success'>\n\n","comments":"","x":1912.7499084472656,"y":4210.047996929714,"z":"90110745.0f08b8","wires":[]},{"id":"e5da090c.731d68","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1720.2738876342773,"y":3921.238203457424,"z":"90110745.0f08b8","wires":[["feb55f31.73e7a","4da56fe5.e07a7","e153c7a4.007a58","89e6e738.067dc8","9ece7ac0.84e2b8"]]},{"id":"4da56fe5.e07a7","type":"switchNode","name":"switch index-exists","xml":"<switch test='`$tmp.gun.index-exists`'>\n","comments":"","outputs":1,"x":1925.0358657836914,"y":4003.3815273557393,"z":"90110745.0f08b8","wires":[["a21cdd7a.49ed","31ea122e.79dede"]]},{"id":"a21cdd7a.49ed","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2103.6072311401367,"y":3979.095795086452,"z":"90110745.0f08b8","wires":[["63c24c47.93cb44"]]},{"id":"31ea122e.79dede","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":2103.607246398926,"y":4026.2387203489034,"z":"90110745.0f08b8","wires":[["a5ce5bde.1b0538"]]},{"id":"c6f53c8c.15009","type":"save","name":"save (update) name index","xml":"<save plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key=\"`$tmp.gun.sql`\" pfx='pfx'>\n","comments":"","outputs":1,"x":2499.3215560913086,"y":3980.5242113385884,"z":"90110745.0f08b8","wires":[["5f753ea1.c860f"]]},{"id":"93519bfb.b8ef58","type":"save","name":"save (insert) name index","xml":"<save plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key=\"`$tmp.gun.sql`\" pfx='pfx'>\n","comments":"","outputs":1,"x":2492.178535461426,"y":4074.80967944009,"z":"90110745.0f08b8","wires":[["cb6afb42.e26668"]]},{"id":"5f753ea1.c860f","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2692.178756713867,"y":3980.5242304120748,"z":"90110745.0f08b8","wires":[["87791e94.3a263"]]},{"id":"87791e94.3a263","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n    <parameter name=\"generate-unique-name-output.error-message\" value=\"`'Failed to update ' + $generate-unique-name-input.index-table-name + ' table'`\" />\n","comments":"","x":2846.464572906494,"y":3980.524249485561,"z":"90110745.0f08b8","wires":[]},{"id":"cb6afb42.e26668","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2689.3213272094727,"y":4073.381195477077,"z":"90110745.0f08b8","wires":[["7e817d75.e13cb4"]]},{"id":"7e817d75.e13cb4","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n    <parameter name=\"generate-unique-name-output.error-message\" value=\"`'Failed to insert record into ' + $generate-unique-name-input.index-table-name + ' table'`\" />\n","comments":"","x":2843.6071434020996,"y":4073.3812145505635,"z":"90110745.0f08b8","wires":[]},{"id":"e153c7a4.007a58","type":"save","name":"save (insert) generated name","xml":"<save plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key=\"`$tmp.gun.sql`\" pfx='pfx'>\n","comments":"","outputs":1,"x":1959.4644622802734,"y":4161.952501705715,"z":"90110745.0f08b8","wires":[["3737e1de.1f275e"]]},{"id":"3737e1de.1f275e","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2169.4643936157227,"y":4161.952553204128,"z":"90110745.0f08b8","wires":[["c41eb84f.1afce8"]]},{"id":"c41eb84f.1afce8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n    <parameter name=\"generate-unique-name-output.error-message\" value=\"Failed insert into GENERIC_RESOURCE_NAME table\" />\n","comments":"","x":2323.7502098083496,"y":4161.952572277614,"z":"90110745.0f08b8","wires":[]},{"id":"c87de081.2b7b6","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1822.321548461914,"y":3059.095426968166,"z":"90110745.0f08b8","wires":[["9144f7d0.dfe548","9775d1bd.a31a5","e74cf3af.ae8e8","49a5595e.684d18","30eb1a83.c57be6"]]},{"id":"c9df5194.5868","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":2380.8930130004883,"y":3473.3813347135274,"z":"90110745.0f08b8","wires":[["9ffe2099.9294f","745383f6.b6740c"]]},{"id":"63c24c47.93cb44","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":2280.8930435180664,"y":3956.2383236203877,"z":"90110745.0f08b8","wires":[["9f7397b5.b8e698","c6f53c8c.15009"]]},{"id":"a5ce5bde.1b0538","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":2278.0358963012695,"y":4051.9526418958394,"z":"90110745.0f08b8","wires":[["93519bfb.b8ef58","2396ee2e.6296a2"]]},{"id":"9f7397b5.b8e698","type":"set","name":"set sql statement","xml":"<set>\n<parameter name='tmp.gun.sql' value=\"`'update ' + $generate-unique-name-input.index-table-name\n+ ' set index_number = ' + $tmp.gun.index-string + ' where '\n+ $generate-unique-name-input.index-table-prefix-column\n+ ' = $generate-unique-name-input.prefix'`\" />\n","comments":"","x":2469.464324951172,"y":3931.9522952352254,"z":"90110745.0f08b8","wires":[]},{"id":"2396ee2e.6296a2","type":"set","name":"set sql statement","xml":"<set>\n<parameter name='tmp.gun.sql' value=\"`'insert into ' + $generate-unique-name-input.index-table-name\n+ '(' + $generate-unique-name-input.index-table-prefix-column + ', index_number) values ('\n+ ' $generate-unique-name-input.prefix , ' + $tmp.gun.index-string + ')'`\" />\n\n","comments":"","x":2468.035873413086,"y":4026.2381119046895,"z":"90110745.0f08b8","wires":[]},{"id":"398f430e.7a743c","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":2235.17875289917,"y":3564.8098110471456,"z":"90110745.0f08b8","wires":[["efb43154.90976"]]},{"id":"49a5595e.684d18","type":"set","name":"clear namedb.name","xml":"<set>\n<parameter name='tmp.gun.namedb.name' value='' />\n","comments":"","x":2050.892936706543,"y":3314.8097442899434,"z":"90110745.0f08b8","wires":[]},{"id":"4c9e63b6.428eec","type":"switchNode","name":"switch generate-unique-name-input.index-length","xml":"<switch test='`$generate-unique-name-input.index-length`'>\n","comments":"","outputs":1,"x":1497.1786651611328,"y":2807.190584591457,"z":"90110745.0f08b8","wires":[["a88c76d2.c57508"]]},{"id":"a88c76d2.c57508","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1752.8929977416992,"y":2808.095493725368,"z":"90110745.0f08b8","wires":[["7d718b44.ba6f14"]]},{"id":"7d718b44.ba6f14","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n    <parameter name=\"generate-unique-name-output.error-message\" value=\"We have exhausted the naming index count\" />\n","comments":"","x":1910.0358810424805,"y":2808.095493725368,"z":"90110745.0f08b8","wires":[]},{"id":"15057783.9b13f8","type":"comment","name":"if we get here when there is no index length, then we have used up all 1000","info":"","comments":"","x":1628.6072616577148,"y":2763.8098081861226,"z":"90110745.0f08b8","wires":[]},{"id":"48f231a0.1295b","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n    <parameter name=\"generate-unique-name-output.error-message\" value=\"We have exhausted the naming index count\" />\n","comments":"","x":1388.6072807312012,"y":4323.095478466579,"z":"90110745.0f08b8","wires":[]},{"id":"4e23a92d.e2e488","type":"set","name":"set found-flag=false","xml":"<set>\n<parameter name='tmp.gun.found-flag' value='false' />\n","comments":"","x":883.0119400024414,"y":1234.2857422147479,"z":"90110745.0f08b8","wires":[]},{"id":"90ee10e.7fdccf","type":"set","name":"set found-flag=true","xml":"<set>\n<parameter name='tmp.gun.found-flag' value='true' />\n","comments":"","x":2074.6786308288574,"y":1923.0953316007342,"z":"90110745.0f08b8","wires":[]},{"id":"193702b8.5c51ed","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1881.8214530944824,"y":1949.2382759366717,"z":"90110745.0f08b8","wires":[["90ee10e.7fdccf","48493fbe.6eb1a"]]},{"id":"e2c9737b.99e7f","type":"returnFailure","name":"BREAK","xml":"<return status='failure'>\n","comments":"","x":2540.035732269287,"y":3585.952526501247,"z":"90110745.0f08b8","wires":[]},{"id":"be7d48f6.6006d8","type":"comment","name":"found one we can use","info":"","comments":"","x":2357.8931884765625,"y":3517.0004486356465,"z":"90110745.0f08b8","wires":[]},{"id":"66fa06ee.f98f28","type":"set","name":"set found-flag=true","xml":"<set>\n<parameter name='tmp.gun.found-flag' value='true' />\n","comments":"","x":2576.9406509399414,"y":3537.7143787656514,"z":"90110745.0f08b8","wires":[]},{"id":"efb43154.90976","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":2384.0834732055664,"y":3563.857323101589,"z":"90110745.0f08b8","wires":[["66fa06ee.f98f28","e2c9737b.99e7f"]]},{"id":"583423a0.c77f8c","type":"switchNode","name":"switch generate-unique-name-input.supplied-name","xml":"<switch test='`$generate-unique-name-input.supplied-name`'>\n","comments":"","outputs":1,"x":434.79754638671875,"y":340.7143215451922,"z":"90110745.0f08b8","wires":[["86bad139.04091","9dd1d0d8.1bd5f"]]},{"id":"86bad139.04091","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":693.3690452575684,"y":367.85711710793635,"z":"90110745.0f08b8","wires":[["c38467.17e88b98"]]},{"id":"9dd1d0d8.1bd5f","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":693.3690223693848,"y":310.7142872129168,"z":"90110745.0f08b8","wires":[["f19bef1d.3057b"]]},{"id":"1f92ba68.4441e6","type":"switchNode","name":"switch generate-unique-name-input.name-table-type","xml":"<switch test='`$generate-unique-name-input.name-table-type`'>\n","comments":"","outputs":1,"x":1162.6546936035156,"y":246.42856829507014,"z":"90110745.0f08b8","wires":[["3cf36f75.3d9c6"]]},{"id":"3cf36f75.3d9c6","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1495.9878902435303,"y":246.4285778318133,"z":"90110745.0f08b8","wires":[["c20913bc.b8956"]]},{"id":"c20913bc.b8956","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='generate-unique-name-output.error-message' value='generate-unique-name-input.name-table-type not supplied' />\n","comments":"","x":1667.6546669006348,"y":246.76188128335139,"z":"90110745.0f08b8","wires":[]},{"id":"f19bef1d.3057b","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":847.6547470092773,"y":309.28571741921564,"z":"90110745.0f08b8","wires":[["1f92ba68.4441e6","a5541836.ef0a18","f1e52879.fa9cb8"]]},{"id":"f1e52879.fa9cb8","type":"get-resource","name":"get-resource name","xml":"<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key=\"`$tmp.gun.sql`\" pfx='tmp.gun.namedb'>\n\n","comments":"","outputs":1,"x":1056.2261581420898,"y":339.2857326780047,"z":"90110745.0f08b8","wires":[["324fd762.c67938","5bbbc00e.34e41","85249bc8.1ea708"]]},{"id":"324fd762.c67938","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1238.8452072143555,"y":326.42862837655207,"z":"90110745.0f08b8","wires":[["bf63fff2.0717"]]},{"id":"a5541836.ef0a18","type":"set","name":"set sql statement","xml":"<set>\n<parameter name='tmp.gun.sql' value=\"`'SELECT * from GENERIC_RESOURCE_NAME WHERE type = $generate-unique-name-input.name-table-type'\n+ ' AND name = $generate-unique-name-input.supplied-name'`\" />\n","comments":"","x":1049.7977104187012,"y":291.66675036294123,"z":"90110745.0f08b8","wires":[]},{"id":"5bbbc00e.34e41","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1246.9405632019043,"y":371.66673891884943,"z":"90110745.0f08b8","wires":[["2dce07c3.4cdde8"]]},{"id":"bf63fff2.0717","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='generate-unique-name-output.error-message' value=\"`'Error reading the ' + $generate-unique-name-input.name-table-index + ' table'`\" />\n\n","comments":"","x":1394.7976303100586,"y":326.00003378731867,"z":"90110745.0f08b8","wires":[]},{"id":"85249bc8.1ea708","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1239.0833320617676,"y":413.57143252236506,"z":"90110745.0f08b8","wires":[["b470dc23.972cf"]]},{"id":"b470dc23.972cf","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='generate-unique-name-output.error-message' value=\"`'The name ' + $generate-unique-name-input.supplied-name + ' has already been used'`\" />\n\n","comments":"","x":1394.7975692749023,"y":412.99999659402033,"z":"90110745.0f08b8","wires":[]},{"id":"beb8c925.e74138","type":"comment","name":"Caller supplied name - make sure it's not already used","info":"","comments":"","x":1192.5119018554688,"y":199.85713999611994,"z":"90110745.0f08b8","wires":[]},{"id":"2dce07c3.4cdde8","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1396.2262573242188,"y":372.1428455625262,"z":"90110745.0f08b8","wires":[["8c2318a2.ecf138","2d4f1679.5fff5a"]]},{"id":"2d4f1679.5fff5a","type":"save","name":"save (insert) generated name","xml":"<save plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key=\"`$tmp.gun.sql`\" pfx='pfx'>\n","comments":"","outputs":1,"x":1636.2262573242188,"y":396.42858164651057,"z":"90110745.0f08b8","wires":[["e58686f1.2a8ec8"]]},{"id":"e58686f1.2a8ec8","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1846.226188659668,"y":396.42863314492365,"z":"90110745.0f08b8","wires":[["c3a9c01e.0e1a8"]]},{"id":"c3a9c01e.0e1a8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name=\"generate-unique-name-output.error-message\" value=\"Failed insert into GENERIC_RESOURCE_NAME table\" />\n","comments":"","x":2000.512004852295,"y":396.42865221841,"z":"90110745.0f08b8","wires":[]},{"id":"8c2318a2.ecf138","type":"set","name":"set sql statement","xml":"<set>\n<parameter name='tmp.gun.sql' value=\"`'insert into GENERIC_RESOURCE_NAME values ( '\n+ ' $generate-unique-name-input.name-table-type , $generate-unique-name-input.supplied-name )'`\" />\n\n","comments":"","x":1596.226188659668,"y":346.4287590299334,"z":"90110745.0f08b8","wires":[]},{"id":"76d2de9f.d1d72","type":"set","name":"set sql statement","xml":"<set>\n<parameter name='tmp.gun.sql' value=\"`'insert into GENERIC_RESOURCE_NAME values ( '\n+ ' $generate-unique-name-input.name-table-type , $tmp.gun.generated-name )'`\" />\n\n","comments":"","x":1396.2262115478516,"y":2557.8571314130513,"z":"90110745.0f08b8","wires":[]},{"id":"30eb1a83.c57be6","type":"set","name":"set sql statement","xml":"<set>\n<parameter name='tmp.gun.sql' value=\"`'SELECT * from GENERIC_RESOURCE_NAME WHERE type = $generate-unique-name-input.name-table-type'\n+ ' AND name = $tmp.gun.generated-name'`\" />\n","comments":"","x":2044.3215103149414,"y":3430.238300732204,"z":"90110745.0f08b8","wires":[]},{"id":"9ece7ac0.84e2b8","type":"set","name":"set sql statement","xml":"<set>\n<parameter name='tmp.gun.sql' value=\"`'insert into GENERIC_RESOURCE_NAME values ( '\n+ ' $generate-unique-name-input.name-table-type , $tmp.gun.generated-name )'`\" />\n\n","comments":"","x":1920.0357055664062,"y":4114.523828915188,"z":"90110745.0f08b8","wires":[]},{"id":"77e2ebe5.4aacd4","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n    <parameter name=\"generate-unique-name-output.error-message\" value=\"`'Failed to update ' + $generate-unique-name-input.index-table-name + ' table'`\" />\n","comments":"","x":2319.083396911621,"y":2422.1428484235494,"z":"90110745.0f08b8","wires":[]},{"id":"a64a1c5c.548e1","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n    <parameter name=\"generate-unique-name-output.error-message\" value=\"`'Failed to insert record into ' + $generate-unique-name-input.index-table-name + ' table'`\" />\n","comments":"","x":2316.2260093688965,"y":2515.4286293302266,"z":"90110745.0f08b8","wires":[]},{"id":"382ec618.a7ddba","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1032.178508758545,"y":2752.8571705136983,"z":"90110745.0f08b8","wires":[["75ff300b.6f6dc"]]},{"id":"75ff300b.6f6dc","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1183.0119171142578,"y":3364.523694447109,"z":"90110745.0f08b8","wires":[["4c9e63b6.428eec","1185013a.772fcf","cd5abdec.20e31","e38bddb.6889c2","48f231a0.1295b"]]},{"id":"c98722cf.dc1a3","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":1149.65482711792,"y":999.2857116971697,"z":"90110745.0f08b8","wires":[["4cecef4a.45b81"]]},{"id":"b91db4d1.5863b8","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1156.2262916564941,"y":1088.4285854612078,"z":"90110745.0f08b8","wires":[["2195c896.9afd38"]]},{"id":"2195c896.9afd38","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1287.654842376709,"y":1087.857191494533,"z":"90110745.0f08b8","wires":[["77a666ae.651d38","70192d95.678c34"]]},{"id":"880d7037.87ac9","type":"set","name":"set sql statement","xml":"<set>\n<parameter name='tmp.gun.sql' value=\"`'SELECT * from GENERIC_RESOURCE_NAME WHERE type = $generate-unique-name-input.name-table-type'\n+ ' AND name = $tmp.gun.generated-name'`\" />\n","comments":"","x":1540.0000267028809,"y":1821.4285945892334,"z":"90110745.0f08b8","wires":[]},{"id":"3e27b62f.f1d58a","type":"get-resource","name":"get-resource name","xml":"<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key=\"`$tmp.gun.sql`\" pfx='tmp.gun.namedb'>\n\n","comments":"","outputs":1,"x":1541.4286346435547,"y":1908.571517944336,"z":"90110745.0f08b8","wires":[["60c15f95.e82e1","bbed7686.7c8a78"]]},{"id":"68aae923.1b9ef8","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":133.75,"y":315.0000047683716,"z":"90110745.0f08b8","wires":[["583423a0.c77f8c","f553193.f9377e8"]]},{"id":"f553193.f9377e8","type":"set","name":"clear variables","xml":"<set>\n<parameter name='generate-unique-name-output.error-message' value='' />\n<parameter name='generate-unique-name-output.generated-name' value='' />\n","comments":"","x":322.50000381469727,"y":290.00000381469727,"z":"90110745.0f08b8","wires":[]}]
