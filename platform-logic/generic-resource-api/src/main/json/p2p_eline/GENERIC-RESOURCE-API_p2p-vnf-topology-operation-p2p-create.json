[
    {
        "id": "a658bc6d.ee8088",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 115.56666564941406,
        "y": 152.56666564941406,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "10d00bbf.369ce4"
            ]
        ]
    },
    {
        "id": "10d00bbf.369ce4",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 399.85235595703125,
        "y": 213.8047742843628,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "975aae08.92fff8"
            ]
        ]
    },
    {
        "id": "975aae08.92fff8",
        "type": "method",
        "name": "method p2p-vnf-topology-operation-p2p-create",
        "xml": "<method rpc='p2p-vnf-topology-operation-p2p-create' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 405.9952697753906,
        "y": 298.5666961669922,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "3cb40f5f.638d7"
            ]
        ]
    },
    {
        "id": "3cb40f5f.638d7",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 775.8047027587891,
        "y": 323.2333526611328,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "a98f1d9c.aa0ab8",
                "bb279275.52b89",
                "198124d5.bcf04b"
            ]
        ]
    },
    {
        "id": "a98f1d9c.aa0ab8",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 1077.138198852539,
        "y": 594.1636505126953,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "bb279275.52b89",
        "type": "save",
        "name": "get service-instance from aai",
        "xml": "<!--<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" -->\n<!--\tresource=\"service-instance\"-->\n<!--\tkey='service-instance.service-instance-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.service-instance-id-->\n<!--         AND customer.global-customer-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.global-customer-id -->\n<!--         AND service-subscription.service-type = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.subscription-service-type'-->\n<!--\tlocal-only=\"false\"-->\n<!--\tforce=\"true\" pfx=\"tmp.aai.service-instance\">-->\n\n<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"service-instance\"\n\tkey='service-instance.service-instance-id = $vnf-topology-operation-input.service-information.service-instance-id\n         AND customer.global-customer-id = $vnf-topology-operation-input.service-information.global-customer-id \n         AND service-subscription.service-type = $vnf-topology-operation-input.service-information.subscription-service-type'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.service-instance\">\n\n\n<!--<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" -->\n<!--\tresource=\"service-instance\"-->\n<!--\tkey='service-instance.service-instance-id = $service-data.service-information.service-instance-id-->\n<!--         AND customer.global-customer-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.global-customer-id -->\n<!--         AND service-subscription.service-type = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.subscription-service-type'-->\n<!--\tlocal-only=\"false\"-->\n<!--\tforce=\"true\" pfx=\"tmp.aai.service-instance\">-->",
        "comments": "",
        "outputs": 1,
        "x": 1098.566665649414,
        "y": 296.56666564941406,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "5db80d1b.7d54d4",
                "eb1179be.4cc7a8",
                "25eec14c.b0512e"
            ]
        ]
    },
    {
        "id": "5db80d1b.7d54d4",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1323.566665649414,
        "y": 154.56666564941406,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "1b98e1c2.5ba336"
            ]
        ]
    },
    {
        "id": "eb1179be.4cc7a8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1319.057632446289,
        "y": 224.1407012939453,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "5ef156a8.c7ee68"
            ]
        ]
    },
    {
        "id": "25eec14c.b0512e",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1307.566665649414,
        "y": 270.56666564941406,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "e02f0406.ea4b28"
            ]
        ]
    },
    {
        "id": "1b98e1c2.5ba336",
        "type": "switchNode",
        "name": "switch allotted-resources_length != 0",
        "xml": "<switch test='`$tmp.aai.service-instance.allotted-resources.allotted-resource_length != 0`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1562.566665649414,
        "y": 151.56666564941406,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "700e0cca.3f2bdc",
                "aef98f1d.0aefe8"
            ]
        ]
    },
    {
        "id": "5ef156a8.c7ee68",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 1472.6290435791016,
        "y": 227.4264373779297,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "e02f0406.ea4b28",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 1476.566665649414,
        "y": 271.56666564941406,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "700e0cca.3f2bdc",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1775.566665649414,
        "y": 175.56666564941406,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "43079b41.4e5754"
            ]
        ]
    },
    {
        "id": "aef98f1d.0aefe8",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1777.566665649414,
        "y": 115.56666564941406,
        "z": "44fca1a5.1b442",
        "wires": [
            []
        ]
    },
    {
        "id": "8233abbf.86fea8",
        "type": "comment",
        "name": "new for TransportSlicing",
        "info": "",
        "comments": "",
        "x": 1077.566665649414,
        "y": 184.56666564941406,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "43079b41.4e5754",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1760.566665649414,
        "y": 263.56666564941406,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "b571a17a.acc4b8",
                "f367c816.36c578",
                "96051d25.052e78",
                "2bc653ca.37208c",
                "df1cdf90.7c16c"
            ]
        ]
    },
    {
        "id": "235a8de8.2ff2e2",
        "type": "set",
        "name": "set network-route-A",
        "xml": "<set>\n<parameter name='network-route-A' value=\"`$tmp.aai.logical-link.link-name`\" />\n<!--<parameter name='network-route-A' value=\"`$tmp.aai.logical-link.link-id`\" />-->\n\n\n",
        "comments": "",
        "x": 2623.566665649414,
        "y": 863.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "3fed0be1.edfb24",
        "type": "set",
        "name": "set network-route-B",
        "xml": "<set>\n<parameter name='network-route-B' value=\"`$tmp.aai.logical-link.link-name2`\" />\n\n\n",
        "comments": "",
        "x": 2624.566665649414,
        "y": 918.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "a5dd2e0a.9197a",
        "type": "save",
        "name": "get allotted-resource from aai",
        "xml": "<!--<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" -->\n<!--\tresource=\"allotted-resource\"-->\n<!--\tkey='service-instance.service-instance-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.service-instance-id-->\n<!--         AND customer.global-customer-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.global-customer-id -->\n<!--         AND service-subscription.service-type = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.subscription-service-type-->\n<!--         AND allotted-resource.id = $allotted-resource-id'-->\n<!--\tlocal-only=\"false\"-->\n<!--\tforce=\"true\" pfx=\"tmp.aai.allotted-resource\">-->\n\n<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"allotted-resource\"\n\tkey='service-instance.service-instance-id = $vnf-topology-operation-input.service-information.service-instance-id\n         AND customer.global-customer-id = $vnf-topology-operation-input.service-information.global-customer-id \n         AND service-subscription.service-type = $vnf-topology-operation-input.service-information.subscription-service-type\n         AND allotted-resource.id = $allotted-resource-id'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.allotted-resource\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2246.566665649414,
        "y": 314.56666564941406,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "37ab6cf6.5d8d44",
                "9d175e12.6e5ba8",
                "e079f228.d0cd18"
            ]
        ]
    },
    {
        "id": "37ab6cf6.5d8d44",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2462.566665649414,
        "y": 381.56666564941406,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "7ae6e46.d965a1c"
            ]
        ]
    },
    {
        "id": "9d175e12.6e5ba8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2463.057632446289,
        "y": 281.14064025878906,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "3926a143.72f6e6"
            ]
        ]
    },
    {
        "id": "e079f228.d0cd18",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2458.566665649414,
        "y": 330.56666564941406,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "556249de.1ffd4"
            ]
        ]
    },
    {
        "id": "3926a143.72f6e6",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 2640.629165649414,
        "y": 281.42640686035156,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "556249de.1ffd4",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 2640.566665649414,
        "y": 330.56666564941406,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "bd9c64f3.1ae468",
        "type": "save",
        "name": "get logical-link from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"logical-link\"\n\tkey='logical-link.link-name = $logical-link-name'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.logical-link\">",
        "comments": "",
        "outputs": 1,
        "x": 1981.566665649414,
        "y": 803.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "57c5a50d.faf21c",
                "1cb5708d.991b9f",
                "49a8ec91.4b31b4"
            ]
        ]
    },
    {
        "id": "57c5a50d.faf21c",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2273.057632446289,
        "y": 782.1406402587891,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "3d88b251.eb89be"
            ]
        ]
    },
    {
        "id": "1cb5708d.991b9f",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2261.566665649414,
        "y": 826.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "55bc50fb.83c83"
            ]
        ]
    },
    {
        "id": "3d88b251.eb89be",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 2421.629165649414,
        "y": 782.4264068603516,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "55bc50fb.83c83",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 2420.566665649414,
        "y": 826.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "49a8ec91.4b31b4",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2268.566665649414,
        "y": 905.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "75387576.e83e6c"
            ]
        ]
    },
    {
        "id": "75387576.e83e6c",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2407.566665649414,
        "y": 905.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "235a8de8.2ff2e2",
                "3fed0be1.edfb24",
                "8387d4ba.3387e",
                "4fec924f.434ca4",
                "e23ffdc8.d7c0b8",
                "73820c83.e6bf7c",
                "4c82daf8.25cd8c",
                "4141db24.a24a84",
                "19eb9ce6.88ad83",
                "dd0ea493.8f50f",
                "a58bc596.7e7c2",
                "475ae245.9fc77c"
            ]
        ]
    },
    {
        "id": "8387d4ba.3387e",
        "type": "save",
        "name": "get network-route-A from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"network-route\"\n\tkey='network-route.route-id = $network-route-A'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.network-route-A\">",
        "comments": "",
        "outputs": 1,
        "x": 2636.566665649414,
        "y": 986.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "acba44a3.12e668",
                "959d66e3.6c573",
                "38d3f1c1.44147e"
            ]
        ]
    },
    {
        "id": "4fec924f.434ca4",
        "type": "save",
        "name": "get network-route-B from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"network-route\"\n\tkey='network-route.route-id = $network-route-B'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.network-route-B\">",
        "comments": "",
        "outputs": 1,
        "x": 2615.566665649414,
        "y": 1588.5665435791016,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "14e1d4b3.a0230b",
                "49cb0566.838e7c",
                "8b3b10b2.dfb27"
            ]
        ]
    },
    {
        "id": "acba44a3.12e668",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2837.566665649414,
        "y": 870.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "1043b925.e5d5cf"
            ]
        ]
    },
    {
        "id": "959d66e3.6c573",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2833.075698852539,
        "y": 919.9926910400391,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "b6a9c815.e5b5f8"
            ]
        ]
    },
    {
        "id": "38d3f1c1.44147e",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2837.075698852539,
        "y": 970.9926910400391,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "efe0781e.b732b"
            ]
        ]
    },
    {
        "id": "1043b925.e5d5cf",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 2986.138198852539,
        "y": 869.8524322509766,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "b6a9c815.e5b5f8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 2976.075698852539,
        "y": 919.9926910400391,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "14e1d4b3.a0230b",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2838.566665649414,
        "y": 1558.5665435791016,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "72a5e714.8ebe58"
            ]
        ]
    },
    {
        "id": "49cb0566.838e7c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2834.075698852539,
        "y": 1607.9925689697266,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "700468f2.c31308"
            ]
        ]
    },
    {
        "id": "8b3b10b2.dfb27",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2838.075698852539,
        "y": 1658.9925689697266,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "33eb1eab.026612"
            ]
        ]
    },
    {
        "id": "72a5e714.8ebe58",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 2987.138198852539,
        "y": 1557.852310180664,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "700468f2.c31308",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 2977.075698852539,
        "y": 1607.9925689697266,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "5082eb37.cb5224",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3651.233169555664,
        "y": 1014.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "77518362.6fdc64",
                "27c2e224.9c32d6",
                "aacd8e8b.53bef8",
                "9482a661.be3818",
                "85d16e7a.c43b68"
            ]
        ]
    },
    {
        "id": "6570843c.cfb8c4",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3478.566665649414,
        "y": 1015.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "5082eb37.cb5224"
            ]
        ]
    },
    {
        "id": "b053876e.9f87b",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3488.057632446289,
        "y": 1058.1407012939453,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "6d09a761.811108"
            ]
        ]
    },
    {
        "id": "6f406b61.4c227c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3476.566665649414,
        "y": 1104.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "ac5f2fe4.d56318"
            ]
        ]
    },
    {
        "id": "6d09a761.811108",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 3641.6290435791016,
        "y": 1061.4264373779297,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "ac5f2fe4.d56318",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 3645.566665649414,
        "y": 1105.566665649414,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "efe0781e.b732b",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2998.566665649414,
        "y": 972.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "877c4cae.f5888",
                "e258fe66.5163d8"
            ]
        ]
    },
    {
        "id": "33eb1eab.026612",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2988.566665649414,
        "y": 1660.5665435791016,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "9b8713d1.08a16",
                "791ea555.e9b2bc"
            ]
        ]
    },
    {
        "id": "52cec1ff.5fead8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3619.233169555664,
        "y": 1850.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "a935afd3.7df188",
                "5b3eb8ce.d19aa",
                "689f5373.4eba54",
                "bfc91f6.fd87a6"
            ]
        ]
    },
    {
        "id": "7672f9e5.3dc8a8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3446.566665649414,
        "y": 1851.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "52cec1ff.5fead8"
            ]
        ]
    },
    {
        "id": "21d72a21.09925e",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3456.057632446289,
        "y": 1894.1407012939453,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "885fb4a9.d0e358"
            ]
        ]
    },
    {
        "id": "bb958a3b.91a6d8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3444.566665649414,
        "y": 1940.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "aa7f6fd0.80348"
            ]
        ]
    },
    {
        "id": "885fb4a9.d0e358",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 3609.6290435791016,
        "y": 1897.4264373779297,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "aa7f6fd0.80348",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 3613.566665649414,
        "y": 1941.566665649414,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "77518362.6fdc64",
        "type": "execute",
        "name": "execute split tp-id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.aai.network-route-A.p-interface-src.interface-name`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-domainA\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3915.566665649414,
        "y": 998.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "ff236f34.3aa398",
                "b5c782d2.ed439"
            ]
        ]
    },
    {
        "id": "b5c782d2.ed439",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4138.566665649414,
        "y": 953.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "defee4cb.985ef"
            ]
        ]
    },
    {
        "id": "ff236f34.3aa398",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4140.566665649414,
        "y": 1017.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "854e5113.a4ea88"
            ]
        ]
    },
    {
        "id": "df9bb978.87a088",
        "type": "set",
        "name": "set ltpId",
        "xml": "<set>\n<parameter name='tmp.src.ltpId' value='`$param-prefix-domainA[$param-prefix-domainA_length -1]`' />\n",
        "comments": "",
        "x": 4473.566665649414,
        "y": 908.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "854e5113.a4ea88",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 4302.566665649414,
        "y": 1013.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "defee4cb.985ef",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4303.566665649414,
        "y": 950.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "d2af571c.5752b8",
                "df9bb978.87a088"
            ]
        ]
    },
    {
        "id": "d2af571c.5752b8",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.src.pnf-name' value='`$param-prefix-domainA[$param-prefix-domainA_length -3]`' />\n",
        "comments": "",
        "x": 4474.566665649414,
        "y": 1016.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "5911bfaf.469e68",
        "type": "comment",
        "name": "TODO: FIXME",
        "info": "using the output of regex string arrays,\nconcatinate index 0 to index[length-2] all together\nin order to assemble the correct pnf-name",
        "comments": "",
        "x": 4475.566665649414,
        "y": 965.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "aacd8e8b.53bef8",
        "type": "save",
        "name": "save connectivity resource in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $uuid.connectivity-domainA-uuid'>\n<parameter name='connectivity-id' value='`$uuid.connectivity-domainA-uuid`' />\n<parameter name='etht-svc-name' value='`$prop.ethernet-service-name`' />\n<parameter name='operational-status' value='Created' />\n<parameter name='access-provider-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -9]`' />\n<parameter name='access-client-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -7]`' />\n<parameter name='access-topology-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -5]`' />\n<parameter name='access-node-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -3]`' />\n<parameter name='access-ltp-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -1]`' />\n<parameter name='cvlan' value='`$tmp.aai.network-route-A.logical-interface-id`' />\n\n<parameter name='bandwidth-profile-name' value='`$gfp`' />\n<parameter name='vpn-type' value='`$prop.sotn.vpnType`' />\n<parameter name='cir' value='`$gfp *1000000`' />\n<parameter name='eir' value='`$gfp *1000000`' />\n<!--<parameter name='cbs' value='`$prop.sotn.cbs`' />-->\n<parameter name='cbs' value='`$tmp.aai.network-route-A.data-owner`' />\n<parameter name='ebs' value='`$prop.sotn.ebs`' />\n<!--<parameter name='color-aware' value='`$prop.sotn.colorAware`' />-->\n<!--<parameter name='coupling-flag' value='`$prop.sotn.couplingFlag`' />-->\n<!--<parameter name='etht-svc-name' value='`$prop.sotn.etht-svc-name`' />-->\n<!--<parameter name='model-customization-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-customization-uuid`' />-->\n<!--<parameter name='model-invariant-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-invariant-uuid`' />-->\n<!--<parameter name='model-version-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-uuid`' />-->\n<parameter name='connectivity-selflink' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'  + $network-topology-operation-input.service-information.service-instance-id  + '/service-data/networks/network/'  + $prop.sotn.network-id  + '/network-data/'` \" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3917.566665649414,
        "y": 1157.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            []
        ]
    },
    {
        "id": "27c2e224.9c32d6",
        "type": "execute",
        "name": "execute UUID generator for connectivity domainA",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"uuid.connectivity-domainA-uuid\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3962.566665649414,
        "y": 1067.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            []
        ]
    },
    {
        "id": "c45404dc.ac473",
        "type": "comment",
        "name": "TODO: FIXME",
        "info": "using the output of regex string arrays,\nconcatinate index 0 to index[?] all together\nin order to assemble the correct values for provider-id, \ntopology-id, node-id, etc.",
        "comments": "",
        "x": 3851.566665649414,
        "y": 1108.566665649414,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "a935afd3.7df188",
        "type": "execute",
        "name": "execute split tp-id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.aai.network-route-B.p-interface-dst.interface-name`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-domainB\"/>\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3905.566665649414,
        "y": 1854.5667877197266,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "d1d56d9d.523c98",
                "547df734.987198"
            ]
        ]
    },
    {
        "id": "547df734.987198",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4128.566665649414,
        "y": 1809.5667877197266,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "a81f7928.f72098"
            ]
        ]
    },
    {
        "id": "d1d56d9d.523c98",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4130.566665649414,
        "y": 1873.5667877197266,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "843e27d6.c22ad8"
            ]
        ]
    },
    {
        "id": "62f808eb.16107",
        "type": "set",
        "name": "set ltpId",
        "xml": "<set>\n<parameter name='tmp.dst.ltpId' value='`$param-prefix-domainB[$param-prefix-domainB_length -1]`' />\n",
        "comments": "",
        "x": 4463.566665649414,
        "y": 1767.5667877197266,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "843e27d6.c22ad8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 4289.566665649414,
        "y": 1892.5667877197266,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "a81f7928.f72098",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4293.566665649414,
        "y": 1806.5667877197266,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "62f808eb.16107",
                "157e6153.038477"
            ]
        ]
    },
    {
        "id": "157e6153.038477",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.dst.pnf-name' value='`$param-prefix-domainB[$param-prefix-domainB_length -3]`' />\n",
        "comments": "",
        "x": 4464.566665649414,
        "y": 1872.5667877197266,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "c751bd0.3161d4",
        "type": "comment",
        "name": "TODO: FIXME",
        "info": "using the output of regex string arrays,\nconcatinate index 0 to index[length-2] all together\nin order to assemble the correct pnf-name",
        "comments": "",
        "x": 4459.566665649414,
        "y": 1821.5667877197266,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "9eaa7330.d56278",
        "type": "save",
        "name": "save connectivity resource in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $prop.connectivity-domainB-uuid'>\n<parameter name='connectivity-id' value='`$prop.connectivity-domainB-uuid`' />\n<parameter name='etht-svc-name' value='`$prop.ethernet-service-name`' />\n<parameter name='operational-status' value='Created' />\n<parameter name='access-provider-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -9]`' />\n<parameter name='access-client-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -7]`' />\n<parameter name='access-topology-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -5]`' />\n<parameter name='access-node-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -3]`' />\n<parameter name='access-ltp-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -1]`' />\n<!--<parameter name='cvlan' value='`$tmp.aai.network-route-B.logical-interface-id`' />-->\n<parameter name='cvlan' value='`$final-vlan`' />\n\n<parameter name='bandwidth-profile-name' value='`$gfp`' />\n<parameter name='vpn-type' value='`$prop.sotn.vpnType`' />\n<parameter name='cir' value='`$gfp *1000000`' />\n<parameter name='eir' value='`$gfp *1000000`' />\n<!--<parameter name='cbs' value='`$prop.sotn.cbs`' />-->\n<parameter name='cbs' value='`$tmp.aai.network-route-B.data-owner`' />\n<parameter name='ebs' value='`$prop.sotn.ebs`' />\n<!--<parameter name='color-aware' value='`$prop.sotn.colorAware`' />-->\n<!--<parameter name='coupling-flag' value='`$prop.sotn.couplingFlag`' />-->\n<!--<parameter name='etht-svc-name' value='`$prop.sotn.etht-svc-name`' />-->\n<!--<parameter name='model-customization-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-customization-uuid`' />-->\n<!--<parameter name='model-invariant-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-invariant-uuid`' />-->\n<!--<parameter name='model-version-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-uuid`' />-->\n<parameter name='connectivity-selflink' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'  + $network-topology-operation-input.service-information.service-instance-id  + '/service-data/networks/network/'  + $prop.sotn.network-id  + '/network-data/'` \" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3898.56689453125,
        "y": 2093.56689453125,
        "z": "44fca1a5.1b442",
        "wires": [
            []
        ]
    },
    {
        "id": "5b3eb8ce.d19aa",
        "type": "execute",
        "name": "execute UUID generator for connectivity domainB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.connectivity-domainB-uuid\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3952.566665649414,
        "y": 1923.5667877197266,
        "z": "44fca1a5.1b442",
        "wires": [
            []
        ]
    },
    {
        "id": "d6d1a26d.46be3",
        "type": "comment",
        "name": "TODO: FIXME",
        "info": "using the output of regex string arrays,\nconcatinate index 0 to index[?] all together\nin order to assemble the correct values for provider-id, \ntopology-id, node-id, etc.",
        "comments": "",
        "x": 3841.566665649414,
        "y": 1961.5667877197266,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "e23ffdc8.d7c0b8",
        "type": "set",
        "name": "set attachment_param",
        "xml": "<set>\n<parameter name='prop.connection-attachment.access-provider-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -9]`' />\n<parameter name='prop.connection-attachment.access-client-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -7]`' />\n<parameter name='prop.connection-attachment.access-topology-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -5]`' />\n<parameter name='prop.connection-attachment.access-node-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -3]`' />\n<parameter name='prop.connection-attachment.access-ltp-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -1]`' />\n\n<parameter name='prop.remote.connection-attachment.access-provider-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -9]`' />\n<parameter name='prop.remote.connection-attachment.access-client-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -7]`' />\n<parameter name='prop.remote.connection-attachment.access-topology-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -5]`' />\n<parameter name='prop.remote.connection-attachment.access-node-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -3]`' />\n<parameter name='prop.remote.connection-attachment.access-ltp-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -1]`' />\n\n<!--<parameter name='prop.remote.connection-attachment.access-provider-id' value='`$oof.vpn.access-provider-id`' />-->\n<!--<parameter name='prop.remote.connection-attachment.access-client-id' value='`$oof.vpn.access-client-id`' />-->\n<!--<parameter name='prop.remote.connection-attachment.access-topology-id' value='`$oof.vpn.access-topology-id`' />-->\n<!--<parameter name='prop.remote.connection-attachment.access-node-id' value='`$oof.vpn.access-node-id`' />-->\n<!--<parameter name='prop.remote.connection-attachment.access-ltp-id' value='`$oof.vpn.src-access-ltp-id`' />-->\n",
        "comments": "",
        "x": 2651.566665649414,
        "y": 2073.5667877197266,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "997459da.59786",
        "type": "comment",
        "name": "TODO: FIXME",
        "info": "put proper values for src topology-id, node-id, ltp-id, etc (in domain A)\nand dst topology-id, node-id, ltp-id, etc (in domain B)",
        "comments": "",
        "x": 2617.566665649414,
        "y": 2007.5667877197266,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "9482a661.be3818",
        "type": "save",
        "name": "save TNNSSI (transport service instance) relationship to connectivity in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='service-instance:relationship-list' \n      key='service-instance.service-instance-id = $vnf-topology-operation-input.service-information.service-instance-id\n         AND customer.global-customer-id = $vnf-topology-operation-input.service-information.global-customer-id \n         AND service-subscription.service-type = $vnf-topology-operation-input.service-information.subscription-service-type' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"connectivity\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/connectivities/connectivity/' + $uuid.connectivity-domainA-uuid`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"connectivity.connectivity-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$uuid.connectivity-domainA-uuid`\" />\n\n\n<!--<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='service-instance:relationship-list' -->\n<!--      key='service-instance.service-instance-id = $service-data.service-information.service-instance-id -->\n<!--         AND customer.global-customer-id = $service-data.networks.network[$nidx].network-data.service-information.global-customer-id -->\n<!--         AND service-subscription.service-type = $service-data.networks.network[$nidx].network-data.service-information.subscription-service-type' -->\n<!--      force=\"true\" pfx=\"tmp.AnAI-data\">-->\n<!--<parameter name=\"relationship-list.relationship[0].related-to\" value=\"connectivity\" />-->\n<!--<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/connectivities/connectivity/' + $prop.sotn.network-id`\" />-->\n<!--<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"connectivity.connectivity-id\" />-->\n<!--<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$prop.sotn.network-id`\" />-->",
        "comments": "",
        "outputs": 1,
        "x": 4045.566665649414,
        "y": 1205.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            []
        ]
    },
    {
        "id": "ea3b6f52.6f2fd8",
        "type": "save",
        "name": "save TNNSSI (transport service instance) relationship to connectivity in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='service-instance:relationship-list' \n      key='service-instance.service-instance-id = $vnf-topology-operation-input.service-information.service-instance-id\n         AND customer.global-customer-id = $vnf-topology-operation-input.service-information.global-customer-id \n         AND service-subscription.service-type = $vnf-topology-operation-input.service-information.subscription-service-type' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"connectivity\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/connectivities/connectivity/' + $prop.connectivity-domainB-uuid`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"connectivity.connectivity-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$prop.connectivity-domainB-uuid`\" />\n\n\n<!--<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='service-instance:relationship-list' -->\n<!--      key='service-instance.service-instance-id = $service-data.service-information.service-instance-id -->\n<!--         AND customer.global-customer-id = $service-data.networks.network[$nidx].network-data.service-information.global-customer-id -->\n<!--         AND service-subscription.service-type = $service-data.networks.network[$nidx].network-data.service-information.subscription-service-type' -->\n<!--      force=\"true\" pfx=\"tmp.AnAI-data\">-->\n<!--<parameter name=\"relationship-list.relationship[0].related-to\" value=\"connectivity\" />-->\n<!--<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/connectivities/connectivity/' + $prop.sotn.network-id`\" />-->\n<!--<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"connectivity.connectivity-id\" />-->\n<!--<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$prop.sotn.network-id`\" />-->",
        "comments": "",
        "outputs": 1,
        "x": 4025.56689453125,
        "y": 2158.56689453125,
        "z": "44fca1a5.1b442",
        "wires": [
            []
        ]
    },
    {
        "id": "e5456a36.7801c",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domainA.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domainA.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 5089.566665649414,
        "y": 725.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "805f0385.d78d68",
                "f2313436.e5c8e8",
                "b37025f0.b6455"
            ]
        ]
    },
    {
        "id": "7ae6e46.d965a1c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2642.566665649414,
        "y": 381.56666564941406,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "d0751b0.845c568"
            ]
        ]
    },
    {
        "id": "496902ef.bae144",
        "type": "outcome",
        "name": "logical-link",
        "xml": "<outcome value='logical-link'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1572.5667877197266,
        "y": 798.5667877197266,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "806d1dbe.e6caf8"
            ]
        ]
    },
    {
        "id": "dfac8bfa.e1a4f8",
        "type": "switchNode",
        "name": "switch allotted-resource.relationship-list not empty",
        "xml": "<switch test='`$tmp.aai.allotted-resource.relationship-list.relationship_length != 0`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2310.566665649414,
        "y": 504.56666564941406,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "fefd0a3b.0a6c",
                "e1fca775.5c3dc"
            ]
        ]
    },
    {
        "id": "e1fca775.5c3dc",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2620.566665649414,
        "y": 511.56666564941406,
        "z": "44fca1a5.1b442",
        "wires": [
            []
        ]
    },
    {
        "id": "fefd0a3b.0a6c",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2619.566665649414,
        "y": 565.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "c2ddd3bf.c4d7b"
            ]
        ]
    },
    {
        "id": "5fd9dbf5.e77414",
        "type": "set",
        "name": "set the current logical-link-name",
        "xml": "<set>\n<parameter name='logical-link-name' value=\"`$tmp.aai.allotted-resource.relationship-list.relationship[$idx].relationship-data[0].relationship-value`\" />\n\n\n",
        "comments": "",
        "x": 1992.566665649414,
        "y": 748.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "806d1dbe.e6caf8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1749.566665649414,
        "y": 791.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "5fd9dbf5.e77414",
                "bd9c64f3.1ae468"
            ]
        ]
    },
    {
        "id": "25e50f8c.f7b168",
        "type": "comment",
        "name": "Question?",
        "info": "How to know if DG would send this get request\nin \"nodes\" namespace instead of \"network\" namespace?",
        "comments": "",
        "x": 3178.566665649414,
        "y": 977.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "877c4cae.f5888",
        "type": "save",
        "name": "get p-interface-src from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"p-interface\"\n\t    key=\"pnf.pnf-name = $tmp.src.domainA.pnf-name\n\t        AND p-interface.interface-name = $tmp.aai.network-route-A.next-hop\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.network-route-A.p-interface-src\" >\n\n<!--<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" -->\n<!--\tresource=\"p-interface\"-->\n<!--\t    key=\"pnf.pnf-name = $unique-src-node-Id-->\n<!--\t        and p-interface.interface-name = $tmp.aai.endpointA.relationship-list.relationship[$rel-index].relationship-data[0].relationship-value\"-->\n<!--\t\tlocal-only=\"false\" -->\n<!--\t\tpfx=\"tmp.aai.endpointA.p-interface-src\" >-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3221.566665649414,
        "y": 1042.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "6570843c.cfb8c4",
                "b053876e.9f87b",
                "6f406b61.4c227c"
            ]
        ]
    },
    {
        "id": "9b8713d1.08a16",
        "type": "save",
        "name": "get p-interface-dst from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"p-interface\"\n\t    key=\"pnf.pnf-name = $tmp.dst.domainB.pnf-name\n\t        AND p-interface.interface-name = $tmp.aai.network-route-B.next-hop\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.network-route-B.p-interface-dst\" >\n\n<!--<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" -->\n<!--\tresource=\"p-interface\"-->\n<!--\t    key=\"pnf.pnf-name = $unique-src-node-Id-->\n<!--\t        and p-interface.interface-name = $tmp.aai.endpointA.relationship-list.relationship[$rel-index].relationship-data[0].relationship-value\"-->\n<!--\t\tlocal-only=\"false\" -->\n<!--\t\tpfx=\"tmp.aai.endpointA.p-interface-src\" >-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3218.566665649414,
        "y": 1886.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "7672f9e5.3dc8a8",
                "21d72a21.09925e",
                "bb958a3b.91a6d8"
            ]
        ]
    },
    {
        "id": "ce2cb197.80436",
        "type": "comment",
        "name": "Question?",
        "info": "How to know if DG would send this get request\nin \"nodes\" namespace instead of \"network\" namespace?",
        "comments": "",
        "x": 3179.566665649414,
        "y": 1830.566665649414,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "d0751b0.845c568",
        "type": "save",
        "name": "get allotted-resource relationship from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"allotted-resource:relationship-list\"\n\tkey='service-instance.service-instance-id = $vnf-topology-operation-input.service-information.service-instance-id\n         AND customer.global-customer-id = $vnf-topology-operation-input.service-information.global-customer-id \n         AND service-subscription.service-type = $vnf-topology-operation-input.service-information.subscription-service-type\n         AND allotted-resource.id = $allotted-resource-id'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.allotted-resource.relationship-list\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2935.566665649414,
        "y": 328.56666564941406,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "ab01dedd.6f763",
                "8be63891.327ab8",
                "8203f600.3196d8"
            ]
        ]
    },
    {
        "id": "8be63891.327ab8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3209.057632446289,
        "y": 221.14064025878906,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "e5ba36e2.ffe35"
            ]
        ]
    },
    {
        "id": "e5ba36e2.ffe35",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 3386.629165649414,
        "y": 221.42640686035156,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "8203f600.3196d8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3204.566665649414,
        "y": 270.56666564941406,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "2d6e472f.cebd28"
            ]
        ]
    },
    {
        "id": "2d6e472f.cebd28",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 3386.566665649414,
        "y": 270.56666564941406,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "ab01dedd.6f763",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3208.566665649414,
        "y": 321.56666564941406,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "d486eb58.78947"
            ]
        ]
    },
    {
        "id": "d486eb58.78947",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3388.566665649414,
        "y": 321.56666564941406,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "dfac8bfa.e1a4f8"
            ]
        ]
    },
    {
        "id": "f5c84d41.47596",
        "type": "for",
        "name": "for each allotted-resource relationship",
        "xml": "<for index='idx' start='0' end='`$tmp.aai.allotted-resource.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2879.566665649414,
        "y": 545.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "65ef1c62.c47174"
            ]
        ]
    },
    {
        "id": "65ef1c62.c47174",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.allotted-resource.relationship-list.relationship[$idx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3159.566665649414,
        "y": 545.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "496902ef.bae144"
            ]
        ]
    },
    {
        "id": "caa679b7.88155",
        "type": "outcome",
        "name": "network-policy",
        "xml": "<outcome value='network-policy'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3364.566665649414,
        "y": 519.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "181d6a25.4c8ac6"
            ]
        ]
    },
    {
        "id": "181d6a25.4c8ac6",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3541.5665435791016,
        "y": 512.5665435791016,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "2189ab7e.731a5c",
                "f77218ef.7392f"
            ]
        ]
    },
    {
        "id": "2189ab7e.731a5c",
        "type": "set",
        "name": "set the 1st network-policy-id",
        "xml": "<set>\n<parameter name='network-policy-id' value=\"`$tmp.aai.allotted-resource.relationship-list.relationship[$idx].relationship-data[0].relationship-value`\" />\n\n\n",
        "comments": "",
        "x": 3784.5665435791016,
        "y": 469.56654357910156,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "f77218ef.7392f",
        "type": "save",
        "name": "get network-policy from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"network-policy\"\n\tkey='network-policy.network-policy-id = $network-policy-id'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.network-policy\">",
        "comments": "",
        "outputs": 1,
        "x": 3773.5665435791016,
        "y": 524.5665435791016,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "b3c389dc.9ceaa8",
                "1fd1bab4.03ed05",
                "1a9ec9f1.53817e"
            ]
        ]
    },
    {
        "id": "1a9ec9f1.53817e",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4026.566665649414,
        "y": 410.56666564941406,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "9b368d79.59d868"
            ]
        ]
    },
    {
        "id": "9b368d79.59d868",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 4175.138198852539,
        "y": 410.85243225097656,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "75dbcc67.2d607c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 4174.075698852539,
        "y": 454.99269104003906,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "1fd1bab4.03ed05",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4015.075698852539,
        "y": 454.99269104003906,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "75dbcc67.2d607c"
            ]
        ]
    },
    {
        "id": "b3c389dc.9ceaa8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4022.075698852539,
        "y": 533.9926910400391,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "d93faa74.adf0b8"
            ]
        ]
    },
    {
        "id": "d93faa74.adf0b8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4161.075698852539,
        "y": 533.9926910400391,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "14f40ed2.57f431",
                "3853baa5.6545de"
            ]
        ]
    },
    {
        "id": "14f40ed2.57f431",
        "type": "set",
        "name": "set the max bandwidth",
        "xml": "<set>\n<parameter name='maximum-bandwidth' value=\"`$tmp.aai.network-policy.max-bandwidth`\" />\n<parameter name='route-distinguisher' value='`$maximum-bandwidth /1000 *4 /5 +1`' />\n\n\n\n",
        "comments": "",
        "x": 4366.566665649414,
        "y": 531.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "e258fe66.5163d8",
        "type": "execute",
        "name": "execute split tp-id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.aai.network-route-A.next-hop`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-domainA-pnfName\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3222.566665649414,
        "y": 712.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "b62b2d1b.c54438",
                "a3a7f1f7.b60138"
            ]
        ]
    },
    {
        "id": "a3a7f1f7.b60138",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3445.566665649414,
        "y": 698.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "93f8ed33.b51e48"
            ]
        ]
    },
    {
        "id": "b62b2d1b.c54438",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3447.566665649414,
        "y": 731.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "530ba1d.a0db6e"
            ]
        ]
    },
    {
        "id": "530ba1d.a0db6e",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 3590.566665649414,
        "y": 728.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "93f8ed33.b51e48",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3593.566665649414,
        "y": 691.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "38a0b992.4a90b6",
                "394a5b51.d2050c"
            ]
        ]
    },
    {
        "id": "38a0b992.4a90b6",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.src.domainA.pnf-name' value=\"`$param-prefix-domainA-pnfName[0] + '-' +\n                                                   $param-prefix-domainA-pnfName[1] + '-' +\n                                                   $param-prefix-domainA-pnfName[2] + '-' +\n                                                   $param-prefix-domainA-pnfName[3] + '-' +\n                                                   $param-prefix-domainA-pnfName[4] + '-' +\n                                                   $param-prefix-domainA-pnfName[5] + '-' +\n                                                   $param-prefix-domainA-pnfName[6] + '-' +\n                                                   $param-prefix-domainA-pnfName[7] + '-' +\n                                                   $param-prefix-domainA-pnfName[8]`\" />\n",
        "comments": "",
        "x": 3755.566665649414,
        "y": 686.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "791ea555.e9b2bc",
        "type": "execute",
        "name": "execute split tp-id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.aai.network-route-B.next-hop`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-domainB-pnfName\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3236.566665649414,
        "y": 1549.5665435791016,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "5954dedf.36bba",
                "68d3451a.d84c04"
            ]
        ]
    },
    {
        "id": "68d3451a.d84c04",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3459.566665649414,
        "y": 1535.5665435791016,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "51569fcc.16549"
            ]
        ]
    },
    {
        "id": "5954dedf.36bba",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3461.566665649414,
        "y": 1568.5665435791016,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "5d1db6a0.f779b8"
            ]
        ]
    },
    {
        "id": "5d1db6a0.f779b8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 3604.566665649414,
        "y": 1565.5665435791016,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "51569fcc.16549",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3607.566665649414,
        "y": 1528.5665435791016,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "c4906d5e.17fa58",
                "10a080e8.915427"
            ]
        ]
    },
    {
        "id": "c4906d5e.17fa58",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.dst.domainB.pnf-name' value=\"`$param-prefix-domainB-pnfName[0] + '-' +\n                                                   $param-prefix-domainB-pnfName[1] + '-' +\n                                                   $param-prefix-domainB-pnfName[2] + '-' +\n                                                   $param-prefix-domainB-pnfName[3] + '-' +\n                                                   $param-prefix-domainB-pnfName[4] + '-' +\n                                                   $param-prefix-domainB-pnfName[5] + '-' +\n                                                   $param-prefix-domainB-pnfName[6] + '-' +\n                                                   $param-prefix-domainB-pnfName[7] + '-' +\n                                                   $param-prefix-domainB-pnfName[8]`\" />\n",
        "comments": "",
        "x": 3801.566665649414,
        "y": 1531.566665649414,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "198124d5.bcf04b",
        "type": "execute",
        "name": "execute properties",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />",
        "comments": "",
        "outputs": 1,
        "x": 1065.566665649414,
        "y": 236.56666564941406,
        "z": "44fca1a5.1b442",
        "wires": [
            []
        ]
    },
    {
        "id": "85d16e7a.c43b68",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='pividx' start='0' end='`$tmp.aai.network-route-A.p-interface-src.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3869.566665649414,
        "y": 1282.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "411baf5.a18ef5"
            ]
        ]
    },
    {
        "id": "411baf5.a18ef5",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.network-route-A.p-interface-src.relationship-list.relationship[$pividx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4075.566665649414,
        "y": 1282.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "48572567.53bfbc"
            ]
        ]
    },
    {
        "id": "48572567.53bfbc",
        "type": "outcome",
        "name": "tunnel-termination-point",
        "xml": "<outcome value='tunnel-termination-point'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4290.852310180664,
        "y": 1282.388442993164,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "c42e387b.cded18"
            ]
        ]
    },
    {
        "id": "c42e387b.cded18",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4497.683853149414,
        "y": 1282.906997680664,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "4d7b3e62.007c48",
                "c3d39d67.add138",
                "c7287c92.444148"
            ]
        ]
    },
    {
        "id": "4d7b3e62.007c48",
        "type": "set",
        "name": "set source ttp-id",
        "xml": "<set>\n<parameter name='tmp.source.ttp-id' value=\"`$tmp.aai.network-route-A.p-interface-src.relationship-list.relationship[$pividx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 4712.683853149414,
        "y": 1244.906997680664,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "c3d39d67.add138",
        "type": "get-resource",
        "name": "get-resource src TTP",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"tunnel-termination-point\" \n\t\tkey=\"tunnel-termination-point.ttp-id = $tmp.source.ttp-id \n\t\tAND depth = '0'\"\n        pfx='tmp.aai.source-ttp' local-only='false' >\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4709.683853149414,
        "y": 1283.906997680664,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "be0b5cde.2813d"
            ]
        ]
    },
    {
        "id": "c7287c92.444148",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 4665.183853149414,
        "y": 1325.906997680664,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "be0b5cde.2813d",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4890.183853149414,
        "y": 1282.906997680664,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "302f8288.cd1b3e"
            ]
        ]
    },
    {
        "id": "302f8288.cd1b3e",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5048.183853149414,
        "y": 1282.906997680664,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "2038ca55.29b4f6"
            ]
        ]
    },
    {
        "id": "2038ca55.29b4f6",
        "type": "set",
        "name": "set source tunnel tp ip",
        "xml": "<set>\n<parameter name='source.tunnel-tp-id' value=\"`$tmp.aai.source-ttp.tunnel-tp-id`\" />\n",
        "comments": "",
        "x": 5255.183853149414,
        "y": 1282.906997680664,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "a9c9250a.2de128",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='dividx' start='0' end='`$tmp.aai.network-route-B.p-interface-dst.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3857.56689453125,
        "y": 2231.56689453125,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "b1ff86cb.44495"
            ]
        ]
    },
    {
        "id": "b1ff86cb.44495",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.network-route-B.p-interface-dst.relationship-list.relationship[$dividx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4063.56689453125,
        "y": 2231.56689453125,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "8aa7adc9.ac30f8"
            ]
        ]
    },
    {
        "id": "8aa7adc9.ac30f8",
        "type": "outcome",
        "name": "tunnel-termination-point",
        "xml": "<outcome value='tunnel-termination-point'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4278.8525390625,
        "y": 2231.388671875,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "795c0f2b.18149"
            ]
        ]
    },
    {
        "id": "795c0f2b.18149",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4494.683853149414,
        "y": 2151.9071197509766,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "10e8dccd.7572f3",
                "a9b511df.e976a8",
                "395f2645.3bbfda"
            ]
        ]
    },
    {
        "id": "10e8dccd.7572f3",
        "type": "set",
        "name": "set destination ttp-id",
        "xml": "<set>\n<parameter name='tmp.destination.ttp-id' value=\"`$tmp.aai.network-route-B.p-interface-dst.relationship-list.relationship[$dividx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 4709.683853149414,
        "y": 2113.9071197509766,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "a9b511df.e976a8",
        "type": "get-resource",
        "name": "get-resource src TTP",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"tunnel-termination-point\" \n\t\tkey=\"tunnel-termination-point.ttp-id = $tmp.destination.ttp-id \n\t\tAND depth = '0'\"\n        pfx='tmp.aai.destination-ttp' local-only='false' >\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4706.683853149414,
        "y": 2152.9071197509766,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "9cfd994f.d1bd28"
            ]
        ]
    },
    {
        "id": "395f2645.3bbfda",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 4662.183853149414,
        "y": 2194.9071197509766,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "9cfd994f.d1bd28",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4887.183853149414,
        "y": 2151.9071197509766,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "fdd3d4ff.12013"
            ]
        ]
    },
    {
        "id": "fdd3d4ff.12013",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5045.183853149414,
        "y": 2151.9071197509766,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "b6d40b5b.531198"
            ]
        ]
    },
    {
        "id": "b6d40b5b.531198",
        "type": "set",
        "name": "set destination tunnel tp ip",
        "xml": "<set>\n<parameter name='destination.tunnel-tp-id' value=\"`$tmp.aai.destination-ttp.tunnel-tp-id`\" />\n",
        "comments": "",
        "x": 5252.183853149414,
        "y": 2151.9071197509766,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "394a5b51.d2050c",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.src.domainA.pnf-name\"\n        pfx='tmp.aai.source-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3782.566665649414,
        "y": 758.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "5300baf1.a03c3c",
                "f2f1a539.122",
                "8c08712.febd69"
            ]
        ]
    },
    {
        "id": "5300baf1.a03c3c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3978.0667877197266,
        "y": 710.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "7958e0c4.8b95e8"
            ]
        ]
    },
    {
        "id": "f2f1a539.122",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3970.0667877197266,
        "y": 765.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "1c041508.6dc2cb"
            ]
        ]
    },
    {
        "id": "8c08712.febd69",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3975.0667877197266,
        "y": 822.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "a99a27ed.911ae"
            ]
        ]
    },
    {
        "id": "a99a27ed.911ae",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4127.066787719727,
        "y": 823.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "1c041508.6dc2cb",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4138.066787719727,
        "y": 768.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "7958e0c4.8b95e8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4122.449111938477,
        "y": 708.2223358154297,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "1bdb216.efc1b5f"
            ]
        ]
    },
    {
        "id": "d62d05cf.176f88",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4704.566665649414,
        "y": 726.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "bcc38290.1d7998"
            ]
        ]
    },
    {
        "id": "bcc38290.1d7998",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4881.566665649414,
        "y": 718.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "393cf25.7da278e",
                "e5456a36.7801c"
            ]
        ]
    },
    {
        "id": "1bdb216.efc1b5f",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='spvidx' start='0' end='`$tmp.aai.source-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4306.566665649414,
        "y": 722.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "fc8ac316.deab48"
            ]
        ]
    },
    {
        "id": "fc8ac316.deab48",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4501.566665649414,
        "y": 722.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "d62d05cf.176f88",
                "ecccf4af.e2e4f"
            ]
        ]
    },
    {
        "id": "393cf25.7da278e",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domainA id",
        "xml": "<set>\n<parameter name='tmp.domainA.esr-thirdparty-id' value=\"`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 5119.566665649414,
        "y": 673.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "805f0385.d78d68",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5299.566665649414,
        "y": 716.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "240537e6.0aafa"
            ]
        ]
    },
    {
        "id": "f2313436.e5c8e8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5291.566665649414,
        "y": 771.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "d00a9368.bb6d9"
            ]
        ]
    },
    {
        "id": "b37025f0.b6455",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5296.566665649414,
        "y": 828.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "cbb11ac0.487e2"
            ]
        ]
    },
    {
        "id": "cbb11ac0.487e2",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5448.566665649414,
        "y": 829.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "d00a9368.bb6d9",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5459.566665649414,
        "y": 774.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "240537e6.0aafa",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5443.948989868164,
        "y": 714.2223358154297,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "29fd7b34.4131dc"
            ]
        ]
    },
    {
        "id": "29fd7b34.4131dc",
        "type": "set",
        "name": "set controller domainA data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainA.url' value=\"`$tmp.aai.domainA.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainA.user' value=\"`$tmp.aai.domainA.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainA.password' value=\"`$tmp.aai.domainA.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 5658.566665649414,
        "y": 710.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "10a080e8.915427",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.dst.domainB.pnf-name\"\n        pfx='tmp.aai.destination-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3823.566665649414,
        "y": 1599.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "4b321d82.d208c4",
                "71f63ca0.f439b4",
                "6408a65c.9c051"
            ]
        ]
    },
    {
        "id": "4b321d82.d208c4",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4019.0667877197266,
        "y": 1551.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "ff7035a8.4a4898"
            ]
        ]
    },
    {
        "id": "71f63ca0.f439b4",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4011.0667877197266,
        "y": 1606.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "cedb582a.827cc8"
            ]
        ]
    },
    {
        "id": "6408a65c.9c051",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4016.0667877197266,
        "y": 1663.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "62f85595.8f834c"
            ]
        ]
    },
    {
        "id": "62f85595.8f834c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4168.066787719727,
        "y": 1664.566665649414,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "cedb582a.827cc8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4179.066787719727,
        "y": 1609.566665649414,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "ff7035a8.4a4898",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4163.449111938477,
        "y": 1549.2223358154297,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "1cfc281a.8a30b8"
            ]
        ]
    },
    {
        "id": "1b9dcd6c.838143",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4745.566665649414,
        "y": 1567.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "f848858.f890878"
            ]
        ]
    },
    {
        "id": "f848858.f890878",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4922.566665649414,
        "y": 1559.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "d6dc5769.a94e5",
                "8ffaa581.0596e"
            ]
        ]
    },
    {
        "id": "1cfc281a.8a30b8",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='dpvidx' start='0' end='`$tmp.aai.destination-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4347.566665649414,
        "y": 1563.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "a7de5ddc.f741d"
            ]
        ]
    },
    {
        "id": "a7de5ddc.f741d",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.destination-pnf.relationship-list.relationship[$dpvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4542.566665649414,
        "y": 1563.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "1b9dcd6c.838143",
                "a15038eb.52c2d"
            ]
        ]
    },
    {
        "id": "8ffaa581.0596e",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domainB.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domainB.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 5130.566665649414,
        "y": 1566.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "872d1ff2.ba1a",
                "fb4371f0.b2d8f8",
                "7a614704.3d5f48"
            ]
        ]
    },
    {
        "id": "d6dc5769.a94e5",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domainB id",
        "xml": "<set>\n<parameter name='tmp.domainB.esr-thirdparty-id' value=\"`$tmp.aai.destination-pnf.relationship-list.relationship[$dpvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 5160.566665649414,
        "y": 1514.566665649414,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "872d1ff2.ba1a",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5340.566665649414,
        "y": 1557.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "7aeb52e4.0a2274"
            ]
        ]
    },
    {
        "id": "fb4371f0.b2d8f8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5332.566665649414,
        "y": 1612.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "8969155b.d859f"
            ]
        ]
    },
    {
        "id": "7a614704.3d5f48",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5337.566665649414,
        "y": 1669.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "889b3b0a.917628"
            ]
        ]
    },
    {
        "id": "889b3b0a.917628",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5489.566665649414,
        "y": 1670.566665649414,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "8969155b.d859f",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5500.566665649414,
        "y": 1615.566665649414,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "7aeb52e4.0a2274",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5484.948989868164,
        "y": 1555.2223358154297,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "4d040072.97eb48"
            ]
        ]
    },
    {
        "id": "4d040072.97eb48",
        "type": "set",
        "name": "set controller domainB data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainB.url' value=\"`$tmp.aai.domainB.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainB.user' value=\"`$tmp.aai.domainB.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainB.password' value=\"`$tmp.aai.domainB.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 5699.566665649414,
        "y": 1551.566665649414,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "c2ddd3bf.c4d7b",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2783.566665649414,
        "y": 491.56666564941406,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "f5c84d41.47596",
                "3ea037de.479638"
            ]
        ]
    },
    {
        "id": "3ea037de.479638",
        "type": "for",
        "name": "for each allotted-resource relationship",
        "xml": "<for index='idx' start='0' end='`$tmp.aai.allotted-resource.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3064.566665649414,
        "y": 447.56666564941406,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "1936a612.75947a"
            ]
        ]
    },
    {
        "id": "1936a612.75947a",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.allotted-resource.relationship-list.relationship[$idx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3326.566665649414,
        "y": 447.56666564941406,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "caa679b7.88155"
            ]
        ]
    },
    {
        "id": "ecccf4af.e2e4f",
        "type": "outcome",
        "name": "network-resource",
        "xml": "<outcome value='network-resource'>",
        "comments": "",
        "outputs": 1,
        "x": 4707.566665649414,
        "y": 800.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "d34903a3.baac18"
            ]
        ]
    },
    {
        "id": "d34903a3.baac18",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4884.566665649414,
        "y": 792.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "2edc576a.2f5808"
            ]
        ]
    },
    {
        "id": "2edc576a.2f5808",
        "type": "set",
        "name": "set domainA ethernet layer network-id",
        "xml": "<set>\n<parameter name='tmp.domainA.eth-network-id' value=\"`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 5119.566665649414,
        "y": 916.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "ad9da04e.d2c378",
        "type": "set",
        "name": "set domainB ethernet layer network-id",
        "xml": "<set>\n<parameter name='tmp.domainB.eth-network-id' value=\"`$tmp.aai.destination-pnf.relationship-list.relationship[$dpvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 5159.566665649414,
        "y": 1756.566665649414,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "3474026b.129ff6",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4924.566665649414,
        "y": 1632.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "ad9da04e.d2c378"
            ]
        ]
    },
    {
        "id": "a15038eb.52c2d",
        "type": "outcome",
        "name": "network-resource",
        "xml": "<outcome value='network-resource'>",
        "comments": "",
        "outputs": 1,
        "x": 4747.566665649414,
        "y": 1640.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "3474026b.129ff6"
            ]
        ]
    },
    {
        "id": "3853baa5.6545de",
        "type": "set",
        "name": "set the max bandwidth",
        "xml": "<set>\n<parameter name='gfp' value='`$maximum-bandwidth /1000 *4 /5 +1`' />\n\n\n\n",
        "comments": "",
        "x": 4365.566665649414,
        "y": 577.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "32f8b9ac.1ffbf6",
        "type": "execute",
        "name": "execute UUID generator for ethernet-service-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.ethernet-service-name\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2721.566665649414,
        "y": 711.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": [
            []
        ]
    },
    {
        "id": "4141db24.a24a84",
        "type": "execute",
        "name": "execute UUID generator for otn-tunnel-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.otn-tunnel-name\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2702.566665649414,
        "y": 761.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": [
            []
        ]
    },
    {
        "id": "b571a17a.acc4b8",
        "type": "for",
        "name": "for each allotted-resource",
        "xml": "<for index='aridx' start='0' end='`$tmp.aai.service-instance.allotted-resources.allotted-resource_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1963.566665649414,
        "y": 295.56666564941406,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "e81d387c.246378",
                "a5dd2e0a.9197a"
            ]
        ]
    },
    {
        "id": "e81d387c.246378",
        "type": "set",
        "name": "set the current allotted-resource-id",
        "xml": "<set>\n<parameter name='allotted-resource-id' value=\"`$tmp.aai.service-instance.allotted-resources.allotted-resource[$aridx].id`\" />\n\n\n",
        "comments": "",
        "x": 2243.566665649414,
        "y": 233.56666564941406,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "73820c83.e6bf7c",
        "type": "set",
        "name": "set query_param",
        "xml": "<set>\n<parameter name='prop.ethsrvType' value='`$network-route-A`' />\n\n",
        "comments": "",
        "x": 2632.566665649414,
        "y": 2126.5667877197266,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "4c82daf8.25cd8c",
        "type": "set",
        "name": "unset parameters",
        "xml": "<set>\n<parameter name='domain-A.tunnel-tp-id' value='' />\n<parameter name='domain-A.node-id' value='' />\n<parameter name='domain-A.network-id' value=\"\" />\n<parameter name='domain-A.provider-id' value=\"\" />\n<parameter name='domain-A.client-id' value=\"\" />\n<parameter name='domain-A.te-topo-id' value=\"\" />\n<parameter name='domain-A.network-type' value=\"\" />\n<parameter name='domain-A.ltpId' value=\"\" />\n<parameter name='tmp.domain-A.network-id' value=\"\" />\n<parameter name='tmp.domain-A.ttp-id' value=\"\" />\n<parameter name='network-route-A' value=\"\" />\n<!--<parameter name='domain-A.' value=\"\" />-->\n\n<parameter name='request-id' value='' />\n<parameter name='otn-source-node' value='' />\n<parameter name='otn-dest-node' value='' />\n<parameter name='bw-odu' value=\"\" />\n<parameter name='src-ttp-id' value='' />\n<parameter name='dst-ttp-id' value='' />\n\n<parameter name='domain-B.tunnel-tp-id' value='' />\n<parameter name='domain-B.node-id' value='' />\n<parameter name='domain-B.network-id' value=\"\" />\n<parameter name='domain-B.provider-id' value=\"\" />\n<parameter name='domain-B.client-id' value=\"\" />\n<parameter name='domain-B.te-topo-id' value=\"\" />\n<parameter name='domain-B.network-type' value=\"\" />\n<parameter name='domain-B.ltpId' value=\"\" />\n<parameter name='tmp.domain-B.network-id' value=\"\" />\n<parameter name='tmp.domain-B.ttp-id' value=\"\" />\n<parameter name='network-route-B' value=\"\" />\n<!--<parameter name='domain-B.' value=\"\" />-->\n\n\n\n\n\n",
        "comments": "",
        "x": 2602.566665649414,
        "y": 3969.566665649414,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "19eb9ce6.88ad83",
        "type": "set",
        "name": "set new ethernet-service-name",
        "xml": "<set>\n<!--<parameter name='prop.ethernet-service-name' value=\"`$tmp.aai.logical-link.link-name`\" />-->\n<parameter name='prop.ethernet-service-name' value=\"`$tmp.aai.logical-link.link-id`\" />\n\n\n",
        "comments": "",
        "x": 2659.566665649414,
        "y": 806.5666656494141,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "454059c8.1f8fc",
        "type": "for",
        "name": "for vidx..tmp.otninfo_length[]",
        "xml": "<for index='otnidx' start='0' end='`$tmp.otninfo_length`' >",
        "comments": "",
        "outputs": 1,
        "x": 2958.566665649414,
        "y": 2523.5667877197266,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "9289ae0a.6f50b8"
            ]
        ]
    },
    {
        "id": "bdbfdefa.d898a",
        "type": "save",
        "name": "save vpn-binding otnIdx resource (aka. OTN) in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $prop.vpn-binding-otnidx-uuid' >\n<parameter name='vpn-id' value='`$prop.vpn-binding-otnidx-uuid`' />\n<parameter name='vpn-name' value='`$prop.otn-tunnel-name`' />\n<!--<parameter name='customer-vpn-id' value='`($idx + 1) * 10`' />-->\n<parameter name='customer-vpn-id' value='`($maxtpn + $gfp)`' />\n<!--<parameter name='access-provider-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-access-provider-id`' />-->\n<parameter name='access-provider-id' value='`$tmp.access-provider-id`' />\n<!--<parameter name='access-client-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-access-client-id`' />-->\n<parameter name='access-client-id' value='`$tmp.access-client-id`' />\n<!--<parameter name='access-topology-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-access-topology-id`' />-->\n<parameter name='access-topology-id' value='`$tmp.access-topology-id`' />\n<!--<parameter name='src-access-node-id' value='`$tmp.otninfo[$otnidx].srcPort.src-access-node-id`' />-->\n<parameter name='src-access-node-id' value='`$tmp.domainG-src-access-node-id`' />\n<parameter name='src-access-ltp-id' value='`$tmp.otninfo[$otnidx].srcPort.src-ltp-id`' />\n<!--<parameter name='dst-access-node-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-access-node-id`' />-->\n<parameter name='dst-access-node-id' value='`$tmp.domainG-dst-access-node-id`' />\n<parameter name='dst-access-ltp-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-ltp-id`' />\n<parameter name='route-distinguisher' value='`$gfp`' />\n<parameter name='operational-status' value='Created' />\n<!--<parameter name='model-customization-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-customization-uuid`' />-->\n<!--<parameter name='model-invariant-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-invariant-uuid`' />-->\n<!--<parameter name='model-version-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-uuid`' />-->\n\n\n<parameter name='vpn-region' value='`$prop.sdncRestApi.thirdpartySdnc.domainG.url`' />\n<parameter name='vpn-description' value='`$prop.sdncRestApi.thirdpartySdnc.domainG.user`' />\n<parameter name='vpn-platform' value='`$prop.sdncRestApi.thirdpartySdnc.domainG.password`' />\n\n<!-- The following line is in lieu of vpn-binding.slice-id (new attribute in latest AAI) -->\n<parameter name='ops-note' value='`$tmp.aai.service-instance.service-instance-id`' />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3776.566665649414,
        "y": 2958.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "4ee8fff5.d7b41"
            ]
        ]
    },
    {
        "id": "8e0ed487.e42d7",
        "type": "save",
        "name": "save connectivity-A relationship to vpn-binding-A, in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding:relationship-list' \n      key='vpn-binding.vpn-id = $prop.vpn-binding-otnidx-uuid' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"connectivity\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/connectivities/connectivity/' + $uuid.connectivity-domainA-uuid`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"connectivity.connectivity-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$uuid.connectivity-domainA-uuid`\" />",
        "comments": "",
        "outputs": 1,
        "x": 4344.066421508789,
        "y": 3067.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            []
        ]
    },
    {
        "id": "4ee8fff5.d7b41",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4082.566665649414,
        "y": 2957.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "fd74d2bf.3f7ab"
            ]
        ]
    },
    {
        "id": "fd74d2bf.3f7ab",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4292.066665649414,
        "y": 2957.820571899414,
        "z": "44fca1a5.1b442",
        "wires": [
            []
        ]
    },
    {
        "id": "b7aeb66a.da2a",
        "type": "execute",
        "name": "execute UUID generator for vpn-binding $otnidx",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.vpn-binding-otnidx-uuid\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3809.566665649414,
        "y": 2437.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            []
        ]
    },
    {
        "id": "17919727.aa0719",
        "type": "switchNode",
        "name": "switch otnidx == 0",
        "xml": "<switch test='`$otnidx == 0`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3685.566665649414,
        "y": 3075.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "55f22aaa.a85d4c",
                "d9550f9f.2910e"
            ]
        ]
    },
    {
        "id": "55f22aaa.a85d4c",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3868.566665649414,
        "y": 3075.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "6f87de55.68d3f8"
            ]
        ]
    },
    {
        "id": "d9550f9f.2910e",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3693.566665649414,
        "y": 3222.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "d8da513c.d505d8"
            ]
        ]
    },
    {
        "id": "d53fd4f3.30e108",
        "type": "switchNode",
        "name": "switch otnidx == last",
        "xml": "<switch test='`$otnidx == $tmp.otninfo_length - 1`'>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4034.566665649414,
        "y": 3303.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "ccd79b30.c48ac8",
                "81229291.49d3d"
            ]
        ]
    },
    {
        "id": "ccd79b30.c48ac8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4219.566665649414,
        "y": 3304.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "662ad553.4604e4"
            ]
        ]
    },
    {
        "id": "81229291.49d3d",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4238.566665649414,
        "y": 3570.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "c0c1efea.822dc8"
            ]
        ]
    },
    {
        "id": "1aa66b17.8d75f5",
        "type": "save",
        "name": "save connectivity-B relationship to vpn-binding-B, in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding:relationship-list' \n      key='vpn-binding.vpn-id = $prop.vpn-binding-otnidx-uuid' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"connectivity\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/connectivities/connectivity/' + $prop.connectivity-domainB-uuid`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"connectivity.connectivity-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$prop.connectivity-domainB-uuid`\" />",
        "comments": "",
        "outputs": 1,
        "x": 4649.566665649414,
        "y": 3305.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            []
        ]
    },
    {
        "id": "e1bc4bbf.1d8018",
        "type": "execute",
        "name": "execute UUID generator for connectivity domain otnidx",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"uuid.connectivity-otnidx-uuid\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 4723.566665649414,
        "y": 3603.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            []
        ]
    },
    {
        "id": "42d4345e.c60ee4",
        "type": "save",
        "name": "save connectivity resource in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $uuid.connectivity-otnidx-uuid'>\n<parameter name='connectivity-id' value='`$uuid.connectivity-otnidx-uuid`' />\n<!--<parameter name='etht-svc-name' value='`$prop.ethernet-service-name`' />-->\n<parameter name='operational-status' value='Created' />\n<!--<parameter name='access-provider-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-access-provider-id`' />-->\n<!--<parameter name='access-client-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-access-client-id`' />-->\n<!--<parameter name='access-topology-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-access-topology-id`' />-->\n<!--<parameter name='access-node-id' value='`$tmp.otninfo[$otnidx].srcPort.src-access-node-id`' />-->\n<!--<parameter name='access-ltp-id' value='``' />-->\n<!--<parameter name='cvlan' value='`$tmp.aai.network-route-A.logical-interface-id`' />-->\n\n<!--<parameter name='bandwidth-profile-name' value='`$prop.sotn.etht-svc-name`' />-->\n<parameter name='bandwidth-profile-name' value='`$gfp`' />\n<parameter name='vpn-type' value='dummy' />\n<parameter name='cir' value='`$gfp *1000000`' />\n<parameter name='eir' value='`$gfp *1000000`' />\n<!--<parameter name='cbs' value='`$prop.sotn.cbs`' />-->\n<!--<parameter name='ebs' value='`$prop.sotn.ebs`' />-->\n<!--<parameter name='color-aware' value='`$prop.sotn.colorAware`' />-->\n<!--<parameter name='coupling-flag' value='`$prop.sotn.couplingFlag`' />-->\n<!--<parameter name='etht-svc-name' value='`$prop.sotn.etht-svc-name`' />-->\n<!--<parameter name='model-customization-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-customization-uuid`' />-->\n<!--<parameter name='model-invariant-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-invariant-uuid`' />-->\n<!--<parameter name='model-version-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-uuid`' />-->\n<parameter name='connectivity-selflink' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'  + $network-topology-operation-input.service-information.service-instance-id  + '/service-data/networks/network/'  + $prop.sotn.network-id  + '/network-data/'` \" />\n",
        "comments": "",
        "outputs": 1,
        "x": 4659.566665649414,
        "y": 3654.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            []
        ]
    },
    {
        "id": "ffc4c195.e5a98",
        "type": "save",
        "name": "save TNNSSI (transport service instance) relationship to connectivity in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='service-instance:relationship-list' \n      key='service-instance.service-instance-id = $vnf-topology-operation-input.service-information.service-instance-id\n         AND customer.global-customer-id = $vnf-topology-operation-input.service-information.global-customer-id \n         AND service-subscription.service-type = $vnf-topology-operation-input.service-information.subscription-service-type' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"connectivity\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/connectivities/connectivity/' + $uuid.connectivity-otnidx-uuid`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"connectivity.connectivity-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$uuid.connectivity-otnidx-uuid`\" />\n\n\n<!--<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='service-instance:relationship-list' -->\n<!--      key='service-instance.service-instance-id = $service-data.service-information.service-instance-id -->\n<!--         AND customer.global-customer-id = $service-data.networks.network[$nidx].network-data.service-information.global-customer-id -->\n<!--         AND service-subscription.service-type = $service-data.networks.network[$nidx].network-data.service-information.subscription-service-type' -->\n<!--      force=\"true\" pfx=\"tmp.AnAI-data\">-->\n<!--<parameter name=\"relationship-list.relationship[0].related-to\" value=\"connectivity\" />-->\n<!--<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/connectivities/connectivity/' + $prop.sotn.network-id`\" />-->\n<!--<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"connectivity.connectivity-id\" />-->\n<!--<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$prop.sotn.network-id`\" />-->",
        "comments": "",
        "outputs": 1,
        "x": 4788.566665649414,
        "y": 3704.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            []
        ]
    },
    {
        "id": "8d280419.13bb38",
        "type": "comment",
        "name": "connectivity has not been created for middle domains, so we have to create one",
        "info": "",
        "comments": "",
        "x": 4798.566665649414,
        "y": 3547.566665649414,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "ab9a4509.1c756",
        "type": "save",
        "name": "save connectivity-otnidx relationship to vpn-binding-otnidx, in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding:relationship-list' \n      key='vpn-binding.vpn-id = $prop.vpn-binding-otnidx-uuid' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"connectivity\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/connectivities/connectivity/' + $uuid.connectivity-otnidx-uuid`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"connectivity.connectivity-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$uuid.connectivity-otnidx-uuid`\" />",
        "comments": "",
        "outputs": 1,
        "x": 4756.566665649414,
        "y": 3763.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            []
        ]
    },
    {
        "id": "c0c1efea.822dc8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4395.566665649414,
        "y": 3571.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "e1bc4bbf.1d8018",
                "42d4345e.c60ee4",
                "ffc4c195.e5a98",
                "ab9a4509.1c756",
                "d4ea603c.b425d8"
            ]
        ]
    },
    {
        "id": "9289ae0a.6f50b8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3227.566665649414,
        "y": 2523.5667877197266,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "b7aeb66a.da2a",
                "bdbfdefa.d898a",
                "17919727.aa0719",
                "95f5c4e3.614088",
                "b6d3651d.4b2128",
                "fe8a7144.adc7d8",
                "162254fa.d7f113"
            ]
        ]
    },
    {
        "id": "ab727fcb.09998",
        "type": "set",
        "name": "set attachment_param domain A",
        "xml": "<set>\n<parameter name='slice-instance-id' value='`$tmp.aai.service-instance.service-instance-id`' />\n\n\n\n",
        "comments": "",
        "x": 4273.566665649414,
        "y": 3119.566665649414,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "118a71a6.05f0f6",
        "type": "execute",
        "name": "execute RestApiCallNode domainA UNI Coloring",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.ts-coloring-uni-port.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainA.url + '/restconf/data/ietf-network:networks/network=' + $tmp.domainA.eth-network-id + '/node=' + $tmp.src.pnf-name + '/ietf-network-topology:termination-point=' + $tmp.src.ltpId + '/ietf-te-topology:te' `\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainA.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainA.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"patch\"/>\n<parameter name=\"responsePrefix\" value=\"otn-oof\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 4326.566665649414,
        "y": 3163.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "e0f8cea0.4a9908",
                "3c7e45bc.067942"
            ]
        ]
    },
    {
        "id": "3c7e45bc.067942",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4597.566665649414,
        "y": 3148.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "a8f23bb.c77ec48"
            ]
        ]
    },
    {
        "id": "e0f8cea0.4a9908",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4595.566879272461,
        "y": 3206.566575050354,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "d71a2665.7073"
            ]
        ]
    },
    {
        "id": "a8f23bb.c77ec48",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing UNI Coloring for domain A\" />\n",
        "comments": "",
        "x": 4737.566913604736,
        "y": 3148.5666666030884,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "d71a2665.7073",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4743.593925476074,
        "y": 3197.31206035614,
        "z": "44fca1a5.1b442",
        "wires": [
            []
        ]
    },
    {
        "id": "6f87de55.68d3f8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4009.566665649414,
        "y": 3065.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "8e0ed487.e42d7",
                "ab727fcb.09998"
            ]
        ]
    },
    {
        "id": "662ad553.4604e4",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4353.566665649414,
        "y": 3305.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "1aa66b17.8d75f5",
                "c0b9b434.8e9d68"
            ]
        ]
    },
    {
        "id": "c0b9b434.8e9d68",
        "type": "set",
        "name": "set attachment_param domain B",
        "xml": "<set>\n<parameter name='slice-instance-id' value='`$tmp.aai.service-instance.service-instance-id`' />\n\n\n",
        "comments": "",
        "x": 4573.566665649414,
        "y": 3349.566665649414,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "301e3c75.5bbc74",
        "type": "execute",
        "name": "execute RestApiCallNode domainB UNI Coloring",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.ts-coloring-uni-port.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainB.url + '/restconf/data/ietf-network:networks/network=' + $tmp.domainB.eth-network-id + '/node=' + $tmp.dst.pnf-name + '/ietf-network-topology:termination-point=' + $tmp.dst.ltpId + '/ietf-te-topology:te' `\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainB.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainB.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"patch\"/>\n<parameter name=\"responsePrefix\" value=\"otn-oof\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 4624.566665649414,
        "y": 3393.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "a09528f5.629fe",
                "14dc5b75.dea77d"
            ]
        ]
    },
    {
        "id": "14dc5b75.dea77d",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4887.566665649414,
        "y": 3373.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "5042c1df.677818"
            ]
        ]
    },
    {
        "id": "a09528f5.629fe",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4888.566879272461,
        "y": 3424.566575050354,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "33874991.bee64e"
            ]
        ]
    },
    {
        "id": "5042c1df.677818",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing UNI coloring for domain B\" />\n",
        "comments": "",
        "x": 5027.566913604736,
        "y": 3373.5666666030884,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "33874991.bee64e",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5033.593925476074,
        "y": 3422.31206035614,
        "z": "44fca1a5.1b442",
        "wires": [
            []
        ]
    },
    {
        "id": "d4ea603c.b425d8",
        "type": "set",
        "name": "set attachment_param domain otnidx",
        "xml": "<set>\n<parameter name='slice-instance-id' value='`$tmp.aai.service-instance.service-instance-id`' />\n\n",
        "comments": "",
        "x": 4670.566665649414,
        "y": 3823.566665649414,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "595a55d4.c6d114",
        "type": "save",
        "name": "get all-vpn-bindings from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"vpn-bindings\"\n\t    key=\"selflink = 'https://aai.onap:8443/aai/v21/network/vpn-bindings\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.all-vpn-bindings\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 1989.566665649414,
        "y": 4170.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "a51dbe92.37237",
                "3a1bef9e.09d96",
                "3c9654f7.84efec"
            ]
        ]
    },
    {
        "id": "a51dbe92.37237",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2177.566665649414,
        "y": 4183.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "2ff802e6.3e618e"
            ]
        ]
    },
    {
        "id": "3a1bef9e.09d96",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2178.057632446289,
        "y": 4229.140701293945,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "796f31f7.3192a"
            ]
        ]
    },
    {
        "id": "3c9654f7.84efec",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2175.566665649414,
        "y": 4272.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "c3c766ba.769dc"
            ]
        ]
    },
    {
        "id": "2ff802e6.3e618e",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2350.566665649414,
        "y": 4181.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "f3904f81.c3271"
            ]
        ]
    },
    {
        "id": "796f31f7.3192a",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 2340.6290435791016,
        "y": 4229.42643737793,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "c3c766ba.769dc",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 2342.566665649414,
        "y": 4271.566665649414,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "453ae034.8e8bd",
        "type": "for",
        "name": "for vidx..tmp.otninfo_length[]",
        "xml": "<for index='dmnsidx' start='0' end='`$otn-tunnel-slice_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1978.566665649414,
        "y": 4361.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "117eef78.4f86d1"
            ]
        ]
    },
    {
        "id": "61e418c6.05702",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2788.566665649414,
        "y": 4361.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "ddbfd88a.9c9a8"
            ]
        ]
    },
    {
        "id": "f5da17e3.f4f82",
        "type": "for",
        "name": "for vidx..tmp.otninfo_length[]",
        "xml": "<for index='stunidx' start='0' end='`$otn-tunnel-slice[$dmnsidx].list_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2560.566665649414,
        "y": 4361.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "61e418c6.05702"
            ]
        ]
    },
    {
        "id": "2dc803c6.2ce1ec",
        "type": "set",
        "name": "set providerValue",
        "xml": "<set>\n<parameter name='providerValue' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].access-provider-id`' />\n<parameter name='found' value='false' />\n\n\n",
        "comments": "",
        "x": 3680.566665649414,
        "y": 4128.566665649414,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "2436e4ee.8823ac",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='testingvalue' value='$tmp.otninfo_length -1' />\n",
        "comments": "",
        "x": 3982.566665649414,
        "y": 3254.566665649414,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "d8da513c.d505d8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3817.566665649414,
        "y": 3229.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "2436e4ee.8823ac",
                "d53fd4f3.30e108"
            ]
        ]
    },
    {
        "id": "2bc653ca.37208c",
        "type": "set",
        "name": "set tmp.arr",
        "xml": "<set>\n<parameter name='tmp.arr' value='' />\n<parameter name='tmp.arridx' value='0' />\n<parameter name='tmp.arr_length' value='0' />\n\n<parameter name='otn-tunnel-slice' value='' />\n<parameter name='otn-tunnel-slice_length' value='0' />\n\n<!--<parameter name='tmp.slicevpns' value='' />-->\n<!--<parameter name='tmp.slicevpns_length' value='0' />-->\n\n<!--<parameter name='tmp.slicevpnuuids' value='' />-->\n<!--<parameter name='tmp.slicevpnuuids.' value='' />-->\n\n\n",
        "comments": "",
        "x": 1937.566665649414,
        "y": 245.56666564941406,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "f3904f81.c3271",
        "type": "for",
        "name": "for vpnidx in all-vpn-bindings",
        "xml": "<for index='vpnbidx' start='0' end='`$tmp.aai.all-vpn-bindings.vpn-binding_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2579.566665649414,
        "y": 4182.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "ab95770a.fdf8d8"
            ]
        ]
    },
    {
        "id": "ab95770a.fdf8d8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2794.566665649414,
        "y": 4183.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "4572270e.4cc878"
            ]
        ]
    },
    {
        "id": "7657e809.bd4338",
        "type": "for",
        "name": "for arridx in tmp.arr",
        "xml": "<for index='arridx' start='0' end='`$tmp.arr_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4247.566665649414,
        "y": 4103.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "2d5e8bfa.4e34c4"
            ]
        ]
    },
    {
        "id": "348ff77c.2874e",
        "type": "switchNode",
        "name": "switch $tmp.arr_length != 0",
        "xml": "<switch test='`$tmp.arr_length != 0`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3713.566665649414,
        "y": 4183.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "aaec96ed.8fc3f8",
                "345640e2.a4f5"
            ]
        ]
    },
    {
        "id": "aaec96ed.8fc3f8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3909.566665649414,
        "y": 4153.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "ef034c52.313218"
            ]
        ]
    },
    {
        "id": "345640e2.a4f5",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3910.566665649414,
        "y": 4224.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "4615fa47.ce995c"
            ]
        ]
    },
    {
        "id": "ef034c52.313218",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4060.566665649414,
        "y": 4151.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "7657e809.bd4338",
                "99ff2572.ae5bd8"
            ]
        ]
    },
    {
        "id": "2d5e8bfa.4e34c4",
        "type": "switchNode",
        "name": "switch tmp.arr[$arridx] == $providerValue",
        "xml": "<switch test='`$tmp.arr[$arridx] == $providerValue`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4538.566665649414,
        "y": 4103.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "74d52764.8968e",
                "422a321a.b2832c"
            ]
        ]
    },
    {
        "id": "74d52764.8968e",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4813.566665649414,
        "y": 4072.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "a103a093.ac31f"
            ]
        ]
    },
    {
        "id": "422a321a.b2832c",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4814.566665649414,
        "y": 4143.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "21b48848.76a4e8"
            ]
        ]
    },
    {
        "id": "a103a093.ac31f",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4964.566665649414,
        "y": 4070.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "1399831a.95817d",
                "a97a9bc.95aee68",
                "9a54915d.342ba",
                "45c78650.ee321",
                "6d2b0039.7ed8f8"
            ]
        ]
    },
    {
        "id": "1399831a.95817d",
        "type": "set",
        "name": "set found to true",
        "xml": "<set>\n<parameter name='found' value='true' />\n\n\n",
        "comments": "",
        "x": 5152.566665649414,
        "y": 4030.566665649414,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "a97a9bc.95aee68",
        "type": "save",
        "name": "store $arridx somewhere in vpn-binding",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-id' >\n<parameter name='vpn-id' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-id`' />\n<parameter name='vpn-type' value='`$arridx`' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 5224.566665649414,
        "y": 4075.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            []
        ]
    },
    {
        "id": "6d2b0039.7ed8f8",
        "type": "set",
        "name": "set twoD arr",
        "xml": "<set>\n\n<!--<parameter name='`tmp.arr[$arridx + 1]`' value='`$providerValue`' />-->\n<!--<parameter name='tmp.arr_length' value='`$tmp.arr_length + 1`' />-->\n\n<parameter name='`otn-tunnel-slice[$arridx].list[$sizeOfSliceList].request-id`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-id`' />\n<parameter name='`otn-tunnel-slice[$arridx].list[$sizeOfSliceList].otn-source-node`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].src-access-node-id`' />\n<parameter name='`otn-tunnel-slice[$arridx].list[$sizeOfSliceList].otn-dest-node`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].dst-access-node-id`' />\n<parameter name='`otn-tunnel-slice[$arridx].list[$sizeOfSliceList].bw-odu`' value=\"`'0,' + $gfp`\" />\n<parameter name='`otn-tunnel-slice[$arridx].list[$sizeOfSliceList].src-ttp-id`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].src-access-ltp-id`' />\n<parameter name='`otn-tunnel-slice[$arridx].list[$sizeOfSliceList].dst-ttp-id`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].dst-access-ltp-id`' />\n<parameter name='slice-instance-id' value='`$tmp.aai.service-instance.service-instance-id`' />\n\n<parameter name='`otn-tunnel-slice[$arridx].list[$sizeOfSliceList].domainurl`' value=\"`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-region`\" />\n<parameter name='`otn-tunnel-slice[$arridx].list[$sizeOfSliceList].domainuser`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-description`' />\n<parameter name='`otn-tunnel-slice[$arridx].list[$sizeOfSliceList].domainpassword`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-platform`' />\n\n<!--<parameter name='otn-tunnel-slice_length' value='`$arridx + 2`' />-->\n<parameter name='`otn-tunnel-slice[$arridx].list_length`' value='`$sizeOfSliceList + 1`' />\n\n",
        "comments": "",
        "x": 5139.566665649414,
        "y": 4202.566665649414,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "45c78650.ee321",
        "type": "set",
        "name": "set sizeOfSliceList",
        "xml": "<set>\n<parameter name='sizeOfSliceList' value='`$otn-tunnel-slice[$arridx].list_length`' />\n\n\n",
        "comments": "",
        "x": 5160.566665649414,
        "y": 4138.566665649414,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "4615fa47.ce995c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4062.566665649414,
        "y": 4224.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "5a456a9a.ca9fe4",
                "40274316.6c2efc"
            ]
        ]
    },
    {
        "id": "5a456a9a.ca9fe4",
        "type": "save",
        "name": "store $arridx somewhere in vpn-binding",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-id' >\n<parameter name='vpn-id' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-id`' />\n<parameter name='vpn-type' value='0' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4317.566665649414,
        "y": 4217.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            []
        ]
    },
    {
        "id": "40274316.6c2efc",
        "type": "set",
        "name": "set twoD array",
        "xml": "<set>\n<parameter name='tmp.arr[0]' value='`$providerValue`' />\n<parameter name='tmp.arr_length' value='1' />\n\n<parameter name='`otn-tunnel-slice[0].list[0].request-id`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-id`' />\n<parameter name='`otn-tunnel-slice[0].list[0].otn-source-node`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].src-access-node-id`' />\n<parameter name='`otn-tunnel-slice[0].list[0].otn-dest-node`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].dst-access-node-id`' />\n<parameter name='`otn-tunnel-slice[0].list[0].bw-odu`' value=\"`'0,' + $gfp`\" />\n<parameter name='`otn-tunnel-slice[0].list[0].src-ttp-id`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].src-access-ltp-id`' />\n<parameter name='`otn-tunnel-slice[0].list[0].dst-ttp-id`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].dst-access-ltp-id`' />\n<parameter name='slice-instance-id' value='`$tmp.aai.service-instance.service-instance-id`' />\n\n<parameter name='`otn-tunnel-slice[0].list[0].domainurl`' value=\"`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-region`\" />\n<parameter name='`otn-tunnel-slice[0].list[0].domainuser`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-description`' />\n<parameter name='`otn-tunnel-slice[0].list[0].domainpassword`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-platform`' />\n\n<parameter name='otn-tunnel-slice_length' value='1' />\n<parameter name='otn-tunnel-slice[0].list_length' value='1' />\n\n",
        "comments": "",
        "x": 4245.566665649414,
        "y": 4264.566665649414,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "99ff2572.ae5bd8",
        "type": "switchNode",
        "name": "switch found?",
        "xml": "<switch test='`$found`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4238.566665649414,
        "y": 4148.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "87cdada5.109e78",
                "3257173b.764f"
            ]
        ]
    },
    {
        "id": "87cdada5.109e78",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4398.566665649414,
        "y": 4140.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "7591082d.c8b188"
            ]
        ]
    },
    {
        "id": "3257173b.764f",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4396.566665649414,
        "y": 4177.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "961d3382.a894a"
            ]
        ]
    },
    {
        "id": "7591082d.c8b188",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4523.566665649414,
        "y": 4140.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            []
        ]
    },
    {
        "id": "5f6e1c86.8e0944",
        "type": "save",
        "name": "store $arridx+1 somewhere in vpn-binding",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-id' >\n<parameter name='vpn-id' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-id`' />\n<parameter name='vpn-type' value='`$arridx + 1`' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4830.566665649414,
        "y": 4198.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            []
        ]
    },
    {
        "id": "961d3382.a894a",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4556.566665649414,
        "y": 4185.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "5f6e1c86.8e0944",
                "7721321d.e1d404"
            ]
        ]
    },
    {
        "id": "7721321d.e1d404",
        "type": "set",
        "name": "set twoD array",
        "xml": "<set>\n<parameter name='`tmp.arr[$arridx + 1]`' value='`$providerValue`' />\n<parameter name='tmp.arr_length' value='`$tmp.arr_length + 1`' />\n\n<parameter name='`otn-tunnel-slice[$arridx + 1].list[0].request-id`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-id`' />\n<parameter name='`otn-tunnel-slice[$arridx + 1].list[0].otn-source-node`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].src-access-node-id`' />\n<parameter name='`otn-tunnel-slice[$arridx + 1].list[0].otn-dest-node`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].dst-access-node-id`' />\n<parameter name='`otn-tunnel-slice[$arridx + 1].list[0].bw-odu`' value=\"`'0,' + $gfp`\" />\n<parameter name='`otn-tunnel-slice[$arridx + 1].list[0].src-ttp-id`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].src-access-ltp-id`' />\n<parameter name='`otn-tunnel-slice[$arridx + 1].list[0].dst-ttp-id`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].dst-access-ltp-id`' />\n<parameter name='slice-instance-id' value='`$tmp.aai.service-instance.service-instance-id`' />\n\n<parameter name='`otn-tunnel-slice[$arridx + 1].list[0].domainurl`' value=\"`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-region`\" />\n<parameter name='`otn-tunnel-slice[$arridx + 1].list[0].domainuser`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-description`' />\n<parameter name='`otn-tunnel-slice[$arridx + 1].list[0].domainpassword`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-platform`' />\n\n<parameter name='otn-tunnel-slice_length' value='`$arridx + 2`' />\n<parameter name='`otn-tunnel-slice[$arridx + 1].list_length`' value='1' />\n\n",
        "comments": "",
        "x": 4747.566665649414,
        "y": 4244.566665649414,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "21b48848.76a4e8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4947.566665649414,
        "y": 4142.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            []
        ]
    },
    {
        "id": "9a54915d.342ba",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 5118.566665649414,
        "y": 4269.566665649414,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "95f5c4e3.614088",
        "type": "switchNode",
        "name": "switch dstPort == NULL",
        "xml": "<switch test=\"`$tmp.otninfo[$otnidx].dstPort.dst-access-provider-id == ''`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3519.566665649414,
        "y": 2527.5667877197266,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "4a77c65a.c74ba8",
                "25e326d1.6ed842"
            ]
        ]
    },
    {
        "id": "4a77c65a.c74ba8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3889.566665649414,
        "y": 2488.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "2629aacf.e119ee"
            ]
        ]
    },
    {
        "id": "25e326d1.6ed842",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3890.566665649414,
        "y": 2534.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "8acfbdff.4211d"
            ]
        ]
    },
    {
        "id": "2629aacf.e119ee",
        "type": "set",
        "name": "set access-provider-id and client-id",
        "xml": "<set>\n<parameter name='tmp.access-provider-id' value='`$tmp.otninfo[$otnidx].srcPort.src-access-provider-id`' />\n<parameter name='tmp.access-client-id' value='`$tmp.otninfo[$otnidx].srcPort.src-access-client-id`' />\n<parameter name='tmp.access-topology-id' value='`$tmp.otninfo[$otnidx].srcPort.src-access-topology-id`' />\n<parameter name='tmp.srcdstpnf-id' value='`$tmp.otninfo[$otnidx].srcPort.src-access-node-id`' />\n",
        "comments": "",
        "x": 4103.566665649414,
        "y": 2487.566665649414,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "8acfbdff.4211d",
        "type": "set",
        "name": "set access-provider-id and client-id",
        "xml": "<set>\n<parameter name='tmp.access-provider-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-access-provider-id`' />\n<parameter name='tmp.access-client-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-access-client-id`' />\n<parameter name='tmp.access-topology-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-access-topology-id`' />\n<parameter name='tmp.srcdstpnf-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-access-node-id`' />\n",
        "comments": "",
        "x": 4101.566665649414,
        "y": 2532.566665649414,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "ddbfd88a.9c9a8",
        "type": "set",
        "name": "set attachment_param sliceG",
        "xml": "<set>\n<parameter name='`otn-tunnel-sliceG-list[$stunidx].request-id`' value='`$otn-tunnel-slice[$dmnsidx].list[$stunidx].request-id`' />\n<parameter name='`otn-tunnel-sliceG-list[$stunidx].otn-source-node`' value='`$otn-tunnel-slice[$dmnsidx].list[$stunidx].otn-source-node`' />\n<parameter name='`otn-tunnel-sliceG-list[$stunidx].otn-dest-node`' value='`$otn-tunnel-slice[$dmnsidx].list[$stunidx].otn-dest-node`' />\n<parameter name='`otn-tunnel-sliceG-list[$stunidx].bw-odu`' value=\"`$otn-tunnel-slice[$dmnsidx].list[$stunidx].bw-odu`\" />\n<parameter name='`otn-tunnel-sliceG-list[$stunidx].src-ttp-id`' value='`$otn-tunnel-slice[$dmnsidx].list[$stunidx].src-ttp-id`' />\n<parameter name='`otn-tunnel-sliceG-list[$stunidx].dst-ttp-id`' value='`$otn-tunnel-slice[$dmnsidx].list[$stunidx].dst-ttp-id`' />\n<parameter name='slice-instance-id' value='`$tmp.aai.service-instance.service-instance-id`' />\n\n<parameter name='otn-tunnel-sliceG-list_length' value='`$stunidx + 1`' />\n\n\n<parameter name=\"tmp.domainG.restapiUrl\" value=\"`$otn-tunnel-slice[$dmnsidx].list[$stunidx].domainurl`\" />\n<parameter name=\"tmp.domainG.restapiUser\" value=\"`$otn-tunnel-slice[$dmnsidx].list[$stunidx].domainuser`\" />\n<parameter name=\"tmp.domainG.restapiPassword\" value=\"`$otn-tunnel-slice[$dmnsidx].list[$stunidx].domainpassword`\" />",
        "comments": "",
        "x": 3041.566665649414,
        "y": 4359.566665649414,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "51e14abb.56c3cc",
        "type": "execute",
        "name": "execute RestApiCallNode sliceG creation domainG",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.transport-sliceG-list-creation.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$tmp.domainG.restapiUrl + '/restconf/operations/ietf-optical-slice:create-optical-slice'`\" />\n<parameter name=\"restapiUser\" value=\"`$tmp.domainG.restapiUser`\" />\n<parameter name=\"restapiPassword\" value=\"`tmp.domainG.restapiPassword`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"otn-oof\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2626.566665649414,
        "y": 4467.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "fe5cfaf0.e7454",
                "ad93ca1a.fadb5"
            ]
        ]
    },
    {
        "id": "ad93ca1a.fadb5",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2909.566665649414,
        "y": 4447.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "414cbf7e.8e5b68"
            ]
        ]
    },
    {
        "id": "fe5cfaf0.e7454",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2910.566879272461,
        "y": 4498.566575050354,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "4b1e5bf7.658ebc"
            ]
        ]
    },
    {
        "id": "414cbf7e.8e5b68",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing slice creation api for domain A\" />\n",
        "comments": "",
        "x": 3049.5669136047363,
        "y": 4447.566666603088,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "4b1e5bf7.658ebc",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3055.593925476074,
        "y": 4496.31206035614,
        "z": "44fca1a5.1b442",
        "wires": [
            []
        ]
    },
    {
        "id": "b6d3651d.4b2128",
        "type": "set",
        "name": "set srcdstpnf-name",
        "xml": "<set>\n<parameter name='tmp.srcdstpnf-name' value=\"`'networkId-providerId-' + \n                                             $tmp.access-provider-id + '-clientId-' +\n                                             $tmp.access-client-id + '-topologyId-' + \n                                             $tmp.access-topology-id + '-nodeId-' + \n                                             $tmp.srcdstpnf-id`\" />\n\n",
        "comments": "",
        "x": 3699.566665649414,
        "y": 2601.566665649414,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "fe8a7144.adc7d8",
        "type": "get-resource",
        "name": "get-resource tmp.srcdstpnf-name",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.srcdstpnf-name\"\n        pfx='tmp.aai.srcdst-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3743.566665649414,
        "y": 2649.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "b714ba8d.c5ffb8",
                "a60d7d36.823ed8",
                "a5a24671.692cf"
            ]
        ]
    },
    {
        "id": "b714ba8d.c5ffb8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3956.066665649414,
        "y": 2596.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "d2742bb.34f15d8"
            ]
        ]
    },
    {
        "id": "a60d7d36.823ed8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3968.066665649414,
        "y": 2646.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "bdd55fbe.5d6ad"
            ]
        ]
    },
    {
        "id": "a5a24671.692cf",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3959.066665649414,
        "y": 2701.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "ab51c20f.833f78"
            ]
        ]
    },
    {
        "id": "ab51c20f.833f78",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4104.066665649414,
        "y": 2700.566665649414,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "bdd55fbe.5d6ad",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4115.066665649414,
        "y": 2643.566665649414,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "d2742bb.34f15d8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4081.4491119384766,
        "y": 2590.2223358154297,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "8f6f5e70.e20c98"
            ]
        ]
    },
    {
        "id": "312ea2fc.0d315e",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4640.566665649414,
        "y": 2608.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "3e733270.8b1bbe"
            ]
        ]
    },
    {
        "id": "3e733270.8b1bbe",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4817.566665649414,
        "y": 2600.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "9e837f8d.cf1ae8",
                "43b4fd14.fc62c4"
            ]
        ]
    },
    {
        "id": "8f6f5e70.e20c98",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='spvidx' start='0' end='`$tmp.aai.srcdst-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4242.566665649414,
        "y": 2604.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "f9825a64.03425"
            ]
        ]
    },
    {
        "id": "f9825a64.03425",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.srcdst-pnf.relationship-list.relationship[$spvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4437.566665649414,
        "y": 2604.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "312ea2fc.0d315e"
            ]
        ]
    },
    {
        "id": "43b4fd14.fc62c4",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domainG.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domainG.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 5025.566665649414,
        "y": 2607.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "a51a4275.e6efc",
                "1b79b7.465ad64a",
                "1ec56b27.96893d"
            ]
        ]
    },
    {
        "id": "9e837f8d.cf1ae8",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domainG id",
        "xml": "<set>\n<parameter name='tmp.domainG.esr-thirdparty-id' value=\"`$tmp.aai.srcdst-pnf.relationship-list.relationship[$spvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 5055.566665649414,
        "y": 2555.566665649414,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "a51a4275.e6efc",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5235.566665649414,
        "y": 2598.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "891ba052.ed05"
            ]
        ]
    },
    {
        "id": "1b79b7.465ad64a",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5227.566665649414,
        "y": 2653.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "46385009.ed8b1"
            ]
        ]
    },
    {
        "id": "1ec56b27.96893d",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5232.566665649414,
        "y": 2710.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "1a9be7a.401fb18"
            ]
        ]
    },
    {
        "id": "1a9be7a.401fb18",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5384.566665649414,
        "y": 2711.566665649414,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "46385009.ed8b1",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5395.566665649414,
        "y": 2656.566665649414,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "891ba052.ed05",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5379.948989868164,
        "y": 2596.2223358154297,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "4f6c7f97.54ddd8"
            ]
        ]
    },
    {
        "id": "4f6c7f97.54ddd8",
        "type": "set",
        "name": "set controller domainA data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainG.url' value=\"`$tmp.aai.domainG.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainG.user' value=\"`$tmp.aai.domainG.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainG.password' value=\"`$tmp.aai.domainG.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 5594.566665649414,
        "y": 2592.566665649414,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "117eef78.4f86d1",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2210.566665649414,
        "y": 4359.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "f5da17e3.f4f82",
                "51e14abb.56c3cc"
            ]
        ]
    },
    {
        "id": "162254fa.d7f113",
        "type": "switchNode",
        "name": "switch dmnsidx == 0 (domainA)",
        "xml": "<switch test='`$otnidx == 0`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3713.566665649414,
        "y": 2818.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "4ba218c1.83488",
                "bbf91ed2.3d1698"
            ]
        ]
    },
    {
        "id": "4ba218c1.83488",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3914.566665649414,
        "y": 2816.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "c5a6daa.df89d28"
            ]
        ]
    },
    {
        "id": "b51d81a7.df9ce8",
        "type": "set",
        "name": "set pce-src-node",
        "xml": "<set>\n<parameter name='tmp.pce-src-node' value='`$tmp.srcdstpnf-name`' />",
        "comments": "",
        "x": 4195.566665649414,
        "y": 2766.566665649414,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "cc08c38c.ee0da",
        "type": "switchNode",
        "name": "switch dmnsidx == last (domainB)",
        "xml": "<switch test='`$otnidx == $tmp.otninfo_length - 1`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4131.566665649414,
        "y": 2867.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "cc3f7988.cb629",
                "a10beb4c.1d2f6"
            ]
        ]
    },
    {
        "id": "cc3f7988.cb629",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4361.566665649414,
        "y": 2863.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "ba88a8bc.8452c"
            ]
        ]
    },
    {
        "id": "c32b6bd2.d5291",
        "type": "set",
        "name": "set attachment_param domain B",
        "xml": "<set>\n<parameter name='tmp.domainG-src-access-node-id' value='`$tmp.otninfo[$otnidx].srcPort.src-access-node-id`' />\n<parameter name='tmp.domainG-dst-access-node-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -3]`' />",
        "comments": "",
        "x": 4698.566665649414,
        "y": 2807.566665649414,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "bbf91ed2.3d1698",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3914.566665649414,
        "y": 2865.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "cc08c38c.ee0da"
            ]
        ]
    },
    {
        "id": "a10beb4c.1d2f6",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4362.566665649414,
        "y": 2909.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "3bd22ad4.011c86"
            ]
        ]
    },
    {
        "id": "3bd22ad4.011c86",
        "type": "set",
        "name": "set attachment_param domain G",
        "xml": "<set>\n<parameter name='tmp.domainG-src-access-node-id' value='`$tmp.otninfo[$otnidx].srcPort.src-access-node-id`' />\n<parameter name='tmp.domainG-dst-access-node-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-access-node-id`' />",
        "comments": "",
        "x": 4576.566665649414,
        "y": 2909.566665649414,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "f534100b.d3913",
        "type": "set",
        "name": "set tmp.slicevpns",
        "xml": "<set>\n<parameter name='`tmp.slicevpns[$tmp.slicevpns_length]`' value=\"`$prop.vpn-binding-otnidx-uuid`\" />\n<parameter name='tmp.slicevpns_length' value=\"`$tmp.slicevpns_length + 1`\" />\n\n<parameter name='`tmp.slicevpnuuids[$prop.vpn-binding-otnidx-uuid]`' value=\"`$prop.vpn-binding-otnidx-uuid`\" />\n\n",
        "comments": "",
        "x": 4474.566665649414,
        "y": 2958.566665649414,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "4572270e.4cc878",
        "type": "switchNode",
        "name": "switch vpnuuid is for this slice",
        "xml": "<!--<switch test=\"`$tmp.slicevpnuuids[$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-id] != '' `\">-->\n\n<!-- Replace vpn-type with slice-id (a new attribbute in the latest AAI) -->\n<switch test=\"`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].ops-note == $tmp.aai.service-instance.service-instance-id `\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3038.566665649414,
        "y": 4182.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "57ff5eb5.4d2a88",
                "7d25dc2d.180224"
            ]
        ]
    },
    {
        "id": "57ff5eb5.4d2a88",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3255.566665649414,
        "y": 4161.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "c169753b.e6b0a8"
            ]
        ]
    },
    {
        "id": "7d25dc2d.180224",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3255.566665649414,
        "y": 4210.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            []
        ]
    },
    {
        "id": "c169753b.e6b0a8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3423.566665649414,
        "y": 4161.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "2dc803c6.2ce1ec",
                "348ff77c.2874e"
            ]
        ]
    },
    {
        "id": "2d3c440e.e71da4",
        "type": "set",
        "name": "set attachment_param domain A",
        "xml": "<set>\n<parameter name='tmp.domainG-src-access-node-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -3]`' />\n<parameter name='tmp.domainG-dst-access-node-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-access-node-id`' />",
        "comments": "",
        "x": 4250.566665649414,
        "y": 2813.566665649414,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "c5a6daa.df89d28",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4038.566665649414,
        "y": 2807.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "2d3c440e.e71da4"
            ]
        ]
    },
    {
        "id": "f9603c79.8ed218",
        "type": "set",
        "name": "set pce-src-node",
        "xml": "<set>\n<parameter name='tmp.pce-dst-node' value='`$tmp.srcdstpnf-name`' />",
        "comments": "",
        "x": 4650.566665649414,
        "y": 2855.566665649414,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "ba88a8bc.8452c",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4494.566665649414,
        "y": 2839.566665649414,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "c32b6bd2.d5291"
            ]
        ]
    },
    {
        "id": "f367c816.36c578",
        "type": "get-resource",
        "name": "get-resource pnfs-list",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"pnfs\"\n\t    key=\"selflink = 'https://aai.onap:8443/aai/v25/network/pnfs?depth=0' depth = 0\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"ccsdkTopopnfs\" >",
        "comments": "",
        "outputs": 1,
        "x": 1980.566665649414,
        "y": 104.56666564941406,
        "z": "44fca1a5.1b442",
        "wires": [
            []
        ]
    },
    {
        "id": "96051d25.052e78",
        "type": "get-resource",
        "name": "get-resource logical-links",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"logical-links\"\n\t    key=\"selflink = 'https://aai.onap:8443/aai/v25/network/logical-links?depth=0'\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"ccsdkTopologicalLinks\" >",
        "comments": "",
        "outputs": 1,
        "x": 1992.566665649414,
        "y": 145.56666564941406,
        "z": "44fca1a5.1b442",
        "wires": [
            []
        ]
    },
    {
        "id": "aa05516d.d6c1f",
        "type": "comment",
        "name": "The following two nodes are for PCE",
        "info": "",
        "comments": "",
        "x": 2016.566665649414,
        "y": 67.56666564941406,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "c12ef49d.c23818",
        "type": "set",
        "name": "set tmp.arr",
        "xml": "<set>\n<parameter name='tmp.arr.' value='' />\n<parameter name='tmp.arridx' value='0' />\n<parameter name='otn-tunnel-slice.' value='' />\n\n\n",
        "comments": "",
        "x": 1937.566665649414,
        "y": 191.56666564941406,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "dd0ea493.8f50f",
        "type": "execute",
        "name": "execute printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n    <parameter name=\"filename\" value=\"`$filenamemm`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1590.566665649414,
        "y": 2323.5662994384766,
        "z": "44fca1a5.1b442",
        "wires": [
            []
        ]
    },
    {
        "id": "4ae38bdf.37b3b4",
        "type": "set",
        "name": "set maxtpn",
        "xml": "<set>\n<parameter name='maxtpn' value='`($maxtpn + $gfp)`' />",
        "comments": "",
        "x": 3654.566665649414,
        "y": 3006.566665649414,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "a58bc596.7e7c2",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:tsli-vnf-topology-operation-find-maximum-used-tpn",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='tsli-vnf-topology-operation-find-maximum-used-tpn' mode='sync' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1789.566665649414,
        "y": 2371.5665435791016,
        "z": "44fca1a5.1b442",
        "wires": [
            []
        ]
    },
    {
        "id": "475ae245.9fc77c",
        "type": "switchNode",
        "name": "switch src and dst same domain?",
        "xml": "<switch test=\"`$param-prefix-domainA[$param-prefix-domainA_length -9] == $param-prefix-domainB[$param-prefix-domainB_length -9]`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 1551.1502075195312,
        "y": 2452.150390625,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "e6c172a1.d8f858",
                "82600db3.cf71b"
            ]
        ]
    },
    {
        "id": "e6c172a1.d8f858",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1722.149917602539,
        "y": 2562.1502838134766,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "dd4809a0.0c713"
            ]
        ]
    },
    {
        "id": "82600db3.cf71b",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1785.1500396728516,
        "y": 2439.1502838134766,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "5a6f4a6c.780d2c"
            ]
        ]
    },
    {
        "id": "4a4cb8a7.53237",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:p2p-vnf-topology-operation-p2p-get-otn-tunnel-path-from-oof",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='p2p-vnf-topology-operation-p2p-get-otn-tunnel-path-from-oof' mode='sync' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2375.4832916259766,
        "y": 2427.4832916259766,
        "z": "44fca1a5.1b442",
        "wires": [
            []
        ]
    },
    {
        "id": "dd4809a0.0c713",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1904.483413696289,
        "y": 2565.4832916259766,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "a3db40f.f56a64",
                "3ed4dcd6.dacdc4",
                "9f3ef30c.c3c62",
                "10ca65f.d30799a"
            ]
        ]
    },
    {
        "id": "a3db40f.f56a64",
        "type": "execute",
        "name": "execute UUID generator for vpn-binding $otnidx",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.vpn-binding-samedomain-uuid\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2234.4832916259766,
        "y": 2553.150161743164,
        "z": "44fca1a5.1b442",
        "wires": [
            []
        ]
    },
    {
        "id": "3ed4dcd6.dacdc4",
        "type": "set",
        "name": "set attachment_param Same Domain",
        "xml": "<set>\n<parameter name='tmp.sameDomain-src-access-node-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -3]`' />\n<parameter name='tmp.sameDomain-dst-access-node-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -3]`' />\n<parameter name='tmp.sameDomain-src-access-ltp-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -1]`' />\n<parameter name='tmp.sameDomain-dst-access-ltp-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -1]`' />\n",
        "comments": "",
        "x": 2202.4832916259766,
        "y": 2613.483169555664,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "9f3ef30c.c3c62",
        "type": "save",
        "name": "save vpn-binding same domain resource (aka. OTN) in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $prop.vpn-binding-samedomain-uuid' >\n<parameter name='vpn-id' value='`$prop.vpn-binding-samedomain-uuid`' />\n<parameter name='vpn-name' value='`$prop.otn-tunnel-name`' />\n<!--<parameter name='customer-vpn-id' value='`($idx + 1) * 10`' />-->\n<parameter name='customer-vpn-id' value='`($maxtpn + $gfp)`' />\n<!--<parameter name='access-provider-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-access-provider-id`' />-->\n<parameter name='access-provider-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -9]`' />\n<!--<parameter name='access-client-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-access-client-id`' />-->\n<parameter name='access-client-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -7]`' />\n<!--<parameter name='access-topology-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-access-topology-id`' />-->\n<parameter name='access-topology-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -5]`' />\n<!--<parameter name='src-access-node-id' value='`$tmp.otninfo[$otnidx].srcPort.src-access-node-id`' />-->\n<parameter name='src-access-node-id' value='`$tmp.sameDomain-src-access-node-id`' />\n<parameter name='src-access-ltp-id' value='`$tmp.sameDomain-src-access-ltp-id`' />\n<!--<parameter name='dst-access-node-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-access-node-id`' />-->\n<parameter name='dst-access-node-id' value='`$tmp.sameDomain-dst-access-node-id`' />\n<parameter name='dst-access-ltp-id' value='`$tmp.sameDomain-dst-access-ltp-id`' />\n<parameter name='route-distinguisher' value='`$gfp`' />\n<parameter name='operational-status' value='Created' />\n<!--<parameter name='model-customization-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-customization-uuid`' />-->\n<!--<parameter name='model-invariant-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-invariant-uuid`' />-->\n<!--<parameter name='model-version-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-uuid`' />-->\n\n<parameter name='vpn-region' value='`$prop.sdncRestApi.thirdpartySdnc.domainG.url`' />\n<parameter name='vpn-description' value='`$prop.sdncRestApi.thirdpartySdnc.domainG.user`' />\n<parameter name='vpn-platform' value='`$prop.sdncRestApi.thirdpartySdnc.domainG.password`' />\n\n<!-- The following line is in lieu of vpn-binding.slice-id (new attribute in latest AAI) -->\n<parameter name='ops-note' value='`$tmp.aai.service-instance.service-instance-id`' />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2267.8165435791016,
        "y": 2669.483169555664,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "ec87cb9c.11295"
            ]
        ]
    },
    {
        "id": "ec87cb9c.11295",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2584.8165435791016,
        "y": 2671.483169555664,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "d89df417.ae3c78"
            ]
        ]
    },
    {
        "id": "d89df417.ae3c78",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2748.3165435791016,
        "y": 2670.737075805664,
        "z": "44fca1a5.1b442",
        "wires": [
            []
        ]
    },
    {
        "id": "df1cdf90.7c16c",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:p2p-vnf-topology-operation-p2p-activate",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='p2p-vnf-topology-operation-p2p-activate' mode='sync' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2184.483413696289,
        "y": 4095.149673461914,
        "z": "44fca1a5.1b442",
        "wires": [
            []
        ]
    },
    {
        "id": "10ca65f.d30799a",
        "type": "save",
        "name": "save connectivity-domainA relationship to vpn-binding-sameDomain, in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding:relationship-list' \n      key='vpn-binding.vpn-id = $prop.vpn-binding-samedomain-uuid' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"connectivity\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/connectivities/connectivity/' + $uuid.connectivity-domainA-uuid`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"connectivity.connectivity-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$uuid.connectivity-domainA-uuid`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2316.482925415039,
        "y": 2724.149917602539,
        "z": "44fca1a5.1b442",
        "wires": [
            []
        ]
    },
    {
        "id": "5a6f4a6c.780d2c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1955.1500396728516,
        "y": 2438.1502838134766,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "4a4cb8a7.53237",
                "454059c8.1f8fc"
            ]
        ]
    },
    {
        "id": "2c4795df.bc53ba",
        "type": "switchNode",
        "name": "switch tmp.aai.network-route-A.data-owner == null",
        "xml": "<switch test=\"`length($tmp.aai.network-route-A.data-owner) == 0`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 2719.300048828125,
        "y": 1239.1666259765625,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "4f29043.7cddffc"
            ]
        ]
    },
    {
        "id": "4f29043.7cddffc",
        "type": "outcomeTrue",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2994.1668701171875,
        "y": 1227.1666259765625,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "e7abfd13.e0f26"
            ]
        ]
    },
    {
        "id": "e7abfd13.e0f26",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3115.1668701171875,
        "y": 1228.1666259765625,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "2ffba978.2724fe"
            ]
        ]
    },
    {
        "id": "2ffba978.2724fe",
        "type": "set",
        "name": "set final-vlan",
        "xml": "<set>\n<parameter name='final-vlan' value=\"`$tmp.aai.network-route-A.data-owner`\" />\n\n",
        "comments": "",
        "x": 3269.166748046875,
        "y": 1227.566650390625,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "da97768b.de449",
        "type": "switchNode",
        "name": "switch tmp.aai.network-route-B.data-owner == null",
        "xml": "<switch test=\"`length($tmp.aai.network-route-B.data-owner) == 0`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 2739.300048828125,
        "y": 1300.1666259765625,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "68665f18.022eb"
            ]
        ]
    },
    {
        "id": "68665f18.022eb",
        "type": "outcomeTrue",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3014.1668701171875,
        "y": 1288.1666259765625,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "5b5b9e57.59631"
            ]
        ]
    },
    {
        "id": "5b5b9e57.59631",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3135.1668701171875,
        "y": 1289.1666259765625,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "65f1c257.fa1e1c"
            ]
        ]
    },
    {
        "id": "65f1c257.fa1e1c",
        "type": "set",
        "name": "set final-vlan",
        "xml": "<set>\n<parameter name='final-vlan' value=\"`$tmp.aai.network-route-B.data-owner`\" />\n\n",
        "comments": "",
        "x": 3289.166748046875,
        "y": 1288.566650390625,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "98cc92a0.50792",
        "type": "set",
        "name": "unset final-vlan",
        "xml": "<set>\n<parameter name='final-vlan' value=\"\" />\n\n",
        "comments": "",
        "x": 2603.300048828125,
        "y": 1193.1666259765625,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "689f5373.4eba54",
        "type": "switchNode",
        "name": "switch $tmp.aai.network-route-A.data-owner == null",
        "xml": "<switch test=\"`length($tmp.aai.network-route-A.data-owner) == 0`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 3956.433349609375,
        "y": 2018.566650390625,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "806fd0a9.5f009",
                "cfea3d9c.4ce5a8"
            ]
        ]
    },
    {
        "id": "806fd0a9.5f009",
        "type": "outcomeTrue",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4235.30078125,
        "y": 2003.566650390625,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "60798819.bfd6e"
            ]
        ]
    },
    {
        "id": "60798819.bfd6e",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4393.30078125,
        "y": 1999.566650390625,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "4cbae1c1.273ca"
            ]
        ]
    },
    {
        "id": "4cbae1c1.273ca",
        "type": "set",
        "name": "set final-vlan",
        "xml": "<set>\n<parameter name='final-vlan' value=\"`$tmp.aai.network-route-A.data-owner`\" />\n",
        "comments": "",
        "x": 4558.30029296875,
        "y": 1999.9666748046875,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "d72c4c5b.0543b8",
        "type": "set",
        "name": "set final-vlan",
        "xml": "<set>\n<parameter name='final-vlan' value=\"`$tmp.aai.network-route-B.logical-interface-id`\" />\n",
        "comments": "",
        "x": 4561.7333984375,
        "y": 2058.36669921875,
        "z": "44fca1a5.1b442",
        "wires": []
    },
    {
        "id": "ea82b437.1459e",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4396.73388671875,
        "y": 2057.9666748046875,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "d72c4c5b.0543b8"
            ]
        ]
    },
    {
        "id": "cfea3d9c.4ce5a8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4238.73388671875,
        "y": 2061.9666748046875,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "ea82b437.1459e"
            ]
        ]
    },
    {
        "id": "bfc91f6.fd87a6",
        "type": "switchNode",
        "name": "switch src and dst same domain?",
        "xml": "<switch test=\"`$param-prefix-domainA[$param-prefix-domainA_length -9] == $param-prefix-domainB[$param-prefix-domainB_length -9]`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 3204.933349609375,
        "y": 2114.1663818359375,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "605caba5.b05b8c",
                "68fb876d.4a2b18"
            ]
        ]
    },
    {
        "id": "68fb876d.4a2b18",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3429.93310546875,
        "y": 2092.1663818359375,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "3e3ad7ef.fe4e8"
            ]
        ]
    },
    {
        "id": "605caba5.b05b8c",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3427.93310546875,
        "y": 2154.1663818359375,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "8abea7d8.35f5b8"
            ]
        ]
    },
    {
        "id": "3e3ad7ef.fe4e8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3575.9331817626953,
        "y": 2092.1663970947266,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "9eaa7330.d56278",
                "ea3b6f52.6f2fd8",
                "a9c9250a.2de128"
            ]
        ]
    },
    {
        "id": "8abea7d8.35f5b8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3572.2666015625,
        "y": 2154.4993896484375,
        "z": "44fca1a5.1b442",
        "wires": [
            [
                "f9b9a837.a6982"
            ]
        ]
    },
    {
        "id": "f9b9a837.a6982",
        "type": "save",
        "name": "update connectivity resource in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $uuid.connectivity-domainA-uuid'>\n<parameter name='connectivity-id' value='`$uuid.connectivity-domainA-uuid`' />\n<parameter name='color-aware' value='`$param-prefix-domainB[$param-prefix-domainB_length -3]`' />\n<parameter name='coupling-flag' value='`$param-prefix-domainB[$param-prefix-domainB_length -1]`' />\n",
        "comments": "",
        "outputs": 1,
        "x": 3663.2335205078125,
        "y": 2280.7664794921875,
        "z": "44fca1a5.1b442",
        "wires": [
            []
        ]
    }
]