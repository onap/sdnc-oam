[
    {
        "id": "b426698f.bcfc1",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 152.56666564941406,
        "y": 111.56666564941406,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "dda42032.d7c16"
            ]
        ]
    },
    {
        "id": "dda42032.d7c16",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 283.85235595703125,
        "y": 160.8047742843628,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "e2264d45.69ec48"
            ]
        ]
    },
    {
        "id": "e2264d45.69ec48",
        "type": "method",
        "name": "method p2p-vnf-topology-operation-p2p-activate",
        "xml": "<method rpc='p2p-vnf-topology-operation-p2p-activate' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 286.9952850341797,
        "y": 245.56669807434082,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "ee8a72fb.598d5"
            ]
        ]
    },
    {
        "id": "ee8a72fb.598d5",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 436.80470275878906,
        "y": 375.2333221435547,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "6f85f731.13b82",
                "eba98a4a.ac8ff",
                "a74dc401.a8636"
            ]
        ]
    },
    {
        "id": "6f85f731.13b82",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 705.1383209228516,
        "y": 762.1638336181641,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "40b1f55.6d6428c",
        "type": "comment",
        "name": "new for TransportSlicing",
        "info": "",
        "comments": "",
        "x": 736.5666656494141,
        "y": 436.56666564941406,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "eba98a4a.ac8ff",
        "type": "save",
        "name": "get service-instance from aai",
        "xml": "<!--<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" -->\n<!--\tresource=\"service-instance\"-->\n<!--\tkey='service-instance.service-instance-id = $service-data.vnfs.vnf[$tmp.vidx].vnf-data.service-information.service-instance-id-->\n<!--         AND customer.global-customer-id = $service-data.vnfs.vnf[$tmp.vidx].vnf-data.service-information.global-customer-id -->\n<!--         AND service-subscription.service-type = $service-data.vnfs.vnf[$tmp.vidx].vnf-data.service-information.subscription-service-type'-->\n<!--\tlocal-only=\"false\"-->\n<!--\tforce=\"true\" pfx=\"tmp.aai.service-instance\">-->\n\n<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"service-instance\"\n\tkey='service-instance.service-instance-id = $vnf-topology-operation-input.service-information.service-instance-id\n         AND customer.global-customer-id = $vnf-topology-operation-input.service-information.global-customer-id \n         AND service-subscription.service-type = $vnf-topology-operation-input.service-information.subscription-service-type'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.service-instance\">\n\n\n<!--$vnf-topology-operation-input.service-information.service-instance-id-->",
        "comments": "",
        "outputs": 1,
        "x": 756.5666656494141,
        "y": 532.5666656494141,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "1e7b283c.1e038",
                "52313592.2606f4",
                "3666eff1.a4c68"
            ]
        ]
    },
    {
        "id": "1e7b283c.1e038",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 975.5666656494141,
        "y": 470.56666564941406,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "4802c9ed.bd319"
            ]
        ]
    },
    {
        "id": "52313592.2606f4",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 985.0576324462891,
        "y": 513.1407012939453,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "aaeb8158.8891e8"
            ]
        ]
    },
    {
        "id": "3666eff1.a4c68",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 973.5666656494141,
        "y": 559.5666656494141,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "5ca110f5.52cc9"
            ]
        ]
    },
    {
        "id": "aaeb8158.8891e8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 1138.6290435791016,
        "y": 516.4264373779297,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "5ca110f5.52cc9",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 1142.566665649414,
        "y": 560.5666656494141,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "4802c9ed.bd319",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for index='rel-index' start='0' end='`$tmp.aai.service-instance.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1172.566665649414,
        "y": 466.56666564941406,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "5f77cdf0.1ff4fc"
            ]
        ]
    },
    {
        "id": "5f77cdf0.1ff4fc",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.service-instance.relationship-list.relationship[$rel-index].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1395.900161743164,
        "y": 466.5666046142578,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "dbbed370.683fd8"
            ]
        ]
    },
    {
        "id": "dbbed370.683fd8",
        "type": "outcome",
        "name": "connectivity",
        "xml": "<outcome value='connectivity'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1537.5668334960938,
        "y": 384.5666961669922,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "a62a2704.25f8d8"
            ]
        ]
    },
    {
        "id": "44bcd2e8.a3bb64",
        "type": "set",
        "name": "set attachment_param for OTN A",
        "xml": "<set>\n<parameter name='src-node-id' value='`$tmp.aai.vpn-bindingA.src-access-node-id`' />\n<parameter name='dst-node-id' value='`$tmp.aai.vpn-bindingA.dst-access-node-id`' />\n<!--<parameter name='dst-tpn-id' value='1' />-->\n<parameter name='dst-tpn-id' value='`$tmp.aai.vpn-bindingA.customer-vpn-id`' />\n<parameter name='dst-ttp-id' value='`$tmp.aai.vpn-bindingA.dst-access-ltp-id`' />\n<parameter name='slice-instance-id' value='`$tmp.aai.service-instance.service-instance-id`' />\n<parameter name='otn-tunnel-name-src-domain' value='`$tmp.aai.vpn-bindingA.vpn-name`' />\n<parameter name='client-id' value='`$tmp.aai.vpn-bindingA.access-client-id`' />\n<parameter name='provider-id' value='`$tmp.aai.vpn-bindingA.access-provider-id`' />\n<parameter name='topology-id' value='`$tmp.aai.vpn-bindingA.access-topology-id`' />\n",
        "comments": "",
        "x": 4415.566665649414,
        "y": 183.56666564941406,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "235bcd4f.ba7e9a",
        "type": "execute",
        "name": "execute RestApiCallNode Create OTN tunnel with token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.p2p-otn-src-domain-creation.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainA.url + '/restconf/data/ietf-te:te/tunnels'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainA.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainA.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"otn-oof\"/>\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />-->\n",
        "comments": "",
        "outputs": 1,
        "x": 4496.566665649414,
        "y": 498.56666564941406,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "9f56fadc.33cce8",
                "143f9e70.b45a92"
            ]
        ]
    },
    {
        "id": "9f56fadc.33cce8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4806.066665649414,
        "y": 467.56666564941406,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "705d82c.67d11fc"
            ]
        ]
    },
    {
        "id": "143f9e70.b45a92",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4811.066665649414,
        "y": 532.5666656494141,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "a78f86b9.c32d28"
            ]
        ]
    },
    {
        "id": "705d82c.67d11fc",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create OTN tunnel rest api\" />\n",
        "comments": "",
        "x": 4982.066665649414,
        "y": 467.56666564941406,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "a78f86b9.c32d28",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4977.566665649414,
        "y": 532.5666656494141,
        "z": "33354834.16c3b8",
        "wires": [
            []
        ]
    },
    {
        "id": "af922307.c203c8",
        "type": "set",
        "name": "set sotn_value",
        "xml": "<set>\n<!--<parameter name='eth-service-name' value='`$tmp.aai.connectivityA.connectivity-id`' />-->\n<parameter name='eth-service-name' value='`$tmp.aai.connectivityA.etht-svc-name`' />\n<parameter name='slice-id' value='`$vnf-topology-operation-input.service-information.service-instance-id`' />\n<parameter name='provider-id' value='`$tmp.aai.connectivityA.access-provider-id`' />\n<parameter name='client-id' value='`$tmp.aai.connectivityA.access-client-id`' />\n<parameter name='topology-id' value='`$tmp.aai.connectivityA.access-topology-id`' />\n<parameter name='otn-tunnel-name' value='`$tmp.aai.vpn-bindingA.vpn-name`' />\n<parameter name='ethernet-end-point-name' value='`$tmp.aai.connectivityA.connectivity-id`' />\n<parameter name='index-number' value='0' />\n<parameter name='eth-node-id' value='`$tmp.aai.connectivityA.access-node-id`' />\n<parameter name='eth-node-tp-id' value='`$tmp.aai.connectivityA.access-ltp-id`' />\n<parameter name='CIR' value='`$tmp.aai.vpn-bindingA.route-distinguisher *1000000`' />\n<parameter name='EIR' value='`$tmp.aai.vpn-bindingA.route-distinguisher *1000000`' />\n<parameter name='cvlan' value='`$tmp.aai.connectivityA.cvlan`' />\n",
        "comments": "",
        "x": 4363.066665649414,
        "y": 686.5666656494141,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "4cfae106.244c4",
        "type": "execute",
        "name": "execute RestApiCallNode Create ethernet Service without token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<!--<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.p2p-ethernet-service.templatefile`\" />-->\n<parameter name=\"templateFileName\" value=\"`$tmp.templateFileNameForEthSrv`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainA.url + '/restconf/data/ietf-eth-tran-service:etht-svc'`\" />\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.restapi.connection-oof-url`\" />-->\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainA.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainA.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name='dirPath' value=\"/opt/onap/sdnc/restconfapi/yang\" />\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "outputs": 1,
        "x": 4517.066665649414,
        "y": 734.5666656494141,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "1e0a9e34.d5eca2",
                "4e3f62b2.97234c"
            ]
        ]
    },
    {
        "id": "1e0a9e34.d5eca2",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4862.566665649414,
        "y": 715.5666656494141,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "35316f81.9ed85"
            ]
        ]
    },
    {
        "id": "4e3f62b2.97234c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4866.566665649414,
        "y": 755.5666656494141,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "1cbef478.7c261c"
            ]
        ]
    },
    {
        "id": "35316f81.9ed85",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create ethernet service rest api\" />\n",
        "comments": "",
        "x": 5020.566665649414,
        "y": 715.5666656494141,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "1cbef478.7c261c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 5024.066665649414,
        "y": 755.5666656494141,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "be879311.90668",
                "a145aca2.ac879",
                "e634d16b.4c8208"
            ]
        ]
    },
    {
        "id": "a769c383.79df18",
        "type": "comment",
        "name": "TODO: FIXME:",
        "info": "put proper values based on connectivity resource retrieved from AAI",
        "comments": "",
        "x": 4360.566665649414,
        "y": 642.5666656494141,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "be879311.90668",
        "type": "save",
        "name": "update vpn-binding A resource (aka. OTN domainA) in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $tmp.aai.vpn-bindingA.vpn-id' >\n<parameter name='vpn-id' value='`$tmp.aai.vpn-bindingA.vpn-id`' />\n<parameter name='vpn-name' value='`$tmp.aai.vpn-bindingA.vpn-name`' />\n\n<parameter name='operational-status' value='Activated' />\n",
        "comments": "",
        "outputs": 1,
        "x": 5541.566909790039,
        "y": 595.5666656494141,
        "z": "33354834.16c3b8",
        "wires": [
            []
        ]
    },
    {
        "id": "d5dfd505.69af2",
        "type": "comment",
        "name": "TODO: FIXME",
        "info": "use proper vpn-binding id and connectivity id\n\nAlso, does CCSDK support \"update\" operation for vpn-binding and connectivity?",
        "comments": "",
        "x": 5405.566909790039,
        "y": 554.5666656494141,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "a145aca2.ac879",
        "type": "save",
        "name": "update connectivity resource in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $tmp.aai.connectivityA.connectivity-id'>\n<parameter name='connectivity-id' value='`$tmp.aai.connectivityA.connectivity-id`' />\n<parameter name='operational-status' value='Activated' />\n",
        "comments": "",
        "outputs": 1,
        "x": 5468.566909790039,
        "y": 641.5666656494141,
        "z": "33354834.16c3b8",
        "wires": [
            []
        ]
    },
    {
        "id": "44c284d2.4d6d3c",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.src.domainA.pnf-name' value=\"`'networkId-providerId-' +\n                                                   $tmp.aai.vpn-bindingA.access-provider-id + '-clientId-' +\n                                                   $tmp.aai.vpn-bindingA.access-client-id + '-topologyId-' +\n                                                   $tmp.aai.vpn-bindingA.access-topology-id + '-nodeId-' +\n                                                   $tmp.aai.vpn-bindingA.src-access-node-id`\" />\n",
        "comments": "",
        "x": 4353.566665649414,
        "y": 231.56666564941406,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "55fb0c25.47026c",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.src.domainA.pnf-name\"\n        pfx='tmp.aai.source-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 4379.566665649414,
        "y": 348.56666564941406,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "baf31efa.9d02c8",
                "74922f45.cf4ee",
                "c4e9d6bb.97a8b"
            ]
        ]
    },
    {
        "id": "baf31efa.9d02c8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4575.066787719727,
        "y": 300.56666564941406,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "43bc0802.15854"
            ]
        ]
    },
    {
        "id": "74922f45.cf4ee",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4567.066787719727,
        "y": 355.56666564941406,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "6499c72f.95b628"
            ]
        ]
    },
    {
        "id": "43bc0802.15854",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4719.449111938477,
        "y": 300.2223358154297,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "6fa2d3b0.fd7efc"
            ]
        ]
    },
    {
        "id": "b0f8c595.8444c",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5301.566665649414,
        "y": 302.56666564941406,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "4e73c346.ee277c"
            ]
        ]
    },
    {
        "id": "6fa2d3b0.fd7efc",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='spvidx' start='0' end='`$tmp.aai.source-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4903.566665649414,
        "y": 298.56666564941406,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "d9bb61c1.741d"
            ]
        ]
    },
    {
        "id": "d9bb61c1.741d",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5098.566665649414,
        "y": 298.56666564941406,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "b0f8c595.8444c"
            ]
        ]
    },
    {
        "id": "c4e9d6bb.97a8b",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4572.066787719727,
        "y": 412.56666564941406,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "8bff9189.cce068"
            ]
        ]
    },
    {
        "id": "8bff9189.cce068",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4724.066787719727,
        "y": 413.56666564941406,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "6499c72f.95b628",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4735.066787719727,
        "y": 356.56666564941406,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "1c233ea3.b1f299",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domainA.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domainA.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 5686.566665649414,
        "y": 315.56666564941406,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "d61ed221.5ecdd",
                "d1b9cbed.664ff",
                "cd554430.08993"
            ]
        ]
    },
    {
        "id": "4e73c346.ee277c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5480.566665649414,
        "y": 302.56666564941406,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "85104104.6dac4",
                "1c233ea3.b1f299"
            ]
        ]
    },
    {
        "id": "85104104.6dac4",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domainA id",
        "xml": "<set>\n<parameter name='tmp.domainA.esr-thirdparty-id' value=\"`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 5716.566665649414,
        "y": 263.56666564941406,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "d61ed221.5ecdd",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5896.566665649414,
        "y": 306.56666564941406,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "ecba12bc.ca79d"
            ]
        ]
    },
    {
        "id": "d1b9cbed.664ff",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5888.566665649414,
        "y": 361.56666564941406,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "1044edab.10a4d2"
            ]
        ]
    },
    {
        "id": "cd554430.08993",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5893.566665649414,
        "y": 418.56666564941406,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "f2bc07a2.346708"
            ]
        ]
    },
    {
        "id": "f2bc07a2.346708",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 6045.566665649414,
        "y": 419.56666564941406,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "1044edab.10a4d2",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 6056.566665649414,
        "y": 364.56666564941406,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "ecba12bc.ca79d",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 6040.948989868164,
        "y": 304.2223358154297,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "eef0bb47.7a3f88"
            ]
        ]
    },
    {
        "id": "eef0bb47.7a3f88",
        "type": "set",
        "name": "set controller domainA data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainA.url' value=\"`$tmp.aai.domainA.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainA.user' value=\"`$tmp.aai.domainA.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainA.password' value=\"`$tmp.aai.domainA.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 6255.566665649414,
        "y": 300.56666564941406,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "a74dc401.a8636",
        "type": "execute",
        "name": "execute properties",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />",
        "comments": "",
        "outputs": 1,
        "x": 722.5666656494141,
        "y": 480.56666564941406,
        "z": "33354834.16c3b8",
        "wires": [
            []
        ]
    },
    {
        "id": "d36679f1.a0d8a",
        "type": "set",
        "name": "set attachment_param for OTN B",
        "xml": "<set>\n<parameter name='src-node-id' value='`$tmp.aai.vpn-bindingB.src-access-node-id`' />\n<parameter name='dst-node-id' value='`$tmp.aai.vpn-bindingB.dst-access-node-id`' />\n<!--<parameter name='src-tpn-id' value='1' />-->\n<parameter name='src-tpn-id' value='`$tmp.aai.vpn-bindingB.customer-vpn-id`' />\n<parameter name='src-ttp-id' value='`$tmp.aai.vpn-bindingB.src-access-ltp-id`' />\n<parameter name='slice-instance-id' value='`$tmp.aai.service-instance.service-instance-id`' />\n<parameter name='otn-tunnel-name-dst-domain' value='`$tmp.aai.vpn-bindingB.vpn-name`' />\n<parameter name='client-id' value='`$tmp.aai.vpn-bindingB.access-client-id`' />\n<parameter name='provider-id' value='`$tmp.aai.vpn-bindingB.access-provider-id`' />\n<parameter name='topology-id' value='`$tmp.aai.vpn-bindingB.access-topology-id`' />\n",
        "comments": "",
        "x": 3822.566665649414,
        "y": 1640.566665649414,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "2c2876b1.2b5332",
        "type": "execute",
        "name": "execute RestApiCallNode Create OTN tunnel with token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.p2p-otn-dst-domain-creation.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainB.url + '/restconf/data/ietf-te:te/tunnels'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainB.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainB.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"otn-oof\"/>\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />-->",
        "comments": "",
        "outputs": 1,
        "x": 3885.566665649414,
        "y": 1969.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "5f444ade.96d9a4",
                "9af37a8f.f23f18"
            ]
        ]
    },
    {
        "id": "5f444ade.96d9a4",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4181.066665649414,
        "y": 1936.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "a98d5509.6c7c78"
            ]
        ]
    },
    {
        "id": "9af37a8f.f23f18",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4186.066665649414,
        "y": 2001.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "55dfdfe9.281428"
            ]
        ]
    },
    {
        "id": "a98d5509.6c7c78",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create OTN tunnel rest api\" />\n",
        "comments": "",
        "x": 4349.066665649414,
        "y": 1936.566665649414,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "55dfdfe9.281428",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4359.566665649414,
        "y": 2001.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            []
        ]
    },
    {
        "id": "36fc5af8.9e293e",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.dst.domainB.pnf-name' value=\"`'networkId-providerId-' +\n                                                   $tmp.aai.vpn-bindingB.access-provider-id + '-clientId-' +\n                                                   $tmp.aai.vpn-bindingB.access-client-id + '-topologyId-' +\n                                                   $tmp.aai.vpn-bindingB.access-topology-id + '-nodeId-' +\n                                                   $tmp.aai.vpn-bindingB.dst-access-node-id`\" />\n",
        "comments": "",
        "x": 3761.566665649414,
        "y": 1697.566665649414,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "dce692d6.26705",
        "type": "get-resource",
        "name": "get-resource dst pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.dst.domainB.pnf-name\"\n        pfx='tmp.aai.destination-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3781.566665649414,
        "y": 1794.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "20c07b90.5b79e4",
                "d792ecbe.f58c98",
                "c2d6e25d.4e48e"
            ]
        ]
    },
    {
        "id": "20c07b90.5b79e4",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3984.0667877197266,
        "y": 1747.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "89d1ed.e4ef561"
            ]
        ]
    },
    {
        "id": "d792ecbe.f58c98",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3976.0667877197266,
        "y": 1802.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "b9bab20f.a76c4"
            ]
        ]
    },
    {
        "id": "89d1ed.e4ef561",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4128.449111938477,
        "y": 1745.2223358154297,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "c9698e5e.6f47e8"
            ]
        ]
    },
    {
        "id": "c9698e5e.6f47e8",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='dpvidx' start='0' end='`$tmp.aai.destination-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4312.566665649414,
        "y": 1759.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "ba34540d.aed56"
            ]
        ]
    },
    {
        "id": "c2d6e25d.4e48e",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3981.0667877197266,
        "y": 1859.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "4767f1dc.5f98f"
            ]
        ]
    },
    {
        "id": "4767f1dc.5f98f",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4133.066787719727,
        "y": 1860.566665649414,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "b9bab20f.a76c4",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4144.066787719727,
        "y": 1805.566665649414,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "7f94f6a1.089328",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4710.566665649414,
        "y": 1763.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "c702a308.63c03"
            ]
        ]
    },
    {
        "id": "ba34540d.aed56",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.destination-pnf.relationship-list.relationship[$dpvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4507.566665649414,
        "y": 1759.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "7f94f6a1.089328"
            ]
        ]
    },
    {
        "id": "6943fd0d.83e3ac",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domainB.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domainB.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 5095.566665649414,
        "y": 1762.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "708333aa.3b759c",
                "4e0cc838.81e228",
                "29a9be9f.036812"
            ]
        ]
    },
    {
        "id": "c702a308.63c03",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4887.566665649414,
        "y": 1755.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "c3389354.588f68",
                "6943fd0d.83e3ac"
            ]
        ]
    },
    {
        "id": "c3389354.588f68",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domainB id",
        "xml": "<set>\n<parameter name='tmp.domainB.esr-thirdparty-id' value=\"`$tmp.aai.destination-pnf.relationship-list.relationship[$dpvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 5125.566665649414,
        "y": 1710.566665649414,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "6e37f843.94e3c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5454.566665649414,
        "y": 1866.566665649414,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "dd8e2b89.1af3f8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5465.566665649414,
        "y": 1811.566665649414,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "ab654ac.84c6838",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5449.948989868164,
        "y": 1751.2223358154297,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "f1731e20.0070f8"
            ]
        ]
    },
    {
        "id": "f1731e20.0070f8",
        "type": "set",
        "name": "set controller domainB data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainB.url' value=\"`$tmp.aai.domainB.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainB.user' value=\"`$tmp.aai.domainB.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainB.password' value=\"`$tmp.aai.domainB.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 5664.566665649414,
        "y": 1747.566665649414,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "708333aa.3b759c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5305.566665649414,
        "y": 1753.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "ab654ac.84c6838"
            ]
        ]
    },
    {
        "id": "4e0cc838.81e228",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5297.566665649414,
        "y": 1808.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "dd8e2b89.1af3f8"
            ]
        ]
    },
    {
        "id": "29a9be9f.036812",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5302.566665649414,
        "y": 1865.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "6e37f843.94e3c"
            ]
        ]
    },
    {
        "id": "a62a2704.25f8d8",
        "type": "save",
        "name": "get connectivity from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"connectivity\"\n\t    key=\"connectivity.connectivity-id = $tmp.aai.service-instance.relationship-list.relationship[$rel-index].relationship-data[0].relationship-value\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.connectivity\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 1755.5667114257812,
        "y": 385.56663513183594,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "89759382.78fc28",
                "6073b91a.46b8d8",
                "1561e008.8fdf5"
            ]
        ]
    },
    {
        "id": "89759382.78fc28",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1963.5667114257812,
        "y": 349.56663513183594,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "37909c7a.4f488c"
            ]
        ]
    },
    {
        "id": "6073b91a.46b8d8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1964.0576782226562,
        "y": 395.1406707763672,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "593c848.7fab97c"
            ]
        ]
    },
    {
        "id": "1561e008.8fdf5",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1961.5667114257812,
        "y": 438.56663513183594,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "f8a1a536.821978"
            ]
        ]
    },
    {
        "id": "593c848.7fab97c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 2131.6289672851562,
        "y": 395.4264373779297,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "f8a1a536.821978",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 2135.5665893554688,
        "y": 439.56666564941406,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "d62cc4aa.0dacf8",
        "type": "save",
        "name": "get vpn-binding from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"vpn-binding\"\n\t    key=\"vpn-binding.vpn-id = $tmp.aai.connectivity.relationship-list.relationship[$cridx].relationship-data[0].relationship-value\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.vpn-binding\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 2515.566665649414,
        "y": 522.5666656494141,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "4f7704ef.c67464",
                "75e7413d.db94a8",
                "9b74dfdc.0fcfa8"
            ]
        ]
    },
    {
        "id": "7ec784b8.19253c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2895.566665649414,
        "y": 610.5666656494141,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "707dc165.f11cc"
            ]
        ]
    },
    {
        "id": "4f7704ef.c67464",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2726.566665649414,
        "y": 611.5666656494141,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "7ec784b8.19253c"
            ]
        ]
    },
    {
        "id": "75e7413d.db94a8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2729.057632446289,
        "y": 507.1407012939453,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "ef36654.465dc18"
            ]
        ]
    },
    {
        "id": "9b74dfdc.0fcfa8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2724.566665649414,
        "y": 551.5666656494141,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "c5d97f0c.6d92a8"
            ]
        ]
    },
    {
        "id": "c5d97f0c.6d92a8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 2892.566665649414,
        "y": 551.5666656494141,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "ef36654.465dc18",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 2891.629165649414,
        "y": 506.42640686035156,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "c1f994fa.7ebb78",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='cridx' start='0' end='`$tmp.aai.connectivity.relationship-list.relationship_length`' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2381.5664672851562,
        "y": 352.56663513183594,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "f95d2666.111718"
            ]
        ]
    },
    {
        "id": "f95d2666.111718",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.connectivity.relationship-list.relationship[$cridx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2448.566665649414,
        "y": 428.56666564941406,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "b1b638b8.90f52"
            ]
        ]
    },
    {
        "id": "b1b638b8.90f52",
        "type": "outcome",
        "name": "vpn-binding",
        "xml": "<outcome value='vpn-binding'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2614.566665649414,
        "y": 428.56666564941406,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "9380412.542cac"
            ]
        ]
    },
    {
        "id": "9380412.542cac",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2777.566665649414,
        "y": 428.56666564941406,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "d62cc4aa.0dacf8",
                "f73cf3dc.062078"
            ]
        ]
    },
    {
        "id": "f2b45fb6.a0f76",
        "type": "switchNode",
        "name": "switch vpn-binding has dst-access-ltp",
        "xml": "<switch test='`$tmp.aai.vpn-binding.dst-access-ltp-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3336.566665649414,
        "y": 711.5666656494141,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "f1a8e611.58e15",
                "e15b01ae.08b0a8"
            ]
        ]
    },
    {
        "id": "f1a8e611.58e15",
        "type": "outcome",
        "name": "Null",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 3550.566665649414,
        "y": 748.5666656494141,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "27573b1a.b0f27c"
            ]
        ]
    },
    {
        "id": "e15b01ae.08b0a8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3552.566665649414,
        "y": 686.5666656494141,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "edfafa5d.45c53"
            ]
        ]
    },
    {
        "id": "27573b1a.b0f27c",
        "type": "switchNode",
        "name": "switch vpn-binding has src-access-ltp",
        "xml": "<switch test='`$tmp.aai.vpn-binding.src-access-ltp-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3130.566665649414,
        "y": 1991.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "a50f8795.52de28",
                "eaade4fd.98f0c8"
            ]
        ]
    },
    {
        "id": "a50f8795.52de28",
        "type": "outcome",
        "name": "Null",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 3383.566665649414,
        "y": 2025.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "983a1464.1933a8"
            ]
        ]
    },
    {
        "id": "eaade4fd.98f0c8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3383.566665649414,
        "y": 1969.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "759c5346.c1b5fc"
            ]
        ]
    },
    {
        "id": "983a1464.1933a8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 3534.566665649414,
        "y": 2025.566665649414,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "2dd94684.236aba",
        "type": "set",
        "name": "set vpn-bindingA and connectivityA",
        "xml": "<set>\n<parameter name='tmp.aai.vpn-bindingA.' value=\"`$tmp.aai.vpn-binding.`\" />\n<parameter name='tmp.aai.connectivityA.' value=\"`$tmp.aai.connectivity.`\" />\n",
        "comments": "",
        "x": 4410.566665649414,
        "y": 123.56666564941406,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "c4286ac1.cbc618",
        "type": "set",
        "name": "set vpn-bindingB and connectivityB",
        "xml": "<set>\n<parameter name='tmp.aai.vpn-bindingB.' value=\"`$tmp.aai.vpn-binding.`\" />\n<parameter name='tmp.aai.connectivityB.' value=\"`$tmp.aai.connectivity.`\" />\n\n",
        "comments": "",
        "x": 3818.566665649414,
        "y": 1582.566665649414,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "db75345a.2aef48",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4101.566665649414,
        "y": 380.56666564941406,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "2dd94684.236aba",
                "44bcd2e8.a3bb64",
                "44c284d2.4d6d3c",
                "55fb0c25.47026c",
                "af922307.c203c8",
                "4cfae106.244c4",
                "235bcd4f.ba7e9a"
            ]
        ]
    },
    {
        "id": "759c5346.c1b5fc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3534.566665649414,
        "y": 1968.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "c4286ac1.cbc618",
                "d36679f1.a0d8a",
                "36fc5af8.9e293e",
                "dce692d6.26705",
                "2c2876b1.2b5332",
                "48b1af9a.8cccf",
                "80ae8816.7a8d9"
            ]
        ]
    },
    {
        "id": "48b1af9a.8cccf",
        "type": "set",
        "name": "set sotn_value",
        "xml": "<set>\n<!--<parameter name='eth-service-name' value='`$tmp.aai.connectivityB.connectivity-id`' />-->\n<parameter name='eth-service-name' value='`$tmp.aai.connectivityB.etht-svc-name`' />\n<parameter name='slice-id' value='`$vnf-topology-operation-input.service-information.service-instance-id`' />\n<parameter name='provider-id' value='`$tmp.aai.connectivityB.access-provider-id`' />\n<parameter name='client-id' value='`$tmp.aai.connectivityB.access-client-id`' />\n<parameter name='topology-id' value='`$tmp.aai.connectivityB.access-topology-id`' />\n<parameter name='otn-tunnel-name' value='`$tmp.aai.vpn-bindingB.vpn-name`' />\n<parameter name='ethernet-end-point-name' value='`$tmp.aai.connectivityB.connectivity-id`' />\n<parameter name='index-number' value='0' />\n<parameter name='eth-node-id' value='`$tmp.aai.connectivityB.access-node-id`' />\n<parameter name='eth-node-tp-id' value='`$tmp.aai.connectivityB.access-ltp-id`' />\n<parameter name='CIR' value='`$tmp.aai.vpn-bindingB.route-distinguisher *1000000`' />\n<parameter name='EIR' value='`$tmp.aai.vpn-bindingB.route-distinguisher *1000000`' />\n<parameter name='cvlan' value='`$tmp.aai.connectivityB.cvlan`' />\n\n",
        "comments": "",
        "x": 3763.566665649414,
        "y": 2111.566665649414,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "80ae8816.7a8d9",
        "type": "execute",
        "name": "execute RestApiCallNode Create ethernet Service without token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<!--<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.p2p-ethernet-service.templatefile`\" />-->\n<parameter name=\"templateFileName\" value=\"`$tmp.templateFileNameForEthSrv`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainB.url + '/restconf/data/ietf-eth-tran-service:etht-svc'`\" />\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.restapi.connection-oof-url`\" />-->\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainB.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainB.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name='dirPath' value=\"/opt/onap/sdnc/restconfapi/yang\" />\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3917.566665649414,
        "y": 2159.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "6a81983c.fef378",
                "d2e0dc51.a1f3a8"
            ]
        ]
    },
    {
        "id": "6a81983c.fef378",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4263.066665649414,
        "y": 2140.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "928d39b9.50d03"
            ]
        ]
    },
    {
        "id": "d2e0dc51.a1f3a8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4267.066665649414,
        "y": 2180.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "74f00f6c.50f0b"
            ]
        ]
    },
    {
        "id": "928d39b9.50d03",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create ethernet service rest api\" />\n",
        "comments": "",
        "x": 4421.066665649414,
        "y": 2140.566665649414,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "74f00f6c.50f0b",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4424.566665649414,
        "y": 2180.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "ec0fb3de.e13b68",
                "830b8de9.a8f3c",
                "fcd6e091.3a931"
            ]
        ]
    },
    {
        "id": "60004e7.5d0113",
        "type": "comment",
        "name": "TODO: FIXME:",
        "info": "put proper values based on connectivity resource retrieved from AAI",
        "comments": "",
        "x": 3761.066665649414,
        "y": 2067.566665649414,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "ec0fb3de.e13b68",
        "type": "save",
        "name": "update vpn-binding B resource (aka. OTN domainB) in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $tmp.aai.vpn-bindingB.vpn-id' >\n<parameter name='vpn-id' value='`$tmp.aai.vpn-bindingB.vpn-id`' />\n<parameter name='vpn-name' value='`$tmp.aai.vpn-bindingB.vpn-name`' />\n\n<parameter name='operational-status' value='Activated' />\n",
        "comments": "",
        "outputs": 1,
        "x": 4764.566665649414,
        "y": 2179.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            []
        ]
    },
    {
        "id": "33af8787.6d436",
        "type": "comment",
        "name": "TODO: FIXME",
        "info": "use proper vpn-binding id and connectivity\n\nAlso, does CCSDK support \"update\" operation for vpn-binding and connectivity?",
        "comments": "",
        "x": 4622.566665649414,
        "y": 2137.566665649414,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "830b8de9.a8f3c",
        "type": "save",
        "name": "update connectivity resource in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $tmp.aai.connectivityB.connectivity-id'>\n<parameter name='connectivity-id' value='`$tmp.aai.connectivityB.connectivity-id`' />\n<parameter name='operational-status' value='Activated' />\n",
        "comments": "",
        "outputs": 1,
        "x": 4693.566665649414,
        "y": 2228.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            []
        ]
    },
    {
        "id": "8f77bab8.b50688",
        "type": "set",
        "name": "set attachment_param (gfp-n) for OTN",
        "xml": "<set>\n<parameter name='gfp-n' value='`$tmp.aai.vpn-binding.route-distinguisher`' />\n",
        "comments": "",
        "x": 3327.566665649414,
        "y": 651.5666656494141,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "f73cf3dc.062078",
        "type": "set",
        "name": "unset tmp.aai.vpn-binding",
        "xml": "<set>\n<parameter name='tmp.aai.vpn-binding.' value='' />\n",
        "comments": "",
        "x": 2998.5664672851562,
        "y": 355.56666564941406,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "aa7aa07.5d3eb6",
        "type": "comment",
        "name": "only dst ttp exists. No src",
        "info": "",
        "comments": "",
        "x": 3922.566665649414,
        "y": 337.56666564941406,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "fd11b1d2.3cd248",
        "type": "comment",
        "name": "only src ttp exists. No dst",
        "info": "",
        "comments": "",
        "x": 3479.566665649414,
        "y": 1915.566665649414,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "edfafa5d.45c53",
        "type": "switchNode",
        "name": "switch vpn-binding has src-access-ltp",
        "xml": "<switch test='`$tmp.aai.vpn-binding.src-access-ltp-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3658.566665649414,
        "y": 499.56666564941406,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "c218e346.9ea4d",
                "e33565a1.63d6b"
            ]
        ]
    },
    {
        "id": "e33565a1.63d6b",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3900.566665649414,
        "y": 1088.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "9097ee15.fd393"
            ]
        ]
    },
    {
        "id": "c218e346.9ea4d",
        "type": "outcome",
        "name": "Null",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 3894.566665649414,
        "y": 379.56666564941406,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "db75345a.2aef48"
            ]
        ]
    },
    {
        "id": "9097ee15.fd393",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4058.566665649414,
        "y": 1087.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "ac8e986.b5ee5e8",
                "85348a3.bdf60f8",
                "89dbacde.e6345",
                "eef2514e.974cd8",
                "6b8d5f2b.b2cd68",
                "34c10c78.6bbca4",
                "3a7dccd3.a56e8c"
            ]
        ]
    },
    {
        "id": "85348a3.bdf60f8",
        "type": "set",
        "name": "set attachment_param for OTN G",
        "xml": "<set>\n<parameter name='src-node-id' value='`$tmp.aai.vpn-bindingG.src-access-node-id`' />\n<parameter name='dst-node-id' value='`$tmp.aai.vpn-bindingG.dst-access-node-id`' />\n<!--<parameter name='dst-tpn-id' value='1' />-->\n<parameter name='src-tpn-id' value='`$tmp.aai.vpn-bindingG.customer-vpn-id`' />\n<parameter name='dst-tpn-id' value='`$tmp.aai.vpn-bindingG.customer-vpn-id`' />\n<parameter name='src-ttp-id' value='`$tmp.aai.vpn-bindingG.src-access-ltp-id`' />\n<parameter name='dst-ttp-id' value='`$tmp.aai.vpn-bindingG.dst-access-ltp-id`' />\n<parameter name='slice-instance-id' value='`$tmp.aai.service-instance.service-instance-id`' />\n<parameter name='otn-tunnel-name-domainG' value='`$tmp.aai.vpn-bindingG.vpn-name`' />\n<parameter name='client-id' value='`$tmp.aai.vpn-bindingG.access-client-id`' />\n<parameter name='provider-id' value='`$tmp.aai.vpn-bindingG.access-provider-id`' />\n<parameter name='topology-id' value='`$tmp.aai.vpn-bindingG.access-topology-id`' />\n",
        "comments": "",
        "x": 4322.566665649414,
        "y": 970.5666656494141,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "6b8d5f2b.b2cd68",
        "type": "execute",
        "name": "execute RestApiCallNode Create OTN tunnel with token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.p2p-otn-domainG-creation.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainG.url + '/restconf/data/ietf-te:te/tunnels'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainG.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainG.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"otn-oof\"/>\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />-->",
        "comments": "",
        "outputs": 1,
        "x": 4403.566665649414,
        "y": 1285.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "d6b99940.16b5a8",
                "3c3cb614.e99f12"
            ]
        ]
    },
    {
        "id": "d6b99940.16b5a8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4713.066665649414,
        "y": 1254.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "482c1494.4d9c14"
            ]
        ]
    },
    {
        "id": "3c3cb614.e99f12",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4718.066665649414,
        "y": 1319.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "1fe4c4ca.7d003b"
            ]
        ]
    },
    {
        "id": "482c1494.4d9c14",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create OTN tunnel rest api\" />\n",
        "comments": "",
        "x": 4889.066665649414,
        "y": 1254.566665649414,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "1fe4c4ca.7d003b",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4884.566665649414,
        "y": 1319.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            []
        ]
    },
    {
        "id": "89dbacde.e6345",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.domainG.pnf-name' value=\"`'networkId-providerId-' +\n                                                   $tmp.aai.vpn-bindingG.access-provider-id + '-clientId-' +\n                                                   $tmp.aai.vpn-bindingG.access-client-id + '-topologyId-' +\n                                                   $tmp.aai.vpn-bindingG.access-topology-id + '-nodeId-' +\n                                                   $tmp.aai.vpn-bindingG.src-access-node-id`\" />\n",
        "comments": "",
        "x": 4260.566665649414,
        "y": 1018.5666656494141,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "eef2514e.974cd8",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.domainG.pnf-name\"\n        pfx='tmp.aai.domainG-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 4286.566665649414,
        "y": 1135.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "1840b00f.6633b",
                "52eb1a29.ab6b94",
                "a2e1a20c.caccc8"
            ]
        ]
    },
    {
        "id": "1840b00f.6633b",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4482.066787719727,
        "y": 1087.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "2e32cb6a.42056c"
            ]
        ]
    },
    {
        "id": "52eb1a29.ab6b94",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4474.066787719727,
        "y": 1142.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "e0704884.2a8ec8"
            ]
        ]
    },
    {
        "id": "2e32cb6a.42056c",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4626.449111938477,
        "y": 1087.2223358154297,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "e6880649.657e78"
            ]
        ]
    },
    {
        "id": "e6880649.657e78",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='spvidx' start='0' end='`$tmp.aai.domainG-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4810.566665649414,
        "y": 1085.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "f47d5963.a5aae8"
            ]
        ]
    },
    {
        "id": "f47d5963.a5aae8",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.domainG-pnf.relationship-list.relationship[$spvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5005.566665649414,
        "y": 1085.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "d71be6fc.54edc"
            ]
        ]
    },
    {
        "id": "a2e1a20c.caccc8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4479.066787719727,
        "y": 1199.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "7860eb3c.e26464"
            ]
        ]
    },
    {
        "id": "7860eb3c.e26464",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4631.066787719727,
        "y": 1200.566665649414,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "e0704884.2a8ec8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4642.066787719727,
        "y": 1143.566665649414,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "ac8e986.b5ee5e8",
        "type": "set",
        "name": "set vpn-bindingG and connectivityG",
        "xml": "<set>\n<parameter name='tmp.aai.vpn-bindingG.' value=\"`$tmp.aai.vpn-binding.`\" />\n<parameter name='tmp.aai.connectivityG.' value=\"`$tmp.aai.connectivity.`\" />\n",
        "comments": "",
        "x": 4317.566665649414,
        "y": 910.5666656494141,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "d71be6fc.54edc",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5208.566665649414,
        "y": 1089.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "8e865c0a.70e028"
            ]
        ]
    },
    {
        "id": "e2bcdd39.f6521",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domainG.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domainG.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 5593.566665649414,
        "y": 1102.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "d9ae01a2.e3b6f8",
                "51f52094.f625d",
                "4c1978aa.65c53"
            ]
        ]
    },
    {
        "id": "8e865c0a.70e028",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5387.566665649414,
        "y": 1089.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "4f0d3390.ddd854",
                "e2bcdd39.f6521"
            ]
        ]
    },
    {
        "id": "4f0d3390.ddd854",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domainG id",
        "xml": "<set>\n<parameter name='tmp.domainG.esr-thirdparty-id' value=\"`$tmp.aai.domainG-pnf.relationship-list.relationship[$spvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 5623.566665649414,
        "y": 1050.566665649414,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "d9ae01a2.e3b6f8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5803.566665649414,
        "y": 1093.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "8b89bfe6.b56ec8"
            ]
        ]
    },
    {
        "id": "51f52094.f625d",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5795.566665649414,
        "y": 1148.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "1d4624ff.2e16fb"
            ]
        ]
    },
    {
        "id": "4c1978aa.65c53",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5800.566665649414,
        "y": 1205.566665649414,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "441a8d9a.7f119c"
            ]
        ]
    },
    {
        "id": "441a8d9a.7f119c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5952.566665649414,
        "y": 1206.566665649414,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "1d4624ff.2e16fb",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5963.566665649414,
        "y": 1151.566665649414,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "8b89bfe6.b56ec8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5947.948989868164,
        "y": 1091.2223358154297,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "ec42c031.0db228"
            ]
        ]
    },
    {
        "id": "ec42c031.0db228",
        "type": "set",
        "name": "set controller domainG data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainG.url' value=\"`$tmp.aai.domainG.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainG.user' value=\"`$tmp.aai.domainG.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainG.password' value=\"`$tmp.aai.domainG.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 6162.566665649414,
        "y": 1087.566665649414,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "41dbff35.8798f",
        "type": "comment",
        "name": "both src and dst exist",
        "info": "",
        "comments": "",
        "x": 3936.566665649414,
        "y": 1028.566665649414,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "707dc165.f11cc",
        "type": "switchNode",
        "name": "switch vpn-binding is not already Activated (i.e. is either Created or Modified)",
        "xml": "<switch test=\"`$tmp.aai.vpn-binding.operational-status != 'Activated' `\">\n",
        "comments": "",
        "outputs": 1,
        "x": 2498.566665649414,
        "y": 755.5666656494141,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "3b50aa73.698686",
                "889b206a.5a5c18"
            ]
        ]
    },
    {
        "id": "889b206a.5a5c18",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2905.566665649414,
        "y": 773.5666656494141,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "90c4533d.860e78"
            ]
        ]
    },
    {
        "id": "3b50aa73.698686",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2905.566665649414,
        "y": 718.5666656494141,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "faf60520.cd56a8"
            ]
        ]
    },
    {
        "id": "faf60520.cd56a8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3061.566665649414,
        "y": 716.5666656494141,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "8f77bab8.b50688",
                "f2b45fb6.a0f76"
            ]
        ]
    },
    {
        "id": "90c4533d.860e78",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3038.566665649414,
        "y": 774.5666656494141,
        "z": "33354834.16c3b8",
        "wires": [
            []
        ]
    },
    {
        "id": "e634d16b.4c8208",
        "type": "save",
        "name": "update service-instance resource in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='service-instance' \n      key='service-instance.service-instance-id = $vnf-topology-operation-input.service-information.service-instance-id\n         AND customer.global-customer-id = $vnf-topology-operation-input.service-information.global-customer-id \n         AND service-subscription.service-type = $vnf-topology-operation-input.service-information.subscription-service-type'>\n<parameter name='service-instance-id' value='`$tmp.aai.service-instance.service-instance-id`' />\n<parameter name='orchestration-status' value='Activated' />\n",
        "comments": "",
        "outputs": 1,
        "x": 5488.316909790039,
        "y": 702.0666656494141,
        "z": "33354834.16c3b8",
        "wires": [
            []
        ]
    },
    {
        "id": "fcd6e091.3a931",
        "type": "save",
        "name": "update service-instance resource in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='service-instance' \n      key='service-instance.service-instance-id = $vnf-topology-operation-input.service-information.service-instance-id\n         AND customer.global-customer-id = $vnf-topology-operation-input.service-information.global-customer-id \n         AND service-subscription.service-type = $vnf-topology-operation-input.service-information.subscription-service-type'>\n<parameter name='service-instance-id' value='`$tmp.aai.service-instance.service-instance-id`' />\n<parameter name='orchestration-status' value='Activated' />\n",
        "comments": "",
        "outputs": 1,
        "x": 4713.066665649414,
        "y": 2294.816665649414,
        "z": "33354834.16c3b8",
        "wires": [
            []
        ]
    },
    {
        "id": "885127f5.787348",
        "type": "execute",
        "name": "execute RestApiCallNode Create Performance Monitoring Data",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.p2p-create-pm-data.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.url + '/restconf/data/ietf-service-pm:performance-monitoring'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"patch\"/>\n<parameter name='dirPath' value=\"/opt/onap/sdnc/restconfapi/yang\" />\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 5560.483901977539,
        "y": 781.1499786376953,
        "z": "33354834.16c3b8",
        "wires": [
            []
        ]
    },
    {
        "id": "52b5128c.e4a6ec",
        "type": "execute",
        "name": "execute RestconfDiscoveryNode establishSubscription",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restconfdiscovery.RestconfDiscoveryNode' method='establishSubscriptionOnly' >\n<parameter name=\"subscriberId\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.url`\" />\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.p2p-subscribe-notification.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.url + '/restconf/operations/ietf-subscribed-notifications:establish-subscription'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.password`\" />\n<parameter name=\"dirPath\" value=\"/opt/sdnc/restconfapi/yang/notification\" />\n<!--<parameter name=\"deviceIp\" value=\"192.168.198.6\" />-->\n<!--<parameter name=\"devicePort\" value=\"18181\" />-->\n<parameter name=\"sseConnectURL\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.url + '/restconf/streams/yang-push-json'`\" />\n<parameter name=\"format\" value=\"json\" />\n<parameter name=\"httpMethod\" value=\"post\" />\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"X-ACCESS-TOKEN=x-ik2ps4ikvzupbx0486ft1ebzs7rt85futh9ho6eofy3wjsap7wqktemlqm4bbsmnar3vrtbyrzukbv5itd6m1cftldpjarnyle3sdcqq9hftc4lebz464b5ffxmlbvg9\" />\n<parameter name=\"module\" value=\"GENERIC-RESOURCE-API\" />\n<parameter name=\"rpc\" value=\"cll-vnf-topology-operation-cll-callbackdg-notification\" />\n<parameter name=\"version\" value=\"777\" />\n<parameter name=\"mode\" value=\"sync\" />\n<!--<parameter name=\"version\" value=\"sync\" />-->\n<!--<parameter name=\"mode\" value=\"777\" />-->\n<parameter name=\"responsePrefix\" value=\"restapi-result\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 5533.483657836914,
        "y": 840.1498565673828,
        "z": "33354834.16c3b8",
        "wires": [
            []
        ]
    },
    {
        "id": "c8c41250.a5653",
        "type": "execute",
        "name": "execute RestconfDiscoveryNode establishPersistentConnection",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restconfdiscovery.RestconfDiscoveryNode' method='establishPersistentSseConnection' >\n<parameter name=\"subscriberId\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.url`\" />\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.p2p-subscribe-notification.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.url + '/restconf/operations/ietf-subscribed-notifications:establish-subscription'`\" />\n<parameter name=\"sseConnectURL\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.url + '/restconf/streams/yang-push-json'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.password`\" />\n<parameter name=\"dirPath\" value=\"/opt/sdnc/restconfapi/yang/notification\" />\n<parameter name=\"format\" value=\"json\" />\n<parameter name=\"httpMethod\" value=\"get\" />\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"X-ACCESS-TOKEN=x-ik2ps4ikvzupbx0486ft1ebzs7rt85futh9ho6eofy3wjsap7wqktemlqm4bbsmnar3vrtbyrzukbv5itd6m1cftldpjarnyle3sdcqq9hftc4lebz464b5ffxmlbvg9\" />\n<parameter name=\"module\" value=\"GENERIC-RESOURCE-API\" />\n<parameter name=\"rpc\" value=\"cll-vnf-topology-operation-cll-callbackdg-notification\" />\n<parameter name=\"version\" value=\"777\" />\n<parameter name=\"mode\" value=\"sync\" />\n<!--<parameter name=\"version\" value=\"sync\" />-->\n<!--<parameter name=\"mode\" value=\"777\" />-->\n<parameter name=\"responsePrefix\" value=\"notification-get-result\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 5559.483901977539,
        "y": 894.1498565673828,
        "z": "33354834.16c3b8",
        "wires": [
            []
        ]
    },
    {
        "id": "bbe7a2ae.e5a38",
        "type": "execute",
        "name": "execute RestApiCallNode Create Performance Monitoring Data",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.p2p-create-pm-data.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.url + '/restconf/data/ietf-service-pm:performance-monitoring'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"patch\"/>\n<parameter name='dirPath' value=\"/opt/onap/sdnc/restconfapi/yang\" />\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 4786.483657836914,
        "y": 2397.150161743164,
        "z": "33354834.16c3b8",
        "wires": [
            []
        ]
    },
    {
        "id": "5abf5b3a.734eb4",
        "type": "execute",
        "name": "execute RestconfDiscoveryNode establishSubscription",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restconfdiscovery.RestconfDiscoveryNode' method='establishSubscriptionOnly' >\n<parameter name=\"subscriberId\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.url`\" />\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.p2p-subscribe-notification.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.url + '/restconf/operations/ietf-subscribed-notifications:establish-subscription'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.password`\" />\n<parameter name=\"dirPath\" value=\"/opt/sdnc/restconfapi/yang/notification\" />\n<!--<parameter name=\"deviceIp\" value=\"192.168.198.6\" />-->\n<!--<parameter name=\"devicePort\" value=\"18181\" />-->\n<parameter name=\"sseConnectURL\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.url + '/restconf/streams/yang-push-json'`\" />\n<parameter name=\"format\" value=\"json\" />\n<parameter name=\"httpMethod\" value=\"post\" />\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"X-ACCESS-TOKEN=x-ik2ps4ikvzupbx0486ft1ebzs7rt85futh9ho6eofy3wjsap7wqktemlqm4bbsmnar3vrtbyrzukbv5itd6m1cftldpjarnyle3sdcqq9hftc4lebz464b5ffxmlbvg9\" />\n<parameter name=\"module\" value=\"GENERIC-RESOURCE-API\" />\n<parameter name=\"rpc\" value=\"cll-vnf-topology-operation-cll-callbackdg-notification\" />\n<parameter name=\"version\" value=\"777\" />\n<parameter name=\"mode\" value=\"sync\" />\n<!--<parameter name=\"version\" value=\"sync\" />-->\n<!--<parameter name=\"mode\" value=\"777\" />-->\n<parameter name=\"responsePrefix\" value=\"restapi-result\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 4759.483413696289,
        "y": 2456.1500396728516,
        "z": "33354834.16c3b8",
        "wires": [
            []
        ]
    },
    {
        "id": "f8459fc1.c514a",
        "type": "execute",
        "name": "execute RestconfDiscoveryNode establishPersistentConnection",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restconfdiscovery.RestconfDiscoveryNode' method='establishPersistentSseConnection' >\n<parameter name=\"subscriberId\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.url`\" />\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.p2p-subscribe-notification.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.url + '/restconf/operations/ietf-subscribed-notifications:establish-subscription'`\" />\n<parameter name=\"sseConnectURL\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.url + '/restconf/streams/yang-push-json'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.password`\" />\n<parameter name=\"dirPath\" value=\"/opt/sdnc/restconfapi/yang/notification\" />\n<parameter name=\"format\" value=\"json\" />\n<parameter name=\"httpMethod\" value=\"get\" />\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"X-ACCESS-TOKEN=x-ik2ps4ikvzupbx0486ft1ebzs7rt85futh9ho6eofy3wjsap7wqktemlqm4bbsmnar3vrtbyrzukbv5itd6m1cftldpjarnyle3sdcqq9hftc4lebz464b5ffxmlbvg9\" />\n<parameter name=\"module\" value=\"GENERIC-RESOURCE-API\" />\n<parameter name=\"rpc\" value=\"cll-vnf-topology-operation-cll-callbackdg-notification\" />\n<parameter name=\"version\" value=\"777\" />\n<parameter name=\"mode\" value=\"sync\" />\n<!--<parameter name=\"version\" value=\"sync\" />-->\n<!--<parameter name=\"mode\" value=\"777\" />-->\n<parameter name=\"responsePrefix\" value=\"notification-get-result\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 4785.483657836914,
        "y": 2510.1500396728516,
        "z": "33354834.16c3b8",
        "wires": [
            []
        ]
    },
    {
        "id": "fd35c490.b8d1d",
        "type": "save",
        "name": "update vpn-binding G resource (aka. OTN domainA) in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $tmp.aai.vpn-bindingG.vpn-id' >\n<parameter name='vpn-id' value='`$tmp.aai.vpn-bindingG.vpn-id`' />\n<parameter name='vpn-name' value='`$tmp.aai.vpn-bindingG.vpn-name`' />\n\n<parameter name='operational-status' value='Activated' />\n",
        "comments": "",
        "outputs": 1,
        "x": 5459.500427246094,
        "y": 1318.533432006836,
        "z": "33354834.16c3b8",
        "wires": [
            []
        ]
    },
    {
        "id": "2a3498ca.88543",
        "type": "save",
        "name": "update connectivity resource in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $tmp.aai.connectivityG.connectivity-id'>\n<parameter name='connectivity-id' value='`$tmp.aai.connectivityG.connectivity-id`' />\n<parameter name='operational-status' value='Activated' />\n",
        "comments": "",
        "outputs": 1,
        "x": 5386.500427246094,
        "y": 1364.533432006836,
        "z": "33354834.16c3b8",
        "wires": [
            []
        ]
    },
    {
        "id": "f3d97964.1c0ad8",
        "type": "save",
        "name": "update service-instance resource in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='service-instance' \n      key='service-instance.service-instance-id = $vnf-topology-operation-input.service-information.service-instance-id\n         AND customer.global-customer-id = $vnf-topology-operation-input.service-information.global-customer-id \n         AND service-subscription.service-type = $vnf-topology-operation-input.service-information.subscription-service-type'>\n<parameter name='service-instance-id' value='`$tmp.aai.service-instance.service-instance-id`' />\n<parameter name='orchestration-status' value='Activated' />\n",
        "comments": "",
        "outputs": 1,
        "x": 5406.250427246094,
        "y": 1425.033432006836,
        "z": "33354834.16c3b8",
        "wires": [
            []
        ]
    },
    {
        "id": "1f4aee67.ee1e82",
        "type": "execute",
        "name": "execute PeriodicDiscoveryNode establishSubscription",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restconfdiscovery.PeriodicDiscoveryNode' method='establishSubscriptionOnly' >\n<parameter name=\"subscriberId\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainG.url`\" />\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.p2p-subscribe-notification.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainG.url + '/restconf/operations/ietf-eth-service-oam:configure-oam'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainG.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainG.password`\" />\n<parameter name=\"dirPath\" value=\"/opt/sdnc/restconfapi/yang/notification\" />\n<!--<parameter name=\"deviceIp\" value=\"192.168.198.6\" />-->\n<!--<parameter name=\"devicePort\" value=\"18181\" />-->\n<!--<parameter name=\"sseConnectURL\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.url + '/restconf/streams/yang-push-json'`\" />-->\n<parameter name=\"format\" value=\"json\" />\n<parameter name=\"httpMethod\" value=\"post\" />\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name='customHttpHeaders' value=\"X-ACCESS-TOKEN=x-ik2ps4ikvzupbx0486ft1ebzs7rt85futh9ho6eofy3wjsap7wqktemlqm4bbsmnar3vrtbyrzukbv5itd6m1cftldpjarnyle3sdcqq9hftc4lebz464b5ffxmlbvg9\" />-->\n<parameter name=\"module\" value=\"GENERIC-RESOURCE-API\" />\n<parameter name=\"rpc\" value=\"p2p-vnf-topology-operation-p2p-callbackdg-notification\" />\n<parameter name=\"version\" value=\"888\" />\n<parameter name=\"mode\" value=\"sync\" />\n<parameter name=\"responsePrefix\" value=\"restapi-result\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 5460.416931152344,
        "y": 1497.116683959961,
        "z": "33354834.16c3b8",
        "wires": [
            []
        ]
    },
    {
        "id": "78eec8fa.d8a828",
        "type": "execute",
        "name": "execute PeriodicDiscoveryNode establishPeriodicPullConnection",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restconfdiscovery.PeriodicDiscoveryNode' method='establishPeriodicPullConnection' >\n<parameter name=\"subscriberId\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainG.url`\" />\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.p2p-subscribe-notification.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainG.url + '/restconf/data/ietf-service-pm:performance-monitoring/service-pm=' + $eth-service-name`\" />\n<!--<parameter name=\"sseConnectURL\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainG.url + '/restconf/streams/yang-push-json'`\" />-->\n<parameter name=\"periodicPullURL\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainG.url + '/restconf/data/ietf-service-pm:performance-monitoring/service-pm=' + $eth-service-name`\" />\n<parameter name=\"ethServiceName\" value=\"`$eth-service-name`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainG.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainG.password`\" />\n<parameter name=\"dirPath\" value=\"/opt/sdnc/restconfapi/yang/notification\" />\n<parameter name=\"format\" value=\"json\" />\n<parameter name=\"httpMethod\" value=\"get\" />\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name='customHttpHeaders' value=\"X-ACCESS-TOKEN=x-ik2ps4ikvzupbx0486ft1ebzs7rt85futh9ho6eofy3wjsap7wqktemlqm4bbsmnar3vrtbyrzukbv5itd6m1cftldpjarnyle3sdcqq9hftc4lebz464b5ffxmlbvg9\" />-->\n<parameter name=\"module\" value=\"GENERIC-RESOURCE-API\" />\n<parameter name=\"rpc\" value=\"p2p-vnf-topology-operation-p2p-callbackdg-notification\" />\n<parameter name=\"version\" value=\"888\" />\n<parameter name=\"mode\" value=\"sync\" />\n<parameter name=\"responsePrefix\" value=\"notification-get-result\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 5477.417419433594,
        "y": 1617.1166229248047,
        "z": "33354834.16c3b8",
        "wires": [
            []
        ]
    },
    {
        "id": "34c10c78.6bbca4",
        "type": "set",
        "name": "set sotn_value",
        "xml": "<set>\n<!--<parameter name='eth-service-name' value='`$tmp.aai.connectivityA.connectivity-id`' />-->\n<parameter name='eth-service-name' value='`$tmp.aai.connectivityG.etht-svc-name`' />\n<parameter name='slice-id' value='`$vnf-topology-operation-input.service-information.service-instance-id`' />\n<parameter name='provider-id' value='`$tmp.aai.connectivityG.access-provider-id`' />\n<parameter name='client-id' value='`$tmp.aai.connectivityG.access-client-id`' />\n<parameter name='topology-id' value='`$tmp.aai.connectivityG.access-topology-id`' />\n<parameter name='otn-tunnel-name' value='`$tmp.aai.vpn-bindingG.vpn-name`' />\n<parameter name='ethernet-end-point-name' value='`$tmp.aai.connectivityG.connectivity-id`' />\n<parameter name='index-number' value='0' />\n<parameter name='eth-node-id' value='`$tmp.aai.connectivityG.access-node-id`' />\n<parameter name='eth-node-tp-id' value='`$tmp.aai.connectivityG.access-ltp-id`' />\n<parameter name='CIR' value='`$tmp.aai.vpn-bindingG.route-distinguisher *1000000`' />\n<parameter name='EIR' value='`$tmp.aai.vpn-bindingG.route-distinguisher *1000000`' />\n<parameter name='cvlan' value='`$tmp.aai.connectivityG.cvlan`' />\n\n<parameter name='eth-src-node-id' value='`$tmp.aai.vpn-bindingG.src-access-node-id`' />\n<parameter name='eth-src-ltp-id' value='`$tmp.aai.vpn-bindingG.src-access-ltp-id`' />\n<parameter name='eth-dst-node-id' value='`$tmp.aai.vpn-bindingG.dst-access-node-id`' />\n<parameter name='eth-dst-ltp-id' value='`$tmp.aai.vpn-bindingG.dst-access-ltp-id`' />\n",
        "comments": "",
        "x": 4281.000183105469,
        "y": 1409.533432006836,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "3a7dccd3.a56e8c",
        "type": "execute",
        "name": "execute RestApiCallNode Create ethernet Service without token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.p2p-ethernet-service-same-domain.templatefile`\" />\n<!--<parameter name=\"templateFileName\" value=\"`$tmp.templateFileNameForEthSrv`\" />-->\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainG.url + '/restconf/data/ietf-eth-tran-service:etht-svc'`\" />\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.restapi.connection-oof-url`\" />-->\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainG.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainG.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name='dirPath' value=\"/opt/onap/sdnc/restconfapi/yang\" />\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "outputs": 1,
        "x": 4435.000183105469,
        "y": 1457.533432006836,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "4b952b8e.113f54",
                "a5fb7d58.4426f"
            ]
        ]
    },
    {
        "id": "4b952b8e.113f54",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4780.500183105469,
        "y": 1438.533432006836,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "55af739d.c7b194"
            ]
        ]
    },
    {
        "id": "a5fb7d58.4426f",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4784.500183105469,
        "y": 1478.533432006836,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "6e44f65e.9c29e8"
            ]
        ]
    },
    {
        "id": "55af739d.c7b194",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create ethernet service rest api\" />\n",
        "comments": "",
        "x": 4938.500183105469,
        "y": 1438.533432006836,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "6e44f65e.9c29e8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4942.000183105469,
        "y": 1478.533432006836,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "fd35c490.b8d1d",
                "2a3498ca.88543",
                "f3d97964.1c0ad8",
                "1f4aee67.ee1e82",
                "78eec8fa.d8a828",
                "eb126609.241a48"
            ]
        ]
    },
    {
        "id": "88048959.7c814",
        "type": "comment",
        "name": "TODO: FIXME:",
        "info": "put proper values based on connectivity resource retrieved from AAI",
        "comments": "",
        "x": 4278.500183105469,
        "y": 1365.533432006836,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "eb126609.241a48",
        "type": "execute",
        "name": "execute RestApiCallNode Create Performance Monitoring Data",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.p2p-create-pm-data.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainG.url + '/restconf/data/ietf-service-pm:performance-monitoring'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainG.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainG.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"patch\"/>\n<parameter name='dirPath' value=\"/opt/onap/sdnc/restconfapi/yang\" />\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "outputs": 1,
        "x": 5491.233337402344,
        "y": 1549.7335052490234,
        "z": "33354834.16c3b8",
        "wires": [
            []
        ]
    },
    {
        "id": "1e040c4d.50392c",
        "type": "switchNode",
        "name": "switch tmp.aai.connectivity.cbs == null",
        "xml": "<switch test=\"`length($tmp.aai.connectivity.cbs) == 0`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 2197.6331176757812,
        "y": 253.1333465576172,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "2e4f00ca.c58f3",
                "7a3cd7b3.bb0298"
            ]
        ]
    },
    {
        "id": "2e4f00ca.c58f3",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2441.6331176757812,
        "y": 182.13336181640625,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "68c81580.7a1dfc"
            ]
        ]
    },
    {
        "id": "68c81580.7a1dfc",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2562.6331176757812,
        "y": 183.13336181640625,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "e19b6a3d.635b2",
                "e3be8d7a.fa711"
            ]
        ]
    },
    {
        "id": "e19b6a3d.635b2",
        "type": "set",
        "name": "set templateFileNameForEthSrv",
        "xml": "<set>\n<parameter name='tmp.templateFileNameForEthSrv' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.p2p-ethernet-service.templatefile`\" />\n<parameter name='vlan-translation' value=\"\" />\n",
        "comments": "",
        "x": 2787.6332397460938,
        "y": 182.5333251953125,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "37909c7a.4f488c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2139.6331176757812,
        "y": 347.1333465576172,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "1e040c4d.50392c",
                "c1f994fa.7ebb78"
            ]
        ]
    },
    {
        "id": "7a3cd7b3.bb0298",
        "type": "outcomeTrue",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2472.4999389648438,
        "y": 241.1333465576172,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "80c861e8.a5bbb8"
            ]
        ]
    },
    {
        "id": "80c861e8.a5bbb8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2593.4999389648438,
        "y": 242.1333465576172,
        "z": "33354834.16c3b8",
        "wires": [
            [
                "29ed907a.c93f68",
                "f77d6a7b.ede4c8"
            ]
        ]
    },
    {
        "id": "29ed907a.c93f68",
        "type": "set",
        "name": "set templateFileNameForEthSrv",
        "xml": "<set>\n<parameter name='tmp.templateFileNameForEthSrv' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.p2p-ethernet-service-vlan.templatefile`\" />\n<parameter name='vlan-translation' value=\"`$tmp.aai.connectivity.cbs`\" />\n\n",
        "comments": "",
        "x": 2811.4998168945312,
        "y": 284.53330993652344,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "e3be8d7a.fa711",
        "type": "set",
        "name": "unset templateFileNameForEthSrv",
        "xml": "<set>\n<parameter name='tmp.templateFileNameForEthSrv' value=\"\" />\n<parameter name='vlan-translation' value=\"\" />\n",
        "comments": "",
        "x": 2784.7665405273438,
        "y": 131.93336486816406,
        "z": "33354834.16c3b8",
        "wires": []
    },
    {
        "id": "f77d6a7b.ede4c8",
        "type": "set",
        "name": "unset templateFileNameForEthSrv",
        "xml": "<set>\n<parameter name='tmp.templateFileNameForEthSrv' value=\"\" />\n<parameter name='vlan-translation' value=\"\" />\n",
        "comments": "",
        "x": 2814.7665405273438,
        "y": 235.93336486816406,
        "z": "33354834.16c3b8",
        "wires": []
    }
]