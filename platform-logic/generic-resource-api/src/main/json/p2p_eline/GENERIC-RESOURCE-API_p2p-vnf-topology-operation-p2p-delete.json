[
    {
        "id": "1f49a1e2.d37fce",
        "type": "save",
        "name": "get connectivity from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"connectivity\"\n\t    key=\"connectivity.connectivity-id = $tmp.aai.service-instance.relationship-list.relationship[$rel-index].relationship-data[0].relationship-value\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.connectivity\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 1823.566650390625,
        "y": 439.99998474121094,
        "z": "d636c085.d73a1",
        "wires": [
            [
                "1fcd10a0.78eacf",
                "af997914.ad5bb",
                "df414e18.a198"
            ]
        ]
    },
    {
        "id": "bf5bb76d.137da8",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 113.566650390625,
        "y": 191.99998474121094,
        "z": "d636c085.d73a1",
        "wires": [
            [
                "b3126319.e564d"
            ]
        ]
    },
    {
        "id": "b3126319.e564d",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 244.8523406982422,
        "y": 241.23809337615967,
        "z": "d636c085.d73a1",
        "wires": [
            [
                "21b7d070.b838c"
            ]
        ]
    },
    {
        "id": "21b7d070.b838c",
        "type": "method",
        "name": "method p2p-vnf-topology-operation-p2p-delete",
        "xml": "<method rpc='p2p-vnf-topology-operation-p2p-delete' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 247.99526977539062,
        "y": 326.0000171661377,
        "z": "d636c085.d73a1",
        "wires": [
            [
                "25a34ff7.c51178"
            ]
        ]
    },
    {
        "id": "25a34ff7.c51178",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 397.8046875,
        "y": 455.66664123535156,
        "z": "d636c085.d73a1",
        "wires": [
            [
                "bc193176.895b3",
                "9155a503.b6cfd",
                "73cdc1fc.bb1028"
            ]
        ]
    },
    {
        "id": "bc193176.895b3",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 694.1383056640625,
        "y": 732.5971527099609,
        "z": "d636c085.d73a1",
        "wires": []
    },
    {
        "id": "9155a503.b6cfd",
        "type": "save",
        "name": "get service-instance from aai",
        "xml": "<!--<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" -->\n<!--\tresource=\"service-instance\"-->\n<!--\tkey='service-instance.service-instance-id = $service-data.vnfs.vnf[$tmp.vidx].vnf-data.service-information.service-instance-id-->\n<!--         AND customer.global-customer-id = $service-data.vnfs.vnf[$tmp.vidx].vnf-data.service-information.global-customer-id -->\n<!--         AND service-subscription.service-type = $service-data.vnfs.vnf[$tmp.vidx].vnf-data.service-information.subscription-service-type'-->\n<!--\tlocal-only=\"false\"-->\n<!--\tforce=\"true\" pfx=\"tmp.aai.service-instance\">-->\n    \n\n<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"service-instance\"\n\tkey='service-instance.service-instance-id = $vnf-topology-operation-input.service-information.service-instance-id\n         AND customer.global-customer-id = $vnf-topology-operation-input.service-information.global-customer-id \n         AND service-subscription.service-type = $vnf-topology-operation-input.service-information.subscription-service-type'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.service-instance\">\n\n\n<!--vnf-topology-operation-input.service-information.service-instance-id-->",
        "comments": "",
        "outputs": 1,
        "x": 745.566650390625,
        "y": 502.99998474121094,
        "z": "d636c085.d73a1",
        "wires": [
            [
                "943d66a1.464c58",
                "67ba5020.7d7dc8",
                "6580f4fc.25d5b4"
            ]
        ]
    },
    {
        "id": "943d66a1.464c58",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 964.566650390625,
        "y": 440.99998474121094,
        "z": "d636c085.d73a1",
        "wires": [
            [
                "7c9fba64.f3390c"
            ]
        ]
    },
    {
        "id": "67ba5020.7d7dc8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 974.0576171875,
        "y": 483.5740203857422,
        "z": "d636c085.d73a1",
        "wires": [
            [
                "cebe0efe.964978"
            ]
        ]
    },
    {
        "id": "6580f4fc.25d5b4",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 962.566650390625,
        "y": 529.9999847412109,
        "z": "d636c085.d73a1",
        "wires": [
            [
                "cd9120ae.e9db68"
            ]
        ]
    },
    {
        "id": "cebe0efe.964978",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 1127.6290283203125,
        "y": 486.85975646972656,
        "z": "d636c085.d73a1",
        "wires": []
    },
    {
        "id": "cd9120ae.e9db68",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 1131.566650390625,
        "y": 530.9999847412109,
        "z": "d636c085.d73a1",
        "wires": []
    },
    {
        "id": "7c9fba64.f3390c",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for index='rel-index' start='0' end='`$tmp.aai.service-instance.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1161.566650390625,
        "y": 436.99998474121094,
        "z": "d636c085.d73a1",
        "wires": [
            [
                "57fd8c7c.534adc"
            ]
        ]
    },
    {
        "id": "57fd8c7c.534adc",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.service-instance.relationship-list.relationship[$rel-index].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1384.900146484375,
        "y": 436.9999237060547,
        "z": "d636c085.d73a1",
        "wires": [
            [
                "a44a2c9.e47245"
            ]
        ]
    },
    {
        "id": "a44a2c9.e47245",
        "type": "outcome",
        "name": "connectivity",
        "xml": "<outcome value='connectivity'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1585.5667839050293,
        "y": 438.0000057220459,
        "z": "d636c085.d73a1",
        "wires": [
            [
                "1f49a1e2.d37fce"
            ]
        ]
    },
    {
        "id": "73cdc1fc.bb1028",
        "type": "execute",
        "name": "execute properties",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />",
        "comments": "",
        "outputs": 1,
        "x": 711.566650390625,
        "y": 450.99998474121094,
        "z": "d636c085.d73a1",
        "wires": [
            []
        ]
    },
    {
        "id": "1fcd10a0.78eacf",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2031.566650390625,
        "y": 403.99998474121094,
        "z": "d636c085.d73a1",
        "wires": [
            [
                "f10666fd.9fb61"
            ]
        ]
    },
    {
        "id": "af997914.ad5bb",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2032.0576171875,
        "y": 449.5740203857422,
        "z": "d636c085.d73a1",
        "wires": [
            [
                "621b676d.f2f748"
            ]
        ]
    },
    {
        "id": "df414e18.a198",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2029.566650390625,
        "y": 492.99998474121094,
        "z": "d636c085.d73a1",
        "wires": [
            [
                "2ffd86d2.d8ed3a"
            ]
        ]
    },
    {
        "id": "621b676d.f2f748",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 2194.6290283203125,
        "y": 449.85975646972656,
        "z": "d636c085.d73a1",
        "wires": []
    },
    {
        "id": "2ffd86d2.d8ed3a",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 2198.566650390625,
        "y": 493.99998474121094,
        "z": "d636c085.d73a1",
        "wires": []
    },
    {
        "id": "943d4b65.0e3ed8",
        "type": "save",
        "name": "get vpn-binding from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"vpn-binding\"\n\t    key=\"vpn-binding.vpn-id = $tmp.aai.connectivity.relationship-list.relationship[$cridx].relationship-data[0].relationship-value\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.vpn-binding\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 2504.566650390625,
        "y": 492.99998474121094,
        "z": "d636c085.d73a1",
        "wires": [
            [
                "e86769c3.1f7ba8",
                "52744dfb.375364",
                "9acb7ba.125dc08"
            ]
        ]
    },
    {
        "id": "daba1f0.a622ce",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2888.566650390625,
        "y": 492.99998474121094,
        "z": "d636c085.d73a1",
        "wires": [
            [
                "5e452d03.7532ac",
                "d53b6e96.aa8aa",
                "518fe175.a505a8",
                "df0df658.a887a",
                "1a0c1f4d.51b981",
                "67de0813.c55918"
            ]
        ]
    },
    {
        "id": "e86769c3.1f7ba8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2715.566650390625,
        "y": 494.99998474121094,
        "z": "d636c085.d73a1",
        "wires": [
            [
                "daba1f0.a622ce"
            ]
        ]
    },
    {
        "id": "52744dfb.375364",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2716.0576171875,
        "y": 540.5740203857422,
        "z": "d636c085.d73a1",
        "wires": [
            [
                "cdeba8e7.bdb358"
            ]
        ]
    },
    {
        "id": "9acb7ba.125dc08",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2713.566650390625,
        "y": 583.9999847412109,
        "z": "d636c085.d73a1",
        "wires": [
            [
                "ba8b118c.cfdf4"
            ]
        ]
    },
    {
        "id": "ba8b118c.cfdf4",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 2880.566650390625,
        "y": 582.9999847412109,
        "z": "d636c085.d73a1",
        "wires": []
    },
    {
        "id": "cdeba8e7.bdb358",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 2878.6290283203125,
        "y": 540.8597564697266,
        "z": "d636c085.d73a1",
        "wires": []
    },
    {
        "id": "f10666fd.9fb61",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='cridx' start='0' end='`$tmp.aai.connectivity.relationship-list.relationship_length`' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2232.566650390625,
        "y": 398.99998474121094,
        "z": "d636c085.d73a1",
        "wires": [
            [
                "ad67608d.23d4e"
            ]
        ]
    },
    {
        "id": "ad67608d.23d4e",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.connectivity.relationship-list.relationship[$cridx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2437.566650390625,
        "y": 398.99998474121094,
        "z": "d636c085.d73a1",
        "wires": [
            [
                "3a1dfd90.21e892"
            ]
        ]
    },
    {
        "id": "3a1dfd90.21e892",
        "type": "outcome",
        "name": "vpn-binding",
        "xml": "<outcome value='vpn-binding'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2603.566650390625,
        "y": 398.99998474121094,
        "z": "d636c085.d73a1",
        "wires": [
            [
                "d3885a9d.410b8"
            ]
        ]
    },
    {
        "id": "d3885a9d.410b8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2766.566650390625,
        "y": 398.99998474121094,
        "z": "d636c085.d73a1",
        "wires": [
            [
                "943d4b65.0e3ed8"
            ]
        ]
    },
    {
        "id": "5e452d03.7532ac",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.domain.pnf-name' value=\"`'networkId-providerId-' +\n                                                   $tmp.aai.vpn-binding.access-provider-id + '-clientId-' +\n                                                   $tmp.aai.vpn-binding.access-client-id + '-topologyId-' +\n                                                   $tmp.aai.vpn-binding.access-topology-id + '-nodeId-' +\n                                                   $tmp.aai.vpn-binding.src-access-node-id`\" />\n",
        "comments": "",
        "x": 3103.566650390625,
        "y": 202.99998474121094,
        "z": "d636c085.d73a1",
        "wires": []
    },
    {
        "id": "d53b6e96.aa8aa",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.domain.pnf-name\"\n        pfx='tmp.aai.source-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3129.566650390625,
        "y": 319.99998474121094,
        "z": "d636c085.d73a1",
        "wires": [
            [
                "f7dcf778.7bdca8",
                "b91a9a3e.7f6078",
                "2aa7aeb.8d97cd2"
            ]
        ]
    },
    {
        "id": "f7dcf778.7bdca8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3325.0667724609375,
        "y": 271.99998474121094,
        "z": "d636c085.d73a1",
        "wires": [
            [
                "859282ad.13c2f8"
            ]
        ]
    },
    {
        "id": "b91a9a3e.7f6078",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3317.0667724609375,
        "y": 326.99998474121094,
        "z": "d636c085.d73a1",
        "wires": [
            [
                "6f10df6c.e42f08"
            ]
        ]
    },
    {
        "id": "859282ad.13c2f8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3469.4490966796875,
        "y": 271.65565490722656,
        "z": "d636c085.d73a1",
        "wires": [
            [
                "a786a7ab.e92098"
            ]
        ]
    },
    {
        "id": "a786a7ab.e92098",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='spvidx' start='0' end='`$tmp.aai.source-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3653.566650390625,
        "y": 269.99998474121094,
        "z": "d636c085.d73a1",
        "wires": [
            [
                "7f3accce.b227c4"
            ]
        ]
    },
    {
        "id": "7f3accce.b227c4",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3848.566650390625,
        "y": 269.99998474121094,
        "z": "d636c085.d73a1",
        "wires": [
            [
                "19e0629f.42ef95"
            ]
        ]
    },
    {
        "id": "2aa7aeb.8d97cd2",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3322.0667724609375,
        "y": 383.99998474121094,
        "z": "d636c085.d73a1",
        "wires": [
            [
                "1ba67878.91583"
            ]
        ]
    },
    {
        "id": "1ba67878.91583",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 3474.0667724609375,
        "y": 384.99998474121094,
        "z": "d636c085.d73a1",
        "wires": []
    },
    {
        "id": "6f10df6c.e42f08",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 3485.0667724609375,
        "y": 327.99998474121094,
        "z": "d636c085.d73a1",
        "wires": []
    },
    {
        "id": "15438b5f.4f2f6d",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domain.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domain.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 4436.566650390625,
        "y": 286.99998474121094,
        "z": "d636c085.d73a1",
        "wires": [
            [
                "297b9c32.2d4884",
                "7eedc05d.0fcd8",
                "3b0dcd14.e168c2"
            ]
        ]
    },
    {
        "id": "e30d1b98.1b734",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4230.566650390625,
        "y": 273.99998474121094,
        "z": "d636c085.d73a1",
        "wires": [
            [
                "58f742d9.00369c",
                "15438b5f.4f2f6d",
                "fad5fc58.bb076"
            ]
        ]
    },
    {
        "id": "58f742d9.00369c",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domain id",
        "xml": "<set>\n<parameter name='tmp.domain.esr-thirdparty-id' value=\"`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 4466.566650390625,
        "y": 234.99998474121094,
        "z": "d636c085.d73a1",
        "wires": []
    },
    {
        "id": "297b9c32.2d4884",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4646.566650390625,
        "y": 277.99998474121094,
        "z": "d636c085.d73a1",
        "wires": [
            [
                "c10ae523.198538"
            ]
        ]
    },
    {
        "id": "7eedc05d.0fcd8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4638.566650390625,
        "y": 332.99998474121094,
        "z": "d636c085.d73a1",
        "wires": [
            [
                "dce2b694.d3656"
            ]
        ]
    },
    {
        "id": "3b0dcd14.e168c2",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4643.566650390625,
        "y": 389.99998474121094,
        "z": "d636c085.d73a1",
        "wires": [
            [
                "8ca6611c.54635"
            ]
        ]
    },
    {
        "id": "8ca6611c.54635",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4795.566650390625,
        "y": 390.99998474121094,
        "z": "d636c085.d73a1",
        "wires": []
    },
    {
        "id": "dce2b694.d3656",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4806.566650390625,
        "y": 335.99998474121094,
        "z": "d636c085.d73a1",
        "wires": []
    },
    {
        "id": "c10ae523.198538",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4790.948974609375,
        "y": 275.65565490722656,
        "z": "d636c085.d73a1",
        "wires": [
            [
                "e4f0bb63.5bbd98"
            ]
        ]
    },
    {
        "id": "19e0629f.42ef95",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4051.566650390625,
        "y": 273.99998474121094,
        "z": "d636c085.d73a1",
        "wires": [
            [
                "e30d1b98.1b734"
            ]
        ]
    },
    {
        "id": "e4f0bb63.5bbd98",
        "type": "set",
        "name": "set controller domain data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.url' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.user' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.password' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 5005.566650390625,
        "y": 271.99998474121094,
        "z": "d636c085.d73a1",
        "wires": []
    },
    {
        "id": "fad5fc58.bb076",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 4386.566650390625,
        "y": 350.99998474121094,
        "z": "d636c085.d73a1",
        "wires": []
    },
    {
        "id": "67de0813.c55918",
        "type": "set",
        "name": "set attachment_param for TN NSSSI deleteion in PNC",
        "xml": "<set>\n<parameter name='slice-instance-id' value='`$tmp.aai.service-instance.service-instance-id`' />\n\n",
        "comments": "",
        "x": 3229.566650390625,
        "y": 492.99998474121094,
        "z": "d636c085.d73a1",
        "wires": []
    },
    {
        "id": "518fe175.a505a8",
        "type": "save",
        "name": "delete connectivity resource in AAI",
        "xml": "<delete plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $tmp.aai.connectivity.connectivity-id'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3169.5667724609375,
        "y": 1148.9999237060547,
        "z": "d636c085.d73a1",
        "wires": [
            []
        ]
    },
    {
        "id": "df0df658.a887a",
        "type": "save",
        "name": "delete vpn-binding resource in AAI",
        "xml": "<delete plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $tmp.aai.vpn-binding.vpn-id' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3165.5667724609375,
        "y": 1192.9999237060547,
        "z": "d636c085.d73a1",
        "wires": [
            []
        ]
    },
    {
        "id": "1a0c1f4d.51b981",
        "type": "switchNode",
        "name": "switch connectivity has ethernet service",
        "xml": "<switch test='`$tmp.aai.connectivity.etht-svc-name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3188.566650390625,
        "y": 808.9999847412109,
        "z": "d636c085.d73a1",
        "wires": [
            [
                "e3688e85.c3b",
                "622706a9.cb2ed8"
            ]
        ]
    },
    {
        "id": "622706a9.cb2ed8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3426.566650390625,
        "y": 791.9999847412109,
        "z": "d636c085.d73a1",
        "wires": [
            [
                "ab255dec.d38548"
            ]
        ]
    },
    {
        "id": "e3688e85.c3b",
        "type": "outcome",
        "name": "Null",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 3438.566650390625,
        "y": 858.9999847412109,
        "z": "d636c085.d73a1",
        "wires": [
            []
        ]
    },
    {
        "id": "ab255dec.d38548",
        "type": "execute",
        "name": "execute RestApiCallNode Delete ethernet Service without token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.url + '/restconf/data/ietf-eth-tran-service:etht-svc/etht-svc-instances=' + $tmp.aai.connectivity.etht-svc-name`\" />\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.restapi.connection-oof-url`\" />-->\n<!--<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sotn-ethernet-service.json'`\" />-->\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"delete\"/>\n<parameter name='dirPath' value=\"/opt/onap/sdnc/restconfapi/yang\" />\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3801.900146484375,
        "y": 781.6000213623047,
        "z": "d636c085.d73a1",
        "wires": [
            [
                "63e51e3.aa5156",
                "5038fd41.e83c2c"
            ]
        ]
    },
    {
        "id": "63e51e3.aa5156",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4145.666748046875,
        "y": 756.6000213623047,
        "z": "d636c085.d73a1",
        "wires": [
            []
        ]
    },
    {
        "id": "5038fd41.e83c2c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4146.666961669922,
        "y": 807.5999307632446,
        "z": "d636c085.d73a1",
        "wires": [
            [
                "3bc9737b.ab47c4"
            ]
        ]
    },
    {
        "id": "3bc9737b.ab47c4",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4291.694007873535,
        "y": 805.3454160690308,
        "z": "d636c085.d73a1",
        "wires": [
            [
                "cda2227f.a4536"
            ]
        ]
    },
    {
        "id": "cda2227f.a4536",
        "type": "execute",
        "name": "execute Terminate Periodic Pull Connection",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restconfdiscovery.PeriodicDiscoveryNode' method='deleteSubscription' >\n<parameter name=\"subscriberId\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.url`\" />\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.cll-terminate-notification.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.url + '/restconf/operations/ietf-subscribed-notifications:delete-subscription'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.password`\" />\n<parameter name=\"dirPath\" value=\"/opt/sdnc/restconfapi/yang/notification\" />\n<parameter name=\"format\" value=\"json\" />\n<parameter name=\"httpMethod\" value=\"post\" />\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name='customHttpHeaders' value=\"X-ACCESS-TOKEN=x-ik2ps4ikvzupbx0486ft1ebzs7rt85futh9ho6eofy3wjsap7wqktemlqm4bbsmnar3vrtbyrzukbv5itd6m1cftldpjarnyle3sdcqq9hftc4lebz464b5ffxmlbvg9\" />-->\n<parameter name=\"module\" value=\"GENERIC-RESOURCE-API\" />\n<parameter name=\"rpc\" value=\"p2p-vnf-topology-operation-p2p-callbackdg-notification\" />\n<parameter name=\"version\" value=\"`$project.version`\" />\n<parameter name=\"mode\" value=\"sync\" />\n<parameter name=\"responsePrefix\" value=\"restapi-result\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 4563.933837890625,
        "y": 812.566650390625,
        "z": "d636c085.d73a1",
        "wires": [
            []
        ]
    }
]