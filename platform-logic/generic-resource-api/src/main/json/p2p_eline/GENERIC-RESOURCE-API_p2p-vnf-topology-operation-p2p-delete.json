[
    {
        "id": "9559f36c.7d99",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 210.3333282470703,
        "y": 176.33334350585938,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "589aff20.58fdd8"
            ]
        ]
    },
    {
        "id": "589aff20.58fdd8",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 341.6190185546875,
        "y": 225.5714521408081,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "7be85682.4a664"
            ]
        ]
    },
    {
        "id": "7be85682.4a664",
        "type": "method",
        "name": "method p2p-vnf-topology-operation-p2p-delete",
        "xml": "<method rpc='p2p-vnf-topology-operation-p2p-delete' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 344.76194763183594,
        "y": 310.33337593078613,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "75b89bd3.b7035c"
            ]
        ]
    },
    {
        "id": "75b89bd3.b7035c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 494.5713653564453,
        "y": 440,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "b92c8346.1030c",
                "d4055fd6.d46db",
                "6a8d6043.e67918"
            ]
        ]
    },
    {
        "id": "b92c8346.1030c",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 790.9049835205078,
        "y": 716.9305114746094,
        "z": "9455099.1e285f8",
        "wires": []
    },
    {
        "id": "ee6a8ea4.1c7198",
        "type": "comment",
        "name": "new for TransportSlicing",
        "info": "",
        "comments": "",
        "x": 822.3333282470703,
        "y": 391.3333435058594,
        "z": "9455099.1e285f8",
        "wires": []
    },
    {
        "id": "d4055fd6.d46db",
        "type": "save",
        "name": "get service-instance from aai",
        "xml": "<!--<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" -->\n<!--\tresource=\"service-instance\"-->\n<!--\tkey='service-instance.service-instance-id = $service-data.vnfs.vnf[$tmp.vidx].vnf-data.service-information.service-instance-id-->\n<!--         AND customer.global-customer-id = $service-data.vnfs.vnf[$tmp.vidx].vnf-data.service-information.global-customer-id -->\n<!--         AND service-subscription.service-type = $service-data.vnfs.vnf[$tmp.vidx].vnf-data.service-information.subscription-service-type'-->\n<!--\tlocal-only=\"false\"-->\n<!--\tforce=\"true\" pfx=\"tmp.aai.service-instance\">-->\n    \n\n<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"service-instance\"\n\tkey='service-instance.service-instance-id = $vnf-topology-operation-input.service-information.service-instance-id\n         AND customer.global-customer-id = $vnf-topology-operation-input.service-information.global-customer-id \n         AND service-subscription.service-type = $vnf-topology-operation-input.service-information.subscription-service-type'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.service-instance\">\n\n\n<!--vnf-topology-operation-input.service-information.service-instance-id-->",
        "comments": "",
        "outputs": 1,
        "x": 842.3333282470703,
        "y": 487.3333435058594,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "381d7bc0.f1068c",
                "4a8a0c1b.ab698c",
                "31b9c3f9.83b5cc"
            ]
        ]
    },
    {
        "id": "381d7bc0.f1068c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1061.3333282470703,
        "y": 425.3333435058594,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "78172321.e32f04"
            ]
        ]
    },
    {
        "id": "4a8a0c1b.ab698c",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1070.8242950439453,
        "y": 467.9073791503906,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "fb661f4a.a35e88"
            ]
        ]
    },
    {
        "id": "31b9c3f9.83b5cc",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1059.3333282470703,
        "y": 514.3333435058594,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "c596dceb.f440c8"
            ]
        ]
    },
    {
        "id": "fb661f4a.a35e88",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 1224.3957061767578,
        "y": 471.193115234375,
        "z": "9455099.1e285f8",
        "wires": []
    },
    {
        "id": "c596dceb.f440c8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 1228.3333282470703,
        "y": 515.3333435058594,
        "z": "9455099.1e285f8",
        "wires": []
    },
    {
        "id": "78172321.e32f04",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for index='rel-index' start='0' end='`$tmp.aai.service-instance.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1258.3333282470703,
        "y": 421.3333435058594,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "2b97696b.7fb036"
            ]
        ]
    },
    {
        "id": "2b97696b.7fb036",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.service-instance.relationship-list.relationship[$rel-index].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1481.6668243408203,
        "y": 421.3332824707031,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "42c2b0bd.f47dd"
            ]
        ]
    },
    {
        "id": "42c2b0bd.f47dd",
        "type": "outcome",
        "name": "connectivity",
        "xml": "<outcome value='connectivity'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1682.3334617614746,
        "y": 422.33336448669434,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "2d4b22d.3ad5fde"
            ]
        ]
    },
    {
        "id": "6a8d6043.e67918",
        "type": "execute",
        "name": "execute properties",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />",
        "comments": "",
        "outputs": 1,
        "x": 808.3333282470703,
        "y": 435.3333435058594,
        "z": "9455099.1e285f8",
        "wires": [
            []
        ]
    },
    {
        "id": "2d4b22d.3ad5fde",
        "type": "save",
        "name": "get connectivity from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"connectivity\"\n\t    key=\"connectivity.connectivity-id = $tmp.aai.service-instance.relationship-list.relationship[$rel-index].relationship-data[0].relationship-value\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.connectivity\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 1920.3333282470703,
        "y": 424.3333435058594,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "767f3312.da0fc4",
                "6e6e816a.046da8",
                "7240a2d3.cdb52c"
            ]
        ]
    },
    {
        "id": "767f3312.da0fc4",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2128.3333282470703,
        "y": 388.3333435058594,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "9782a1c0.c96908"
            ]
        ]
    },
    {
        "id": "6e6e816a.046da8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2128.8242950439453,
        "y": 433.9073791503906,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "2e176049.379ac8"
            ]
        ]
    },
    {
        "id": "7240a2d3.cdb52c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2126.3333282470703,
        "y": 477.3333435058594,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "33c68883.4e4dd8"
            ]
        ]
    },
    {
        "id": "2e176049.379ac8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 2291.395706176758,
        "y": 434.193115234375,
        "z": "9455099.1e285f8",
        "wires": []
    },
    {
        "id": "33c68883.4e4dd8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 2295.3333282470703,
        "y": 478.3333435058594,
        "z": "9455099.1e285f8",
        "wires": []
    },
    {
        "id": "2a05bc5b.b08dc4",
        "type": "save",
        "name": "get vpn-binding from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"vpn-binding\"\n\t    key=\"vpn-binding.vpn-id = $tmp.aai.connectivity.relationship-list.relationship[$cridx].relationship-data[0].relationship-value\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.vpn-binding\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 2601.3333282470703,
        "y": 477.3333435058594,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "efe59340.81f6b",
                "9ec2589f.db3418",
                "4f5683a7.464474"
            ]
        ]
    },
    {
        "id": "37afe5ee.53cc62",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2985.3333282470703,
        "y": 477.3333435058594,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "e3b2dd80.eef1a8",
                "a9ed431c.c281c",
                "d4052d30.ad8718",
                "fddd2ea9.355138",
                "9f2982f0.62eef8",
                "3eed71af.4521b6"
            ]
        ]
    },
    {
        "id": "efe59340.81f6b",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2812.3333282470703,
        "y": 479.3333435058594,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "37afe5ee.53cc62"
            ]
        ]
    },
    {
        "id": "9ec2589f.db3418",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2812.8242950439453,
        "y": 524.9073791503906,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "597b7a11.444784"
            ]
        ]
    },
    {
        "id": "4f5683a7.464474",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2810.3333282470703,
        "y": 568.3333435058594,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "7e03ef7b.cd722"
            ]
        ]
    },
    {
        "id": "7e03ef7b.cd722",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 2977.3333282470703,
        "y": 567.3333435058594,
        "z": "9455099.1e285f8",
        "wires": []
    },
    {
        "id": "597b7a11.444784",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 2975.395706176758,
        "y": 525.193115234375,
        "z": "9455099.1e285f8",
        "wires": []
    },
    {
        "id": "9782a1c0.c96908",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='cridx' start='0' end='`$tmp.aai.connectivity.relationship-list.relationship_length`' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2329.3333282470703,
        "y": 383.3333435058594,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "650cd08b.3ade4"
            ]
        ]
    },
    {
        "id": "650cd08b.3ade4",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.connectivity.relationship-list.relationship[$cridx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2534.3333282470703,
        "y": 383.3333435058594,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "aa3600cc.a7aae8"
            ]
        ]
    },
    {
        "id": "aa3600cc.a7aae8",
        "type": "outcome",
        "name": "vpn-binding",
        "xml": "<outcome value='vpn-binding'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2700.3333282470703,
        "y": 383.3333435058594,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "fb75e488.be7c5"
            ]
        ]
    },
    {
        "id": "fb75e488.be7c5",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2863.3333282470703,
        "y": 383.3333435058594,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "2a05bc5b.b08dc4"
            ]
        ]
    },
    {
        "id": "e3b2dd80.eef1a8",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.domain.pnf-name' value=\"`'networkId-providerId-' +\n                                                   $tmp.aai.vpn-binding.access-provider-id + '-clientId-' +\n                                                   $tmp.aai.vpn-binding.access-client-id + '-topologyId-' +\n                                                   $tmp.aai.vpn-binding.access-topology-id + '-nodeId-' +\n                                                   $tmp.aai.vpn-binding.src-access-node-id`\" />\n",
        "comments": "",
        "x": 3200.3333282470703,
        "y": 187.33334350585938,
        "z": "9455099.1e285f8",
        "wires": []
    },
    {
        "id": "a9ed431c.c281c",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.domain.pnf-name\"\n        pfx='tmp.aai.source-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3226.3333282470703,
        "y": 304.3333435058594,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "886463ef.2aa938",
                "42b42c71.803e4c",
                "a6449502.70e2c8"
            ]
        ]
    },
    {
        "id": "886463ef.2aa938",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3421.833450317383,
        "y": 256.3333435058594,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "c18c6719.20bd2"
            ]
        ]
    },
    {
        "id": "42b42c71.803e4c",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3413.833450317383,
        "y": 311.3333435058594,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "30a99a18.cda186"
            ]
        ]
    },
    {
        "id": "c18c6719.20bd2",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3566.215774536133,
        "y": 255.989013671875,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "c69e4003.7eb5b8"
            ]
        ]
    },
    {
        "id": "c69e4003.7eb5b8",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='spvidx' start='0' end='`$tmp.aai.source-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3750.3333282470703,
        "y": 254.33334350585938,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "690e98ca.6414f8"
            ]
        ]
    },
    {
        "id": "690e98ca.6414f8",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3945.3333282470703,
        "y": 254.33334350585938,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "2770cf70.6b8d58"
            ]
        ]
    },
    {
        "id": "a6449502.70e2c8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3418.833450317383,
        "y": 368.3333435058594,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "6503d576.73a654"
            ]
        ]
    },
    {
        "id": "6503d576.73a654",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 3570.833450317383,
        "y": 369.3333435058594,
        "z": "9455099.1e285f8",
        "wires": []
    },
    {
        "id": "30a99a18.cda186",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 3581.833450317383,
        "y": 312.3333435058594,
        "z": "9455099.1e285f8",
        "wires": []
    },
    {
        "id": "9068d2cf.278dc8",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domain.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domain.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 4533.33332824707,
        "y": 271.3333435058594,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "1fca2290.06e8dd",
                "c7116ee2.229ee",
                "d17cbdef.3c1178"
            ]
        ]
    },
    {
        "id": "7354c66b.f20a",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4327.33332824707,
        "y": 258.3333435058594,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "3bcdb5b2.4a3a62",
                "9068d2cf.278dc8",
                "99f73767.79f228"
            ]
        ]
    },
    {
        "id": "3bcdb5b2.4a3a62",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domain id",
        "xml": "<set>\n<parameter name='tmp.domain.esr-thirdparty-id' value=\"`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 4563.33332824707,
        "y": 219.33334350585938,
        "z": "9455099.1e285f8",
        "wires": []
    },
    {
        "id": "1fca2290.06e8dd",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4743.33332824707,
        "y": 262.3333435058594,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "243ff6d9.66256a"
            ]
        ]
    },
    {
        "id": "c7116ee2.229ee",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4735.33332824707,
        "y": 317.3333435058594,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "bfdc168b.3ce728"
            ]
        ]
    },
    {
        "id": "d17cbdef.3c1178",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4740.33332824707,
        "y": 374.3333435058594,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "77929148.a8a1"
            ]
        ]
    },
    {
        "id": "77929148.a8a1",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4892.33332824707,
        "y": 375.3333435058594,
        "z": "9455099.1e285f8",
        "wires": []
    },
    {
        "id": "bfdc168b.3ce728",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4903.33332824707,
        "y": 320.3333435058594,
        "z": "9455099.1e285f8",
        "wires": []
    },
    {
        "id": "243ff6d9.66256a",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4887.71565246582,
        "y": 259.989013671875,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "ea25b28e.9d40c"
            ]
        ]
    },
    {
        "id": "2770cf70.6b8d58",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4148.33332824707,
        "y": 258.3333435058594,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "7354c66b.f20a"
            ]
        ]
    },
    {
        "id": "ea25b28e.9d40c",
        "type": "set",
        "name": "set controller domain data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.url' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.user' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.password' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 5102.33332824707,
        "y": 256.3333435058594,
        "z": "9455099.1e285f8",
        "wires": []
    },
    {
        "id": "99f73767.79f228",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 4483.33332824707,
        "y": 335.3333435058594,
        "z": "9455099.1e285f8",
        "wires": []
    },
    {
        "id": "774630ef.e09c58",
        "type": "execute",
        "name": "execute RestApiCallNode Delete transport slice without token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.transport-slice-creation.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.url +  '/restconf/operations/ietf-optical-slice:deallocate-optical-slice'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"otn-oof\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3350.3333282470703,
        "y": 602.3333435058594,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "8a18cee3.35ffe",
                "99cc1156.473278"
            ]
        ]
    },
    {
        "id": "8a18cee3.35ffe",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3693.8333282470703,
        "y": 597.3333435058594,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "a2ed508f.5c119"
            ]
        ]
    },
    {
        "id": "99cc1156.473278",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3697.8333282470703,
        "y": 637.3333435058594,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "912161a0.cf7bf"
            ]
        ]
    },
    {
        "id": "912161a0.cf7bf",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3855.3333282470703,
        "y": 637.3333435058594,
        "z": "9455099.1e285f8",
        "wires": [
            []
        ]
    },
    {
        "id": "a2ed508f.5c119",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing deallocate transport slice rest api\" />\n",
        "comments": "",
        "x": 3851.8333282470703,
        "y": 597.3333435058594,
        "z": "9455099.1e285f8",
        "wires": []
    },
    {
        "id": "3eed71af.4521b6",
        "type": "set",
        "name": "set attachment_param for TN NSSSI deleteion in PNC",
        "xml": "<set>\n<parameter name='slice-instance-id' value='`$tmp.aai.service-instance.service-instance-id`' />\n\n",
        "comments": "",
        "x": 3326.3333282470703,
        "y": 477.3333435058594,
        "z": "9455099.1e285f8",
        "wires": []
    },
    {
        "id": "d4052d30.ad8718",
        "type": "save",
        "name": "delete connectivity resource in AAI",
        "xml": "<delete plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $tmp.aai.connectivity.connectivity-id'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3256.3333282470703,
        "y": 912.3333435058594,
        "z": "9455099.1e285f8",
        "wires": [
            []
        ]
    },
    {
        "id": "fddd2ea9.355138",
        "type": "save",
        "name": "delete vpn-binding resource in AAI",
        "xml": "<delete plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $tmp.aai.vpn-binding.vpn-id' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3252.3333282470703,
        "y": 956.3333435058594,
        "z": "9455099.1e285f8",
        "wires": [
            []
        ]
    },
    {
        "id": "81312607.6bb828",
        "type": "execute",
        "name": "execute RestApiCallNode domain UNI deColoring",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<!--<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.ts-coloring-uni-port.templatefile`\" />-->\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.url + '/restconf/data/ietf-network:networks/network=networkId-providerId-' + $tmp.aai.connectivity.access-provider-id + '-clientId-' + $tmp.aai.connectivity.access-client-id + '-topologyId-' + $tmp.aai.connectivity.access-topology-id +  '/node=' + $tmp.aai.connectivity.access-node-id + '/ietf-network-topology:termination-point=' + $tmp.aai.connectivity.access-ltp-id + '/ietf-te-topology:te/ietf-optical-slice:slice-id-list=' + $slice-instance-id `\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"delete\"/>\n<parameter name=\"responsePrefix\" value=\"otn-oof\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3836.3333282470703,
        "y": 776.3333435058594,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "cd905ee1.eaa9b8",
                "3271c447.28d454"
            ]
        ]
    },
    {
        "id": "3271c447.28d454",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4102.33332824707,
        "y": 756.3333435058594,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "e043f0ae.c34d08"
            ]
        ]
    },
    {
        "id": "cd905ee1.eaa9b8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4103.333541870117,
        "y": 807.3332529067993,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "a5def9d3.538c"
            ]
        ]
    },
    {
        "id": "e043f0ae.c34d08",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing decoloring UNI rest api\" />\n",
        "comments": "",
        "x": 4242.333576202393,
        "y": 756.3333444595337,
        "z": "9455099.1e285f8",
        "wires": []
    },
    {
        "id": "a5def9d3.538c",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4248.3605880737305,
        "y": 805.0787382125854,
        "z": "9455099.1e285f8",
        "wires": [
            []
        ]
    },
    {
        "id": "9f2982f0.62eef8",
        "type": "switchNode",
        "name": "switch connectivity has ethernet service",
        "xml": "<switch test='`$tmp.aai.connectivity.etht-svc-name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3285.3333282470703,
        "y": 793.3333435058594,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "e2b757bb.931bf8",
                "73b037b.7f08a48"
            ]
        ]
    },
    {
        "id": "73b037b.7f08a48",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3523.3333282470703,
        "y": 776.3333435058594,
        "z": "9455099.1e285f8",
        "wires": [
            [
                "81312607.6bb828"
            ]
        ]
    },
    {
        "id": "e2b757bb.931bf8",
        "type": "outcome",
        "name": "Null",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 3535.3333282470703,
        "y": 843.3333435058594,
        "z": "9455099.1e285f8",
        "wires": [
            []
        ]
    }
]