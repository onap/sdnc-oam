[
    {
        "id": "1c63830b.6dad15",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 158,
        "y": 122.74699592590332,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "d0207df4.e744a8"
            ]
        ]
    },
    {
        "id": "d0207df4.e744a8",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 273.28570556640625,
        "y": 164.65177536010742,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "3222238a.bde594"
            ]
        ]
    },
    {
        "id": "3222238a.bde594",
        "type": "method",
        "name": "method vnf-topology-operation-assign-async",
        "xml": "<method rpc='vnf-topology-operation-assign-async' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 246.09530639648438,
        "y": 207.41365909576416,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "525bcd69.d52c4c"
            ]
        ]
    },
    {
        "id": "4bbdf4dc.9acd64",
        "type": "comment",
        "name": "vnf-topology-operation-assign-async",
        "info": "",
        "comments": "",
        "x": 522.0115356445312,
        "y": 45,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "65b55bf0.e17c94",
        "type": "switchNode",
        "name": "switch request-action",
        "xml": "<switch test='`$vnf-topology-operation-input.request-information.request-action`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 554.3809661865234,
        "y": 518.3898124694824,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "676025ce.ceaed4",
                "fac05067.e39a6"
            ]
        ]
    },
    {
        "id": "676025ce.ceaed4",
        "type": "outcome",
        "name": "CreateVnfInstance",
        "xml": "<outcome value='CreateVnfInstance'>\n",
        "comments": "",
        "outputs": 1,
        "x": 808.0952606201172,
        "y": 495.53269386291504,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "a9df7def.2e87a"
            ]
        ]
    },
    {
        "id": "fac05067.e39a6",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 770.0952262878418,
        "y": 541.2470216751099,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "2d48d63d.1a5b82"
            ]
        ]
    },
    {
        "id": "a9df7def.2e87a",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 992.9523887634277,
        "y": 495.53272342681885,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "73e62b5e.2d2d24",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 215.73814392089844,
        "y": 3404.7708625793457,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "4ea0676c.f3c5",
                "d807e3bf.6821",
                "7dbd70b1.1d952",
                "c802fc95.1aed4",
                "ba6b2f3.81ff65",
                "84242802.438068",
                "40b03c35.066374",
                "978c06f5.c51b38",
                "a2246d8d.309948",
                "d1226d82.dd4ba",
                "42aca120.8663b",
                "27992a30.77ac86",
                "ba745244.bd0468",
                "32a417de.843a",
                "60220dbd.cbb274",
                "aeeecb5d.b95ac8",
                "bd2f9d29.6f4cd",
                "d4235437.829c38",
                "d7771a1c.3c6348",
                "6a3932df.a191e4",
                "ba43d064.2bf358",
                "54b8c442.c1469c",
                "f4822626.6784a",
                "c0f7e6fd.82944",
                "b69c7bea.5b8f98",
                "779ef85a.752e58",
                "b8b61871.289a38",
                "f7b6f1fc.97c858",
                "d350e16f.3e261",
                "93239a74.eab46",
                "a88c2f3d.bf4fa8",
                "3e36f71.f2f0b88",
                "b3a3b6d8.b3b1a",
                "aac69396.6ddb18",
                "634a4090.ff27d",
                "9ec4fd36.2e31c8",
                "1fec3768.f512f1",
                "4ba8fd3f.c818fc",
                "d2d8ec6e.e92468",
                "2957e806.869ab"
            ]
        ]
    },
    {
        "id": "c29453e1.d0b3d8",
        "type": "get-resource",
        "name": "get-resource VF_MODEL",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='SELECT * from VF_MODEL WHERE customization_uuid = $vnf-topology-operation-input.vnf-information.onap-model-information.model-customization-uuid'\n  pfx='db.vf-model'>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 566.7142715454102,
        "y": 609.5326824188232,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "1eae0e0a.4b77c2",
                "72cc49c6.447b08"
            ]
        ]
    },
    {
        "id": "1eae0e0a.4b77c2",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 767.4999694824219,
        "y": 589.913519859314,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "17544ab9.984c5d"
            ]
        ]
    },
    {
        "id": "72cc49c6.447b08",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 776.0713996887207,
        "y": 634.1992330551147,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "9a95814.c6dd98"
            ]
        ]
    },
    {
        "id": "4ea0676c.f3c5",
        "type": "switchNode",
        "name": "switch service-data.vnfs.vnf_length",
        "xml": "<switch test='`$service-data.vnfs.vnf_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 590.3809204101562,
        "y": 1197.9851322174072,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "7fa001b2.5a02a",
                "2784fe24.f3ffba"
            ]
        ]
    },
    {
        "id": "7fa001b2.5a02a",
        "type": "other",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 816.0952491760254,
        "y": 1165.1279201507568,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "7f419c89.2e0014"
            ]
        ]
    },
    {
        "id": "7f419c89.2e0014",
        "type": "set",
        "name": "set vnf-index=0",
        "xml": "<set>\n<parameter name='vnf-index' value='0' />\n",
        "comments": "",
        "x": 980.3809700012207,
        "y": 1164.1279983520508,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "2784fe24.f3ffba",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 817.523811340332,
        "y": 1229.4137382507324,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "6b01bbf.e34dbc4"
            ]
        ]
    },
    {
        "id": "741efbb8.5b8a44",
        "type": "set",
        "name": "set vnf-index = vnf_length",
        "xml": "<set>\n<parameter name='vnf-index' value='`$service-data.vnfs.vnf_length`' />\n",
        "comments": "",
        "x": 1235.3809661865234,
        "y": 1207.699426651001,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "5f2528be.bf7e48",
        "type": "for",
        "name": "for each existing VNF",
        "xml": "<for index='idx' start='0' end='`$service-data.vnfs.vnf_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1220.8094787597656,
        "y": 1253.6993656158447,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "4af50057.0f1aa8"
            ]
        ]
    },
    {
        "id": "6b01bbf.e34dbc4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 991.2380714416504,
        "y": 1229.413703918457,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "741efbb8.5b8a44",
                "5f2528be.bf7e48"
            ]
        ]
    },
    {
        "id": "4af50057.0f1aa8",
        "type": "switchNode",
        "name": "switch vnf-information.vnf-id == service-data.vnfs.vnf[].vnf-id",
        "xml": "<switch test='`$vnf-topology-operation-input.vnf-information.vnf-id == $service-data.vnfs.vnf[$idx].vnf-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1575.0952453613281,
        "y": 1253.270845413208,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "25f009f8.2d893e"
            ]
        ]
    },
    {
        "id": "25f009f8.2d893e",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1869.3810005187988,
        "y": 1252.8423299789429,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "dcfb1529.fec6a8"
            ]
        ]
    },
    {
        "id": "8724aa2.889b6d8",
        "type": "comment",
        "name": "make sure this VNF doesn't exist already",
        "info": "",
        "comments": "",
        "x": 1562.2379760742188,
        "y": 1210.8422756195068,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "d807e3bf.6821",
        "type": "set",
        "name": "set vnf-topology data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.vnf-id'\n value='`$vnf-topology-operation-input.vnf-information.vnf-id`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.vnf-type'\n value='`$vnf-topology-operation-input.vnf-information.vnf-type`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.nf-type'\n value='`$db.vf-model.nf-type`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.nf-role'\n value='`$db.vf-model.nf-role`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.nf-function'\n value='`$db.vf-model.nf-function`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.nf-code'\n value='`$db.vf-model.nf-code`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.tenant'\n value='`$vnf-topology-operation-input.vnf-request-input.tenant`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.aic-cloud-region'\n value='`$vnf-topology-operation-input.vnf-request-input.aic-cloud-region`' />\n \n",
        "comments": "",
        "x": 556.0952033996582,
        "y": 1729.6518993377686,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "7dbd70b1.1d952",
        "type": "switchNode",
        "name": "switch input vnf-name",
        "xml": "<switch test='`$vnf-topology-operation-input.vnf-information.vnf-name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 568.5952224731445,
        "y": 2091.770956993103,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "241fabfe.69fa2c",
                "f80604c.1fec1f8"
            ]
        ]
    },
    {
        "id": "c802fc95.1aed4",
        "type": "get-resource",
        "name": "get-resource cloud region",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"cloud-region\" \n\t\tkey=\"cloud-region.cloud-owner = $prop.cloud-region.cloud-owner AND \n\t\t     cloud-region.cloud-region-id = $vnf-topology-operation-input.vnf-request-input.aic-cloud-region AND\n\t\t     depth='all'\"\n        pfx='aai.cloud-region' local-only='false' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 600.738166809082,
        "y": 2987.7706928253174,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "50e5753c.35a0ec",
                "60c43013.41eb78"
            ]
        ]
    },
    {
        "id": "60c43013.41eb78",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 808.8414840698242,
        "y": 3006.921399116516,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "f968cb62.56775"
            ]
        ]
    },
    {
        "id": "50e5753c.35a0ec",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 817.7700805664062,
        "y": 2964.2071323394775,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "2be0da40.0d7806"
            ]
        ]
    },
    {
        "id": "ba6b2f3.81ff65",
        "type": "get-resource",
        "name": "get-resource VF_TO_NETWORK_ROLE_MAPPING",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='SELECT * from VF_TO_NETWORK_ROLE_MAPPING WHERE vf_customization_uuid = $vnf-topology-operation-input.vnf-information.onap-model-information.model-customization-uuid'\n  pfx='db.vf-network-role-mapping[]'>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 665.9762496948242,
        "y": 3298.8182125091553,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "1edaf2dd.6abca5",
                "8c805d73.d5428"
            ]
        ]
    },
    {
        "id": "1edaf2dd.6abca5",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 961.7619209289551,
        "y": 3277.532377243042,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "7ef20c7d.b3d83c"
            ]
        ]
    },
    {
        "id": "8c805d73.d5428",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 970.3333511352539,
        "y": 3321.818090438843,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "c3672ff4.a17f"
            ]
        ]
    },
    {
        "id": "febef76b.d8c79",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1066.9049491882324,
        "y": 4415.460702896118,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "69a52c45.9d3a2c",
                "1b8f8e9a.44ecf9",
                "b81c1659.1acf38",
                "c7e3943d.2b1af",
                "e1eddf21.903d78",
                "886b4211.4bd9a",
                "5621d64.66c8228",
                "680457ce.355c7",
                "f1e14dbb.a2c47"
            ]
        ]
    },
    {
        "id": "b81c1659.1acf38",
        "type": "get-resource",
        "name": "get-resource l3-network",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"l3-networks\" \n\t\tkey=\"l3-network.network-role = $db.vf-network-role-mapping[$role-index].network-role\"\n        pfx='aai.l3-network' local-only='false'\n>\n",
        "comments": "",
        "outputs": 1,
        "x": 1316.6191482543945,
        "y": 3505.8417415618896,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "69f68ea2.5d7068",
                "8f733aa1.cdcf6"
            ]
        ]
    },
    {
        "id": "8f733aa1.cdcf6",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1522.0954627990723,
        "y": 3535.1273441314697,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "11a704cb.ec6e1b"
            ]
        ]
    },
    {
        "id": "69f68ea2.5d7068",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1529.595458984375,
        "y": 3486.2703142166138,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "ddfbfd5a.f170a"
            ]
        ]
    },
    {
        "id": "69a52c45.9d3a2c",
        "type": "set",
        "name": "set vnf-network data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].network-role'\n    value='`$db.vf-network-role-mapping[$role-index].network-role`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].network-name'\n    value='`$aai.l3-network.l3-network[$db-network-index].network-name`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].neutron-id'\n    value='`$aai.l3-network.l3-network[$db-network-index].neutron-network-id`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].network-id'\n    value='`$aai.l3-network.l3-network[$db-network-index].network-id`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].contrail-network-fqdn'\n    value='`$aai.l3-network.l3-network[$db-network-index].contrail-network-fqdn`' />\n",
        "comments": "",
        "x": 1312.9526138305664,
        "y": 4311.413550376892,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "a2246d8d.309948",
        "type": "for",
        "name": "for each cloud-region availability zone",
        "xml": "<for index='idx' start='0' end='`$aai.cloud-region.availability-zones.availability-zone_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 533.3336524963379,
        "y": 5558.532527923584,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "87ffb6ef.f80298"
            ]
        ]
    },
    {
        "id": "bc615b55.663bf",
        "type": "set",
        "name": "set availability-zone",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.availability-zones.availability-zone[$idx]'\n  value='`$aai.cloud-region.availability-zones.availability-zone[$idx].availability-zone-name`' />\n",
        "comments": "",
        "x": 995.0003356933594,
        "y": 5527.865942001343,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "d1226d82.dd4ba",
        "type": "set",
        "name": "set vnf-parameters-data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.'\n  value='vnf-topology-operation-input.vnf-request-input.vnf-input-parameters.' />\n",
        "comments": "",
        "x": 492.952579498291,
        "y": 5408.484888076782,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "c91f5f57.248b18",
        "type": "save",
        "name": "save generic-vnf l3-network relationships",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"generic-vnf:relationship-list\"\n   key=\"generic-vnf.vnf-id = $service-data.vnfs.vnf[$vnf-index].vnf-id\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"l3-network\" />\n    <parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"l3-network.network-id\" />\n    <parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-nw-index].network-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 959.524112701416,
        "y": 5702.29474067688,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "70b9d92d.cfcaf",
                "8019290f.d9e57"
            ]
        ]
    },
    {
        "id": "ba745244.bd0468",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 446.29785919189453,
        "y": 6598.056180000305,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "27992a30.77ac86",
        "type": "set",
        "name": "set vnf-level-oper-status to PendingCreate",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-level-oper-status.order-status' value='PendingCreate' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-level-oper-status.last-rpc-action' value='`$vnf-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-level-oper-status.last-action' value='`$vnf-topology-operation-input.request-information.request-action`' />\n",
        "comments": "",
        "x": 548.8255958557129,
        "y": 6071.500453948975,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "40b03c35.066374",
        "type": "for",
        "name": "for each network-role",
        "xml": "<for silentFailure='true' index='role-index' start='0' end='`$db.vf-network-role-mapping_length`'>",
        "comments": "",
        "outputs": 1,
        "x": 526.9048843383789,
        "y": 4388.794371604919,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "f73eb405.e256b8"
            ]
        ]
    },
    {
        "id": "84242802.438068",
        "type": "set",
        "name": "set network-index = 0",
        "xml": "<set>\n<parameter name='network-index' value='0' />\n",
        "comments": "",
        "x": 568.4047470092773,
        "y": 3352.8660068511963,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "1b8f8e9a.44ecf9",
        "type": "set",
        "name": "increment network-index",
        "xml": "<set>\n<parameter name='network-index' value='`$network-index + 1`' />\n",
        "comments": "",
        "x": 1294.9526023864746,
        "y": 5359.175491333008,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "978c06f5.c51b38",
        "type": "set",
        "name": "set vnf-network_length",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network_length'\n  value='`$network-index`' />\n",
        "comments": "",
        "x": 491.80966567993164,
        "y": 5358.484931945801,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "42aca120.8663b",
        "type": "set",
        "name": "copy input data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.sdnc-request-header.' value='$vnf-topology-operation-input.sdnc-request-header.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.request-information.' value='$vnf-topology-operation-input.request-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.' value='$vnf-topology-operation-input.service-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-information.' value='$vnf-topology-operation-input.vnf-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-request-input.' value='$vnf-topology-operation-input.vnf-request-input.' />\n\n",
        "comments": "",
        "x": 458.095401763916,
        "y": 6017.913442611694,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "32a417de.843a",
        "type": "for",
        "name": "for each vnf-network",
        "xml": "<for index='vnf-nw-index' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 482.52402114868164,
        "y": 5701.29465675354,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "80153f67.955468"
            ]
        ]
    },
    {
        "id": "80153f67.955468",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 686.1906623840332,
        "y": 5701.294617652893,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "c91f5f57.248b18"
            ]
        ]
    },
    {
        "id": "60220dbd.cbb274",
        "type": "set",
        "name": "set new vnf_length",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf_length' value='`$vnf-index + 1`' />\n",
        "comments": "",
        "x": 539.0238418579102,
        "y": 1250.0090227127075,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "aeeecb5d.b95ac8",
        "type": "for",
        "name": "for each cloud-region relationship",
        "xml": "<for index='idx' start='0' end='`$aai.cloud-region.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 613.5952911376953,
        "y": 3075.008864402771,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "af9376a1.5b3178"
            ]
        ]
    },
    {
        "id": "af9376a1.5b3178",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$aai.cloud-region.relationship-list.relationship[$idx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 861.2738342285156,
        "y": 3074.7587938308716,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "b05c52b5.57078"
            ]
        ]
    },
    {
        "id": "b05c52b5.57078",
        "type": "outcome",
        "name": "complex",
        "xml": "<outcome value='complex'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1030.7381553649902,
        "y": 3074.1516160964966,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "8b3ae97b.251a1"
            ]
        ]
    },
    {
        "id": "d417f4d3.21848",
        "type": "set",
        "name": "set aic-clli",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.aic-clli'\n  value='`$aai-uid-split[$aai-uid-split_length - 1]`' />\n",
        "comments": "",
        "x": 1408.3095397949219,
        "y": 3072.389811515808,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "bd2f9d29.6f4cd",
        "type": "switchNode",
        "name": "switch aic-clli",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.aic-clli`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 546.6429176330566,
        "y": 3188.1039962768555,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "7ec6f0ba.5529d8"
            ]
        ]
    },
    {
        "id": "7ec6f0ba.5529d8",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 694.7857513427734,
        "y": 3188.103979110718,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "5c62b00e.a7cd48"
            ]
        ]
    },
    {
        "id": "30224228.963f36",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-invariant-uuid'\n  value='`$db.vf-model.invariant-uuid`' />\n",
        "comments": "",
        "x": 973.0954627990723,
        "y": 2546.9612531661987,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "f5318147.69e14",
        "type": "for",
        "name": "for each l3-network",
        "xml": "<for index='db-network-index' start='0' end='`$aai.l3-network.l3-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1433.2145919799805,
        "y": 4135.984929084778,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "852f0b12.336648"
            ]
        ]
    },
    {
        "id": "b772b2db.6bf188",
        "type": "switchNode",
        "name": "switch orchestration-status",
        "xml": "<switch test='`$aai.l3-network.l3-network[$db-network-index].orchestration-status`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1851.7857627868652,
        "y": 4070.556393623352,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "2013144f.4b7fd4",
                "bd45a651.d4fc18",
                "6b197918.4b35",
                "d8961e04.47a09",
                "d20d55e5.845528"
            ]
        ]
    },
    {
        "id": "2013144f.4b7fd4",
        "type": "outcome",
        "name": "Pending Delete",
        "xml": "<outcome value='Pending Delete'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2092.4526329040527,
        "y": 4112.222897529602,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "65cc69a1.7d4018"
            ]
        ]
    },
    {
        "id": "bd45a651.d4fc18",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2065.309772491455,
        "y": 4163.222878456116,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "9c0a541e.0b30c8"
            ]
        ]
    },
    {
        "id": "81eba499.0af278",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$aai.l3-network.l3-network[$db-network-index].relationship-list.relationship[$db-rel-index].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2601.0240745544434,
        "y": 4108.460795402527,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "65278a7b.2864d4",
                "29d3dc98.16bcd4"
            ]
        ]
    },
    {
        "id": "9c0a541e.0b30c8",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='db-rel-index' start='0' end='`$aai.l3-network.l3-network[$db-network-index].relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2235.309684753418,
        "y": 4162.794255256653,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "e8b88764.0e454"
            ]
        ]
    },
    {
        "id": "65278a7b.2864d4",
        "type": "outcome",
        "name": "cloud-region",
        "xml": "<outcome value='cloud-region'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2775.309860229492,
        "y": 4131.365619659424,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "bfe4f75a.234cc8"
            ]
        ]
    },
    {
        "id": "bfe4f75a.234cc8",
        "type": "for",
        "name": "for each relationship data",
        "xml": "<for silentFailure='true' index='db-data-index' start='0' end='`$aai.l3-network.l3-network[$db-network-index].relationship-list.relationship[$db-rel-index].relationship-data_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2972.4525604248047,
        "y": 4131.794087409973,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "9def1818.13c9f8"
            ]
        ]
    },
    {
        "id": "9def1818.13c9f8",
        "type": "switchNode",
        "name": "switch relationship-key",
        "xml": "<switch test='`$aai.l3-network.l3-network[$db-network-index].relationship-list.relationship[$db-rel-index].relationship-data[$db-data-index].relationship-key`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3203.881160736084,
        "y": 4131.365462303162,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "29799bf8.7888e4"
            ]
        ]
    },
    {
        "id": "29799bf8.7888e4",
        "type": "outcome",
        "name": "cloud-region.cloud-region-id",
        "xml": "<outcome value='cloud-region.cloud-region-id'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3445.309726715088,
        "y": 4131.365558624268,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "a1567e58.8a3128"
            ]
        ]
    },
    {
        "id": "a1567e58.8a3128",
        "type": "switchNode",
        "name": "switch relationship-value == cloud-region-id",
        "xml": "<switch test='`$aai.l3-network.l3-network[$db-network-index].relationship-list.relationship[$db-rel-index].relationship-data[$db-data-index].relationship-value == $vnf-topology-operation-input.vnf-request-input.aic-cloud-region`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3749.595645904541,
        "y": 4131.22261428833,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "7b8c98d4.2676d8"
            ]
        ]
    },
    {
        "id": "7b8c98d4.2676d8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3454.5957832336426,
        "y": 4248.865568161011,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "393f0cf4.4aabc4"
            ]
        ]
    },
    {
        "id": "c7e3943d.2b1af",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1269.4287643432617,
        "y": 4067.270573616028,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "f5318147.69e14",
                "16ed0d4.c25bbf3"
            ]
        ]
    },
    {
        "id": "e1eddf21.903d78",
        "type": "set",
        "name": "set l3-network-id = -1",
        "xml": "<set>\n<parameter name='l3-network-id' value='-1' />\n",
        "comments": "",
        "x": 1313.7621231079102,
        "y": 3939.175227165222,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "393f0cf4.4aabc4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3600.4287605285645,
        "y": 4248.341676712036,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "4729b379.1be23c",
                "54222992.1960d8",
                "5189f56d.e57b74"
            ]
        ]
    },
    {
        "id": "4729b379.1be23c",
        "type": "set",
        "name": "set l3-network-id = this l3-network",
        "xml": "<set>\n<parameter name='l3-network-id' value='`$aai.l3-network.l3-network[$db-network-index].network-id`' />\n",
        "comments": "",
        "x": 3835.666763305664,
        "y": 4210.484645843506,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "886b4211.4bd9a",
        "type": "switchNode",
        "name": "switch l3-network-id",
        "xml": "<switch test='`$l3-network-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1310.7620468139648,
        "y": 4262.842268943787,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "74e3a542.ce5c34"
            ]
        ]
    },
    {
        "id": "74e3a542.ce5c34",
        "type": "outcome",
        "name": "-1",
        "xml": "<outcome value='-1'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1480.7619972229004,
        "y": 4262.842024803162,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "c374836e.37fed8"
            ]
        ]
    },
    {
        "id": "d4235437.829c38",
        "type": "switchNode",
        "name": "switch input model-invariant-uuid",
        "xml": "<switch test='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-invariant-uuid`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 616.9525375366211,
        "y": 2569.7856969833374,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "ff6622a4.df1be",
                "cb85aa4.8fd2d58"
            ]
        ]
    },
    {
        "id": "ff6622a4.df1be",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 822.6192092895508,
        "y": 2546.9286603927612,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "30224228.963f36"
            ]
        ]
    },
    {
        "id": "cb85aa4.8fd2d58",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 824.0478057861328,
        "y": 2591.2142515182495,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "5a4f9595.634e9c"
            ]
        ]
    },
    {
        "id": "5a4f9595.634e9c",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-invariant-uuid'\n  value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-invariant-uuid`' />\n",
        "comments": "",
        "x": 978.3335418701172,
        "y": 2590.6428236961365,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "1a70dac.17cd8a5",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-uuid'\n  value='`$db.vf-model.uuid`' />\n",
        "comments": "",
        "x": 974.0477333068848,
        "y": 2635.4999294281006,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "d7771a1c.3c6348",
        "type": "switchNode",
        "name": "switch input model-uuid",
        "xml": "<switch test='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-uuid`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 589.5715560913086,
        "y": 2658.3244342803955,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "c16c7be1.296e98",
                "37c94a54.90c536"
            ]
        ]
    },
    {
        "id": "c16c7be1.296e98",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 823.5715293884277,
        "y": 2635.467366218567,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "1a70dac.17cd8a5"
            ]
        ]
    },
    {
        "id": "37c94a54.90c536",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 825.0001258850098,
        "y": 2679.752957344055,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "857b4df6.43f238"
            ]
        ]
    },
    {
        "id": "857b4df6.43f238",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-uuid'\n  value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-uuid`' />\n",
        "comments": "",
        "x": 979.2858619689941,
        "y": 2679.181529521942,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "2709bb13.2feecc",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-version'\n  value='`$db.vf-model.version`' />\n",
        "comments": "",
        "x": 971.1906661987305,
        "y": 2724.3571367263794,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "6a3932df.a191e4",
        "type": "switchNode",
        "name": "switch input model-version",
        "xml": "<switch test='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-version`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 597.714427947998,
        "y": 2747.1815814971924,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "cc5bd4f7.75a8d",
                "d224df1c.f2e0d8"
            ]
        ]
    },
    {
        "id": "cc5bd4f7.75a8d",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 820.714412689209,
        "y": 2724.324543952942,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "2709bb13.2feecc"
            ]
        ]
    },
    {
        "id": "d224df1c.f2e0d8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 822.143009185791,
        "y": 2768.61013507843,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "8204943d.4c85a"
            ]
        ]
    },
    {
        "id": "8204943d.4c85a",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-version'\n  value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-version`' />\n",
        "comments": "",
        "x": 976.4287452697754,
        "y": 2768.038707256317,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "1f9db65f.71417a",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-name'\n  value='`$db.vf-model.name`' />\n",
        "comments": "",
        "x": 971.1906661987305,
        "y": 2811.4999589920044,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "ba43d064.2bf358",
        "type": "switchNode",
        "name": "switch input model-name",
        "xml": "<switch test='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 592.714427947998,
        "y": 2834.3244037628174,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "e920eacf.c85db",
                "62906e0a.a907e"
            ]
        ]
    },
    {
        "id": "e920eacf.c85db",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 820.714412689209,
        "y": 2811.467366218567,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "1f9db65f.71417a"
            ]
        ]
    },
    {
        "id": "62906e0a.a907e",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 822.143009185791,
        "y": 2855.752957344055,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "ced1f56b.7c6248"
            ]
        ]
    },
    {
        "id": "ced1f56b.7c6248",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-name'\n  value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-name`' />\n",
        "comments": "",
        "x": 976.4287452697754,
        "y": 2855.181529521942,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "65cc69a1.7d4018",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2245.6667251586914,
        "y": 4112.999774932861,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "d20d55e5.845528",
        "type": "outcome",
        "name": "PendingDelete",
        "xml": "<outcome value='PendingDelete'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2090.333366394043,
        "y": 4067.999689102173,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "b98d1a52.3774"
            ]
        ]
    },
    {
        "id": "b98d1a52.3774",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2245.5474586486816,
        "y": 4068.776566505432,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "d8961e04.47a09",
        "type": "outcome",
        "name": "Pending Create",
        "xml": "<outcome value='Pending Create'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2092.333366394043,
        "y": 4024.666193008423,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "4552f1d0.132aa"
            ]
        ]
    },
    {
        "id": "4552f1d0.132aa",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2245.5474586486816,
        "y": 4025.443070411682,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "6b197918.4b35",
        "type": "outcome",
        "name": "PendingCreate",
        "xml": "<outcome value='PendingCreate'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2092.333366394043,
        "y": 3981.332941055298,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "1c2107f2.1dd77"
            ]
        ]
    },
    {
        "id": "1c2107f2.1dd77",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2245.5474586486816,
        "y": 3982.109818458557,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "5bf4954f.7a431c",
        "type": "for",
        "name": "for each A&AI subnet",
        "xml": "<for index='subnet-index' start='0' end='`$aai.l3-network.l3-network[$db-network-index].subnets.subnet_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1778.7143936157227,
        "y": 4402.047110080719,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "cefc1963.652428"
            ]
        ]
    },
    {
        "id": "48890473.4cc4e4",
        "type": "set",
        "name": "set subnet_length",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].subnets-data.subnet-data_length'\n   value='`$aai.l3-network.l3-network[$db-network-index].subnets.subnet_length`' />\n",
        "comments": "",
        "x": 1767.380958557129,
        "y": 4447.04719209671,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "54b8c442.c1469c",
        "type": "set",
        "name": "set availability-zones.max-count and length",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.availability-zones.max-count'\n   value='`$db.vf-model.avail-zone-max-count`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.availability-zones.availability-zone_length'\n   value='`$aai.cloud-region.availability-zones.availability-zone_length`' />\n",
        "comments": "",
        "x": 553.0001564025879,
        "y": 5646.547995567322,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "f4822626.6784a",
        "type": "set",
        "name": "set vnf-name",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.vnf-name'\n   value='`$tmp.vnf-name`' />\n",
        "comments": "",
        "x": 553.8333511352539,
        "y": 2503.8334608078003,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "c0f7e6fd.82944",
        "type": "save",
        "name": "update generic-vnf",
        "xml": "<update plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"generic-vnf\"\n   key=\"generic-vnf.vnf-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.vnf-id\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"vnf-name\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.vnf-name`\" />\n<parameter name=\"prov-status\" value=\"PREPROV\" />\n<!-- <parameter name=\"operational-status\" value=\"out-of-service-path\" /> -->\n<parameter name=\"equipment-role\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.nf-role`\" />\n<parameter name=\"model-invariant-id\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-invariant-uuid`\" />\n<parameter name=\"model-version-id\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-uuid`\" />\n<parameter name=\"model-customization-id\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-customization-uuid`\" />\n<parameter name=\"in-maint\" value=\"true\" />\n<parameter name=\"selflink\" value=\"`$vnf-object-path`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 473.33342361450195,
        "y": 5856.213758468628,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "7a955a19.a2beec",
                "8245dddc.98b7b8"
            ]
        ]
    },
    {
        "id": "b69c7bea.5b8f98",
        "type": "set",
        "name": "set vnf-object-path",
        "xml": "<set>\n<parameter name='vnf-object-path'\n value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vnf-topology-operation-input.service-information.service-instance-id\n + '/service-data/vnfs/vnf/'\n + $service-data.vnfs.vnf[$vnf-index].vnf-id\n + '/vnf-data/vnf-topology/'`\"/>\n<parameter name='service-object-path'\n value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vnf-topology-operation-input.service-information.service-instance-id\n + '/service-data/service-topology/'`\"/>\n",
        "comments": "",
        "x": 473.3334617614746,
        "y": 5786.214241027832,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "779ef85a.752e58",
        "type": "set",
        "name": "set vnf-id",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-id'\n   value='`$vnf-topology-operation-input.vnf-information.vnf-id`' />\n",
        "comments": "",
        "x": 542.1666946411133,
        "y": 2455.5000038146973,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "b8b61871.289a38",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/bgb-vnf.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 447.8454360961914,
        "y": 6422.226758003235,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "70b9d92d.cfcaf",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1209.3574676513672,
        "y": 5679.833315849304,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "e0daa6a.dcf31d8"
            ]
        ]
    },
    {
        "id": "8019290f.d9e57",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1217.928897857666,
        "y": 5724.119029045105,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "ca1e10f7.f5af08"
            ]
        ]
    },
    {
        "id": "7a955a19.a2beec",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 647.6907539367676,
        "y": 5834.833353996277,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "2e13fdd8.c6ad92"
            ]
        ]
    },
    {
        "id": "8245dddc.98b7b8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 656.2621841430664,
        "y": 5879.119067192078,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "eba4fe8c.3ea98"
            ]
        ]
    },
    {
        "id": "f7b6f1fc.97c858",
        "type": "set",
        "name": "set model-customization-uuid",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-customization-uuid'\n  value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-customization-uuid`' />\n",
        "comments": "",
        "x": 605.5000152587891,
        "y": 2907.1666078567505,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "8379176c.854518",
        "type": "execute",
        "name": "split related-link",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split'>\n   <parameter name='ctx_memory_result_key' value='aai-uid-split' />\n   <parameter name='original_string' value='`$aai.cloud-region.relationship-list.relationship[$idx].related-link`' />\n   <parameter name='regex' value='/' />\n",
        "comments": "",
        "outputs": 1,
        "x": 1427.6903991699219,
        "y": 3027.1517295837402,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "8b3ae97b.251a1",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1213.3571014404297,
        "y": 3073.8185176849365,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "8379176c.854518",
                "d417f4d3.21848",
                "7176fd8c.2fbd64"
            ]
        ]
    },
    {
        "id": "7176fd8c.2fbd64",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 1397.357063293457,
        "y": 3117.1518144607544,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "87ffb6ef.f80298",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 785.0000953674316,
        "y": 5557.628111839294,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "bc615b55.663bf",
                "54f75326.6021ac"
            ]
        ]
    },
    {
        "id": "54f75326.6021ac",
        "type": "save",
        "name": "save generic-vnf availability-zone relationship",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"generic-vnf:relationship-list\"\n   key=\"generic-vnf.vnf-id = $service-data.vnfs.vnf[$vnf-index].vnf-id\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"availability-zone\" />\n    <parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"cloud-region.cloud-owner\" />\n    <parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$prop.cloud-region.cloud-owner`\" />\n    <parameter name=\"relationship-list.relationship[0].relationship-data[1].relationship-key\" value=\"cloud-region.cloud-region-id\" />\n    <parameter name=\"relationship-list.relationship[0].relationship-data[1].relationship-value\" value=\"`$vnf-topology-operation-input.vnf-request-input.aic-cloud-region`\" />\n    <parameter name=\"relationship-list.relationship[0].relationship-data[2].relationship-key\" value=\"availability-zone.availability-zone-name\" />\n    <parameter name=\"relationship-list.relationship[0].relationship-data[2].relationship-value\" value=\"`$aai.cloud-region.availability-zones.availability-zone[$idx].availability-zone-name`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1078.3334846496582,
        "y": 5580.9615659713745,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "43faed04.0b6094",
                "82cc2525.32135"
            ]
        ]
    },
    {
        "id": "43faed04.0b6094",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1343.1667366027832,
        "y": 5561.833388328552,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "662f403a.490a78"
            ]
        ]
    },
    {
        "id": "82cc2525.32135",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1351.738166809082,
        "y": 5606.119101524353,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "bf452558.9a9008"
            ]
        ]
    },
    {
        "id": "c3672ff4.a17f",
        "type": "set",
        "name": "set mapping rows to 0",
        "xml": "<set>\n<parameter name='db.vf-network-role-mapping_length' value='0' />\n",
        "comments": "",
        "x": 1164.3094863891602,
        "y": 3321.437578201294,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "d350e16f.3e261",
        "type": "switchNode",
        "name": "switch AAI availability-zone_length",
        "xml": "<switch test='`$aai.cloud-region.availability-zones.availability-zone_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 525.7143821716309,
        "y": 5461.437698364258,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "c37c195.a21eb68"
            ]
        ]
    },
    {
        "id": "c37c195.a21eb68",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 744.2858009338379,
        "y": 5461.009107589722,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "8b2d772a.c6035"
            ]
        ]
    },
    {
        "id": "609ae975.3eddb8",
        "type": "set",
        "name": "set availability-zone_length to 0",
        "xml": "<set>\n<parameter name='aai.cloud-region.availability-zones.availability-zone_length' value='0' />\n",
        "comments": "",
        "x": 1345.714443206787,
        "y": 5479.580345153809,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "8b2d772a.c6035",
        "type": "switchNode",
        "name": "switch AZ max count > 0",
        "xml": "<switch test='`$db.vf-model.avail-zone-max-count &gt; 0`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 932.8572731018066,
        "y": 5461.43741941452,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "e3d0a053.f7b56",
                "cc1abe7a.9fa1e8"
            ]
        ]
    },
    {
        "id": "e3d0a053.f7b56",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1135.7143802642822,
        "y": 5435.723169326782,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "cf09642d.dcd6b"
            ]
        ]
    },
    {
        "id": "cc1abe7a.9fa1e8",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1137.1430015563965,
        "y": 5480.008916854858,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "609ae975.3eddb8"
            ]
        ]
    },
    {
        "id": "b0ee28b4.7573a8",
        "type": "execute",
        "name": "execute PropertiesNode",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
        "comments": "",
        "outputs": 1,
        "x": 563.5357437133789,
        "y": 240.4255886077881,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "241fabfe.69fa2c",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 770.6190414428711,
        "y": 1905.2470073699951,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "f0c5497d.1fa168"
            ]
        ]
    },
    {
        "id": "15d4f6ac.d5e021",
        "type": "switchNode",
        "name": "switch ecomp-naming",
        "xml": "<switch test='`$db.vf-model.ecomp-generated-naming`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1148.2384300231934,
        "y": 1805.961443901062,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "711480e9.dbef28",
                "2199667e.3808aa",
                "eaee02d.8418f"
            ]
        ]
    },
    {
        "id": "f0c5497d.1fa168",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 916.3335418701172,
        "y": 1905.247124671936,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "15d4f6ac.d5e021",
                "319f96a9.08ead2"
            ]
        ]
    },
    {
        "id": "2199667e.3808aa",
        "type": "outcome",
        "name": "N",
        "xml": "<outcome value='N'>",
        "comments": "",
        "outputs": 1,
        "x": 1334.6668167114258,
        "y": 1806.4375705718994,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "ad1b7833.2d89a"
            ]
        ]
    },
    {
        "id": "711480e9.dbef28",
        "type": "outcome",
        "name": "Y",
        "xml": "<outcome value='Y'>",
        "comments": "",
        "outputs": 1,
        "x": 1334.6668090820312,
        "y": 1765.0090246200562,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "72fee52.6ade19c"
            ]
        ]
    },
    {
        "id": "eaee02d.8418f",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1334.6667556762695,
        "y": 1849.2947025299072,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "ad1b7833.2d89a"
            ]
        ]
    },
    {
        "id": "72fee52.6ade19c",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1471.809726715088,
        "y": 1765.151891708374,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "f80604c.1fec1f8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 755.8097686767578,
        "y": 2259.866183280945,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "1d97b077.4371"
            ]
        ]
    },
    {
        "id": "1d97b077.4371",
        "type": "set",
        "name": "set tmp.vnf-name",
        "xml": "<set>\n<parameter name='tmp.vnf-name' value=\"`$vnf-topology-operation-input.vnf-information.vnf-name`\" />\n",
        "comments": "",
        "x": 921.5717315673828,
        "y": 2258.7234535217285,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "2b8a3d28.12eada",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:generate-unique-name",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='generate-unique-name' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1806.643009185791,
        "y": 1955.0089440345764,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "59b40ce2.443a14",
                "b8f390d9.9644b"
            ]
        ]
    },
    {
        "id": "59b40ce2.443a14",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2083.7858123779297,
        "y": 1928.5804772377014,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "841445e5.523fe"
            ]
        ]
    },
    {
        "id": "b8f390d9.9644b",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2088.5475578308105,
        "y": 1973.9613881111145,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "c9312147.c268c8"
            ]
        ]
    },
    {
        "id": "cdd8e1f0.243448",
        "type": "set",
        "name": "set variables for generating unique name",
        "xml": "<set>\n<parameter name='generate-unique-name-input.action' value='ASSIGN' />\n<parameter name='generate-unique-name-input.context-id' value='`$vnf-topology-operation-input.vnf-information.vnf-id`' />\n<parameter name='generate-unique-name-input.index-table-name' value='VNF_NAME_INDEX' />\n<parameter name='generate-unique-name-input.index-table-prefix-column' value='vnf_name_prefix' />\n<parameter name='generate-unique-name-input.name-table-type' value='VNF_INSTANCE' />\n<parameter name='generate-unique-name-input.prefix' value=\"`'z' + $vnf-topology-operation-input.vnf-request-input.aic-cloud-region + $db.vf-model.nf-code`\" />\n",
        "comments": "",
        "x": 1761.6432609558105,
        "y": 1906.1042637825012,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "c9312147.c268c8",
        "type": "set",
        "name": "set tmp.vnf-name to generated name",
        "xml": "<set>\n<parameter name='tmp.vnf-name' value='`$generate-unique-name-output.generated-name`' />\n",
        "comments": "",
        "x": 2311.4519538879395,
        "y": 1973.4374632835388,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "319f96a9.08ead2",
        "type": "switchNode",
        "name": "switch naming-policy",
        "xml": "<switch test='`$db.vf-model.naming-policy`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1146.024013519287,
        "y": 2014.2470607757568,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "8a5a017e.752c18",
                "a132177.4ea1768"
            ]
        ]
    },
    {
        "id": "8a5a017e.752c18",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 1336.0239448547363,
        "y": 1935.675615310669,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "bffcbc52.3223c"
            ]
        ]
    },
    {
        "id": "a132177.4ea1768",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1336.2621841430664,
        "y": 2063.056559562683,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "a0656517.5bca38"
            ]
        ]
    },
    {
        "id": "bffcbc52.3223c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1488.8812141418457,
        "y": 1934.2470817565918,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "cdd8e1f0.243448",
                "2b8a3d28.12eada"
            ]
        ]
    },
    {
        "id": "7998869c.3c0bd",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:naming-policy-generate-name",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='naming-policy-generate-name' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1827.9291381835938,
        "y": 2078.770941257477,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "57af4cbf.e1b474",
                "d28171a6.a4093"
            ]
        ]
    },
    {
        "id": "a0656517.5bca38",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1490.786033630371,
        "y": 2063.056559562683,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "db8c85e7.7b71c8",
                "7998869c.3c0bd"
            ]
        ]
    },
    {
        "id": "db8c85e7.7b71c8",
        "type": "set",
        "name": "set variables for generating name",
        "xml": "<set>\n<parameter name='naming-policy-generate-name-input.policy-instance-name' value='`$db.vf-model.naming-policy`' />\n<parameter name='naming-policy-generate-name-input.naming-type' value='VNF' />\n<parameter name='naming-policy-generate-name-input.context-id' value='`$vnf-topology-operation-input.vnf-information.vnf-id`' />\n<parameter name='naming-policy-generate-name-input.action' value='ASSIGN' />\n<parameter name='naming-policy-generate-name-input.query-parameter' value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-customization-uuid`' />",
        "comments": "",
        "x": 1737.929054260254,
        "y": 2033.05659532547,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "b52c81d4.1a1f08",
        "type": "set",
        "name": "set tmp.vnf-name to generated name",
        "xml": "<set>\n<parameter name='tmp.vnf-name' value='`$naming-policy-generate-name-output.vnf-name`' />\n",
        "comments": "",
        "x": 2387.7861099243164,
        "y": 2098.770751953125,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "e74586be.b8e6f8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1954.0475997924805,
        "y": 6545.819259643555,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "fcbc941a.75b4b8",
                "5e0caa6d.e903f4",
                "fef2b74e.207f2",
                "ae834aa6.55d6c"
            ]
        ]
    },
    {
        "id": "57af4cbf.e1b474",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2126.095184326172,
        "y": 2053.6994485855103,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "95c2eab0.a4313"
            ]
        ]
    },
    {
        "id": "d28171a6.a4093",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2130.8569297790527,
        "y": 2099.0803594589233,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "b52c81d4.1a1f08"
            ]
        ]
    },
    {
        "id": "1677d157.c65a77",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 781.3332824707031,
        "y": 1408.666666984558,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "e4f063d3.c2f668",
                "d72cd4af.95669"
            ]
        ]
    },
    {
        "id": "93239a74.eab46",
        "type": "for",
        "name": "for each instance group id",
        "xml": "<for silentFailure='true' index='inst-group-index' start='0' end='`$vnf-topology-operation-input.vnf-request-input.vnf-network-instance-group-ids_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 564.6666297912598,
        "y": 1409.333312034607,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "1677d157.c65a77"
            ]
        ]
    },
    {
        "id": "e4f063d3.c2f668",
        "type": "get-resource",
        "name": "get-resource instance-group",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"instance-group\" \n\t\tkey=\"instance-group.id = $vnf-topology-operation-input.vnf-request-input.vnf-network-instance-group-ids[$inst-group-index].vnf-network-instance-group-id\"\n        pfx='aai.instance-group' local-only='false' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1009.3333206176758,
        "y": 1340.3334255218506,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "2d4e4bf5.37f93c",
                "27b813e1.4ee81c"
            ]
        ]
    },
    {
        "id": "27b813e1.4ee81c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1226.912612915039,
        "y": 1371.8174781799316,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "4e3d9218.a643dc"
            ]
        ]
    },
    {
        "id": "2d4e4bf5.37f93c",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1235.8414459228516,
        "y": 1308.4366302490234,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "961d4497.b1f5b"
            ]
        ]
    },
    {
        "id": "d72cd4af.95669",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for index='rel-index' start='0' end='`$aai.instance-group.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 986.3332977294922,
        "y": 1480.3333644866943,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "b3fe8ef5.7f7b08"
            ]
        ]
    },
    {
        "id": "b3fe8ef5.7f7b08",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$aai.instance-group.relationship-list.relationship[$rel-index].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1199.6667404174805,
        "y": 1480.333303451538,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "6c3837b.20f1348"
            ]
        ]
    },
    {
        "id": "6c3837b.20f1348",
        "type": "outcome",
        "name": "collection",
        "xml": "<outcome value='collection'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1371.3333778381348,
        "y": 1480.3333854675293,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "d9f8f3cd.64b7b8"
            ]
        ]
    },
    {
        "id": "d9f8f3cd.64b7b8",
        "type": "get-resource",
        "name": "get-resource collection",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"collection\" \n\t\tkey=\"collection.collection-id = $aai.instance-group.relationship-list.relationship[$rel-index].relationship-data[0].relationship-value\"\n        pfx='aai.collection' local-only='false' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1591.3332824707031,
        "y": 1478.6666469573975,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "f170a79a.1b1ac",
                "9189a100.b52d78",
                "e1621aae.8a7778"
            ]
        ]
    },
    {
        "id": "9189a100.b52d78",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1805.579475402832,
        "y": 1430.1508359909058,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "966a3052.be8b78"
            ]
        ]
    },
    {
        "id": "f170a79a.1b1ac",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1814.508071899414,
        "y": 1388.4365692138672,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "e5dc44b5.d3f17"
            ]
        ]
    },
    {
        "id": "e1621aae.8a7778",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1824.666790008545,
        "y": 1591.9999542236328,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "23c6675b.1dfc4"
            ]
        ]
    },
    {
        "id": "23c6675b.1dfc4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1977.9999313354492,
        "y": 1591.3332500457764,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "9e02f3b5.206e98",
                "8992318d.0d7de",
                "748a871e.ccc29",
                "22797e19.563542",
                "1a7acef5.2220b1"
            ]
        ]
    },
    {
        "id": "9e02f3b5.206e98",
        "type": "for",
        "name": "for each network-instance-group",
        "xml": "<for silentFailure='true' index='nig-index' start='0' end='`$service-data.network-instance-groups.network-instance-group_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2290.619071960449,
        "y": 1540.5715045928955,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "ff455704.dd71a8"
            ]
        ]
    },
    {
        "id": "8992318d.0d7de",
        "type": "set",
        "name": "set found-network-instance-group to false",
        "xml": "<set>\n<parameter name='found-network-instance-group' value='false' />\n",
        "comments": "",
        "x": 2320.6190338134766,
        "y": 1493.9048767089844,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "ff455704.dd71a8",
        "type": "switchNode",
        "name": "network-instance-group-id matches?",
        "xml": "<switch test='`$vnf-topology-operation-input.vnf-request-input.vnf-network-instance-group-ids[$inst-group-index].vnf-network-instance-group-id\n  == $service-data.network-instance-groups.network-instance-group[$nig-index].network-instance-group-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2607.2855834960938,
        "y": 1540.5715036392212,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "add4fb90.7b64c"
            ]
        ]
    },
    {
        "id": "add4fb90.7b64c",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2828.952362060547,
        "y": 1540.5714683532715,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "c85d2956.aba338"
            ]
        ]
    },
    {
        "id": "c85d2956.aba338",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2958.952392578125,
        "y": 1540.5715446472168,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "40850f47.7a7e78",
                "52b6fff4.bf5a48"
            ]
        ]
    },
    {
        "id": "40850f47.7a7e78",
        "type": "set",
        "name": "set found-network-instance-group to true",
        "xml": "<set>\n<parameter name='found-network-instance-group' value='true' />\n",
        "comments": "",
        "x": 3232.285758972168,
        "y": 1515.5715236663818,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "52b6fff4.bf5a48",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 3125.619373321533,
        "y": 1563.904893875122,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "748a871e.ccc29",
        "type": "switchNode",
        "name": "switch found-network-instance-group",
        "xml": "<switch test='`$found-network-instance-group`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2302.285690307617,
        "y": 1590.5714855194092,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "88c71dfb.666f4"
            ]
        ]
    },
    {
        "id": "88c71dfb.666f4",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2523.952537536621,
        "y": 1590.5715079307556,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "19fba1ff.3d7996"
            ]
        ]
    },
    {
        "id": "a88c2f3d.bf4fa8",
        "type": "set",
        "name": "set tmp.vnf-network-collection_length to 0",
        "xml": "<set>\n<parameter name='tmp.vnf-network-collection_length' value='0' />\n",
        "comments": "",
        "x": 612.9999694824219,
        "y": 1360.3334436416626,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "22797e19.563542",
        "type": "set",
        "name": "set vnf-network-collection data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-network-collections.vnf-network-collection[$tmp.vnf-network-collection_length].network-instance-group-function'\n  value='`$aai.instance-group.instance-group-function`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-network-collections.vnf-network-collection[$tmp.vnf-network-collection_length].network-instance-group-id'\n  value='`$aai.instance-group.id`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-network-collections.vnf-network-collection[$tmp.vnf-network-collection_length].network-collection-service-instance-id'\n  value='`$service-data.network-instance-groups.network-instance-group[$nig-index].service-instance-id`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-network-collections.vnf-network-collection[$tmp.vnf-network-collection_length].network-collection-customization-uuid'\n  value='`$aai.collection.collection-customization-id`' />\n",
        "comments": "",
        "x": 2282.2860145568848,
        "y": 1638.904821395874,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "1a7acef5.2220b1",
        "type": "set",
        "name": "increment tmp.vnf-network-collection_length",
        "xml": "<set>\n<parameter name='tmp.vnf-network-collection_length' value='`$tmp.vnf-network-collection_length + 1`' />\n",
        "comments": "",
        "x": 2323.95272064209,
        "y": 1685.5714893341064,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "3e36f71.f2f0b88",
        "type": "set",
        "name": "set vnf-network-collection_length",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-network-collections.vnf-network-collection_length'\n  value='`$tmp.vnf-network-collection_length`' />\n",
        "comments": "",
        "x": 592.1666641235352,
        "y": 1617.8333930969238,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "6e06d5a1.039e24",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 710.0000457763672,
        "y": 5950.80961894989,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "15f88503.d536cb"
            ]
        ]
    },
    {
        "id": "b3a3b6d8.b3b1a",
        "type": "for",
        "name": "for each instance group id",
        "xml": "<for silentFailure='true' index='inst-group-index' start='0' end='`$vnf-topology-operation-input.vnf-request-input.vnf-network-instance-group-ids_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 493.3333930969238,
        "y": 5951.476263999939,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "6e06d5a1.039e24"
            ]
        ]
    },
    {
        "id": "15f88503.d536cb",
        "type": "save",
        "name": "save generic-vnf relationship to instance-group",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"generic-vnf:relationship-list\"\n   key=\"generic-vnf.vnf-id = $vnf-topology-operation-input.vnf-information.vnf-id\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"instance-group\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/instance-groups/instance-group/'\n        + $vnf-topology-operation-input.vnf-request-input.vnf-network-instance-group-ids[$inst-group-index].vnf-network-instance-group-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 993.3333740234375,
        "y": 5950.333299636841,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "ab9ecf4.f4a9ab",
                "7760b70d.6ce06"
            ]
        ]
    },
    {
        "id": "ab9ecf4.f4a9ab",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1252.6905975341797,
        "y": 5927.285715103149,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "1ce1d0e3.b09f8f"
            ]
        ]
    },
    {
        "id": "7760b70d.6ce06",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1261.2620277404785,
        "y": 5971.57142829895,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "85592822.f54ce"
            ]
        ]
    },
    {
        "id": "5621d64.66c8228",
        "type": "switchNode",
        "name": "switch subnet_length",
        "xml": "<switch test='`$aai.l3-network.l3-network[$db-network-index].subnets.subnet_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1314.9047927856445,
        "y": 4383.428667068481,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "590fbfa.56ffd4",
                "55fd7e77.380188",
                "5c002b3b.bf14dc"
            ]
        ]
    },
    {
        "id": "590fbfa.56ffd4",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 1487.7619552612305,
        "y": 4346.285726547241,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "c908a6ad.557b18"
            ]
        ]
    },
    {
        "id": "55fd7e77.380188",
        "type": "outcome",
        "name": "0",
        "xml": "<outcome value='0'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1489.1905250549316,
        "y": 4384.856889724731,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "c908a6ad.557b18"
            ]
        ]
    },
    {
        "id": "5c002b3b.bf14dc",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1487.7619895935059,
        "y": 4423.428281784058,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "42d5e987.8ca46"
            ]
        ]
    },
    {
        "id": "42d5e987.8ca46",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1609.190544128418,
        "y": 4423.428548812866,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "5bf4954f.7a431c",
                "48890473.4cc4e4"
            ]
        ]
    },
    {
        "id": "c908a6ad.557b18",
        "type": "set",
        "name": "set subnet_length to 0",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].subnets-data.subnet-data_length'\n   value='0' />\n",
        "comments": "",
        "x": 1680.6191482543945,
        "y": 4354.856889724731,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "525bcd69.d52c4c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 298.0793991088867,
        "y": 420.11908626556396,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "b0ee28b4.7573a8",
                "65b55bf0.e17c94",
                "c29453e1.d0b3d8",
                "3f69e8e3.cf5be8",
                "819ca24a.f2412",
                "4ce50465.9ccc0c",
                "5369940c.e48364"
            ]
        ]
    },
    {
        "id": "cefc1963.652428",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1950.3810005187988,
        "y": 4402.032744407654,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "bfb8729.d25369",
                "1546bd44.dac763",
                "c11ff570.face3",
                "b2dc37a2.39945"
            ]
        ]
    },
    {
        "id": "680457ce.355c7",
        "type": "set",
        "name": "clear aai.l3-network",
        "xml": "<set>\n<parameter name='aai.l3-network.' value='' />\n",
        "comments": "",
        "x": 1301.8095703125,
        "y": 3456.3182973861694,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "54222992.1960d8",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 3750.6663818359375,
        "y": 4302.032426834106,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "16ed0d4.c25bbf3",
        "type": "set",
        "name": "set found-network to false",
        "xml": "<set>\n<parameter name='found-network' value='false' />\n",
        "comments": "",
        "x": 1450.380973815918,
        "y": 4007.7468309402466,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "e8b88764.0e454",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2422.0952796936035,
        "y": 4162.032627105713,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "81eba499.0af278",
                "8cc5b790.718ca"
            ]
        ]
    },
    {
        "id": "8cc5b790.718ca",
        "type": "switchNode",
        "name": "switch found-network",
        "xml": "<switch test='`$found-network`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2613.523826599121,
        "y": 4192.032681465149,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "8e56c1e2.9c47b"
            ]
        ]
    },
    {
        "id": "5189f56d.e57b74",
        "type": "set",
        "name": "set found-network to true",
        "xml": "<set>\n<parameter name='found-network' value='true' />\n",
        "comments": "",
        "x": 3806.381259918213,
        "y": 4256.3181076049805,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "8e56c1e2.9c47b",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2782.095317840576,
        "y": 4192.0326108932495,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "56545bb.806fe24"
            ]
        ]
    },
    {
        "id": "56545bb.806fe24",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 2912.095386505127,
        "y": 4190.604004859924,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "852f0b12.336648",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1622.3809967041016,
        "y": 4135.746905326843,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "b772b2db.6bf188",
                "aaa6bab8.ec80f"
            ]
        ]
    },
    {
        "id": "aaa6bab8.ec80f",
        "type": "switchNode",
        "name": "switch found-network",
        "xml": "<switch test='`$found-network`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1832.3809509277344,
        "y": 4207.746788978577,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "ae15eed2.e4fa88"
            ]
        ]
    },
    {
        "id": "ae15eed2.e4fa88",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2000.9524421691895,
        "y": 4207.746718406677,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "290a5acd.b811fe"
            ]
        ]
    },
    {
        "id": "290a5acd.b811fe",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 2130.9525108337402,
        "y": 4206.318112373352,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "c11ff570.face3",
        "type": "set",
        "name": "set subnet data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].subnets-data.subnet-data[$subnet-index].ip-version'\n   value='`$tmp.ip-version`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].subnets-data.subnet-data[$subnet-index].subnet-id'\n   value='`$aai.l3-network.l3-network[$db-network-index].subnets.subnet[$subnet-index].neutron-subnet-id`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].subnets-data.subnet-data[$subnet-index].sdnc-subnet-id'\n   value='`$aai.l3-network.l3-network[$db-network-index].subnets.subnet[$subnet-index].subnet-id`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].subnets-data.subnet-data[$subnet-index].subnet-role'\n   value='`$aai.l3-network.l3-network[$db-network-index].subnets.subnet[$subnet-index].subnet-role`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].subnets-data.subnet-data[$subnet-index].subnet-name'\n   value='`$aai.l3-network.l3-network[$db-network-index].subnets.subnet[$subnet-index].subnet-name`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].subnets-data.subnet-data[$subnet-index].network-start-address'\n   value='`$aai.l3-network.l3-network[$db-network-index].subnets.subnet[$subnet-index].network-start-address`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].subnets-data.subnet-data[$subnet-index].gateway-address'\n   value='`$aai.l3-network.l3-network[$db-network-index].subnets.subnet[$subnet-index].gateway-address`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].subnets-data.subnet-data[$subnet-index].cidr-mask'\n   value='`$aai.l3-network.l3-network[$db-network-index].subnets.subnet[$subnet-index].cidr-mask`' />\n",
        "comments": "",
        "x": 2104.6667671203613,
        "y": 4432.714490890503,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "b2dc37a2.39945",
        "type": "switchNode",
        "name": "switch dhcp-enabled",
        "xml": "<switch test='`$aai.l3-network.l3-network[$db-network-index].subnets.subnet[$subnet-index].dhcp-enabled`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2119.1905479431152,
        "y": 4485.557444572449,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "cd2523f4.0b1db8",
                "2a325c94.48677c"
            ]
        ]
    },
    {
        "id": "cd2523f4.0b1db8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2282.047712598528,
        "y": 4464.1288022994995,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "5385445e.1587b4"
            ]
        ]
    },
    {
        "id": "2a325c94.48677c",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2280.6190452575684,
        "y": 4509.843228340149,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "83b7359e.e55738"
            ]
        ]
    },
    {
        "id": "5385445e.1587b4",
        "type": "set",
        "name": "set dhcp-enabled to Y",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].subnets-data.subnet-data[$subnet-index].dhcp-enabled'\n   value='Y' />\n",
        "comments": "",
        "x": 2454.9049110412598,
        "y": 4462.700198173523,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "83b7359e.e55738",
        "type": "set",
        "name": "set dhcp-enabled to N",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].subnets-data.subnet-data[$subnet-index].dhcp-enabled'\n   value='N' />\n",
        "comments": "",
        "x": 2452.047679901123,
        "y": 4509.843228340149,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "bfb8729.d25369",
        "type": "switchNode",
        "name": "switch subnet-role",
        "xml": "<switch test='`$aai.l3-network.l3-network[$db-network-index].subnets.subnet[$subnet-index].subnet-role`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2119.666717529297,
        "y": 4314.605116844177,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "b3461715.a1c54"
            ]
        ]
    },
    {
        "id": "b3461715.a1c54",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 2286.333320617676,
        "y": 4314.604768753052,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "3b809c11.157b54"
            ]
        ]
    },
    {
        "id": "3b809c11.157b54",
        "type": "set",
        "name": "set subnet-role to NONE",
        "xml": "<set>\n<parameter name='aai.l3-network.l3-network[$db-network-index].subnets.subnet[$subnet-index].subnet-role' value='NONE' />\n",
        "comments": "",
        "x": 2468.0001068115234,
        "y": 4313.93842124939,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "1546bd44.dac763",
        "type": "switchNode",
        "name": "switch ip-version",
        "xml": "<switch test='`$aai.l3-network.l3-network[$db-network-index].subnets.subnet[$subnet-index].ip-version`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2114.9050521850586,
        "y": 4379.096222877502,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "d33d7dba.02ad08",
                "9e9034a9.798778"
            ]
        ]
    },
    {
        "id": "d33d7dba.02ad08",
        "type": "outcome",
        "name": "4",
        "xml": "<outcome value='4'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2280.6191940307617,
        "y": 4360.524620056152,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "b8e9d995.95c2a8"
            ]
        ]
    },
    {
        "id": "9e9034a9.798778",
        "type": "outcome",
        "name": "6",
        "xml": "<outcome value='6'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2280.619155883789,
        "y": 4401.953363418579,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "6716e11d.548a3"
            ]
        ]
    },
    {
        "id": "b8e9d995.95c2a8",
        "type": "set",
        "name": "set tmp.ip-version to ipv4",
        "xml": "<set>\n<parameter name='tmp.ip-version' value='ipv4' />\n",
        "comments": "",
        "x": 2467.7619590759277,
        "y": 4359.667547225952,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "6716e11d.548a3",
        "type": "set",
        "name": "set tmp.ip-version to ipv6",
        "xml": "<set>\n<parameter name='tmp.ip-version' value='ipv6' />\n",
        "comments": "",
        "x": 2466.333511352539,
        "y": 4401.953365325928,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "f73eb405.e256b8",
        "type": "switchNode",
        "name": "switch network-role",
        "xml": "<switch test='`$db.vf-network-role-mapping[$role-index].network-role`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 747.3332443237305,
        "y": 4387.333273887634,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "a1e4bd7f.d5ea9",
                "a8f001ac.33558",
                "7a9134fc.396d14",
                "39a7a020.ba1f58"
            ]
        ]
    },
    {
        "id": "a1e4bd7f.d5ea9",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 915.4285087585449,
        "y": 4285.66668510437,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "c630c62f.2e4b88"
            ]
        ]
    },
    {
        "id": "a8f001ac.33558",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 913.999885559082,
        "y": 4413.999873161316,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "febef76b.d8c79"
            ]
        ]
    },
    {
        "id": "c630c62f.2e4b88",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1052.8095169067383,
        "y": 4325.42826461792,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "f1e14dbb.a2c47",
        "type": "get-resource",
        "name": "get-resource VNF_RELATED_NETWORK_ROLE",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='SELECT * from VNF_RELATED_NETWORK_ROLE where vnf_customization_uuid = $vnf-topology-operation-input.vnf-information.onap-model-information.model-customization-uuid\n    and network_role = $db.vf-network-role-mapping[$role-index].network-role'\n  pfx='db.vnf-related-network-role[]'>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1409.333339691162,
        "y": 4717.079788208008,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "3772719.a8f170e",
                "3270a935.e0fa9e"
            ]
        ]
    },
    {
        "id": "3772719.a8f170e",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1678.0000038146973,
        "y": 4547.746629714966,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "aac9396.609d348"
            ]
        ]
    },
    {
        "id": "3270a935.e0fa9e",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1681.0000343322754,
        "y": 4910.41314125061,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "bec6dac4.be5be"
            ]
        ]
    },
    {
        "id": "bec6dac4.be5be",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1847.333339691162,
        "y": 4908.412796020508,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "70df31da.fe5458",
                "10dd5c97.f83c3b",
                "93b3be63.c398e",
                "8d286d93.2f6ff",
                "ad5b3ac9.e19098",
                "8ca661f6.f5d5f8",
                "d71dcbd8.8dc7f",
                "32376f69.700f08",
                "96681242.82e6c"
            ]
        ]
    },
    {
        "id": "29d3dc98.16bcd4",
        "type": "outcome",
        "name": "service-instance",
        "xml": "<outcome value='service-instance'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2785.618808746338,
        "y": 4080.651467323303,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "4ccf1527.e6d86c"
            ]
        ]
    },
    {
        "id": "4ccf1527.e6d86c",
        "type": "for",
        "name": "for each relationship data",
        "xml": "<for silentFailure='true' index='db-data-index' start='0' end='`$aai.l3-network.l3-network[$db-network-index].relationship-list.relationship[$db-rel-index].relationship-data_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3011.0946464538574,
        "y": 4081.0800971984863,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "7aafe2ec.322514"
            ]
        ]
    },
    {
        "id": "7aafe2ec.322514",
        "type": "switchNode",
        "name": "switch relationship-key",
        "xml": "<switch test='`$aai.l3-network.l3-network[$db-network-index].relationship-list.relationship[$db-rel-index].relationship-data[$db-data-index].relationship-key`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3246.3332176208496,
        "y": 4079.413528442383,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "9d6550c4.3622f8"
            ]
        ]
    },
    {
        "id": "9d6550c4.3622f8",
        "type": "outcome",
        "name": "service-instance.service-instance-id",
        "xml": "<outcome value='service-instance.service-instance-id'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3512.761577606201,
        "y": 4079.413592338562,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "7003f69f.877238"
            ]
        ]
    },
    {
        "id": "7003f69f.877238",
        "type": "set",
        "name": "set network-service-instance-id",
        "xml": "<set>\n<parameter name='network-service-instance-id'\n  value='`$aai.l3-network.l3-network[$db-network-index].relationship-list.relationship[$db-rel-index].relationship-data[$db-data-index].relationship-value`' />\n",
        "comments": "",
        "x": 3806.3333625793457,
        "y": 4077.747007369995,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "70df31da.fe5458",
        "type": "execute",
        "name": "generate network-topology-identifier-structure url",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.network-topology-identifier-structure`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.part\"/>\n    <parameter name=\"target\" value=\"{service-instance-id}\"/>\n    <parameter name=\"replacement\" value=\"`$network-service-instance-id`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2166.6665077209473,
        "y": 4604.080429077148,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "93b3be63.c398e",
        "type": "execute",
        "name": "execute RestApiCallNode - get network-topology-identifier-structure",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.ntis-url`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='GET' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-ntis\" />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2223.666301727295,
        "y": 4707.509169578552,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "ad3ea158.a938e8"
            ]
        ]
    },
    {
        "id": "10dd5c97.f83c3b",
        "type": "execute",
        "name": "generate network-topology-identifier-structure url (part 2)",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.part`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.ntis-url\"/>\n    <parameter name=\"target\" value=\"{network-id}\"/>\n    <parameter name=\"replacement\" value=\"`$l3-network-id`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2188.333095550537,
        "y": 4647.413772583008,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "aac69396.6ddb18",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/bgb-vnfa.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 493.6667137145996,
        "y": 4554.079788208008,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "ad3ea158.a938e8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2552.775489807129,
        "y": 4707.259647369385,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "3ecadd51.2a79da"
            ]
        ]
    },
    {
        "id": "8d286d93.2f6ff",
        "type": "set",
        "name": "set is-trunked and segmentation-id in vnf-network",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].is-trunked'\n    value='`$mdsal-ntis.network-topology-identifier-structure.is-trunked`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].segmentation-id'\n    value='`$mdsal-ntis.network-topology-identifier-structure.segmentation-id`' />\n    ",
        "comments": "",
        "x": 2166.333324432373,
        "y": 4767.746793746948,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "8ca661f6.f5d5f8",
        "type": "save",
        "name": "custom query: get owning entity",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n      resource=\"custom-query\"\n      key=\"format = 'resource'\"\n      force=\"true\"\n      local-only=\"false\"\n      pfx=\"tmp.AnAI-data.oe\">\n<parameter name=\"start[0]\" value=\"`'nodes/service-instances/service-instance?service-instance-id=' + $network-service-instance-id `\" />\n<parameter name=\"start_length\" value=\"1\" />\n<parameter name=\"query\" value=\"/query/owning-entity-fromService-instance\" /> \n",
        "comments": "",
        "outputs": 1,
        "x": 2107.3332176208496,
        "y": 4843.080276489258,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "cb08c447.df52e8",
                "3df62a76.46167e"
            ]
        ]
    },
    {
        "id": "cb08c447.df52e8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2317.5712661743164,
        "y": 4821.74663066864,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "bd008d18.af7e28"
            ]
        ]
    },
    {
        "id": "3df62a76.46167e",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2324.7141609191895,
        "y": 4867.460855484009,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "e973673a.4d16f8"
            ]
        ]
    },
    {
        "id": "57855376.396fb4",
        "type": "save",
        "name": "custom query: get tenant network",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n      resource=\"custom-query\"\n      key=\"format = 'resource'\"\n      force=\"true\"\n      local-only=\"false\"\n      pfx=\"tmp.AnAI-data.get-networks\">\n<parameter name=\"start[0]\" value=\"`'/business/owning-entities/owning-entity/' + $tmp.AnAI-data.oe.results[0].owning-entity.owning-entity-id `\" />\n<parameter name=\"start_length\" value=\"1\" />\n<parameter name=\"query\" value=\"`'/query/getNetworks?networkRole=' + $db.vnf-related-network-role[$rel-network-role-index].related-network-role\n  + '&amp;cloudRegionId=' + $vnf-topology-operation-input.vnf-request-input.aic-cloud-region`\" /> \n",
        "comments": "",
        "outputs": 1,
        "x": 2557.0000343322754,
        "y": 5016.080413818359,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "43d389bc.8dd5c",
                "ba0b7d99.7e8938"
            ]
        ]
    },
    {
        "id": "43d389bc.8dd5c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2770.238082885742,
        "y": 4994.746912956238,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "1b6474fa.c07123"
            ]
        ]
    },
    {
        "id": "ba0b7d99.7e8938",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2777.3809776306152,
        "y": 5040.461137771606,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "10aba7ed.de916"
            ]
        ]
    },
    {
        "id": "17456206.9d075e",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for index='rel-index' start='0' end='`$tmp.AnAI-data.get-networks.results[0].l3-network.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2524.0000343322754,
        "y": 5142.0805587768555,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "ce79340.35758d"
            ]
        ]
    },
    {
        "id": "ce79340.35758d",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.AnAI-data.get-networks.results[0].l3-network.relationship-list.relationship[$rel-index].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2722.0000343322754,
        "y": 5142.0805587768555,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "fa4ca619.db292"
            ]
        ]
    },
    {
        "id": "fa4ca619.db292",
        "type": "outcome",
        "name": "vlan-tag",
        "xml": "<outcome value='vlan-tag'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2892.0000343322754,
        "y": 5142.0805587768555,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "4c7222a4.15e9ac"
            ]
        ]
    },
    {
        "id": "4c7222a4.15e9ac",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3060.0000343322754,
        "y": 5140.0805587768555,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "43474b1d.d7ef7c",
                "2b8c993e.dd7eb6",
                "81bc4129.bb1c1"
            ]
        ]
    },
    {
        "id": "43474b1d.d7ef7c",
        "type": "set",
        "name": "set vlan-tag-id",
        "xml": "<set>\n<parameter name='vlan-tag-id' value='`$tmp.AnAI-data.get-networks.results[0].l3-network.relationship-list.relationship[$rel-index].relationship-data[0].relationship-value`' />\n",
        "comments": "",
        "x": 3236.0000343322754,
        "y": 5100.0805587768555,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "2b8c993e.dd7eb6",
        "type": "get-resource",
        "name": "get-resource vlan-tag",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"vlan-tag\" \n\t\tkey=\"vlan-tag.vlan-tag-id = $vlan-tag-id\"\n        pfx='aai.vlan-tag' local-only='false'\n>\n",
        "comments": "",
        "outputs": 1,
        "x": 3258.0000343322754,
        "y": 5158.0805587768555,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "799d4f7d.0c1778",
                "6628ce12.4c6d38"
            ]
        ]
    },
    {
        "id": "799d4f7d.0c1778",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3438.0476417541504,
        "y": 5140.2236251831055,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "6c186302.6806a4"
            ]
        ]
    },
    {
        "id": "ad5b3ac9.e19098",
        "type": "for",
        "name": "for each related network role",
        "xml": "<for index='rel-network-role-index' start='0' end='`$db.vnf-related-network-role_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2094.9999656677246,
        "y": 5072.414123535156,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "742a4410.9dd994"
            ]
        ]
    },
    {
        "id": "742a4410.9dd994",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2299.9999656677246,
        "y": 5073.747268676758,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "57855376.396fb4",
                "17456206.9d075e",
                "7f19e15e.2c2ee8"
            ]
        ]
    },
    {
        "id": "32376f69.700f08",
        "type": "switchNode",
        "name": "switch rn-index",
        "xml": "<switch test='`$rn-index`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2055.9999656677246,
        "y": 4962.080276489258,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "681bd084.d720e8"
            ]
        ]
    },
    {
        "id": "d71dcbd8.8dc7f",
        "type": "set",
        "name": "set rn-index to related network length",
        "xml": "<set>\n<parameter name='rn-index' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].related-networks.related-network_length`' />\n",
        "comments": "",
        "x": 2124.6665534973145,
        "y": 4913.080129623413,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "681bd084.d720e8",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 2219.9999656677246,
        "y": 4962.080276489258,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "a757207e.80691"
            ]
        ]
    },
    {
        "id": "a757207e.80691",
        "type": "set",
        "name": "set rn-index to 0",
        "xml": "<set>\n<parameter name='rn-index' value='0' />\n",
        "comments": "",
        "x": 2379.9999656677246,
        "y": 4962.080276489258,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "7f19e15e.2c2ee8",
        "type": "set",
        "name": "set related-network data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].related-networks.related-network[$rn-index].network-id'\n  value='`$tmp.AnAI-data.get-networks.results[0].l3-network.network-id`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].related-networks.related-network[$rn-index].network-role'\n  value='`$tmp.AnAI-data.get-networks.results[0].l3-network.network-role`' />\n",
        "comments": "",
        "x": 2527.6666221618652,
        "y": 5072.747100830078,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "96681242.82e6c",
        "type": "set",
        "name": "set new related network length",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].related-networks.related-network_length'\n  value='`$rn-index + 1`' />\n",
        "comments": "",
        "x": 2090.0000343322754,
        "y": 5216.080413818359,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "6628ce12.4c6d38",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3440.0000343322754,
        "y": 5188.080413818359,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "ee974e83.057d3"
            ]
        ]
    },
    {
        "id": "ee974e83.057d3",
        "type": "set",
        "name": "set related-network data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].related-networks.related-network[$rn-index].vlan-tags.vlan-interface'\n  value='`$aai.vlan-tag.vlan-tag-id`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].related-networks.related-network[$rn-index].vlan-tags.upper-tag-id'\n  value='`$aai.vlan-tag.vlan-id-outer`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].related-networks.related-network[$rn-index].vlan-tags.lower-tag-id'\n  value='`$aai.vlan-tag.vlan-id-inner`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].related-networks.related-network[$rn-index].vlan-tags.is-private'\n  value='`$aai.vlan-tag.is-private`' />\n",
        "comments": "",
        "x": 3632.0000343322754,
        "y": 5188.080413818359,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "81bc4129.bb1c1",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 3210.0000343322754,
        "y": 5226.080413818359,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "50d3999e.8bb34",
        "type": "comment",
        "name": "temporary data issue: also ignore string \"null\" and \"NULL\"",
        "info": "",
        "comments": "",
        "x": 886.3333473205566,
        "y": 4245.842397689819,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "7a9134fc.396d14",
        "type": "outcome",
        "name": "null",
        "xml": "<outcome value='null'>\n",
        "comments": "",
        "outputs": 1,
        "x": 913.4761695861816,
        "y": 4328.69953918457,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "c630c62f.2e4b88"
            ]
        ]
    },
    {
        "id": "39a7a020.ba1f58",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value='NULL'>",
        "comments": "",
        "outputs": 1,
        "x": 913.4761791229248,
        "y": 4371.556611061096,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "c630c62f.2e4b88"
            ]
        ]
    },
    {
        "id": "3f69e8e3.cf5be8",
        "type": "switchNode",
        "name": "switch input cloud-owner",
        "xml": "<switch test='`$vnf-topology-operation-input.vnf-request-input.cloud-owner`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 563.0000381469727,
        "y": 419.4136428833008,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "f596a79e.8e433",
                "4667755e.d66424"
            ]
        ]
    },
    {
        "id": "f596a79e.8e433",
        "type": "other",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 746.3334121704102,
        "y": 389.413631439209,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "a299c564.3dfdb8"
            ]
        ]
    },
    {
        "id": "4667755e.d66424",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 746.0953178405762,
        "y": 430.3661251068115,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "ee8be88f.ffc97"
            ]
        ]
    },
    {
        "id": "a299c564.3dfdb8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 881.333366394043,
        "y": 387.7469711303711,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "ee8be88f.ffc97",
        "type": "set",
        "name": "set prop.cloud-region.cloud-owner",
        "xml": "<set>\n<parameter name='prop.cloud-region.cloud-owner' value='`$vnf-topology-operation-input.vnf-request-input.cloud-owner`' />\n",
        "comments": "",
        "x": 963.0000228881836,
        "y": 429.41365242004395,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "819ca24a.f2412",
        "type": "call",
        "name": "call self-serve-vnf-forking-logic",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='self-serve-vnf-forking-logic' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 580.8571624755859,
        "y": 740.2142810821533,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "4ce50465.9ccc0c",
        "type": "switchNode",
        "name": "switch ss.self-serve-flag",
        "xml": "<switch test=\"`$ss.self-serve-flag`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 560.9998779296875,
        "y": 905.7857685089111,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "b05ed7a0.f4e1f8",
                "8e5a3910.2353a"
            ]
        ]
    },
    {
        "id": "b05ed7a0.f4e1f8",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 772.7140350341797,
        "y": 979.0710525512695,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "73e62b5e.2d2d24"
            ]
        ]
    },
    {
        "id": "8e5a3910.2353a",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 772.2855529785156,
        "y": 842.6428861618042,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "7c56b4f9.aca0c4"
            ]
        ]
    },
    {
        "id": "2d48d63d.1a5b82",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 952.4444923400879,
        "y": 541.3888673782349,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "d6025c47.4904b",
                "73468fad.c71778"
            ]
        ]
    },
    {
        "id": "17544ab9.984c5d",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 952.4444923400879,
        "y": 589.9603090286255,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "c6456146.0f2668",
                "73468fad.c71778"
            ]
        ]
    },
    {
        "id": "9a95814.c6dd98",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 955.3016090393066,
        "y": 634.2460145950317,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "557c512a.eddd3",
                "73468fad.c71778"
            ]
        ]
    },
    {
        "id": "d6025c47.4904b",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"If svc-action is 'assign' then request-action must be 'CreateVnfInstance'\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1188.8730735778809,
        "y": 541.3888578414917,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "c6456146.0f2668",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error reading VF_MODEL table\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1187.4444847106934,
        "y": 590.1031522750854,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "557c512a.eddd3",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'No model found for VNF customization UUID ' + $vnf-topology-operation-input.vnf-information.onap-model-information.model-customization-uuid`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1187.4444847106934,
        "y": 634.2460050582886,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "75930576.a93ef4",
        "type": "call",
        "name": "call self-serve-vnf-assign",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='self-serve-vnf-assign' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1223.3211402893066,
        "y": 740.1072311401367,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "8d844173.607528"
            ]
        ]
    },
    {
        "id": "b4a1df9a.51e5b8",
        "type": "comment",
        "name": "SELF-SERVE FORK",
        "info": "",
        "comments": "",
        "x": 942.7618942260742,
        "y": 793.5119113922119,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "8d844173.607528",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1428.6187210083008,
        "y": 739.5952625274658,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "a0be875f.ade8a"
            ]
        ]
    },
    {
        "id": "9f565fa.4dc342",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 1198.5635070800781,
        "y": 988.789656996727,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "be242702.8a5c",
        "type": "set",
        "name": "set vnf-level-oper-status to PendingCreate",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-level-oper-status.order-status' value='PendingCreate' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-level-oper-status.last-rpc-action' value='`$vnf-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-level-oper-status.last-action' value='`$vnf-topology-operation-input.request-information.request-action`' />\n",
        "comments": "",
        "x": 1286.432487487793,
        "y": 791.599271774292,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "b92958a4.6d80e",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/ss-vnfend.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 1185.6348037719727,
        "y": 842.0390481948853,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "7c56b4f9.aca0c4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 962.8727645874023,
        "y": 842.4999408721924,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "75930576.a93ef4",
                "be242702.8a5c",
                "b92958a4.6d80e",
                "9f565fa.4dc342",
                "d8dc3738.9ff7d",
                "61c39fe5.7ecd2"
            ]
        ]
    },
    {
        "id": "73468fad.c71778",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1804.3176345825195,
        "y": 819.2462577819824,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "6ffa4d06.cd8f6c",
                "ce39ee80.3e9ff"
            ]
        ]
    },
    {
        "id": "a0be875f.ade8a",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1604.635009765625,
        "y": 739.785698890686,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "62341ef1.f30f5",
                "73468fad.c71778"
            ]
        ]
    },
    {
        "id": "62341ef1.f30f5",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Failed to create self-serve assignment for vnf with vnf-id=' + $vnf-topology-operation-input.vnf-information.vnf-id + ' with error: ' + $error-message`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1816.162956237793,
        "y": 681.690544128418,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "4efb64bb.616d74",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'VNF id ' + $service-data.vnfs.vnf[$idx].vnf-id\n      + ' already exists'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2246.999954223633,
        "y": 1253.666597366333,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "53faa32e.0504dc",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Cannot find instance group id ' +\n      $vnf-topology-operation-input.vnf-request-input.vnf-network-instance-group-ids[$inst-group-index].vnf-network-instance-group-id\n      + ' in AAI'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1624.0950775146484,
        "y": 1308.476245880127,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "411cfc3a.01153c",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error retrieving instance-group from AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1624.0950393676758,
        "y": 1371.619031906128,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "53de08e6.af6ff8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Unable to find AAI relationship from collection '\n      + $aai.instance-group.relationship-list.relationship[$rel-index].relationship-data[0].relationship-value\n      + ' to service instance'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2218.6665420532227,
        "y": 1387.9523315429688,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "2dfa859a.9ef8aa",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Failed to get network service instance '\n      + $network-service-instance + ' from MD-SAL'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2220.1427841186523,
        "y": 1429.666732788086,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "4baafedf.40884",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Could not find network instance group ' +\n      $vnf-topology-operation-input.vnf-request-input.vnf-network-instance-group-ids[$inst-group-index].vnf-network-instance-group-id\n      + ' in MD-SAL service instance '\n      + $network-service-instance`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2904.666893005371,
        "y": 1588.1904573440552,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "d9837d5e.fb9228",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2930.6786499023438,
        "y": 1892.3692474365234,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "85f543a5.3e0c48",
                "5d5d1ee3.ba096"
            ]
        ]
    },
    {
        "id": "dcfb1529.fec6a8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2041.9998321533203,
        "y": 1251.9998836517334,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "4efb64bb.616d74",
                "d9837d5e.fb9228"
            ]
        ]
    },
    {
        "id": "961d4497.b1f5b",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1412.3333206176758,
        "y": 1308.6664772033691,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "53faa32e.0504dc",
                "d9837d5e.fb9228"
            ]
        ]
    },
    {
        "id": "4e3d9218.a643dc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1412.9996948242188,
        "y": 1371.3331823349,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "411cfc3a.01153c",
                "d9837d5e.fb9228"
            ]
        ]
    },
    {
        "id": "e5dc44b5.d3f17",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2001.3332138061523,
        "y": 1388.3333625793457,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "53de08e6.af6ff8",
                "d9837d5e.fb9228"
            ]
        ]
    },
    {
        "id": "966a3052.be8b78",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1999.6665878295898,
        "y": 1430.333251953125,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "2dfa859a.9ef8aa",
                "d9837d5e.fb9228"
            ]
        ]
    },
    {
        "id": "19fba1ff.3d7996",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2693.9524307250977,
        "y": 1588.9047193527222,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "4baafedf.40884",
                "d9837d5e.fb9228"
            ]
        ]
    },
    {
        "id": "ad1b7833.2d89a",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1500.3808898925781,
        "y": 1823.9046249389648,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "939de763.66009",
                "1a90432.93512bd"
            ]
        ]
    },
    {
        "id": "939de763.66009",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"No vnf-name was received but ecomp-generated-naming is not Y\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1730.2381210327148,
        "y": 1824.3329601287842,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "841445e5.523fe",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2253.2380142211914,
        "y": 1927.7618045806885,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "262e48b9.36be4",
                "1a90432.93512bd"
            ]
        ]
    },
    {
        "id": "262e48b9.36be4",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`$generate-unique-name-output.error-message`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2461.380889892578,
        "y": 1927.3331956863403,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "95c2eab0.a4313",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2301.809440612793,
        "y": 2053.9045372009277,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "cd9d840e.6d9e2",
                "1a90432.93512bd"
            ]
        ]
    },
    {
        "id": "cd9d840e.6d9e2",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Unable to generate VNF name\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2524.6664962768555,
        "y": 2054.3332080841064,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "1a90432.93512bd",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2576.5480422973633,
        "y": 2309.333641052246,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "82edd673.f84e28",
                "d16813f7.4f256"
            ]
        ]
    },
    {
        "id": "2be0da40.0d7806",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 994.1904449462891,
        "y": 2964.2857341766357,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "c3e06ca1.959fc",
                "b2ea455b.480508"
            ]
        ]
    },
    {
        "id": "c3e06ca1.959fc",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Cloud region not found in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1192.7617874145508,
        "y": 2930.0000200271606,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "f968cb62.56775",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 997.523796081543,
        "y": 3007.619020462036,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "705aa9d.1a68858",
                "b2ea455b.480508"
            ]
        ]
    },
    {
        "id": "705aa9d.1a68858",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error retrieving cloud region from AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1196.0951385498047,
        "y": 2973.333306312561,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "5c62b00e.a7cd48",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 855.8572311401367,
        "y": 3186.619167327881,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "7368045.ed8167c",
                "b2ea455b.480508"
            ]
        ]
    },
    {
        "id": "7368045.ed8167c",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Unable to find aic-clli in AAI for aic-cloud-region ' + $vnf-topology-operation-input.vnf-request-input.aic-cloud-region`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1065.8572235107422,
        "y": 3165.190655708313,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "b2ea455b.480508",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1952.4405975341797,
        "y": 3741.820848464966,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "2eff60b0.82a368",
                "2209a27.51db7de",
                "8cff46f6.b77",
                "e06e50cf.f6e82"
            ]
        ]
    },
    {
        "id": "7ef20c7d.b3d83c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1141.3333282470703,
        "y": 3276.714331626892,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "1e4bb717.8c8f11",
                "b2ea455b.480508"
            ]
        ]
    },
    {
        "id": "1e4bb717.8c8f11",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error reading VF_TO_NETWORK_ROLE_MAPPING table\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1344.1904373168945,
        "y": 3243.8572273254395,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "ddfbfd5a.f170a",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1711.3332824707031,
        "y": 3486.285619735718,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "ed599d84.5459d",
                "b2ea455b.480508"
            ]
        ]
    },
    {
        "id": "ed599d84.5459d",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Unable to find l3-network in AAI for network role ' + $db.vf-network-role-mapping[$role-index].network-role`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1922.7618865966797,
        "y": 3454.8569107055664,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "3ecadd51.2a79da",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2731.8094635009766,
        "y": 4707.667684555054,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "1132c0eb.47f19f",
                "1eafb6c3.64af09"
            ]
        ]
    },
    {
        "id": "1132c0eb.47f19f",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`\n    'Error retrieving network-topology-identifier-structure for service instance '\n    + $network-service-instance-id\n    + ' and network-id '\n    + $l3-network-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2943.237968444824,
        "y": 4676.238899230957,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "aac9396.609d348",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1844.4761962890625,
        "y": 4548.048126220703,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "6ef91a22.9e6f5c",
                "1eafb6c3.64af09"
            ]
        ]
    },
    {
        "id": "6ef91a22.9e6f5c",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error reading VNF_RELATED_NETWORK_ROLE table\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2058.4761962890625,
        "y": 4529.190979003906,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "bd008d18.af7e28",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2488.952423095703,
        "y": 4823.667268753052,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "3b9e157a.a6eb1a",
                "1eafb6c3.64af09"
            ]
        ]
    },
    {
        "id": "3b9e157a.a6eb1a",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error getting owning entity from service instance\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2696.095443725586,
        "y": 4799.381650924683,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "e973673a.4d16f8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2503.952423095703,
        "y": 4868.667268753052,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "ea2f1cf6.5574e",
                "1eafb6c3.64af09"
            ]
        ]
    },
    {
        "id": "ea2f1cf6.5574e",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Unable to find owning entity from service instance\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2705.3810653686523,
        "y": 4842.953462600708,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "1b6474fa.c07123",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2947.9998168945312,
        "y": 4994.143200874329,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "ad71495b.bf604",
                "1eafb6c3.64af09"
            ]
        ]
    },
    {
        "id": "ad71495b.bf604",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error calling getNetworks custom query in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3163.714179992676,
        "y": 4964.143190383911,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "10aba7ed.de916",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2959.6665649414062,
        "y": 5039.143200874329,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "92ff3f65.ace2f",
                "1eafb6c3.64af09"
            ]
        ]
    },
    {
        "id": "92ff3f65.ace2f",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'No l3-network returned from getNetworks custom query for related network role '\n      + $db.vnf-related-network-role[0].related-network-role`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3175.380928039551,
        "y": 5009.143190383911,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "6c186302.6806a4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3603.952033996582,
        "y": 5140.333766937256,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "c91d001.4234e8",
                "1eafb6c3.64af09"
            ]
        ]
    },
    {
        "id": "c91d001.4234e8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error getting vlan-tag object from AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3816.80916595459,
        "y": 5113.190900802612,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "1eafb6c3.64af09",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3723.6791076660156,
        "y": 5591.275134086609,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "45d48b66.a8078c",
                "f7795356.cb57f8",
                "5ac8760f.3c13c",
                "149b2fa5.4d0cf8"
            ]
        ]
    },
    {
        "id": "11a704cb.ec6e1b",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1711.333267211914,
        "y": 3536.2856159210205,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "9729b81b.95b818",
                "b2ea455b.480508"
            ]
        ]
    },
    {
        "id": "9729b81b.95b818",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error retrieving l3-network from AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1922.7618713378906,
        "y": 3504.856906890869,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "2ae5fa90.61994e",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Unable to find l3-network in AAI for network role ' + $db.vf-network-role-mapping[$role-index].network-role`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1847.0476913452148,
        "y": 4247.714210510254,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "c374836e.37fed8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1647.0476913452148,
        "y": 4262,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "2ae5fa90.61994e",
                "1eafb6c3.64af09"
            ]
        ]
    },
    {
        "id": "cf09642d.dcd6b",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1301.3332748413086,
        "y": 5434.856773376465,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "d709ac0f.fb269",
                "e74586be.b8e6f8"
            ]
        ]
    },
    {
        "id": "d709ac0f.fb269",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'No availability zones found in AAI for cloud region '\n       + $vnf-topology-operation-input.vnf-request-input.aic-cloud-region`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1504.1904067993164,
        "y": 5416.28534412384,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "662f403a.490a78",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1528.7144622802734,
        "y": 5561.524040222168,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "c383f700.e2fe08",
                "e74586be.b8e6f8"
            ]
        ]
    },
    {
        "id": "c383f700.e2fe08",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error updating generic-vnf in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1730.1430130004883,
        "y": 5541.524041175842,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "bf452558.9a9008",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1530.381088256836,
        "y": 5604.857048034668,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "79c5928f.79507c",
                "e74586be.b8e6f8"
            ]
        ]
    },
    {
        "id": "79c5928f.79507c",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'No generic-vnf found in AAI for vnf ID ' + $service-data.vnfs.vnf[$vnf-index].vnf-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1731.8096389770508,
        "y": 5584.857048988342,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "e0daa6a.dcf31d8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1388.238136291504,
        "y": 5679.618696212769,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "1a45b18b.687d7e",
                "e74586be.b8e6f8"
            ]
        ]
    },
    {
        "id": "1a45b18b.687d7e",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error updating generic-vnf in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1585.9166717529297,
        "y": 5658.011522293091,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "ca1e10f7.f5af08",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1408.2976303100586,
        "y": 5724.678614616394,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "7c8d3c94.816594",
                "e74586be.b8e6f8"
            ]
        ]
    },
    {
        "id": "7c8d3c94.816594",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'No generic-vnf found in AAI for vnf ID ' + $service-data.vnfs.vnf[$vnf-index].vnf-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1612.583396911621,
        "y": 5701.821611404419,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "2e13fdd8.c6ad92",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 824.0118942260742,
        "y": 5834.29768371582,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "7c4ba56.57b5cdc",
                "e74586be.b8e6f8"
            ]
        ]
    },
    {
        "id": "7c4ba56.57b5cdc",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error updating selflink in generic-vnf in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1029.7262344360352,
        "y": 5810.011829376221,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "eba4fe8c.3ea98",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 837.3452072143555,
        "y": 5877.63117980957,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "2d963807.1f3568",
                "e74586be.b8e6f8"
            ]
        ]
    },
    {
        "id": "2d963807.1f3568",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'No generic-vnf found in AAI for vnf ID ' + $service-data.vnfs.vnf[$vnf-index].vnf-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1043.0595474243164,
        "y": 5853.345325469971,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "1ce1d0e3.b09f8f",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1417.3928909301758,
        "y": 5927.011758804321,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "f1dfb0ff.674588",
                "e74586be.b8e6f8"
            ]
        ]
    },
    {
        "id": "f1dfb0ff.674588",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error updating relationship in generic-vnf in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1611.678611755371,
        "y": 5901.2977504730225,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "85592822.f54ce",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1432.3928909301758,
        "y": 5970.345254898071,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "16449f26.c6b4a1",
                "e74586be.b8e6f8"
            ]
        ]
    },
    {
        "id": "16449f26.c6b4a1",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'No generic-vnf found in AAI for vnf ID ' + $service-data.vnfs.vnf[$vnf-index].vnf-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1626.678611755371,
        "y": 5944.6312465667725,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "634a4090.ff27d",
        "type": "execute",
        "name": "execute RestApiCallNode - PUT vnf",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + 'vnf-data-assign.json'`\" />\n    <parameter name='restapiUrl' value=\"`$prop.controller.url + $tmp.vnf.url`\" />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"vnf-assign\" />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 527.3212051391602,
        "y": 6334.9891719818115,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "1a97646.1d7bf9c",
                "5710c473.bb38cc"
            ]
        ]
    },
    {
        "id": "1a97646.1d7bf9c",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 774.5339660644531,
        "y": 6356.319892883301,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "7fa41968.bb5ec8"
            ]
        ]
    },
    {
        "id": "5710c473.bb38cc",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 766.9626007080078,
        "y": 6314.819912910461,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "7fa41968.bb5ec8"
            ]
        ]
    },
    {
        "id": "7fa41968.bb5ec8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 942.5592803955078,
        "y": 6334.750367164612,
        "z": "652cf04d.917e78",
        "wires": [
            [
                "eb23793e.28b0d",
                "e74586be.b8e6f8"
            ]
        ]
    },
    {
        "id": "eb23793e.28b0d",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error doing PUT of vnf-data\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1148.2735900878906,
        "y": 6300.464484214783,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "9ec4fd36.2e31c8",
        "type": "set",
        "name": "set so.response-code = 200",
        "xml": "<set>\n<parameter name=\"so.response-code\" value=\"200\" />",
        "comments": "",
        "x": 498.09376525878906,
        "y": 6477.500561714172,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "5369940c.e48364",
        "type": "set",
        "name": "Initialize SO 500 reponse params",
        "xml": "<set>\n<parameter name=\"so.ack-final-indicator\" value=\"Y\" />\n<parameter name=\"so.response-code\" value=\"500\" />\n<parameter name=\"so.notification-url\" value=\"`$vnf-topology-operation-input.sdnc-request-header.svc-notification-url`\" />\n<parameter name=\"so.svc-request-id\" value=\"`$vnf-topology-operation-input.sdnc-request-header.svc-request-id`\" />\n<parameter name=\"so.service-type\" value=\"`$vnf-topology-operation-input.service-information.subscription-service-type`\" />\n<parameter name=\"so.service-instance-id\" value=\"`$vnf-topology-operation-input.service-information.service-instance-id`\" />\n",
        "comments": "",
        "x": 595.7605819702148,
        "y": 313.9549217224121,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "2eff60b0.82a368",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2278.2909622192383,
        "y": 3792.151798248291,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "d8dc3738.9ff7d",
        "type": "set",
        "name": "set so.reponse-code = 200",
        "xml": "<set>\n<parameter name=\"so.response-code\" value=\"200\" />\n",
        "comments": "",
        "x": 1238.8462142944336,
        "y": 888.2629871368408,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "2209a27.51db7de",
        "type": "set",
        "name": "set variables for deleting name",
        "xml": "<set>\n<parameter name='naming-policy-generate-name-input.naming-type' value='VNF' />\n<parameter name='naming-policy-generate-name-input.context-id' value='`$vnf-topology-operation-input.vnf-information.vnf-id`' />\n<parameter name='naming-policy-generate-name-input.action' value='DELETE' />\n",
        "comments": "",
        "x": 2225.096290588379,
        "y": 3691.040738105774,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "8cff46f6.b77",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:naming-policy-generate-name",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='naming-policy-generate-name' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2322.66756439209,
        "y": 3741.1830978393555,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "5ac8760f.3c13c",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4057.0410079956055,
        "y": 5615.346151351929,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "45d48b66.a8078c",
        "type": "set",
        "name": "set variables for deleting name",
        "xml": "<set>\n<parameter name='naming-policy-generate-name-input.naming-type' value='VNF' />\n<parameter name='naming-policy-generate-name-input.context-id' value='`$vnf-topology-operation-input.vnf-information.vnf-id`' />\n<parameter name='naming-policy-generate-name-input.action' value='DELETE' />\n",
        "comments": "",
        "x": 4003.846336364746,
        "y": 5514.235091209412,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "f7795356.cb57f8",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:naming-policy-generate-name",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='naming-policy-generate-name' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4101.417610168457,
        "y": 5564.377450942993,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "fef2b74e.207f2",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2286.2076263427734,
        "y": 6596.319822311401,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "5e0caa6d.e903f4",
        "type": "set",
        "name": "set variables for deleting name",
        "xml": "<set>\n<parameter name='naming-policy-generate-name-input.naming-type' value='VNF' />\n<parameter name='naming-policy-generate-name-input.context-id' value='`$vnf-topology-operation-input.vnf-information.vnf-id`' />\n<parameter name='naming-policy-generate-name-input.action' value='DELETE' />\n",
        "comments": "",
        "x": 2229.262924194336,
        "y": 6495.2088985443115,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "fcbc941a.75b4b8",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:naming-policy-generate-name",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='naming-policy-generate-name' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2326.834197998047,
        "y": 6545.351258277893,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "6ffa4d06.cd8f6c",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2118.7077407836914,
        "y": 792.8462972640991,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "85f543a5.3e0c48",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3242.457305908203,
        "y": 1868.596351146698,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "82edd673.f84e28",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2894.957359313965,
        "y": 2283.346435546875,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "1fec3768.f512f1",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 562.5963668823242,
        "y": 6531.874531745911,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "61c39fe5.7ecd2",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1310.8462448120117,
        "y": 937.0129909515381,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "ce39ee80.3e9ff",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 2000.096290588379,
        "y": 843.2629833221436,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "5d5d1ee3.ba096",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 3123.84627532959,
        "y": 1912.8463134765625,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "d16813f7.4f256",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 2778.84627532959,
        "y": 2331.596435546875,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "e06e50cf.f6e82",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 2158.846424102783,
        "y": 3839.929880142212,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "149b2fa5.4d0cf8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 3939.81844329834,
        "y": 5665.06884765625,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "ae834aa6.55d6c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 2166.0686569213867,
        "y": 6643.263185501099,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "4ba8fd3f.c818fc",
        "type": "execute",
        "name": "generate vnf URL (sub service-instance-id)",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.vnf-assign`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.part\"/>\n    <parameter name=\"target\" value=\"{service-instance-id}\"/>\n    <parameter name=\"replacement\" value=\"`$service-data.service-topology.service-topology-identifier.service-instance-id`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 551.3463516235352,
        "y": 6138.542016029358,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "d2d8ec6e.e92468",
        "type": "execute",
        "name": "generate vnf URL (sub vnf-id)",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.part`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.vnf.url\"/>\n    <parameter name=\"target\" value=\"{vnf-id}\"/>\n    <parameter name=\"replacement\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-id`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 506.34627532958984,
        "y": 6189.969970703125,
        "z": "652cf04d.917e78",
        "wires": [
            []
        ]
    },
    {
        "id": "2957e806.869ab",
        "type": "set",
        "name": "copy vnf data",
        "xml": "<set>\n<parameter name='vnf-data.' value='service-data.vnfs.vnf[$vnf-index].vnf-data.' />\n",
        "comments": "",
        "x": 452.2392349243164,
        "y": 6237.827503204346,
        "z": "652cf04d.917e78",
        "wires": []
    },
    {
        "id": "bb434916.4ddfd",
        "type": "comment",
        "name": "'New' version of DG, called for flows where SO expects async response (so-bpmn-infra)",
        "info": "",
        "comments": "",
        "x": 565,
        "y": 93,
        "z": "652cf04d.917e78",
        "wires": []
    }
]