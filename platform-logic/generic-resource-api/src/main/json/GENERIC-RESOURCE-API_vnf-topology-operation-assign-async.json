[
    {
        "id": "4661c184.ec1f28",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 123,
        "y": 136,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "1a1c365c.1bc24a"
            ]
        ]
    },
    {
        "id": "1a1c365c.1bc24a",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 238.28570556640625,
        "y": 177.9047794342041,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "16e76479.f473f4"
            ]
        ]
    },
    {
        "id": "16e76479.f473f4",
        "type": "method",
        "name": "method vnf-topology-operation-assign-async",
        "xml": "<method rpc='vnf-topology-operation-assign-async' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 211.09530639648438,
        "y": 220.66666316986084,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "bf83b00.ffd5dd"
            ]
        ]
    },
    {
        "id": "aecec26e.e0692",
        "type": "comment",
        "name": "vnf-topology-operation-assign-async",
        "info": "",
        "comments": "",
        "x": 487.01153564453125,
        "y": 58.25300407409668,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "d8bf5428.1ff1",
        "type": "switchNode",
        "name": "switch request-action",
        "xml": "<switch test='`$vnf-topology-operation-input.request-information.request-action`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 519.3809661865234,
        "y": 531.6428165435791,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "431069fb.8761",
                "5dbaa5aa.6ad9b4"
            ]
        ]
    },
    {
        "id": "431069fb.8761",
        "type": "outcome",
        "name": "CreateVnfInstance",
        "xml": "<outcome value='CreateVnfInstance'>\n",
        "comments": "",
        "outputs": 1,
        "x": 773.0952606201172,
        "y": 508.7856979370117,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "19923e90.84dc49"
            ]
        ]
    },
    {
        "id": "5dbaa5aa.6ad9b4",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 735.0952262878418,
        "y": 554.5000257492065,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "188d06d.21abdf9"
            ]
        ]
    },
    {
        "id": "19923e90.84dc49",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 957.9523887634277,
        "y": 508.7857275009155,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "14788654.ce330a",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 180.73814392089844,
        "y": 3418.0238666534424,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "c04129d2.227c68",
                "9b868b8e.0ba8a8",
                "8731f91d.91242",
                "1022e029.863328",
                "ba2df5c1.747cf8",
                "52345019.2351b8",
                "192e1482.449c03",
                "2c1ef18a.330b3e",
                "e3faec1c.a59a",
                "fcb95713.a4e8a8",
                "5bbd9dd1.6c7d5c",
                "143efc8a.25e1cb",
                "409c22ae.a3bf9c",
                "23583b8f.949ba4",
                "c6168431.a00f5",
                "790e4f79.58723",
                "b9894f42.70a4f8",
                "854ae13c.f926a",
                "e553a1ad.69aae8",
                "3c1e9c3a.58c014",
                "59441881.83eba8",
                "b2968f47.d2ae78",
                "84464174.3953f",
                "355ef255.69a646",
                "f9d2efbe.08a05",
                "f2183011.286a98",
                "d9a36927.f2271",
                "ec714a9b.c38d8",
                "d780c8df.23f2d",
                "e4a614d.2b0f1e8",
                "ce494650.e8a068",
                "42a167cf.392ce",
                "f94face8.c5b278",
                "a5911152.d7aeb",
                "a2884948.862f8",
                "5d5f2dd1.10210c",
                "f5df60ce.d84ac8",
                "3367c076.389b7",
                "d71dd728.42aa",
                "dac2571d.72305"
            ]
        ]
    },
    {
        "id": "c4069bd9.1face",
        "type": "get-resource",
        "name": "get-resource VF_MODEL",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='SELECT * from VF_MODEL WHERE customization_uuid = $vnf-topology-operation-input.vnf-information.onap-model-information.model-customization-uuid'\n  pfx='db.vf-model'>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 531.7142715454102,
        "y": 622.7856864929199,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "1869c2be.7fa70d",
                "79d22567.c1617c"
            ]
        ]
    },
    {
        "id": "1869c2be.7fa70d",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 732.4999694824219,
        "y": 603.1665239334106,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "513e881c.9b735"
            ]
        ]
    },
    {
        "id": "79d22567.c1617c",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 741.0713996887207,
        "y": 647.4522371292114,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "77a122cf.38f42c"
            ]
        ]
    },
    {
        "id": "c04129d2.227c68",
        "type": "switchNode",
        "name": "switch service-data.vnfs.vnf_length",
        "xml": "<switch test='`$service-data.vnfs.vnf_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 555.3809204101562,
        "y": 1211.238136291504,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "1423036f.c07405",
                "efcdd596.dadaa8"
            ]
        ]
    },
    {
        "id": "1423036f.c07405",
        "type": "other",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 781.0952491760254,
        "y": 1178.3809242248535,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "4e9c3502.517244"
            ]
        ]
    },
    {
        "id": "4e9c3502.517244",
        "type": "set",
        "name": "set vnf-index=0",
        "xml": "<set>\n<parameter name='vnf-index' value='0' />\n",
        "comments": "",
        "x": 945.3809700012207,
        "y": 1177.3810024261475,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "efcdd596.dadaa8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 782.523811340332,
        "y": 1242.666742324829,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "a8b5b199.d340a"
            ]
        ]
    },
    {
        "id": "4084f52d.1d8c5c",
        "type": "set",
        "name": "set vnf-index = vnf_length",
        "xml": "<set>\n<parameter name='vnf-index' value='`$service-data.vnfs.vnf_length`' />\n",
        "comments": "",
        "x": 1200.3809661865234,
        "y": 1220.9524307250977,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "869d4b3f.d6d0e8",
        "type": "for",
        "name": "for each existing VNF",
        "xml": "<for index='idx' start='0' end='`$service-data.vnfs.vnf_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1185.8094787597656,
        "y": 1266.9523696899414,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "4250c05c.e09ef8"
            ]
        ]
    },
    {
        "id": "a8b5b199.d340a",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 956.2380714416504,
        "y": 1242.6667079925537,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "4084f52d.1d8c5c",
                "869d4b3f.d6d0e8"
            ]
        ]
    },
    {
        "id": "4250c05c.e09ef8",
        "type": "switchNode",
        "name": "switch vnf-information.vnf-id == service-data.vnfs.vnf[].vnf-id",
        "xml": "<switch test='`$vnf-topology-operation-input.vnf-information.vnf-id == $service-data.vnfs.vnf[$idx].vnf-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1540.0952453613281,
        "y": 1266.5238494873047,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "67224b8a.b94c34"
            ]
        ]
    },
    {
        "id": "67224b8a.b94c34",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1834.3810005187988,
        "y": 1266.0953340530396,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "fb90666f.a03358"
            ]
        ]
    },
    {
        "id": "46cfab20.22887c",
        "type": "comment",
        "name": "make sure this VNF doesn't exist already",
        "info": "",
        "comments": "",
        "x": 1527.2379760742188,
        "y": 1224.0952796936035,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "9b868b8e.0ba8a8",
        "type": "set",
        "name": "set vnf-topology data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.vnf-id'\n value='`$vnf-topology-operation-input.vnf-information.vnf-id`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.vnf-type'\n value='`$vnf-topology-operation-input.vnf-information.vnf-type`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.nf-type'\n value='`$db.vf-model.nf-type`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.nf-role'\n value='`$db.vf-model.nf-role`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.nf-function'\n value='`$db.vf-model.nf-function`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.nf-code'\n value='`$db.vf-model.nf-code`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.tenant'\n value='`$vnf-topology-operation-input.vnf-request-input.tenant`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.aic-cloud-region'\n value='`$vnf-topology-operation-input.vnf-request-input.aic-cloud-region`' />\n \n",
        "comments": "",
        "x": 521.0952033996582,
        "y": 1742.9049034118652,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "8731f91d.91242",
        "type": "switchNode",
        "name": "switch input vnf-name",
        "xml": "<switch test='`$vnf-topology-operation-input.vnf-information.vnf-name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 533.5952224731445,
        "y": 2105.0239610671997,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "52dafc17.f6736c",
                "7d58c1cc.73ce7"
            ]
        ]
    },
    {
        "id": "1022e029.863328",
        "type": "get-resource",
        "name": "get-resource cloud region",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"cloud-region\" \n\t\tkey=\"cloud-region.cloud-owner = $prop.cloud-region.cloud-owner AND \n\t\t     cloud-region.cloud-region-id = $vnf-topology-operation-input.vnf-request-input.aic-cloud-region AND\n\t\t     depth='all'\"\n        pfx='aai.cloud-region' local-only='false' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 565.738166809082,
        "y": 3001.023696899414,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "ffadf4a4.50abb8",
                "daf194d0.8551a"
            ]
        ]
    },
    {
        "id": "daf194d0.8551a",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 773.8414840698242,
        "y": 3020.174403190613,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "67a22798.d81588"
            ]
        ]
    },
    {
        "id": "ffadf4a4.50abb8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 782.7700805664062,
        "y": 2977.460136413574,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "5d5eddf8.f77b84"
            ]
        ]
    },
    {
        "id": "ba2df5c1.747cf8",
        "type": "get-resource",
        "name": "get-resource VF_TO_NETWORK_ROLE_MAPPING",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='SELECT * from VF_TO_NETWORK_ROLE_MAPPING WHERE vf_customization_uuid = $vnf-topology-operation-input.vnf-information.onap-model-information.model-customization-uuid'\n  pfx='db.vf-network-role-mapping[]'>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 630.9762496948242,
        "y": 3312.071216583252,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "f02723c3.a381b8",
                "54125380.e0951c"
            ]
        ]
    },
    {
        "id": "f02723c3.a381b8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 926.7619209289551,
        "y": 3290.7853813171387,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "48f3f890.8517f8"
            ]
        ]
    },
    {
        "id": "54125380.e0951c",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 935.3333511352539,
        "y": 3335.0710945129395,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "6a48e0c.284292"
            ]
        ]
    },
    {
        "id": "c302bb2b.5f6d08",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1031.9049491882324,
        "y": 4428.713706970215,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "a360a46d.3c70b",
                "796e072e.7461a",
                "2ec19c6c.a13ee4",
                "f7ab2775.d01c4",
                "e518bda4.6b6118",
                "e56d0bf4.28331",
                "441a09f7.0fe6e8",
                "125c5567.a44893",
                "f38e05b8.78f318"
            ]
        ]
    },
    {
        "id": "2ec19c6c.a13ee4",
        "type": "get-resource",
        "name": "get-resource l3-network",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"l3-networks\" \n\t\tkey=\"l3-network.network-role = $db.vf-network-role-mapping[$role-index].network-role\"\n        pfx='aai.l3-network' local-only='false'\n>\n",
        "comments": "",
        "outputs": 1,
        "x": 1281.6191482543945,
        "y": 3519.0947456359863,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "1b964abe.a8bf65",
                "73b445f9.d1da54"
            ]
        ]
    },
    {
        "id": "73b445f9.d1da54",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1487.0954627990723,
        "y": 3548.3803482055664,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "76d0200d.fc0188"
            ]
        ]
    },
    {
        "id": "1b964abe.a8bf65",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1494.595458984375,
        "y": 3499.5233182907104,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "c82ac0d8.cc5e38"
            ]
        ]
    },
    {
        "id": "a360a46d.3c70b",
        "type": "set",
        "name": "set vnf-network data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].network-role'\n    value='`$db.vf-network-role-mapping[$role-index].network-role`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].network-name'\n    value='`$aai.l3-network.l3-network[$db-network-index].network-name`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].neutron-id'\n    value='`$aai.l3-network.l3-network[$db-network-index].neutron-network-id`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].network-id'\n    value='`$aai.l3-network.l3-network[$db-network-index].network-id`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].contrail-network-fqdn'\n    value='`$aai.l3-network.l3-network[$db-network-index].contrail-network-fqdn`' />\n",
        "comments": "",
        "x": 1277.9526138305664,
        "y": 4324.666554450989,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "e3faec1c.a59a",
        "type": "for",
        "name": "for each cloud-region availability zone",
        "xml": "<for index='idx' start='0' end='`$aai.cloud-region.availability-zones.availability-zone_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 498.3336524963379,
        "y": 5571.785531997681,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "adba82bf.e3f3a8"
            ]
        ]
    },
    {
        "id": "12d3265f.5dba1a",
        "type": "set",
        "name": "set availability-zone",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.availability-zones.availability-zone[$idx]'\n  value='`$aai.cloud-region.availability-zones.availability-zone[$idx].availability-zone-name`' />\n",
        "comments": "",
        "x": 960.0003356933594,
        "y": 5541.118946075439,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "fcb95713.a4e8a8",
        "type": "set",
        "name": "set vnf-parameters-data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.'\n  value='vnf-topology-operation-input.vnf-request-input.vnf-input-parameters.' />\n",
        "comments": "",
        "x": 457.952579498291,
        "y": 5421.737892150879,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "b65e5ff3.d14f98",
        "type": "save",
        "name": "save generic-vnf l3-network relationships",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"generic-vnf:relationship-list\"\n   key=\"generic-vnf.vnf-id = $service-data.vnfs.vnf[$vnf-index].vnf-id\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"l3-network\" />\n    <parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"l3-network.network-id\" />\n    <parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-nw-index].network-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 924.524112701416,
        "y": 5715.547744750977,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "ee487aee.96931",
                "a9a85016.7d2db8"
            ]
        ]
    },
    {
        "id": "409c22ae.a3bf9c",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 411.29785919189453,
        "y": 6611.309184074402,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "143efc8a.25e1cb",
        "type": "set",
        "name": "set vnf-level-oper-status to PendingCreate",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-level-oper-status.order-status' value='PendingCreate' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-level-oper-status.last-rpc-action' value='`$vnf-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-level-oper-status.last-action' value='`$vnf-topology-operation-input.request-information.request-action`' />\n",
        "comments": "",
        "x": 513.8255958557129,
        "y": 6084.753458023071,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "192e1482.449c03",
        "type": "for",
        "name": "for each network-role",
        "xml": "<for silentFailure='true' index='role-index' start='0' end='`$db.vf-network-role-mapping_length`'>",
        "comments": "",
        "outputs": 1,
        "x": 491.9048843383789,
        "y": 4402.047375679016,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "83a5f952.36e31"
            ]
        ]
    },
    {
        "id": "52345019.2351b8",
        "type": "set",
        "name": "set network-index = 0",
        "xml": "<set>\n<parameter name='network-index' value='0' />\n",
        "comments": "",
        "x": 533.4047470092773,
        "y": 3366.119010925293,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "796e072e.7461a",
        "type": "set",
        "name": "increment network-index",
        "xml": "<set>\n<parameter name='network-index' value='`$network-index + 1`' />\n",
        "comments": "",
        "x": 1259.9526023864746,
        "y": 5372.4284954071045,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "2c1ef18a.330b3e",
        "type": "set",
        "name": "set vnf-network_length",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network_length'\n  value='`$network-index`' />\n",
        "comments": "",
        "x": 456.80966567993164,
        "y": 5371.7379360198975,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "5bbd9dd1.6c7d5c",
        "type": "set",
        "name": "copy input data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.sdnc-request-header.' value='$vnf-topology-operation-input.sdnc-request-header.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.request-information.' value='$vnf-topology-operation-input.request-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.' value='$vnf-topology-operation-input.service-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-information.' value='$vnf-topology-operation-input.vnf-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-request-input.' value='$vnf-topology-operation-input.vnf-request-input.' />\n\n",
        "comments": "",
        "x": 423.095401763916,
        "y": 6031.166446685791,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "23583b8f.949ba4",
        "type": "for",
        "name": "for each vnf-network",
        "xml": "<for index='vnf-nw-index' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 447.52402114868164,
        "y": 5714.547660827637,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "d0f022e5.c88068"
            ]
        ]
    },
    {
        "id": "d0f022e5.c88068",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 651.1906623840332,
        "y": 5714.54762172699,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "b65e5ff3.d14f98"
            ]
        ]
    },
    {
        "id": "c6168431.a00f5",
        "type": "set",
        "name": "set new vnf_length",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf_length' value='`$vnf-index + 1`' />\n",
        "comments": "",
        "x": 504.02384185791016,
        "y": 1263.2620267868042,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "790e4f79.58723",
        "type": "for",
        "name": "for each cloud-region relationship",
        "xml": "<for index='idx' start='0' end='`$aai.cloud-region.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 578.5952911376953,
        "y": 3088.2618684768677,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "8d6ad368.291ba"
            ]
        ]
    },
    {
        "id": "8d6ad368.291ba",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$aai.cloud-region.relationship-list.relationship[$idx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 826.2738342285156,
        "y": 3088.0117979049683,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "e3747594.cd166"
            ]
        ]
    },
    {
        "id": "e3747594.cd166",
        "type": "outcome",
        "name": "complex",
        "xml": "<outcome value='complex'>\n",
        "comments": "",
        "outputs": 1,
        "x": 995.7381553649902,
        "y": 3087.4046201705933,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "824c58c6.f6519"
            ]
        ]
    },
    {
        "id": "62adf90d.0208a",
        "type": "set",
        "name": "set aic-clli",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.aic-clli'\n  value='`$aai-uid-split[$aai-uid-split_length - 1]`' />\n",
        "comments": "",
        "x": 1373.3095397949219,
        "y": 3085.642815589905,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "b9894f42.70a4f8",
        "type": "switchNode",
        "name": "switch aic-clli",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.aic-clli`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 511.64291763305664,
        "y": 3201.357000350952,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "e46a7171.697a2"
            ]
        ]
    },
    {
        "id": "e46a7171.697a2",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 659.7857513427734,
        "y": 3201.3569831848145,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "8a243db.c5662c"
            ]
        ]
    },
    {
        "id": "cbfc20ba.1ec18",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-invariant-uuid'\n  value='`$db.vf-model.invariant-uuid`' />\n",
        "comments": "",
        "x": 938.0954627990723,
        "y": 2560.2142572402954,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "9fefd3f8.db8f98",
        "type": "for",
        "name": "for each l3-network",
        "xml": "<for index='db-network-index' start='0' end='`$aai.l3-network.l3-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1398.2145919799805,
        "y": 4149.2379331588745,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "614c8409.56f694"
            ]
        ]
    },
    {
        "id": "387ea551.d97d92",
        "type": "switchNode",
        "name": "switch orchestration-status",
        "xml": "<switch test='`$aai.l3-network.l3-network[$db-network-index].orchestration-status`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1816.7857627868652,
        "y": 4083.8093976974487,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "9d95d4f1.af8f28",
                "6e67295b.083bd8",
                "c841f358.cc44e",
                "9931da25.1af06",
                "a2d8e726.f731e"
            ]
        ]
    },
    {
        "id": "9d95d4f1.af8f28",
        "type": "outcome",
        "name": "Pending Delete",
        "xml": "<outcome value='Pending Delete'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2057.4526329040527,
        "y": 4125.475901603699,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "111ca475.bfcb9c"
            ]
        ]
    },
    {
        "id": "6e67295b.083bd8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2030.309772491455,
        "y": 4176.475882530212,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "f1a29c9.7d328e"
            ]
        ]
    },
    {
        "id": "48ea8c97.939764",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$aai.l3-network.l3-network[$db-network-index].relationship-list.relationship[$db-rel-index].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2566.0240745544434,
        "y": 4121.7137994766235,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "eb1468.3f791b98",
                "9d09f6f3.62b358"
            ]
        ]
    },
    {
        "id": "f1a29c9.7d328e",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='db-rel-index' start='0' end='`$aai.l3-network.l3-network[$db-network-index].relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2200.309684753418,
        "y": 4176.0472593307495,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "ebfe35e9.d51238"
            ]
        ]
    },
    {
        "id": "eb1468.3f791b98",
        "type": "outcome",
        "name": "cloud-region",
        "xml": "<outcome value='cloud-region'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2740.309860229492,
        "y": 4144.6186237335205,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "e8ab049.a8a56f8"
            ]
        ]
    },
    {
        "id": "e8ab049.a8a56f8",
        "type": "for",
        "name": "for each relationship data",
        "xml": "<for silentFailure='true' index='db-data-index' start='0' end='`$aai.l3-network.l3-network[$db-network-index].relationship-list.relationship[$db-rel-index].relationship-data_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2937.4525604248047,
        "y": 4145.04709148407,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "c1b3c066.a9955"
            ]
        ]
    },
    {
        "id": "c1b3c066.a9955",
        "type": "switchNode",
        "name": "switch relationship-key",
        "xml": "<switch test='`$aai.l3-network.l3-network[$db-network-index].relationship-list.relationship[$db-rel-index].relationship-data[$db-data-index].relationship-key`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3168.881160736084,
        "y": 4144.618466377258,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "e9bc1c2.e51706"
            ]
        ]
    },
    {
        "id": "e9bc1c2.e51706",
        "type": "outcome",
        "name": "cloud-region.cloud-region-id",
        "xml": "<outcome value='cloud-region.cloud-region-id'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3410.309726715088,
        "y": 4144.618562698364,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "fbd49a32.93afa8"
            ]
        ]
    },
    {
        "id": "fbd49a32.93afa8",
        "type": "switchNode",
        "name": "switch relationship-value == cloud-region-id",
        "xml": "<switch test='`$aai.l3-network.l3-network[$db-network-index].relationship-list.relationship[$db-rel-index].relationship-data[$db-data-index].relationship-value == $vnf-topology-operation-input.vnf-request-input.aic-cloud-region`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3714.595645904541,
        "y": 4144.475618362427,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "ddf73f3.4f64ac"
            ]
        ]
    },
    {
        "id": "ddf73f3.4f64ac",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3419.5957832336426,
        "y": 4262.118572235107,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "a878b424.24494"
            ]
        ]
    },
    {
        "id": "f7ab2775.d01c4",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1234.4287643432617,
        "y": 4080.5235776901245,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "9fefd3f8.db8f98",
                "60ffa0a.88fbae"
            ]
        ]
    },
    {
        "id": "e518bda4.6b6118",
        "type": "set",
        "name": "set l3-network-id = -1",
        "xml": "<set>\n<parameter name='l3-network-id' value='-1' />\n",
        "comments": "",
        "x": 1278.7621231079102,
        "y": 3952.428231239319,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "a878b424.24494",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3565.4287605285645,
        "y": 4261.594680786133,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "9cd55b24.1c69b8",
                "6ea80d98.19177c",
                "f903bb12.78282"
            ]
        ]
    },
    {
        "id": "9cd55b24.1c69b8",
        "type": "set",
        "name": "set l3-network-id = this l3-network",
        "xml": "<set>\n<parameter name='l3-network-id' value='`$aai.l3-network.l3-network[$db-network-index].network-id`' />\n",
        "comments": "",
        "x": 3800.666763305664,
        "y": 4223.7376499176025,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "e56d0bf4.28331",
        "type": "switchNode",
        "name": "switch l3-network-id",
        "xml": "<switch test='`$l3-network-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1275.7620468139648,
        "y": 4276.095273017883,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "b5902ad4.0ee7f"
            ]
        ]
    },
    {
        "id": "b5902ad4.0ee7f",
        "type": "outcome",
        "name": "-1",
        "xml": "<outcome value='-1'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1445.7619972229004,
        "y": 4276.095028877258,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "d3e41f3b.440478"
            ]
        ]
    },
    {
        "id": "854ae13c.f926a",
        "type": "switchNode",
        "name": "switch input model-invariant-uuid",
        "xml": "<switch test='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-invariant-uuid`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 581.9525375366211,
        "y": 2583.038701057434,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "78e93e80.eb3758",
                "92899c0f.845368"
            ]
        ]
    },
    {
        "id": "78e93e80.eb3758",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 787.6192092895508,
        "y": 2560.181664466858,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "cbfc20ba.1ec18"
            ]
        ]
    },
    {
        "id": "92899c0f.845368",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 789.0478057861328,
        "y": 2604.467255592346,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "d83d8af0.833c68"
            ]
        ]
    },
    {
        "id": "d83d8af0.833c68",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-invariant-uuid'\n  value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-invariant-uuid`' />\n",
        "comments": "",
        "x": 943.3335418701172,
        "y": 2603.895827770233,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "551d3619.97d4a",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-uuid'\n  value='`$db.vf-model.uuid`' />\n",
        "comments": "",
        "x": 939.0477333068848,
        "y": 2648.7529335021973,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "e553a1ad.69aae8",
        "type": "switchNode",
        "name": "switch input model-uuid",
        "xml": "<switch test='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-uuid`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 554.5715560913086,
        "y": 2671.577438354492,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "8caf4514.78bf88",
                "be07810c.32c568"
            ]
        ]
    },
    {
        "id": "8caf4514.78bf88",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 788.5715293884277,
        "y": 2648.7203702926636,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "551d3619.97d4a"
            ]
        ]
    },
    {
        "id": "be07810c.32c568",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 790.0001258850098,
        "y": 2693.005961418152,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "17d2700c.c69678"
            ]
        ]
    },
    {
        "id": "17d2700c.c69678",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-uuid'\n  value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-uuid`' />\n",
        "comments": "",
        "x": 944.2858619689941,
        "y": 2692.434533596039,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "84eb2be6.d05dd8",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-version'\n  value='`$db.vf-model.version`' />\n",
        "comments": "",
        "x": 936.1906661987305,
        "y": 2737.610140800476,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "3c1e9c3a.58c014",
        "type": "switchNode",
        "name": "switch input model-version",
        "xml": "<switch test='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-version`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 562.714427947998,
        "y": 2760.434585571289,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "c7cffc9c.c74c18",
                "749f7daf.7828bc"
            ]
        ]
    },
    {
        "id": "c7cffc9c.c74c18",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 785.714412689209,
        "y": 2737.5775480270386,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "84eb2be6.d05dd8"
            ]
        ]
    },
    {
        "id": "749f7daf.7828bc",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 787.143009185791,
        "y": 2781.863139152527,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "7f3261c9.80b3c"
            ]
        ]
    },
    {
        "id": "7f3261c9.80b3c",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-version'\n  value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-version`' />\n",
        "comments": "",
        "x": 941.4287452697754,
        "y": 2781.291711330414,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "35947427.d97814",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-name'\n  value='`$db.vf-model.name`' />\n",
        "comments": "",
        "x": 936.1906661987305,
        "y": 2824.752963066101,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "59441881.83eba8",
        "type": "switchNode",
        "name": "switch input model-name",
        "xml": "<switch test='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 557.714427947998,
        "y": 2847.577407836914,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "3209e79f.964218",
                "186b2860.bca8f"
            ]
        ]
    },
    {
        "id": "3209e79f.964218",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 785.714412689209,
        "y": 2824.7203702926636,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "35947427.d97814"
            ]
        ]
    },
    {
        "id": "186b2860.bca8f",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 787.143009185791,
        "y": 2869.005961418152,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "179f336a.4f2225"
            ]
        ]
    },
    {
        "id": "179f336a.4f2225",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-name'\n  value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-name`' />\n",
        "comments": "",
        "x": 941.4287452697754,
        "y": 2868.434533596039,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "111ca475.bfcb9c",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2210.6667251586914,
        "y": 4126.252779006958,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "a2d8e726.f731e",
        "type": "outcome",
        "name": "PendingDelete",
        "xml": "<outcome value='PendingDelete'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2055.333366394043,
        "y": 4081.2526931762695,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "4fa7e935.46f178"
            ]
        ]
    },
    {
        "id": "4fa7e935.46f178",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2210.5474586486816,
        "y": 4082.029570579529,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "9931da25.1af06",
        "type": "outcome",
        "name": "Pending Create",
        "xml": "<outcome value='Pending Create'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2057.333366394043,
        "y": 4037.9191970825195,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "ac4a5448.bd0b28"
            ]
        ]
    },
    {
        "id": "ac4a5448.bd0b28",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2210.5474586486816,
        "y": 4038.696074485779,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "c841f358.cc44e",
        "type": "outcome",
        "name": "PendingCreate",
        "xml": "<outcome value='PendingCreate'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2057.333366394043,
        "y": 3994.5859451293945,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "88f5dd03.1382b8"
            ]
        ]
    },
    {
        "id": "88f5dd03.1382b8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2210.5474586486816,
        "y": 3995.362822532654,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "13a2f07f.5d3d1",
        "type": "for",
        "name": "for each A&AI subnet",
        "xml": "<for index='subnet-index' start='0' end='`$aai.l3-network.l3-network[$db-network-index].subnets.subnet_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1743.7143936157227,
        "y": 4415.300114154816,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "9e9b89f7.9bdbf"
            ]
        ]
    },
    {
        "id": "af0595f.ee72a68",
        "type": "set",
        "name": "set subnet_length",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].subnets-data.subnet-data_length'\n   value='`$aai.l3-network.l3-network[$db-network-index].subnets.subnet_length`' />\n",
        "comments": "",
        "x": 1732.380958557129,
        "y": 4460.300196170807,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "b2968f47.d2ae78",
        "type": "set",
        "name": "set availability-zones.max-count and length",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.availability-zones.max-count'\n   value='`$db.vf-model.avail-zone-max-count`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.availability-zones.availability-zone_length'\n   value='`$aai.cloud-region.availability-zones.availability-zone_length`' />\n",
        "comments": "",
        "x": 518.0001564025879,
        "y": 5659.8009996414185,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "84464174.3953f",
        "type": "set",
        "name": "set vnf-name",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.vnf-name'\n   value='`$tmp.vnf-name`' />\n",
        "comments": "",
        "x": 518.8333511352539,
        "y": 2517.086464881897,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "355ef255.69a646",
        "type": "save",
        "name": "update generic-vnf",
        "xml": "<update plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"generic-vnf\"\n   key=\"generic-vnf.vnf-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.vnf-id\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"vnf-name\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.vnf-name`\" />\n<parameter name=\"prov-status\" value=\"PREPROV\" />\n<!-- <parameter name=\"operational-status\" value=\"out-of-service-path\" /> -->\n<parameter name=\"equipment-role\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.nf-role`\" />\n<parameter name=\"model-invariant-id\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-invariant-uuid`\" />\n<parameter name=\"model-version-id\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-uuid`\" />\n<parameter name=\"model-customization-id\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-customization-uuid`\" />\n<parameter name=\"in-maint\" value=\"true\" />\n<parameter name=\"selflink\" value=\"`$vnf-object-path`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 438.33342361450195,
        "y": 5869.466762542725,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "3613a912.ba7d8e",
                "988ba27a.13d4"
            ]
        ]
    },
    {
        "id": "f9d2efbe.08a05",
        "type": "set",
        "name": "set vnf-object-path",
        "xml": "<set>\n<parameter name='vnf-object-path'\n value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vnf-topology-operation-input.service-information.service-instance-id\n + '/service-data/vnfs/vnf/'\n + $service-data.vnfs.vnf[$vnf-index].vnf-id\n + '/vnf-data/vnf-topology/'`\"/>\n<parameter name='service-object-path'\n value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vnf-topology-operation-input.service-information.service-instance-id\n + '/service-data/service-topology/'`\"/>\n",
        "comments": "",
        "x": 438.3334617614746,
        "y": 5799.467245101929,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "f2183011.286a98",
        "type": "set",
        "name": "set vnf-id",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-id'\n   value='`$vnf-topology-operation-input.vnf-information.vnf-id`' />\n",
        "comments": "",
        "x": 507.1666946411133,
        "y": 2468.753007888794,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "d9a36927.f2271",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/bgb-vnf.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 412.8454360961914,
        "y": 6435.4797620773315,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "ee487aee.96931",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1174.3574676513672,
        "y": 5693.086319923401,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "b28581b0.5712a"
            ]
        ]
    },
    {
        "id": "a9a85016.7d2db8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1182.928897857666,
        "y": 5737.372033119202,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "1b732815.14e07"
            ]
        ]
    },
    {
        "id": "3613a912.ba7d8e",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 612.6907539367676,
        "y": 5848.0863580703735,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "8d790e64.fbc6b8"
            ]
        ]
    },
    {
        "id": "988ba27a.13d4",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 621.2621841430664,
        "y": 5892.372071266174,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "86656044.af7ea"
            ]
        ]
    },
    {
        "id": "ec714a9b.c38d8",
        "type": "set",
        "name": "set model-customization-uuid",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-customization-uuid'\n  value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-customization-uuid`' />\n",
        "comments": "",
        "x": 570.5000152587891,
        "y": 2920.419611930847,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "412ad16a.97e598",
        "type": "execute",
        "name": "split related-link",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split'>\n   <parameter name='ctx_memory_result_key' value='aai-uid-split' />\n   <parameter name='original_string' value='`$aai.cloud-region.relationship-list.relationship[$idx].related-link`' />\n   <parameter name='regex' value='/' />\n",
        "comments": "",
        "outputs": 1,
        "x": 1392.6903991699219,
        "y": 3040.404733657837,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "824c58c6.f6519",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1178.3571014404297,
        "y": 3087.071521759033,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "412ad16a.97e598",
                "62adf90d.0208a",
                "8b5daaff.9a7c6"
            ]
        ]
    },
    {
        "id": "8b5daaff.9a7c6",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 1362.357063293457,
        "y": 3130.404818534851,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "adba82bf.e3f3a8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 750.0000953674316,
        "y": 5570.881115913391,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "12d3265f.5dba1a",
                "9f1eceb5.e698c"
            ]
        ]
    },
    {
        "id": "9f1eceb5.e698c",
        "type": "save",
        "name": "save generic-vnf availability-zone relationship",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"generic-vnf:relationship-list\"\n   key=\"generic-vnf.vnf-id = $service-data.vnfs.vnf[$vnf-index].vnf-id\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"availability-zone\" />\n    <parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"cloud-region.cloud-owner\" />\n    <parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$prop.cloud-region.cloud-owner`\" />\n    <parameter name=\"relationship-list.relationship[0].relationship-data[1].relationship-key\" value=\"cloud-region.cloud-region-id\" />\n    <parameter name=\"relationship-list.relationship[0].relationship-data[1].relationship-value\" value=\"`$vnf-topology-operation-input.vnf-request-input.aic-cloud-region`\" />\n    <parameter name=\"relationship-list.relationship[0].relationship-data[2].relationship-key\" value=\"availability-zone.availability-zone-name\" />\n    <parameter name=\"relationship-list.relationship[0].relationship-data[2].relationship-value\" value=\"`$aai.cloud-region.availability-zones.availability-zone[$idx].availability-zone-name`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1043.3334846496582,
        "y": 5594.214570045471,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "53715461.bc7134",
                "6c10af82.f8022"
            ]
        ]
    },
    {
        "id": "53715461.bc7134",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1308.1667366027832,
        "y": 5575.086392402649,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "6293928d.4f10b4"
            ]
        ]
    },
    {
        "id": "6c10af82.f8022",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1316.738166809082,
        "y": 5619.37210559845,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "6db07962.51fbc8"
            ]
        ]
    },
    {
        "id": "6a48e0c.284292",
        "type": "set",
        "name": "set mapping rows to 0",
        "xml": "<set>\n<parameter name='db.vf-network-role-mapping_length' value='0' />\n",
        "comments": "",
        "x": 1129.3094863891602,
        "y": 3334.6905822753906,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "d780c8df.23f2d",
        "type": "switchNode",
        "name": "switch AAI availability-zone_length",
        "xml": "<switch test='`$aai.cloud-region.availability-zones.availability-zone_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 490.71438217163086,
        "y": 5474.6907024383545,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "d8729b98.95027"
            ]
        ]
    },
    {
        "id": "d8729b98.95027",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 709.2858009338379,
        "y": 5474.262111663818,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "2f2de77d.f8076"
            ]
        ]
    },
    {
        "id": "31d3db7d.e44bd4",
        "type": "set",
        "name": "set availability-zone_length to 0",
        "xml": "<set>\n<parameter name='aai.cloud-region.availability-zones.availability-zone_length' value='0' />\n",
        "comments": "",
        "x": 1310.714443206787,
        "y": 5492.833349227905,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "2f2de77d.f8076",
        "type": "switchNode",
        "name": "switch AZ max count > 0",
        "xml": "<switch test='`$db.vf-model.avail-zone-max-count &gt; 0`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 897.8572731018066,
        "y": 5474.690423488617,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "bc335e49.ca576",
                "4dbb85e4.b65d54"
            ]
        ]
    },
    {
        "id": "bc335e49.ca576",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1100.7143802642822,
        "y": 5448.976173400879,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "9c4ebd50.5f47c"
            ]
        ]
    },
    {
        "id": "4dbb85e4.b65d54",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1102.1430015563965,
        "y": 5493.261920928955,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "31d3db7d.e44bd4"
            ]
        ]
    },
    {
        "id": "b05338be.f1a848",
        "type": "execute",
        "name": "execute PropertiesNode",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
        "comments": "",
        "outputs": 1,
        "x": 528.5357437133789,
        "y": 253.67859268188477,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "52dafc17.f6736c",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 735.6190414428711,
        "y": 1918.5000114440918,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "24abbaae.a59486"
            ]
        ]
    },
    {
        "id": "80c67434.3bcca",
        "type": "switchNode",
        "name": "switch ecomp-naming",
        "xml": "<switch test='`$db.vf-model.ecomp-generated-naming`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1113.2384300231934,
        "y": 1819.2144479751587,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "befd2849.9672a8",
                "3d767b69.f885a4",
                "4c7fffc9.d01d6"
            ]
        ]
    },
    {
        "id": "24abbaae.a59486",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 881.3335418701172,
        "y": 1918.5001287460327,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "80c67434.3bcca",
                "20fbaa2f.336f4e"
            ]
        ]
    },
    {
        "id": "3d767b69.f885a4",
        "type": "outcome",
        "name": "N",
        "xml": "<outcome value='N'>",
        "comments": "",
        "outputs": 1,
        "x": 1299.6668167114258,
        "y": 1819.690574645996,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "75700df9.afdc2c"
            ]
        ]
    },
    {
        "id": "befd2849.9672a8",
        "type": "outcome",
        "name": "Y",
        "xml": "<outcome value='Y'>",
        "comments": "",
        "outputs": 1,
        "x": 1299.6668090820312,
        "y": 1778.2620286941528,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "73807db9.b39cd4"
            ]
        ]
    },
    {
        "id": "4c7fffc9.d01d6",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1299.6667556762695,
        "y": 1862.547706604004,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "75700df9.afdc2c"
            ]
        ]
    },
    {
        "id": "73807db9.b39cd4",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1436.809726715088,
        "y": 1778.4048957824707,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "7d58c1cc.73ce7",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 720.8097686767578,
        "y": 2273.1191873550415,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "2c3bfc73.59862c"
            ]
        ]
    },
    {
        "id": "2c3bfc73.59862c",
        "type": "set",
        "name": "set tmp.vnf-name",
        "xml": "<set>\n<parameter name='tmp.vnf-name' value=\"`$vnf-topology-operation-input.vnf-information.vnf-name`\" />\n",
        "comments": "",
        "x": 886.5717315673828,
        "y": 2271.976457595825,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "66cbf6f1.b54768",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:generate-unique-name",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='generate-unique-name' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1771.643009185791,
        "y": 1968.261948108673,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "f151915e.0725c8",
                "1228e373.2d33f5"
            ]
        ]
    },
    {
        "id": "f151915e.0725c8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2048.7858123779297,
        "y": 1941.833481311798,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "8993a315.cb4e88"
            ]
        ]
    },
    {
        "id": "1228e373.2d33f5",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2053.5475578308105,
        "y": 1987.2143921852112,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "e8d7ccba.64afc8"
            ]
        ]
    },
    {
        "id": "92724c8a.47d3",
        "type": "set",
        "name": "set variables for generating unique name",
        "xml": "<set>\n<parameter name='generate-unique-name-input.action' value='ASSIGN' />\n<parameter name='generate-unique-name-input.context-id' value='`$vnf-topology-operation-input.vnf-information.vnf-id`' />\n<parameter name='generate-unique-name-input.index-table-name' value='VNF_NAME_INDEX' />\n<parameter name='generate-unique-name-input.index-table-prefix-column' value='vnf_name_prefix' />\n<parameter name='generate-unique-name-input.name-table-type' value='VNF_INSTANCE' />\n<parameter name='generate-unique-name-input.prefix' value=\"`'z' + $vnf-topology-operation-input.vnf-request-input.aic-cloud-region + $db.vf-model.nf-code`\" />\n",
        "comments": "",
        "x": 1726.6432609558105,
        "y": 1919.357267856598,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "e8d7ccba.64afc8",
        "type": "set",
        "name": "set tmp.vnf-name to generated name",
        "xml": "<set>\n<parameter name='tmp.vnf-name' value='`$generate-unique-name-output.generated-name`' />\n",
        "comments": "",
        "x": 2276.4519538879395,
        "y": 1986.6904673576355,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "20fbaa2f.336f4e",
        "type": "switchNode",
        "name": "switch naming-policy",
        "xml": "<switch test='`$db.vf-model.naming-policy`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1111.024013519287,
        "y": 2027.5000648498535,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "9d83806b.62f038",
                "8fa1b1d0.fbecf8"
            ]
        ]
    },
    {
        "id": "9d83806b.62f038",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 1301.0239448547363,
        "y": 1948.9286193847656,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "3d12e035.00bfc8"
            ]
        ]
    },
    {
        "id": "8fa1b1d0.fbecf8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1301.2621841430664,
        "y": 2076.30956363678,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "e2becadc.fd296"
            ]
        ]
    },
    {
        "id": "3d12e035.00bfc8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1453.8812141418457,
        "y": 1947.5000858306885,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "92724c8a.47d3",
                "66cbf6f1.b54768"
            ]
        ]
    },
    {
        "id": "47c613e1.e72334",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:naming-policy-generate-name",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='naming-policy-generate-name' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1792.9291381835938,
        "y": 2092.0239453315735,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "1b457d52.c65d7b",
                "eb015d86.9668b8"
            ]
        ]
    },
    {
        "id": "e2becadc.fd296",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1455.786033630371,
        "y": 2076.30956363678,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "aa15df09.7a7e5",
                "47c613e1.e72334"
            ]
        ]
    },
    {
        "id": "aa15df09.7a7e5",
        "type": "set",
        "name": "set variables for generating name",
        "xml": "<set>\n<parameter name='naming-policy-generate-name-input.policy-instance-name' value='`$db.vf-model.naming-policy`' />\n<parameter name='naming-policy-generate-name-input.naming-type' value='VNF' />\n<parameter name='naming-policy-generate-name-input.context-id' value='`$vnf-topology-operation-input.vnf-information.vnf-id`' />\n<parameter name='naming-policy-generate-name-input.action' value='ASSIGN' />\n<parameter name='naming-policy-generate-name-input.query-parameter' value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-customization-uuid`' />",
        "comments": "",
        "x": 1702.929054260254,
        "y": 2046.3095993995667,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "388c672c.281b68",
        "type": "set",
        "name": "set tmp.vnf-name to generated name",
        "xml": "<set>\n<parameter name='tmp.vnf-name' value='`$naming-policy-generate-name-output.vnf-name`' />\n",
        "comments": "",
        "x": 2352.7861099243164,
        "y": 2112.0237560272217,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "fe30a9c6.049198",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1919.0475997924805,
        "y": 6559.072263717651,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "7af5e0af.8b4d6",
                "fcd8b4d3.ba6f18",
                "574c5265.459624",
                "6358f1ef.44078"
            ]
        ]
    },
    {
        "id": "1b457d52.c65d7b",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2091.095184326172,
        "y": 2066.952452659607,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "f2317901.0924b"
            ]
        ]
    },
    {
        "id": "eb015d86.9668b8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2095.8569297790527,
        "y": 2112.33336353302,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "388c672c.281b68"
            ]
        ]
    },
    {
        "id": "45352996.bfa54",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 746.3332824707031,
        "y": 1421.9196710586548,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "de5d4aa6.20d26",
                "c53dd783.637e6"
            ]
        ]
    },
    {
        "id": "e4a614d.2b0f1e8",
        "type": "for",
        "name": "for each instance group id",
        "xml": "<for silentFailure='true' index='inst-group-index' start='0' end='`$vnf-topology-operation-input.vnf-request-input.vnf-network-instance-group-ids_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 529.6666297912598,
        "y": 1422.5863161087036,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "45352996.bfa54"
            ]
        ]
    },
    {
        "id": "de5d4aa6.20d26",
        "type": "get-resource",
        "name": "get-resource instance-group",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"instance-group\" \n\t\tkey=\"instance-group.id = $vnf-topology-operation-input.vnf-request-input.vnf-network-instance-group-ids[$inst-group-index].vnf-network-instance-group-id\"\n        pfx='aai.instance-group' local-only='false' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 974.3333206176758,
        "y": 1353.5864295959473,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "b24bd114.d8ff3",
                "a6647c71.e5f9"
            ]
        ]
    },
    {
        "id": "a6647c71.e5f9",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1191.912612915039,
        "y": 1385.0704822540283,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "46fc6653.09995"
            ]
        ]
    },
    {
        "id": "b24bd114.d8ff3",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1200.8414459228516,
        "y": 1321.6896343231201,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "7b566e9a.02ffe"
            ]
        ]
    },
    {
        "id": "c53dd783.637e6",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for index='rel-index' start='0' end='`$aai.instance-group.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 951.3332977294922,
        "y": 1493.586368560791,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "992c473e.dcde48"
            ]
        ]
    },
    {
        "id": "992c473e.dcde48",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$aai.instance-group.relationship-list.relationship[$rel-index].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1164.6667404174805,
        "y": 1493.5863075256348,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "9474d3b2.f2f408"
            ]
        ]
    },
    {
        "id": "9474d3b2.f2f408",
        "type": "outcome",
        "name": "collection",
        "xml": "<outcome value='collection'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1336.3333778381348,
        "y": 1493.586389541626,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "9ec9a27e.af20a8"
            ]
        ]
    },
    {
        "id": "9ec9a27e.af20a8",
        "type": "get-resource",
        "name": "get-resource collection",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"collection\" \n\t\tkey=\"collection.collection-id = $aai.instance-group.relationship-list.relationship[$rel-index].relationship-data[0].relationship-value\"\n        pfx='aai.collection' local-only='false' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1556.3332824707031,
        "y": 1491.9196510314941,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "6afa0da9.883b94",
                "c7b84394.fef178",
                "97a3f465.07e9e8"
            ]
        ]
    },
    {
        "id": "c7b84394.fef178",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1770.579475402832,
        "y": 1443.4038400650024,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "61ef806e.0df108"
            ]
        ]
    },
    {
        "id": "6afa0da9.883b94",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1779.508071899414,
        "y": 1401.6895732879639,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "716a6bd7.84c124"
            ]
        ]
    },
    {
        "id": "97a3f465.07e9e8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1789.666790008545,
        "y": 1605.2529582977295,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "47a63afa.594c84"
            ]
        ]
    },
    {
        "id": "47a63afa.594c84",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1942.9999313354492,
        "y": 1604.586254119873,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "fc8d9768.f53038",
                "3e08b9aa.83f4fe",
                "a229c3f8.cee178",
                "5c88403d.8f70c",
                "b9100950.4719b"
            ]
        ]
    },
    {
        "id": "fc8d9768.f53038",
        "type": "for",
        "name": "for each network-instance-group",
        "xml": "<for silentFailure='true' index='nig-index' start='0' end='`$service-data.network-instance-groups.network-instance-group_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2255.619071960449,
        "y": 1553.8245086669922,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "f598f42.cc12d88"
            ]
        ]
    },
    {
        "id": "3e08b9aa.83f4fe",
        "type": "set",
        "name": "set found-network-instance-group to false",
        "xml": "<set>\n<parameter name='found-network-instance-group' value='false' />\n",
        "comments": "",
        "x": 2285.6190338134766,
        "y": 1507.157880783081,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "f598f42.cc12d88",
        "type": "switchNode",
        "name": "network-instance-group-id matches?",
        "xml": "<switch test='`$vnf-topology-operation-input.vnf-request-input.vnf-network-instance-group-ids[$inst-group-index].vnf-network-instance-group-id\n  == $service-data.network-instance-groups.network-instance-group[$nig-index].network-instance-group-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2572.2855834960938,
        "y": 1553.8245077133179,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "1e6ccb0d.3ab915"
            ]
        ]
    },
    {
        "id": "1e6ccb0d.3ab915",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2793.952362060547,
        "y": 1553.8244724273682,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "af6921dc.843bf8"
            ]
        ]
    },
    {
        "id": "af6921dc.843bf8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2923.952392578125,
        "y": 1553.8245487213135,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "99fc5b9.3b391a8",
                "8ddc955c.4fd378"
            ]
        ]
    },
    {
        "id": "99fc5b9.3b391a8",
        "type": "set",
        "name": "set found-network-instance-group to true",
        "xml": "<set>\n<parameter name='found-network-instance-group' value='true' />\n",
        "comments": "",
        "x": 3197.285758972168,
        "y": 1528.8245277404785,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "8ddc955c.4fd378",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 3090.619373321533,
        "y": 1577.1578979492188,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "a229c3f8.cee178",
        "type": "switchNode",
        "name": "switch found-network-instance-group",
        "xml": "<switch test='`$found-network-instance-group`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2267.285690307617,
        "y": 1603.8244895935059,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "69302a2b.72ec7c"
            ]
        ]
    },
    {
        "id": "69302a2b.72ec7c",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2488.952537536621,
        "y": 1603.8245120048523,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "8e578fe.a90fc7"
            ]
        ]
    },
    {
        "id": "ce494650.e8a068",
        "type": "set",
        "name": "set tmp.vnf-network-collection_length to 0",
        "xml": "<set>\n<parameter name='tmp.vnf-network-collection_length' value='0' />\n",
        "comments": "",
        "x": 577.9999694824219,
        "y": 1373.5864477157593,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "5c88403d.8f70c",
        "type": "set",
        "name": "set vnf-network-collection data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-network-collections.vnf-network-collection[$tmp.vnf-network-collection_length].network-instance-group-function'\n  value='`$aai.instance-group.instance-group-function`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-network-collections.vnf-network-collection[$tmp.vnf-network-collection_length].network-instance-group-id'\n  value='`$aai.instance-group.id`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-network-collections.vnf-network-collection[$tmp.vnf-network-collection_length].network-collection-service-instance-id'\n  value='`$service-data.network-instance-groups.network-instance-group[$nig-index].service-instance-id`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-network-collections.vnf-network-collection[$tmp.vnf-network-collection_length].network-collection-customization-uuid'\n  value='`$aai.collection.collection-customization-id`' />\n",
        "comments": "",
        "x": 2247.2860145568848,
        "y": 1652.1578254699707,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "b9100950.4719b",
        "type": "set",
        "name": "increment tmp.vnf-network-collection_length",
        "xml": "<set>\n<parameter name='tmp.vnf-network-collection_length' value='`$tmp.vnf-network-collection_length + 1`' />\n",
        "comments": "",
        "x": 2288.95272064209,
        "y": 1698.8244934082031,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "42a167cf.392ce",
        "type": "set",
        "name": "set vnf-network-collection_length",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-network-collections.vnf-network-collection_length'\n  value='`$tmp.vnf-network-collection_length`' />\n",
        "comments": "",
        "x": 557.1666641235352,
        "y": 1631.0863971710205,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "e2a99281.564c38",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 675.0000457763672,
        "y": 5964.062623023987,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "d6f181ce.7c619"
            ]
        ]
    },
    {
        "id": "f94face8.c5b278",
        "type": "for",
        "name": "for each instance group id",
        "xml": "<for silentFailure='true' index='inst-group-index' start='0' end='`$vnf-topology-operation-input.vnf-request-input.vnf-network-instance-group-ids_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 458.3333930969238,
        "y": 5964.729268074036,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "e2a99281.564c38"
            ]
        ]
    },
    {
        "id": "d6f181ce.7c619",
        "type": "save",
        "name": "save generic-vnf relationship to instance-group",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"generic-vnf:relationship-list\"\n   key=\"generic-vnf.vnf-id = $vnf-topology-operation-input.vnf-information.vnf-id\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"instance-group\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/instance-groups/instance-group/'\n        + $vnf-topology-operation-input.vnf-request-input.vnf-network-instance-group-ids[$inst-group-index].vnf-network-instance-group-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 958.3333740234375,
        "y": 5963.5863037109375,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "4be229a4.6bace8",
                "6d8aaab7.01cacc"
            ]
        ]
    },
    {
        "id": "4be229a4.6bace8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1217.6905975341797,
        "y": 5940.538719177246,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "df50542d.c5f3b8"
            ]
        ]
    },
    {
        "id": "6d8aaab7.01cacc",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1226.2620277404785,
        "y": 5984.824432373047,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "1108a556.80c593"
            ]
        ]
    },
    {
        "id": "441a09f7.0fe6e8",
        "type": "switchNode",
        "name": "switch subnet_length",
        "xml": "<switch test='`$aai.l3-network.l3-network[$db-network-index].subnets.subnet_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1279.9047927856445,
        "y": 4396.681671142578,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "74592fe8.651",
                "2e10a2f1.6aa266",
                "be4baf78.88dfd"
            ]
        ]
    },
    {
        "id": "74592fe8.651",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 1452.7619552612305,
        "y": 4359.538730621338,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "100a9f4a.252ff9"
            ]
        ]
    },
    {
        "id": "2e10a2f1.6aa266",
        "type": "outcome",
        "name": "0",
        "xml": "<outcome value='0'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1454.1905250549316,
        "y": 4398.109893798828,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "100a9f4a.252ff9"
            ]
        ]
    },
    {
        "id": "be4baf78.88dfd",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1452.7619895935059,
        "y": 4436.681285858154,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "189f5e1c.6f1062"
            ]
        ]
    },
    {
        "id": "189f5e1c.6f1062",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1574.190544128418,
        "y": 4436.681552886963,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "13a2f07f.5d3d1",
                "af0595f.ee72a68"
            ]
        ]
    },
    {
        "id": "100a9f4a.252ff9",
        "type": "set",
        "name": "set subnet_length to 0",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].subnets-data.subnet-data_length'\n   value='0' />\n",
        "comments": "",
        "x": 1645.6191482543945,
        "y": 4368.109893798828,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "bf83b00.ffd5dd",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 263.0793991088867,
        "y": 433.37209033966064,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "b05338be.f1a848",
                "d8bf5428.1ff1",
                "c4069bd9.1face",
                "77593791.068cb",
                "cfb0be93.de4aa8",
                "5f72fb15.e2e8f4",
                "7e13039d.149664",
                "caa8d84a.f0775"
            ]
        ]
    },
    {
        "id": "9e9b89f7.9bdbf",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1915.3810005187988,
        "y": 4415.2857484817505,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "27478f81.0dd9e",
                "8b199eff.6505a8",
                "221ad9cb.af5a46",
                "436d4bc.d154434"
            ]
        ]
    },
    {
        "id": "125c5567.a44893",
        "type": "set",
        "name": "clear aai.l3-network",
        "xml": "<set>\n<parameter name='aai.l3-network.' value='' />\n",
        "comments": "",
        "x": 1266.8095703125,
        "y": 3469.571301460266,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "6ea80d98.19177c",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 3715.6663818359375,
        "y": 4315.285430908203,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "60ffa0a.88fbae",
        "type": "set",
        "name": "set found-network to false",
        "xml": "<set>\n<parameter name='found-network' value='false' />\n",
        "comments": "",
        "x": 1415.380973815918,
        "y": 4020.9998350143433,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "ebfe35e9.d51238",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2387.0952796936035,
        "y": 4175.28563117981,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "48ea8c97.939764",
                "e9ad3c1f.8ebed"
            ]
        ]
    },
    {
        "id": "e9ad3c1f.8ebed",
        "type": "switchNode",
        "name": "switch found-network",
        "xml": "<switch test='`$found-network`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2578.523826599121,
        "y": 4205.285685539246,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "2df9a3e.c617b5c"
            ]
        ]
    },
    {
        "id": "f903bb12.78282",
        "type": "set",
        "name": "set found-network to true",
        "xml": "<set>\n<parameter name='found-network' value='true' />\n",
        "comments": "",
        "x": 3771.381259918213,
        "y": 4269.571111679077,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "2df9a3e.c617b5c",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2747.095317840576,
        "y": 4205.285614967346,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "7ff93171.83a9c"
            ]
        ]
    },
    {
        "id": "7ff93171.83a9c",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 2877.095386505127,
        "y": 4203.857008934021,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "614c8409.56f694",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1587.3809967041016,
        "y": 4148.99990940094,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "387ea551.d97d92",
                "abe39a5e.75319"
            ]
        ]
    },
    {
        "id": "abe39a5e.75319",
        "type": "switchNode",
        "name": "switch found-network",
        "xml": "<switch test='`$found-network`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1797.3809509277344,
        "y": 4220.999793052673,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "4c383345.aa66a4"
            ]
        ]
    },
    {
        "id": "4c383345.aa66a4",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1965.9524421691895,
        "y": 4220.999722480774,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "ce5f59f.7f086a8"
            ]
        ]
    },
    {
        "id": "ce5f59f.7f086a8",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 2095.9525108337402,
        "y": 4219.571116447449,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "221ad9cb.af5a46",
        "type": "set",
        "name": "set subnet data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].subnets-data.subnet-data[$subnet-index].ip-version'\n   value='`$tmp.ip-version`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].subnets-data.subnet-data[$subnet-index].subnet-id'\n   value='`$aai.l3-network.l3-network[$db-network-index].subnets.subnet[$subnet-index].neutron-subnet-id`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].subnets-data.subnet-data[$subnet-index].sdnc-subnet-id'\n   value='`$aai.l3-network.l3-network[$db-network-index].subnets.subnet[$subnet-index].subnet-id`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].subnets-data.subnet-data[$subnet-index].subnet-role'\n   value='`$aai.l3-network.l3-network[$db-network-index].subnets.subnet[$subnet-index].subnet-role`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].subnets-data.subnet-data[$subnet-index].subnet-name'\n   value='`$aai.l3-network.l3-network[$db-network-index].subnets.subnet[$subnet-index].subnet-name`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].subnets-data.subnet-data[$subnet-index].network-start-address'\n   value='`$aai.l3-network.l3-network[$db-network-index].subnets.subnet[$subnet-index].network-start-address`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].subnets-data.subnet-data[$subnet-index].gateway-address'\n   value='`$aai.l3-network.l3-network[$db-network-index].subnets.subnet[$subnet-index].gateway-address`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].subnets-data.subnet-data[$subnet-index].cidr-mask'\n   value='`$aai.l3-network.l3-network[$db-network-index].subnets.subnet[$subnet-index].cidr-mask`' />\n",
        "comments": "",
        "x": 2069.6667671203613,
        "y": 4445.9674949646,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "436d4bc.d154434",
        "type": "switchNode",
        "name": "switch dhcp-enabled",
        "xml": "<switch test='`$aai.l3-network.l3-network[$db-network-index].subnets.subnet[$subnet-index].dhcp-enabled`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2084.1905479431152,
        "y": 4498.810448646545,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "d5f84fa.0e1b6b",
                "a9a99866.3c80c8"
            ]
        ]
    },
    {
        "id": "d5f84fa.0e1b6b",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2247.047712598528,
        "y": 4477.381806373596,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "e9f0968.3130768"
            ]
        ]
    },
    {
        "id": "a9a99866.3c80c8",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2245.6190452575684,
        "y": 4523.096232414246,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "97ff2f93.5af418"
            ]
        ]
    },
    {
        "id": "e9f0968.3130768",
        "type": "set",
        "name": "set dhcp-enabled to Y",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].subnets-data.subnet-data[$subnet-index].dhcp-enabled'\n   value='Y' />\n",
        "comments": "",
        "x": 2419.9049110412598,
        "y": 4475.95320224762,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "97ff2f93.5af418",
        "type": "set",
        "name": "set dhcp-enabled to N",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].subnets-data.subnet-data[$subnet-index].dhcp-enabled'\n   value='N' />\n",
        "comments": "",
        "x": 2417.047679901123,
        "y": 4523.096232414246,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "27478f81.0dd9e",
        "type": "switchNode",
        "name": "switch subnet-role",
        "xml": "<switch test='`$aai.l3-network.l3-network[$db-network-index].subnets.subnet[$subnet-index].subnet-role`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2084.666717529297,
        "y": 4327.858120918274,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "bb5883df.25b6c"
            ]
        ]
    },
    {
        "id": "bb5883df.25b6c",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 2251.333320617676,
        "y": 4327.857772827148,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "54f77f42.c0543"
            ]
        ]
    },
    {
        "id": "54f77f42.c0543",
        "type": "set",
        "name": "set subnet-role to NONE",
        "xml": "<set>\n<parameter name='aai.l3-network.l3-network[$db-network-index].subnets.subnet[$subnet-index].subnet-role' value='NONE' />\n",
        "comments": "",
        "x": 2433.0001068115234,
        "y": 4327.191425323486,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "8b199eff.6505a8",
        "type": "switchNode",
        "name": "switch ip-version",
        "xml": "<switch test='`$aai.l3-network.l3-network[$db-network-index].subnets.subnet[$subnet-index].ip-version`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2079.9050521850586,
        "y": 4392.349226951599,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "eacc43b8.98473",
                "dddbd62a.34648"
            ]
        ]
    },
    {
        "id": "eacc43b8.98473",
        "type": "outcome",
        "name": "4",
        "xml": "<outcome value='4'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2245.6191940307617,
        "y": 4373.777624130249,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "9599a2f4.865eb8"
            ]
        ]
    },
    {
        "id": "dddbd62a.34648",
        "type": "outcome",
        "name": "6",
        "xml": "<outcome value='6'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2245.619155883789,
        "y": 4415.206367492676,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "a3d9012f.d50af"
            ]
        ]
    },
    {
        "id": "9599a2f4.865eb8",
        "type": "set",
        "name": "set tmp.ip-version to ipv4",
        "xml": "<set>\n<parameter name='tmp.ip-version' value='ipv4' />\n",
        "comments": "",
        "x": 2432.7619590759277,
        "y": 4372.920551300049,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "a3d9012f.d50af",
        "type": "set",
        "name": "set tmp.ip-version to ipv6",
        "xml": "<set>\n<parameter name='tmp.ip-version' value='ipv6' />\n",
        "comments": "",
        "x": 2431.333511352539,
        "y": 4415.206369400024,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "83a5f952.36e31",
        "type": "switchNode",
        "name": "switch network-role",
        "xml": "<switch test='`$db.vf-network-role-mapping[$role-index].network-role`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 712.3332443237305,
        "y": 4400.586277961731,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "785a1f35.a43408",
                "3d7e83e8.a71994",
                "67ddcd30.ef6e14",
                "47ca43a8.5c2a5c"
            ]
        ]
    },
    {
        "id": "785a1f35.a43408",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 880.4285087585449,
        "y": 4298.919689178467,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "1a917aea.74fb6d"
            ]
        ]
    },
    {
        "id": "3d7e83e8.a71994",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 878.999885559082,
        "y": 4427.252877235413,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "c302bb2b.5f6d08"
            ]
        ]
    },
    {
        "id": "1a917aea.74fb6d",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1017.8095169067383,
        "y": 4338.681268692017,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "f38e05b8.78f318",
        "type": "get-resource",
        "name": "get-resource VNF_RELATED_NETWORK_ROLE",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='SELECT * from VNF_RELATED_NETWORK_ROLE where vnf_customization_uuid = $vnf-topology-operation-input.vnf-information.onap-model-information.model-customization-uuid\n    and network_role = $db.vf-network-role-mapping[$role-index].network-role'\n  pfx='db.vnf-related-network-role[]'>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1374.333339691162,
        "y": 4730.3327922821045,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "3f948b0e.690e64",
                "e998b851.1c7048"
            ]
        ]
    },
    {
        "id": "3f948b0e.690e64",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1643.0000038146973,
        "y": 4560.9996337890625,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "62e01756.b02ec8"
            ]
        ]
    },
    {
        "id": "e998b851.1c7048",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1646.0000343322754,
        "y": 4923.666145324707,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "413c86fa.9792c8"
            ]
        ]
    },
    {
        "id": "413c86fa.9792c8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1812.333339691162,
        "y": 4921.6658000946045,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "f6a89539.411ba8",
                "197488cf.5f2577",
                "30161879.c0da28",
                "95e1983d.defa7",
                "885fafcd.073ea",
                "d639c6e8.5989d",
                "aa946eba.37b0e",
                "d24fdba9.53c6",
                "e48d6b1e.9814e"
            ]
        ]
    },
    {
        "id": "9d09f6f3.62b358",
        "type": "outcome",
        "name": "service-instance",
        "xml": "<outcome value='service-instance'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2750.618808746338,
        "y": 4093.9044713974,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "deec3bbc.f5b66"
            ]
        ]
    },
    {
        "id": "deec3bbc.f5b66",
        "type": "for",
        "name": "for each relationship data",
        "xml": "<for silentFailure='true' index='db-data-index' start='0' end='`$aai.l3-network.l3-network[$db-network-index].relationship-list.relationship[$db-rel-index].relationship-data_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2976.0946464538574,
        "y": 4094.333101272583,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "c800e855.3f04b"
            ]
        ]
    },
    {
        "id": "c800e855.3f04b",
        "type": "switchNode",
        "name": "switch relationship-key",
        "xml": "<switch test='`$aai.l3-network.l3-network[$db-network-index].relationship-list.relationship[$db-rel-index].relationship-data[$db-data-index].relationship-key`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3211.3332176208496,
        "y": 4092.6665325164795,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "995bbfc.ce0f9c"
            ]
        ]
    },
    {
        "id": "995bbfc.ce0f9c",
        "type": "outcome",
        "name": "service-instance.service-instance-id",
        "xml": "<outcome value='service-instance.service-instance-id'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3477.761577606201,
        "y": 4092.6665964126587,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "26694f48.9bd148"
            ]
        ]
    },
    {
        "id": "26694f48.9bd148",
        "type": "set",
        "name": "set network-service-instance-id",
        "xml": "<set>\n<parameter name='network-service-instance-id'\n  value='`$aai.l3-network.l3-network[$db-network-index].relationship-list.relationship[$db-rel-index].relationship-data[$db-data-index].relationship-value`' />\n",
        "comments": "",
        "x": 3771.3333625793457,
        "y": 4091.000011444092,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "f6a89539.411ba8",
        "type": "execute",
        "name": "generate network-topology-identifier-structure url",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.network-topology-identifier-structure`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.part\"/>\n    <parameter name=\"target\" value=\"{service-instance-id}\"/>\n    <parameter name=\"replacement\" value=\"`$network-service-instance-id`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2131.6665077209473,
        "y": 4617.333433151245,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "30161879.c0da28",
        "type": "execute",
        "name": "execute RestApiCallNode - get network-topology-identifier-structure",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.ntis-url`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='GET' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-ntis\" />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2188.666301727295,
        "y": 4720.762173652649,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "f550e672.9125f8"
            ]
        ]
    },
    {
        "id": "197488cf.5f2577",
        "type": "execute",
        "name": "generate network-topology-identifier-structure url (part 2)",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.part`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.ntis-url\"/>\n    <parameter name=\"target\" value=\"{network-id}\"/>\n    <parameter name=\"replacement\" value=\"`$l3-network-id`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2153.333095550537,
        "y": 4660.6667766571045,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "a5911152.d7aeb",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/bgb-vnfa.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 458.6667137145996,
        "y": 4567.3327922821045,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "f550e672.9125f8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2517.775489807129,
        "y": 4720.512651443481,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "5682a799.32827"
            ]
        ]
    },
    {
        "id": "95e1983d.defa7",
        "type": "set",
        "name": "set is-trunked and segmentation-id in vnf-network",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].is-trunked'\n    value='`$mdsal-ntis.network-topology-identifier-structure.is-trunked`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].segmentation-id'\n    value='`$mdsal-ntis.network-topology-identifier-structure.segmentation-id`' />\n    ",
        "comments": "",
        "x": 2131.333324432373,
        "y": 4780.999797821045,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "d639c6e8.5989d",
        "type": "save",
        "name": "custom query: get owning entity",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n      resource=\"custom-query\"\n      key=\"format = 'resource'\"\n      force=\"true\"\n      local-only=\"false\"\n      pfx=\"tmp.AnAI-data.oe\">\n<parameter name=\"start[0]\" value=\"`'nodes/service-instances/service-instance?service-instance-id=' + $network-service-instance-id `\" />\n<parameter name=\"start_length\" value=\"1\" />\n<parameter name=\"query\" value=\"/query/owning-entity-fromService-instance\" /> \n",
        "comments": "",
        "outputs": 1,
        "x": 2072.3332176208496,
        "y": 4856.3332805633545,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "e2718d88.f97c7",
                "8daa1e44.ac1f"
            ]
        ]
    },
    {
        "id": "e2718d88.f97c7",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2282.5712661743164,
        "y": 4834.999634742737,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "3cb8f8f8.397e8"
            ]
        ]
    },
    {
        "id": "8daa1e44.ac1f",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2289.7141609191895,
        "y": 4880.7138595581055,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "9441abd.ea4d958"
            ]
        ]
    },
    {
        "id": "e0ebd076.a4ab3",
        "type": "save",
        "name": "custom query: get tenant network",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n      resource=\"custom-query\"\n      key=\"format = 'resource'\"\n      force=\"true\"\n      local-only=\"false\"\n      pfx=\"tmp.AnAI-data.get-networks\">\n<parameter name=\"start[0]\" value=\"`'/business/owning-entities/owning-entity/' + $tmp.AnAI-data.oe.results[0].owning-entity.owning-entity-id `\" />\n<parameter name=\"start_length\" value=\"1\" />\n<parameter name=\"query\" value=\"`'/query/getNetworks?networkRole=' + $db.vnf-related-network-role[$rel-network-role-index].related-network-role\n  + '&amp;cloudRegionId=' + $vnf-topology-operation-input.vnf-request-input.aic-cloud-region`\" /> \n",
        "comments": "",
        "outputs": 1,
        "x": 2522.0000343322754,
        "y": 5029.333417892456,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "759dfef0.b441c8",
                "46842451.33c984"
            ]
        ]
    },
    {
        "id": "759dfef0.b441c8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2735.238082885742,
        "y": 5007.9999170303345,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "b524c65d.e8c7c"
            ]
        ]
    },
    {
        "id": "46842451.33c984",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2742.3809776306152,
        "y": 5053.714141845703,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "c4b783d3.51c55"
            ]
        ]
    },
    {
        "id": "4732a97e.71d8e8",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for index='rel-index' start='0' end='`$tmp.AnAI-data.get-networks.results[0].l3-network.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2489.0000343322754,
        "y": 5155.333562850952,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "a9774c08.3a0168"
            ]
        ]
    },
    {
        "id": "a9774c08.3a0168",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.AnAI-data.get-networks.results[0].l3-network.relationship-list.relationship[$rel-index].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2687.0000343322754,
        "y": 5155.333562850952,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "2124036b.f6de24"
            ]
        ]
    },
    {
        "id": "2124036b.f6de24",
        "type": "outcome",
        "name": "vlan-tag",
        "xml": "<outcome value='vlan-tag'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2857.0000343322754,
        "y": 5155.333562850952,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "735e3d41.846f44"
            ]
        ]
    },
    {
        "id": "735e3d41.846f44",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3025.0000343322754,
        "y": 5153.333562850952,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "f6994075.bfe0e8",
                "e29b5013.2064d8",
                "2c31386.b0914c8"
            ]
        ]
    },
    {
        "id": "f6994075.bfe0e8",
        "type": "set",
        "name": "set vlan-tag-id",
        "xml": "<set>\n<parameter name='vlan-tag-id' value='`$tmp.AnAI-data.get-networks.results[0].l3-network.relationship-list.relationship[$rel-index].relationship-data[0].relationship-value`' />\n",
        "comments": "",
        "x": 3201.0000343322754,
        "y": 5113.333562850952,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "e29b5013.2064d8",
        "type": "get-resource",
        "name": "get-resource vlan-tag",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"vlan-tag\" \n\t\tkey=\"vlan-tag.vlan-tag-id = $vlan-tag-id\"\n        pfx='aai.vlan-tag' local-only='false'\n>\n",
        "comments": "",
        "outputs": 1,
        "x": 3223.0000343322754,
        "y": 5171.333562850952,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "a74c83c0.264378",
                "29531950.5c7366"
            ]
        ]
    },
    {
        "id": "a74c83c0.264378",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3403.0476417541504,
        "y": 5153.476629257202,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "b7613405.a57bf"
            ]
        ]
    },
    {
        "id": "885fafcd.073ea",
        "type": "for",
        "name": "for each related network role",
        "xml": "<for index='rel-network-role-index' start='0' end='`$db.vnf-related-network-role_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2059.9999656677246,
        "y": 5085.667127609253,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "bf4945d0.47b928"
            ]
        ]
    },
    {
        "id": "bf4945d0.47b928",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2264.9999656677246,
        "y": 5087.0002727508545,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "e0ebd076.a4ab3",
                "4732a97e.71d8e8",
                "54bbb42c.475e6c"
            ]
        ]
    },
    {
        "id": "d24fdba9.53c6",
        "type": "switchNode",
        "name": "switch rn-index",
        "xml": "<switch test='`$rn-index`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2020.9999656677246,
        "y": 4975.3332805633545,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "aaedd012.f0d238"
            ]
        ]
    },
    {
        "id": "aa946eba.37b0e",
        "type": "set",
        "name": "set rn-index to related network length",
        "xml": "<set>\n<parameter name='rn-index' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].related-networks.related-network_length`' />\n",
        "comments": "",
        "x": 2089.6665534973145,
        "y": 4926.33313369751,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "aaedd012.f0d238",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 2184.9999656677246,
        "y": 4975.3332805633545,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "5a38498e.8f3fd8"
            ]
        ]
    },
    {
        "id": "5a38498e.8f3fd8",
        "type": "set",
        "name": "set rn-index to 0",
        "xml": "<set>\n<parameter name='rn-index' value='0' />\n",
        "comments": "",
        "x": 2344.9999656677246,
        "y": 4975.3332805633545,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "54bbb42c.475e6c",
        "type": "set",
        "name": "set related-network data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].related-networks.related-network[$rn-index].network-id'\n  value='`$tmp.AnAI-data.get-networks.results[0].l3-network.network-id`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].related-networks.related-network[$rn-index].network-role'\n  value='`$tmp.AnAI-data.get-networks.results[0].l3-network.network-role`' />\n",
        "comments": "",
        "x": 2492.6666221618652,
        "y": 5086.000104904175,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "e48d6b1e.9814e",
        "type": "set",
        "name": "set new related network length",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].related-networks.related-network_length'\n  value='`$rn-index + 1`' />\n",
        "comments": "",
        "x": 2055.0000343322754,
        "y": 5229.333417892456,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "29531950.5c7366",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3405.0000343322754,
        "y": 5201.333417892456,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "d512370d.fd34e"
            ]
        ]
    },
    {
        "id": "d512370d.fd34e",
        "type": "set",
        "name": "set related-network data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].related-networks.related-network[$rn-index].vlan-tags.vlan-interface'\n  value='`$aai.vlan-tag.vlan-tag-id`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].related-networks.related-network[$rn-index].vlan-tags.upper-tag-id'\n  value='`$aai.vlan-tag.vlan-id-outer`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].related-networks.related-network[$rn-index].vlan-tags.lower-tag-id'\n  value='`$aai.vlan-tag.vlan-id-inner`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].related-networks.related-network[$rn-index].vlan-tags.is-private'\n  value='`$aai.vlan-tag.is-private`' />\n",
        "comments": "",
        "x": 3597.0000343322754,
        "y": 5201.333417892456,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "2c31386.b0914c8",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 3175.0000343322754,
        "y": 5239.333417892456,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "a62d7699.385658",
        "type": "comment",
        "name": "temporary data issue: also ignore string \"null\" and \"NULL\"",
        "info": "",
        "comments": "",
        "x": 851.3333473205566,
        "y": 4259.095401763916,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "67ddcd30.ef6e14",
        "type": "outcome",
        "name": "null",
        "xml": "<outcome value='null'>\n",
        "comments": "",
        "outputs": 1,
        "x": 878.4761695861816,
        "y": 4341.952543258667,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "1a917aea.74fb6d"
            ]
        ]
    },
    {
        "id": "47ca43a8.5c2a5c",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value='NULL'>",
        "comments": "",
        "outputs": 1,
        "x": 878.4761791229248,
        "y": 4384.809615135193,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "1a917aea.74fb6d"
            ]
        ]
    },
    {
        "id": "77593791.068cb",
        "type": "switchNode",
        "name": "switch input cloud-owner",
        "xml": "<switch test='`$vnf-topology-operation-input.vnf-request-input.cloud-owner`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 528.0000381469727,
        "y": 432.66664695739746,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "48881f21.46201",
                "5851d57b.cc764c"
            ]
        ]
    },
    {
        "id": "48881f21.46201",
        "type": "other",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 711.3334121704102,
        "y": 402.66663551330566,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "bc40050b.2016e"
            ]
        ]
    },
    {
        "id": "5851d57b.cc764c",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 711.0953178405762,
        "y": 443.6191291809082,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "243b5b47.2a1984"
            ]
        ]
    },
    {
        "id": "bc40050b.2016e",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 846.333366394043,
        "y": 400.9999752044678,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "243b5b47.2a1984",
        "type": "set",
        "name": "set prop.cloud-region.cloud-owner",
        "xml": "<set>\n<parameter name='prop.cloud-region.cloud-owner' value='`$vnf-topology-operation-input.vnf-request-input.cloud-owner`' />\n",
        "comments": "",
        "x": 928.0000228881836,
        "y": 442.6666564941406,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "cfb0be93.de4aa8",
        "type": "call",
        "name": "call self-serve-vnf-forking-logic",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='self-serve-vnf-forking-logic' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 545.8571624755859,
        "y": 753.46728515625,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "5f72fb15.e2e8f4",
        "type": "switchNode",
        "name": "switch ss.self-serve-flag",
        "xml": "<switch test=\"`$ss.self-serve-flag`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 525.9998779296875,
        "y": 919.0387725830078,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "ca7ff4c7.06bb68",
                "d536a3b3.031e68"
            ]
        ]
    },
    {
        "id": "ca7ff4c7.06bb68",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 737.7140350341797,
        "y": 992.3240566253662,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "14788654.ce330a"
            ]
        ]
    },
    {
        "id": "d536a3b3.031e68",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 737.2855529785156,
        "y": 855.8958902359009,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "9f86838a.03451"
            ]
        ]
    },
    {
        "id": "188d06d.21abdf9",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 917.4444923400879,
        "y": 554.6418714523315,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "18b80053.220bd8",
                "7a46cfea.c20b2"
            ]
        ]
    },
    {
        "id": "513e881c.9b735",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 917.4444923400879,
        "y": 603.2133131027222,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "29ad4bd6.7a918c",
                "7a46cfea.c20b2"
            ]
        ]
    },
    {
        "id": "77a122cf.38f42c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 920.3016090393066,
        "y": 647.4990186691284,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "b70b1c9b.b0005",
                "7a46cfea.c20b2"
            ]
        ]
    },
    {
        "id": "18b80053.220bd8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"If svc-action is 'assign' then request-action must be 'CreateVnfInstance'\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1153.8730735778809,
        "y": 554.6418619155884,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "29ad4bd6.7a918c",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error reading VF_MODEL table\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1152.4444847106934,
        "y": 603.3561563491821,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "b70b1c9b.b0005",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'No model found for VNF customization UUID ' + $vnf-topology-operation-input.vnf-information.onap-model-information.model-customization-uuid`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1152.4444847106934,
        "y": 647.4990091323853,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "a23e97a1.879b88",
        "type": "call",
        "name": "call self-serve-vnf-assign",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='self-serve-vnf-assign' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1188.3211402893066,
        "y": 753.3602352142334,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "464f1d64.e9ee74"
            ]
        ]
    },
    {
        "id": "5ab38ea3.87a95",
        "type": "comment",
        "name": "SELF-SERVE FORK",
        "info": "",
        "comments": "",
        "x": 907.7618942260742,
        "y": 806.7649154663086,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "464f1d64.e9ee74",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1393.6187210083008,
        "y": 752.8482666015625,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "16426f3a.7a3f71"
            ]
        ]
    },
    {
        "id": "1c4a1d53.f78c8b",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 1163.5635070800781,
        "y": 1002.0426610708237,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "a9871a52.4c62c8",
        "type": "set",
        "name": "set vnf-level-oper-status to PendingCreate",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-level-oper-status.order-status' value='PendingCreate' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-level-oper-status.last-rpc-action' value='`$vnf-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-level-oper-status.last-action' value='`$vnf-topology-operation-input.request-information.request-action`' />\n",
        "comments": "",
        "x": 1251.432487487793,
        "y": 804.8522758483887,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "2e89c9f5.0a4c26",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/ss-vnfend.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 1150.6348037719727,
        "y": 855.2920522689819,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "9f86838a.03451",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 927.8727645874023,
        "y": 855.7529449462891,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "a23e97a1.879b88",
                "a9871a52.4c62c8",
                "2e89c9f5.0a4c26",
                "1c4a1d53.f78c8b",
                "8d27e9d2.f1e978",
                "97334262.a10fc"
            ]
        ]
    },
    {
        "id": "7a46cfea.c20b2",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1769.3176345825195,
        "y": 832.4992618560791,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "c1ed3b4.b543348",
                "282b78b6.aebb7"
            ]
        ]
    },
    {
        "id": "16426f3a.7a3f71",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1569.635009765625,
        "y": 753.0387029647827,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "70af52d1.53ad84",
                "7a46cfea.c20b2"
            ]
        ]
    },
    {
        "id": "70af52d1.53ad84",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Failed to create self-serve assignment for vnf with vnf-id=' + $vnf-topology-operation-input.vnf-information.vnf-id + ' with error: ' + $error-message`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1781.162956237793,
        "y": 694.9435482025146,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "ded883f9.922bb",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'VNF id ' + $service-data.vnfs.vnf[$idx].vnf-id\n      + ' already exists'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2211.999954223633,
        "y": 1266.9196014404297,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "472848ae.4b4ee",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Cannot find instance group id ' +\n      $vnf-topology-operation-input.vnf-request-input.vnf-network-instance-group-ids[$inst-group-index].vnf-network-instance-group-id\n      + ' in AAI'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1589.0950775146484,
        "y": 1321.7292499542236,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "6baa8775.ce8748",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error retrieving instance-group from AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1589.0950393676758,
        "y": 1384.8720359802246,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "7b340405.85b91c",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Unable to find AAI relationship from collection '\n      + $aai.instance-group.relationship-list.relationship[$rel-index].relationship-data[0].relationship-value\n      + ' to service instance'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2183.6665420532227,
        "y": 1401.2053356170654,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "4b527620.59446",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Failed to get network service instance '\n      + $network-service-instance + ' from MD-SAL'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2185.1427841186523,
        "y": 1442.9197368621826,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "d4c1cf70.ed432",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Could not find network instance group ' +\n      $vnf-topology-operation-input.vnf-request-input.vnf-network-instance-group-ids[$inst-group-index].vnf-network-instance-group-id\n      + ' in MD-SAL service instance '\n      + $network-service-instance`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2869.666893005371,
        "y": 1601.4434614181519,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "17df96cb.754441",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2895.6786499023438,
        "y": 1905.6222515106201,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "e733881a.ac1f4",
                "3dd98612.ab55e2"
            ]
        ]
    },
    {
        "id": "fb90666f.a03358",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2006.9998321533203,
        "y": 1265.25288772583,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "ded883f9.922bb",
                "17df96cb.754441"
            ]
        ]
    },
    {
        "id": "7b566e9a.02ffe",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1377.3333206176758,
        "y": 1321.9194812774658,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "472848ae.4b4ee",
                "17df96cb.754441"
            ]
        ]
    },
    {
        "id": "46fc6653.09995",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1377.9996948242188,
        "y": 1384.5861864089966,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "6baa8775.ce8748",
                "17df96cb.754441"
            ]
        ]
    },
    {
        "id": "716a6bd7.84c124",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1966.3332138061523,
        "y": 1401.5863666534424,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "7b340405.85b91c",
                "17df96cb.754441"
            ]
        ]
    },
    {
        "id": "61ef806e.0df108",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1964.6665878295898,
        "y": 1443.5862560272217,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "4b527620.59446",
                "17df96cb.754441"
            ]
        ]
    },
    {
        "id": "8e578fe.a90fc7",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2658.9524307250977,
        "y": 1602.1577234268188,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "d4c1cf70.ed432",
                "17df96cb.754441"
            ]
        ]
    },
    {
        "id": "75700df9.afdc2c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1465.3808898925781,
        "y": 1837.1576290130615,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "e9702d46.26adb8",
                "15cf10ee.e25e07"
            ]
        ]
    },
    {
        "id": "e9702d46.26adb8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"No vnf-name was received but ecomp-generated-naming is not Y\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1695.2381210327148,
        "y": 1837.5859642028809,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "8993a315.cb4e88",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2218.2380142211914,
        "y": 1941.0148086547852,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "fdb7a51d.af4ee8",
                "15cf10ee.e25e07"
            ]
        ]
    },
    {
        "id": "fdb7a51d.af4ee8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`$generate-unique-name-output.error-message`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2426.380889892578,
        "y": 1940.586199760437,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "f2317901.0924b",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2266.809440612793,
        "y": 2067.1575412750244,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "856de475.45ba98",
                "15cf10ee.e25e07"
            ]
        ]
    },
    {
        "id": "856de475.45ba98",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Unable to generate VNF name\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2489.6664962768555,
        "y": 2067.586212158203,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "15cf10ee.e25e07",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2541.5480422973633,
        "y": 2322.586645126343,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "f22d0ab9.1bb94",
                "bebfeeed.4ae468"
            ]
        ]
    },
    {
        "id": "5d5eddf8.f77b84",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 959.1904449462891,
        "y": 2977.5387382507324,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "c08f5c29.3f9638",
                "3000afa5.73af78"
            ]
        ]
    },
    {
        "id": "c08f5c29.3f9638",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Cloud region not found in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1157.7617874145508,
        "y": 2943.2530241012573,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "67a22798.d81588",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 962.523796081543,
        "y": 3020.872024536133,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "c412f231.3450f",
                "3000afa5.73af78"
            ]
        ]
    },
    {
        "id": "c412f231.3450f",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error retrieving cloud region from AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1161.0951385498047,
        "y": 2986.5863103866577,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "8a243db.c5662c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 820.8572311401367,
        "y": 3199.8721714019775,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "1b929659.994202",
                "3000afa5.73af78"
            ]
        ]
    },
    {
        "id": "1b929659.994202",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Unable to find aic-clli in AAI for aic-cloud-region ' + $vnf-topology-operation-input.vnf-request-input.aic-cloud-region`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1030.8572235107422,
        "y": 3178.4436597824097,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "3000afa5.73af78",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1917.4405975341797,
        "y": 3755.0738525390625,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "378b03ce.20c66c",
                "7f7bd6c0.4dce5",
                "dd87ea49.833d68",
                "7840dd27.291b7c"
            ]
        ]
    },
    {
        "id": "48f3f890.8517f8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1106.3333282470703,
        "y": 3289.9673357009888,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "cb477d35.d878f8",
                "3000afa5.73af78"
            ]
        ]
    },
    {
        "id": "cb477d35.d878f8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error reading VF_TO_NETWORK_ROLE_MAPPING table\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1309.1904373168945,
        "y": 3257.110231399536,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "c82ac0d8.cc5e38",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1676.3332824707031,
        "y": 3499.5386238098145,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "72b2b538.d558dc",
                "3000afa5.73af78"
            ]
        ]
    },
    {
        "id": "72b2b538.d558dc",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Unable to find l3-network in AAI for network role ' + $db.vf-network-role-mapping[$role-index].network-role`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1887.7618865966797,
        "y": 3468.109914779663,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "5682a799.32827",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2696.8094635009766,
        "y": 4720.92068862915,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "7661361b.939148",
                "26c72533.15b0ea"
            ]
        ]
    },
    {
        "id": "7661361b.939148",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`\n    'Error retrieving network-topology-identifier-structure for service instance '\n    + $network-service-instance-id\n    + ' and network-id '\n    + $l3-network-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2908.237968444824,
        "y": 4689.491903305054,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "62e01756.b02ec8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1809.4761962890625,
        "y": 4561.3011302948,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "f751a4f8.1ed6c",
                "26c72533.15b0ea"
            ]
        ]
    },
    {
        "id": "f751a4f8.1ed6c",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error reading VNF_RELATED_NETWORK_ROLE table\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2023.4761962890625,
        "y": 4542.443983078003,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "3cb8f8f8.397e8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2453.952423095703,
        "y": 4836.920272827148,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "c14a1816.2bece8",
                "26c72533.15b0ea"
            ]
        ]
    },
    {
        "id": "c14a1816.2bece8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error getting owning entity from service instance\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2661.095443725586,
        "y": 4812.634654998779,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "9441abd.ea4d958",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2468.952423095703,
        "y": 4881.920272827148,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "5cc607a9.f4749",
                "26c72533.15b0ea"
            ]
        ]
    },
    {
        "id": "5cc607a9.f4749",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Unable to find owning entity from service instance\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2670.3810653686523,
        "y": 4856.206466674805,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "b524c65d.e8c7c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2912.9998168945312,
        "y": 5007.396204948425,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "2ae5f0aa.16eba",
                "26c72533.15b0ea"
            ]
        ]
    },
    {
        "id": "2ae5f0aa.16eba",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error calling getNetworks custom query in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3128.714179992676,
        "y": 4977.396194458008,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "c4b783d3.51c55",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2924.6665649414062,
        "y": 5052.396204948425,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "d11e9c05.b61cf",
                "26c72533.15b0ea"
            ]
        ]
    },
    {
        "id": "d11e9c05.b61cf",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'No l3-network returned from getNetworks custom query for related network role '\n      + $db.vnf-related-network-role[0].related-network-role`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3140.380928039551,
        "y": 5022.396194458008,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "b7613405.a57bf",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3568.952033996582,
        "y": 5153.5867710113525,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "e1d3badb.4944e",
                "26c72533.15b0ea"
            ]
        ]
    },
    {
        "id": "e1d3badb.4944e",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error getting vlan-tag object from AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3781.80916595459,
        "y": 5126.443904876709,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "26c72533.15b0ea",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3688.6791076660156,
        "y": 5604.528138160706,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "db3d93.58c8227",
                "ad080da7.45d5b",
                "140e4a8.aa852b6",
                "4fe34f3d.b60a38"
            ]
        ]
    },
    {
        "id": "76d0200d.fc0188",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1676.333267211914,
        "y": 3549.538619995117,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "ac11c09f.11a3f8",
                "3000afa5.73af78"
            ]
        ]
    },
    {
        "id": "ac11c09f.11a3f8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error retrieving l3-network from AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1887.7618713378906,
        "y": 3518.109910964966,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "2f7baa50.3a7f6e",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Unable to find l3-network in AAI for network role ' + $db.vf-network-role-mapping[$role-index].network-role`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1812.0476913452148,
        "y": 4260.967214584351,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "d3e41f3b.440478",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1612.0476913452148,
        "y": 4275.253004074097,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "2f7baa50.3a7f6e",
                "26c72533.15b0ea"
            ]
        ]
    },
    {
        "id": "9c4ebd50.5f47c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1266.3332748413086,
        "y": 5448.1097774505615,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "26c1eaae.bf138e",
                "fe30a9c6.049198"
            ]
        ]
    },
    {
        "id": "26c1eaae.bf138e",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'No availability zones found in AAI for cloud region '\n       + $vnf-topology-operation-input.vnf-request-input.aic-cloud-region`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1469.1904067993164,
        "y": 5429.538348197937,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "6293928d.4f10b4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1493.7144622802734,
        "y": 5574.777044296265,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "a65d67ab.54ccc8",
                "fe30a9c6.049198"
            ]
        ]
    },
    {
        "id": "a65d67ab.54ccc8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error updating generic-vnf in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1695.1430130004883,
        "y": 5554.777045249939,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "6db07962.51fbc8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1495.381088256836,
        "y": 5618.110052108765,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "f04c754d.905e58",
                "fe30a9c6.049198"
            ]
        ]
    },
    {
        "id": "f04c754d.905e58",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'No generic-vnf found in AAI for vnf ID ' + $service-data.vnfs.vnf[$vnf-index].vnf-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1696.8096389770508,
        "y": 5598.110053062439,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "b28581b0.5712a",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1353.238136291504,
        "y": 5692.871700286865,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "97c4188b.d87ca",
                "fe30a9c6.049198"
            ]
        ]
    },
    {
        "id": "97c4188b.d87ca",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error updating generic-vnf in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1550.9166717529297,
        "y": 5671.2645263671875,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "1b732815.14e07",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1373.2976303100586,
        "y": 5737.931618690491,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "3b0cf6e0.855aaa",
                "fe30a9c6.049198"
            ]
        ]
    },
    {
        "id": "3b0cf6e0.855aaa",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'No generic-vnf found in AAI for vnf ID ' + $service-data.vnfs.vnf[$vnf-index].vnf-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1577.583396911621,
        "y": 5715.074615478516,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "8d790e64.fbc6b8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 789.0118942260742,
        "y": 5847.550687789917,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "c1b55e7e.c6db7",
                "fe30a9c6.049198"
            ]
        ]
    },
    {
        "id": "c1b55e7e.c6db7",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error updating selflink in generic-vnf in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 994.7262344360352,
        "y": 5823.264833450317,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "86656044.af7ea",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 802.3452072143555,
        "y": 5890.884183883667,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "8343190d.5848c",
                "fe30a9c6.049198"
            ]
        ]
    },
    {
        "id": "8343190d.5848c",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'No generic-vnf found in AAI for vnf ID ' + $service-data.vnfs.vnf[$vnf-index].vnf-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1008.0595474243164,
        "y": 5866.598329544067,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "df50542d.c5f3b8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1382.3928909301758,
        "y": 5940.264762878418,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "1553bf30.21afc9",
                "fe30a9c6.049198"
            ]
        ]
    },
    {
        "id": "1553bf30.21afc9",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error updating relationship in generic-vnf in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1576.678611755371,
        "y": 5914.550754547119,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "1108a556.80c593",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1397.3928909301758,
        "y": 5983.598258972168,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "65d2b92b.988988",
                "fe30a9c6.049198"
            ]
        ]
    },
    {
        "id": "65d2b92b.988988",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'No generic-vnf found in AAI for vnf ID ' + $service-data.vnfs.vnf[$vnf-index].vnf-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1591.678611755371,
        "y": 5957.884250640869,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "a2884948.862f8",
        "type": "execute",
        "name": "execute RestApiCallNode - PUT vnf",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + 'vnf-data-assign.json'`\" />\n    <parameter name='restapiUrl' value=\"`$prop.controller.url + $tmp.vnf.url`\" />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"vnf-assign\" />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 492.32120513916016,
        "y": 6348.242176055908,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "eb2fd10f.58d528",
                "766f2742.7f101"
            ]
        ]
    },
    {
        "id": "eb2fd10f.58d528",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 739.5339660644531,
        "y": 6369.5728969573975,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "601af5e.6e5998c"
            ]
        ]
    },
    {
        "id": "766f2742.7f101",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 731.9626007080078,
        "y": 6328.072916984558,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "601af5e.6e5998c"
            ]
        ]
    },
    {
        "id": "601af5e.6e5998c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 907.5592803955078,
        "y": 6348.0033712387085,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "f06a0861.c5b6a",
                "fe30a9c6.049198"
            ]
        ]
    },
    {
        "id": "f06a0861.c5b6a",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error doing PUT of vnf-data\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1113.2735900878906,
        "y": 6313.717488288879,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "5d5f2dd1.10210c",
        "type": "set",
        "name": "set so.response-code = 200",
        "xml": "<set>\n<parameter name=\"so.response-code\" value=\"200\" />",
        "comments": "",
        "x": 463.09376525878906,
        "y": 6490.753565788269,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "7e13039d.149664",
        "type": "set",
        "name": "Initialize SO 500 reponse params",
        "xml": "<set>\n<parameter name=\"so.ack-final-indicator\" value=\"Y\" />\n<parameter name=\"so.response-code\" value=\"500\" />\n<parameter name=\"so.notification-url\" value=\"`$vnf-topology-operation-input.sdnc-request-header.svc-notification-url`\" />\n<parameter name=\"so.svc-request-id\" value=\"`$vnf-topology-operation-input.sdnc-request-header.svc-request-id`\" />\n<parameter name=\"so.service-type\" value=\"`$vnf-topology-operation-input.service-information.subscription-service-type`\" />\n<parameter name=\"so.service-instance-id\" value=\"`$vnf-topology-operation-input.service-information.service-instance-id`\" />\n",
        "comments": "",
        "x": 557.7606201171875,
        "y": 350.2079162597656,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "378b03ce.20c66c",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2243.2909622192383,
        "y": 3805.4048023223877,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "8d27e9d2.f1e978",
        "type": "set",
        "name": "set so.reponse-code = 200",
        "xml": "<set>\n<parameter name=\"so.response-code\" value=\"200\" />\n",
        "comments": "",
        "x": 1203.8462142944336,
        "y": 901.5159912109375,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "7f7bd6c0.4dce5",
        "type": "set",
        "name": "set variables for deleting name",
        "xml": "<set>\n<parameter name='naming-policy-generate-name-input.naming-type' value='VNF' />\n<parameter name='naming-policy-generate-name-input.context-id' value='`$vnf-topology-operation-input.vnf-information.vnf-id`' />\n<parameter name='naming-policy-generate-name-input.action' value='DELETE' />\n",
        "comments": "",
        "x": 2190.096290588379,
        "y": 3704.2937421798706,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "dd87ea49.833d68",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:naming-policy-generate-name",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='naming-policy-generate-name' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2287.66756439209,
        "y": 3754.436101913452,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "140e4a8.aa852b6",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4022.0410079956055,
        "y": 5628.599155426025,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "db3d93.58c8227",
        "type": "set",
        "name": "set variables for deleting name",
        "xml": "<set>\n<parameter name='naming-policy-generate-name-input.naming-type' value='VNF' />\n<parameter name='naming-policy-generate-name-input.context-id' value='`$vnf-topology-operation-input.vnf-information.vnf-id`' />\n<parameter name='naming-policy-generate-name-input.action' value='DELETE' />\n",
        "comments": "",
        "x": 3968.846336364746,
        "y": 5527.488095283508,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "ad080da7.45d5b",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:naming-policy-generate-name",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='naming-policy-generate-name' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4066.417610168457,
        "y": 5577.63045501709,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "574c5265.459624",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2251.2076263427734,
        "y": 6609.572826385498,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "fcd8b4d3.ba6f18",
        "type": "set",
        "name": "set variables for deleting name",
        "xml": "<set>\n<parameter name='naming-policy-generate-name-input.naming-type' value='VNF' />\n<parameter name='naming-policy-generate-name-input.context-id' value='`$vnf-topology-operation-input.vnf-information.vnf-id`' />\n<parameter name='naming-policy-generate-name-input.action' value='DELETE' />\n",
        "comments": "",
        "x": 2194.262924194336,
        "y": 6508.461902618408,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "7af5e0af.8b4d6",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:naming-policy-generate-name",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='naming-policy-generate-name' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2291.834197998047,
        "y": 6558.60426235199,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "c1ed3b4.b543348",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2083.7077407836914,
        "y": 806.0993013381958,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "e733881a.ac1f4",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3207.457305908203,
        "y": 1881.8493552207947,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "f22d0ab9.1bb94",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2859.957359313965,
        "y": 2296.5994396209717,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "f5df60ce.d84ac8",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 527.5963668823242,
        "y": 6545.127535820007,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "97334262.a10fc",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1275.8462448120117,
        "y": 950.2659950256348,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "282b78b6.aebb7",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 1965.096290588379,
        "y": 856.5159873962402,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "3dd98612.ab55e2",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 3088.84627532959,
        "y": 1926.0993175506592,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "bebfeeed.4ae468",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 2743.84627532959,
        "y": 2344.8494396209717,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "7840dd27.291b7c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 2123.846424102783,
        "y": 3853.1828842163086,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "4fe34f3d.b60a38",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 3904.81844329834,
        "y": 5678.321851730347,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "6358f1ef.44078",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 2131.0686569213867,
        "y": 6656.516189575195,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "3367c076.389b7",
        "type": "execute",
        "name": "generate vnf URL (sub service-instance-id)",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.vnf-assign`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.part\"/>\n    <parameter name=\"target\" value=\"{service-instance-id}\"/>\n    <parameter name=\"replacement\" value=\"`$service-data.service-topology.service-topology-identifier.service-instance-id`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 516.3463516235352,
        "y": 6151.795020103455,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "d71dd728.42aa",
        "type": "execute",
        "name": "generate vnf URL (sub vnf-id)",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.part`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.vnf.url\"/>\n    <parameter name=\"target\" value=\"{vnf-id}\"/>\n    <parameter name=\"replacement\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-id`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 471.34627532958984,
        "y": 6203.222974777222,
        "z": "f54d3783.41afe",
        "wires": [
            []
        ]
    },
    {
        "id": "dac2571d.72305",
        "type": "set",
        "name": "copy vnf data",
        "xml": "<set>\n<parameter name='vnf-data.' value='service-data.vnfs.vnf[$vnf-index].vnf-data.' />\n",
        "comments": "",
        "x": 417.2392349243164,
        "y": 6251.080507278442,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "b8027a72.6866a",
        "type": "comment",
        "name": "'New' version of DG, called for flows where SO expects async response (so-bpmn-infra)",
        "info": "",
        "comments": "",
        "x": 530,
        "y": 106.25300407409668,
        "z": "f54d3783.41afe",
        "wires": []
    },
    {
        "id": "caa8d84a.f0775",
        "type": "switchNode",
        "name": "cloud-owner passed in input?",
        "xml": "<switch test=\"`$vnf-topology-operation-input.vnf-request-input.cloud-owner != ''`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 542,
        "y": 304,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "49ac8a59.568384"
            ]
        ]
    },
    {
        "id": "49ac8a59.568384",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 862,
        "y": 306,
        "z": "f54d3783.41afe",
        "wires": [
            [
                "64659a33.df3f8c"
            ]
        ]
    },
    {
        "id": "64659a33.df3f8c",
        "type": "set",
        "name": "set prop.cloud-region.cloud-owner to input cloud-owner",
        "xml": "<set>\n<parameter name='prop.cloud-region.cloud-owner' value='`$vnf-topology-operation-input.vnf-request-input.cloud-owner`' />\n",
        "comments": "",
        "x": 1233,
        "y": 302,
        "z": "f54d3783.41afe",
        "wires": []
    }
]