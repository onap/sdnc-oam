[
  {
    "id":"39656334.a3e8bc",
    "type":"dgstart",
    "name":"DGSTART",[
  {
    "id":"5d8427a4.b9ce18",
    "type":"dgstart",
    "name":"DGSTART",
    "outputs":1,
    "x":289.9999694824219,
    "y":176.66666221618652,
    "z":"1213c43c.2b234c",
    "wires":[
      [
        "2a707879.08ed58"
      ]
    ]
  },
  {
    "id":"2a707879.08ed58",
    "type":"service-logic",
    "name":"GENERIC-RESOURCE-API ${project.version}",
    "module":"GENERIC-RESOURCE-API",
    "version":"${project.version}",
    "comments":"",
    "xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
    "outputs":1,
    "x":386.2380485534668,
    "y":237.6190528869629,
    "z":"1213c43c.2b234c",
    "wires":[
      [
        "f18a9dbb.977df"
      ]
    ]
  },
  {
    "id":"f18a9dbb.977df",
    "type":"method",
    "name":"tunnelxconn-topology-operation-create",
    "xml":"<method rpc='tunnelxconn-topology-operation-create' mode='sync'>\n",
    "comments":"",
    "outputs":1,
    "x":432.1548271179199,
    "y":272.8571081161499,
    "z":"1213c43c.2b234c",
    "wires":[
      [
        "7f262885.6d59b8"
      ]
    ]
  },
  {
    "id":"7f262885.6d59b8",
    "type":"block",
    "name":"block : atomic",
    "xml":"<block atomic=\"true\">",
    "atomic":"true",
    "comments":"",
    "outputs":1,
    "x":340.4761619567871,
    "y":416.1904501914978,
    "z":"1213c43c.2b234c",
    "wires":[
      [
        "9a047ca3.43842",
        "89ae09fa.b55dc8",
        "d311ed47.69e1d",
        "55ae20df.fc8b9",
        "1acbd514.a1254b",
        "8c2cd18b.e8d76",
        "ddfe771b.c87dd8",
        "83a795f7.2396f8",
        "ba77d55a.14d7b8",
        "60d77360.0d0b1c",
        "4aacb3a2.ee73cc",
        "f2d67a4f.b5fbd8",
        "3ddd0b30.9a33e4",
        "9e5a94b9.112208",
        "6c7d53f3.fcddcc",
        "5ed77e12.ca895",
        "58a8145.b4b65ec",
        "5dffc587.4020dc",
        "be1a85fd.d9b228",
        "b5d6eac2.9b2138",
        "b3164bc6.a02478",
        "8ddeb7ba.6380c8",
        "d69c7a00.1f6db8",
        "5964855c.5ef3ac",
        "aac1998d.738588"
      ]
    ]
  },
  {
    "id":"89ae09fa.b55dc8",
    "type":"returnSuccess",
    "name":"return success",
    "xml":"<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
    "comments":"",
    "x":587.6669006347656,
    "y":2225.2146220207214,
    "z":"1213c43c.2b234c",
    "wires":[

    ]
  },
  {
    "id":"9a047ca3.43842",
    "type":"set",
    "name":"set output to api handler",
    "xml":"<set>\n<parameter name='allotted-resource-id' value='`$tmp.ar.allotted-resource-id`' />\n<parameter name='tunnelxconn-object-path' value=\"`$tmp.ar.self-link`\"/>\n<parameter name='service-object-path' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $tunnelxconn-topology-operation-input.service-information.service-instance-id\n + '/service-data/service-topology/'`\"/>\n \n",
    "comments":"",
    "x":616.4208145141602,
    "y":2189.3371682167053,
    "z":"1213c43c.2b234c",
    "wires":[

    ]
  },
  {
    "id":"60d77360.0d0b1c",
    "type":"set",
    "name":"set allotted-resource-oper-status",
    "xml":"<set>\n<parameter name='tx-ar.allotted-resource-data.allotted-resource-oper-status.order-status' value='Created' />\n<parameter name='tx-ar.allotted-resource-data.allotted-resource-oper-status.last-action' value='`$tunnelxconn-topology-operation-input.request-information.request-action`' />\n<parameter name='tx-ar.allotted-resource-data.allotted-resource-oper-status.last-rpc-action' value='`$tunnelxconn-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='tx-ar.allotted-resource-data.allotted-resource-oper-status.last-svc-request-id' value='`$tunnelxconn-topology-operation-input.sdnc-request-header.svc-request-id`' />\n<parameter name='tx-ar.allotted-resource-data.allotted-resource-oper-status.create-timestamp' value='`$tmp.current-time`' />\n",
    "comments":"",
    "x":646.7541885375977,
    "y":796.7180624008179,
    "z":"1213c43c.2b234c",
    "wires":[

    ]
  },
  {
    "id":"55ae20df.fc8b9",
    "type":"set",
    "name":"set tmp.ar.self-link",
    "xml":"<set>\n<parameter name='tmp.ar.self-link' value=\"`'restconf/config/GENERIC-RESOURCE-API:tunnelxconn-allotted-resources/tunnelxconn-allotted-resource/'\n + $tmp.ar.allotted-resource-id\n + '/allotted-resource-data/tunnelxconn-topology/'` \" />\n\n",
    "comments":"",
    "x":602.7380332946777,
    "y":389.9999876022339,
    "z":"1213c43c.2b234c",
    "wires":[

    ]
  },
  {
    "id":"d311ed47.69e1d",
    "type":"set",
    "name":"set tmp.ar.allotted-resource-id,etc",
    "xml":"<set>\n<parameter name='tmp.ar.allotted-resource-id' value='`$tunnelxconn-topology-operation-input.allotted-resource-information.allotted-resource-id`' />\n<parameter name='tmp.ar.parent-service-instance-id' value='`$tunnelxconn-topology-operation-input.allotted-resource-information.parent-service-instance-id`' />\n\n\n",
    "comments":"",
    "x":649.9972953796387,
    "y":356.2592535018921,
    "z":"1213c43c.2b234c",
    "wires":[

    ]
  },
  {
    "id":"1acbd514.a1254b",
    "type":"execute",
    "name":"execute Properties",
    "xml":"<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
    "comments":"",
    "outputs":1,
    "x":608.9933891296387,
    "y":425.8981866836548,
    "z":"1213c43c.2b234c",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"ddfe771b.c87dd8",
    "type":"execute",
    "name":"execute RestApiCallNode - Get AR by id",
    "xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.ar-url`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='GET' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-ar\" />\n\n",
    "comments":"",
    "outputs":1,
    "x":671.5187225341797,
    "y":587.1261539459229,
    "z":"1213c43c.2b234c",
    "wires":[
      [
        "ec9853b.e3a8bb",
        "58aa3152.ce73e"
      ]
    ]
  },
  {
    "id":"8c2cd18b.e8d76",
    "type":"execute",
    "name":"generate allotted-resource url",
    "xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.tx-allottedresource`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.ar-url\"/>\n    <parameter name=\"target\" value=\"{allotted-resource-id}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.ar.allotted-resource-id`\"/>\n",
    "comments":"",
    "outputs":1,
    "x":637.0648231506348,
    "y":485.6838912963867,
    "z":"1213c43c.2b234c",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"ec9853b.e3a8bb",
    "type":"success",
    "name":"success",
    "xml":"<outcome value='success'>\n",
    "comments":"",
    "outputs":1,
    "x":928.8148612976074,
    "y":585.9339144229889,
    "z":"1213c43c.2b234c",
    "wires":[
      [
        "c2add8c3.e31ee8"
      ]
    ]
  },
  {
    "id":"83a795f7.2396f8",
    "type":"execute",
    "name":"execute RestApiCallNode - PUT AR by id",
    "xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.tx.templatefile`\" />\n    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.ar-url`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-ar\" />\n\n",
    "comments":"",
    "outputs":1,
    "x":679.5292816162109,
    "y":940.100793838501,
    "z":"1213c43c.2b234c",
    "wires":[
      [
        "d53ba2b2.4949a",
        "c75a2aee.7c7e38",
        "cfb46e43.3d1c1"
      ]
    ]
  },
  {
    "id":"d53ba2b2.4949a",
    "type":"not-found",
    "name":"not-found",
    "xml":"<outcome value='not-found'>\n",
    "comments":"",
    "outputs":1,
    "x":947.8373222351074,
    "y":1001.0991134643555,
    "z":"1213c43c.2b234c",
    "wires":[
      [
        "3676f0e6.efdff"
      ]
    ]
  },
  {
    "id":"c75a2aee.7c7e38",
    "type":"failure",
    "name":"failure",
    "xml":"<outcome value='failure'>\n",
    "comments":"",
    "outputs":1,
    "x":940.8373489379883,
    "y":961.5990203842521,
    "z":"1213c43c.2b234c",
    "wires":[
      [
        "3676f0e6.efdff"
      ]
    ]
  },
  {
    "id":"cfb46e43.3d1c1",
    "type":"success",
    "name":"success",
    "xml":"<outcome value='success'>\n",
    "comments":"",
    "outputs":1,
    "x":944.5873870849609,
    "y":931.9561252593994,
    "z":"1213c43c.2b234c",
    "wires":[
      [
        "24baad99.05ac02"
      ]
    ]
  },
  {
    "id":"3676f0e6.efdff",
    "type":"returnFailure",
    "name":"return failure",
    "xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error updating md-sal for tunnelxconn-allotted-resource\" />\n",
    "comments":"",
    "x":1110.587387084961,
    "y":962.34904422611,
    "z":"1213c43c.2b234c",
    "wires":[

    ]
  },
  {
    "id":"c2add8c3.e31ee8",
    "type":"block",
    "name":"block: atomic",
    "xml":"<block atomic=\"true\">\n",
    "atomic":"false",
    "comments":"",
    "outputs":1,
    "x":1109.8148155212402,
    "y":586.4338638782501,
    "z":"1213c43c.2b234c",
    "wires":[
      [
        "6281b16a.56ebc",
        "9fdaaaf9.7e4e18"
      ]
    ]
  },
  {
    "id":"6281b16a.56ebc",
    "type":"switchNode",
    "name":"switch tx length",
    "xml":"<switch test='`$mdsal-ar.tunnelxconn-allotted-resource_length`'>\n",
    "comments":"",
    "outputs":1,
    "x":1355.672061920166,
    "y":620.7196271419525,
    "z":"1213c43c.2b234c",
    "wires":[
      [
        "3c62713c.75fd9e"
      ]
    ]
  },
  {
    "id":"3c62713c.75fd9e",
    "type":"other",
    "name":"outcome 1",
    "xml":"<outcome value='1'>\n",
    "comments":"",
    "outputs":1,
    "x":1546.6720657348633,
    "y":620.7196247577667,
    "z":"1213c43c.2b234c",
    "wires":[
      [
        "43730d98.9d5c24"
      ]
    ]
  },
  {
    "id":"ad911155.ba691",
    "type":"set",
    "name":"set tx-ar from get",
    "xml":"<set>\n<parameter name='tx-ar.' value='$mdsal-ar.tunnelxconn-allotted-resource[0].' />\n",
    "comments":"",
    "x":1946.5292015075684,
    "y":621.2910490036011,
    "z":"1213c43c.2b234c",
    "wires":[

    ]
  },
  {
    "id":"43730d98.9d5c24",
    "type":"block",
    "name":"block: atomic",
    "xml":"<block atomic='true'>\n",
    "atomic":"false",
    "comments":"",
    "outputs":1,
    "x":1717.5290489196777,
    "y":621.291093826294,
    "z":"1213c43c.2b234c",
    "wires":[
      [
        "ad911155.ba691",
        "a06440e2.caca5",
        "3d53634b.24490c"
      ]
    ]
  },
  {
    "id":"a06440e2.caca5",
    "type":"set",
    "name":"set oper-status",
    "xml":"<set>\n<parameter name='tx-ar.allotted-resource-data.allotted-resource-oper-status.last-action' value='`$tx-ar.allotted-resource-data.allotted-resource-operation-information.request-information.request-action`' />\n<parameter name='tx-ar.allotted-resource-data.allotted-resource-oper-status.last-rpc-action' value='`$tx-ar.allotted-resource-status.rpc-action`' />\n<parameter name='tx-ar.allotted-resource-data.allotted-resource-oper-status.last-svc-request-id' value='`$tx-ar.allotted-resource-data.allotted-resource-operation-information.sdnc-request-header.svc-request-id`' />\n\n",
    "comments":"",
    "x":1944.5294456481934,
    "y":688.7196130752563,
    "z":"1213c43c.2b234c",
    "wires":[

    ]
  },
  {
    "id":"7e8f0846.a53858",
    "type":"comment",
    "name":"GET tunnelxconn-allotted-resource from mdsal",
    "info":"",
    "comments":"",
    "x":696.8147850036621,
    "y":550.4338548183441,
    "z":"1213c43c.2b234c",
    "wires":[

    ]
  },
  {
    "id":"3d53634b.24490c",
    "type":"switchNode",
    "name":"switch order-status",
    "xml":"<switch test='`$tx-ar.allotted-resource-data.allotted-resource-oper-status.order-status`'>\n",
    "comments":"",
    "outputs":1,
    "x":1954.529224395752,
    "y":654.2910470962524,
    "z":"1213c43c.2b234c",
    "wires":[
      [
        "5c815fc3.bd0b5",
        "d3694d17.ea994"
      ]
    ]
  },
  {
    "id":"5c815fc3.bd0b5",
    "type":"outcome",
    "name":"outcome PendingCreate",
    "xml":"<outcome value='PendingCreate'>\n",
    "comments":"",
    "outputs":1,
    "x":2166.129180908203,
    "y":615.2910470962524,
    "z":"1213c43c.2b234c",
    "wires":[
      [
        "bda3fa8a.d4fd18"
      ]
    ]
  },
  {
    "id":"d3694d17.ea994",
    "type":"outcome",
    "name":"outcome Other",
    "xml":"<outcome value='Other'>\n",
    "comments":"",
    "outputs":1,
    "x":2191.8435554504395,
    "y":650.7196378707886,
    "z":"1213c43c.2b234c",
    "wires":[
      [
        "bda3fa8a.d4fd18"
      ]
    ]
  },
  {
    "id":"f64004fd.6126d8",
    "type":"comment",
    "name":"Set allotted-resource-identifiers",
    "info":"",
    "comments":"",
    "x":652.3386077880859,
    "y":641.0053081512451,
    "z":"1213c43c.2b234c",
    "wires":[

    ]
  },
  {
    "id":"9fdaaaf9.7e4e18",
    "type":"set",
    "name":"save backup copy of mdsal-ar for rollback",
    "xml":"<set>\n<parameter name='bk-tx-ar' value='$mdsal-ar.' />\n",
    "comments":"",
    "x":1435.3863945007324,
    "y":586.4339559078217,
    "z":"1213c43c.2b234c",
    "wires":[

    ]
  },
  {
    "id":"7dd5966e.d350a8",
    "type":"comment",
    "name":"Create urls for restapi",
    "info":"",
    "comments":"",
    "x":607.9576301574707,
    "y":455.29101848602295,
    "z":"1213c43c.2b234c",
    "wires":[

    ]
  },
  {
    "id":"24baad99.05ac02",
    "type":"block",
    "name":"block",
    "xml":"<block>\n",
    "atomic":"false",
    "comments":"",
    "outputs":1,
    "x":1086.2433547973633,
    "y":928.1482944488525,
    "z":"1213c43c.2b234c",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"8d8b45bf.b1aca8",
    "type":"comment",
    "name":"TO DO: vnf/put parent",
    "info":"",
    "comments":"",
    "x":620.2433471679688,
    "y":862.1482162475584,
    "z":"1213c43c.2b234c",
    "wires":[

    ]
  },
  {
    "id":"ba77d55a.14d7b8",
    "type":"execute",
    "name":"execute getTime",
    "xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='setTime' >\n    <parameter name=\"outputPath\" value=\"tmp.current-time\" />\n\n",
    "comments":"",
    "outputs":1,
    "x":594.243350982666,
    "y":758.1482172012329,
    "z":"1213c43c.2b234c",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"58aa3152.ce73e",
    "type":"other",
    "name":"other",
    "xml":"<outcome value='Other'>\n",
    "comments":"",
    "outputs":1,
    "x":928.5766563415527,
    "y":622.1480872631073,
    "z":"1213c43c.2b234c",
    "wires":[
      [
        "d1a0b9e4.751918"
      ]
    ]
  },
  {
    "id":"d1a0b9e4.751918",
    "type":"block",
    "name":"block: atomic",
    "xml":"<block atomic=\"true\">\n",
    "atomic":"false",
    "comments":"",
    "outputs":1,
    "x":1108.5766067504883,
    "y":622.8146378993988,
    "z":"1213c43c.2b234c",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"4aacb3a2.ee73cc",
    "type":"set",
    "name":"set id",
    "xml":"<set>\n<parameter name='tx-ar.allotted-resource-id' value=\"`$tmp.ar.allotted-resource-id` \" />\n<parameter name='tx-ar.allotted-resource-status.action' value=\"`$tunnelxconn-topology-operation-input.request-information.request-action` \" />\n<parameter name='tx-ar.allotted-resource-status.rpc-name' value=\"tunnelxconn-topology-operation\" />\n<parameter name='tx-ar.allotted-resource-status.rpc-action' value=\"`$tunnelxconn-topology-operation-input.sdnc-request-header.svc-action` \" />\n<parameter name='tx-ar.allotted-resource-data.allotted-resource-operation-information.request-information.' value=\"`$tunnelxconn-topology-operation-input.request-information.` \" />\n<parameter name='tx-ar.allotted-resource-data.allotted-resource-operation-information.sdnc-request-header.' value=\"`$tunnelxconn-topology-operation-input.sdnc-request-header.` \" />\n<parameter name='tx-ar.allotted-resource-data.allotted-resource-operation-information.service-information.' value=\"`$tunnelxconn-topology-operation-input.service-information.` \" />\n<parameter name='tx-ar.allotted-resource-data.allotted-resource-operation-information.allotted-resource-information.' value=\"`$tunnelxconn-topology-operation-input.allotted-resource-information.` \" />\n<parameter name='tx-ar.allotted-resource-data.allotted-resource-operation-information.tunnelxconn-request-input.' value=\"`$tunnelxconn-topology-operation-input.tunnelxconn-request-input.` \" />",
    "comments":"",
    "x":577.2433929443359,
    "y":677.8148288726807,
    "z":"1213c43c.2b234c",
    "wires":[

    ]
  },
  {
    "id":"bda3fa8a.d4fd18",
    "type":"block",
    "name":"block",
    "xml":"<block>\n",
    "atomic":"false",
    "comments":"",
    "outputs":1,
    "x":2380.599697113037,
    "y":616.6666812896729,
    "z":"1213c43c.2b234c",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"6c7d53f3.fcddcc",
    "type":"execute",
    "name":"execute RestApiCallNode - setup vgMUX-vG vxlan tunnel port",
    "xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.vpp.vxlan-tunnel.templatefile`\" />\n    <parameter name='restapiUrl' value='`$tmp.honeycomb.url + $tmp.vpp-honeycomb-url`' />\n    <parameter name='restapiUser' value='`$prop.honeycomb.user`' />\n    <parameter name='restapiPassword' value='`$prop.honeycomb.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"honeycomb-vnf\" />\n\n",
    "comments":"",
    "outputs":1,
    "x":726.8331298828125,
    "y":1378.1186933517456,
    "z":"1213c43c.2b234c",
    "wires":[
      [
        "50e484ba.b86eec",
        "5ed00d06.0d5ea4",
        "83b3850c.d649c8"
      ]
    ]
  },
  {
    "id":"50e484ba.b86eec",
    "type":"not-found",
    "name":"not-found",
    "xml":"<outcome value='not-found'>\n",
    "comments":"",
    "outputs":1,
    "x":1091.1412506103516,
    "y":1420.4503320679069,
    "z":"1213c43c.2b234c",
    "wires":[
      [
        "e150607d.ca938"
      ]
    ]
  },
  {
    "id":"5ed00d06.0d5ea4",
    "type":"failure",
    "name":"failure",
    "xml":"<outcome value='failure'>\n",
    "comments":"",
    "outputs":1,
    "x":1082.141300201416,
    "y":1388.9503578171134,
    "z":"1213c43c.2b234c",
    "wires":[
      [
        "e150607d.ca938"
      ]
    ]
  },
  {
    "id":"83b3850c.d649c8",
    "type":"success",
    "name":"success",
    "xml":"<outcome value='success'>\n",
    "comments":"",
    "outputs":1,
    "x":1085.8913383483887,
    "y":1359.3074626922607,
    "z":"1213c43c.2b234c",
    "wires":[
      [
        "3b236fc1.ae6cc"
      ]
    ]
  },
  {
    "id":"e150607d.ca938",
    "type":"returnFailure",
    "name":"return failure",
    "xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error updating md-sal for tunnelxconn-allotted-resource\" />\n",
    "comments":"",
    "x":1251.8913383483887,
    "y":1389.7003816589713,
    "z":"1213c43c.2b234c",
    "wires":[

    ]
  },
  {
    "id":"3b236fc1.ae6cc",
    "type":"block",
    "name":"block",
    "xml":"<block>\n",
    "atomic":"false",
    "comments":"",
    "outputs":1,
    "x":1227.547306060791,
    "y":1355.4996318817139,
    "z":"1213c43c.2b234c",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"3ddd0b30.9a33e4",
    "type":"set",
    "name":"set vgMUX-vG VXLAN Tunnel Port Props",
    "xml":"<set>\n<parameter name='tmp.tunnel-name' value=\"`$tmp.tunnel-vgMUX-vG-name` \" />\n<parameter name='tmp.tunnel-dest-ip' value=\"`$tx-ar.allotted-resource-data.tunnelxconn-topology.tunnelxconn-assignments.vg-ip` \" />\n<parameter name='tmp.tunnel-src-ip' value=\"`$tx-ar.allotted-resource-data.tunnelxconn-topology.tunnelxconn-assignments.vgmux-lan-ip` \" />\n<parameter name='tmp.tunnel-vni' value=\"`$tx-ar.allotted-resource-data.tunnelxconn-topology.tunnelxconn-assignments.vni` \" />",
    "comments":"",
    "x":671.9443054199219,
    "y":1222.1191806793213,
    "z":"1213c43c.2b234c",
    "wires":[

    ]
  },
  {
    "id":"9e5a94b9.112208",
    "type":"execute",
    "name":"generate full vgMUX-vG vpp-honeycomb url",
    "xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.vpp-honeycomb`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.vpp-honeycomb-url\"/>\n    <parameter name=\"target\" value=\"{tunnel-name}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.tunnel-name`\"/>\n",
    "comments":"",
    "outputs":1,
    "x":675.9443054199219,
    "y":1288.785394668579,
    "z":"1213c43c.2b234c",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"f2d67a4f.b5fbd8",
    "type":"execute",
    "name":"generate honeycomb-url to vgMUX",
    "xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.honeycomb.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.honeycomb.url\"/>\n    <parameter name=\"target\" value=\"{honeycomb-instance-ip}\"/>\n    <parameter name=\"replacement\" value=\"`$tx-ar.allotted-resource-data.tunnelxconn-topology.tunnelxconn-assignments.vgmux-bearer-ip`\"/>\n",
    "comments":"",
    "outputs":1,
    "x":655.2776031494141,
    "y":1144.4521865844727,
    "z":"1213c43c.2b234c",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"5ed77e12.ca895",
    "type":"execute",
    "name":"execute RestApiCallNode - setup vgMUX-vBRG vxlan tunnel xconnect",
    "xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.vpp.xconnect.templatefile`\" />\n    <parameter name='restapiUrl' value=\"`$tmp.honeycomb.url + $tmp.vpp-honeycomb-url + '/v3po:l2' `\" />\n    <parameter name='restapiUser' value='`$prop.honeycomb.user`' />\n    <parameter name='restapiPassword' value='`$prop.honeycomb.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"honeycomb-vnf\" />\n\n",
    "comments":"",
    "outputs":1,
    "x":742.5000610351562,
    "y":1795.6668500900269,
    "z":"1213c43c.2b234c",
    "wires":[
      [
        "b5e29f6d.056ee",
        "86688c55.1f6a6",
        "a86c1446.f356e8"
      ]
    ]
  },
  {
    "id":"b5e29f6d.056ee",
    "type":"not-found",
    "name":"not-found",
    "xml":"<outcome value='not-found'>\n",
    "comments":"",
    "outputs":1,
    "x":1072.808141708374,
    "y":1833.9983853325248,
    "z":"1213c43c.2b234c",
    "wires":[
      [
        "9b462d6d.1ea05"
      ]
    ]
  },
  {
    "id":"86688c55.1f6a6",
    "type":"failure",
    "name":"failure",
    "xml":"<outcome value='failure'>\n",
    "comments":"",
    "outputs":1,
    "x":1063.8081912994385,
    "y":1802.4984110817313,
    "z":"1213c43c.2b234c",
    "wires":[
      [
        "9b462d6d.1ea05"
      ]
    ]
  },
  {
    "id":"a86c1446.f356e8",
    "type":"success",
    "name":"success",
    "xml":"<outcome value='success'>\n",
    "comments":"",
    "outputs":1,
    "x":1067.5582294464111,
    "y":1772.8555159568787,
    "z":"1213c43c.2b234c",
    "wires":[
      [
        "6632191e.74a508"
      ]
    ]
  },
  {
    "id":"9b462d6d.1ea05",
    "type":"returnFailure",
    "name":"return failure",
    "xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error updating md-sal for tunnelxconn-allotted-resource\" />\n",
    "comments":"",
    "x":1233.5582294464111,
    "y":1803.2484349235892,
    "z":"1213c43c.2b234c",
    "wires":[

    ]
  },
  {
    "id":"6632191e.74a508",
    "type":"block",
    "name":"block",
    "xml":"<block>\n",
    "atomic":"false",
    "comments":"",
    "outputs":1,
    "x":1209.2141971588135,
    "y":1769.0476851463318,
    "z":"1213c43c.2b234c",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"58a8145.b4b65ec",
    "type":"set",
    "name":"set vgMUX to vG and vgMUX to vBRG VXLAN Tunnel Name",
    "xml":"<set>\n<parameter name='tmp.tunnel-vgMUX-vG-name' value=\"`'vxlanTun' + $tx-ar.allotted-resource-data.tunnelxconn-topology.tunnelxconn-assignments.vg-ip` \" />\n<parameter name='tmp.tunnel-vgMUX-vBRG-name' value=\"`'vxlanTun' + $tx-ar.allotted-resource-data.tunnelxconn-topology.tunnelxconn-assignments.brg-wan-ip-address` \" />\n",
    "comments":"",
    "x":734.0000762939453,
    "y":1066.0000352859497,
    "z":"1213c43c.2b234c",
    "wires":[

    ]
  },
  {
    "id":"5dffc587.4020dc",
    "type":"set",
    "name":"set vgMUX-vBRG VXLAN Tunnel Port Props",
    "xml":"<set>\n<parameter name='tmp.tunnel-name' value=\"`$tmp.tunnel-vgMUX-vBRG-name` \" />\n<parameter name='tmp.tunnel-dest-ip' value=\"`$tx-ar.allotted-resource-data.tunnelxconn-topology.tunnelxconn-assignments.brg-wan-ip-address` \" />\n<parameter name='tmp.tunnel-src-ip' value=\"`$tx-ar.allotted-resource-data.tunnelxconn-topology.tunnelxconn-assignments.vgmux-lan-ip` \" />\n<parameter name='tmp.tunnel-vni' value=\"`$tx-ar.allotted-resource-data.tunnelxconn-topology.tunnelxconn-assignments.vni` \" />",
    "comments":"",
    "x":674.0000610351562,
    "y":1476.0000438690186,
    "z":"1213c43c.2b234c",
    "wires":[

    ]
  },
  {
    "id":"b5d6eac2.9b2138",
    "type":"execute",
    "name":"execute RestApiCallNode - setup vgMUX-vBRG vxlan tunnel port",
    "xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.vpp.vxlan-tunnel.templatefile`\" />\n    <parameter name='restapiUrl' value='`$tmp.honeycomb.url + $tmp.vpp-honeycomb-url`' />\n    <parameter name='restapiUser' value='`$prop.honeycomb.user`' />\n    <parameter name='restapiPassword' value='`$prop.honeycomb.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"honeycomb-vnf\" />\n\n",
    "comments":"",
    "outputs":1,
    "x":726.0000305175781,
    "y":1636.0000467300415,
    "z":"1213c43c.2b234c",
    "wires":[
      [
        "8dcf7f73.7a233",
        "e17a27f6.d0d318",
        "5d9263e8.e7d86c"
      ]
    ]
  },
  {
    "id":"8dcf7f73.7a233",
    "type":"not-found",
    "name":"not-found",
    "xml":"<outcome value='not-found'>\n",
    "comments":"",
    "outputs":1,
    "x":1092.308120727539,
    "y":1618.3316387161613,
    "z":"1213c43c.2b234c",
    "wires":[
      [
        "e1ae12b9.d71f6"
      ]
    ]
  },
  {
    "id":"e17a27f6.d0d318",
    "type":"failure",
    "name":"failure",
    "xml":"<outcome value='failure'>\n",
    "comments":"",
    "outputs":1,
    "x":1083.3081703186035,
    "y":1586.8316644653678,
    "z":"1213c43c.2b234c",
    "wires":[
      [
        "e1ae12b9.d71f6"
      ]
    ]
  },
  {
    "id":"5d9263e8.e7d86c",
    "type":"success",
    "name":"success",
    "xml":"<outcome value='success'>\n",
    "comments":"",
    "outputs":1,
    "x":1087.0582084655762,
    "y":1557.1887693405151,
    "z":"1213c43c.2b234c",
    "wires":[
      [
        "a5fdf540.7d0928"
      ]
    ]
  },
  {
    "id":"e1ae12b9.d71f6",
    "type":"returnFailure",
    "name":"return failure",
    "xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error updating md-sal for tunnelxconn-allotted-resource\" />\n",
    "comments":"",
    "x":1253.0582084655762,
    "y":1587.5816883072257,
    "z":"1213c43c.2b234c",
    "wires":[

    ]
  },
  {
    "id":"a5fdf540.7d0928",
    "type":"block",
    "name":"block",
    "xml":"<block>\n",
    "atomic":"false",
    "comments":"",
    "outputs":1,
    "x":1228.7141761779785,
    "y":1553.3809385299683,
    "z":"1213c43c.2b234c",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"be1a85fd.d9b228",
    "type":"execute",
    "name":"generate full vgMUX-vBRG vpp-honeycomb url",
    "xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.vpp-honeycomb`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.vpp-honeycomb-url\"/>\n    <parameter name=\"target\" value=\"{tunnel-name}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.tunnel-name`\"/>\n",
    "comments":"",
    "outputs":1,
    "x":678,
    "y":1528,
    "z":"1213c43c.2b234c",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"8ddeb7ba.6380c8",
    "type":"set",
    "name":"set vgMUX-vBG xconnect url",
    "xml":"<set>\n<parameter name='tmp.tunnel-name' value=\"`$tmp.tunnel-vgMUX-vG-name` \" />",
    "comments":"",
    "x":612.0000190734863,
    "y":1864.0000562667847,
    "z":"1213c43c.2b234c",
    "wires":[

    ]
  },
  {
    "id":"d69c7a00.1f6db8",
    "type":"execute",
    "name":"generate full vgMUX-vG xconnect url",
    "xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.vpp-honeycomb`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.vpp-honeycomb-url\"/>\n    <parameter name=\"target\" value=\"{tunnel-name}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.tunnel-name`\"/>\n",
    "comments":"",
    "outputs":1,
    "x":639.9999694824219,
    "y":1926.0000591278076,
    "z":"1213c43c.2b234c",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"5964855c.5ef3ac",
    "type":"set",
    "name":"set xconnect Tunnel target",
    "xml":"<set>\n<parameter name='tmp.tunnel-name' value=\"`$tmp.tunnel-vgMUX-vBRG-name` \" />\n",
    "comments":"",
    "x":608.0000152587891,
    "y":1994.0000610351562,
    "z":"1213c43c.2b234c",
    "wires":[

    ]
  },
  {
    "id":"b3164bc6.a02478",
    "type":"set",
    "name":"set xconnect Tunnel target",
    "xml":"<set>\n<parameter name='tmp.tunnel-name' value=\"`$tmp.tunnel-vgMUX-vG-name` \" />\n",
    "comments":"",
    "x":600.0000686645508,
    "y":1700.0000467300415,
    "z":"1213c43c.2b234c",
    "wires":[

    ]
  },
  {
    "id":"aac1998d.738588",
    "type":"execute",
    "name":"execute RestApiCallNode - setup vgMUX-vG vxlan tunnel xconnect",
    "xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.vpp.xconnect.templatefile`\" />\n    <parameter name='restapiUrl' value=\"`$tmp.honeycomb.url + $tmp.vpp-honeycomb-url + '/v3po:l2' `\" />\n    <parameter name='restapiUser' value='`$prop.honeycomb.user`' />\n    <parameter name='restapiPassword' value='`$prop.honeycomb.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"honeycomb-vnf\" />\n\n",
    "comments":"",
    "outputs":1,
    "x":736.0000305175781,
    "y":2082.000062942505,
    "z":"1213c43c.2b234c",
    "wires":[
      [
        "fffe79dd.0a7a98",
        "715907d9.f67948",
        "185c9679.0223ea"
      ]
    ]
  },
  {
    "id":"fffe79dd.0a7a98",
    "type":"not-found",
    "name":"not-found",
    "xml":"<outcome value='not-found'>\n",
    "comments":"",
    "outputs":1,
    "x":1066.308111190796,
    "y":2120.331598185003,
    "z":"1213c43c.2b234c",
    "wires":[
      [
        "e4ec6e86.1b29a"
      ]
    ]
  },
  {
    "id":"715907d9.f67948",
    "type":"failure",
    "name":"failure",
    "xml":"<outcome value='failure'>\n",
    "comments":"",
    "outputs":1,
    "x":1057.3081607818604,
    "y":2088.8316239342093,
    "z":"1213c43c.2b234c",
    "wires":[
      [
        "e4ec6e86.1b29a"
      ]
    ]
  },
  {
    "id":"185c9679.0223ea",
    "type":"success",
    "name":"success",
    "xml":"<outcome value='success'>\n",
    "comments":"",
    "outputs":1,
    "x":1061.058198928833,
    "y":2059.1887288093567,
    "z":"1213c43c.2b234c",
    "wires":[
      [
        "5daaf322.24f75c"
      ]
    ]
  },
  {
    "id":"e4ec6e86.1b29a",
    "type":"returnFailure",
    "name":"return failure",
    "xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error updating md-sal for tunnelxconn-allotted-resource\" />\n",
    "comments":"",
    "x":1225.0582695007324,
    "y":2089.58176612854,
    "z":"1213c43c.2b234c",
    "wires":[

    ]
  },
  {
    "id":"5daaf322.24f75c",
    "type":"block",
    "name":"block",
    "xml":"<block>\n",
    "atomic":"false",
    "comments":"",
    "outputs":1,
    "x":1202.7141666412354,
    "y":2055.38089799881,
    "z":"1213c43c.2b234c",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"595457bf.28e8c8",
    "type":"comment",
    "name":"TO DO: get brg-wan-ip from dmaap",
    "info":"",
    "comments":"",
    "x":655.0000228881836,
    "y":1010.0000448226929,
    "z":"1213c43c.2b234c",
    "wires":[

    ]
  }
]
    "outputs":1,
    "x":167.5,
    "y":125,
    "z":"4a786afb.312ac4",
    "wires":[
      [
        "641071ac.34ce3"
      ]
    ]
  },
  {
    "id":"641071ac.34ce3",
    "type":"service-logic",
    "name":"GENERIC-RESOURCE-API ${project.version}",
    "module":"GENERIC-RESOURCE-API",
    "version":"${project.version}",
    "comments":"",
    "xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
    "outputs":1,
    "x":263.7380790710449,
    "y":185.95239067077637,
    "z":"4a786afb.312ac4",
    "wires":[
      [
        "67611285.46e87c"
      ]
    ]
  },
  {
    "id":"67611285.46e87c",
    "type":"method",
    "name":"tunnelxconn-topology-operation-create",
    "xml":"<method rpc='tunnelxconn-topology-operation-create' mode='sync'>\n",
    "comments":"",
    "outputs":1,
    "x":309.65485763549805,
    "y":221.19044589996338,
    "z":"4a786afb.312ac4",
    "wires":[
      [
        "a134c0c3.36b48"
      ]
    ]
  },
  {
    "id":"a134c0c3.36b48",
    "type":"block",
    "name":"block : atomic",
    "xml":"<block atomic=\"true\">",
    "atomic":"true",
    "comments":"",
    "outputs":1,
    "x":217.97619247436523,
    "y":364.5237879753113,
    "z":"4a786afb.312ac4",
    "wires":[
      [
        "afc9ff4c.06763",
        "fd58bf7f.5b2af",
        "fc1a7e2b.aacb3",
        "3dfd770d.60f198",
        "9fda81c2.e3d96",
        "9068ce9.11d8a3",
        "181809a4.09e046",
        "93a91e68.a5dae",
        "21a50431.15138c",
        "522f9134.9df63",
        "a51f265e.f89ce8",
        "5c0e33aa.afc40c",
        "e2f23076.04596",
        "742c0c13.6fb084",
        "81851f96.4bd83",
        "e1d29d16.5b99d"
      ]
    ]
  },
  {
    "id":"fd58bf7f.5b2af",
    "type":"returnSuccess",
    "name":"return success",
    "xml":"<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
    "comments":"",
    "x":471.16680908203125,
    "y":1489.5479049682617,
    "z":"4a786afb.312ac4",
    "wires":[

    ]
  },
  {
    "id":"afc9ff4c.06763",
    "type":"set",
    "name":"set output to api handler",
    "xml":"<set>\n<parameter name='allotted-resource-id' value='`$tmp.ar.allotted-resource-id`' />\n<parameter name='tunnelxconn-object-path' value=\"`$tmp.ar.self-link`\"/>\n<parameter name='service-object-path' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $tunnelxconn-topology-operation-input.service-information.service-instance-id\n + '/service-data/service-topology/'`\"/>\n \n",
    "comments":"",
    "x":499.9207229614258,
    "y":1453.6704511642456,
    "z":"4a786afb.312ac4",
    "wires":[

    ]
  },
  {
    "id":"522f9134.9df63",
    "type":"set",
    "name":"set allotted-resource-oper-status",
    "xml":"<set>\n<parameter name='tx-ar.allotted-resource-data.allotted-resource-oper-status.order-status' value='Created' />\n<parameter name='tx-ar.allotted-resource-data.allotted-resource-oper-status.last-action' value='`$tunnelxconn-topology-operation-input.request-information.request-action`' />\n<parameter name='tx-ar.allotted-resource-data.allotted-resource-oper-status.last-rpc-action' value='`$tunnelxconn-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='tx-ar.allotted-resource-data.allotted-resource-oper-status.last-svc-request-id' value='`$tunnelxconn-topology-operation-input.sdnc-request-header.svc-request-id`' />\n<parameter name='tx-ar.allotted-resource-data.allotted-resource-oper-status.create-timestamp' value='`$tmp.current-time`' />\n",
    "comments":"",
    "x":524.2542190551758,
    "y":745.0514001846313,
    "z":"4a786afb.312ac4",
    "wires":[

    ]
  },
  {
    "id":"3dfd770d.60f198",
    "type":"set",
    "name":"set tmp.ar.self-link",
    "xml":"<set>\n<parameter name='tmp.ar.self-link' value=\"`'restconf/config/GENERIC-RESOURCE-API:tunnelxconn-allotted-resources/tunnelxconn-allotted-resource/'\n + $tmp.ar.allotted-resource-id\n + '/allotted-resource-data/tunnelxconn-topology/'` \" />\n\n",
    "comments":"",
    "x":480.23806381225586,
    "y":338.33332538604736,
    "z":"4a786afb.312ac4",
    "wires":[

    ]
  },
  {
    "id":"fc1a7e2b.aacb3",
    "type":"set",
    "name":"set tmp.ar.allotted-resource-id,etc",
    "xml":"<set>\n<parameter name='tmp.ar.allotted-resource-id' value='`$tunnelxconn-topology-operation-input.allotted-resource-information.allotted-resource-id`' />\n<parameter name='tmp.ar.parent-service-instance-id' value='`$tunnelxconn-topology-operation-input.allotted-resource-information.parent-service-instance-id`' />\n\n\n",
    "comments":"",
    "x":527.4973258972168,
    "y":304.59259128570557,
    "z":"4a786afb.312ac4",
    "wires":[

    ]
  },
  {
    "id":"9fda81c2.e3d96",
    "type":"execute",
    "name":"execute Properties",
    "xml":"<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
    "comments":"",
    "outputs":1,
    "x":486.4934196472168,
    "y":374.23152446746826,
    "z":"4a786afb.312ac4",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"181809a4.09e046",
    "type":"execute",
    "name":"execute RestApiCallNode - Get AR by id",
    "xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.ar-url`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='GET' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-ar\" />\n\n",
    "comments":"",
    "outputs":1,
    "x":549.0187530517578,
    "y":535.4594917297363,
    "z":"4a786afb.312ac4",
    "wires":[
      [
        "72f658fd.fd3218",
        "8b2321c4.4a2dd"
      ]
    ]
  },
  {
    "id":"9068ce9.11d8a3",
    "type":"execute",
    "name":"generate allotted-resource url",
    "xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.tx-allottedresource`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.ar-url\"/>\n    <parameter name=\"target\" value=\"{allotted-resource-id}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.ar.allotted-resource-id`\"/>\n",
    "comments":"",
    "outputs":1,
    "x":514.5648536682129,
    "y":434.0172290802002,
    "z":"4a786afb.312ac4",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"72f658fd.fd3218",
    "type":"success",
    "name":"success",
    "xml":"<outcome value='success'>\n",
    "comments":"",
    "outputs":1,
    "x":806.3148918151855,
    "y":534.2672522068024,
    "z":"4a786afb.312ac4",
    "wires":[
      [
        "35db9fa9.7487b"
      ]
    ]
  },
  {
    "id":"93a91e68.a5dae",
    "type":"execute",
    "name":"execute RestApiCallNode - PUT AR by id",
    "xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.tx.templatefile`\" />\n    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.ar-url`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-ar\" />\n\n",
    "comments":"",
    "outputs":1,
    "x":557.0293121337891,
    "y":888.4341316223145,
    "z":"4a786afb.312ac4",
    "wires":[
      [
        "fe564e37.78d35",
        "68c9b814.ae8428",
        "20a9be75.8d72f2"
      ]
    ]
  },
  {
    "id":"fe564e37.78d35",
    "type":"not-found",
    "name":"not-found",
    "xml":"<outcome value='not-found'>\n",
    "comments":"",
    "outputs":1,
    "x":825.3373527526855,
    "y":949.432451248169,
    "z":"4a786afb.312ac4",
    "wires":[
      [
        "afa4d00a.d44e"
      ]
    ]
  },
  {
    "id":"68c9b814.ae8428",
    "type":"failure",
    "name":"failure",
    "xml":"<outcome value='failure'>\n",
    "comments":"",
    "outputs":1,
    "x":818.3373794555664,
    "y":909.9323581680655,
    "z":"4a786afb.312ac4",
    "wires":[
      [
        "afa4d00a.d44e"
      ]
    ]
  },
  {
    "id":"20a9be75.8d72f2",
    "type":"success",
    "name":"success",
    "xml":"<outcome value='success'>\n",
    "comments":"",
    "outputs":1,
    "x":822.0874176025391,
    "y":880.2894630432129,
    "z":"4a786afb.312ac4",
    "wires":[
      [
        "33071dcd.5083e2"
      ]
    ]
  },
  {
    "id":"afa4d00a.d44e",
    "type":"returnFailure",
    "name":"return failure",
    "xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error updating md-sal for tunnelxconn-allotted-resource\" />\n",
    "comments":"",
    "x":988.0874176025391,
    "y":910.6823820099235,
    "z":"4a786afb.312ac4",
    "wires":[

    ]
  },
  {
    "id":"35db9fa9.7487b",
    "type":"block",
    "name":"block: atomic",
    "xml":"<block atomic=\"true\">\n",
    "atomic":"false",
    "comments":"",
    "outputs":1,
    "x":987.3148460388184,
    "y":534.7672016620636,
    "z":"4a786afb.312ac4",
    "wires":[
      [
        "b2595262.3530d",
        "d20db31.4b44d5"
      ]
    ]
  },
  {
    "id":"b2595262.3530d",
    "type":"switchNode",
    "name":"switch tx length",
    "xml":"<switch test='`$mdsal-ar.tunnelxconn-allotted-resource_length`'>\n",
    "comments":"",
    "outputs":1,
    "x":1233.1720924377441,
    "y":569.052964925766,
    "z":"4a786afb.312ac4",
    "wires":[
      [
        "decde441.1f9868"
      ]
    ]
  },
  {
    "id":"decde441.1f9868",
    "type":"other",
    "name":"outcome 1",
    "xml":"<outcome value='1'>\n",
    "comments":"",
    "outputs":1,
    "x":1424.1720962524414,
    "y":569.0529625415802,
    "z":"4a786afb.312ac4",
    "wires":[
      [
        "343ba2be.ce917e"
      ]
    ]
  },
  {
    "id":"779744db.feb39c",
    "type":"set",
    "name":"set tx-ar from get",
    "xml":"<set>\n<parameter name='tx-ar.' value='$mdsal-ar.tunnelxconn-allotted-resource[0].' />\n",
    "comments":"",
    "x":1824.0292320251465,
    "y":569.6243867874146,
    "z":"4a786afb.312ac4",
    "wires":[

    ]
  },
  {
    "id":"343ba2be.ce917e",
    "type":"block",
    "name":"block: atomic",
    "xml":"<block atomic='true'>\n",
    "atomic":"false",
    "comments":"",
    "outputs":1,
    "x":1595.0290794372559,
    "y":569.6244316101074,
    "z":"4a786afb.312ac4",
    "wires":[
      [
        "779744db.feb39c",
        "a99c0b17.0d6ea8",
        "e744f8ef.172ca8"
      ]
    ]
  },
  {
    "id":"a99c0b17.0d6ea8",
    "type":"set",
    "name":"set oper-status",
    "xml":"<set>\n<parameter name='tx-ar.allotted-resource-data.allotted-resource-oper-status.last-action' value='`$tx-ar.allotted-resource-data.allotted-resource-operation-information.request-information.request-action`' />\n<parameter name='tx-ar.allotted-resource-data.allotted-resource-oper-status.last-rpc-action' value='`$tx-ar.allotted-resource-status.rpc-action`' />\n<parameter name='tx-ar.allotted-resource-data.allotted-resource-oper-status.last-svc-request-id' value='`$tx-ar.allotted-resource-data.allotted-resource-operation-information.sdnc-request-header.svc-request-id`' />\n\n",
    "comments":"",
    "x":1822.0294761657715,
    "y":637.0529508590698,
    "z":"4a786afb.312ac4",
    "wires":[

    ]
  },
  {
    "id":"ace3a58f.952468",
    "type":"comment",
    "name":"GET tunnelxconn-allotted-resource from mdsal",
    "info":"",
    "comments":"",
    "x":574.3148155212402,
    "y":498.7671926021576,
    "z":"4a786afb.312ac4",
    "wires":[

    ]
  },
  {
    "id":"e744f8ef.172ca8",
    "type":"switchNode",
    "name":"switch order-status",
    "xml":"<switch test='`$tx-ar.allotted-resource-data.allotted-resource-oper-status.order-status`'>\n",
    "comments":"",
    "outputs":1,
    "x":1832.02925491333,
    "y":602.6243848800659,
    "z":"4a786afb.312ac4",
    "wires":[
      [
        "6bd5626e.dd743c",
        "f59cb4de.fb1958"
      ]
    ]
  },
  {
    "id":"6bd5626e.dd743c",
    "type":"outcome",
    "name":"outcome PendingCreate",
    "xml":"<outcome value='PendingCreate'>\n",
    "comments":"",
    "outputs":1,
    "x":2043.6292114257812,
    "y":563.6243848800659,
    "z":"4a786afb.312ac4",
    "wires":[
      [
        "9ce4e0bb.186ca"
      ]
    ]
  },
  {
    "id":"f59cb4de.fb1958",
    "type":"outcome",
    "name":"outcome Other",
    "xml":"<outcome value='Other'>\n",
    "comments":"",
    "outputs":1,
    "x":2069.3435859680176,
    "y":599.052975654602,
    "z":"4a786afb.312ac4",
    "wires":[
      [
        "9ce4e0bb.186ca"
      ]
    ]
  },
  {
    "id":"899fdbf4.ba87a8",
    "type":"comment",
    "name":"Set allotted-resource-identifiers",
    "info":"",
    "comments":"",
    "x":529.8386383056641,
    "y":589.3386459350586,
    "z":"4a786afb.312ac4",
    "wires":[

    ]
  },
  {
    "id":"d20db31.4b44d5",
    "type":"set",
    "name":"save backup copy of mdsal-ar for rollback",
    "xml":"<set>\n<parameter name='bk-tx-ar' value='$mdsal-ar.' />\n",
    "comments":"",
    "x":1312.8864250183105,
    "y":534.7672936916351,
    "z":"4a786afb.312ac4",
    "wires":[

    ]
  },
  {
    "id":"66a8da44.6d23a4",
    "type":"comment",
    "name":"Create urls for restapi",
    "info":"",
    "comments":"",
    "x":485.4576606750488,
    "y":403.6243562698364,
    "z":"4a786afb.312ac4",
    "wires":[

    ]
  },
  {
    "id":"33071dcd.5083e2",
    "type":"block",
    "name":"block",
    "xml":"<block>\n",
    "atomic":"false",
    "comments":"",
    "outputs":1,
    "x":963.7433853149414,
    "y":876.481632232666,
    "z":"4a786afb.312ac4",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"79d0ecaa.1db8b4",
    "type":"comment",
    "name":"TO DO: vnf/put parent",
    "info":"",
    "comments":"",
    "x":497.7433776855469,
    "y":810.4815540313718,
    "z":"4a786afb.312ac4",
    "wires":[

    ]
  },
  {
    "id":"21a50431.15138c",
    "type":"execute",
    "name":"execute getTime",
    "xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='setTime' >\n    <parameter name=\"outputPath\" value=\"tmp.current-time\" />\n\n",
    "comments":"",
    "outputs":1,
    "x":471.74338150024414,
    "y":706.4815549850464,
    "z":"4a786afb.312ac4",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"8b2321c4.4a2dd",
    "type":"other",
    "name":"other",
    "xml":"<outcome value='Other'>\n",
    "comments":"",
    "outputs":1,
    "x":806.0766868591309,
    "y":570.4814250469208,
    "z":"4a786afb.312ac4",
    "wires":[
      [
        "626d5dea.144114"
      ]
    ]
  },
  {
    "id":"626d5dea.144114",
    "type":"block",
    "name":"block: atomic",
    "xml":"<block atomic=\"true\">\n",
    "atomic":"false",
    "comments":"",
    "outputs":1,
    "x":986.0766372680664,
    "y":571.1479756832123,
    "z":"4a786afb.312ac4",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"a51f265e.f89ce8",
    "type":"set",
    "name":"set id",
    "xml":"<set>\n<parameter name='tx-ar.allotted-resource-id' value=\"`$tmp.ar.allotted-resource-id` \" />\n<parameter name='tx-ar.allotted-resource-status.action' value=\"`$tunnelxconn-topology-operation-input.request-information.request-action` \" />\n<parameter name='tx-ar.allotted-resource-status.rpc-name' value=\"tunnelxconn-topology-operation\" />\n<parameter name='tx-ar.allotted-resource-status.rpc-action' value=\"`$tunnelxconn-topology-operation-input.sdnc-request-header.svc-action` \" />\n<parameter name='tx-ar.allotted-resource-data.allotted-resource-operation-information.request-information.' value=\"`$tunnelxconn-topology-operation-input.request-information.` \" />\n<parameter name='tx-ar.allotted-resource-data.allotted-resource-operation-information.sdnc-request-header.' value=\"`$tunnelxconn-topology-operation-input.sdnc-request-header.` \" />\n<parameter name='tx-ar.allotted-resource-data.allotted-resource-operation-information.service-information.' value=\"`$tunnelxconn-topology-operation-input.service-information.` \" />\n<parameter name='tx-ar.allotted-resource-data.allotted-resource-operation-information.allotted-resource-information.' value=\"`$tunnelxconn-topology-operation-input.allotted-resource-information.` \" />\n<parameter name='tx-ar.allotted-resource-data.allotted-resource-operation-information.tunnelxconn-request-input.' value=\"`$tunnelxconn-topology-operation-input.tunnelxconn-request-input.` \" />",
    "comments":"",
    "x":454.74342346191406,
    "y":626.1481666564941,
    "z":"4a786afb.312ac4",
    "wires":[

    ]
  },
  {
    "id":"9ce4e0bb.186ca",
    "type":"block",
    "name":"block",
    "xml":"<block>\n",
    "atomic":"false",
    "comments":"",
    "outputs":1,
    "x":2258.0997276306152,
    "y":565.0000190734863,
    "z":"4a786afb.312ac4",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"81851f96.4bd83",
    "type":"execute",
    "name":"execute RestApiCallNode - setup vG vxlan tunnel port",
    "xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.vpp.vxlan-tunnel.templatefile`\" />\n    <parameter name='restapiUrl' value='`$tmp.honeycomb.url + $tmp.vpp-honeycomb-url`' />\n    <parameter name='restapiUser' value='`$prop.honeycomb.user`' />\n    <parameter name='restapiPassword' value='`$prop.honeycomb.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"honeycomb-vnf\" />\n\n",
    "comments":"",
    "outputs":1,
    "x":588.3330688476562,
    "y":1214.451904296875,
    "z":"4a786afb.312ac4",
    "wires":[
      [
        "51118cd5.ce58d4",
        "98768673.92b068",
        "813a7874.8439f8"
      ]
    ]
  },
  {
    "id":"51118cd5.ce58d4",
    "type":"not-found",
    "name":"not-found",
    "xml":"<outcome value='not-found'>\n",
    "comments":"",
    "outputs":1,
    "x":930.6411418914795,
    "y":1252.7834300026298,
    "z":"4a786afb.312ac4",
    "wires":[
      [
        "896732c2.335fd"
      ]
    ]
  },
  {
    "id":"98768673.92b068",
    "type":"failure",
    "name":"failure",
    "xml":"<outcome value='failure'>\n",
    "comments":"",
    "outputs":1,
    "x":921.641191482544,
    "y":1221.2834557518363,
    "z":"4a786afb.312ac4",
    "wires":[
      [
        "896732c2.335fd"
      ]
    ]
  },
  {
    "id":"813a7874.8439f8",
    "type":"success",
    "name":"success",
    "xml":"<outcome value='success'>\n",
    "comments":"",
    "outputs":1,
    "x":925.3912296295166,
    "y":1191.6405606269836,
    "z":"4a786afb.312ac4",
    "wires":[
      [
        "85bfd8ec.a6d9d8"
      ]
    ]
  },
  {
    "id":"896732c2.335fd",
    "type":"returnFailure",
    "name":"return failure",
    "xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error updating md-sal for brg-allotted-resource\" />\n",
    "comments":"",
    "x":1091.3912296295166,
    "y":1222.0334795936942,
    "z":"4a786afb.312ac4",
    "wires":[

    ]
  },
  {
    "id":"85bfd8ec.a6d9d8",
    "type":"block",
    "name":"block",
    "xml":"<block>\n",
    "atomic":"false",
    "comments":"",
    "outputs":1,
    "x":1067.047197341919,
    "y":1187.8327298164368,
    "z":"4a786afb.312ac4",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"e2f23076.04596",
    "type":"set",
    "name":"set vgMUX VXLAN Tunnel Port vG Props",
    "xml":"<set>\n<parameter name='tmp.tunnel-name' value=\"`'vxlanTun' + $tx-ar.allotted-resource-data.tunnelxconn-topology.tunnelxconn-assignments.vg-ip` \" />\n<parameter name='tmp.tunnel-dest-ip' value=\"`$tx-ar.allotted-resource-data.tunnelxconn-topology.tunnelxconn-assignments.vgmux-bearer-ip` \" />\n<parameter name='tmp.tunnel-src-ip' value=\"`$tx-ar.allotted-resource-data.tunnelxconn-topology.tunnelxconn-assignments.vg-ip` \" />\n<parameter name='tmp.tunnel-vni' value=\"`$tx-ar.allotted-resource-data.tunnelxconn-topology.tunnelxconn-assignments.vni` \" />",
    "comments":"",
    "x":553.444221496582,
    "y":1084.4521808624268,
    "z":"4a786afb.312ac4",
    "wires":[

    ]
  },
  {
    "id":"742c0c13.6fb084",
    "type":"execute",
    "name":"generate full vgMUX vpp-honeycomb url",
    "xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.vpp-honeycomb`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.vpp-honeycomb-url\"/>\n    <parameter name=\"target\" value=\"{tunnel-name}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.tunnel-name`\"/>\n",
    "comments":"",
    "outputs":1,
    "x":547.4442138671875,
    "y":1141.1186981201172,
    "z":"4a786afb.312ac4",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"5c0e33aa.afc40c",
    "type":"execute",
    "name":"generate honeycomb-url to vgMUX",
    "xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.honeycomb.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.honeycomb.url\"/>\n    <parameter name=\"target\" value=\"{honeycomb-instance-ip}\"/>\n    <parameter name=\"replacement\" value=\"`$tx-ar.allotted-resource-data.tunnelxconn-topology.tunnelxconn-assignments.vgmux-bearer-ip`\"/>\n",
    "comments":"",
    "outputs":1,
    "x":534.7775421142578,
    "y":1032.7852993011475,
    "z":"4a786afb.312ac4",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"e1d29d16.5b99d",
    "type":"execute",
    "name":"execute RestApiCallNode - setup vG vxlan tunnel xconnect",
    "xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.vpp.xconnect.templatefile`\" />\n    <parameter name='restapiUrl' value=\"`$tmp.honeycomb.url + $tmp.vpp-honeycomb-url + '/v3po:l2' `\" />\n    <parameter name='restapiUser' value='`$prop.honeycomb.user`' />\n    <parameter name='restapiPassword' value='`$prop.honeycomb.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"honeycomb-vnf\" />\n\n",
    "comments":"",
    "outputs":1,
    "x":604,
    "y":1332,
    "z":"4a786afb.312ac4",
    "wires":[
      [
        "6bd302d3.f65bbc",
        "eaa38ec5.5a68b",
        "144162f6.ac5d4d"
      ]
    ]
  },
  {
    "id":"6bd302d3.f65bbc",
    "type":"not-found",
    "name":"not-found",
    "xml":"<outcome value='not-found'>\n",
    "comments":"",
    "outputs":1,
    "x":934.3080806732178,
    "y":1370.331535242498,
    "z":"4a786afb.312ac4",
    "wires":[
      [
        "fdbbce24.3b93"
      ]
    ]
  },
  {
    "id":"eaa38ec5.5a68b",
    "type":"failure",
    "name":"failure",
    "xml":"<outcome value='failure'>\n",
    "comments":"",
    "outputs":1,
    "x":925.3081302642822,
    "y":1338.8315609917045,
    "z":"4a786afb.312ac4",
    "wires":[
      [
        "fdbbce24.3b93"
      ]
    ]
  },
  {
    "id":"144162f6.ac5d4d",
    "type":"success",
    "name":"success",
    "xml":"<outcome value='success'>\n",
    "comments":"",
    "outputs":1,
    "x":929.0581684112549,
    "y":1309.1886658668518,
    "z":"4a786afb.312ac4",
    "wires":[
      [
        "b6787459.fbc298"
      ]
    ]
  },
  {
    "id":"fdbbce24.3b93",
    "type":"returnFailure",
    "name":"return failure",
    "xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error updating md-sal for brg-allotted-resource\" />\n",
    "comments":"",
    "x":1095.0581684112549,
    "y":1339.5815848335624,
    "z":"4a786afb.312ac4",
    "wires":[

    ]
  },
  {
    "id":"b6787459.fbc298",
    "type":"block",
    "name":"block",
    "xml":"<block>\n",
    "atomic":"false",
    "comments":"",
    "outputs":1,
    "x":1070.7141361236572,
    "y":1305.380835056305,
    "z":"4a786afb.312ac4",
    "wires":[
      [

      ]
    ]
  }
]