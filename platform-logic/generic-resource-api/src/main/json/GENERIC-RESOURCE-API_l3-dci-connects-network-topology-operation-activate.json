[
  {
    "id": "13efcea1.ec1031",
    "type": "dgstart",
    "name": "DGSTART",
    "outputs": 1,
    "x": 114.9285774230957,
    "y": 157.85713958740234,
    "z": "e5eb985f.1a1468",
    "wires": [
      [
        "34d83628.cb27ca"
      ]
    ]
  },
  {
    "id": "34d83628.cb27ca",
    "type": "service-logic",
    "name": "GENERIC-RESOURCE-API ${project.version}",
    "module": "GENERIC-RESOURCE-API",
    "version": "${project.version}",
    "comments": "",
    "xml": "<service-logic xmlns='http://www.openecomp.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.openecomp.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
    "outputs": 1,
    "x": 331.4285774230957,
    "y": 220.35713958740234,
    "z": "e5eb985f.1a1468",
    "wires": [
      [
        "4110c5c.fbeef3c"
      ]
    ]
  },
  {
    "id": "4110c5c.fbeef3c",
    "type": "method",
    "name": "method network-topology-operation-activate",
    "xml": "<method rpc='network-topology-operation-activate' mode='sync'>\n",
    "comments": "",
    "outputs": 1,
    "x": 239.42860794067383,
    "y": 315.3571243286133,
    "z": "e5eb985f.1a1468",
    "wires": [
      [
        "73d8f049.8c271"
      ]
    ]
  },
  {
    "id": "73d8f049.8c271",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 537.2619209289551,
    "y": 323.19046783447266,
    "z": "e5eb985f.1a1468",
    "wires": [
      [
        "d7eea4e9.281158",
        "fc223b1c.03ddc8",
        "de035b83.21fca8",
        "7ca75a13.8358a4",
        "af942bde.506bd8",
        "fd54671a.02ab98",
        "ae88a1de.51776",
        "4b8d739d.b4728c"
      ]
    ]
  },
  {
    "id": "fc223b1c.03ddc8",
    "type": "record",
    "name": "record",
    "xml": "<record plugin=\"org.openecomp.sdnc.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/svclogic.log\"/>\n<parameter name=\"Time\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"Method\" value=\"network-topology-operation-activate\"/>\n<parameter name=\"SubMethod\" value=\"l3-dci-connects\"/>\n<parameter name=\"Name\" value=\"`$l3-dci-connects.name`\"/>\n<parameter name=\"Description\" value=\"`$l3-dci-connects.description`\"/>\n<parameter name=\"RouterId\" value=\"`$l3-dci-connects.router_id`\"/>\n<parameter name=\"IsFirewallEnabled\" value=\"`$l3-dci-connects.firewall_enable`\"/>\n<parameter name=\"LocalNetworks\" value=\"`$l3-dci-connects.local_networks`\"/>\n<parameter name=\"LocalNetworksAll\" value=\"`$l3-dci-connects.local_networks_all`\"/>\n<parameter name=\"EvpnIrts\" value=\"`$l3-dci-connects.evpn_irts`\"/>\n<parameter name=\"EvpnErts\" value=\"`$l3-dci-connects.evpn_erts`\"/>\n<parameter name=\"L3Vni\" value=\"`$l3-dci-connects.l3_vni`\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 745.2619209289551,
    "y": 358.19046783447266,
    "z": "e5eb985f.1a1468",
    "wires": [
      []
    ]
  },
  {
    "id": "de035b83.21fca8",
    "type": "call",
    "name": "call GENERIC-RESOURCE-API:validate-network-input-parameters",
    "xml": "<call module='GENERIC-RESOURCE-API' rpc='validate-network-input-parameters' mode='sync' >\n",
    "comments": "",
    "outputs": 1,
    "x": 927.2619209289551,
    "y": 188.19046783447266,
    "z": "e5eb985f.1a1468",
    "wires": [
      []
    ]
  },
  {
    "id": "7ca75a13.8358a4",
    "type": "get-resource",
    "name": "get-resource l3-dci-connects",
    "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"l3-dci-connects\" \n\t\tkey=\"l3-dci-connects.id = $tmp.id AND depth = '1'\"\n        pfx='tmp.aai.l3-dci-connects' local-only='false' >\n",
    "comments": "",
    "outputs": 1,
    "x": 814.2619209289551,
    "y": 290.19046783447266,
    "z": "e5eb985f.1a1468",
    "wires": [
      [
        "76d6d56a.89292c",
        "b63f5b49.49c0a8",
        "a9c3f954.563c08"
      ]
    ]
  },
  {
    "id": "76d6d56a.89292c",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1063.261920928955,
    "y": 254.19046783447266,
    "z": "e5eb985f.1a1468",
    "wires": [
      [
        "75edb6f2.8a1248"
      ]
    ]
  },
  {
    "id": "b63f5b49.49c0a8",
    "type": "not-found",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1070.261920928955,
    "y": 292.19046783447266,
    "z": "e5eb985f.1a1468",
    "wires": [
      [
        "a88ab5e7.577548"
      ]
    ]
  },
  {
    "id": "a9c3f954.563c08",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1062.261920928955,
    "y": 334.19046783447266,
    "z": "e5eb985f.1a1468",
    "wires": [
      [
        "47bdf2f2.b8420c"
      ]
    ]
  },
  {
    "id": "75edb6f2.8a1248",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1228.261920928955,
    "y": 243.19046783447266,
    "z": "e5eb985f.1a1468",
    "wires": [
      []
    ]
  },
  {
    "id": "a88ab5e7.577548",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
    "comments": "",
    "x": 1227.261920928955,
    "y": 296.19046783447266,
    "z": "e5eb985f.1a1468",
    "wires": []
  },
  {
    "id": "47bdf2f2.b8420c",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
    "comments": "",
    "x": 1220.261920928955,
    "y": 343.19046783447266,
    "z": "e5eb985f.1a1468",
    "wires": []
  },
  {
    "id": "af942bde.506bd8",
    "type": "set",
    "name": "set controller data",
    "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.url' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list[0].esr-system-info.serviceUrl`\" />\n<parameter name='prop.sdncRestApi.templateDir' value='/opt/onap/sdnc/data' />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.user' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list[0].esr-system-info.user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.password' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list[0].esr-system-info.password`\" />\n\n",
    "comments": "",
    "x": 778.2619209289551,
    "y": 419.19046783447266,
    "z": "e5eb985f.1a1468",
    "wires": []
  },
  {
    "id": "fd54671a.02ab98",
    "type": "for",
    "name": "for each network-input-parameters",
    "xml": "<for index='idx' start='0' end='`$network-topology-operation-input.network-request-input.network-input-parameters.param_length`' >\n\n",
    "comments": "",
    "outputs": 1,
    "x": 830.2619209289551,
    "y": 475.19046783447266,
    "z": "e5eb985f.1a1468",
    "wires": [
      [
        "2650269.fd9afda"
      ]
    ]
  },
  {
    "id": "2650269.fd9afda",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1064.261920928955,
    "y": 475.19046783447266,
    "z": "e5eb985f.1a1468",
    "wires": [
      [
        "eb18473a.14e7b8",
        "94f8d826.6b0728",
        "133d2fc3.ecc2d",
        "60c74a82.9f38b4",
        "4956f4cc.b6a90c",
        "8e0378b.f71fc88",
        "246d821a.db927e"
      ]
    ]
  },
  {
    "id": "eb18473a.14e7b8",
    "type": "switchNode",
    "name": "switch name",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'name'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1368.261920928955,
    "y": 400.19046783447266,
    "z": "e5eb985f.1a1468",
    "wires": [
      [
        "77471bff.88b8e4"
      ]
    ]
  },
  {
    "id": "94f8d826.6b0728",
    "type": "switchNode",
    "name": "switch description",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'description'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1383.261920928955,
    "y": 449.19046783447266,
    "z": "e5eb985f.1a1468",
    "wires": [
      [
        "b48734fb.4b78c8"
      ]
    ]
  },
  {
    "id": "133d2fc3.ecc2d",
    "type": "switchNode",
    "name": "switch router_id",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'router_id'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1377.261920928955,
    "y": 493.19046783447266,
    "z": "e5eb985f.1a1468",
    "wires": [
      [
        "9cd2fabe.632d08"
      ]
    ]
  },
  {
    "id": "60c74a82.9f38b4",
    "type": "switchNode",
    "name": "switch local_networks",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'local_networks'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1395.261978149414,
    "y": 536.9047584533691,
    "z": "e5eb985f.1a1468",
    "wires": [
      [
        "3f83fc1.fc07c04"
      ]
    ]
  },
  {
    "id": "4956f4cc.b6a90c",
    "type": "switchNode",
    "name": "switch evpn_irts",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'evpn_irts'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1379.5477485656738,
    "y": 585.4761905670166,
    "z": "e5eb985f.1a1468",
    "wires": [
      [
        "c139b32d.3ec65"
      ]
    ]
  },
  {
    "id": "8e0378b.f71fc88",
    "type": "switchNode",
    "name": "switch evpn_erts",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'evpn_erts'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1381.5477485656738,
    "y": 632.4761905670166,
    "z": "e5eb985f.1a1468",
    "wires": [
      [
        "d454e7d7.2bab18"
      ]
    ]
  },
  {
    "id": "246d821a.db927e",
    "type": "switchNode",
    "name": "switch l3_vni",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'l3_vni'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1371.5477485656738,
    "y": 675.4761905670166,
    "z": "e5eb985f.1a1468",
    "wires": [
      [
        "69406c41.96bf94"
      ]
    ]
  },
  {
    "id": "77471bff.88b8e4",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1583.261920928955,
    "y": 399.19046783447266,
    "z": "e5eb985f.1a1468",
    "wires": [
      [
        "f3ea7971.0c1588"
      ]
    ]
  },
  {
    "id": "b48734fb.4b78c8",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1581.261920928955,
    "y": 449.19046783447266,
    "z": "e5eb985f.1a1468",
    "wires": [
      [
        "e7809c6a.187f6"
      ]
    ]
  },
  {
    "id": "9cd2fabe.632d08",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1582.261920928955,
    "y": 492.19046783447266,
    "z": "e5eb985f.1a1468",
    "wires": [
      [
        "bc1a0bfb.43e5f8"
      ]
    ]
  },
  {
    "id": "3f83fc1.fc07c04",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1580.261978149414,
    "y": 530.9047584533691,
    "z": "e5eb985f.1a1468",
    "wires": [
      [
        "7e484c09.81b7b4"
      ]
    ]
  },
  {
    "id": "c139b32d.3ec65",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1581.5477485656738,
    "y": 584.4761905670166,
    "z": "e5eb985f.1a1468",
    "wires": [
      [
        "7d5558e.f82aaa8"
      ]
    ]
  },
  {
    "id": "d454e7d7.2bab18",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1577.5477485656738,
    "y": 629.4761905670166,
    "z": "e5eb985f.1a1468",
    "wires": [
      [
        "e1e83f81.1e17c"
      ]
    ]
  },
  {
    "id": "69406c41.96bf94",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1577.5477485656738,
    "y": 675.4761905670166,
    "z": "e5eb985f.1a1468",
    "wires": [
      [
        "83d7cc2c.7c283"
      ]
    ]
  },
  {
    "id": "f3ea7971.0c1588",
    "type": "set",
    "name": "set name",
    "xml": "<set>\n<parameter name='prop.l3-dci-connects.name' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1745.261920928955,
    "y": 397.19046783447266,
    "z": "e5eb985f.1a1468",
    "wires": []
  },
  {
    "id": "e7809c6a.187f6",
    "type": "set",
    "name": "set description",
    "xml": "<set>\n<parameter name='prop.l3-dci-connects.description' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1763.261920928955,
    "y": 442.19046783447266,
    "z": "e5eb985f.1a1468",
    "wires": []
  },
  {
    "id": "bc1a0bfb.43e5f8",
    "type": "set",
    "name": "set router_id",
    "xml": "<set>\n<parameter name='prop.l3-dci-connects.router_id' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1755.261920928955,
    "y": 485.19046783447266,
    "z": "e5eb985f.1a1468",
    "wires": []
  },
  {
    "id": "7e484c09.81b7b4",
    "type": "set",
    "name": "set local_networks",
    "xml": "<set>\n<parameter name='prop.l3-dci-connects.local_networks' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`'' />\n",
    "comments": "",
    "x": 1774.261978149414,
    "y": 531.9047584533691,
    "z": "e5eb985f.1a1468",
    "wires": []
  },
  {
    "id": "7d5558e.f82aaa8",
    "type": "set",
    "name": "set evpn_irts",
    "xml": "<set>\n<parameter name='prop.l3-dci-connects.evpn_irts' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1757.5477485656738,
    "y": 580.4761905670166,
    "z": "e5eb985f.1a1468",
    "wires": []
  },
  {
    "id": "e1e83f81.1e17c",
    "type": "set",
    "name": "set evpn_erts",
    "xml": "<set>\n<parametername='prop.l3-dci-connects.evpn_erts' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1763.5477485656738,
    "y": 622.4761905670166,
    "z": "e5eb985f.1a1468",
    "wires": []
  },
  {
    "id": "83d7cc2c.7c283",
    "type": "set",
    "name": "set l3_vni",
    "xml": "<set>\n<parameter name='prop.l3-dci-connects.l3_vni' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1747.5477485656738,
    "y": 667.4761905670166,
    "z": "e5eb985f.1a1468",
    "wires": []
  },
  {
    "id": "ae88a1de.51776",
    "type": "execute",
    "name": "execute l3-dci-connects id",
    "xml": "<execute plugin='com.att.sdnctl.sli.SliPluginUtils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.l3-dci-connects.id\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 805.2619209289551,
    "y": 539.1904678344727,
    "z": "e5eb985f.1a1468",
    "wires": [
      [
        "52b5b73a.ad4a48"
      ]
    ]
  },
  {
    "id": "52b5b73a.ad4a48",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 996.2619209289551,
    "y": 537.1904678344727,
    "z": "e5eb985f.1a1468",
    "wires": [
      [
        "37ca2219.c835de"
      ]
    ]
  },
  {
    "id": "37ca2219.c835de",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
    "comments": "",
    "x": 1146.261920928955,
    "y": 536.1904678344727,
    "z": "e5eb985f.1a1468",
    "wires": []
  },
  {
    "id": "4b8d739d.b4728c",
    "type": "execute",
    "name": "execute RestApiCallNode Activate Vxlan Tunnel",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"$prop.sdncRestApi.tempDir +'/l3-dci-connects-template.json'\"/>\n<parameter name=\"restapiUrl\" value=\"$prop.sdncRestApi.thirdpartySdnc.url +'/v2.0/l3-dci-connects'\"/>\n<parameter name=\"restapiUser\" value=\"$prop.sdncRestApi.thirdpartySdnc.user\"/>\n<parameter name=\"restapiPassword\" value=\"$prop.sdncRestApi.thirdpartySdnc.password\"/>\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"restapi-result\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 870.2619209289551,
    "y": 604.1904678344727,
    "z": "e5eb985f.1a1468",
    "wires": [
      []
    ]
  },
  {
    "id": "d7eea4e9.281158",
    "type": "returnSuccess",
    "name": "return success",
    "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
    "comments": "",
    "x": 769.5476913452148,
    "y": 705.9047737121582,
    "z": "e5eb985f.1a1468",
    "wires": []
  }
]