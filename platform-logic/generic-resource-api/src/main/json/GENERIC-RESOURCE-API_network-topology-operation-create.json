[
  {
    "id": "697cab81.51512c",
    "type": "dgstart",
    "name": "DGSTART",
    "outputs": 1,
    "x": 84,
    "y": 53.999969482421875,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "1ae693ee.c03974"
      ]
    ]
  },
  {
    "id": "1ae693ee.c03974",
    "type": "service-logic",
    "name": "GENERIC-RESOURCE-API ${project.version}",
    "module": "GENERIC-RESOURCE-API",
    "version": "${project.version}",
    "comments": "",
    "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
    "outputs": 1,
    "x": 296.00000381469727,
    "y": 125.99998664855957,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "f0d914e3.9a2588"
      ]
    ]
  },
  {
    "id": "f0d914e3.9a2588",
    "type": "method",
    "name": "method network-topology-operation-create",
    "xml": "<method rpc='network-topology-operation-create' mode='sync'>\n",
    "comments": "",
    "outputs": 1,
    "x": 284.0001220703125,
    "y": 213.99996948242188,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "ce9e8119.8976c"
      ]
    ]
  },
  {
    "id": "ce9e8119.8976c",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 360,
    "y": 612,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "47fba1f5.640898",
        "c605463b.774db8",
        "7b59e079.3d22b8",
        "5c8ba0bf.2e98f8",
        "c7ad74ad.27add8",
        "b2d33596.d59c1",
        "c00ac3fa.32f9e",
        "3cc192be.0780ae",
        "74f090f.f41e0f",
        "54853363.a6cb2c",
        "5411c45f.3ab70c",
        "af24f51b.e33eb",
        "98d8796c.a3bbc",
        "64964558.e55ee4",
        "8ea2eceb.3de538",
        "da8e6fe4.5c07a8",
        "51c60b4c.2a6944"
      ]
    ]
  },
  {
    "id": "8c395a0a.a246c8",
    "type": "execute",
    "name": "execute RestApiCallNode Create IPWAN L3VPN",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"$prop.sdncRestApi.tempDir +'/l3smvpntemplate.json'\"/>\n<parameter name=\"restapiUrl\" value=\"$prop.sdncRestApi.thirdpartySdnc.url +'/restconf/data/huawei-ac-net-l3vpn-svc:l3vpn-svc-cfg/vpn-services'\"/>\n<parameter name=\"restapiUser\" value=\"$prop.sdncRestApi.thirdpartySdnc.user\"/>\n<parameter name=\"restapiPassword\" value=\"$prop.sdncRestApi.thirdpartySdnc.password\"/>\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"restapi-result\"/>",
    "comments": "",
    "outputs": 1,
    "x": 1162.0001831054688,
    "y": 984.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      []
    ]
  },
  {
    "id": "47fba1f5.640898",
    "type": "set",
    "name": "set controller data",
    "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.url' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list[0].esr-system-info.serviceUrl`\" />\n<parameter name='prop.sdncRestApi.templateDir' value='/opt/onap/sdnc/data' />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.user' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list[0].esr-system-info.user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.password' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list[0].esr-system-info.password`\" />\n",
    "comments": "",
    "x": 785.0000610351562,
    "y": 268.9999694824219,
    "z": "4d931804.43f9f",
    "wires": []
  },
  {
    "id": "c7ad74ad.27add8",
    "type": "for",
    "name": "for each network-input-parameters",
    "xml": "<for index='idx' start='0' end='`$network-topology-operation-input.network-request-input.network-input-parameters.param_length`' >\n",
    "comments": "",
    "outputs": 1,
    "x": 845.6666259765625,
    "y": 390.6666259765625,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "680d9a64.4950bc"
      ]
    ]
  },
  {
    "id": "771a98af.5ed45",
    "type": "execute",
    "name": "execute RestApiCallNode Create SPTN L3VPN",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"$prop.sdncRestApi.tempDir +'/l3smsitetemplate.json'\"/>\n<parameter name=\"restapiUrl\" value=\"$prop.sdncRestApi.thirdpartySdnc.url\"/>\n<parameter name=\"restapiUser\" value=\"$prop.sdncRestApi.thirdpartySdnc.user\"/>\n<parameter name=\"restapiPassword\" value=\"$prop.sdncRestApi.thirdpartySdnc.password\"/>\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"restapi-result\"/>",
    "comments": "",
    "outputs": 1,
    "x": 1133.6668701171875,
    "y": 1187.6666564941406,
    "z": "4d931804.43f9f",
    "wires": [
      []
    ]
  },
  {
    "id": "5c8ba0bf.2e98f8",
    "type": "execute",
    "name": "execute vpn-policy1-id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.l3vpn.vpn-policy1-id\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 805.6666259765625,
    "y": 447.6666564941406,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "d81f8c27.c89ff8"
      ]
    ]
  },
  {
    "id": "d81f8c27.c89ff8",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1030.6666259765625,
    "y": 450.6666259765625,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "90acf08b.06d308"
      ]
    ]
  },
  {
    "id": "90acf08b.06d308",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while generation vpn policy ID\" />\n",
    "comments": "",
    "x": 1211.6666259765625,
    "y": 448.6666259765625,
    "z": "4d931804.43f9f",
    "wires": []
  },
  {
    "id": "c605463b.774db8",
    "type": "call",
    "name": "call GENERIC-RESOURCE-API:validate-network-input-parameters",
    "xml": "<call module='GENERIC-RESOURCE-API' rpc='validate-network-input-parameters' mode='sync' >\n",
    "comments": "",
    "outputs": 1,
    "x": 857.5,
    "y": 90.99996948242188,
    "z": "4d931804.43f9f",
    "wires": [
      []
    ]
  },
  {
    "id": "7b59e079.3d22b8",
    "type": "get-resource",
    "name": "get-resource esr-thirdparty-sdnc",
    "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.thirdparty-sdnc-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.esr-thirdparty-sdnc' local-only='false' >\n\n",
    "comments": "",
    "outputs": 1,
    "x": 827.5,
    "y": 207.99996948242188,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "97dc2002.c660f8",
        "4f41ca53.5d5914",
        "b70bb66f.267f38"
      ]
    ]
  },
  {
    "id": "97dc2002.c660f8",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1152.5,
    "y": 138.99996948242188,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "ef5fb88a.6f28b8"
      ]
    ]
  },
  {
    "id": "4f41ca53.5d5914",
    "type": "not-found",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1155.990966796875,
    "y": 186.57400512695312,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "3b62b821.ac8e7"
      ]
    ]
  },
  {
    "id": "b70bb66f.267f38",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1151.323974609375,
    "y": 227.90731811523438,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "b99bfa59.2cb0a8"
      ]
    ]
  },
  {
    "id": "3b62b821.ac8e7",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Network model is_bound_to_vpn=true but no vpn_binding is present\" />\n\n",
    "comments": "",
    "x": 1332.5623779296875,
    "y": 174.8597412109375,
    "z": "4d931804.43f9f",
    "wires": []
  },
  {
    "id": "b99bfa59.2cb0a8",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Unexpected error retrieving vpn binding\" />\n\n",
    "comments": "",
    "x": 1339.0965309143066,
    "y": 223.346510887146,
    "z": "4d931804.43f9f",
    "wires": []
  },
  {
    "id": "ef5fb88a.6f28b8",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1330.705322265625,
    "y": 131.57400512695312,
    "z": "4d931804.43f9f",
    "wires": [
      []
    ]
  },
  {
    "id": "680d9a64.4950bc",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1244.5,
    "y": 396.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "e3908f6a.c4c398",
        "be9e77b7.873ff",
        "7a5cf18f.b317f8",
        "35389645.393b9a",
        "d348a96f.1822f8",
        "be3b730d.7e954",
        "b3c5e265.deb178",
        "7d1094cd.bc6bbc",
        "8d88db5d.e1f338",
        "aaeb2956.e246f8",
        "4cf00d90.a548a4",
        "8f9bdfe5.d2a3d8",
        "7d72ad7e.5e03ac",
        "79f918.475996e8",
        "c4791db3.7410b",
        "2fb7f830.a142c",
        "9253ced1.f2cee8",
        "fc940e44.bb799",
        "f5993a9c.9252b",
        "dc6166fe.43d058",
        "596289d7.f6ddc8",
        "ff3cab94.0ba1d",
        "10aaaff3.858108",
        "1a3c9b5d.13700d",
        "18c39015.325968"
      ]
    ]
  },
  {
    "id": "e3908f6a.c4c398",
    "type": "switchNode",
    "name": "switch name",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'name'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1595.5,
    "y": 21,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "a0c30c9b.5ab5d"
      ]
    ]
  },
  {
    "id": "be9e77b7.873ff",
    "type": "switchNode",
    "name": "switch service-type",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'service-type'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1599.4999389648438,
    "y": 82.5999755859375,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "bd7dc877.f559d8"
      ]
    ]
  },
  {
    "id": "a0c30c9b.5ab5d",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1782.5,
    "y": 21,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "4d6d01e9.6c7218"
      ]
    ]
  },
  {
    "id": "bd7dc877.f559d8",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1784.4999389648438,
    "y": 80.5999755859375,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "d36de49f.f68a6"
      ]
    ]
  },
  {
    "id": "4d6d01e9.6c7218",
    "type": "set",
    "name": "set name",
    "xml": "<set>\n<parameter name='prop.l3vpn.name' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1950.5,
    "y": 21.600006103515625,
    "z": "4d931804.43f9f",
    "wires": []
  },
  {
    "id": "d36de49f.f68a6",
    "type": "set",
    "name": "set service-type",
    "xml": "<set>\n<parameter name='prop.l3vpn.service-type' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1953.4999389648438,
    "y": 78.5999755859375,
    "z": "4d931804.43f9f",
    "wires": []
  },
  {
    "id": "7a5cf18f.b317f8",
    "type": "switchNode",
    "name": "switch topology",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'topology'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1598.5,
    "y": 143.99996948242188,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "68b9f582.2430d4"
      ]
    ]
  },
  {
    "id": "35389645.393b9a",
    "type": "switchNode",
    "name": "switch technology",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'technology'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1601.5,
    "y": 196.99996948242188,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "5cda61be.c753d8"
      ]
    ]
  },
  {
    "id": "d348a96f.1822f8",
    "type": "switchNode",
    "name": "switch site1_name",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'site1_name'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1606.5,
    "y": 258.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "d7b076fd.372c4"
      ]
    ]
  },
  {
    "id": "be3b730d.7e954",
    "type": "switchNode",
    "name": "switch site2_name",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'site2_name'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1601.5,
    "y": 321.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "5b648810.dd844"
      ]
    ]
  },
  {
    "id": "b3c5e265.deb178",
    "type": "switchNode",
    "name": "switch sna1_name",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'sna1_name'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1606.5,
    "y": 381.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "d0d57f1c.8c8bf8"
      ]
    ]
  },
  {
    "id": "7d1094cd.bc6bbc",
    "type": "switchNode",
    "name": "switch sna2_name",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'sna2_name'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1601.5,
    "y": 445.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "6e174e25.5f3d78"
      ]
    ]
  },
  {
    "id": "8d88db5d.e1f338",
    "type": "switchNode",
    "name": "switch pe1_id",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'pe1_id'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1606.5,
    "y": 507.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "ebb8fa90.99fc4"
      ]
    ]
  },
  {
    "id": "aaeb2956.e246f8",
    "type": "switchNode",
    "name": "switch pe2_id",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'pe2_id'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1621.5,
    "y": 567.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "52d74051.7b6e58"
      ]
    ]
  },
  {
    "id": "4cf00d90.a548a4",
    "type": "switchNode",
    "name": "switch ac1_id",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac1_id'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1616.5,
    "y": 639.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "9ef12bf7.50569"
      ]
    ]
  },
  {
    "id": "8f9bdfe5.d2a3d8",
    "type": "switchNode",
    "name": "switch ac2_id",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac2_id'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1615.5,
    "y": 698.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "62d558d2.f880e8"
      ]
    ]
  },
  {
    "id": "7d72ad7e.5e03ac",
    "type": "switchNode",
    "name": "switch ac1_ip",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac1_ip'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1592.5,
    "y": 761.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "bf3182f6.a9ab1"
      ]
    ]
  },
  {
    "id": "79f918.475996e8",
    "type": "switchNode",
    "name": "switch ac2_ip",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac2_ip'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1595.5,
    "y": 818.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "f2b94cc1.85afb"
      ]
    ]
  },
  {
    "id": "c4791db3.7410b",
    "type": "switchNode",
    "name": "switch ac1_peer_ip",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac1_peer_ip'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1601.5,
    "y": 870.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "acf4ab48.24e14"
      ]
    ]
  },
  {
    "id": "2fb7f830.a142c",
    "type": "switchNode",
    "name": "switch ac2_peer_ip",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac2_peer_ip'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1602.5,
    "y": 925.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "d9b315dd.3141e"
      ]
    ]
  },
  {
    "id": "9253ced1.f2cee8",
    "type": "switchNode",
    "name": "switch ac1_svlan",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac1_svlan'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1614.5,
    "y": 974.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "cf0b48ac.5ee088"
      ]
    ]
  },
  {
    "id": "fc940e44.bb799",
    "type": "switchNode",
    "name": "switch ac2_svlan",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac2_svlan'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1607.5,
    "y": 1025.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "e277ffaa.d760f"
      ]
    ]
  },
  {
    "id": "f5993a9c.9252b",
    "type": "switchNode",
    "name": "switch ac1_protocol",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac1_protocol'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1600.5,
    "y": 1083.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "77a12f7f.4e9878"
      ]
    ]
  },
  {
    "id": "dc6166fe.43d058",
    "type": "switchNode",
    "name": "switch ac2_protocol",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac2_protocol'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1601.5,
    "y": 1143.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "cee26b03.9d9c08"
      ]
    ]
  },
  {
    "id": "596289d7.f6ddc8",
    "type": "switchNode",
    "name": "switch ac1_protocol_bgp_as",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac1_protocol_bgp_as'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1595.5,
    "y": 1329.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "16e14c45.8f7a9c"
      ]
    ]
  },
  {
    "id": "ff3cab94.0ba1d",
    "type": "switchNode",
    "name": "switch ac2_protocol_bgp_as",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac2_protocol_bgp_as'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1601.5,
    "y": 1380.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "c5269182.01e42"
      ]
    ]
  },
  {
    "id": "10aaaff3.858108",
    "type": "switchNode",
    "name": "switch af_type",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'af_type'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1568.5,
    "y": 1471.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "f174a3e.2e99c6"
      ]
    ]
  },
  {
    "id": "68b9f582.2430d4",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1773.5,
    "y": 139.99996948242188,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "8b63a167.2125c8"
      ]
    ]
  },
  {
    "id": "5cda61be.c753d8",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1779.5,
    "y": 192.99996948242188,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "97ed26f3.136da8"
      ]
    ]
  },
  {
    "id": "d7b076fd.372c4",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1788.5,
    "y": 254.99996948242188,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "9b2f5bce.e2493"
      ]
    ]
  },
  {
    "id": "5b648810.dd844",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1786.5,
    "y": 317.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "ca017dc5.e6b6a"
      ]
    ]
  },
  {
    "id": "d0d57f1c.8c8bf8",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1791.5,
    "y": 379.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "7a5a1e9.b76ff6"
      ]
    ]
  },
  {
    "id": "6e174e25.5f3d78",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1783.5,
    "y": 437.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "9b74f8ad.ece11"
      ]
    ]
  },
  {
    "id": "ebb8fa90.99fc4",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1784.5,
    "y": 500.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "de03ade1.de45c8"
      ]
    ]
  },
  {
    "id": "52d74051.7b6e58",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1783.5,
    "y": 569.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "7788fc94.c4a214"
      ]
    ]
  },
  {
    "id": "9ef12bf7.50569",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1780.5,
    "y": 637.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "cc439e5e.959be"
      ]
    ]
  },
  {
    "id": "62d558d2.f880e8",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1779.5,
    "y": 701.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "7f607ee6.048328"
      ]
    ]
  },
  {
    "id": "bf3182f6.a9ab1",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1752.5,
    "y": 759.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "82ba67e9.3e3948"
      ]
    ]
  },
  {
    "id": "f2b94cc1.85afb",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1754.5,
    "y": 816.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "78aa250c.4c86dc"
      ]
    ]
  },
  {
    "id": "acf4ab48.24e14",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1790.5,
    "y": 867.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "fed7f529.21c158"
      ]
    ]
  },
  {
    "id": "d9b315dd.3141e",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1795.5,
    "y": 930.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "1e28306.dccb65"
      ]
    ]
  },
  {
    "id": "cf0b48ac.5ee088",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1791.5,
    "y": 979.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "7587d056.b8eff8"
      ]
    ]
  },
  {
    "id": "e277ffaa.d760f",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1775.5,
    "y": 1028.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "ec48bf2e.e56588"
      ]
    ]
  },
  {
    "id": "77a12f7f.4e9878",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1772.5,
    "y": 1081.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "a9616742.2a0ca"
      ]
    ]
  },
  {
    "id": "cee26b03.9d9c08",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1785.5,
    "y": 1140.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "65101682.4139e"
      ]
    ]
  },
  {
    "id": "16e14c45.8f7a9c",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1803.5,
    "y": 1326.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "5a2356b9.ace14"
      ]
    ]
  },
  {
    "id": "c5269182.01e42",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1810.5,
    "y": 1376.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "35f9d54c.a32492"
      ]
    ]
  },
  {
    "id": "f174a3e.2e99c6",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1772.5,
    "y": 1480.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "7b317e34.63e888"
      ]
    ]
  },
  {
    "id": "8b63a167.2125c8",
    "type": "set",
    "name": "set topology",
    "xml": "<set>\n<parameter name='prop.l3vpn.topology' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1968.5,
    "y": 140.99996948242188,
    "z": "4d931804.43f9f",
    "wires": []
  },
  {
    "id": "97ed26f3.136da8",
    "type": "set",
    "name": "set technology",
    "xml": "<set>\n<parameter name='prop.l3vpn.technology' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1958.5,
    "y": 194.99996948242188,
    "z": "4d931804.43f9f",
    "wires": []
  },
  {
    "id": "9b2f5bce.e2493",
    "type": "set",
    "name": "set site1_name",
    "xml": "<set>\n<parameter name='prop.l3vpn.site1_name' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1962.5,
    "y": 251.99996948242188,
    "z": "4d931804.43f9f",
    "wires": []
  },
  {
    "id": "ca017dc5.e6b6a",
    "type": "set",
    "name": "set site2_name",
    "xml": "<set>\n<parameter name='prop.l3vpn.site2_name' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1965.5,
    "y": 310.9999694824219,
    "z": "4d931804.43f9f",
    "wires": []
  },
  {
    "id": "7a5a1e9.b76ff6",
    "type": "set",
    "name": "set sna1_name",
    "xml": "<set>\n<parameter name='prop.l3vpn.sna1_name' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1973.5,
    "y": 372.9999694824219,
    "z": "4d931804.43f9f",
    "wires": []
  },
  {
    "id": "9b74f8ad.ece11",
    "type": "set",
    "name": "set sna2_name",
    "xml": "<set>\n<parameter name='prop.l3vpn.sna2_name' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1965.5,
    "y": 432.9999694824219,
    "z": "4d931804.43f9f",
    "wires": []
  },
  {
    "id": "de03ade1.de45c8",
    "type": "set",
    "name": "set pe1_id",
    "xml": "<set>\n<parameter name='prop.l3vpn.pe1_id' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1962.5,
    "y": 492.9999694824219,
    "z": "4d931804.43f9f",
    "wires": []
  },
  {
    "id": "7788fc94.c4a214",
    "type": "set",
    "name": "set pe2_id",
    "xml": "<set>\n<parameter name='prop.l3vpn.pe2_id' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1958.5,
    "y": 563.9999694824219,
    "z": "4d931804.43f9f",
    "wires": []
  },
  {
    "id": "cc439e5e.959be",
    "type": "set",
    "name": "set ac1_id",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac1_id' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1951.5,
    "y": 629.9999694824219,
    "z": "4d931804.43f9f",
    "wires": []
  },
  {
    "id": "7f607ee6.048328",
    "type": "set",
    "name": "set ac2_id",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac2_id' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1954.5,
    "y": 696.9999694824219,
    "z": "4d931804.43f9f",
    "wires": []
  },
  {
    "id": "82ba67e9.3e3948",
    "type": "set",
    "name": "set ac1_ip",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac1_ip' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1930.5,
    "y": 762.9999694824219,
    "z": "4d931804.43f9f",
    "wires": []
  },
  {
    "id": "78aa250c.4c86dc",
    "type": "set",
    "name": "set ac2_ip",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac2_ip' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1934.5,
    "y": 816.9999694824219,
    "z": "4d931804.43f9f",
    "wires": []
  },
  {
    "id": "fed7f529.21c158",
    "type": "set",
    "name": "set ac1_peer_ip",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac1_peer_ip' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1982.5,
    "y": 871.9999694824219,
    "z": "4d931804.43f9f",
    "wires": []
  },
  {
    "id": "1e28306.dccb65",
    "type": "set",
    "name": "set ac2_peer_ip",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac2_peer_ip' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1978.5,
    "y": 926.9999694824219,
    "z": "4d931804.43f9f",
    "wires": []
  },
  {
    "id": "7587d056.b8eff8",
    "type": "set",
    "name": "set ac1_svlan",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac1_svlan' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1972.5,
    "y": 981.9999694824219,
    "z": "4d931804.43f9f",
    "wires": []
  },
  {
    "id": "ec48bf2e.e56588",
    "type": "set",
    "name": "set ac2_svlan",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac2_svlan' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1969.5,
    "y": 1034.9999694824219,
    "z": "4d931804.43f9f",
    "wires": []
  },
  {
    "id": "a9616742.2a0ca",
    "type": "set",
    "name": "set ac1_protocol",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac1_protocol' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1967.5,
    "y": 1091.9999694824219,
    "z": "4d931804.43f9f",
    "wires": []
  },
  {
    "id": "65101682.4139e",
    "type": "set",
    "name": "set ac2_protocol",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac2_protocol' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1976.5,
    "y": 1143.9999694824219,
    "z": "4d931804.43f9f",
    "wires": []
  },
  {
    "id": "5a2356b9.ace14",
    "type": "set",
    "name": "set ac1_protocol_bgp_as",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac1_protocol_bgp_as' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n<parameter name='prop.l3vpn.peer1-ip' value='`$prop.l3vpn.ac1_ip`' />\n",
    "comments": "",
    "x": 2070.5,
    "y": 1347.9999694824219,
    "z": "4d931804.43f9f",
    "wires": []
  },
  {
    "id": "35f9d54c.a32492",
    "type": "set",
    "name": "set ac2_protocol_bgp_as",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac2_protocol_bgp_as' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n<parameter name='prop.l3vpn.peer2-ip' value='`$prop.l3vpn.ac2_ip`' />\n",
    "comments": "",
    "x": 2082.5,
    "y": 1396.9999694824219,
    "z": "4d931804.43f9f",
    "wires": []
  },
  {
    "id": "7b317e34.63e888",
    "type": "set",
    "name": "set af_type",
    "xml": "<set>\n<parameter name='prop.l3vpn.af_type' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1966.5,
    "y": 1490.9999694824219,
    "z": "4d931804.43f9f",
    "wires": []
  },
  {
    "id": "b2d33596.d59c1",
    "type": "record",
    "name": "record",
    "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/svclogic.log\"/>\n<parameter name=\"Time\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"Method\" value=\"network-topology-operation-create\"/>\n<parameter name=\"SubMethod\" value=\"L3VPN-Config\"/>\n<parameter name=\"l3vpn_name\" value=\"`$prop.l3vpn.name`\"/>\n<parameter name=\"topology\" value=\"`$prop.l3vpn.topology`\"/>\n<parameter name=\"site1_name\" value=\"`$prop.l3vpn.site1_name`\"/>\n<parameter name=\"vpn-policy1-id\" value=\"`$prop.l3vpn.vpn-policy1-id}`\"/>\n<parameter name=\"l3vpn.entry1-id\" value=\"`$prop.l3vpn.entry1-id`\"/>\n<parameter name=\"sna1_name\" value=\"`$prop.l3vpn.sna1_name`\"/>\n<parameter name=\"pe1_id\" value=\"`$prop.l3vpn.pe1_id`\"/>\n<parameter name=\"ac1_id\" value=\"`$prop.l3vpn.ac1_id`\"/>\n<parameter name=\"sna1_svlan\" value=\"`$prop.l3vpn.sna1_svlan`\"/>\n<parameter name=\"ac1-peer-ip\" value=\"`$prop.l3vpn.ac1-peer-ip`\"/>\n<parameter name=\"ac1-ip\" value=\"`$prop.l3vpn.ac1-ip`\"/>\n<parameter name=\"ac1_protocol\" value=\"`$prop.l3vpn.ac1_protocol`\"/>\n<parameter name=\"sna1-route-ip-prefix\" value=\"`$prop.l3vpn.sna1-route-ip-prefix`\"/>\n<parameter name=\"sna1-route-next-hop\" value=\"`$prop.l3vpn.sna1-route-next-hop`\"/>\n<parameter name=\"peer2-ip\" value=\"`$prop.l3vpn.peer2-ip`\"/>\n<parameter name=\"ac2_protocol_bgp_as\" value=\"`$prop.l3vpn.ac2_protocol_bgp_as`\"/>\n<parameter name=\"vrf1-id\" value=\"`$prop.l3vpn.vrf1-id`\"/>\n<parameter name=\"site2_name\" value=\"`$prop.l3vpn.site2_name`\"/>\n<parameter name=\"vpn-policy2-id\" value=\"`$prop.l3vpn.vpn-policy2-id}`\"/>\n<parameter name=\"l3vpn.entry2-id\" value=\"`$prop.l3vpn.entry2-id`\"/>\n<parameter name=\"sna2_name\" value=\"`$prop.l3vpn.sna2_name`\"/>\n<parameter name=\"pe2_id\" value=\"`$prop.l3vpn.pe2_id`\"/>\n<parameter name=\"ac2_id\" value=\"`$prop.l3vpn.ac2_id`\"/>\n<parameter name=\"sna2_svlan\" value=\"`$prop.l3vpn.sna2_svlan`\"/>\n<parameter name=\"ac2-peer-ip\" value=\"`$prop.l3vpn.ac2-peer-ip`\"/>\n<parameter name=\"ac2-ip\" value=\"`$prop.l3vpn.ac2-ip`\"/>\n<parameter name=\"ac2_protocol\" value=\"`$prop.l3vpn.ac2_protocol`\"/>\n<parameter name=\"sna2-route-ip-prefix\" value=\"`$prop.l3vpn.sna2-route-ip-prefix`\"/>\n<parameter name=\"sna2-route-next-hop\" value=\"`$prop.l3vpn.sna2-route-next-hop`\"/>\n<parameter name=\"peer2-ip\" value=\"`$prop.l3vpn.peer2-ip`\"/>\n<parameter name=\"ac2_protocol_bgp_as\" value=\"`$prop.l3vpn.ac2_protocol_bgp_as`\"/>\n<parameter name=\"vrf2-id\" value=\"`$prop.l3vpn.vrf2-id`\"/>\n<parameter name=\"af_type\" value=\"`$prop.l3vpn.af_type`\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 717,
    "y": 982,
    "z": "4d931804.43f9f",
    "wires": [
      []
    ]
  },
  {
    "id": "c00ac3fa.32f9e",
    "type": "switchNode",
    "name": "switch service-type",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'service-type'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 698,
    "y": 1128,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "c698b222.502b88",
        "db8a34f.58a0b48",
        "56357348.8f579c"
      ]
    ]
  },
  {
    "id": "c698b222.502b88",
    "type": "outcomeTrue",
    "name": "l3vpn-ipwan",
    "xml": "<outcome value='l3vpn-ipwan'>\n",
    "comments": "",
    "outputs": 1,
    "x": 684,
    "y": 1053,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "2087b578.62417a"
      ]
    ]
  },
  {
    "id": "db8a34f.58a0b48",
    "type": "outcomeTrue",
    "name": "l3vpn-sptn",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 840,
    "y": 1196.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "771a98af.5ed45"
      ]
    ]
  },
  {
    "id": "56357348.8f579c",
    "type": "outcomeTrue",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 838,
    "y": 1275.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "6d9cbcbd.3f88e4"
      ]
    ]
  },
  {
    "id": "6d9cbcbd.3f88e4",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Unexpected error retrieving vpn binding\" />\n\n",
    "comments": "",
    "x": 1021,
    "y": 1274.9999694824219,
    "z": "4d931804.43f9f",
    "wires": []
  },
  {
    "id": "3cc192be.0780ae",
    "type": "execute",
    "name": "execute vpn-policy2-id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.l3vpn.vpn-policy2-id\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 806,
    "y": 505.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "302083c7.ac3dac"
      ]
    ]
  },
  {
    "id": "302083c7.ac3dac",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1031,
    "y": 508.99993896484375,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "54073616.bf22b8"
      ]
    ]
  },
  {
    "id": "54073616.bf22b8",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while generation vpn policy ID\" />\n",
    "comments": "",
    "x": 1212,
    "y": 506.99993896484375,
    "z": "4d931804.43f9f",
    "wires": []
  },
  {
    "id": "74f090f.f41e0f",
    "type": "set",
    "name": "set policy entry",
    "xml": "<set>\n<parameter name='prop.l3vpn.entry1-id' value='1' />\n<parameter name='prop.l3vpn.entry2-id' value='1' />\n\n",
    "comments": "",
    "x": 792,
    "y": 553.9999694824219,
    "z": "4d931804.43f9f",
    "wires": []
  },
  {
    "id": "b8ee366a.f0394",
    "type": "execute",
    "name": "execute split ac1-route",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$prop.l3vpn.ac1-route`'/>\n<parameter name=\"regex\" value=\" ## \"/>\n<parameter name=\"ctx_memory_result_key\" value=\"route1\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 2196,
    "y": 1203.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "ddb4705.fd9691",
        "68d6fb06.f03804"
      ]
    ]
  },
  {
    "id": "18c39015.325968",
    "type": "switchNode",
    "name": "switch ac2_route",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac2_route'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1597,
    "y": 1251.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "3ccf3bc3.3e11b4"
      ]
    ]
  },
  {
    "id": "1a3c9b5d.13700d",
    "type": "switchNode",
    "name": "switch ac1_route",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac1_route'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1598,
    "y": 1202.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "2acb832d.497074"
      ]
    ]
  },
  {
    "id": "2acb832d.497074",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1770,
    "y": 1200.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "7a26ed2f.516504"
      ]
    ]
  },
  {
    "id": "3ccf3bc3.3e11b4",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1783,
    "y": 1259.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "7a2c30da.6c0ff8"
      ]
    ]
  },
  {
    "id": "e6f43c15.04d7d8",
    "type": "set",
    "name": "set ac1_route",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac1_route' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2167,
    "y": 1151.9999694824219,
    "z": "4d931804.43f9f",
    "wires": []
  },
  {
    "id": "d68e6b1e.3b7a88",
    "type": "set",
    "name": "set ac2_route",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac2_route' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2165,
    "y": 1251.9999694824219,
    "z": "4d931804.43f9f",
    "wires": []
  },
  {
    "id": "e330304a.7683b8",
    "type": "execute",
    "name": "execute split ac2-route",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$prop.l3vpn.ac2-route`'/>\n<parameter name=\"regex\" value=\" ## \"/>\n<parameter name=\"ctx_memory_result_key\" value=\"route2\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 2189,
    "y": 1296.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "74434b75.2c92cc",
        "15dee51f.f19993"
      ]
    ]
  },
  {
    "id": "7a26ed2f.516504",
    "type": "block",
    "name": "block atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1921,
    "y": 1200.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "e6f43c15.04d7d8",
        "b8ee366a.f0394"
      ]
    ]
  },
  {
    "id": "7a2c30da.6c0ff8",
    "type": "block",
    "name": "block atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1922,
    "y": 1259.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "d68e6b1e.3b7a88",
        "e330304a.7683b8"
      ]
    ]
  },
  {
    "id": "54853363.a6cb2c",
    "type": "execute",
    "name": "execute vrf1-id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.l3vpn.vrf1-id\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 791,
    "y": 607,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "9116d057.5fc3b8"
      ]
    ]
  },
  {
    "id": "5411c45f.3ab70c",
    "type": "execute",
    "name": "execute vrf2-id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.l3vpn.vrf2-id\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 788.3333740234375,
    "y": 664.333251953125,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "b4142046.58a198"
      ]
    ]
  },
  {
    "id": "b4142046.58a198",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1038.3333740234375,
    "y": 670.333251953125,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "bc6dd7fc.1f785"
      ]
    ]
  },
  {
    "id": "9116d057.5fc3b8",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1038,
    "y": 611.9999389648438,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "180eaafe.c7ddcd"
      ]
    ]
  },
  {
    "id": "180eaafe.c7ddcd",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while generation vpn policy ID\" />\n",
    "comments": "",
    "x": 1219,
    "y": 609.9999389648438,
    "z": "4d931804.43f9f",
    "wires": []
  },
  {
    "id": "bc6dd7fc.1f785",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while generation vpn policy ID\" />\n",
    "comments": "",
    "x": 1219.3333740234375,
    "y": 668.333251953125,
    "z": "4d931804.43f9f",
    "wires": []
  },
  {
    "id": "2087b578.62417a",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 863,
    "y": 1053,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "8c395a0a.a246c8",
        "684d1f56.45dbc",
        "b745c53.90938b8"
      ]
    ]
  },
  {
    "id": "684d1f56.45dbc",
    "type": "execute",
    "name": "execute RestApiCallNode IPWAN Site Config",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"$prop.sdncRestApi.tempDir +'/l3smvpntemplate.json'\"/>\n<parameter name=\"restapiUrl\" value=\"$prop.sdncRestApi.thirdpartySdnc.url +'/restconf/data/huawei-ac-net-l3vpn-svc:l3vpn-svc-cfg/vpn-services'\"/>\n<parameter name=\"restapiUser\" value=\"$prop.sdncRestApi.thirdpartySdnc.user\"/>\n<parameter name=\"restapiPassword\" value=\"$prop.sdncRestApi.thirdpartySdnc.password\"/>\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"restapi-result\"/>",
    "comments": "",
    "outputs": 1,
    "x": 1169,
    "y": 1048.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      []
    ]
  },
  {
    "id": "b745c53.90938b8",
    "type": "execute",
    "name": "execute RestApiCallNode IPWAN VRF Config",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"$prop.sdncRestApi.tempDir +'/l3smvpntemplate.json'\"/>\n<parameter name=\"restapiUrl\" value=\"$prop.sdncRestApi.thirdpartySdnc.url +'/restconf/data/huawei-ac-net-l3vpn-svc:l3vpn-svc-cfg/vpn-services'\"/>\n<parameter name=\"restapiUser\" value=\"$prop.sdncRestApi.thirdpartySdnc.user\"/>\n<parameter name=\"restapiPassword\" value=\"$prop.sdncRestApi.thirdpartySdnc.password\"/>\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"restapi-result\"/>",
    "comments": "",
    "outputs": 1,
    "x": 1167,
    "y": 1119.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      []
    ]
  },
  {
    "id": "ddb4705.fd9691",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2414,
    "y": 1195.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "f772d637.96bc1"
      ]
    ]
  },
  {
    "id": "f772d637.96bc1",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
    "comments": "",
    "x": 2595,
    "y": 1193.9999694824219,
    "z": "4d931804.43f9f",
    "wires": []
  },
  {
    "id": "74434b75.2c92cc",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2412,
    "y": 1297.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "96d44573.8b1e"
      ]
    ]
  },
  {
    "id": "96d44573.8b1e",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
    "comments": "",
    "x": 2593,
    "y": 1295.9999694824219,
    "z": "4d931804.43f9f",
    "wires": []
  },
  {
    "id": "68d6fb06.f03804",
    "type": "failure",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2413,
    "y": 1129.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "1ff92161.8fff2f"
      ]
    ]
  },
  {
    "id": "15dee51f.f19993",
    "type": "failure",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2409,
    "y": 1249.9999694824219,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "7cd46973.7a534"
      ]
    ]
  },
  {
    "id": "1ff92161.8fff2f",
    "type": "set",
    "name": "set route1 ip-prefix next-hop",
    "xml": "<set>\n<parameter name='prop.l3vpn.sna1-route.ip-prefix' value='`$route1[0]`' />\n<parameter name='prop.l3vpn.sna1-route.next-hop' value='`$route1[1]`' />\n",
    "comments": "",
    "x": 2620,
    "y": 1123.9999694824219,
    "z": "4d931804.43f9f",
    "wires": []
  },
  {
    "id": "7cd46973.7a534",
    "type": "set",
    "name": "set route2 ip-prefix next-hop",
    "xml": "<set>\n<parameter name='prop.l3vpn.sna2-route.ip-prefix' value='`$route2[0]`' />\n<parameter name='prop.l3vpn.sna2-route.next-hop' value='`$route2[1]`' />",
    "comments": "",
    "x": 2620,
    "y": 1242.9999694824219,
    "z": "4d931804.43f9f",
    "wires": []
  },
  {
    "id": "af24f51b.e33eb",
    "type": "execute",
    "name": "execute generate-underlay-network-id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.l3vpn.network-id\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 847,
    "y": 758,
    "z": "4d931804.43f9f",
    "wires": [
      []
    ]
  },
  {
    "id": "98d8796c.a3bbc",
    "type": "switchNode",
    "name": "switch service-data.networks_length",
    "xml": "<switch test='`$service-data.networks.network_length`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 805,
    "y": 839,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "6ea3b109.b3364",
        "5169eb5.4d74c94"
      ]
    ]
  },
  {
    "id": "6ea3b109.b3364",
    "type": "other",
    "name": "Null",
    "xml": "<outcome value=''>\n",
    "comments": "",
    "outputs": 1,
    "x": 1078.8095703125,
    "y": 807.952392578125,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "19b6c967.f095e7"
      ]
    ]
  },
  {
    "id": "5169eb5.4d74c94",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1073.666748046875,
    "y": 853.6666870117188,
    "z": "4d931804.43f9f",
    "wires": [
      [
        "ea699e67.4bd718"
      ]
    ]
  },
  {
    "id": "19b6c967.f095e7",
    "type": "set",
    "name": "set nidx",
    "xml": "<set>\n<parameter name='nidx' value='0' />\n",
    "comments": "",
    "x": 1231.8095703125,
    "y": 807.5238037109375,
    "z": "4d931804.43f9f",
    "wires": []
  },
  {
    "id": "ea699e67.4bd718",
    "type": "set",
    "name": "set nidx",
    "xml": "<set>\n<parameter name='nidx' value='`$service-data.networks.network_length`' />\n",
    "comments": "",
    "x": 1233.2381591796875,
    "y": 852.5238647460938,
    "z": "4d931804.43f9f",
    "wires": []
  },
  {
    "id": "64964558.e55ee4",
    "type": "set",
    "name": "set network in service-data",
    "xml": "<set>\n<parameter name=\"service-data.networks.network[$nidx].network-id\" value='`$prop.l3vpn.network-id`' />\n<parameter name='service-data.networks.network[$nidx].network-data.sdnc-request-header.' value='`$network-topology-operation-input.sdnc-request-header.`' />\n<parameter name='service-data.networks.network[$nidx].network-data.request-information.' value='`$network-topology-operation-input.request-information.`' />\n<parameter name='service-data.networks.network[$nidx].network-data.service-information.' value='`$network-topology-operation-input.service-information.`' />\n<parameter name='service-data.networks.network[$nidx].network-data.network-information.' value='`$network-topology-operation-input.network-information.`' />\n<parameter name='service-data.networks.network[$nidx].network-data.network-request-input.' value='`$network-topology-operation-input.network-request-input.`' />\n<parameter name=\"service-data.networks.network_length\" value='`$nidx+1`' />\n\n",
    "comments": "",
    "x": 787,
    "y": 902,
    "z": "4d931804.43f9f",
    "wires": []
  },
  {
    "id": "8ea2eceb.3de538",
    "type": "set",
    "name": "set networkId and network-object-path",
    "xml": "<set>\n<parameter name='networkId' value='`$prop.l3vpn.network-id`' />\n<parameter name=\"network-object-path\" value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'  + $network-topology-operation-input.service-information.service-instance-id  + '/service-data/networks/network/'  + $prop.l3vpn.network-id  + '/network-data/'` \" />",
    "comments": "",
    "x": 771,
    "y": 1332,
    "z": "4d931804.43f9f",
    "wires": []
  },
  {
    "id": "da8e6fe4.5c07a8",
    "type": "returnSuccess",
    "name": "return success",
    "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
    "comments": "",
    "x": 686,
    "y": 1457,
    "z": "4d931804.43f9f",
    "wires": []
  },
  {
    "id": "51c60b4c.2a6944",
    "type": "set",
    "name": "set network-level-oper-status",
    "xml": "<set>\n<parameter name='service-data.networks.network[$nidx].network-data.network-level-oper-status.order-status' value='Created' />\n<parameter name='service-data.networks.network[$nidx].network-data.network-level-oper-status.last-rpc-action' value='`$network-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.networks.network[$nidx].network-data.network-level-oper-status.last-action' value='`$network-topology-operation-input.request-information.request-action`' />",
    "comments": "",
    "x": 743,
    "y": 1391,
    "z": "4d931804.43f9f",
    "wires": []
  }
]
