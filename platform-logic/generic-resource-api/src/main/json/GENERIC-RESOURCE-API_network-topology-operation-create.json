[
  {
    "id": "e82c66ea.44e898",
    "type": "dgstart",
    "name": "DGSTART",
    "outputs": 1,
    "x": 85,
    "y": 59.999969482421875,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "556d5856.28fc28"
      ]
    ]
  },
  {
    "id": "556d5856.28fc28",
    "type": "service-logic",
    "name": "GENERIC-RESOURCE-API ${project.version}",
    "module": "GENERIC-RESOURCE-API",
    "version": "${project.version}",
    "comments": "",
    "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
    "outputs": 1,
    "x": 297.00000381469727,
    "y": 131.99998664855957,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "c0cc5c39.3c0f6"
      ]
    ]
  },
  {
    "id": "c0cc5c39.3c0f6",
    "type": "method",
    "name": "method network-topology-operation-create",
    "xml": "<method rpc='network-topology-operation-create' mode='sync'>\n",
    "comments": "",
    "outputs": 1,
    "x": 285.0001220703125,
    "y": 219.99996948242188,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "c2983d8a.5f39f"
      ]
    ]
  },
  {
    "id": "c2983d8a.5f39f",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 371,
    "y": 369.99998474121094,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "67d30637.3060a8",
        "84c05eba.3e71e8",
        "68069c64.8e3b94",
        "701cd9ce.0eed7",
        "2eb49ba6.65da24",
        "7b077cdc.2f71b4",
        "b4f42ae7.52446",
        "ddb7afb8.346658",
        "1ca86563.d30703",
        "200a1605.cf89a2",
        "8739cde1.57a17",
        "d21a23d8.b0bee",
        "1ae283a6.1cae6c",
        "1e4e53c1.72218c",
        "881693df.98a5b",
        "8aae558c.098818"
      ]
    ]
  },
  {
    "id": "65abf066.8e6488",
    "type": "execute",
    "name": "execute RestApiCallNode Create IPWAN L3VPN",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"$prop.sdncRestApi.tempDir +'/l3smvpntemplate.json'\"/>\n<parameter name=\"restapiUrl\" value=\"$prop.sdncRestApi.thirdpartySdnc.url +'/restconf/data/huawei-ac-net-l3vpn-svc:l3vpn-svc-cfg/vpn-services'\"/>\n<parameter name=\"restapiUser\" value=\"$prop.sdncRestApi.thirdpartySdnc.user\"/>\n<parameter name=\"restapiPassword\" value=\"$prop.sdncRestApi.thirdpartySdnc.password\"/>\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"restapi-result\"/>",
    "comments": "",
    "outputs": 1,
    "x": 1163.0001831054688,
    "y": 990.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      []
    ]
  },
  {
    "id": "67d30637.3060a8",
    "type": "set",
    "name": "set controller data",
    "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.url' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list[0].esr-system-info.serviceUrl`\" />\n<parameter name='prop.sdncRestApi.templateDir' value='/opt/onap/sdnc/data' />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.user' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list[0].esr-system-info.user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.password' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list[0].esr-system-info.password`\" />\n",
    "comments": "",
    "x": 786.0000610351562,
    "y": 274.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": []
  },
  {
    "id": "2eb49ba6.65da24",
    "type": "for",
    "name": "for each network-input-parameters",
    "xml": "<for index='idx' start='0' end='`$network-topology-operation-input.network-request-input.network-input-parameters.param_length`' >\n",
    "comments": "",
    "outputs": 1,
    "x": 846.6666259765625,
    "y": 396.6666259765625,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "9e4b7826.78998"
      ]
    ]
  },
  {
    "id": "cc196265.e16a88",
    "type": "execute",
    "name": "execute RestApiCallNode Create SPTN L3VPN",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"$prop.sdncRestApi.tempDir +'/l3smsitetemplate.json'\"/>\n<parameter name=\"restapiUrl\" value=\"$prop.sdncRestApi.thirdpartySdnc.url\"/>\n<parameter name=\"restapiUser\" value=\"$prop.sdncRestApi.thirdpartySdnc.user\"/>\n<parameter name=\"restapiPassword\" value=\"$prop.sdncRestApi.thirdpartySdnc.password\"/>\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"restapi-result\"/>",
    "comments": "",
    "outputs": 1,
    "x": 1134.6668701171875,
    "y": 1193.6666564941406,
    "z": "b93007d5.c3e538",
    "wires": [
      []
    ]
  },
  {
    "id": "701cd9ce.0eed7",
    "type": "execute",
    "name": "execute vpn-policy1-id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.l3vpn.vpn-policy1-id\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 806.6666259765625,
    "y": 453.6666564941406,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "cf63dd64.867b68"
      ]
    ]
  },
  {
    "id": "cf63dd64.867b68",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1031.6666259765625,
    "y": 456.6666259765625,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "f95a4c37.7f2c98"
      ]
    ]
  },
  {
    "id": "f95a4c37.7f2c98",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while generation vpn policy ID\" />\n",
    "comments": "",
    "x": 1212.6666259765625,
    "y": 454.6666259765625,
    "z": "b93007d5.c3e538",
    "wires": []
  },
  {
    "id": "84c05eba.3e71e8",
    "type": "call",
    "name": "call GENERIC-RESOURCE-API:validate-network-input-parameters",
    "xml": "<call module='GENERIC-RESOURCE-API' rpc='validate-network-input-parameters' mode='sync' >\n",
    "comments": "",
    "outputs": 1,
    "x": 858.5,
    "y": 96.99996948242188,
    "z": "b93007d5.c3e538",
    "wires": [
      []
    ]
  },
  {
    "id": "68069c64.8e3b94",
    "type": "get-resource",
    "name": "get-resource esr-thirdparty-sdnc",
    "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.thirdparty-sdnc-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.esr-thirdparty-sdnc' local-only='false' >\n\n",
    "comments": "",
    "outputs": 1,
    "x": 828.5,
    "y": 213.99996948242188,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "48d88da3.bdd66c",
        "303d5a7b.9089e6",
        "b6a02d9b.506dd"
      ]
    ]
  },
  {
    "id": "48d88da3.bdd66c",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1153.5,
    "y": 144.99996948242188,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "343e112c.24c07e"
      ]
    ]
  },
  {
    "id": "303d5a7b.9089e6",
    "type": "not-found",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1156.990966796875,
    "y": 192.57400512695312,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "cabe423d.4d49c8"
      ]
    ]
  },
  {
    "id": "b6a02d9b.506dd",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1152.323974609375,
    "y": 233.90731811523438,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "e0986396.153c08"
      ]
    ]
  },
  {
    "id": "cabe423d.4d49c8",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Network model is_bound_to_vpn=true but no vpn_binding is present\" />\n\n",
    "comments": "",
    "x": 1333.5623779296875,
    "y": 180.8597412109375,
    "z": "b93007d5.c3e538",
    "wires": []
  },
  {
    "id": "e0986396.153c08",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Unexpected error retrieving vpn binding\" />\n\n",
    "comments": "",
    "x": 1340.0965309143066,
    "y": 229.346510887146,
    "z": "b93007d5.c3e538",
    "wires": []
  },
  {
    "id": "343e112c.24c07e",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1331.705322265625,
    "y": 137.57400512695312,
    "z": "b93007d5.c3e538",
    "wires": [
      []
    ]
  },
  {
    "id": "9e4b7826.78998",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1245.5,
    "y": 402.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "17cd2ff8.9cd04",
        "a903bca7.693f38",
        "b7d18627.7a1f98",
        "e4de9a3d.119a9",
        "606af827.bd45c",
        "a21fe544.7750b",
        "311c3df3.7afe92",
        "70cc5270.0c11f4",
        "4839bb76.6231f4",
        "e9c22fe.7f5eb5",
        "adf442a.303dcc",
        "79aa13b9.189d24",
        "5695b46b.d185b4",
        "bace9104.ae1848",
        "9a7061af.ca17e",
        "659d155a.7369ac",
        "f05ff602.95c57",
        "fdb0c240.c67158",
        "e5e0041.ae72a78",
        "ee6f82cf.48e768",
        "d210b6.498b1f48",
        "a99d9f30.66196",
        "4a49e3e6.b4823c",
        "b21efe21.6a6f38",
        "7e49a5fe.54752c"
      ]
    ]
  },
  {
    "id": "17cd2ff8.9cd04",
    "type": "switchNode",
    "name": "switch name",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'name'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1596.5,
    "y": 27,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "942d2fd8.72ef78"
      ]
    ]
  },
  {
    "id": "a903bca7.693f38",
    "type": "switchNode",
    "name": "switch service-type",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'service-type'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1600.4999389648438,
    "y": 88.5999755859375,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "b16a7f85.9ec09"
      ]
    ]
  },
  {
    "id": "942d2fd8.72ef78",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1783.5,
    "y": 27,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "13aca61b.d25bc2"
      ]
    ]
  },
  {
    "id": "b16a7f85.9ec09",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1785.4999389648438,
    "y": 86.5999755859375,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "bc8204d0.6f0a4"
      ]
    ]
  },
  {
    "id": "13aca61b.d25bc2",
    "type": "set",
    "name": "set name",
    "xml": "<set>\n<parameter name='prop.l3vpn.name' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1951.5,
    "y": 27.600006103515625,
    "z": "b93007d5.c3e538",
    "wires": []
  },
  {
    "id": "bc8204d0.6f0a4",
    "type": "set",
    "name": "set service-type",
    "xml": "<set>\n<parameter name='prop.l3vpn.service-type' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1954.4999389648438,
    "y": 84.5999755859375,
    "z": "b93007d5.c3e538",
    "wires": []
  },
  {
    "id": "b7d18627.7a1f98",
    "type": "switchNode",
    "name": "switch topology",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'topology'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1599.5,
    "y": 149.99996948242188,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "3a89d54d.40dfe2"
      ]
    ]
  },
  {
    "id": "e4de9a3d.119a9",
    "type": "switchNode",
    "name": "switch technology",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'technology'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1602.5,
    "y": 202.99996948242188,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "38e8aa2.2d9e456"
      ]
    ]
  },
  {
    "id": "606af827.bd45c",
    "type": "switchNode",
    "name": "switch site1_name",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'site1_name'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1607.5,
    "y": 264.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "21372c50.4a9ebc"
      ]
    ]
  },
  {
    "id": "a21fe544.7750b",
    "type": "switchNode",
    "name": "switch site2_name",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'site2_name'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1602.5,
    "y": 327.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "8bf3fb5b.75eb5"
      ]
    ]
  },
  {
    "id": "311c3df3.7afe92",
    "type": "switchNode",
    "name": "switch sna1_name",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'sna1_name'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1607.5,
    "y": 387.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "23a5acb5.f27f04"
      ]
    ]
  },
  {
    "id": "70cc5270.0c11f4",
    "type": "switchNode",
    "name": "switch sna2_name",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'sna2_name'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1602.5,
    "y": 451.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "6950f2b5.16d88c"
      ]
    ]
  },
  {
    "id": "4839bb76.6231f4",
    "type": "switchNode",
    "name": "switch pe1_id",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'pe1_id'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1607.5,
    "y": 513.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "b7f7be54.bb917"
      ]
    ]
  },
  {
    "id": "e9c22fe.7f5eb5",
    "type": "switchNode",
    "name": "switch pe2_id",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'pe2_id'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1622.5,
    "y": 573.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "a5648f25.d106a"
      ]
    ]
  },
  {
    "id": "adf442a.303dcc",
    "type": "switchNode",
    "name": "switch ac1_id",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac1_id'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1617.5,
    "y": 645.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "18fc875b.805949"
      ]
    ]
  },
  {
    "id": "79aa13b9.189d24",
    "type": "switchNode",
    "name": "switch ac2_id",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac2_id'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1616.5,
    "y": 704.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "ff7ff5eb.cfefc8"
      ]
    ]
  },
  {
    "id": "5695b46b.d185b4",
    "type": "switchNode",
    "name": "switch ac1_ip",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac1_ip'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1593.5,
    "y": 767.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "3a3dab2d.a5bb8c"
      ]
    ]
  },
  {
    "id": "bace9104.ae1848",
    "type": "switchNode",
    "name": "switch ac2_ip",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac2_ip'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1596.5,
    "y": 824.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "cdd1eefe.5b85b8"
      ]
    ]
  },
  {
    "id": "9a7061af.ca17e",
    "type": "switchNode",
    "name": "switch ac1_peer_ip",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac1_peer_ip'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1602.5,
    "y": 876.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "1ca2f399.06573c"
      ]
    ]
  },
  {
    "id": "659d155a.7369ac",
    "type": "switchNode",
    "name": "switch ac2_peer_ip",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac2_peer_ip'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1603.5,
    "y": 931.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "cd2ff907.e5a52"
      ]
    ]
  },
  {
    "id": "f05ff602.95c57",
    "type": "switchNode",
    "name": "switch ac1_svlan",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac1_svlan'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1615.5,
    "y": 980.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "3cb8f25c.dbdcf6"
      ]
    ]
  },
  {
    "id": "fdb0c240.c67158",
    "type": "switchNode",
    "name": "switch ac2_svlan",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac2_svlan'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1608.5,
    "y": 1031.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "f4a0fc3d.931818"
      ]
    ]
  },
  {
    "id": "e5e0041.ae72a78",
    "type": "switchNode",
    "name": "switch ac1_protocol",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac1_protocol'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1601.5,
    "y": 1089.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "9232191b.5a644"
      ]
    ]
  },
  {
    "id": "ee6f82cf.48e768",
    "type": "switchNode",
    "name": "switch ac2_protocol",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac2_protocol'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1602.5,
    "y": 1149.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "2ac6f78c.3593"
      ]
    ]
  },
  {
    "id": "d210b6.498b1f48",
    "type": "switchNode",
    "name": "switch ac1_protocol_bgp_as",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac1_protocol_bgp_as'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1596.5,
    "y": 1335.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "26258b64.f3c8fc"
      ]
    ]
  },
  {
    "id": "a99d9f30.66196",
    "type": "switchNode",
    "name": "switch ac2_protocol_bgp_as",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac2_protocol_bgp_as'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1602.5,
    "y": 1386.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "beea3693.1fcab"
      ]
    ]
  },
  {
    "id": "4a49e3e6.b4823c",
    "type": "switchNode",
    "name": "switch af_type",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'af_type'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1569.5,
    "y": 1477.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "498b6cd0.790624"
      ]
    ]
  },
  {
    "id": "3a89d54d.40dfe2",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1774.5,
    "y": 145.99996948242188,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "d4ecb14d.0a54a8"
      ]
    ]
  },
  {
    "id": "38e8aa2.2d9e456",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1780.5,
    "y": 198.99996948242188,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "f3fb2ed6.50a728"
      ]
    ]
  },
  {
    "id": "21372c50.4a9ebc",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1789.5,
    "y": 260.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "884fbf7d.a8726"
      ]
    ]
  },
  {
    "id": "8bf3fb5b.75eb5",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1787.5,
    "y": 323.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "3abb6840.ee26b"
      ]
    ]
  },
  {
    "id": "23a5acb5.f27f04",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1792.5,
    "y": 385.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "f20a7e76.25a3f"
      ]
    ]
  },
  {
    "id": "6950f2b5.16d88c",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1784.5,
    "y": 443.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "d97cdc10.bd96d8"
      ]
    ]
  },
  {
    "id": "b7f7be54.bb917",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1785.5,
    "y": 506.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "427ba533.f11984"
      ]
    ]
  },
  {
    "id": "a5648f25.d106a",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1784.5,
    "y": 575.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "62408467.62a084"
      ]
    ]
  },
  {
    "id": "18fc875b.805949",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1781.5,
    "y": 643.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "85e36dea.0819c8"
      ]
    ]
  },
  {
    "id": "ff7ff5eb.cfefc8",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1780.5,
    "y": 707.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "58007bf7.116274"
      ]
    ]
  },
  {
    "id": "3a3dab2d.a5bb8c",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1753.5,
    "y": 765.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "9deb79b0.29029"
      ]
    ]
  },
  {
    "id": "cdd1eefe.5b85b8",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1755.5,
    "y": 822.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "8f458f7.ed1937"
      ]
    ]
  },
  {
    "id": "1ca2f399.06573c",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1791.5,
    "y": 873.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "33671733.0dc5e"
      ]
    ]
  },
  {
    "id": "cd2ff907.e5a52",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1796.5,
    "y": 936.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "a34e89a8.ee1828"
      ]
    ]
  },
  {
    "id": "3cb8f25c.dbdcf6",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1792.5,
    "y": 985.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "886acd80.98921"
      ]
    ]
  },
  {
    "id": "f4a0fc3d.931818",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1776.5,
    "y": 1034.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "2a432c87.a87a1c"
      ]
    ]
  },
  {
    "id": "9232191b.5a644",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1773.5,
    "y": 1087.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "5eed1069.6712b8"
      ]
    ]
  },
  {
    "id": "2ac6f78c.3593",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1786.5,
    "y": 1146.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "ef8da568.fd8118"
      ]
    ]
  },
  {
    "id": "26258b64.f3c8fc",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1804.5,
    "y": 1332.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "7d4dc212.e3372c"
      ]
    ]
  },
  {
    "id": "beea3693.1fcab",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1811.5,
    "y": 1382.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "e0f4fa02.db48e"
      ]
    ]
  },
  {
    "id": "498b6cd0.790624",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1773.5,
    "y": 1486.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "5ce422b3.c65204"
      ]
    ]
  },
  {
    "id": "d4ecb14d.0a54a8",
    "type": "set",
    "name": "set topology",
    "xml": "<set>\n<parameter name='prop.l3vpn.topology' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1969.5,
    "y": 146.99996948242188,
    "z": "b93007d5.c3e538",
    "wires": []
  },
  {
    "id": "f3fb2ed6.50a728",
    "type": "set",
    "name": "set technology",
    "xml": "<set>\n<parameter name='prop.l3vpn.technology' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1959.5,
    "y": 200.99996948242188,
    "z": "b93007d5.c3e538",
    "wires": []
  },
  {
    "id": "884fbf7d.a8726",
    "type": "set",
    "name": "set site1_name",
    "xml": "<set>\n<parameter name='prop.l3vpn.site1_name' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1963.5,
    "y": 257.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": []
  },
  {
    "id": "3abb6840.ee26b",
    "type": "set",
    "name": "set site2_name",
    "xml": "<set>\n<parameter name='prop.l3vpn.site2_name' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1966.5,
    "y": 316.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": []
  },
  {
    "id": "f20a7e76.25a3f",
    "type": "set",
    "name": "set sna1_name",
    "xml": "<set>\n<parameter name='prop.l3vpn.sna1_name' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1974.5,
    "y": 378.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": []
  },
  {
    "id": "d97cdc10.bd96d8",
    "type": "set",
    "name": "set sna2_name",
    "xml": "<set>\n<parameter name='prop.l3vpn.sna2_name' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1966.5,
    "y": 438.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": []
  },
  {
    "id": "427ba533.f11984",
    "type": "set",
    "name": "set pe1_id",
    "xml": "<set>\n<parameter name='prop.l3vpn.pe1_id' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1963.5,
    "y": 498.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": []
  },
  {
    "id": "62408467.62a084",
    "type": "set",
    "name": "set pe2_id",
    "xml": "<set>\n<parameter name='prop.l3vpn.pe2_id' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1959.5,
    "y": 569.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": []
  },
  {
    "id": "85e36dea.0819c8",
    "type": "set",
    "name": "set ac1_id",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac1_id' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1952.5,
    "y": 635.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": []
  },
  {
    "id": "58007bf7.116274",
    "type": "set",
    "name": "set ac2_id",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac2_id' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1955.5,
    "y": 702.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": []
  },
  {
    "id": "9deb79b0.29029",
    "type": "set",
    "name": "set ac1_ip",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac1_ip' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1931.5,
    "y": 768.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": []
  },
  {
    "id": "8f458f7.ed1937",
    "type": "set",
    "name": "set ac2_ip",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac2_ip' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1935.5,
    "y": 822.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": []
  },
  {
    "id": "33671733.0dc5e",
    "type": "set",
    "name": "set ac1_peer_ip",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac1_peer_ip' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1983.5,
    "y": 877.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": []
  },
  {
    "id": "a34e89a8.ee1828",
    "type": "set",
    "name": "set ac2_peer_ip",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac2_peer_ip' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1979.5,
    "y": 932.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": []
  },
  {
    "id": "886acd80.98921",
    "type": "set",
    "name": "set ac1_svlan",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac1_svlan' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1973.5,
    "y": 987.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": []
  },
  {
    "id": "2a432c87.a87a1c",
    "type": "set",
    "name": "set ac2_svlan",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac2_svlan' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1970.5,
    "y": 1040.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": []
  },
  {
    "id": "5eed1069.6712b8",
    "type": "set",
    "name": "set ac1_protocol",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac1_protocol' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1968.5,
    "y": 1097.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": []
  },
  {
    "id": "ef8da568.fd8118",
    "type": "set",
    "name": "set ac2_protocol",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac2_protocol' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1977.5,
    "y": 1149.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": []
  },
  {
    "id": "7d4dc212.e3372c",
    "type": "set",
    "name": "set ac1_protocol_bgp_as",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac1_protocol_bgp_as' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n<parameter name='prop.l3vpn.peer1-ip' value='`$prop.l3vpn.ac1_ip`' />\n",
    "comments": "",
    "x": 2071.5,
    "y": 1353.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": []
  },
  {
    "id": "e0f4fa02.db48e",
    "type": "set",
    "name": "set ac2_protocol_bgp_as",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac2_protocol_bgp_as' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n<parameter name='prop.l3vpn.peer2-ip' value='`$prop.l3vpn.ac2_ip`' />\n",
    "comments": "",
    "x": 2083.5,
    "y": 1402.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": []
  },
  {
    "id": "5ce422b3.c65204",
    "type": "set",
    "name": "set af_type",
    "xml": "<set>\n<parameter name='prop.l3vpn.af_type' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1967.5,
    "y": 1496.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": []
  },
  {
    "id": "7b077cdc.2f71b4",
    "type": "record",
    "name": "record",
    "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/svclogic.log\"/>\n<parameter name=\"Time\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"Method\" value=\"network-topology-operation-create\"/>\n<parameter name=\"SubMethod\" value=\"L3VPN-Config\"/>\n<parameter name=\"l3vpn_name\" value=\"`$prop.l3vpn.name`\"/>\n<parameter name=\"topology\" value=\"`$prop.l3vpn.topology`\"/>\n<parameter name=\"site1_name\" value=\"`$prop.l3vpn.site1_name`\"/>\n<parameter name=\"vpn-policy1-id\" value=\"`$prop.l3vpn.vpn-policy1-id}`\"/>\n<parameter name=\"l3vpn.entry1-id\" value=\"`$prop.l3vpn.entry1-id`\"/>\n<parameter name=\"sna1_name\" value=\"`$prop.l3vpn.sna1_name`\"/>\n<parameter name=\"pe1_id\" value=\"`$prop.l3vpn.pe1_id`\"/>\n<parameter name=\"ac1_id\" value=\"`$prop.l3vpn.ac1_id`\"/>\n<parameter name=\"sna1_svlan\" value=\"`$prop.l3vpn.sna1_svlan`\"/>\n<parameter name=\"ac1-peer-ip\" value=\"`$prop.l3vpn.ac1-peer-ip`\"/>\n<parameter name=\"ac1-ip\" value=\"`$prop.l3vpn.ac1-ip`\"/>\n<parameter name=\"ac1_protocol\" value=\"`$prop.l3vpn.ac1_protocol`\"/>\n<parameter name=\"sna1-route-ip-prefix\" value=\"`$prop.l3vpn.sna1-route-ip-prefix`\"/>\n<parameter name=\"sna1-route-next-hop\" value=\"`$prop.l3vpn.sna1-route-next-hop`\"/>\n<parameter name=\"peer2-ip\" value=\"`$prop.l3vpn.peer2-ip`\"/>\n<parameter name=\"ac2_protocol_bgp_as\" value=\"`$prop.l3vpn.ac2_protocol_bgp_as`\"/>\n<parameter name=\"vrf1-id\" value=\"`$prop.l3vpn.vrf1-id`\"/>\n<parameter name=\"site2_name\" value=\"`$prop.l3vpn.site2_name`\"/>\n<parameter name=\"vpn-policy2-id\" value=\"`$prop.l3vpn.vpn-policy2-id}`\"/>\n<parameter name=\"l3vpn.entry2-id\" value=\"`$prop.l3vpn.entry2-id`\"/>\n<parameter name=\"sna2_name\" value=\"`$prop.l3vpn.sna2_name`\"/>\n<parameter name=\"pe2_id\" value=\"`$prop.l3vpn.pe2_id`\"/>\n<parameter name=\"ac2_id\" value=\"`$prop.l3vpn.ac2_id`\"/>\n<parameter name=\"sna2_svlan\" value=\"`$prop.l3vpn.sna2_svlan`\"/>\n<parameter name=\"ac2-peer-ip\" value=\"`$prop.l3vpn.ac2-peer-ip`\"/>\n<parameter name=\"ac2-ip\" value=\"`$prop.l3vpn.ac2-ip`\"/>\n<parameter name=\"ac2_protocol\" value=\"`$prop.l3vpn.ac2_protocol`\"/>\n<parameter name=\"sna2-route-ip-prefix\" value=\"`$prop.l3vpn.sna2-route-ip-prefix`\"/>\n<parameter name=\"sna2-route-next-hop\" value=\"`$prop.l3vpn.sna2-route-next-hop`\"/>\n<parameter name=\"peer2-ip\" value=\"`$prop.l3vpn.peer2-ip`\"/>\n<parameter name=\"ac2_protocol_bgp_as\" value=\"`$prop.l3vpn.ac2_protocol_bgp_as`\"/>\n<parameter name=\"vrf2-id\" value=\"`$prop.l3vpn.vrf2-id`\"/>\n<parameter name=\"af_type\" value=\"`$prop.l3vpn.af_type`\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 718,
    "y": 988,
    "z": "b93007d5.c3e538",
    "wires": [
      []
    ]
  },
  {
    "id": "b4f42ae7.52446",
    "type": "switchNode",
    "name": "switch service-type",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'service-type'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 699,
    "y": 1134,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "ccafc029.2ca668",
        "83222ede.275488",
        "9be175a2.890088"
      ]
    ]
  },
  {
    "id": "ccafc029.2ca668",
    "type": "outcomeTrue",
    "name": "l3vpn-ipwan",
    "xml": "<outcome value='l3vpn-ipwan'>\n",
    "comments": "",
    "outputs": 1,
    "x": 685,
    "y": 1059,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "86e0641c.9378b8"
      ]
    ]
  },
  {
    "id": "83222ede.275488",
    "type": "outcomeTrue",
    "name": "l3vpn-sptn",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 841,
    "y": 1202.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "cc196265.e16a88"
      ]
    ]
  },
  {
    "id": "9be175a2.890088",
    "type": "outcomeTrue",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 839,
    "y": 1281.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "a80e67f6.8ddf08"
      ]
    ]
  },
  {
    "id": "a80e67f6.8ddf08",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Unexpected error retrieving vpn binding\" />\n\n",
    "comments": "",
    "x": 1022,
    "y": 1280.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": []
  },
  {
    "id": "ddb7afb8.346658",
    "type": "execute",
    "name": "execute vpn-policy2-id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.l3vpn.vpn-policy2-id\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 807,
    "y": 511.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "41865338.ad795c"
      ]
    ]
  },
  {
    "id": "41865338.ad795c",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1032,
    "y": 514.9999389648438,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "983244e.df934b8"
      ]
    ]
  },
  {
    "id": "983244e.df934b8",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while generation vpn policy ID\" />\n",
    "comments": "",
    "x": 1213,
    "y": 512.9999389648438,
    "z": "b93007d5.c3e538",
    "wires": []
  },
  {
    "id": "1ca86563.d30703",
    "type": "set",
    "name": "set policy entry",
    "xml": "<set>\n<parameter name='prop.l3vpn.entry1-id' value='1' />\n<parameter name='prop.l3vpn.entry2-id' value='1' />\n\n",
    "comments": "",
    "x": 793,
    "y": 559.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": []
  },
  {
    "id": "2b5f5542.fd958a",
    "type": "execute",
    "name": "execute split ac1-route",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$prop.l3vpn.ac1-route`'/>\n<parameter name=\"regex\" value=\" ## \"/>\n<parameter name=\"ctx_memory_result_key\" value=\"route1\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 2197,
    "y": 1209.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "59c48fa4.84884",
        "d90a37bb.c237f"
      ]
    ]
  },
  {
    "id": "7e49a5fe.54752c",
    "type": "switchNode",
    "name": "switch ac2_route",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac2_route'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1598,
    "y": 1257.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "8fa0374a.f95938"
      ]
    ]
  },
  {
    "id": "b21efe21.6a6f38",
    "type": "switchNode",
    "name": "switch ac1_route",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac1_route'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1599,
    "y": 1208.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "338cff27.30b9f8"
      ]
    ]
  },
  {
    "id": "338cff27.30b9f8",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1771,
    "y": 1206.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "a82ee394.90f61"
      ]
    ]
  },
  {
    "id": "8fa0374a.f95938",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1784,
    "y": 1265.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "bf41117.64398f"
      ]
    ]
  },
  {
    "id": "ebb40fd1.a6e278",
    "type": "set",
    "name": "set ac1_route",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac1_route' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2168,
    "y": 1157.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": []
  },
  {
    "id": "1ebecf9.6d9703",
    "type": "set",
    "name": "set ac2_route",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac2_route' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2166,
    "y": 1257.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": []
  },
  {
    "id": "2c643f9e.330d9",
    "type": "execute",
    "name": "execute split ac2-route",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$prop.l3vpn.ac2-route`'/>\n<parameter name=\"regex\" value=\" ## \"/>\n<parameter name=\"ctx_memory_result_key\" value=\"route2\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 2190,
    "y": 1302.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "353346ad.e73b3a",
        "90a1b8e5.de4168"
      ]
    ]
  },
  {
    "id": "a82ee394.90f61",
    "type": "block",
    "name": "block atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1922,
    "y": 1206.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "ebb40fd1.a6e278",
        "2b5f5542.fd958a"
      ]
    ]
  },
  {
    "id": "bf41117.64398f",
    "type": "block",
    "name": "block atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1923,
    "y": 1265.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "1ebecf9.6d9703",
        "2c643f9e.330d9"
      ]
    ]
  },
  {
    "id": "200a1605.cf89a2",
    "type": "execute",
    "name": "execute vrf1-id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.l3vpn.vrf1-id\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 792,
    "y": 613,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "ccc1c7cc.dfb0f"
      ]
    ]
  },
  {
    "id": "8739cde1.57a17",
    "type": "execute",
    "name": "execute vrf2-id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.l3vpn.vrf2-id\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 789.3333740234375,
    "y": 670.333251953125,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "6487397b.1e3fb"
      ]
    ]
  },
  {
    "id": "6487397b.1e3fb",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1039.3333740234375,
    "y": 676.333251953125,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "612da958.138ff"
      ]
    ]
  },
  {
    "id": "ccc1c7cc.dfb0f",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1039,
    "y": 617.9999389648438,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "27463d60.ad91ba"
      ]
    ]
  },
  {
    "id": "27463d60.ad91ba",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while generation vpn policy ID\" />\n",
    "comments": "",
    "x": 1220,
    "y": 615.9999389648438,
    "z": "b93007d5.c3e538",
    "wires": []
  },
  {
    "id": "612da958.138ff",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while generation vpn policy ID\" />\n",
    "comments": "",
    "x": 1220.3333740234375,
    "y": 674.333251953125,
    "z": "b93007d5.c3e538",
    "wires": []
  },
  {
    "id": "86e0641c.9378b8",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 864,
    "y": 1059,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "65abf066.8e6488",
        "5c181e9f.160958",
        "5af1a08.5be54e"
      ]
    ]
  },
  {
    "id": "5c181e9f.160958",
    "type": "execute",
    "name": "execute RestApiCallNode IPWAN Site Config",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"$prop.sdncRestApi.tempDir +'/l3smvpntemplate.json'\"/>\n<parameter name=\"restapiUrl\" value=\"$prop.sdncRestApi.thirdpartySdnc.url +'/restconf/data/huawei-ac-net-l3vpn-svc:l3vpn-svc-cfg/vpn-services'\"/>\n<parameter name=\"restapiUser\" value=\"$prop.sdncRestApi.thirdpartySdnc.user\"/>\n<parameter name=\"restapiPassword\" value=\"$prop.sdncRestApi.thirdpartySdnc.password\"/>\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"restapi-result\"/>",
    "comments": "",
    "outputs": 1,
    "x": 1170,
    "y": 1054.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      []
    ]
  },
  {
    "id": "5af1a08.5be54e",
    "type": "execute",
    "name": "execute RestApiCallNode IPWAN VRF Config",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"$prop.sdncRestApi.tempDir +'/l3smvpntemplate.json'\"/>\n<parameter name=\"restapiUrl\" value=\"$prop.sdncRestApi.thirdpartySdnc.url +'/restconf/data/huawei-ac-net-l3vpn-svc:l3vpn-svc-cfg/vpn-services'\"/>\n<parameter name=\"restapiUser\" value=\"$prop.sdncRestApi.thirdpartySdnc.user\"/>\n<parameter name=\"restapiPassword\" value=\"$prop.sdncRestApi.thirdpartySdnc.password\"/>\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"restapi-result\"/>",
    "comments": "",
    "outputs": 1,
    "x": 1168,
    "y": 1125.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      []
    ]
  },
  {
    "id": "59c48fa4.84884",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2415,
    "y": 1201.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "a2f6539a.f13e48"
      ]
    ]
  },
  {
    "id": "a2f6539a.f13e48",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
    "comments": "",
    "x": 2596,
    "y": 1199.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": []
  },
  {
    "id": "353346ad.e73b3a",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2413,
    "y": 1303.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "64606169.f340a"
      ]
    ]
  },
  {
    "id": "64606169.f340a",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
    "comments": "",
    "x": 2594,
    "y": 1301.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": []
  },
  {
    "id": "d90a37bb.c237f",
    "type": "failure",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2414,
    "y": 1135.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "9b121e11.8e6548"
      ]
    ]
  },
  {
    "id": "90a1b8e5.de4168",
    "type": "failure",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2410,
    "y": 1255.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "798e96d1.dbe14"
      ]
    ]
  },
  {
    "id": "9b121e11.8e6548",
    "type": "set",
    "name": "set route1 ip-prefix next-hop",
    "xml": "<set>\n<parameter name='prop.l3vpn.sna1-route.ip-prefix' value='`$route1[0]`' />\n<parameter name='prop.l3vpn.sna1-route.next-hop' value='`$route1[1]`' />\n",
    "comments": "",
    "x": 2621,
    "y": 1129.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": []
  },
  {
    "id": "798e96d1.dbe14",
    "type": "set",
    "name": "set route2 ip-prefix next-hop",
    "xml": "<set>\n<parameter name='prop.l3vpn.sna2-route.ip-prefix' value='`$route2[0]`' />\n<parameter name='prop.l3vpn.sna2-route.next-hop' value='`$route2[1]`' />",
    "comments": "",
    "x": 2621,
    "y": 1248.9999694824219,
    "z": "b93007d5.c3e538",
    "wires": []
  },
  {
    "id": "d21a23d8.b0bee",
    "type": "execute",
    "name": "execute generate-underlay-network-id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.l3vpn.network-id\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 848,
    "y": 764,
    "z": "b93007d5.c3e538",
    "wires": [
      []
    ]
  },
  {
    "id": "1ae283a6.1cae6c",
    "type": "switchNode",
    "name": "switch service-data.networks_length",
    "xml": "<switch test='`$service-data.networks.network_length`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 806,
    "y": 845,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "2049b18f.3dcc96",
        "f048277d.a89e68"
      ]
    ]
  },
  {
    "id": "2049b18f.3dcc96",
    "type": "other",
    "name": "Null",
    "xml": "<outcome value=''>\n",
    "comments": "",
    "outputs": 1,
    "x": 1079.8095703125,
    "y": 813.952392578125,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "a9b3eba7.b952d"
      ]
    ]
  },
  {
    "id": "f048277d.a89e68",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1074.666748046875,
    "y": 859.6666870117188,
    "z": "b93007d5.c3e538",
    "wires": [
      [
        "7b2cabce.1a9454"
      ]
    ]
  },
  {
    "id": "a9b3eba7.b952d",
    "type": "set",
    "name": "set nidx",
    "xml": "<set>\n<parameter name='nidx' value='0' />\n",
    "comments": "",
    "x": 1232.8095703125,
    "y": 813.5238037109375,
    "z": "b93007d5.c3e538",
    "wires": []
  },
  {
    "id": "7b2cabce.1a9454",
    "type": "set",
    "name": "set nidx",
    "xml": "<set>\n<parameter name='nidx' value='`$service-data.networks.network_length`' />\n",
    "comments": "",
    "x": 1234.2381591796875,
    "y": 858.5238647460938,
    "z": "b93007d5.c3e538",
    "wires": []
  },
  {
    "id": "1e4e53c1.72218c",
    "type": "set",
    "name": "set network in service-data",
    "xml": "<set>\n<parameter name=\"service-data.networks.network[$nidx].network-id\" value='`$prop.l3vpn.network-id`' />\n<parameter name='service-data.networks.network[$nidx].network-data.sdnc-request-header.' value='`$network-topology-operation-input.sdnc-request-header.`' />\n<parameter name='service-data.networks.network[$nidx].network-data.request-information.' value='`$network-topology-operation-input.request-information.`' />\n<parameter name='service-data.networks.network[$nidx].network-data.service-information.' value='`$network-topology-operation-input.service-information.`' />\n<parameter name='service-data.networks.network[$nidx].network-data.network-information.' value='`$network-topology-operation-input.network-information.`' />\n<parameter name='service-data.networks.network[$nidx].network-data.network-request-input.' value='`$network-topology-operation-input.network-request-input.`' />\n<parameter name=\"service-data.networks.network_length\" value='`$nidx+1`' />\n\n",
    "comments": "",
    "x": 788,
    "y": 908,
    "z": "b93007d5.c3e538",
    "wires": []
  },
  {
    "id": "881693df.98a5b",
    "type": "set",
    "name": "set networkId and network-object-path",
    "xml": "<set>\n<parameter name='networkId' value='`$prop.l3vpn.network-id`' />\n<parameter name=\"network-object-path\" value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'  + $network-topology-operation-input.service-information.service-instance-id  + '/service-data/networks/network/'  + $prop.l3vpn.network-id  + '/network-data/'` \" />",
    "comments": "",
    "x": 772,
    "y": 1338,
    "z": "b93007d5.c3e538",
    "wires": []
  },
  {
    "id": "8aae558c.098818",
    "type": "returnSuccess",
    "name": "return success",
    "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
    "comments": "",
    "x": 688,
    "y": 1395,
    "z": "b93007d5.c3e538",
    "wires": []
  }
]
