[
  {
    "id": "a804e8b3.b56458",
    "type": "dgstart",
    "name": "DGSTART",
    "outputs": 1,
    "x": 152.03125,
    "y": 61.999969482421875,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "18e447a7.6f0858"
      ]
    ]
  },
  {
    "id": "18e447a7.6f0858",
    "type": "service-logic",
    "name": "GENERIC-RESOURCE-API ${project.version}",
    "module": "GENERIC-RESOURCE-API",
    "version": "${project.version}",
    "comments": "",
    "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
    "outputs": 1,
    "x": 364.03125381469727,
    "y": 133.99998664855957,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "256df46c.ff714c"
      ]
    ]
  },
  {
    "id": "256df46c.ff714c",
    "type": "method",
    "name": "method network-topology-operation-create",
    "xml": "<method rpc='network-topology-operation-create' mode='sync'>\n",
    "comments": "",
    "outputs": 1,
    "x": 352.0313720703125,
    "y": 221.99996948242188,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "7cf0fc5e.374144"
      ]
    ]
  },
  {
    "id": "7cf0fc5e.374144",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 428.03125,
    "y": 620,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "e8bdc14b.b11af",
        "2a05068a.e6721a",
        "e16012fc.ef0af",
        "179dd935.bb3747",
        "37b4efd2.368ed",
        "e431fd19.db908",
        "60db19ec.521588",
        "6a3a805.948d08",
        "77fa32c0.09c32c",
        "cbfd620a.85d71",
        "37c9fe5c.d39282",
        "bb4e39dc.aefd28",
        "90e757cc.0959f8",
        "8c153068.d865f",
        "b9935276.cc7ee",
        "e891bd7f.8fb2d",
        "c20c2a08.dc6768",
        "56419be7.895d24",
        "a13270b7.6c1f5",
        "fb767200.4ff718"
      ]
    ]
  },
  {
    "id": "1fd5d87a.f37a68",
    "type": "execute",
    "name": "execute RestApiCallNode Create IPWAN L3VPN",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/l3smvpntemplate.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/huawei-ac-net-l3vpn-svc:l3vpn-svc-cfg/vpn-services'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
    "comments": "",
    "outputs": 1,
    "x": 1175.0314331054688,
    "y": 992.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "52fc73ef.e7aa0c",
        "b81affca.012b9"
      ]
    ]
  },
  {
    "id": "8d9313d.965c4f",
    "type": "set",
    "name": "set controller data",
    "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.url' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.user' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.password' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n",
    "comments": "",
    "x": 1329.0313110351562,
    "y": 266.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "e16012fc.ef0af",
    "type": "for",
    "name": "for each network-input-parameters",
    "xml": "<for index='idx' start='0' end='`$network-topology-operation-input.network-request-input.network-input-parameters.param_length`' >\n",
    "comments": "",
    "outputs": 1,
    "x": 870.6978759765625,
    "y": 182.6666259765625,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "a0a289d3.8a3128"
      ]
    ]
  },
  {
    "id": "e7cb4067.6cda1",
    "type": "execute",
    "name": "execute RestApiCallNode Create SPTN L3VPN",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"$prop.sdncRestApi.templateDir +'/l3smsitetemplate.json'\"/>\n<parameter name=\"restapiUrl\" value=\"$prop.sdncRestApi.thirdpartySdnc.url\"/>\n<parameter name=\"restapiUser\" value=\"$prop.sdncRestApi.thirdpartySdnc.user\"/>\n<parameter name=\"restapiPassword\" value=\"$prop.sdncRestApi.thirdpartySdnc.password\"/>\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"restapi-result\"/>",
    "comments": "",
    "outputs": 1,
    "x": 1211.6981201171875,
    "y": 1232.6667175292969,
    "z": "e07ef8ab.015e18",
    "wires": [
      []
    ]
  },
  {
    "id": "2a05068a.e6721a",
    "type": "execute",
    "name": "execute vpn-policy1-id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.l3vpn.vpn-policy1-id\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 873.6978759765625,
    "y": 455.6666564941406,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "dfa32502.bd43b8"
      ]
    ]
  },
  {
    "id": "dfa32502.bd43b8",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1098.6978759765625,
    "y": 458.6666259765625,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "317318fb.4e9e28"
      ]
    ]
  },
  {
    "id": "317318fb.4e9e28",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while generation vpn policy ID\" />\n",
    "comments": "",
    "x": 1279.6978759765625,
    "y": 456.6666259765625,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "e8bdc14b.b11af",
    "type": "call",
    "name": "call GENERIC-RESOURCE-API:validate-network-input-parameters",
    "xml": "<call module='GENERIC-RESOURCE-API' rpc='validate-network-input-parameters' mode='sync' >\n",
    "comments": "",
    "outputs": 1,
    "x": 925.53125,
    "y": 98.99996948242188,
    "z": "e07ef8ab.015e18",
    "wires": [
      []
    ]
  },
  {
    "id": "c20c2a08.dc6768",
    "type": "get-resource",
    "name": "get-resource esr-thirdparty-sdnc",
    "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.thirdparty-sdnc-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.esr-thirdparty-sdnc' local-only='false' >\n\n",
    "comments": "",
    "outputs": 1,
    "x": 886.53125,
    "y": 332.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "13f02083.f3783f",
        "ef2a8a2e.104fc8",
        "212aed64.086862"
      ]
    ]
  },
  {
    "id": "13f02083.f3783f",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1131.53125,
    "y": 278.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "8d9313d.965c4f"
      ]
    ]
  },
  {
    "id": "ef2a8a2e.104fc8",
    "type": "not-found",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1135.022216796875,
    "y": 326.5740051269531,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "be218957.42e218"
      ]
    ]
  },
  {
    "id": "212aed64.086862",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1130.355224609375,
    "y": 367.9073181152344,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "53967fa5.5f3e"
      ]
    ]
  },
  {
    "id": "be218957.42e218",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
    "comments": "",
    "x": 1311.5936279296875,
    "y": 314.8597412109375,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "53967fa5.5f3e",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
    "comments": "",
    "x": 1318.1277809143066,
    "y": 363.346510887146,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "8ed22fd9.4d3dc",
    "type": "switchNode",
    "name": "switch name",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'name'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1663.53125,
    "y": 33,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "80b3ba44.055788"
      ]
    ]
  },
  {
    "id": "efdd2674.739ce8",
    "type": "switchNode",
    "name": "switch service-type",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'service-type'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1667.5311889648438,
    "y": 90.5999755859375,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "6d4384b9.0ebe7c"
      ]
    ]
  },
  {
    "id": "80b3ba44.055788",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1850.53125,
    "y": 29,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "9fbc359d.c51268"
      ]
    ]
  },
  {
    "id": "6d4384b9.0ebe7c",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1852.5311889648438,
    "y": 88.5999755859375,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "afc95f0c.000e8"
      ]
    ]
  },
  {
    "id": "9fbc359d.c51268",
    "type": "set",
    "name": "set name",
    "xml": "<set>\n<parameter name='prop.l3vpn.name' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2018.53125,
    "y": 29.600006103515625,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "afc95f0c.000e8",
    "type": "set",
    "name": "set service-type",
    "xml": "<set>\n<parameter name='prop.l3vpn.service-type' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2021.5311889648438,
    "y": 86.5999755859375,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "f576c53a.7be778",
    "type": "switchNode",
    "name": "switch topology",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'topology'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1666.53125,
    "y": 151.99996948242188,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "c58b51de.9dcfb"
      ]
    ]
  },
  {
    "id": "f5da2a66.76d6a8",
    "type": "switchNode",
    "name": "switch technology",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'technology'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1669.53125,
    "y": 204.99996948242188,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "22ac483f.40cd08"
      ]
    ]
  },
  {
    "id": "9322169f.7e6468",
    "type": "switchNode",
    "name": "switch site1_name",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'site1_name'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1674.53125,
    "y": 266.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "38b6d1b6.17180e"
      ]
    ]
  },
  {
    "id": "41e22f2d.675b9",
    "type": "switchNode",
    "name": "switch site2_name",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'site2_name'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1669.53125,
    "y": 329.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "486c488e.0a32b8"
      ]
    ]
  },
  {
    "id": "fc7aed60.65dde",
    "type": "switchNode",
    "name": "switch sna1_name",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'sna1_name'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1674.53125,
    "y": 389.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "915000f3.1120f"
      ]
    ]
  },
  {
    "id": "3fbbe309.27a1fc",
    "type": "switchNode",
    "name": "switch sna2_name",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'sna2_name'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1669.53125,
    "y": 453.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "f4543b5c.8e0d38"
      ]
    ]
  },
  {
    "id": "a2bdcc47.ae6fd",
    "type": "switchNode",
    "name": "switch pe1_id",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'pe1_id'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1674.53125,
    "y": 515.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "5f3dc9f6.e27f38"
      ]
    ]
  },
  {
    "id": "5ff7d202.bbe52c",
    "type": "switchNode",
    "name": "switch pe2_id",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'pe2_id'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1689.53125,
    "y": 575.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "e42f30ff.07bec"
      ]
    ]
  },
  {
    "id": "70478129.46c8",
    "type": "switchNode",
    "name": "switch ac1_id",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac1_id'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1684.53125,
    "y": 647.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "88f3112.2d2fdf"
      ]
    ]
  },
  {
    "id": "5b2c84b5.c4133c",
    "type": "switchNode",
    "name": "switch ac2_id",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac2_id'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1683.53125,
    "y": 706.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "b0791125.97403"
      ]
    ]
  },
  {
    "id": "5f56629a.41d4bc",
    "type": "switchNode",
    "name": "switch ac1_ip",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac1_ip'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1660.53125,
    "y": 769.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "8a66ca.58098938"
      ]
    ]
  },
  {
    "id": "88ead0cd.822bb",
    "type": "switchNode",
    "name": "switch ac2_ip",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac2_ip'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1663.53125,
    "y": 826.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "955fbd96.c1d04"
      ]
    ]
  },
  {
    "id": "166443d5.94dbbc",
    "type": "switchNode",
    "name": "switch ac1_peer_ip",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac1_peer_ip'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1669.53125,
    "y": 878.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "4db2da85.85e3f4"
      ]
    ]
  },
  {
    "id": "2e267b3e.323f94",
    "type": "switchNode",
    "name": "switch ac2_peer_ip",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac2_peer_ip'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1670.53125,
    "y": 933.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "b13a698.e747198"
      ]
    ]
  },
  {
    "id": "291e6ccb.4ad7e4",
    "type": "switchNode",
    "name": "switch ac1_svlan",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac1_svlan'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1682.53125,
    "y": 982.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "551bf76.d690308"
      ]
    ]
  },
  {
    "id": "c859e422.4eadc8",
    "type": "switchNode",
    "name": "switch ac2_svlan",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac2_svlan'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1675.53125,
    "y": 1033.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "dc1c7d76.2b839"
      ]
    ]
  },
  {
    "id": "335bcb16.8452b4",
    "type": "switchNode",
    "name": "switch ac1_protocol",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac1_protocol'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1668.53125,
    "y": 1091.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "4da810c6.50b18"
      ]
    ]
  },
  {
    "id": "b8ac331e.cf80f",
    "type": "switchNode",
    "name": "switch ac2_protocol",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac2_protocol'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1669.53125,
    "y": 1151.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "44c491a0.0f4c8"
      ]
    ]
  },
  {
    "id": "eddb16e2.7d3ca8",
    "type": "switchNode",
    "name": "switch ac1_protocol_bgp_as",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac1_protocol_bgp_as'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1663.53125,
    "y": 1337.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "b3981d6b.c0a51"
      ]
    ]
  },
  {
    "id": "445b45a7.1c9e2c",
    "type": "switchNode",
    "name": "switch ac2_protocol_bgp_as",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac2_protocol_bgp_as'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1669.53125,
    "y": 1388.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "d1610ea6.e197e"
      ]
    ]
  },
  {
    "id": "ff841f48.1f039",
    "type": "switchNode",
    "name": "switch af_type",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'af_type'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1636.53125,
    "y": 1479.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "e0fac181.ab5ff"
      ]
    ]
  },
  {
    "id": "c58b51de.9dcfb",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1841.53125,
    "y": 147.99996948242188,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "e6e45965.586a08"
      ]
    ]
  },
  {
    "id": "22ac483f.40cd08",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1847.53125,
    "y": 200.99996948242188,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "48d17e6e.f36ff"
      ]
    ]
  },
  {
    "id": "38b6d1b6.17180e",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1856.53125,
    "y": 262.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "b956de5c.88109"
      ]
    ]
  },
  {
    "id": "486c488e.0a32b8",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1854.53125,
    "y": 325.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "6c41f36c.55709c"
      ]
    ]
  },
  {
    "id": "915000f3.1120f",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1859.53125,
    "y": 387.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "681b49b2.42ea78"
      ]
    ]
  },
  {
    "id": "f4543b5c.8e0d38",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1851.53125,
    "y": 445.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "f14e641f.9e6788"
      ]
    ]
  },
  {
    "id": "5f3dc9f6.e27f38",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1852.53125,
    "y": 508.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "9606bc15.8d1a2"
      ]
    ]
  },
  {
    "id": "e42f30ff.07bec",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1851.53125,
    "y": 577.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "79d385f0.7efcac"
      ]
    ]
  },
  {
    "id": "88f3112.2d2fdf",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1848.53125,
    "y": 645.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "58081f21.095c5"
      ]
    ]
  },
  {
    "id": "b0791125.97403",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1847.53125,
    "y": 709.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "68b74f12.22fc9"
      ]
    ]
  },
  {
    "id": "8a66ca.58098938",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1820.53125,
    "y": 767.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "6cb618b4.84d5e8"
      ]
    ]
  },
  {
    "id": "955fbd96.c1d04",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1822.53125,
    "y": 824.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "3ee47e4b.3ebf92"
      ]
    ]
  },
  {
    "id": "4db2da85.85e3f4",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1858.53125,
    "y": 875.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "348c4435.8ca42c"
      ]
    ]
  },
  {
    "id": "b13a698.e747198",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1863.53125,
    "y": 938.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "64d72468.0aecbc"
      ]
    ]
  },
  {
    "id": "551bf76.d690308",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1859.53125,
    "y": 987.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "f2be5987.ec3938"
      ]
    ]
  },
  {
    "id": "dc1c7d76.2b839",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1843.53125,
    "y": 1036.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "e0e7c091.70bda"
      ]
    ]
  },
  {
    "id": "4da810c6.50b18",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1840.53125,
    "y": 1089.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "924d0335.b5bfa"
      ]
    ]
  },
  {
    "id": "44c491a0.0f4c8",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1853.53125,
    "y": 1148.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "880724d2.0ba428"
      ]
    ]
  },
  {
    "id": "b3981d6b.c0a51",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1871.53125,
    "y": 1334.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "4b8babb9.30ffb4"
      ]
    ]
  },
  {
    "id": "d1610ea6.e197e",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1878.53125,
    "y": 1384.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "6ee6ff69.e803d"
      ]
    ]
  },
  {
    "id": "e0fac181.ab5ff",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1840.53125,
    "y": 1488.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "a979c4a1.40a538"
      ]
    ]
  },
  {
    "id": "e6e45965.586a08",
    "type": "set",
    "name": "set topology",
    "xml": "<set>\n<parameter name='prop.l3vpn.topology' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2036.53125,
    "y": 148.99996948242188,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "48d17e6e.f36ff",
    "type": "set",
    "name": "set technology",
    "xml": "<set>\n<parameter name='prop.l3vpn.technology' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2026.53125,
    "y": 202.99996948242188,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "b956de5c.88109",
    "type": "set",
    "name": "set site1_name",
    "xml": "<set>\n<parameter name='prop.l3vpn.site1_name' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2030.53125,
    "y": 259.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "6c41f36c.55709c",
    "type": "set",
    "name": "set site2_name",
    "xml": "<set>\n<parameter name='prop.l3vpn.site2_name' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2033.53125,
    "y": 318.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "681b49b2.42ea78",
    "type": "set",
    "name": "set sna1_name",
    "xml": "<set>\n<parameter name='prop.l3vpn.sna1_name' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2041.53125,
    "y": 380.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "f14e641f.9e6788",
    "type": "set",
    "name": "set sna2_name",
    "xml": "<set>\n<parameter name='prop.l3vpn.sna2_name' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2033.53125,
    "y": 440.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "9606bc15.8d1a2",
    "type": "set",
    "name": "set pe1_id",
    "xml": "<set>\n<parameter name='prop.l3vpn.pe1_id' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2030.53125,
    "y": 500.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "79d385f0.7efcac",
    "type": "set",
    "name": "set pe2_id",
    "xml": "<set>\n<parameter name='prop.l3vpn.pe2_id' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2026.53125,
    "y": 571.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "58081f21.095c5",
    "type": "set",
    "name": "set ac1_id",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac1_id' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2019.53125,
    "y": 637.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "68b74f12.22fc9",
    "type": "set",
    "name": "set ac2_id",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac2_id' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2022.53125,
    "y": 704.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "6cb618b4.84d5e8",
    "type": "set",
    "name": "set ac1_ip",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac1_ip' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1998.53125,
    "y": 770.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "3ee47e4b.3ebf92",
    "type": "set",
    "name": "set ac2_ip",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac2_ip' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2002.53125,
    "y": 824.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "348c4435.8ca42c",
    "type": "set",
    "name": "set ac1_peer_ip",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac1_peer_ip' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2050.53125,
    "y": 879.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "64d72468.0aecbc",
    "type": "set",
    "name": "set ac2_peer_ip",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac2_peer_ip' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2046.53125,
    "y": 934.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "f2be5987.ec3938",
    "type": "set",
    "name": "set ac1_svlan",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac1_svlan' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2040.53125,
    "y": 989.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "e0e7c091.70bda",
    "type": "set",
    "name": "set ac2_svlan",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac2_svlan' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2037.53125,
    "y": 1042.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "924d0335.b5bfa",
    "type": "set",
    "name": "set ac1_protocol",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac1_protocol' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2035.53125,
    "y": 1099.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "880724d2.0ba428",
    "type": "set",
    "name": "set ac2_protocol",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac2_protocol' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2044.53125,
    "y": 1151.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "4b8babb9.30ffb4",
    "type": "set",
    "name": "set ac1_protocol_bgp_as",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac1_protocol_bgp_as' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n<parameter name='prop.l3vpn.peer1-ip' value='`$prop.l3vpn.ac1_ip`' />\n",
    "comments": "",
    "x": 2138.53125,
    "y": 1355.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "6ee6ff69.e803d",
    "type": "set",
    "name": "set ac2_protocol_bgp_as",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac2_protocol_bgp_as' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n<parameter name='prop.l3vpn.peer2-ip' value='`$prop.l3vpn.ac2_ip`' />\n",
    "comments": "",
    "x": 2150.53125,
    "y": 1404.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "a979c4a1.40a538",
    "type": "set",
    "name": "set af_type",
    "xml": "<set>\n<parameter name='prop.l3vpn.af_type' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2034.53125,
    "y": 1498.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "179dd935.bb3747",
    "type": "record",
    "name": "record",
    "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/svclogic.log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"network-topology-operation-create\"/>\n<parameter name=\"field3\" value=\"L3VPN-Config\"/>\n<parameter name=\"field4\" value=\"`l3vpn.name`\"/>\n<parameter name=\"field5\" value=\"`$prop.l3vpn.name`\"/>\n<parameter name=\"field6\" value=\"`l3vpn.topology`\"/>\n<parameter name=\"field7\" value=\"`$prop.l3vpn.topology`\"/>\n<parameter name=\"field8\" value=\"`l3vpn.site1_name`\"/>\n<parameter name=\"field9\" value=\"`$prop.l3vpn.site1_name`\"/>\n<parameter name=\"field10\" value=\"`l3vpn.vpn-policy1-id`\"/>\n<parameter name=\"field11\" value=\"`$prop.l3vpn.vpn-policy1-id`\"/>\n<parameter name=\"field12\" value=\"`l3vpn.entry1-id`\"/>\n<parameter name=\"field13\" value=\"`$prop.l3vpn.entry1-id`\"/>\n<parameter name=\"field14\" value=\"`l3vpn.sna1_name`\"/>\n<parameter name=\"field15\" value=\"`$prop.l3vpn.sna1_name`\"/>\n<parameter name=\"field16\" value=\"`l3vpn.pe1_id`\"/>\n<parameter name=\"field17\" value=\"`$prop.l3vpn.pe1_id`\"/>\n<parameter name=\"field18\" value=\"`l3vpn.ac1_id`\"/>\n<parameter name=\"field19\" value=\"`$prop.l3vpn.ac1_id`\"/>\n<parameter name=\"field20\" value=\"`l3vpn.sna1_svlan`\"/>\n<parameter name=\"field21\" value=\"`$prop.l3vpn.sna1_svlan`\"/>\n<parameter name=\"field22\" value=\"`l3vpn.ac1-peer-ip`\"/>\n<parameter name=\"field23\" value=\"`$prop.l3vpn.ac1-peer-ip`\"/>\n<parameter name=\"field24\" value=\"`l3vpn.ac1-ip`\"/>\n<parameter name=\"field25\" value=\"`$prop.l3vpn.ac1-ip`\"/>\n<parameter name=\"field26\" value=\"`l3vpn.ac1_protocol`\"/>\n<parameter name=\"field27\" value=\"`$prop.l3vpn.ac1_protocol`\"/>\n<parameter name=\"field28\" value=\"`l3vpn.sna1-route-ip-prefix`\"/>\n<parameter name=\"field29\" value=\"`$prop.l3vpn.sna1-route-ip-prefix`\"/>\n<parameter name=\"field30\" value=\"`l3vpn.sna1-route-next-hop`\"/>\n<parameter name=\"field31\" value=\"`$prop.l3vpn.sna1-route-next-hop`\"/>\n<parameter name=\"field32\" value=\"`l3vpn.peer1-ip`\"/>\n<parameter name=\"field33\" value=\"`$prop.l3vpn.peer1-ip`\"/>\n<parameter name=\"field34\" value=\"`l3vpn.ac1_protocol_bgp_as`\"/>\n<parameter name=\"field35\" value=\"`$prop.l3vpn.ac1_protocol_bgp_as`\"/>\n<parameter name=\"field36\" value=\"`l3vpn.vrf1-id`\"/>\n<parameter name=\"field37\" value=\"`$prop.l3vpn.vrf1-id`\"/>\n<parameter name=\"field38\" value=\"`l3vpn.site2_name`\"/>\n<parameter name=\"field39\" value=\"`$prop.l3vpn.site2_name`\"/>\n<parameter name=\"field40\" value=\"`l3vpn.vpn-policy2-id`\"/>\n<parameter name=\"field41\" value=\"`$prop.l3vpn.vpn-policy2-id`\"/>\n<parameter name=\"field42\" value=\"`l3vpn.entry2-id`\"/>\n<parameter name=\"field43\" value=\"`$prop.l3vpn.entry2-id`\"/>\n<parameter name=\"field44\" value=\"`l3vpn.sna2_name`\"/>\n<parameter name=\"field45\" value=\"`$prop.l3vpn.sna2_name`\"/>\n<parameter name=\"field46\" value=\"`l3vpn.pe2_id`\"/>\n<parameter name=\"field47\" value=\"`$prop.l3vpn.pe2_id`\"/>\n<parameter name=\"field48\" value=\"`l3vpn.ac2_id`\"/>\n<parameter name=\"field49\" value=\"`$prop.l3vpn.ac2_id`\"/>\n<parameter name=\"field50\" value=\"`l3vpn.sna2_svlan`\"/>\n<parameter name=\"field51\" value=\"`$prop.l3vpn.sna2_svlan`\"/>\n<parameter name=\"field52\" value=\"`l3vpn.ac2-peer-ip`\"/>\n<parameter name=\"field53\" value=\"`$prop.l3vpn.ac2-peer-ip`\"/>\n<parameter name=\"field54\" value=\"`l3vpn.ac2-ip`\"/>\n<parameter name=\"field55\" value=\"`$prop.l3vpn.ac2-ip`\"/>\n<parameter name=\"field56\" value=\"`l3vpn.ac2_protocol`\"/>\n<parameter name=\"field57\" value=\"`$prop.l3vpn.ac2_protocol`\"/>\n<parameter name=\"field58\" value=\"`l3vpn.sna2-route-ip-prefix`\"/>\n<parameter name=\"field59\" value=\"`$prop.l3vpn.sna2-route-ip-prefix`\"/>\n<parameter name=\"field60\" value=\"`l3vpn.sna2-route-next-hop`\"/>\n<parameter name=\"field61\" value=\"`$prop.l3vpn.sna2-route-next-hop`\"/>\n<parameter name=\"field62\" value=\"`l3vpn.peer2-ip`\"/>\n<parameter name=\"field63\" value=\"`$prop.l3vpn.peer2-ip`\"/>\n<parameter name=\"field64\" value=\"`l3vpn.ac2_protocol_bgp_as`\"/>\n<parameter name=\"field65\" value=\"`$prop.l3vpn.ac2_protocol_bgp_as`\"/>\n<parameter name=\"field66\" value=\"`l3vpn.vrf2-id`\"/>\n<parameter name=\"field67\" value=\"`$prop.l3vpn.vrf2-id`\"/>\n<parameter name=\"field68\" value=\"`l3vpn.af_type`\"/>\n<parameter name=\"field69\" value=\"`$prop.l3vpn.af_type`\"/>",
    "comments": "",
    "outputs": 1,
    "x": 780.03125,
    "y": 922,
    "z": "e07ef8ab.015e18",
    "wires": [
      []
    ]
  },
  {
    "id": "37b4efd2.368ed",
    "type": "switchNode",
    "name": "switch service-type",
    "xml": "<switch test=\"`$prop.l3vpn.service-type`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 766.03125,
    "y": 1136,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "5f9ac484.077c9c",
        "c18acb56.b83a78",
        "cd078531.a90828"
      ]
    ]
  },
  {
    "id": "5f9ac484.077c9c",
    "type": "outcomeTrue",
    "name": "l3vpn-ipwan",
    "xml": "<outcome value='l3vpn-ipwan'>\n",
    "comments": "",
    "outputs": 1,
    "x": 721.03125,
    "y": 1052.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "1d6cf5f8.2491ba"
      ]
    ]
  },
  {
    "id": "c18acb56.b83a78",
    "type": "outcomeTrue",
    "name": "l3vpn-sptn",
    "xml": "<outcome value='l3vpn-sptn'>\n",
    "comments": "",
    "outputs": 1,
    "x": 910.03125,
    "y": 1239.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "e7cb4067.6cda1"
      ]
    ]
  },
  {
    "id": "cd078531.a90828",
    "type": "outcomeTrue",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 906.03125,
    "y": 1283.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "416a0e63.5f9fd"
      ]
    ]
  },
  {
    "id": "416a0e63.5f9fd",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Unexpected error retrieving vpn binding\" />\n\n",
    "comments": "",
    "x": 1089.03125,
    "y": 1282.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "e431fd19.db908",
    "type": "execute",
    "name": "execute vpn-policy2-id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.l3vpn.vpn-policy2-id\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 874.03125,
    "y": 513.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "e47d8379.95768"
      ]
    ]
  },
  {
    "id": "e47d8379.95768",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1099.03125,
    "y": 516.9999389648438,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "40959179.398c3"
      ]
    ]
  },
  {
    "id": "40959179.398c3",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while generation vpn policy ID\" />\n",
    "comments": "",
    "x": 1280.03125,
    "y": 514.9999389648438,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "60db19ec.521588",
    "type": "set",
    "name": "set policy entry",
    "xml": "<set>\n<parameter name='prop.l3vpn.entry1-id' value='1' />\n<parameter name='prop.l3vpn.entry2-id' value='1' />\n\n",
    "comments": "",
    "x": 860.03125,
    "y": 561.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "d251597.7e75fa8",
    "type": "execute",
    "name": "execute split ac1-route",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$prop.l3vpn.ac1-route`'/>\n<parameter name=\"regex\" value=\" ## \"/>\n<parameter name=\"ctx_memory_result_key\" value=\"route1\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 2264.03125,
    "y": 1211.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "ae511c3e.94835",
        "845f5d8b.5aedb"
      ]
    ]
  },
  {
    "id": "3d30a696.2b7b1a",
    "type": "switchNode",
    "name": "switch ac2_route",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac2_route'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1665.03125,
    "y": 1259.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "9a5b5bf2.72a888"
      ]
    ]
  },
  {
    "id": "b523547.75bb8a8",
    "type": "switchNode",
    "name": "switch ac1_route",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac1_route'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1666.03125,
    "y": 1210.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "9ff44c29.6405d"
      ]
    ]
  },
  {
    "id": "9ff44c29.6405d",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1838.03125,
    "y": 1208.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "2e411316.00315c"
      ]
    ]
  },
  {
    "id": "9a5b5bf2.72a888",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1851.03125,
    "y": 1267.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "32e0dd94.666fd2"
      ]
    ]
  },
  {
    "id": "5f19aec4.6ad74",
    "type": "set",
    "name": "set ac1_route",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac1_route' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2235.03125,
    "y": 1159.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "9023cfe1.d4f31",
    "type": "set",
    "name": "set ac2_route",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac2_route' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2233.03125,
    "y": 1259.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "41f4f428.bf7e9c",
    "type": "execute",
    "name": "execute split ac2-route",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$prop.l3vpn.ac2-route`'/>\n<parameter name=\"regex\" value=\" ## \"/>\n<parameter name=\"ctx_memory_result_key\" value=\"route2\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 2257.03125,
    "y": 1304.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "4dbe6198.e585d",
        "a3ddc382.f46b1"
      ]
    ]
  },
  {
    "id": "2e411316.00315c",
    "type": "block",
    "name": "block atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1989.03125,
    "y": 1208.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "5f19aec4.6ad74",
        "d251597.7e75fa8"
      ]
    ]
  },
  {
    "id": "32e0dd94.666fd2",
    "type": "block",
    "name": "block atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1990.03125,
    "y": 1267.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "9023cfe1.d4f31",
        "41f4f428.bf7e9c"
      ]
    ]
  },
  {
    "id": "6a3a805.948d08",
    "type": "execute",
    "name": "execute vrf1-id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.l3vpn.vrf1-id\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 859.03125,
    "y": 615,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "f9f8e182.59549"
      ]
    ]
  },
  {
    "id": "77fa32c0.09c32c",
    "type": "execute",
    "name": "execute vrf2-id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.l3vpn.vrf2-id\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 856.3646240234375,
    "y": 672.333251953125,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "b3b56f86.3d1b4"
      ]
    ]
  },
  {
    "id": "b3b56f86.3d1b4",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1106.3646240234375,
    "y": 678.333251953125,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "346cd637.94b0aa"
      ]
    ]
  },
  {
    "id": "f9f8e182.59549",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1106.03125,
    "y": 619.9999389648438,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "417e4c2f.a2f9c4"
      ]
    ]
  },
  {
    "id": "417e4c2f.a2f9c4",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while generation vpn policy ID\" />\n",
    "comments": "",
    "x": 1287.03125,
    "y": 617.9999389648438,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "346cd637.94b0aa",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while generation vpn policy ID\" />\n",
    "comments": "",
    "x": 1287.3646240234375,
    "y": 676.333251953125,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "1d6cf5f8.2491ba",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 888.03125,
    "y": 1052.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "1fd5d87a.f37a68",
        "f5fc661b.cec638",
        "43e96ef8.0066a",
        "be278e7d.aed"
      ]
    ]
  },
  {
    "id": "f5fc661b.cec638",
    "type": "execute",
    "name": "execute RestApiCallNode IPWAN Site Config",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir +'/l3smsitetemplate.json'`\"/>\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url +'/restconf/data/huawei-ac-net-l3vpn-svc:l3vpn-svc-cfg/sites'`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\"/>\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\"/>\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"site-result\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
    "comments": "",
    "outputs": 1,
    "x": 1165.03125,
    "y": 1174,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "52fc73ef.e7aa0c",
        "b81affca.012b9"
      ]
    ]
  },
  {
    "id": "43e96ef8.0066a",
    "type": "execute",
    "name": "execute RestApiCallNode IPWAN VRF Config",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir +'/l3smvrftemplate.json'`\"/>\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url +'/restconf/data/huawei-ac-net-l3vpn-svc:l3vpn-svc-cfg/vrf-attributes'`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\"/>\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\"/>\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"vrf-result\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
    "comments": "",
    "outputs": 1,
    "x": 1145.03125,
    "y": 1114,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "52fc73ef.e7aa0c",
        "b81affca.012b9"
      ]
    ]
  },
  {
    "id": "ae511c3e.94835",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2482.03125,
    "y": 1203.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "ea661cf9.3185a"
      ]
    ]
  },
  {
    "id": "ea661cf9.3185a",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
    "comments": "",
    "x": 2663.03125,
    "y": 1201.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "4dbe6198.e585d",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2480.03125,
    "y": 1305.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "2064e87c.06ee48"
      ]
    ]
  },
  {
    "id": "2064e87c.06ee48",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
    "comments": "",
    "x": 2661.03125,
    "y": 1303.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "845f5d8b.5aedb",
    "type": "failure",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2481.03125,
    "y": 1137.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "fe317b98.435f38"
      ]
    ]
  },
  {
    "id": "a3ddc382.f46b1",
    "type": "failure",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2477.03125,
    "y": 1257.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "c67b184d.c90998"
      ]
    ]
  },
  {
    "id": "fe317b98.435f38",
    "type": "set",
    "name": "set route1 ip-prefix next-hop",
    "xml": "<set>\n<parameter name='prop.l3vpn.sna1-route.ip-prefix' value='`$route1[0]`' />\n<parameter name='prop.l3vpn.sna1-route.next-hop' value='`$route1[1]`' />\n",
    "comments": "",
    "x": 2688.03125,
    "y": 1131.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "c67b184d.c90998",
    "type": "set",
    "name": "set route2 ip-prefix next-hop",
    "xml": "<set>\n<parameter name='prop.l3vpn.sna2-route.ip-prefix' value='`$route2[0]`' />\n<parameter name='prop.l3vpn.sna2-route.next-hop' value='`$route2[1]`' />",
    "comments": "",
    "x": 2688.03125,
    "y": 1250.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "cbfd620a.85d71",
    "type": "execute",
    "name": "execute generate-underlay-network-id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.l3vpn.network-id\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 915.03125,
    "y": 766,
    "z": "e07ef8ab.015e18",
    "wires": [
      []
    ]
  },
  {
    "id": "37c9fe5c.d39282",
    "type": "switchNode",
    "name": "switch service-data.networks_length",
    "xml": "<switch test='`$service-data.networks.network_length`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 873.03125,
    "y": 847,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "e9c16900.4e5438",
        "e8407f7c.3cfd8"
      ]
    ]
  },
  {
    "id": "e9c16900.4e5438",
    "type": "other",
    "name": "Null",
    "xml": "<outcome value=''>\n",
    "comments": "",
    "outputs": 1,
    "x": 1146.8408203125,
    "y": 815.952392578125,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "8caf1520.ea5d28"
      ]
    ]
  },
  {
    "id": "e8407f7c.3cfd8",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1141.697998046875,
    "y": 861.6666870117188,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "3d0ae0cb.0b75"
      ]
    ]
  },
  {
    "id": "8caf1520.ea5d28",
    "type": "set",
    "name": "set nidx",
    "xml": "<set>\n<parameter name='nidx' value='0' />\n",
    "comments": "",
    "x": 1299.8408203125,
    "y": 815.5238037109375,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "3d0ae0cb.0b75",
    "type": "set",
    "name": "set nidx",
    "xml": "<set>\n<parameter name='nidx' value='`$service-data.networks.network_length`' />\n",
    "comments": "",
    "x": 1301.2694091796875,
    "y": 860.5238647460938,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "bb4e39dc.aefd28",
    "type": "set",
    "name": "set network in service-data",
    "xml": "<set>\n<parameter name=\"service-data.networks.network[$nidx].network-id\" value='`$prop.l3vpn.network-id`' />\n<parameter name='service-data.networks.network[$nidx].network-data.sdnc-request-header.' value='`$network-topology-operation-input.sdnc-request-header.`' />\n<parameter name='service-data.networks.network[$nidx].network-data.request-information.' value='`$network-topology-operation-input.request-information.`' />\n<parameter name='service-data.networks.network[$nidx].network-data.service-information.' value='`$network-topology-operation-input.service-information.`' />\n<parameter name='service-data.networks.network[$nidx].network-data.network-information.' value='`$network-topology-operation-input.network-information.`' />\n<parameter name='service-data.networks.network[$nidx].network-data.network-request-input.' value='`$network-topology-operation-input.network-request-input.`' />\n<parameter name=\"service-data.networks.network_length\" value='`$nidx+1`' />\n\n",
    "comments": "",
    "x": 787.03125,
    "y": 1335,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "90e757cc.0959f8",
    "type": "set",
    "name": "set networkId and network-object-path",
    "xml": "<set>\n<parameter name='networkId' value='`$prop.l3vpn.network-id`' />\n<parameter name=\"network-object-path\" value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'  + $network-topology-operation-input.service-information.service-instance-id  + '/service-data/networks/network/'  + $prop.l3vpn.network-id  + '/network-data/'` \" />",
    "comments": "",
    "x": 816.03125,
    "y": 1380,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "8c153068.d865f",
    "type": "returnSuccess",
    "name": "return success",
    "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
    "comments": "",
    "x": 763.03125,
    "y": 1569,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "b9935276.cc7ee",
    "type": "set",
    "name": "set network-level-oper-status",
    "xml": "<set>\n<parameter name='service-data.networks.network[$nidx].network-data.network-level-oper-status.order-status' value='Created' />\n<parameter name='service-data.networks.network[$nidx].network-data.network-level-oper-status.last-rpc-action' value='`$network-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.networks.network[$nidx].network-data.network-level-oper-status.last-action' value='`$network-topology-operation-input.request-information.request-action`' />",
    "comments": "",
    "x": 789.03125,
    "y": 1427,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "e891bd7f.8fb2d",
    "type": "get-resource",
    "name": "get-resource pnf",
    "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $prop.l3vpn.pe1_id AND \n\t\t     depth = '0'\"\n        pfx='tmp.aai.pnf' local-only='false' >\n\n",
    "comments": "",
    "outputs": 1,
    "x": 864.03125,
    "y": 253,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "65bf056c.a7d85c",
        "fae17ce6.d5a8d",
        "fdfd8ef.d5d287"
      ]
    ]
  },
  {
    "id": "65bf056c.a7d85c",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1186.03125,
    "y": 143,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "f138cb6b.a435c8"
      ]
    ]
  },
  {
    "id": "fae17ce6.d5a8d",
    "type": "not-found",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1189.522216796875,
    "y": 190.57403564453125,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "922f5f08.50eaa"
      ]
    ]
  },
  {
    "id": "fdfd8ef.d5d287",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1184.855224609375,
    "y": 231.9073486328125,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "c6cd8782.fae7f8"
      ]
    ]
  },
  {
    "id": "922f5f08.50eaa",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
    "comments": "",
    "x": 1366.0936279296875,
    "y": 178.85977172851562,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "c6cd8782.fae7f8",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
    "comments": "",
    "x": 1372.6277809143066,
    "y": 227.34654140472412,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "f138cb6b.a435c8",
    "type": "set",
    "name": "set tmp.thirdparty-sdnc-id",
    "xml": "<set>\n<parameter name='tmp.thirdparty-sdnc-id' value=\"`$tmp.aai.pnf.relationship-list.relationship[0].relationship-data[0].relationship-value`\" />\n",
    "comments": "",
    "x": 1390.03125,
    "y": 130,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "56419be7.895d24",
    "type": "save",
    "name": "save underlay configuration in AAI",
    "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='configuration' \n      key='configuration.configuration-id = $prop.l3vpn.network-id' >\n<parameter name='configuration-id' value='`$prop.l3vpn.network-id`' />\n<parameter name='configuration-type' value='underlay' />\n<parameter name='configuration-sub-type' value='l3vpn' />\n<parameter name='orchestration-status' value='Created' />\n<parameter name='operational-status' value='Created' />\n<parameter name='model-customization-id' value='`$prop.l3vpn.network-id`' />\n<parameter name='configuration-selflink' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'  + $network-topology-operation-input.service-information.service-instance-id  + '/service-data/networks/network/'  + $prop.l3vpn.network-id  + '/network-data/'` \" />\n",
    "comments": "",
    "outputs": 1,
    "x": 808.03125,
    "y": 1477,
    "z": "e07ef8ab.015e18",
    "wires": [
      []
    ]
  },
  {
    "id": "a13270b7.6c1f5",
    "type": "save",
    "name": "save service relationship in AAI",
    "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='service-instance:relationship-list' \n      key='service-instance.service-instance-id = $service-data.service-information.service-instance-id \n         AND customer.global-customer-id = $service-data.networks.network[$nidx].network-data.service-information.global-customer-id \n         AND service-subscription.service-type = $service-data.networks.network[$nidx].network-data.service-information.subscription-service-type' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"configuration\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/configurations/configuration/' + $prop.l3vpn.network-id`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"configuration.configuration-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$prop.l3vpn.network-id`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[1].relationship-key\" value=\"configuration.configuration-type\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[1].relationship-value\" value=\"underlay\" />",
    "comments": "",
    "outputs": 1,
    "x": 800.03125,
    "y": 1523,
    "z": "e07ef8ab.015e18",
    "wires": [
      []
    ]
  },
  {
    "id": "a0a289d3.8a3128",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1312.53125,
    "y": 404.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "8ed22fd9.4d3dc",
        "efdd2674.739ce8",
        "f576c53a.7be778",
        "f5da2a66.76d6a8",
        "9322169f.7e6468",
        "41e22f2d.675b9",
        "fc7aed60.65dde",
        "3fbbe309.27a1fc",
        "a2bdcc47.ae6fd",
        "5ff7d202.bbe52c",
        "70478129.46c8",
        "5b2c84b5.c4133c",
        "5f56629a.41d4bc",
        "88ead0cd.822bb",
        "166443d5.94dbbc",
        "2e267b3e.323f94",
        "291e6ccb.4ad7e4",
        "c859e422.4eadc8",
        "335bcb16.8452b4",
        "b8ac331e.cf80f",
        "eddb16e2.7d3ca8",
        "445b45a7.1c9e2c",
        "ff841f48.1f039",
        "b523547.75bb8a8",
        "3d30a696.2b7b1a"
      ]
    ]
  },
  {
    "id": "be278e7d.aed",
    "type": "execute",
    "name": "execute RestApiCallNode Get token",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/actokentemplate.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/v2/tokens'`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"token-result\"/>",
    "comments": "",
    "outputs": 1,
    "x": 1033.03125,
    "y": 919.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "33fe71db.48126e",
        "3c08e3ae.fb245c"
      ]
    ]
  },
  {
    "id": "33fe71db.48126e",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1268.03125,
    "y": 897.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "b2de4cc8.de5ec"
      ]
    ]
  },
  {
    "id": "3c08e3ae.fb245c",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1260.28125,
    "y": 951.6428527832031,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "49c53683.778b88"
      ]
    ]
  },
  {
    "id": "49c53683.778b88",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing get token rest api\" />\n",
    "comments": "",
    "x": 1413.03125,
    "y": 951.3929138183594,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "b2de4cc8.de5ec",
    "type": "set",
    "name": "set token-id",
    "xml": "<set>\n<parameter name='prop.sdncRestApi.token_id' value='$token-result.token_id' />\n",
    "comments": "",
    "x": 1422.03125,
    "y": 898.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "52fc73ef.e7aa0c",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1448.03125,
    "y": 1070.9999694824219,
    "z": "e07ef8ab.015e18",
    "wires": [
      []
    ]
  },
  {
    "id": "b81affca.012b9",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1455.28125,
    "y": 1165.6427917480469,
    "z": "e07ef8ab.015e18",
    "wires": [
      [
        "5c541133.bfa8d"
      ]
    ]
  },
  {
    "id": "5c541133.bfa8d",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing 3rd party controller rest api\" />\n",
    "comments": "",
    "x": 1427.03125,
    "y": 1350.3929138183594,
    "z": "e07ef8ab.015e18",
    "wires": []
  },
  {
    "id": "fb767200.4ff718",
    "type": "execute",
    "name": "execute Properties",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
    "comments": "",
    "outputs": 1,
    "x": 757,
    "y": 991,
    "z": "e07ef8ab.015e18",
    "wires": [
      []
    ]
  }
]
