[
  {
    "id": "c755dc6.4fb532",
    "type": "dgstart",
    "name": "DGSTART",
    "outputs": 1,
    "x": 98,
    "y": 69,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "80264a38.3fce88"
      ]
    ]
  },
  {
    "id": "80264a38.3fce88",
    "type": "service-logic",
    "name": "GENERIC-RESOURCE-API ${project.version}",
    "module": "GENERIC-RESOURCE-API",
    "version": "${project.version}",
    "comments": "",
    "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
    "outputs": 1,
    "x": 310.00000381469727,
    "y": 141.0000171661377,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "8d5d312f.9d9cd"
      ]
    ]
  },
  {
    "id": "8d5d312f.9d9cd",
    "type": "method",
    "name": "method network-topology-operation-create",
    "xml": "<method rpc='network-topology-operation-create' mode='sync'>\n",
    "comments": "",
    "outputs": 1,
    "x": 298.0001220703125,
    "y": 229,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "b2241a21.76a97"
      ]
    ]
  },
  {
    "id": "b2241a21.76a97",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 374,
    "y": 627.0000305175781,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "5f4a6be2.122adc",
        "3b31c47b.b0ee54",
        "bde939b5.904ee8",
        "e986dd0a.7fdf58",
        "ba17de0c.0ea5e",
        "39b02aa1.204f3e",
        "bee6a021.504aa8",
        "f7d82967.39b968",
        "e292252a.39cff8",
        "31c5a0ea.7876c",
        "f41c462f.8589a",
        "58848908.ffbbb",
        "7b14c9f6.80d72",
        "a66c7c7d.376898",
        "30879b4d.be3994",
        "dd6bc2bc.fdc89",
        "d54c20dc.cf6128",
        "b11968d4.007e68",
        "725ceec3.c5b2"
      ]
    ]
  },
  {
    "id": "ec4c3437.b9425",
    "type": "execute",
    "name": "execute RestApiCallNode Create IPWAN L3VPN",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/l3smvpntemplate.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/huawei-ac-net-l3vpn-svc:l3vpn-svc-cfg/vpn-services'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.openecomp.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
    "comments": "",
    "outputs": 1,
    "x": 1121.0001831054688,
    "y": 1000,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "d40cc8a7.624908",
        "c80688e8.50ffd"
      ]
    ]
  },
  {
    "id": "715951e.aa50f3",
    "type": "set",
    "name": "set controller data",
    "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.url' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.user' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.password' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n",
    "comments": "",
    "x": 1275.0000610351562,
    "y": 274,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "bde939b5.904ee8",
    "type": "for",
    "name": "for each network-input-parameters",
    "xml": "<for index='idx' start='0' end='`$network-topology-operation-input.network-request-input.network-input-parameters.param_length`' >\n",
    "comments": "",
    "outputs": 1,
    "x": 816.6666259765625,
    "y": 189.66665649414062,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "d3d6530.ff1843"
      ]
    ]
  },
  {
    "id": "257293b6.92d5cc",
    "type": "execute",
    "name": "execute RestApiCallNode Create SPTN L3VPN",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir +'/sptn-l3vpn-template.xml'`\"/>\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/sptn-service-l3vpn:service/snc-l3vpns'`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\"/>\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\"/>\n<parameter name=\"format\" value=\"xml\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"restapi-result\"/>",
    "comments": "",
    "outputs": 1,
    "x": 1053.6668701171875,
    "y": 1261.666748046875,
    "z": "d1c71750.37b338",
    "wires": [
      []
    ]
  },
  {
    "id": "3b31c47b.b0ee54",
    "type": "execute",
    "name": "execute vpn-policy1-id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.l3vpn.vpn-policy1-id\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 819.6666259765625,
    "y": 462.66668701171875,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "c0078e33.2f6078"
      ]
    ]
  },
  {
    "id": "c0078e33.2f6078",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1044.6666259765625,
    "y": 465.6666564941406,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "c5ccda76.692ed"
      ]
    ]
  },
  {
    "id": "c5ccda76.692ed",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while generation vpn policy ID\" />\n",
    "comments": "",
    "x": 1225.6666259765625,
    "y": 463.6666564941406,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "5f4a6be2.122adc",
    "type": "call",
    "name": "call GENERIC-RESOURCE-API:validate-network-input-parameters",
    "xml": "<call module='GENERIC-RESOURCE-API' rpc='validate-network-input-parameters' mode='sync' >\n",
    "comments": "",
    "outputs": 1,
    "x": 871.5,
    "y": 106,
    "z": "d1c71750.37b338",
    "wires": [
      []
    ]
  },
  {
    "id": "dd6bc2bc.fdc89",
    "type": "get-resource",
    "name": "get-resource esr-thirdparty-sdnc",
    "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.thirdparty-sdnc-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.esr-thirdparty-sdnc' local-only='false' >\n\n",
    "comments": "",
    "outputs": 1,
    "x": 832.5,
    "y": 340,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "8dbd8bc6.d1cbd8",
        "4c28930c.3740a4",
        "e399b426.d74ce"
      ]
    ]
  },
  {
    "id": "8dbd8bc6.d1cbd8",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1077.5,
    "y": 286,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "715951e.aa50f3"
      ]
    ]
  },
  {
    "id": "4c28930c.3740a4",
    "type": "not-found",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1080.990966796875,
    "y": 333.57403564453125,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "ed8f061.2ee11f8"
      ]
    ]
  },
  {
    "id": "e399b426.d74ce",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1076.323974609375,
    "y": 374.9073486328125,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "37b86197.b131ae"
      ]
    ]
  },
  {
    "id": "ed8f061.2ee11f8",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
    "comments": "",
    "x": 1257.5623779296875,
    "y": 321.8597717285156,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "37b86197.b131ae",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
    "comments": "",
    "x": 1264.0965309143066,
    "y": 370.3465414047241,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "79980939.27992",
    "type": "switchNode",
    "name": "switch name",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'name'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1609.5,
    "y": 40.000030517578125,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "485e0689.38ce3"
      ]
    ]
  },
  {
    "id": "6566447b.cd16fc",
    "type": "switchNode",
    "name": "switch service-type",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'serviceType'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1613.4999389648438,
    "y": 97.60000610351562,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "95810552.2e3558"
      ]
    ]
  },
  {
    "id": "485e0689.38ce3",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1796.5,
    "y": 36.000030517578125,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "8905bcbf.11f838"
      ]
    ]
  },
  {
    "id": "95810552.2e3558",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1798.4999389648438,
    "y": 95.60000610351562,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "4a110462.b2e7b4"
      ]
    ]
  },
  {
    "id": "8905bcbf.11f838",
    "type": "set",
    "name": "set name",
    "xml": "<set>\n<parameter name='prop.l3vpn.name' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1964.5,
    "y": 36.60003662109375,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "4a110462.b2e7b4",
    "type": "set",
    "name": "set service-type",
    "xml": "<set>\n<parameter name='prop.l3vpn.service-type' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1967.4999389648438,
    "y": 93.60000610351562,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "db1ad825.26052",
    "type": "switchNode",
    "name": "switch topology",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'topology'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1612.5,
    "y": 159,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "8e30a166.dc4c3"
      ]
    ]
  },
  {
    "id": "612a1bef.8a1a9c",
    "type": "switchNode",
    "name": "switch technology",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'technology'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1615.5,
    "y": 212,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "4a904aae.350a04"
      ]
    ]
  },
  {
    "id": "32815667.56769a",
    "type": "switchNode",
    "name": "switch site1_name",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'site1_name'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1620.5,
    "y": 274,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "8796222c.6fa77"
      ]
    ]
  },
  {
    "id": "d99350c4.40314",
    "type": "switchNode",
    "name": "switch site2_name",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'site2_name'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1615.5,
    "y": 337,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "f4f0e78c.aadc4"
      ]
    ]
  },
  {
    "id": "e54a4b77.575f08",
    "type": "switchNode",
    "name": "switch sna1_name",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'sna1_name'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1620.5,
    "y": 397,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "877c7d0f.86dd"
      ]
    ]
  },
  {
    "id": "a16ad1af.30669",
    "type": "switchNode",
    "name": "switch sna2_name",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'sna2_name'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1615.5,
    "y": 461,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "d7e263ff.d62088"
      ]
    ]
  },
  {
    "id": "a9d432.f245a3d",
    "type": "switchNode",
    "name": "switch pe1_id",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'pe1_id'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1620.5,
    "y": 523,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "d8f67746.e97618"
      ]
    ]
  },
  {
    "id": "89f7d244.7bed58",
    "type": "switchNode",
    "name": "switch pe2_id",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'pe2_id'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1635.5,
    "y": 583,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "1af5cef.1a18eb1"
      ]
    ]
  },
  {
    "id": "9e107c02.44f758",
    "type": "switchNode",
    "name": "switch ac1_id",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac1_id'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1630.5,
    "y": 655,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "837e8793.ef9c9"
      ]
    ]
  },
  {
    "id": "37c58153.b2998e",
    "type": "switchNode",
    "name": "switch ac2_id",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac2_id'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1629.5,
    "y": 714,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "cc628d9.cda75f"
      ]
    ]
  },
  {
    "id": "9ab7bd24.8d06c8",
    "type": "switchNode",
    "name": "switch ac1_ip",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac1_ip'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1606.5,
    "y": 777,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "b6eb1b8b.204bb"
      ]
    ]
  },
  {
    "id": "c98044e2.7a0fd",
    "type": "switchNode",
    "name": "switch ac2_ip",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac2_ip'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1609.5,
    "y": 834,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "67413744.703078"
      ]
    ]
  },
  {
    "id": "9c377089.4d9f3",
    "type": "switchNode",
    "name": "switch ac1_peer_ip",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac1_peer_ip'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1615.5,
    "y": 886,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "762be29b.5e95bc"
      ]
    ]
  },
  {
    "id": "6227130a.b283dc",
    "type": "switchNode",
    "name": "switch ac2_peer_ip",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac2_peer_ip'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1616.5,
    "y": 941,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "b47203e8.02223"
      ]
    ]
  },
  {
    "id": "87656c47.a73838",
    "type": "switchNode",
    "name": "switch ac1_svlan",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac1_svlan'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1628.5,
    "y": 990,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "f47a7f0.182ed8"
      ]
    ]
  },
  {
    "id": "9d6a7f28.4304b",
    "type": "switchNode",
    "name": "switch ac2_svlan",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac2_svlan'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1621.5,
    "y": 1041,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "88ef93af.1ec22"
      ]
    ]
  },
  {
    "id": "b0373753.70f0a",
    "type": "switchNode",
    "name": "switch ac1_protocol",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac1_protocol'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1614.5,
    "y": 1099,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "b0c70aaf.aa196"
      ]
    ]
  },
  {
    "id": "a53453dd.69ab28",
    "type": "switchNode",
    "name": "switch ac2_protocol",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac2_protocol'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1615.5,
    "y": 1159,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "6f144e4b.8ca8a"
      ]
    ]
  },
  {
    "id": "9abdda02.3e776",
    "type": "switchNode",
    "name": "switch ac1_protocol_bgp_as",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac1_protocol_bgp_as'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1609.5,
    "y": 1345,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "7db2780.3608008"
      ]
    ]
  },
  {
    "id": "e12d824c.4650c8",
    "type": "switchNode",
    "name": "switch ac2_protocol_bgp_as",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac2_protocol_bgp_as'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1615.5,
    "y": 1396,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "7f6622dd.022f64"
      ]
    ]
  },
  {
    "id": "46a813fb.9bd0f4",
    "type": "switchNode",
    "name": "switch af_type",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'af_type'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1582.5,
    "y": 1487,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "b96483f6.45c738"
      ]
    ]
  },
  {
    "id": "8e30a166.dc4c3",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1787.5,
    "y": 155,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "5c246487.156d2c"
      ]
    ]
  },
  {
    "id": "4a904aae.350a04",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1793.5,
    "y": 208,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "aef4e4d3.e357c"
      ]
    ]
  },
  {
    "id": "8796222c.6fa77",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1802.5,
    "y": 270,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "913fcc28.6f8338"
      ]
    ]
  },
  {
    "id": "f4f0e78c.aadc4",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1800.5,
    "y": 333,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "785ee992.13114"
      ]
    ]
  },
  {
    "id": "877c7d0f.86dd",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1805.5,
    "y": 395,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "e33dfd5b.4d737"
      ]
    ]
  },
  {
    "id": "d7e263ff.d62088",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1797.5,
    "y": 453,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "a4ccc339.77b078"
      ]
    ]
  },
  {
    "id": "d8f67746.e97618",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1798.5,
    "y": 516,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "5f722601.0dd94"
      ]
    ]
  },
  {
    "id": "1af5cef.1a18eb1",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1797.5,
    "y": 585,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "f5aa06de.054208"
      ]
    ]
  },
  {
    "id": "837e8793.ef9c9",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1794.5,
    "y": 653,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "96cf4bf8.bd2d6"
      ]
    ]
  },
  {
    "id": "cc628d9.cda75f",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1793.5,
    "y": 717,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "514c2d04.fd52e4"
      ]
    ]
  },
  {
    "id": "b6eb1b8b.204bb",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1766.5,
    "y": 775,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "78158e69.19003"
      ]
    ]
  },
  {
    "id": "67413744.703078",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1768.5,
    "y": 832,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "a78b99c4.9438d"
      ]
    ]
  },
  {
    "id": "762be29b.5e95bc",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1804.5,
    "y": 883,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "71f0b03f.45cda"
      ]
    ]
  },
  {
    "id": "b47203e8.02223",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1809.5,
    "y": 946,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "89aee34.3120ea"
      ]
    ]
  },
  {
    "id": "f47a7f0.182ed8",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1805.5,
    "y": 995,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "767f5368.9e89f4"
      ]
    ]
  },
  {
    "id": "88ef93af.1ec22",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1789.5,
    "y": 1044,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "84e8e875.de3c78"
      ]
    ]
  },
  {
    "id": "b0c70aaf.aa196",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1786.5,
    "y": 1097,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "6928b887.0efe58"
      ]
    ]
  },
  {
    "id": "6f144e4b.8ca8a",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1799.5,
    "y": 1156,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "1d3a4115.7746c7"
      ]
    ]
  },
  {
    "id": "7db2780.3608008",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1817.5,
    "y": 1342,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "6cea4c1f.ab47ac"
      ]
    ]
  },
  {
    "id": "7f6622dd.022f64",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1824.5,
    "y": 1392,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "e150d4b3.e7c148"
      ]
    ]
  },
  {
    "id": "b96483f6.45c738",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1786.5,
    "y": 1496,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "637cf71c.1ca77"
      ]
    ]
  },
  {
    "id": "5c246487.156d2c",
    "type": "set",
    "name": "set topology",
    "xml": "<set>\n<parameter name='prop.l3vpn.topology' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1982.5,
    "y": 156,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "aef4e4d3.e357c",
    "type": "set",
    "name": "set technology",
    "xml": "<set>\n<parameter name='prop.l3vpn.technology' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1972.5,
    "y": 210,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "913fcc28.6f8338",
    "type": "set",
    "name": "set site1_name",
    "xml": "<set>\n<parameter name='prop.l3vpn.site1_name' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1976.5,
    "y": 267,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "785ee992.13114",
    "type": "set",
    "name": "set site2_name",
    "xml": "<set>\n<parameter name='prop.l3vpn.site2_name' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1979.5,
    "y": 326,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "e33dfd5b.4d737",
    "type": "set",
    "name": "set sna1_name",
    "xml": "<set>\n<parameter name='prop.l3vpn.sna1_name' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1987.5,
    "y": 388,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "a4ccc339.77b078",
    "type": "set",
    "name": "set sna2_name",
    "xml": "<set>\n<parameter name='prop.l3vpn.sna2_name' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1979.5,
    "y": 448,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "5f722601.0dd94",
    "type": "set",
    "name": "set pe1_id",
    "xml": "<set>\n<parameter name='prop.l3vpn.pe1_id' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1976.5,
    "y": 508,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "f5aa06de.054208",
    "type": "set",
    "name": "set pe2_id",
    "xml": "<set>\n<parameter name='prop.l3vpn.pe2_id' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1972.5,
    "y": 579,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "96cf4bf8.bd2d6",
    "type": "set",
    "name": "set ac1_id",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac1_id' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1965.5,
    "y": 645,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "514c2d04.fd52e4",
    "type": "set",
    "name": "set ac2_id",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac2_id' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1968.5,
    "y": 712,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "78158e69.19003",
    "type": "set",
    "name": "set ac1_ip",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac1_ip' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1944.5,
    "y": 778,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "a78b99c4.9438d",
    "type": "set",
    "name": "set ac2_ip",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac2_ip' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1948.5,
    "y": 832,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "71f0b03f.45cda",
    "type": "set",
    "name": "set ac1_peer_ip",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac1_peer_ip' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1996.5,
    "y": 887,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "89aee34.3120ea",
    "type": "set",
    "name": "set ac2_peer_ip",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac2_peer_ip' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1992.5,
    "y": 942,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "767f5368.9e89f4",
    "type": "set",
    "name": "set ac1_svlan",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac1_svlan' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1986.5,
    "y": 997,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "84e8e875.de3c78",
    "type": "set",
    "name": "set ac2_svlan",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac2_svlan' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1983.5,
    "y": 1050,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "6928b887.0efe58",
    "type": "set",
    "name": "set ac1_protocol",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac1_protocol' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1981.5,
    "y": 1107,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "1d3a4115.7746c7",
    "type": "set",
    "name": "set ac2_protocol",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac2_protocol' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1990.5,
    "y": 1159,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "6cea4c1f.ab47ac",
    "type": "set",
    "name": "set ac1_protocol_bgp_as",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac1_protocol_bgp_as' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n<parameter name='prop.l3vpn.peer1-ip' value='`$prop.l3vpn.ac1_ip`' />\n",
    "comments": "",
    "x": 2084.5,
    "y": 1363,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "e150d4b3.e7c148",
    "type": "set",
    "name": "set ac2_protocol_bgp_as",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac2_protocol_bgp_as' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n<parameter name='prop.l3vpn.peer2-ip' value='`$prop.l3vpn.ac2_ip`' />\n",
    "comments": "",
    "x": 2096.5,
    "y": 1412,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "637cf71c.1ca77",
    "type": "set",
    "name": "set af_type",
    "xml": "<set>\n<parameter name='prop.l3vpn.af_type' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1980.5,
    "y": 1506,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "e986dd0a.7fdf58",
    "type": "record",
    "name": "record",
    "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/svclogic.log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"network-topology-operation-create\"/>\n<parameter name=\"field3\" value=\"L3VPN-Config\"/>\n<parameter name=\"field4\" value=\"`l3vpn.name`\"/>\n<parameter name=\"field5\" value=\"`$prop.l3vpn.name`\"/>\n<parameter name=\"field6\" value=\"`l3vpn.topology`\"/>\n<parameter name=\"field7\" value=\"`$prop.l3vpn.topology`\"/>\n<parameter name=\"field8\" value=\"`l3vpn.site1_name`\"/>\n<parameter name=\"field9\" value=\"`$prop.l3vpn.site1_name`\"/>\n<parameter name=\"field10\" value=\"`l3vpn.vpn-policy1-id`\"/>\n<parameter name=\"field11\" value=\"`$prop.l3vpn.vpn-policy1-id`\"/>\n<parameter name=\"field12\" value=\"`l3vpn.entry1-id`\"/>\n<parameter name=\"field13\" value=\"`$prop.l3vpn.entry1-id`\"/>\n<parameter name=\"field14\" value=\"`l3vpn.sna1_name`\"/>\n<parameter name=\"field15\" value=\"`$prop.l3vpn.sna1_name`\"/>\n<parameter name=\"field16\" value=\"`l3vpn.pe1_id`\"/>\n<parameter name=\"field17\" value=\"`$prop.l3vpn.pe1_id`\"/>\n<parameter name=\"field18\" value=\"`l3vpn.ac1_id`\"/>\n<parameter name=\"field19\" value=\"`$prop.l3vpn.ac1_id`\"/>\n<parameter name=\"field20\" value=\"`l3vpn.ac1_svlan`\"/>\n<parameter name=\"field21\" value=\"`$prop.l3vpn.ac1_svlan`\"/>\n<parameter name=\"field22\" value=\"`l3vpn.ac1_peer_ip`\"/>\n<parameter name=\"field23\" value=\"`$prop.l3vpn.ac1_peer_ip`\"/>\n<parameter name=\"field24\" value=\"`l3vpn.ac1_ip`\"/>\n<parameter name=\"field25\" value=\"`$prop.l3vpn.ac1_ip`\"/>\n<parameter name=\"field26\" value=\"`l3vpn.ac1_protocol`\"/>\n<parameter name=\"field27\" value=\"`$prop.l3vpn.ac1_protocol`\"/>\n<parameter name=\"field28\" value=\"`l3vpn.sna1-route-ip-prefix`\"/>\n<parameter name=\"field29\" value=\"`$prop.l3vpn.sna1-route-ip-prefix`\"/>\n<parameter name=\"field30\" value=\"`l3vpn.sna1-route-next-hop`\"/>\n<parameter name=\"field31\" value=\"`$prop.l3vpn.sna1-route-next-hop`\"/>\n<parameter name=\"field32\" value=\"`l3vpn.peer1_ip`\"/>\n<parameter name=\"field33\" value=\"`$prop.l3vpn.peer1_ip`\"/>\n<parameter name=\"field34\" value=\"`l3vpn.ac1_protocol_bgp_as`\"/>\n<parameter name=\"field35\" value=\"`$prop.l3vpn.ac1_protocol_bgp_as`\"/>\n<parameter name=\"field36\" value=\"`l3vpn.vrf1-id`\"/>\n<parameter name=\"field37\" value=\"`$prop.l3vpn.vrf1-id`\"/>\n<parameter name=\"field38\" value=\"`l3vpn.site2_name`\"/>\n<parameter name=\"field39\" value=\"`$prop.l3vpn.site2_name`\"/>\n<parameter name=\"field40\" value=\"`l3vpn.vpn-policy2-id`\"/>\n<parameter name=\"field41\" value=\"`$prop.l3vpn.vpn-policy2-id`\"/>\n<parameter name=\"field42\" value=\"`l3vpn.entry2-id`\"/>\n<parameter name=\"field43\" value=\"`$prop.l3vpn.entry2-id`\"/>\n<parameter name=\"field44\" value=\"`l3vpn.sna2_name`\"/>\n<parameter name=\"field45\" value=\"`$prop.l3vpn.sna2_name`\"/>\n<parameter name=\"field46\" value=\"`l3vpn.pe2_id`\"/>\n<parameter name=\"field47\" value=\"`$prop.l3vpn.pe2_id`\"/>\n<parameter name=\"field48\" value=\"`l3vpn.ac2_id`\"/>\n<parameter name=\"field49\" value=\"`$prop.l3vpn.ac2_id`\"/>\n<parameter name=\"field50\" value=\"`l3vpn.ac2_svlan`\"/>\n<parameter name=\"field51\" value=\"`$prop.l3vpn.ac2_svlan`\"/>\n<parameter name=\"field52\" value=\"`l3vpn.ac2_peer_ip`\"/>\n<parameter name=\"field53\" value=\"`$prop.l3vpn.ac2_peer_ip`\"/>\n<parameter name=\"field54\" value=\"`l3vpn.ac2_ip`\"/>\n<parameter name=\"field55\" value=\"`$prop.l3vpn.ac2_ip`\"/>\n<parameter name=\"field56\" value=\"`l3vpn.ac2_protocol`\"/>\n<parameter name=\"field57\" value=\"`$prop.l3vpn.ac2_protocol`\"/>\n<parameter name=\"field58\" value=\"`l3vpn.sna2-route-ip-prefix`\"/>\n<parameter name=\"field59\" value=\"`$prop.l3vpn.sna2-route-ip-prefix`\"/>\n<parameter name=\"field60\" value=\"`l3vpn.sna2-route-next-hop`\"/>\n<parameter name=\"field61\" value=\"`$prop.l3vpn.sna2-route-next-hop`\"/>\n<parameter name=\"field62\" value=\"`l3vpn.peer2_ip`\"/>\n<parameter name=\"field63\" value=\"`$prop.l3vpn.peer2_ip`\"/>\n<parameter name=\"field64\" value=\"`l3vpn.ac2_protocol_bgp_as`\"/>\n<parameter name=\"field65\" value=\"`$prop.l3vpn.ac2_protocol_bgp_as`\"/>\n<parameter name=\"field66\" value=\"`l3vpn.vrf2-id`\"/>\n<parameter name=\"field67\" value=\"`$prop.l3vpn.vrf2-id`\"/>\n<parameter name=\"field68\" value=\"`l3vpn.af_type`\"/>\n<parameter name=\"field69\" value=\"`$prop.l3vpn.af_type`\"/>",
    "comments": "",
    "outputs": 1,
    "x": 726,
    "y": 929.0000305175781,
    "z": "d1c71750.37b338",
    "wires": [
      []
    ]
  },
  {
    "id": "ba17de0c.0ea5e",
    "type": "switchNode",
    "name": "switch service-type",
    "xml": "<switch test=\"`$prop.l3vpn.service-type`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 611,
    "y": 1143,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "5b3da62a.021bd8",
        "a74379d2.de6ee8",
        "74148b1.9b52c74"
      ]
    ]
  },
  {
    "id": "5b3da62a.021bd8",
    "type": "outcomeTrue",
    "name": "l3vpn-ipwan",
    "xml": "<outcome value='l3vpn-ipwan'>\n",
    "comments": "",
    "outputs": 1,
    "x": 705,
    "y": 1070,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "e670cc16.d9893"
      ]
    ]
  },
  {
    "id": "a74379d2.de6ee8",
    "type": "outcomeTrue",
    "name": "l3vpn-sptn",
    "xml": "<outcome value='l3vpn-sptn'>\n",
    "comments": "",
    "outputs": 1,
    "x": 786,
    "y": 1258,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "257293b6.92d5cc"
      ]
    ]
  },
  {
    "id": "74148b1.9b52c74",
    "type": "outcomeTrue",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 779,
    "y": 1304,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "884fb0f6.de86a8"
      ]
    ]
  },
  {
    "id": "884fb0f6.de86a8",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Unexpected error retrieving vpn binding\" />\n\n",
    "comments": "",
    "x": 942,
    "y": 1308,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "39b02aa1.204f3e",
    "type": "execute",
    "name": "execute vpn-policy1 entry id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.l3vpn.entry1-id\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 820,
    "y": 521,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "3541c627.27ccaa"
      ]
    ]
  },
  {
    "id": "3541c627.27ccaa",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1045,
    "y": 523.9999694824219,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "8d7e37e4.d397f8"
      ]
    ]
  },
  {
    "id": "8d7e37e4.d397f8",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while generation vpn policy ID\" />\n",
    "comments": "",
    "x": 1226,
    "y": 521.9999694824219,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "521ff026.a9cd98",
    "type": "execute",
    "name": "execute split ac1-route",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$prop.l3vpn.ac1_route`'/>\n<parameter name=\"regex\" value=\" ## \"/>\n<parameter name=\"ctx_memory_result_key\" value=\"route1\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 2210,
    "y": 1219,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "3c1faef4.86a26a",
        "9a25c35e.1e45a8"
      ]
    ]
  },
  {
    "id": "5e4ee4bb.9cbae4",
    "type": "switchNode",
    "name": "switch ac2_route",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac2_route'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1611,
    "y": 1267,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "991718ef.73c5f8"
      ]
    ]
  },
  {
    "id": "f615e32b.689a18",
    "type": "switchNode",
    "name": "switch ac1_route",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac1_route'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1612,
    "y": 1218,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "3aadf8aa.0f045"
      ]
    ]
  },
  {
    "id": "3aadf8aa.0f045",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1784,
    "y": 1216,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "5557f8d.caac508"
      ]
    ]
  },
  {
    "id": "991718ef.73c5f8",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1797,
    "y": 1275,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "1b368566.979a53"
      ]
    ]
  },
  {
    "id": "b7b10f53.f8112",
    "type": "set",
    "name": "set ac1_route",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac1_route' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2181,
    "y": 1167,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "963bac78.3bad6",
    "type": "set",
    "name": "set ac2_route",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac2_route' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2179,
    "y": 1267,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "e2a6c5f2.23e27",
    "type": "execute",
    "name": "execute split ac2-route",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$prop.l3vpn.ac2_route`'/>\n<parameter name=\"regex\" value=\" ## \"/>\n<parameter name=\"ctx_memory_result_key\" value=\"route2\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 2203,
    "y": 1312,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "152bd8c5.a555ff",
        "11ed22fb.50a315"
      ]
    ]
  },
  {
    "id": "5557f8d.caac508",
    "type": "block",
    "name": "block atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1935,
    "y": 1216,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "b7b10f53.f8112",
        "521ff026.a9cd98"
      ]
    ]
  },
  {
    "id": "1b368566.979a53",
    "type": "block",
    "name": "block atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1936,
    "y": 1275,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "963bac78.3bad6",
        "e2a6c5f2.23e27"
      ]
    ]
  },
  {
    "id": "bee6a021.504aa8",
    "type": "execute",
    "name": "execute vrf1-id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.l3vpn.vrf1-id\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 805,
    "y": 622.0000305175781,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "10ac73af.2eb80c"
      ]
    ]
  },
  {
    "id": "f7d82967.39b968",
    "type": "execute",
    "name": "execute vrf2-id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.l3vpn.vrf2-id\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 802.3333740234375,
    "y": 679.3332824707031,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "49f55adf.c6c134"
      ]
    ]
  },
  {
    "id": "49f55adf.c6c134",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1052.3333740234375,
    "y": 685.3332824707031,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "5fc81484.4dffac"
      ]
    ]
  },
  {
    "id": "10ac73af.2eb80c",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1052,
    "y": 626.9999694824219,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "36fdab86.85bda4"
      ]
    ]
  },
  {
    "id": "36fdab86.85bda4",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while generation vpn policy ID\" />\n",
    "comments": "",
    "x": 1233,
    "y": 624.9999694824219,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "5fc81484.4dffac",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while generation vpn policy ID\" />\n",
    "comments": "",
    "x": 1233.3333740234375,
    "y": 683.3332824707031,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "e670cc16.d9893",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 838,
    "y": 1135,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "ec4c3437.b9425",
        "c47fb352.4e0cc",
        "59489a1b.74de3c",
        "e652cb3f.9ae0d"
      ]
    ]
  },
  {
    "id": "c47fb352.4e0cc",
    "type": "execute",
    "name": "execute RestApiCallNode IPWAN Site Config",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir +'/l3smsitetemplate.json'`\"/>\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url +'/restconf/data/huawei-ac-net-l3vpn-svc:l3vpn-svc-cfg/sites'`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\"/>\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\"/>\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"site-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.openecomp.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
    "comments": "",
    "outputs": 1,
    "x": 1106,
    "y": 1219,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "d40cc8a7.624908",
        "df1ccdd8.7bf27"
      ]
    ]
  },
  {
    "id": "59489a1b.74de3c",
    "type": "execute",
    "name": "execute RestApiCallNode IPWAN VRF Config",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir +'/l3smvrftemplate.json'`\"/>\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url +'/restconf/data/huawei-ac-net-l3vpn-svc:l3vpn-svc-cfg/huawei-ac-net-l3vpn-svc-vfi:vrf-attributes'`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\"/>\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\"/>\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"put\"/>\n<parameter name=\"responsePrefix\" value=\"vrf-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.openecomp.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
    "comments": "",
    "outputs": 1,
    "x": 1120,
    "y": 1122,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "d40cc8a7.624908",
        "550c17e5.cfd818"
      ]
    ]
  },
  {
    "id": "3c1faef4.86a26a",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2428,
    "y": 1211,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "d2c4705e.e17128"
      ]
    ]
  },
  {
    "id": "d2c4705e.e17128",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
    "comments": "",
    "x": 2609,
    "y": 1209,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "152bd8c5.a555ff",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2426,
    "y": 1313,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "5215918e.cf6238"
      ]
    ]
  },
  {
    "id": "5215918e.cf6238",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
    "comments": "",
    "x": 2607,
    "y": 1311,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "9a25c35e.1e45a8",
    "type": "failure",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2427,
    "y": 1145,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "2af54113.06bac6"
      ]
    ]
  },
  {
    "id": "11ed22fb.50a315",
    "type": "failure",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2423,
    "y": 1265,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "9994d830.e649d"
      ]
    ]
  },
  {
    "id": "2af54113.06bac6",
    "type": "set",
    "name": "set route1 ip-prefix next-hop",
    "xml": "<set>\n<parameter name='prop.l3vpn.sna1-route.ip-prefix' value='`$route1[0]`' />\n<parameter name='prop.l3vpn.sna1-route.next-hop' value='`$route1[1]`' />\n",
    "comments": "",
    "x": 2634,
    "y": 1139,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "9994d830.e649d",
    "type": "set",
    "name": "set route2 ip-prefix next-hop",
    "xml": "<set>\n<parameter name='prop.l3vpn.sna2-route.ip-prefix' value='`$route2[0]`' />\n<parameter name='prop.l3vpn.sna2-route.next-hop' value='`$route2[1]`' />",
    "comments": "",
    "x": 2634,
    "y": 1258,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "e292252a.39cff8",
    "type": "execute",
    "name": "execute generate-underlay-network-id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.l3vpn.network-id\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 861,
    "y": 773.0000305175781,
    "z": "d1c71750.37b338",
    "wires": [
      []
    ]
  },
  {
    "id": "31c5a0ea.7876c",
    "type": "switchNode",
    "name": "switch service-data.networks_length",
    "xml": "<switch test='`$service-data.networks.network_length`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 819,
    "y": 854.0000305175781,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "e20b349f.c8503",
        "816d3d6d.6345a8"
      ]
    ]
  },
  {
    "id": "e20b349f.c8503",
    "type": "other",
    "name": "Null",
    "xml": "<outcome value=''>\n",
    "comments": "",
    "outputs": 1,
    "x": 1092.8095703125,
    "y": 822.9524230957031,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "4ecd5064.971558"
      ]
    ]
  },
  {
    "id": "816d3d6d.6345a8",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1087.666748046875,
    "y": 868.6667175292969,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "947799f0.0e982"
      ]
    ]
  },
  {
    "id": "4ecd5064.971558",
    "type": "set",
    "name": "set nidx",
    "xml": "<set>\n<parameter name='nidx' value='0' />\n",
    "comments": "",
    "x": 1245.8095703125,
    "y": 822.5238342285156,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "947799f0.0e982",
    "type": "set",
    "name": "set nidx",
    "xml": "<set>\n<parameter name='nidx' value='`$service-data.networks.network_length`' />\n",
    "comments": "",
    "x": 1247.2381591796875,
    "y": 867.5238952636719,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "f41c462f.8589a",
    "type": "set",
    "name": "set network in service-data",
    "xml": "<set>\n<parameter name=\"service-data.networks.network[$nidx].network-id\" value='`$prop.l3vpn.network-id`' />\n<parameter name='service-data.networks.network[$nidx].network-data.sdnc-request-header.' value='`$network-topology-operation-input.sdnc-request-header.`' />\n<parameter name='service-data.networks.network[$nidx].network-data.request-information.' value='`$network-topology-operation-input.request-information.`' />\n<parameter name='service-data.networks.network[$nidx].network-data.service-information.' value='`$network-topology-operation-input.service-information.`' />\n<parameter name='service-data.networks.network[$nidx].network-data.network-information.' value='`$network-topology-operation-input.network-information.`' />\n<parameter name='service-data.networks.network[$nidx].network-data.network-request-input.' value='`$network-topology-operation-input.network-request-input.`' />\n<parameter name=\"service-data.networks.network_length\" value='`$nidx+1`' />\n\n",
    "comments": "",
    "x": 733,
    "y": 1342.0000305175781,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "58848908.ffbbb",
    "type": "set",
    "name": "set networkId and network-object-path",
    "xml": "<set>\n<parameter name='networkId' value='`$prop.l3vpn.network-id`' />\n<parameter name=\"network-object-path\" value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'  + $network-topology-operation-input.service-information.service-instance-id  + '/service-data/networks/network/'  + $prop.l3vpn.network-id  + '/network-data/'` \" />",
    "comments": "",
    "x": 762,
    "y": 1387.0000305175781,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "7b14c9f6.80d72",
    "type": "returnSuccess",
    "name": "return success",
    "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
    "comments": "",
    "x": 709,
    "y": 1576.0000305175781,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "a66c7c7d.376898",
    "type": "set",
    "name": "set network-level-oper-status",
    "xml": "<set>\n<parameter name='service-data.networks.network[$nidx].network-data.network-level-oper-status.order-status' value='Created' />\n<parameter name='service-data.networks.network[$nidx].network-data.network-level-oper-status.last-rpc-action' value='`$network-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.networks.network[$nidx].network-data.network-level-oper-status.last-action' value='`$network-topology-operation-input.request-information.request-action`' />",
    "comments": "",
    "x": 735,
    "y": 1434.0000305175781,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "30879b4d.be3994",
    "type": "get-resource",
    "name": "get-resource pnf",
    "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $prop.l3vpn.pe1_id AND \n\t\t     depth = '0'\"\n        pfx='tmp.aai.pnf' local-only='false' >\n\n",
    "comments": "",
    "outputs": 1,
    "x": 810,
    "y": 260.0000305175781,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "48cba823.32bfc",
        "fe778394.3d9298",
        "a675b2b2.a64298"
      ]
    ]
  },
  {
    "id": "48cba823.32bfc",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1132,
    "y": 150.00003051757812,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "8bb789cd.2a1608"
      ]
    ]
  },
  {
    "id": "fe778394.3d9298",
    "type": "not-found",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1135.490966796875,
    "y": 197.57406616210938,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "8f58e126.403b1"
      ]
    ]
  },
  {
    "id": "a675b2b2.a64298",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1130.823974609375,
    "y": 238.90737915039062,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "8d89cc4d.eb7678"
      ]
    ]
  },
  {
    "id": "8f58e126.403b1",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
    "comments": "",
    "x": 1312.0623779296875,
    "y": 185.85980224609375,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "8d89cc4d.eb7678",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
    "comments": "",
    "x": 1318.5965309143066,
    "y": 234.34657192230225,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "8bb789cd.2a1608",
    "type": "set",
    "name": "set tmp.thirdparty-sdnc-id",
    "xml": "<set>\n<parameter name='tmp.thirdparty-sdnc-id' value=\"`$tmp.aai.pnf.relationship-list.relationship[0].relationship-data[0].relationship-value`\" />\n",
    "comments": "",
    "x": 1336,
    "y": 137.00003051757812,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "d54c20dc.cf6128",
    "type": "save",
    "name": "save underlay configuration in AAI",
    "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='configuration' \n      key='configuration.configuration-id = $prop.l3vpn.network-id' >\n<parameter name='configuration-id' value='`$prop.l3vpn.network-id`' />\n<parameter name='configuration-type' value='underlay' />\n<parameter name='configuration-sub-type' value='l3vpn' />\n<parameter name='orchestration-status' value='Created' />\n<parameter name='operational-status' value='Created' />\n<parameter name='model-customization-id' value='`$prop.l3vpn.network-id`' />\n<parameter name='configuration-selflink' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'  + $network-topology-operation-input.service-information.service-instance-id  + '/service-data/networks/network/'  + $prop.l3vpn.network-id  + '/network-data/'` \" />\n",
    "comments": "",
    "outputs": 1,
    "x": 754,
    "y": 1484.0000305175781,
    "z": "d1c71750.37b338",
    "wires": [
      []
    ]
  },
  {
    "id": "b11968d4.007e68",
    "type": "save",
    "name": "save service relationship in AAI",
    "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='service-instance:relationship-list' \n      key='service-instance.service-instance-id = $service-data.service-information.service-instance-id \n         AND customer.global-customer-id = $service-data.networks.network[$nidx].network-data.service-information.global-customer-id \n         AND service-subscription.service-type = $service-data.networks.network[$nidx].network-data.service-information.subscription-service-type' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"configuration\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/configurations/configuration/' + $prop.l3vpn.network-id`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"configuration.configuration-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$prop.l3vpn.network-id`\" />",
    "comments": "",
    "outputs": 1,
    "x": 746,
    "y": 1530.0000305175781,
    "z": "d1c71750.37b338",
    "wires": [
      []
    ]
  },
  {
    "id": "d3d6530.ff1843",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1258.5,
    "y": 412,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "79980939.27992",
        "6566447b.cd16fc",
        "db1ad825.26052",
        "612a1bef.8a1a9c",
        "32815667.56769a",
        "d99350c4.40314",
        "e54a4b77.575f08",
        "a16ad1af.30669",
        "a9d432.f245a3d",
        "89f7d244.7bed58",
        "9e107c02.44f758",
        "37c58153.b2998e",
        "9ab7bd24.8d06c8",
        "c98044e2.7a0fd",
        "9c377089.4d9f3",
        "6227130a.b283dc",
        "87656c47.a73838",
        "9d6a7f28.4304b",
        "b0373753.70f0a",
        "a53453dd.69ab28",
        "9abdda02.3e776",
        "e12d824c.4650c8",
        "46a813fb.9bd0f4",
        "f615e32b.689a18",
        "5e4ee4bb.9cbae4"
      ]
    ]
  },
  {
    "id": "e652cb3f.9ae0d",
    "type": "execute",
    "name": "execute RestApiCallNode Get token",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/actokentemplate.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/v2/tokens'`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"token-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.openecomp.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>",
    "comments": "",
    "outputs": 1,
    "x": 979,
    "y": 927,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "5108fa21.828c5c",
        "4ae0e1c.42791a"
      ]
    ]
  },
  {
    "id": "5108fa21.828c5c",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1214,
    "y": 905,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "8a3a1639.1431d"
      ]
    ]
  },
  {
    "id": "4ae0e1c.42791a",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1206.25,
    "y": 958.6428833007812,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "a0998cd9.40253"
      ]
    ]
  },
  {
    "id": "a0998cd9.40253",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing get token rest api\" />\n",
    "comments": "",
    "x": 1359,
    "y": 958.3929443359375,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "8a3a1639.1431d",
    "type": "set",
    "name": "set token-id",
    "xml": "<set>\n<parameter name='prop.sdncRestApi.token_id' value='`$token-result.data.token_id`' />\n",
    "comments": "",
    "x": 1368,
    "y": 906,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "d40cc8a7.624908",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1394,
    "y": 1078,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "28652dba.d39e02"
      ]
    ]
  },
  {
    "id": "550c17e5.cfd818",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1401.25,
    "y": 1172.642822265625,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "d57e2b04.e0fea"
      ]
    ]
  },
  {
    "id": "d57e2b04.e0fea",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create vrf rest api\" />\n",
    "comments": "",
    "x": 1373,
    "y": 1357.3929443359375,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "725ceec3.c5b2",
    "type": "execute",
    "name": "execute Properties",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
    "comments": "",
    "outputs": 1,
    "x": 702.96875,
    "y": 998.0000305175781,
    "z": "d1c71750.37b338",
    "wires": [
      []
    ]
  },
  {
    "id": "28652dba.d39e02",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "comments": "",
    "outputs": 1,
    "x": 1234,
    "y": 1409,
    "z": "d1c71750.37b338",
    "wires": [
      []
    ]
  },
  {
    "id": "df1ccdd8.7bf27",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1324,
    "y": 1473,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "948b66a6.ef156"
      ]
    ]
  },
  {
    "id": "948b66a6.ef156",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create site rest api\" />\n",
    "comments": "",
    "x": 1353.75,
    "y": 1530.7501220703125,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "359e3cd1.226de4",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create vpn rest api\" />\n",
    "comments": "",
    "x": 1210,
    "y": 1061,
    "z": "d1c71750.37b338",
    "wires": []
  },
  {
    "id": "c80688e8.50ffd",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1065,
    "y": 1058,
    "z": "d1c71750.37b338",
    "wires": [
      [
        "359e3cd1.226de4"
      ]
    ]
  }
]
