[
    {
        "id": "c99606bb.e2a028",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 112.11111450195312,
        "y": 72.41365623474121,
        "z": "cb3252c9.673b6",
        "wires": [
            [
                "864e4d1.67b0cb"
            ]
        ]
    },
    {
        "id": "864e4d1.67b0cb",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 194.0634765625,
        "y": 112.6517686843872,
        "z": "cb3252c9.673b6",
        "wires": [
            [
                "8523dd91.6b0d1"
            ]
        ]
    },
    {
        "id": "8523dd91.6b0d1",
        "type": "method",
        "name": "network-topology-operation",
        "xml": "<method rpc='network-topology-operation' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 190.53974151611328,
        "y": 152.4136505126953,
        "z": "cb3252c9.673b6",
        "wires": [
            [
                "1a229729.b26c99"
            ]
        ]
    },
    {
        "id": "38f1087b.161648",
        "type": "comment",
        "name": " NETWORK-TOPOLOGY-OPERATION ",
        "info": "",
        "comments": "",
        "x": 506.45597076416016,
        "y": 20,
        "z": "cb3252c9.673b6",
        "wires": []
    },
    {
        "id": "1a229729.b26c99",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 226.11114501953125,
        "y": 235.85713958740234,
        "z": "cb3252c9.673b6",
        "wires": [
            [
                "98cc4191.2cf35",
                "57ac21c1.a3bc3",
                "987f679f.f57988",
                "1170a38.c1b8e5d"
            ]
        ]
    },
    {
        "id": "98cc4191.2cf35",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 456.1945037841797,
        "y": 859.6997756958008,
        "z": "cb3252c9.673b6",
        "wires": []
    },
    {
        "id": "57ac21c1.a3bc3",
        "type": "switchNode",
        "name": "switch svc-action",
        "xml": "<switch test='`$network-topology-operation-input.sdnc-request-header.svc-action`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 452.82537841796875,
        "y": 466.2708339691162,
        "z": "cb3252c9.673b6",
        "wires": [
            [
                "f08cfd72.f6d7a",
                "ba263e37.fc151",
                "ee75a5f3.d1d328",
                "906cbd9a.3bcc1",
                "483543a0.87b2ec"
            ]
        ]
    },
    {
        "id": "f08cfd72.f6d7a",
        "type": "other",
        "name": "assign",
        "xml": "<outcome value='assign'>\n",
        "comments": "",
        "outputs": 1,
        "x": 673.3015747070312,
        "y": 328.5564842224121,
        "z": "cb3252c9.673b6",
        "wires": [
            [
                "85930aff.cc50b8"
            ]
        ]
    },
    {
        "id": "85930aff.cc50b8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 854.5397338867188,
        "y": 329.5566062927246,
        "z": "cb3252c9.673b6",
        "wires": [
            [
                "733204ba.52ff4c"
            ]
        ]
    },
    {
        "id": "987f679f.f57988",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:validate-network-input",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='validate-network-input' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 584.1111145019531,
        "y": 236.4136562347412,
        "z": "cb3252c9.673b6",
        "wires": [
            []
        ]
    },
    {
        "id": "733204ba.52ff4c",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:network-topology-operation-assign",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='network-topology-operation-assign' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1226.111083984375,
        "y": 326.4136619567871,
        "z": "cb3252c9.673b6",
        "wires": [
            []
        ]
    },
    {
        "id": "ba263e37.fc151",
        "type": "other",
        "name": "activate",
        "xml": "<outcome value='activate'>\n",
        "comments": "",
        "outputs": 1,
        "x": 675.1111145019531,
        "y": 416.4136562347412,
        "z": "cb3252c9.673b6",
        "wires": [
            [
                "70342e4b.918dc"
            ]
        ]
    },
    {
        "id": "70342e4b.918dc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 859.3492736816406,
        "y": 417.4137783050537,
        "z": "cb3252c9.673b6",
        "wires": [
            [
                "69a87518.69854c",
                "bd1a56c0.3e9138"
            ]
        ]
    },
    {
        "id": "68785460.4653ec",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:network-topology-operation-activate",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='network-topology-operation-activate' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1991.9206848144531,
        "y": 579.2708282470703,
        "z": "cb3252c9.673b6",
        "wires": [
            []
        ]
    },
    {
        "id": "ee75a5f3.d1d328",
        "type": "other",
        "name": "deactivate",
        "xml": "<outcome value='deactivate'>\n",
        "comments": "",
        "outputs": 1,
        "x": 664.1111145019531,
        "y": 576.4136810302734,
        "z": "cb3252c9.673b6",
        "wires": [
            [
                "444b8a86.f0f0b4"
            ]
        ]
    },
    {
        "id": "444b8a86.f0f0b4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 845.3492736816406,
        "y": 577.4138031005859,
        "z": "cb3252c9.673b6",
        "wires": [
            [
                "69a87518.69854c",
                "142787bd.d3eaa8"
            ]
        ]
    },
    {
        "id": "a1ea1a5a.119a28",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:network-topology-operation-deactivate",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='network-topology-operation-deactivate' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1998.4205932617188,
        "y": 695.0208282470703,
        "z": "cb3252c9.673b6",
        "wires": [
            []
        ]
    },
    {
        "id": "906cbd9a.3bcc1",
        "type": "other",
        "name": "unassign",
        "xml": "<outcome value='unassign'>\n",
        "comments": "",
        "outputs": 1,
        "x": 672.1111145019531,
        "y": 641.4136810302734,
        "z": "cb3252c9.673b6",
        "wires": [
            [
                "78e21d22.3aa574"
            ]
        ]
    },
    {
        "id": "78e21d22.3aa574",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 853.3492736816406,
        "y": 642.4138031005859,
        "z": "cb3252c9.673b6",
        "wires": [
            [
                "69a87518.69854c",
                "9de6fd5e.4ad14"
            ]
        ]
    },
    {
        "id": "6c5f5914.18dc18",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:network-topology-operation-unassign",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='network-topology-operation-unassign' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2005.1705932617188,
        "y": 807.7708282470703,
        "z": "cb3252c9.673b6",
        "wires": [
            []
        ]
    },
    {
        "id": "483543a0.87b2ec",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 663.1111183166504,
        "y": 701.4136714935303,
        "z": "cb3252c9.673b6",
        "wires": [
            [
                "a3c1c755.071638"
            ]
        ]
    },
    {
        "id": "a3c1c755.071638",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"sdnc-request-header.svc-action is a required input\" />\n",
        "comments": "",
        "x": 845.1111145019531,
        "y": 700.4136810302734,
        "z": "cb3252c9.673b6",
        "wires": []
    },
    {
        "id": "1170a38.c1b8e5d",
        "type": "set",
        "name": "Set final indicator to Y",
        "xml": "<set>\n<parameter name=\"ack-final\" value=\"Y\"/>",
        "comments": "",
        "x": 475.2221984863281,
        "y": 818.8581142425537,
        "z": "cb3252c9.673b6",
        "wires": []
    },
    {
        "id": "d9b3b70a.4d0258",
        "type": "for",
        "name": "for nidx..service-data.networks.network[]",
        "xml": "<for index='nidx' start='0' end='`$service-data.networks.network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1893.8414764404297,
        "y": 473.1755828857422,
        "z": "cb3252c9.673b6",
        "wires": [
            [
                "7ab3dce2.d045e4"
            ]
        ]
    },
    {
        "id": "69a87518.69854c",
        "type": "switchNode",
        "name": "switch service-data.networks.network_length",
        "xml": "<switch test='`$service-data.networks.network_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1227.5555725097656,
        "y": 437.74696350097656,
        "z": "cb3252c9.673b6",
        "wires": [
            [
                "1c5afa5b.117ca6",
                "e5671ca3.48268"
            ]
        ]
    },
    {
        "id": "1c5afa5b.117ca6",
        "type": "other",
        "name": "outcome Null",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 1470.5555114746094,
        "y": 439.7469730377197,
        "z": "cb3252c9.673b6",
        "wires": [
            [
                "88ef598e.91daa8"
            ]
        ]
    },
    {
        "id": "e5671ca3.48268",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1424.5555419921875,
        "y": 472.7469940185547,
        "z": "cb3252c9.673b6",
        "wires": [
            [
                "18cdb225.91a67e"
            ]
        ]
    },
    {
        "id": "7ab3dce2.d045e4",
        "type": "switchNode",
        "name": "switch networkid found",
        "xml": "<switch test=\"`$service-data.networks.network[$nidx].network-id == $network-topology-operation-input.network-information.network-id`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2184.2700271606445,
        "y": 472.42566680908203,
        "z": "cb3252c9.673b6",
        "wires": [
            [
                "3a66da90.0e3556"
            ]
        ]
    },
    {
        "id": "3a66da90.0e3556",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2373.222381591797,
        "y": 473.3184051513672,
        "z": "cb3252c9.673b6",
        "wires": [
            [
                "7d4e697f.fd23e8"
            ]
        ]
    },
    {
        "id": "7d4e697f.fd23e8",
        "type": "set",
        "name": "set tmp.nidx and ctx.network-data",
        "xml": "<set>\n<parameter name='tmp.nidx' value='`$nidx`' />\n<parameter name='ctx.network-data.' value='`$service-data.networks.network[$nidx].`' />\n",
        "comments": "",
        "x": 2606.754150390625,
        "y": 472.0684127807617,
        "z": "cb3252c9.673b6",
        "wires": []
    },
    {
        "id": "cc47bcf0.238e4",
        "type": "comment",
        "name": "Find the index to service data for this network - save id in tmp.nidx, save service-data",
        "info": "",
        "comments": "",
        "x": 1350.6666564941406,
        "y": 406.74698638916016,
        "z": "cb3252c9.673b6",
        "wires": []
    },
    {
        "id": "60b7d7a1.646f18",
        "type": "comment",
        "name": "service-data  will not be stored until we have a network-id",
        "info": "",
        "comments": "",
        "x": 1193.7777099609375,
        "y": 294.63589096069336,
        "z": "cb3252c9.673b6",
        "wires": []
    },
    {
        "id": "88ef598e.91daa8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"network-topology-operation-input.network-request-input.network-id not found in service-data\" />\n",
        "comments": "",
        "x": 1662.3330688476562,
        "y": 437.63597106933594,
        "z": "cb3252c9.673b6",
        "wires": []
    },
    {
        "id": "18cdb225.91a67e",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1591.8255081176758,
        "y": 472.301570892334,
        "z": "cb3252c9.673b6",
        "wires": [
            [
                "d9b3b70a.4d0258",
                "46916c71.7511d4"
            ]
        ]
    },
    {
        "id": "46916c71.7511d4",
        "type": "switchNode",
        "name": "switch tmp.nidx ",
        "xml": "<switch test=\"`$tmp.nidx`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1812.1429061889648,
        "y": 515.1587896347046,
        "z": "cb3252c9.673b6",
        "wires": [
            [
                "744b6bc1.2a0f74"
            ]
        ]
    },
    {
        "id": "570ef8cd.cbcb88",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"network-topology-operation-input.network-request-input.network-id not found in service-data\" />\n",
        "comments": "",
        "x": 2164.9998893737793,
        "y": 510.87303161621094,
        "z": "cb3252c9.673b6",
        "wires": []
    },
    {
        "id": "744b6bc1.2a0f74",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 1983.5714416503906,
        "y": 513.7301750183105,
        "z": "cb3252c9.673b6",
        "wires": [
            [
                "570ef8cd.cbcb88"
            ]
        ]
    },
    {
        "id": "bd1a56c0.3e9138",
        "type": "switchNode",
        "name": "switch network-level-oper-status",
        "xml": "<switch test='`$service-data.networks.network[$tmp.nidx].network-data.network-level-oper-status.order-status`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1204.888916015625,
        "y": 579.2222290039062,
        "z": "cb3252c9.673b6",
        "wires": [
            [
                "f3be99d5.176a88",
                "215ed9fd.338986"
            ]
        ]
    },
    {
        "id": "f3be99d5.176a88",
        "type": "outcome",
        "name": "outcome PendingCreate",
        "xml": "<outcome value='PendingCreate'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1569.8888956705723,
        "y": 579.2222137451171,
        "z": "cb3252c9.673b6",
        "wires": [
            [
                "68785460.4653ec"
            ]
        ]
    },
    {
        "id": "215ed9fd.338986",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1519.8889427185059,
        "y": 619.2222442626953,
        "z": "cb3252c9.673b6",
        "wires": [
            [
                "598a9836.8dec38"
            ]
        ]
    },
    {
        "id": "598a9836.8dec38",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Network is not in appropriate state for activate. Current state is ' + $service-data.networks.network[$tmp.nidx].network-data.network-level-oper-status.order-status`\" />",
        "comments": "",
        "x": 1689.8889427185059,
        "y": 619.2222442626953,
        "z": "cb3252c9.673b6",
        "wires": []
    },
    {
        "id": "142787bd.d3eaa8",
        "type": "switchNode",
        "name": "switch network-level-oper-status",
        "xml": "<switch test='`$service-data.networks.network[$tmp.nidx].network-data.network-level-oper-status.order-status`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1212.1903991699219,
        "y": 695.1736297607422,
        "z": "cb3252c9.673b6",
        "wires": [
            [
                "ae28e421.942868",
                "d2690a94.f5d8c8"
            ]
        ]
    },
    {
        "id": "ae28e421.942868",
        "type": "outcome",
        "name": "outcome Created",
        "xml": "<outcome value='Created'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1575.1903686523438,
        "y": 695.1736602783203,
        "z": "cb3252c9.673b6",
        "wires": [
            [
                "a1ea1a5a.119a28"
            ]
        ]
    },
    {
        "id": "d2690a94.f5d8c8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1545.1903686523438,
        "y": 735.1736602783203,
        "z": "cb3252c9.673b6",
        "wires": [
            [
                "db8d6195.30425"
            ]
        ]
    },
    {
        "id": "db8d6195.30425",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Network is not in appropriate state for deactivate. Current state is ' + $service-data.networks.network[$tmp.nidx].network-data.network-level-oper-status.order-status`\" />",
        "comments": "",
        "x": 1711.1903686523438,
        "y": 737.1736602783203,
        "z": "cb3252c9.673b6",
        "wires": []
    },
    {
        "id": "9de6fd5e.4ad14",
        "type": "switchNode",
        "name": "switch network-level-oper-status",
        "xml": "<switch test='`$service-data.networks.network[$tmp.nidx].network-data.network-level-oper-status.order-status`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1211.9919738769531,
        "y": 809.3750305175781,
        "z": "cb3252c9.673b6",
        "wires": [
            [
                "7e221c63.bc45a4",
                "cf28440b.dda768",
                "c3dda3f.4ff456"
            ]
        ]
    },
    {
        "id": "7e221c63.bc45a4",
        "type": "outcome",
        "name": "outcome PendingCreate",
        "xml": "<outcome value='PendingCreate'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1571.991943359375,
        "y": 809.3750610351562,
        "z": "cb3252c9.673b6",
        "wires": [
            [
                "6c5f5914.18dc18"
            ]
        ]
    },
    {
        "id": "cf28440b.dda768",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1528.9918823242188,
        "y": 893.3750762939453,
        "z": "cb3252c9.673b6",
        "wires": [
            [
                "fbd25549.98f538"
            ]
        ]
    },
    {
        "id": "fbd25549.98f538",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Network is not in appropriate state for unassign. Current state is ' + $service-data.networks.network[$tmp.nidx].network-data.network-level-oper-status.order-status`\" />",
        "comments": "",
        "x": 1720.3253021240234,
        "y": 892.0417051315308,
        "z": "cb3252c9.673b6",
        "wires": []
    },
    {
        "id": "c3dda3f.4ff456",
        "type": "outcome",
        "name": "outcome PendingDelete",
        "xml": "<outcome value='PendingDelete'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1575.22216796875,
        "y": 847.2222290039062,
        "z": "cb3252c9.673b6",
        "wires": [
            [
                "6c5f5914.18dc18"
            ]
        ]
    }
]
