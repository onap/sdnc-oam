[
  {
    "id":"f5a2f807.796008",
    "type":"dgstart",
    "name":"DGSTART",
    "outputs":1,
    "x":106.66666412353516,
    "y":41.666664123535156,
    "z":"9ab19238.7f97c",
    "wires":[
      [
        "ac314d56.f9d21"
      ]
    ]
  },
  {
    "id":"ac314d56.f9d21",
    "type":"service-logic",
    "name":"GENERIC-RESOURCE-API ${project.version}",
    "module":"GENERIC-RESOURCE-API",
    "version":"${project.version}",
    "comments":"",
    "xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
    "outputs":1,
    "x":367.66666412353516,
    "y":112.66666412353516,
    "z":"9ab19238.7f97c",
    "wires":[
      [
        "e9300cd.0c3e9f"
      ]
    ]
  },
  {
    "id":"e9300cd.0c3e9f",
    "type":"method",
    "name":"method network-topology-operation-deactivate",
    "xml":"<method rpc='network-topology-operation-deactivate' mode='sync'>\n",
    "comments":"",
    "outputs":1,
    "x":257.66666412353516,
    "y":197.66666412353516,
    "z":"9ab19238.7f97c",
    "wires":[
      [
        "fbd850ce.c952c"
      ]
    ]
  },
  {
    "id":"fbd850ce.c952c",
    "type":"block",
    "name":"block : atomic",
    "xml":"<block atomic=\"true\">",
    "atomic":"true",
    "outputs":1,
    "x":556.6666641235352,
    "y":191.66666412353516,
    "z":"9ab19238.7f97c",
    "wires":[
      [
        "4fc2f74f.e00908",
        "4834c6e0.2cf8f8",
        "bbd32d7e.ecacf",
        "25220703.142ba8",
        "bfd64fe6.4f39a",
        "14b65360.0375bd"
      ]
    ]
  },
  {
    "id":"4fc2f74f.e00908",
    "type":"call",
    "name":"call GENERIC-RESOURCE-API:validate-network-input-parameters",
    "xml":"<call module='GENERIC-RESOURCE-API' rpc='validate-network-input-parameters' mode='sync' >\n",
    "comments":"",
    "outputs":1,
    "x":927.6666641235352,
    "y":66.66666412353516,
    "z":"9ab19238.7f97c",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"4834c6e0.2cf8f8",
    "type":"returnSuccess",
    "name":"return success",
    "xml":"<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
    "comments":"",
    "x":793.6666412353516,
    "y":845.6666374206543,
    "z":"9ab19238.7f97c",
    "wires":[

    ]
  },
  {
    "id":"bbd32d7e.ecacf",
    "type":"get-resource",
    "name":"get-resource l3-dci-connects",
    "xml":"<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"dci-connects\" \n\t\tkey=\"dci-connects.id AND depth = '1'\"\n        pfx='tmp.aai.dci-connects' local-only='false' >\n",
    "comments":"",
    "outputs":1,
    "x":833.6666488647461,
    "y":313.66665291786194,
    "z":"9ab19238.7f97c",
    "wires":[
      [
        "cf4ccec7.b3a53",
        "3dfa7fb8.e61a",
        "9dc943a2.8ca92"
      ]
    ]
  },
  {
    "id":"cf4ccec7.b3a53",
    "type":"success",
    "name":"success",
    "xml":"<outcome value='success'>\n",
    "comments":"",
    "outputs":1,
    "x":1082.666648864746,
    "y":277.66665291786194,
    "z":"9ab19238.7f97c",
    "wires":[
      [
        "8272f07a.82cd4"
      ]
    ]
  },
  {
    "id":"3dfa7fb8.e61a",
    "type":"not-found",
    "name":"not-found",
    "xml":"<outcome value='not-found'>\n",
    "comments":"",
    "outputs":1,
    "x":1089.666648864746,
    "y":315.66665291786194,
    "z":"9ab19238.7f97c",
    "wires":[
      [
        "6bf0a3e6.82f3cc"
      ]
    ]
  },
  {
    "id":"9dc943a2.8ca92",
    "type":"other",
    "name":"other",
    "xml":"<outcome value='Other'>\n",
    "comments":"",
    "outputs":1,
    "x":1081.666648864746,
    "y":357.66665291786194,
    "z":"9ab19238.7f97c",
    "wires":[
      [
        "feb9a4ef.7e5578"
      ]
    ]
  },
  {
    "id":"6bf0a3e6.82f3cc",
    "type":"returnFailure",
    "name":"return failure",
    "xml":"<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
    "comments":"",
    "x":1246.666648864746,
    "y":319.66665291786194,
    "z":"9ab19238.7f97c",
    "wires":[

    ]
  },
  {
    "id":"feb9a4ef.7e5578",
    "type":"returnFailure",
    "name":"return failure",
    "xml":"<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
    "comments":"",
    "x":1239.666648864746,
    "y":366.66665291786194,
    "z":"9ab19238.7f97c",
    "wires":[

    ]
  },
  {
    "id":"25220703.142ba8",
    "type":"block",
    "name":"block : sendRequest",
    "xml":"<block atomic=\"true\">",
    "atomic":"true",
    "comments":"",
    "outputs":1,
    "x":795.1666641235352,
    "y":613.1822910308838,
    "z":"9ab19238.7f97c",
    "wires":[
      [
        "ee9b18fe.efb558",
        "888bedcf.9394c",
        "1ceff972.b29e97"
      ]
    ]
  },
  {
    "id":"cbcb550b.460768",
    "type":"success",
    "name":"success",
    "xml":"<outcome value='success'>\n",
    "comments":"",
    "outputs":1,
    "x":1288.666431427002,
    "y":465.1818103790283,
    "z":"9ab19238.7f97c",
    "wires":[
      [
        "bbeeb19c.50425"
      ]
    ]
  },
  {
    "id":"f918111d.58c86",
    "type":"not-found",
    "name":"not-found",
    "xml":"<outcome value='not-found'>\n",
    "comments":"",
    "outputs":1,
    "x":1295.666431427002,
    "y":503.1818103790283,
    "z":"9ab19238.7f97c",
    "wires":[
      [
        "edaefda9.f0048"
      ]
    ]
  },
  {
    "id":"811cb974.a8e458",
    "type":"other",
    "name":"other",
    "xml":"<outcome value='Other'>\n",
    "comments":"",
    "outputs":1,
    "x":1287.666431427002,
    "y":545.1818103790283,
    "z":"9ab19238.7f97c",
    "wires":[
      [
        "61bc55e3.0a82fc"
      ]
    ]
  },
  {
    "id":"bbeeb19c.50425",
    "type":"block",
    "name":"block : atomic",
    "xml":"<block atomic=\"true\">\n",
    "atomic":"false",
    "comments":"",
    "outputs":1,
    "x":1453.666431427002,
    "y":454.1818103790283,
    "z":"9ab19238.7f97c",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"edaefda9.f0048",
    "type":"returnFailure",
    "name":"return failure",
    "xml":"<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
    "comments":"",
    "x":1452.666431427002,
    "y":507.1818103790283,
    "z":"9ab19238.7f97c",
    "wires":[

    ]
  },
  {
    "id":"61bc55e3.0a82fc",
    "type":"returnFailure",
    "name":"return failure",
    "xml":"<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
    "comments":"",
    "x":1445.666431427002,
    "y":554.1818103790283,
    "z":"9ab19238.7f97c",
    "wires":[

    ]
  },
  {
    "id":"ee9b18fe.efb558",
    "type":"get-resource",
    "name":"get-resource dci-connects",
    "xml":"<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $prop.dci-connects.id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.esr-thirdparty-sdnc' local-only='false' >\n",
    "comments":"",
    "outputs":1,
    "x":1100.6665534973145,
    "y":512.1818294525146,
    "z":"9ab19238.7f97c",
    "wires":[
      [
        "cbcb550b.460768",
        "f918111d.58c86",
        "811cb974.a8e458"
      ]
    ]
  },
  {
    "id":"888bedcf.9394c",
    "type":"set",
    "name":"set controller data",
    "xml":"<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.url' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list[0].esr-system-info.serviceUrl`\" />\n<parameter name='prop.sdncRestApi.templateDir' value='/opt/onap/sdnc/data' />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.user' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list[0].esr-system-info.user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.password' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list[0].esr-system-info.password`\" />\n\n",
    "comments":"",
    "x":1072.166404724121,
    "y":613.6817836761475,
    "z":"9ab19238.7f97c",
    "wires":[

    ]
  },
  {
    "id":"67d04c57.76d864",
    "type":"execute",
    "name":"execute RestApiCallNode Activate Vxlan Tunnel",
    "xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"$prop.sdncRestApi.thirdpartySdnc.url + '/v2.0/l3-dci-connects/' + $prop.l3-dci-connects.id\"/>\n<parameter name=\"restapiUser\" value=\"$prop.sdncRestApi.thirdpartySdnc.user\"/>\n<parameter name=\"restapiPassword\" value=\"$prop.sdncRestApi.thirdpartySdnc.password\"/>\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"delete\"/>\n<parameter name=\"responsePrefix\" value=\"restapi-result\"/>\n",
    "comments":"",
    "outputs":1,
    "x":1603.1669387817383,
    "y":676.1822462081909,
    "z":"9ab19238.7f97c",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"1ceff972.b29e97",
    "type":"switchNode",
    "name":"switch tunnelType",
    "xml":"<switch test=\"`$prop.dci-connects.tunnelType`\">\n",
    "comments":"",
    "outputs":1,
    "x":1066.1663970947266,
    "y":700.6817569732666,
    "z":"9ab19238.7f97c",
    "wires":[
      [
        "bfd28c8.af72d7",
        "c827bdb8.b0874"
      ]
    ]
  },
  {
    "id":"bfd28c8.af72d7",
    "type":"outcomeTrue",
    "name":"L3-DCI",
    "xml":"<outcome value='L3-DCI'>\n",
    "comments":"",
    "outputs":1,
    "x":1279.1665267944336,
    "y":680.6817569732666,
    "z":"9ab19238.7f97c",
    "wires":[
      [
        "67d04c57.76d864"
      ]
    ]
  },
  {
    "id":"c827bdb8.b0874",
    "type":"outcomeTrue",
    "name":"L2-DCI",
    "xml":"<outcome value='L2-DCI'>\n",
    "comments":"",
    "outputs":1,
    "x":1277.166347503662,
    "y":752.6817569732666,
    "z":"9ab19238.7f97c",
    "wires":[
      [
        "76310484.d1086c"
      ]
    ]
  },
  {
    "id":"76310484.d1086c",
    "type":"execute",
    "name":"execute RestApiCallNode Activate Vxlan Tunnel",
    "xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"$prop.sdncRestApi.thirdpartySdnc.url + '/v2.0/l2-dci-connects/' + $prop.l2-dci-connects.id\"/>\n<parameter name=\"restapiUser\" value=\"$prop.sdncRestApi.thirdpartySdnc.user\"/>\n<parameter name=\"restapiPassword\" value=\"$prop.sdncRestApi.thirdpartySdnc.password\"/>\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"delete\"/>\n<parameter name=\"responsePrefix\" value=\"restapi-result\"/>",
    "comments":"",
    "outputs":1,
    "x":1597.166893005371,
    "y":753.1821823120117,
    "z":"9ab19238.7f97c",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"bfd64fe6.4f39a",
    "type":"record",
    "name":"record",
    "xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/svclogic.log\"/>\n<parameter name=\"Time\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"Method\" value=\"network-topology-operation-deactivate\"/>\n<parameter name=\"SubMethod\" value=\"l3-dci-connects\"/>\n<parameter name=\"L3DciConnectsId\" value=\"`$l3-dci-connects.id`\"/>\n",
    "comments":"",
    "outputs":1,
    "x":768.6666641235352,
    "y":435.66668128967285,
    "z":"9ab19238.7f97c",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"8272f07a.82cd4",
    "type":"set",
    "name":"set tunnelType",
    "xml":"<set>\n<parameter name='prop.dci-connects.tunnelType' value=\"`$tmp.aai.dci-connects.dci-connects.serviceType`\" />\n",
    "comments":"",
    "x":1270.666748046875,
    "y":267.1823501586914,
    "z":"9ab19238.7f97c",
    "wires":[

    ]
  },
  {
    "id":"14b65360.0375bd",
    "type":"for",
    "name":"for each network-input-parameters",
    "xml":"<for index='idx' start='0' end='`$network-topology-operation-input.network-request-input.network-input-parameters.param_length`' >\n\n",
    "comments":"",
    "outputs":1,
    "x":820.6666641235352,
    "y":187.1822910308838,
    "z":"9ab19238.7f97c",
    "wires":[
      [
        "738e623f.dbe9ec"
      ]
    ]
  },
  {
    "id":"738e623f.dbe9ec",
    "type":"switchNode",
    "name":"switch id",
    "xml":"<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'site1_id'`\">\n",
    "comments":"",
    "outputs":1,
    "x":1075.166763305664,
    "y":188.18230056762695,
    "z":"9ab19238.7f97c",
    "wires":[
      [
        "2e92d498.b7caac"
      ]
    ]
  },
  {
    "id":"2e92d498.b7caac",
    "type":"outcomeTrue",
    "name":"true",
    "xml":"<outcome value='true'>\n",
    "comments":"",
    "outputs":1,
    "x":1277.1668891906738,
    "y":187.18231582641602,
    "z":"9ab19238.7f97c",
    "wires":[
      [
        "d2aa582f.5bc8e8"
      ]
    ]
  },
  {
    "id":"d2aa582f.5bc8e8",
    "type":"set",
    "name":"set id",
    "xml":"<set>\n<parameter name='prop.dci-connects.id' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments":"",
    "x":1458.8332710266113,
    "y":185.8488655090332,
    "z":"9ab19238.7f97c",
    "wires":[

    ]
  }
]