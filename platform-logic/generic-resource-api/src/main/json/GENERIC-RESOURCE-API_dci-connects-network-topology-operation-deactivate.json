[
  {
    "id":"eeae4316.cdec",
    "type":"dgstart",
    "name":"DGSTART",
    "outputs":1,
    "x":115.515625,
    "y":122.99999809265137,
    "z":"2933569e.30217a",
    "wires":[
      [
        "7ad6aab3.a56c94"
      ]
    ]
  },
  {
    "id":"7ad6aab3.a56c94",
    "type":"service-logic",
    "name":"GENERIC-RESOURCE-API ${project.version}",
    "module":"GENERIC-RESOURCE-API",
    "version":"${project.version}",
    "comments":"",
    "xml":"<service-logic xmlns='http://www.openecomp.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.openecomp.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
    "outputs":1,
    "x":376.515625,
    "y":193.99999809265137,
    "z":"2933569e.30217a",
    "wires":[
      [
        "bd801194.dff35"
      ]
    ]
  },
  {
    "id":"bd801194.dff35",
    "type":"method",
    "name":"method network-topology-operation-deactivate",
    "xml":"<method rpc='network-topology-operation-deactivate' mode='sync'>\n",
    "comments":"",
    "outputs":1,
    "x":266.515625,
    "y":278.99999809265137,
    "z":"2933569e.30217a",
    "wires":[
      [
        "8b1d6765.c218b8"
      ]
    ]
  },
  {
    "id":"8b1d6765.c218b8",
    "type":"block",
    "name":"block : atomic",
    "xml":"<block atomic=\"true\">",
    "atomic":"true",
    "outputs":1,
    "x":565.515625,
    "y":272.99999809265137,
    "z":"2933569e.30217a",
    "wires":[
      [
        "85df938d.13ecb",
        "b2094172.75092",
        "13babe31.b69a72",
        "f439b4ae.e8d898",
        "4f2b1067.595de",
        "8fe14514.6a6bc8"
      ]
    ]
  },
  {
    "id":"85df938d.13ecb",
    "type":"call",
    "name":"call GENERIC-RESOURCE-API:validate-network-input-parameters",
    "xml":"<call module='GENERIC-RESOURCE-API' rpc='validate-network-input-parameters' mode='sync' >\n",
    "comments":"",
    "outputs":1,
    "x":936.515625,
    "y":147.99999809265137,
    "z":"2933569e.30217a",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"b2094172.75092",
    "type":"returnSuccess",
    "name":"return success",
    "xml":"<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
    "comments":"",
    "x":802.5156021118164,
    "y":926.9999713897705,
    "z":"2933569e.30217a",
    "wires":[

    ]
  },
  {
    "id":"13babe31.b69a72",
    "type":"get-resource",
    "name":"get-resource l3-dci-connects",
    "xml":"<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"dci-connects\" \n\t\tkey=\"dci-connects.id AND depth = '1'\"\n        pfx='tmp.aai.dci-connects' local-only='false' >\n",
    "comments":"",
    "outputs":1,
    "x":842.5156097412109,
    "y":394.99998688697815,
    "z":"2933569e.30217a",
    "wires":[
      [
        "ff781717.68c208",
        "9a6836ab.43f888",
        "a0abee05.64d97"
      ]
    ]
  },
  {
    "id":"ff781717.68c208",
    "type":"success",
    "name":"success",
    "xml":"<outcome value='success'>\n",
    "comments":"",
    "outputs":1,
    "x":1091.515609741211,
    "y":358.99998688697815,
    "z":"2933569e.30217a",
    "wires":[
      [
        "5e87a4a5.a7530c"
      ]
    ]
  },
  {
    "id":"9a6836ab.43f888",
    "type":"not-found",
    "name":"not-found",
    "xml":"<outcome value='not-found'>\n",
    "comments":"",
    "outputs":1,
    "x":1098.515609741211,
    "y":396.99998688697815,
    "z":"2933569e.30217a",
    "wires":[
      [
        "5ebdd537.9ec61c"
      ]
    ]
  },
  {
    "id":"a0abee05.64d97",
    "type":"other",
    "name":"other",
    "xml":"<outcome value='Other'>\n",
    "comments":"",
    "outputs":1,
    "x":1090.515609741211,
    "y":438.99998688697815,
    "z":"2933569e.30217a",
    "wires":[
      [
        "50c37e9e.947eb"
      ]
    ]
  },
  {
    "id":"5ebdd537.9ec61c",
    "type":"returnFailure",
    "name":"return failure",
    "xml":"<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
    "comments":"",
    "x":1255.515609741211,
    "y":400.99998688697815,
    "z":"2933569e.30217a",
    "wires":[

    ]
  },
  {
    "id":"50c37e9e.947eb",
    "type":"returnFailure",
    "name":"return failure",
    "xml":"<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
    "comments":"",
    "x":1248.515609741211,
    "y":447.99998688697815,
    "z":"2933569e.30217a",
    "wires":[

    ]
  },
  {
    "id":"f439b4ae.e8d898",
    "type":"block",
    "name":"block : sendRequest",
    "xml":"<block atomic=\"true\">",
    "atomic":"true",
    "comments":"",
    "outputs":1,
    "x":804.015625,
    "y":694.515625,
    "z":"2933569e.30217a",
    "wires":[
      [
        "8b5b23cb.a33ca",
        "f4a22786.a36188",
        "c94f0b3c.ea6228"
      ]
    ]
  },
  {
    "id":"1b157d61.6e8663",
    "type":"success",
    "name":"success",
    "xml":"<outcome value='success'>\n",
    "comments":"",
    "outputs":1,
    "x":1297.5153923034668,
    "y":546.5151443481445,
    "z":"2933569e.30217a",
    "wires":[
      [
        "1b1e8622.49dc9a"
      ]
    ]
  },
  {
    "id":"96522a7e.300418",
    "type":"not-found",
    "name":"not-found",
    "xml":"<outcome value='not-found'>\n",
    "comments":"",
    "outputs":1,
    "x":1304.5153923034668,
    "y":584.5151443481445,
    "z":"2933569e.30217a",
    "wires":[
      [
        "656e7a99.f99cc4"
      ]
    ]
  },
  {
    "id":"a258e00f.28592",
    "type":"other",
    "name":"other",
    "xml":"<outcome value='Other'>\n",
    "comments":"",
    "outputs":1,
    "x":1296.5153923034668,
    "y":626.5151443481445,
    "z":"2933569e.30217a",
    "wires":[
      [
        "d5ca22dc.f5439"
      ]
    ]
  },
  {
    "id":"1b1e8622.49dc9a",
    "type":"block",
    "name":"block : atomic",
    "xml":"<block atomic=\"true\">\n",
    "atomic":"false",
    "comments":"",
    "outputs":1,
    "x":1462.5153923034668,
    "y":535.5151443481445,
    "z":"2933569e.30217a",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"656e7a99.f99cc4",
    "type":"returnFailure",
    "name":"return failure",
    "xml":"<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
    "comments":"",
    "x":1461.5153923034668,
    "y":588.5151443481445,
    "z":"2933569e.30217a",
    "wires":[

    ]
  },
  {
    "id":"d5ca22dc.f5439",
    "type":"returnFailure",
    "name":"return failure",
    "xml":"<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
    "comments":"",
    "x":1454.5153923034668,
    "y":635.5151443481445,
    "z":"2933569e.30217a",
    "wires":[

    ]
  },
  {
    "id":"8b5b23cb.a33ca",
    "type":"get-resource",
    "name":"get-resource dci-connects",
    "xml":"<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $prop.dci-connects.id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.esr-thirdparty-sdnc' local-only='false' >\n",
    "comments":"",
    "outputs":1,
    "x":1109.5155143737793,
    "y":593.5151634216309,
    "z":"2933569e.30217a",
    "wires":[
      [
        "1b157d61.6e8663",
        "96522a7e.300418",
        "a258e00f.28592"
      ]
    ]
  },
  {
    "id":"f4a22786.a36188",
    "type":"set",
    "name":"set controller data",
    "xml":"<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.url' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list[0].esr-system-info.serviceUrl`\" />\n<parameter name='prop.sdncRestApi.templateDir' value='/opt/onap/sdnc/data' />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.user' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list[0].esr-system-info.user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.password' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list[0].esr-system-info.password`\" />\n\n",
    "comments":"",
    "x":1081.015365600586,
    "y":695.0151176452637,
    "z":"2933569e.30217a",
    "wires":[

    ]
  },
  {
    "id":"3f552595.383f8a",
    "type":"execute",
    "name":"execute RestApiCallNode Activate Vxlan Tunnel",
    "xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"$prop.sdncRestApi.thirdpartySdnc.url + '/v2.0/l3-dci-connects/' + $prop.l3-dci-connects.id\"/>\n<parameter name=\"restapiUser\" value=\"$prop.sdncRestApi.thirdpartySdnc.user\"/>\n<parameter name=\"restapiPassword\" value=\"$prop.sdncRestApi.thirdpartySdnc.password\"/>\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"delete\"/>\n<parameter name=\"responsePrefix\" value=\"restapi-result\"/>\n",
    "comments":"",
    "outputs":1,
    "x":1612.0158996582031,
    "y":757.5155801773071,
    "z":"2933569e.30217a",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"c94f0b3c.ea6228",
    "type":"switchNode",
    "name":"switch tunnelType",
    "xml":"<switch test=\"`$prop.dci-connects.tunnelType`\">\n",
    "comments":"",
    "outputs":1,
    "x":1075.0153579711914,
    "y":782.0150909423828,
    "z":"2933569e.30217a",
    "wires":[
      [
        "914d6e77.2cf0c",
        "3cebe90a.101a76"
      ]
    ]
  },
  {
    "id":"914d6e77.2cf0c",
    "type":"outcomeTrue",
    "name":"L3-DCI",
    "xml":"<outcome value='L3-DCI'>\n",
    "comments":"",
    "outputs":1,
    "x":1288.0154876708984,
    "y":762.0150909423828,
    "z":"2933569e.30217a",
    "wires":[
      [
        "3f552595.383f8a"
      ]
    ]
  },
  {
    "id":"3cebe90a.101a76",
    "type":"outcomeTrue",
    "name":"L2-DCI",
    "xml":"<outcome value='L2-DCI'>\n",
    "comments":"",
    "outputs":1,
    "x":1286.015308380127,
    "y":834.0150909423828,
    "z":"2933569e.30217a",
    "wires":[
      [
        "b5ca32ee.3260d"
      ]
    ]
  },
  {
    "id":"b5ca32ee.3260d",
    "type":"execute",
    "name":"execute RestApiCallNode Activate Vxlan Tunnel",
    "xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"$prop.sdncRestApi.thirdpartySdnc.url + '/v2.0/l2-dci-connects/' + $prop.l2-dci-connects.id\"/>\n<parameter name=\"restapiUser\" value=\"$prop.sdncRestApi.thirdpartySdnc.user\"/>\n<parameter name=\"restapiPassword\" value=\"$prop.sdncRestApi.thirdpartySdnc.password\"/>\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"delete\"/>\n<parameter name=\"responsePrefix\" value=\"restapi-result\"/>",
    "comments":"",
    "outputs":1,
    "x":1606.015853881836,
    "y":834.5155162811279,
    "z":"2933569e.30217a",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"4f2b1067.595de",
    "type":"record",
    "name":"record",
    "xml":"<record plugin=\"org.openecomp.sdnc.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/svclogic.log\"/>\n<parameter name=\"Time\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"Method\" value=\"network-topology-operation-deactivate\"/>\n<parameter name=\"SubMethod\" value=\"l3-dci-connects\"/>\n<parameter name=\"L3DciConnectsId\" value=\"`$l3-dci-connects.id`\"/>\n",
    "comments":"",
    "outputs":1,
    "x":777.515625,
    "y":517.0000152587891,
    "z":"2933569e.30217a",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"5e87a4a5.a7530c",
    "type":"set",
    "name":"set tunnelType",
    "xml":"<set>\n<parameter name='prop.dci-connects.tunnelType' value=\"`$tmp.aai.dci-connects.dci-connects.serviceType`\" />\n",
    "comments":"",
    "x":1279.5157089233398,
    "y":348.5156841278076,
    "z":"2933569e.30217a",
    "wires":[

    ]
  },
  {
    "id":"8fe14514.6a6bc8",
    "type":"for",
    "name":"for each network-input-parameters",
    "xml":"<for index='idx' start='0' end='`$network-topology-operation-input.network-request-input.network-input-parameters.param_length`' >\n\n",
    "comments":"",
    "outputs":1,
    "x":829.515625,
    "y":268.515625,
    "z":"2933569e.30217a",
    "wires":[
      [
        "9bafb819.fdc5e8"
      ]
    ]
  },
  {
    "id":"9bafb819.fdc5e8",
    "type":"switchNode",
    "name":"switch id",
    "xml":"<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'site1_id'`\">\n",
    "comments":"",
    "outputs":1,
    "x":1084.015724182129,
    "y":269.51563453674316,
    "z":"2933569e.30217a",
    "wires":[
      [
        "773bba4f.547604"
      ]
    ]
  },
  {
    "id":"773bba4f.547604",
    "type":"outcomeTrue",
    "name":"true",
    "xml":"<outcome value='true'>\n",
    "comments":"",
    "outputs":1,
    "x":1286.0158500671387,
    "y":268.5156497955322,
    "z":"2933569e.30217a",
    "wires":[
      [
        "f4c8640f.9553e8"
      ]
    ]
  },
  {
    "id":"f4c8640f.9553e8",
    "type":"set",
    "name":"set id",
    "xml":"<set>\n<parameter name='prop.dci-connects.id' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments":"",
    "x":1467.6822319030762,
    "y":267.1821994781494,
    "z":"2933569e.30217a",
    "wires":[

    ]
  }
]