[  
   {  
      "id":"b4ab3cc5.98a8",
      "type":"dgstart",
      "name":"DGSTART",
      "outputs":1,
      "x":77,
      "y":35,
      "z":"4954cd5d.30ecf4",
      "wires":[  
         [  
            "e6efa6d3.e15398"
         ]
      ]
   },
   {  
      "id":"e6efa6d3.e15398",
      "type":"service-logic",
      "name":"GENERIC-RESOURCE-API ${project.version}",
      "module":"GENERIC-RESOURCE-API",
      "version":"${project.version}",
      "comments":"",
      "xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
      "outputs":1,
      "x":338,
      "y":106,
      "z":"4954cd5d.30ecf4",
      "wires":[  
         [  
            "55bb413f.73fa7"
         ]
      ]
   },
   {  
      "id":"55bb413f.73fa7",
      "type":"method",
      "name":"method network-topology-operation-deactivate",
      "xml":"<method rpc='network-topology-operation-deactivate' mode='sync'>\n",
      "comments":"",
      "outputs":1,
      "x":228,
      "y":191,
      "z":"4954cd5d.30ecf4",
      "wires":[  
         [  
            "750ee4c.8fdd21c"
         ]
      ]
   },
   {  
      "id":"750ee4c.8fdd21c",
      "type":"block",
      "name":"block : atomic",
      "xml":"<block atomic=\"true\">",
      "atomic":"true",
      "outputs":1,
      "x":527,
      "y":185,
      "z":"4954cd5d.30ecf4",
      "wires":[  
         [  
            "ea6f8a69.5601e8",
            "2f344129.2fe78e",
            "33c821d9.b212fe",
            "15fa4d45.d0b353",
            "7e978ea8.0c5a1",
            "a04a290c.948ab8"
         ]
      ]
   },
   {  
      "id":"ea6f8a69.5601e8",
      "type":"call",
      "name":"call GENERIC-RESOURCE-API:validate-network-input-parameters",
      "xml":"<call module='GENERIC-RESOURCE-API' rpc='validate-network-input-parameters' mode='sync' >\n",
      "comments":"",
      "outputs":1,
      "x":898,
      "y":60,
      "z":"4954cd5d.30ecf4",
      "wires":[  
         [  

         ]
      ]
   },
   {  
      "id":"2f344129.2fe78e",
      "type":"returnSuccess",
      "name":"return success",
      "xml":"<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
      "comments":"",
      "x":763.9999771118164,
      "y":838.9999732971191,
      "z":"4954cd5d.30ecf4",
      "wires":[  

      ]
   },
   {  
      "id":"33c821d9.b212fe",
      "type":"get-resource",
      "name":"get-resource dci-connects",
      "xml":"<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"dci-connects\" \n\t\tkey=\"dci-connects.id AND depth = '1'\"\n        pfx='tmp.aai.dci-connects' local-only='false' >\n",
      "comments":"",
      "outputs":1,
      "x":803.9999847412109,
      "y":306.9999887943268,
      "z":"4954cd5d.30ecf4",
      "wires":[  
         [  
            "bcbac350.046e5",
            "bcb8c268.c1efd",
            "95a7f0ae.33df5"
         ]
      ]
   },
   {  
      "id":"bcbac350.046e5",
      "type":"success",
      "name":"success",
      "xml":"<outcome value='success'>\n",
      "comments":"",
      "outputs":1,
      "x":1052.999984741211,
      "y":270.9999887943268,
      "z":"4954cd5d.30ecf4",
      "wires":[  
         [  
            "9441b536.e2c908"
         ]
      ]
   },
   {  
      "id":"bcb8c268.c1efd",
      "type":"not-found",
      "name":"not-found",
      "xml":"<outcome value='not-found'>\n",
      "comments":"",
      "outputs":1,
      "x":1059.999984741211,
      "y":308.9999887943268,
      "z":"4954cd5d.30ecf4",
      "wires":[  
         [  
            "22635f7c.d7e7a"
         ]
      ]
   },
   {  
      "id":"95a7f0ae.33df5",
      "type":"other",
      "name":"other",
      "xml":"<outcome value='Other'>\n",
      "comments":"",
      "outputs":1,
      "x":1051.999984741211,
      "y":350.9999887943268,
      "z":"4954cd5d.30ecf4",
      "wires":[  
         [  
            "a0aae260.9c5c2"
         ]
      ]
   },
   {  
      "id":"22635f7c.d7e7a",
      "type":"returnFailure",
      "name":"return failure",
      "xml":"<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
      "comments":"",
      "x":1216.999984741211,
      "y":312.9999887943268,
      "z":"4954cd5d.30ecf4",
      "wires":[  

      ]
   },
   {  
      "id":"a0aae260.9c5c2",
      "type":"returnFailure",
      "name":"return failure",
      "xml":"<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
      "comments":"",
      "x":1209.999984741211,
      "y":359.9999887943268,
      "z":"4954cd5d.30ecf4",
      "wires":[  

      ]
   },
   {  
      "id":"15fa4d45.d0b353",
      "type":"block",
      "name":"block : sendRequest",
      "xml":"<block atomic=\"true\">",
      "atomic":"true",
      "comments":"",
      "outputs":1,
      "x":765.5,
      "y":606.5156269073486,
      "z":"4954cd5d.30ecf4",
      "wires":[  
         [  
            "e1e92378.2c99d",
            "673c8079.171c7",
            "5c11d741.ea97f8"
         ]
      ]
   },
   {  
      "id":"c5be9b53.183ee8",
      "type":"success",
      "name":"success",
      "xml":"<outcome value='success'>\n",
      "comments":"",
      "outputs":1,
      "x":1258.9997673034668,
      "y":458.51514625549316,
      "z":"4954cd5d.30ecf4",
      "wires":[  
         [  
            "c033d341.3f6dc"
         ]
      ]
   },
   {  
      "id":"dcc81047.e0f45",
      "type":"not-found",
      "name":"not-found",
      "xml":"<outcome value='not-found'>\n",
      "comments":"",
      "outputs":1,
      "x":1265.9997673034668,
      "y":496.51514625549316,
      "z":"4954cd5d.30ecf4",
      "wires":[  
         [  
            "a86ff2ba.5ed55"
         ]
      ]
   },
   {  
      "id":"38f7300e.03a3f",
      "type":"other",
      "name":"other",
      "xml":"<outcome value='Other'>\n",
      "comments":"",
      "outputs":1,
      "x":1257.9997673034668,
      "y":538.5151462554932,
      "z":"4954cd5d.30ecf4",
      "wires":[  
         [  
            "d2f0ad9e.7cf8d"
         ]
      ]
   },
   {  
      "id":"c033d341.3f6dc",
      "type":"block",
      "name":"block : atomic",
      "xml":"<block atomic=\"true\">\n",
      "atomic":"false",
      "comments":"",
      "outputs":1,
      "x":1423.9997673034668,
      "y":447.51514625549316,
      "z":"4954cd5d.30ecf4",
      "wires":[  
         [  

         ]
      ]
   },
   {  
      "id":"a86ff2ba.5ed55",
      "type":"returnFailure",
      "name":"return failure",
      "xml":"<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
      "comments":"",
      "x":1422.9997673034668,
      "y":500.51514625549316,
      "z":"4954cd5d.30ecf4",
      "wires":[  

      ]
   },
   {  
      "id":"d2f0ad9e.7cf8d",
      "type":"returnFailure",
      "name":"return failure",
      "xml":"<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
      "comments":"",
      "x":1415.9997673034668,
      "y":547.5151462554932,
      "z":"4954cd5d.30ecf4",
      "wires":[  

      ]
   },
   {  
      "id":"e1e92378.2c99d",
      "type":"get-resource",
      "name":"get-resource dci-connects",
      "xml":"<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $prop.dci-connects.id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.esr-thirdparty-sdnc' local-only='false' >\n",
      "comments":"",
      "outputs":1,
      "x":1070.9998893737793,
      "y":505.5151653289795,
      "z":"4954cd5d.30ecf4",
      "wires":[  
         [  
            "c5be9b53.183ee8",
            "dcc81047.e0f45",
            "38f7300e.03a3f"
         ]
      ]
   },
   {  
      "id":"673c8079.171c7",
      "type":"set",
      "name":"set controller data",
      "xml":"<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.url' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list[0].esr-system-info.serviceUrl`\" />\n<parameter name='prop.sdncRestApi.templateDir' value='/opt/onap/sdnc/data' />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.user' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list[0].esr-system-info.user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.password' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list[0].esr-system-info.password`\" />\n\n",
      "comments":"",
      "x":1042.499740600586,
      "y":607.0151195526123,
      "z":"4954cd5d.30ecf4",
      "wires":[  

      ]
   },
   {  
      "id":"2589b144.7be4de",
      "type":"execute",
      "name":"execute RestApiCallNode De-Activate Vxlan Tunnel",
      "xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"$prop.sdncRestApi.thirdpartySdnc.url + '/v2.0/l3-dci-connects/' + $prop.dci-connects.id\"/>\n<parameter name=\"restapiUser\" value=\"$prop.sdncRestApi.thirdpartySdnc.user\"/>\n<parameter name=\"restapiPassword\" value=\"$prop.sdncRestApi.thirdpartySdnc.password\"/>\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"delete\"/>\n<parameter name=\"responsePrefix\" value=\"restapi-result\"/>\n",
      "comments":"",
      "outputs":1,
      "x":1573.5002746582031,
      "y":669.5155820846558,
      "z":"4954cd5d.30ecf4",
      "wires":[  
         [  

         ]
      ]
   },
   {  
      "id":"5c11d741.ea97f8",
      "type":"switchNode",
      "name":"switch tunnelType",
      "xml":"<switch test=\"`$prop.dci-connects.tunnelType`\">\n",
      "comments":"",
      "outputs":1,
      "x":1036.4997329711914,
      "y":694.0150928497314,
      "z":"4954cd5d.30ecf4",
      "wires":[  
         [  
            "6492045a.52a02c",
            "647c96d8.6f1708"
         ]
      ]
   },
   {  
      "id":"6492045a.52a02c",
      "type":"outcomeTrue",
      "name":"L3-DCI",
      "xml":"<outcome value='L3-DCI'>\n",
      "comments":"",
      "outputs":1,
      "x":1249.4998626708984,
      "y":674.0150928497314,
      "z":"4954cd5d.30ecf4",
      "wires":[  
         [  
            "2589b144.7be4de"
         ]
      ]
   },
   {  
      "id":"647c96d8.6f1708",
      "type":"outcomeTrue",
      "name":"L2-DCI",
      "xml":"<outcome value='L2-DCI'>\n",
      "comments":"",
      "outputs":1,
      "x":1247.499683380127,
      "y":746.0150928497314,
      "z":"4954cd5d.30ecf4",
      "wires":[  
         [  
            "4fb66e63.84804"
         ]
      ]
   },
   {  
      "id":"4fb66e63.84804",
      "type":"execute",
      "name":"execute RestApiCallNode De-Activate Vxlan Tunnel",
      "xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"$prop.sdncRestApi.thirdpartySdnc.url + '/v2.0/l2-dci-connects/' + $prop.dci-connects.id\"/>\n<parameter name=\"restapiUser\" value=\"$prop.sdncRestApi.thirdpartySdnc.user\"/>\n<parameter name=\"restapiPassword\" value=\"$prop.sdncRestApi.thirdpartySdnc.password\"/>\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"delete\"/>\n<parameter name=\"responsePrefix\" value=\"restapi-result\"/>",
      "comments":"",
      "outputs":1,
      "x":1567.500228881836,
      "y":746.5155181884766,
      "z":"4954cd5d.30ecf4",
      "wires":[  
         [  

         ]
      ]
   },
   {  
      "id":"7e978ea8.0c5a1",
      "type":"record",
      "name":"record",
      "xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"network-topology-operation-deactivate\"/>\n<parameter name=\"field3\" value=\"dci-connects.id\" />\n<parameter name=\"field4\" value=\"`$prop.dci-connects.id`\"/>\n<parameter name=\"field5\" value=\"dci-connects.tunnelType\" />\n<parameter name=\"field6\" value=\"`$prop.dci-connects.tunnelType`\"/>",
      "comments":"",
      "outputs":1,
      "x":739,
      "y":429.0000171661377,
      "z":"4954cd5d.30ecf4",
      "wires":[  
         [  

         ]
      ]
   },
   {  
      "id":"9441b536.e2c908",
      "type":"set",
      "name":"set tunnelType",
      "xml":"<set>\n<parameter name='prop.dci-connects.tunnelType' value=\"`$tmp.aai.dci-connects.dci-connects.serviceType`\" />\n",
      "comments":"",
      "x":1241.0000839233398,
      "y":260.51568603515625,
      "z":"4954cd5d.30ecf4",
      "wires":[  

      ]
   },
   {  
      "id":"a04a290c.948ab8",
      "type":"for",
      "name":"for each network-input-parameters",
      "xml":"<for index='idx' start='0' end='`$network-topology-operation-input.network-request-input.network-input-parameters.param_length`' >\n\n",
      "comments":"",
      "outputs":1,
      "x":791,
      "y":180.51562690734863,
      "z":"4954cd5d.30ecf4",
      "wires":[  
         [  
            "ecdadcb9.f534b"
         ]
      ]
   },
   {  
      "id":"ecdadcb9.f534b",
      "type":"switchNode",
      "name":"switch id",
      "xml":"<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'site1_id'`\">\n",
      "comments":"",
      "outputs":1,
      "x":1045.500099182129,
      "y":181.5156364440918,
      "z":"4954cd5d.30ecf4",
      "wires":[  
         [  
            "6f6c6213.b682dc"
         ]
      ]
   },
   {  
      "id":"6f6c6213.b682dc",
      "type":"outcomeTrue",
      "name":"true",
      "xml":"<outcome value='true'>\n",
      "comments":"",
      "outputs":1,
      "x":1247.5002250671387,
      "y":180.51565170288086,
      "z":"4954cd5d.30ecf4",
      "wires":[  
         [  
            "9c537412.9158a8"
         ]
      ]
   },
   {  
      "id":"9c537412.9158a8",
      "type":"set",
      "name":"set id",
      "xml":"<set>\n<parameter name='prop.dci-connects.id' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
      "comments":"",
      "x":1429.1666069030762,
      "y":179.18220138549805,
      "z":"4954cd5d.30ecf4",
      "wires":[  

      ]
   }
]