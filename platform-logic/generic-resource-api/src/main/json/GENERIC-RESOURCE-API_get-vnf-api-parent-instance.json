[{"id":"7b3f7465.e880f4","type":"for","name":"for tmp.vnfs","xml":"<for index='vnfidx' start='0' end='`$tmp.vnfdata.vnfs.vnf-list_length`' >\n\n\n","comments":"","outputs":1,"x":458,"y":414.3333616256714,"z":"93aea807.147f78","wires":[["29eb104d.f31d5"]]},{"id":"dd7bb1e4.e5866","type":"dgstart","name":"DGSTART","outputs":1,"x":88.6667251586914,"y":147,"z":"93aea807.147f78","wires":[["6368cf0a.1d92c"]]},{"id":"6368cf0a.1d92c","type":"service-logic","name":"GENERIC-RESOURCE-API 1.2.0-SNAPAHOT-111501","module":"GENERIC-RESOURCE-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>","outputs":1,"x":239.90480422973633,"y":214.95239067077637,"z":"93aea807.147f78","wires":[["bbb8a0c5.75f9a"]]},{"id":"bbb8a0c5.75f9a","type":"method","name":"get-vnf-api-parent-instance","xml":"<method rpc='get-vnf-api-parent-instance' mode='sync'>\n","comments":"","outputs":1,"x":293.82157135009766,"y":274.19044494628906,"z":"93aea807.147f78","wires":[["d1709f70.65eec"]]},{"id":"d1709f70.65eec","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":194.14291763305664,"y":393.5237879753113,"z":"93aea807.147f78","wires":[["31f9d6b7.1788a2","7b3f7465.e880f4"]]},{"id":"31f9d6b7.1788a2","type":"get-resource","name":"get-resource vnf-api vnfs","xml":"<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.mdsal.ConfigResource' resource='VNF-API' key='vnfs' pfx='tmp.vnfdata' >\n","comments":"","outputs":1,"x":503.0000534057617,"y":353.9999952316284,"z":"93aea807.147f78","wires":[[]]},{"id":"29eb104d.f31d5","type":"switchNode","name":"switch parent-service-instance-id matches","xml":"<switch test='`$tmp.vnfdata.vnfs.vnf-list[$vnfidx].service-data.service-information.service-instance-id == $tmp.search.parent-service-instance-id`'>\n\n\n","comments":"","outputs":1,"x":731.0000534057617,"y":416.6666841506958,"z":"93aea807.147f78","wires":[["f0d1c2c9.5e6df8"]]},{"id":"5d04a6e8.82fb5","type":"get-resource","name":"get-resource parent service instance","xml":"<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.mdsal.ConfigResource' resource='VNF-API' key='vnfs/vnf-list/$tmp.vnfdata.vnfs.vnf-list[$vnfidx].service-data.vnf-id/service-data/' pfx='parent-service-instance' >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t","comments":"","outputs":1,"x":1232.3333740234375,"y":391.6666851043701,"z":"93aea807.147f78","wires":[["dad950e8.616f28"]]},{"id":"dad950e8.616f28","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1457.6667232513428,"y":391.33336639404297,"z":"93aea807.147f78","wires":[["f911a350.f3712"]]},{"id":"f0d1c2c9.5e6df8","type":"success","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":970.0000762939453,"y":307.6666946411133,"z":"93aea807.147f78","wires":[["88ae32d5.c2278"]]},{"id":"88ae32d5.c2278","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1003.0001220703125,"y":394.6667003631592,"z":"93aea807.147f78","wires":[["fa7cb6ab.02de7","5d04a6e8.82fb5"]]},{"id":"fa7cb6ab.02de7","type":"set","name":"set  tmp.old-service-data.vnf-id","xml":"<set>\n<parameter name='tmp.old-service-data.vnf-id' value='`$tmp.vnfdata.vnfs.vnf-list[$vnfidx].service-data.vnf-id`' />\n","comments":"","x":1222.0000915527344,"y":298.00003814697266,"z":"93aea807.147f78","wires":[]},{"id":"f911a350.f3712","type":"returnFailure","name":"return failure - parent service instance not found","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" \n    value=\"`'No entry found for parent service instance id ' + $tmp.ar.parent-service-instance-id + '.'`\" />\n","comments":"","x":1726.6666946411133,"y":383.6666564941406,"z":"93aea807.147f78","wires":[]}]
