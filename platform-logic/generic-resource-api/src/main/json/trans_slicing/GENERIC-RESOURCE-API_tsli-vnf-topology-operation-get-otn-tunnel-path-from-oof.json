[
    {
        "id": "fa52a170.206e7",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 178,
        "y": 101,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "2c5db495.a5dd34"
            ]
        ]
    },
    {
        "id": "2c5db495.a5dd34",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 303,
        "y": 427.00001525878906,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "4ae6db6f.435c7c"
            ]
        ]
    },
    {
        "id": "4ae6db6f.435c7c",
        "type": "method",
        "name": "tsli-vnf-topology-operation-get-otn-tunnel-path-from-oof",
        "xml": "<method rpc='tsli-vnf-topology-operation-get-otn-tunnel-path-from-oof' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 367.0001220703125,
        "y": 520,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "6312c3c3.704cf4"
            ]
        ]
    },
    {
        "id": "6bdd3c50.e0d3d4",
        "type": "execute",
        "name": "execute RestApiCallNode getPath from OOF",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.oof-getpath.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.restapi.connection-oof-url + '?ethsrvType=' + $prop.ethsrvType`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.oof.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.oof.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"otn-oof\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 849.9730834960938,
        "y": 178.99600219726562,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "7939df96.b1122",
                "945597b.d7df068"
            ]
        ]
    },
    {
        "id": "7939df96.b1122",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1089.9732246398926,
        "y": 202.9959716796875,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "50ded459.a3ce3c"
            ]
        ]
    },
    {
        "id": "b5aef0e7.4cc018",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing OOF api\" />\n",
        "comments": "",
        "x": 1259.97314453125,
        "y": 142.99606323242188,
        "z": "97fec48c.8eada",
        "wires": []
    },
    {
        "id": "945597b.d7df068",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1088.9730110168457,
        "y": 151.99606227874756,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "b5aef0e7.4cc018"
            ]
        ]
    },
    {
        "id": "e01d4a36.839a2",
        "type": "comment",
        "name": "OTN tunnel path computation",
        "info": "TODO: check input parameters -- they should be\nthe source and destination of ETH node+tp.",
        "comments": "",
        "x": 821.4768829345703,
        "y": 135.00000190734863,
        "z": "97fec48c.8eada",
        "wires": []
    },
    {
        "id": "9cfd026a.5e4728",
        "type": "for",
        "name": "for vidx..otn-oof.solutions_length[]",
        "xml": "<for index='vidx' start='0' end='`$otn-oof.solutions_length`' >",
        "comments": "",
        "outputs": 1,
        "x": 840.972900390625,
        "y": 488.2457275390625,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "8402c7cf.20d6c"
            ]
        ]
    },
    {
        "id": "e807132a.83466",
        "type": "comment",
        "name": "Loop through OTN links",
        "info": "",
        "comments": "",
        "x": 924.4732055664062,
        "y": 567.74609375,
        "z": "97fec48c.8eada",
        "wires": []
    },
    {
        "id": "8402c7cf.20d6c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 945.5001220703125,
        "y": 679.2864990234375,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "5b85782.fa3db08",
                "2d5a2685.b40dfa",
                "20564e8a.e84492"
            ]
        ]
    },
    {
        "id": "5b85782.fa3db08",
        "type": "get-resource",
        "name": "get-resource cross-link",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"logical-link\" \n\t\tkey=\"logical-link.link-name = $otn-oof.link-name\"\n        pfx='tmp.aai.cross-link' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1202.5001220703125,
        "y": 669.2864990234375,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "d48feed1.3a38",
                "5943270e.4826e8",
                "990db839.99a8f8"
            ]
        ]
    },
    {
        "id": "990db839.99a8f8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1404.0001220703125,
        "y": 544.2864685058594,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "a9f1b4b6.1c30e8"
            ]
        ]
    },
    {
        "id": "d48feed1.3a38",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1440.0001220703125,
        "y": 669.2864990234375,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "ac3b3843.658d4"
            ]
        ]
    },
    {
        "id": "5943270e.4826e8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1434.0001220703125,
        "y": 719.2864990234375,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "da410969.0b2cc"
            ]
        ]
    },
    {
        "id": "ac3b3843.658d4",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 1601.0001220703125,
        "y": 658.2864990234375,
        "z": "97fec48c.8eada",
        "wires": []
    },
    {
        "id": "da410969.0b2cc",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 1599.0001220703125,
        "y": 714.2864990234375,
        "z": "97fec48c.8eada",
        "wires": []
    },
    {
        "id": "d48fe5f1.e695e8",
        "type": "comment",
        "name": "get cross-domain-link information",
        "info": "",
        "comments": "",
        "x": 1208.5001220703125,
        "y": 618.2864990234375,
        "z": "97fec48c.8eada",
        "wires": []
    },
    {
        "id": "2d5a2685.b40dfa",
        "type": "set",
        "name": "set otn-oof.link-name and etc.",
        "xml": "<set>\n<parameter name='otn-oof.link-name' value='`$otn-oof.solutions[$vidx].link`' />\n<parameter name='otn-oof.start-node' value='`$otn-oof.solutions[$vidx].start_node`' />\n<parameter name='otn-oof.end-node' value='`$otn-oof.solutions[$vidx].end_node`' />",
        "comments": "",
        "x": 1192.0001220703125,
        "y": 572.2864990234375,
        "z": "97fec48c.8eada",
        "wires": []
    },
    {
        "id": "50ded459.a3ce3c",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1235.0002708435059,
        "y": 200.74145698547363,
        "z": "97fec48c.8eada",
        "wires": [
            []
        ]
    },
    {
        "id": "6312c3c3.704cf4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 607.9688835144043,
        "y": 446.74163722991943,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "9cfd026a.5e4728",
                "6bdd3c50.e0d3d4",
                "3d2e0b8f.457abc"
            ]
        ]
    },
    {
        "id": "2581c748.7cabd8",
        "type": "switchNode",
        "name": "test cross-domain-link role",
        "xml": "<switch test='`$tmp.aai.cross-link.link-role`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1719.5001220703125,
        "y": 544,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "22f3b1f4.9256fe"
            ]
        ]
    },
    {
        "id": "22f3b1f4.9256fe",
        "type": "outcome",
        "name": "outcome cross-domain",
        "xml": "<outcome value='cross-domain'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1955.5001220703125,
        "y": 545,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "8b1c590c.dc55d"
            ]
        ]
    },
    {
        "id": "a2b70b63.3ba9c8",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 2359.4998779296875,
        "y": 1005,
        "z": "97fec48c.8eada",
        "wires": []
    },
    {
        "id": "8b1c590c.dc55d",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2158.5001220703125,
        "y": 546,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "a2b70b63.3ba9c8",
                "4ab81af3.e377f4",
                "b2e8772a.8ac6e8",
                "a42edec8.e98fb"
            ]
        ]
    },
    {
        "id": "3bc9b9f2.81b29e",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2683.9998779296875,
        "y": 496,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "5d4d6dbf.b923ac"
            ]
        ]
    },
    {
        "id": "37303a4c.954af6",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2717,
        "y": 554,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "9e71e39b.7fa1"
            ]
        ]
    },
    {
        "id": "fd9ad854.5b33c8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2720,
        "y": 606,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "72bd806e.4e60a8"
            ]
        ]
    },
    {
        "id": "9e71e39b.7fa1",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 2902,
        "y": 558,
        "z": "97fec48c.8eada",
        "wires": []
    },
    {
        "id": "72bd806e.4e60a8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 2890,
        "y": 609,
        "z": "97fec48c.8eada",
        "wires": []
    },
    {
        "id": "a1ab74dd.259888",
        "type": "set",
        "name": "set domain A node ttp-id",
        "xml": "<set>\n<parameter name='tmp.domain-A.ttp-id' value=\"`$tmp.aai.src-tp.relationship-list.relationship[$vidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 4020.4998779296875,
        "y": 411,
        "z": "97fec48c.8eada",
        "wires": []
    },
    {
        "id": "78028b3.737cf74",
        "type": "get-resource",
        "name": "get-resource src TTP",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"tunnel-termination-point\" \n\t\tkey=\"tunnel-termination-point.ttp-id = $tmp.domain-A.ttp-id \n\t\tAND depth = '0'\"\n        pfx='tmp.aai.src-ttp' local-only='false' >\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4028.4998779296875,
        "y": 463,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "f334aa73.fafd8"
            ]
        ]
    },
    {
        "id": "f334aa73.fafd8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4234.9998779296875,
        "y": 441,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "198591da.45bba6"
            ]
        ]
    },
    {
        "id": "c586fad5.100ad",
        "type": "outcome",
        "name": "tunnel-termination-point",
        "xml": "<outcome value='tunnel-termination-point'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3572.6683349609375,
        "y": 489.48150634765625,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "8d515769.aa6f4"
            ]
        ]
    },
    {
        "id": "18757b7c.bab055",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='vidx' start='0' end='`$tmp.aai.src-tp.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3035.3826904296875,
        "y": 491.65972900390625,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "e5aaccbc.1746e"
            ]
        ]
    },
    {
        "id": "e5aaccbc.1746e",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.src-tp.relationship-list.relationship[$vidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3287.3826904296875,
        "y": 488.65972900390625,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "c586fad5.100ad"
            ]
        ]
    },
    {
        "id": "8d515769.aa6f4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3799.4998779296875,
        "y": 478,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "a1ab74dd.259888",
                "78028b3.737cf74",
                "e29873e7.48a55",
                "60eed173.f1208",
                "c69a19d0.8fe6d"
            ]
        ]
    },
    {
        "id": "4ab81af3.e377f4",
        "type": "get-resource",
        "name": "get-resource dst tp",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"p-interface\" \n\t\tkey=\"pnf.pnf-name = $tmp.dst-pnf-name\n\t\t    AND p-interface.interface-name = $tmp.cross-link.dst-ltpId\"\n        pfx='tmp.aai.dst-tp' local-only='false' >\n    \n        <!--AND depth = '0'\"-->\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2440.5,
        "y": 901,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "995af278.af1ac8",
                "c9dcb57d.818b28",
                "86496d30.4c8b08"
            ]
        ]
    },
    {
        "id": "995af278.af1ac8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2662.9998779296875,
        "y": 1043,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "298c76a3.790b2a"
            ]
        ]
    },
    {
        "id": "c9dcb57d.818b28",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2646.9998779296875,
        "y": 1094,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "e35f9b5f.fe69c8"
            ]
        ]
    },
    {
        "id": "86496d30.4c8b08",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2649.9998779296875,
        "y": 1146,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "fe485369.3b129"
            ]
        ]
    },
    {
        "id": "fe485369.3b129",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 2819.9998779296875,
        "y": 1149,
        "z": "97fec48c.8eada",
        "wires": []
    },
    {
        "id": "e35f9b5f.fe69c8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 2831.9998779296875,
        "y": 1098,
        "z": "97fec48c.8eada",
        "wires": []
    },
    {
        "id": "b29ef002.3d9bd8",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='vidx' start='0' end='`$tmp.aai.dst-tp.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3019.3826904296875,
        "y": 1053.6597290039062,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "1420228.3521e5e"
            ]
        ]
    },
    {
        "id": "1420228.3521e5e",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.dst-tp.relationship-list.relationship[$vidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3262.3826904296875,
        "y": 1052.6597290039062,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "5d8a1ce9.20e95c"
            ]
        ]
    },
    {
        "id": "50d5c6dd.fd8458",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5028.4998779296875,
        "y": 854,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "6e9eddf0.722754",
                "4df00122.6ae7d8",
                "5c18dd82.55be5c"
            ]
        ]
    },
    {
        "id": "5d8a1ce9.20e95c",
        "type": "outcome",
        "name": "tunnel-termination-point",
        "xml": "<outcome value='tunnel-termination-point'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3518.6683349609375,
        "y": 1052.4815063476562,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "431b8e7f.397f08"
            ]
        ]
    },
    {
        "id": "5d78c070.cc21d",
        "type": "outcome",
        "name": "network-resource",
        "xml": "<outcome value='network-resource'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4815.4998779296875,
        "y": 853,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "50d5c6dd.fd8458"
            ]
        ]
    },
    {
        "id": "431b8e7f.397f08",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3818.4998779296875,
        "y": 1050,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "9fe095e8.34fca",
                "9f30760a.8f0188",
                "3e68bf5c.62e23",
                "16edc927.badbff",
                "c1a0d70e.9bb548"
            ]
        ]
    },
    {
        "id": "9fe095e8.34fca",
        "type": "set",
        "name": "set domain B node ttp-id",
        "xml": "<set>\n<parameter name='tmp.domain-B.ttp-id' value=\"`$tmp.aai.dst-tp.relationship-list.relationship[$vidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 4060.4998779296875,
        "y": 1004,
        "z": "97fec48c.8eada",
        "wires": []
    },
    {
        "id": "9f30760a.8f0188",
        "type": "get-resource",
        "name": "get-resource dst TTP",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"tunnel-termination-point\" \n\t\tkey=\"tunnel-termination-point.ttp-id = $tmp.domain-B.ttp-id \n\t\tAND depth = '0'\"\n        pfx='tmp.aai.dst-ttp' local-only='false' >\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4050.4998779296875,
        "y": 1055,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "f0dbdf9f.2f9a"
            ]
        ]
    },
    {
        "id": "f0dbdf9f.2f9a",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4237.9998779296875,
        "y": 1053,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "aaf730ad.ded658"
            ]
        ]
    },
    {
        "id": "6e9eddf0.722754",
        "type": "set",
        "name": "set domain B network-id",
        "xml": "<set>\n<parameter name='tmp.domain-B.network-id' value=\"`$tmp.aai.dst-pnf.relationship-list.relationship[$mvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 5298.4998779296875,
        "y": 830,
        "z": "97fec48c.8eada",
        "wires": []
    },
    {
        "id": "4df00122.6ae7d8",
        "type": "get-resource",
        "name": "get-resource dst network-resource",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"network-resource\" \n\t\tkey=\"network-resource.network-id = $tmp.domain-B.network-id \n\t\tAND depth = '0'\"\n        pfx='tmp.aai.dst-network-resource' local-only='false' >\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 5308.4998779296875,
        "y": 876,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "6bfb2c0.fcf9cd4"
            ]
        ]
    },
    {
        "id": "6bfb2c0.fcf9cd4",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5523.9998779296875,
        "y": 867,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "46a8e7db.6247c8"
            ]
        ]
    },
    {
        "id": "46a8e7db.6247c8",
        "type": "set",
        "name": "set domain B network-id, topo-id, client-id, etc",
        "xml": "<set>\n<parameter name='domain-B.network-id' value=\"`$tmp.aai.dst-network-resource.network-id`\" />\n<parameter name='domain-B.provider-id' value=\"`$tmp.aai.dst-network-resource.provider-id`\" />\n<parameter name='domain-B.client-id' value=\"`$tmp.aai.dst-network-resource.client-id`\" />\n<parameter name='domain-B.te-topo-id' value=\"`$tmp.aai.dst-network-resource.te-topo-id`\" />\n<parameter name='domain-B.network-type' value=\"`$tmp.aai.dst-network-resource.network-type`\" />\n\n\n<parameter name='`tmp.otninfo[$vidx + 1].srcPort.src-access-network-id`' value=\"`$tmp.aai.dst-network-resource.network-id`\" />\n<parameter name='`tmp.otninfo[$vidx + 1].srcPort.src-access-provider-id`' value=\"`$tmp.aai.dst-network-resource.provider-id`\" />\n<parameter name='`tmp.otninfo[$vidx + 1].srcPort.src-access-client-id`' value=\"`$tmp.aai.dst-network-resource.client-id`\" />\n<parameter name='`tmp.otninfo[$vidx + 1].srcPort.src-access-topology-id`' value=\"`$tmp.aai.dst-network-resource.te-topo-id`\" />\n<parameter name='`tmp.otninfo[$vidx + 1].srcPort.src-access-network-type`' value=\"`$tmp.aai.dst-network-resource.network-type`\" />\n<parameter name='`tmp.otninfo_length`' value='`$vidx + 2`' />",
        "comments": "",
        "x": 5778.4998779296875,
        "y": 873,
        "z": "97fec48c.8eada",
        "wires": []
    },
    {
        "id": "5d4d6dbf.b923ac",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2817.9998779296875,
        "y": 492,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "18757b7c.bab055"
            ]
        ]
    },
    {
        "id": "298c76a3.790b2a",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2808.9998779296875,
        "y": 1034,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "b29ef002.3d9bd8"
            ]
        ]
    },
    {
        "id": "a9f1b4b6.1c30e8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1538,
        "y": 546,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "2581c748.7cabd8"
            ]
        ]
    },
    {
        "id": "b2e8772a.8ac6e8",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for index='lridx' start='0' end='`$tmp.aai.cross-link.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2392.9998779296875,
        "y": 313,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "3399a4f5.011714"
            ]
        ]
    },
    {
        "id": "3399a4f5.011714",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.cross-link.relationship-list.relationship[$lridx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2591.9998779296875,
        "y": 310,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "d2b9c322.61b4e"
            ]
        ]
    },
    {
        "id": "d2b9c322.61b4e",
        "type": "outcome",
        "name": "p-interface",
        "xml": "<outcome value='p-interface'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2769.1173095703125,
        "y": 308.34027099609375,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "daf680e0.e985f"
            ]
        ]
    },
    {
        "id": "614113e.09a2a6c",
        "type": "set",
        "name": "set src-ltpId",
        "xml": "<set>\n<parameter name='tmp.cross-link.src-ltpId' value=\"`$tmp.aai.cross-link.relationship-list.relationship[$lridx].relationship-data[1].relationship-value`\" />\n<parameter name='tmp.src-pnf-name' value=\"`$tmp.aai.cross-link.relationship-list.relationship[$lridx].relationship-data[0].relationship-value`\" />\n\n<!--<parameter name='`tmp.otninfo[$vidx].dstPort.dst-access-ltp-id`' value=\"`$tmp.aai.cross-link.relationship-list.relationship[$lridx].relationship-data[1].relationship-value`\" />-->\n<!--<parameter name='`tmp.otninfo[$vidx].dstPort.dst-access-node-id`' value=\"`$tmp.aai.cross-link.relationship-list.relationship[$lridx].relationship-data[0].relationship-value`\" />-->\n\n<!--<parameter name='`tmp.otninfo_length`' value='`$vidx + 1`' />-->\n",
        "comments": "",
        "x": 3620.9998779296875,
        "y": 222,
        "z": "97fec48c.8eada",
        "wires": []
    },
    {
        "id": "c1945a01.da39d8",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 3605.9998779296875,
        "y": 270,
        "z": "97fec48c.8eada",
        "wires": []
    },
    {
        "id": "daf680e0.e985f",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2908.9998779296875,
        "y": 293,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "56dc1543.ce88ec",
                "b07af7fc.6b63b8"
            ]
        ]
    },
    {
        "id": "198591da.45bba6",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4409.9998779296875,
        "y": 437,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "c08fd8d6.2bd66"
            ]
        ]
    },
    {
        "id": "aaf730ad.ded658",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4426.9998779296875,
        "y": 1042,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "64775e7a.bf3908"
            ]
        ]
    },
    {
        "id": "a42edec8.e98fb",
        "type": "get-resource",
        "name": "get-resource src tp",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"p-interface\" \n\t\tkey=\"pnf.pnf-name = $tmp.src-pnf-name\n\t\t    AND p-interface.interface-name = $tmp.cross-link.src-ltpId\"\n        pfx='tmp.aai.src-tp' local-only='false' >\n    \n        <!--AND depth = '0'\"-->\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2486.5,
        "y": 535,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "3bc9b9f2.81b29e",
                "37303a4c.954af6",
                "fd9ad854.5b33c8"
            ]
        ]
    },
    {
        "id": "e29873e7.48a55",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.src-pnf-name\"\n        pfx='tmp.aai.src-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3889.9998779296875,
        "y": 281,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "98eef2c3.4b1e6",
                "b3fdc3b3.daa6d",
                "bb3698f8.9dc54"
            ]
        ]
    },
    {
        "id": "98eef2c3.4b1e6",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4085.5,
        "y": 233,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "1e54913c.73cd4f"
            ]
        ]
    },
    {
        "id": "b3fdc3b3.daa6d",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4077.5,
        "y": 288,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "8746e11a.2a66c"
            ]
        ]
    },
    {
        "id": "bb3698f8.9dc54",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4082.5,
        "y": 345,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "be336b5b.cedab8"
            ]
        ]
    },
    {
        "id": "be336b5b.cedab8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4234.5,
        "y": 346,
        "z": "97fec48c.8eada",
        "wires": []
    },
    {
        "id": "8746e11a.2a66c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4245.5,
        "y": 291,
        "z": "97fec48c.8eada",
        "wires": []
    },
    {
        "id": "1e54913c.73cd4f",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4229.88232421875,
        "y": 230.65567016601562,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "e08a0980.5d50e",
                "8e112ac6.c7732"
            ]
        ]
    },
    {
        "id": "e08a0980.5d50e",
        "type": "set",
        "name": "set domain A node-id and tpn",
        "xml": "<set>\n<parameter name='domain-A.node-id' value=\"`$tmp.aai.src-pnf.pnf-id`\" />\n<parameter name='domain-A.tpn' value='1' />\n\n\n<parameter name='`tmp.otninfo[$vidx].dstPort.dst-access-node-id`' value=\"`$tmp.aai.src-pnf.pnf-id`\" />\n<parameter name='`tmp.otninfo_length`' value='`$vidx + 1`' />",
        "comments": "",
        "x": 4454.9998779296875,
        "y": 186,
        "z": "97fec48c.8eada",
        "wires": []
    },
    {
        "id": "60eed173.f1208",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 3976.9998779296875,
        "y": 528,
        "z": "97fec48c.8eada",
        "wires": []
    },
    {
        "id": "c08fd8d6.2bd66",
        "type": "set",
        "name": "set domain A tunnel tp ip",
        "xml": "<set>\n<parameter name='domain-A.tunnel-tp-id' value=\"`$tmp.aai.src-ttp.tunnel-tp-id`\" />\n\n<parameter name='`tmp.otninfo[$vidx].dstPort.dst-tunnel-tp-id`' value=\"`$tmp.aai.src-ttp.tunnel-tp-id`\" />\n<parameter name='`tmp.otninfo_length`' value='`$vidx + 1`' />\n",
        "comments": "",
        "x": 4670.9998779296875,
        "y": 434,
        "z": "97fec48c.8eada",
        "wires": []
    },
    {
        "id": "16edc927.badbff",
        "type": "get-resource",
        "name": "get-resource dst pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.dst-pnf-name\"\n        pfx='tmp.aai.dst-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3886.9998779296875,
        "y": 884,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "123bf516.85c49b",
                "6c28943b.60b994",
                "19639884.e536cf"
            ]
        ]
    },
    {
        "id": "19639884.e536cf",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4082.5,
        "y": 836,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "c2d1aecb.85e098"
            ]
        ]
    },
    {
        "id": "6c28943b.60b994",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4074.5,
        "y": 891,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "1ac89a13.d0df06"
            ]
        ]
    },
    {
        "id": "123bf516.85c49b",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4079.5,
        "y": 948,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "b06bf8cb.62556"
            ]
        ]
    },
    {
        "id": "c2d1aecb.85e098",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4226.88232421875,
        "y": 833.6556701660156,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "a9a60061.b99928",
                "cfa839ce.804738"
            ]
        ]
    },
    {
        "id": "1ac89a13.d0df06",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4242.5,
        "y": 894,
        "z": "97fec48c.8eada",
        "wires": []
    },
    {
        "id": "b06bf8cb.62556",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4231.5,
        "y": 949,
        "z": "97fec48c.8eada",
        "wires": []
    },
    {
        "id": "a9a60061.b99928",
        "type": "set",
        "name": "set domain B node-id and tpn",
        "xml": "<set>\n<parameter name='domain-B.node-id' value=\"`$tmp.aai.dst-pnf.pnf-id`\" />\n<parameter name='domain-B.tpn' value='1' />\n\n\n<parameter name='`tmp.otninfo[$vidx + 1].srcPort.src-access-node-id`' value=\"`$tmp.aai.dst-pnf.pnf-id`\" />\n<parameter name='`tmp.otninfo_length`' value='`$vidx + 2`' />",
        "comments": "",
        "x": 4435.9998779296875,
        "y": 801,
        "z": "97fec48c.8eada",
        "wires": []
    },
    {
        "id": "3e68bf5c.62e23",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 4005.9998779296875,
        "y": 1096,
        "z": "97fec48c.8eada",
        "wires": []
    },
    {
        "id": "64775e7a.bf3908",
        "type": "set",
        "name": "set domain B tunnel tp id",
        "xml": "<set>\n<parameter name='domain-B.tunnel-tp-id' value=\"`$tmp.aai.dst-ttp.tunnel-tp-id`\" />\n\n<parameter name='`tmp.otninfo[$vidx + 1].srcPort.src-tunnel-tp-id`' value=\"`$tmp.aai.dst-ttp.tunnel-tp-id`\" />\n<parameter name='`tmp.otninfo_length`' value='`$vidx + 2`' />",
        "comments": "",
        "x": 4659.9998779296875,
        "y": 1041,
        "z": "97fec48c.8eada",
        "wires": []
    },
    {
        "id": "8aefd07e.260d8",
        "type": "outcome",
        "name": "network-resource",
        "xml": "<outcome value='network-resource'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4811.9998779296875,
        "y": 249,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "4f8861e6.824728"
            ]
        ]
    },
    {
        "id": "4f8861e6.824728",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4988.9998779296875,
        "y": 241,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "8261f1c0.e8f31",
                "36d8211f.467a7e",
                "49234c70.a5c64c"
            ]
        ]
    },
    {
        "id": "8261f1c0.e8f31",
        "type": "set",
        "name": "set domain A network-id",
        "xml": "<set>\n<parameter name='tmp.domain-A.network-id' value=\"`$tmp.aai.src-pnf.relationship-list.relationship[$pvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 5203.9998779296875,
        "y": 222,
        "z": "97fec48c.8eada",
        "wires": []
    },
    {
        "id": "36d8211f.467a7e",
        "type": "get-resource",
        "name": "get-resource src network-resource",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"network-resource\" \n\t\tkey=\"network-resource.network-id = $tmp.domain-A.network-id \n\t\tAND depth = '0'\"\n        pfx='tmp.aai.src-network-resource' local-only='false' >\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 5220.9998779296875,
        "y": 286,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "92167a44.d7bee"
            ]
        ]
    },
    {
        "id": "92167a44.d7bee",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5444.4998779296875,
        "y": 287,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "eafcd68a.31cbf"
            ]
        ]
    },
    {
        "id": "eafcd68a.31cbf",
        "type": "set",
        "name": "set domain A network-id, topo-id, client-id, etc",
        "xml": "<set>\n<parameter name='domain-A.network-id' value=\"`$tmp.aai.src-network-resource.network-id`\" />\n<parameter name='domain-A.provider-id' value=\"`$tmp.aai.src-network-resource.provider-id`\" />\n<parameter name='domain-A.client-id' value=\"`$tmp.aai.src-network-resource.client-id`\" />\n<parameter name='domain-A.te-topo-id' value=\"`$tmp.aai.src-network-resource.te-topo-id`\" />\n<parameter name='domain-A.network-type' value=\"`$tmp.aai.src-network-resource.network-type`\" />\n\n\n<parameter name='`tmp.otninfo[$vidx].dstPort.dst-access-network-id`' value=\"`$tmp.aai.src-network-resource.network-id`\" />\n<parameter name='`tmp.otninfo[$vidx].dstPort.dst-access-provider-id`' value=\"`$tmp.aai.src-network-resource.provider-id`\" />\n<parameter name='`tmp.otninfo[$vidx].dstPort.dst-access-client-id`' value=\"`$tmp.aai.src-network-resource.client-id`\" />\n<parameter name='`tmp.otninfo[$vidx].dstPort.dst-access-topology-id`' value=\"`$tmp.aai.src-network-resource.te-topo-id`\" />\n<parameter name='`tmp.otninfo[$vidx].dstPort.dst-access-network-type`' value=\"`$tmp.aai.src-network-resource.network-type`\" />\n<parameter name='`tmp.otninfo_length`' value='`$vidx + 1`' />\n\n\n",
        "comments": "",
        "x": 5708.9998779296875,
        "y": 276,
        "z": "97fec48c.8eada",
        "wires": []
    },
    {
        "id": "8e112ac6.c7732",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='pvidx' start='0' end='`$tmp.aai.src-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4413.9998779296875,
        "y": 245,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "7a3db7fd.944d68"
            ]
        ]
    },
    {
        "id": "7a3db7fd.944d68",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.src-pnf.relationship-list.relationship[$pvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4608.9998779296875,
        "y": 245,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "8aefd07e.260d8"
            ]
        ]
    },
    {
        "id": "49234c70.a5c64c",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 5147.9998779296875,
        "y": 339,
        "z": "97fec48c.8eada",
        "wires": []
    },
    {
        "id": "cfa839ce.804738",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='mvidx' start='0' end='`$tmp.aai.dst-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4414.9998779296875,
        "y": 852,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "4d05ba94.558ef4"
            ]
        ]
    },
    {
        "id": "4d05ba94.558ef4",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.dst-pnf.relationship-list.relationship[$mvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4609.9998779296875,
        "y": 852,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "5d78c070.cc21d"
            ]
        ]
    },
    {
        "id": "5c18dd82.55be5c",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 5233.9998779296875,
        "y": 932,
        "z": "97fec48c.8eada",
        "wires": []
    },
    {
        "id": "c69a19d0.8fe6d",
        "type": "execute",
        "name": "execute split tp-id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.aai.src-tp`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-src-tp\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3917.9998779296875,
        "y": 75,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "4ca85973.1ae2a",
                "285acc14.d6b794"
            ]
        ]
    },
    {
        "id": "285acc14.d6b794",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4138.9998779296875,
        "y": 43,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "2fdf8051.c7f6a8"
            ]
        ]
    },
    {
        "id": "4ca85973.1ae2a",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4138.9998779296875,
        "y": 90,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "be0791af.66d9e"
            ]
        ]
    },
    {
        "id": "2fdf8051.c7f6a8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4303.9998779296875,
        "y": 40,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "a66ce9ac.c44538"
            ]
        ]
    },
    {
        "id": "a66ce9ac.c44538",
        "type": "set",
        "name": "set domain-A.ltpId",
        "xml": "<set>\n<parameter name='domain-A.ltpId' value='`$param-prefix-src-tp[$param-prefix-src-tp_length -1]`' />\n\n<parameter name='`tmp.otninfo[$vidx].dstPort.dst-ltp-id`' value=\"`$param-prefix-src-tp[$param-prefix-src-tp_length -1]`\" />\n<parameter name='`tmp.otninfo_length`' value='`$vidx + 1`' />",
        "comments": "",
        "x": 4485.9998779296875,
        "y": 44,
        "z": "97fec48c.8eada",
        "wires": []
    },
    {
        "id": "be0791af.66d9e",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 4305.9998779296875,
        "y": 90,
        "z": "97fec48c.8eada",
        "wires": []
    },
    {
        "id": "c1a0d70e.9bb548",
        "type": "execute",
        "name": "execute split tp-id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.aai.dst-tp`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-dst-tp\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3925.9998779296875,
        "y": 699,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "50687959.886b6",
                "99d4fed5.f7a3f"
            ]
        ]
    },
    {
        "id": "99d4fed5.f7a3f",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4146.9998779296875,
        "y": 667,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "9d94fa7.027cb88"
            ]
        ]
    },
    {
        "id": "50687959.886b6",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4146.9998779296875,
        "y": 714,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "7a52ffa3.7e9d28"
            ]
        ]
    },
    {
        "id": "9d94fa7.027cb88",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4311.9998779296875,
        "y": 664,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "675b55d9.b9c0ec"
            ]
        ]
    },
    {
        "id": "675b55d9.b9c0ec",
        "type": "set",
        "name": "set domain-B.ltpId",
        "xml": "<set>\n<parameter name='domain-B.ltpId' value='`$param-prefix-dst-tp[$param-prefix-dst-tp_length -1]`' />\n\n<parameter name='`tmp.otninfo[$vidx + 1].srcPort.src-ltp-id`' value=\"`$param-prefix-dst-tp[$param-prefix-dst-tp_length -1]`\" />\n<parameter name='`tmp.otninfo_length`' value='`$vidx + 2`' />",
        "comments": "",
        "x": 4507.9998779296875,
        "y": 661,
        "z": "97fec48c.8eada",
        "wires": []
    },
    {
        "id": "7a52ffa3.7e9d28",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 4313.9998779296875,
        "y": 714,
        "z": "97fec48c.8eada",
        "wires": []
    },
    {
        "id": "20564e8a.e84492",
        "type": "set",
        "name": "unset parameters",
        "xml": "<set>\n<parameter name='otn-oof.link-name' value='' />\n<parameter name='tmp.aai.cross-link' value='' />\n<parameter name='tmp.aai.cross-link.' value='' />\n<parameter name='tmp.aai.cross-link.link-role' value='' />",
        "comments": "",
        "x": 1183,
        "y": 501,
        "z": "97fec48c.8eada",
        "wires": []
    },
    {
        "id": "56dc1543.ce88ec",
        "type": "switchNode",
        "name": "switch value == start-node",
        "xml": "<switch test='`$tmp.aai.cross-link.relationship-list.relationship[$lridx].relationship-data[0].relationship-value == $otn-oof.start-node`'>",
        "comments": "",
        "outputs": 1,
        "x": 3103.9998779296875,
        "y": 254,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "a156113e.6f73f"
            ]
        ]
    },
    {
        "id": "f7b52e29.d7e28",
        "type": "outcome",
        "name": "otn-oof.start-node",
        "xml": "<outcome value='`$otn-oof.start-node`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3255.9998779296875,
        "y": 169,
        "z": "97fec48c.8eada",
        "wires": [
            []
        ]
    },
    {
        "id": "fcffac67.9ba8e",
        "type": "outcome",
        "name": "otn-oof.end-node",
        "xml": "<outcome value='`$otn-oof.end-node`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3258.9998779296875,
        "y": 388,
        "z": "97fec48c.8eada",
        "wires": [
            []
        ]
    },
    {
        "id": "edb2a900.9a7b1",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3433.9998779296875,
        "y": 238,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "614113e.09a2a6c"
            ]
        ]
    },
    {
        "id": "bc992c4c.01fac8",
        "type": "set",
        "name": "set dst-ltpId",
        "xml": "<set>\n<parameter name='tmp.cross-link.dst-ltpId' value=\"`$tmp.aai.cross-link.relationship-list.relationship[$lridx].relationship-data[1].relationship-value`\" />\n<parameter name='tmp.dst-pnf-name' value=\"`$tmp.aai.cross-link.relationship-list.relationship[$lridx].relationship-data[0].relationship-value`\" />\n\n<!--<parameter name='`tmp.otninfo[$vidx+1].srcPort.src-access-ltp-id`' value=\"`$tmp.aai.cross-link.relationship-list.relationship[$lridx].relationship-data[1].relationship-value`\" />-->\n<!--<parameter name='`tmp.otninfo[$vidx+1].srcPort.src-access-node-id`' value=\"`$tmp.aai.cross-link.relationship-list.relationship[$lridx].relationship-data[0].relationship-value`\" />-->\n\n<!--<parameter name='`tmp.otninfo_length`' value='`$vidx + 2`' />-->\n\n",
        "comments": "",
        "x": 3630.9998779296875,
        "y": 324,
        "z": "97fec48c.8eada",
        "wires": []
    },
    {
        "id": "4fb57d55.78b35c",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 3613.9998779296875,
        "y": 364,
        "z": "97fec48c.8eada",
        "wires": []
    },
    {
        "id": "7a290eee.406588",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3451.9998779296875,
        "y": 336,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "bc992c4c.01fac8"
            ]
        ]
    },
    {
        "id": "a156113e.6f73f",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3291.9998779296875,
        "y": 241,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "edb2a900.9a7b1"
            ]
        ]
    },
    {
        "id": "b07af7fc.6b63b8",
        "type": "switchNode",
        "name": "switch value == end-node",
        "xml": "<switch test='`$tmp.aai.cross-link.relationship-list.relationship[$lridx].relationship-data[0].relationship-value == $otn-oof.end-node`'>",
        "comments": "",
        "outputs": 1,
        "x": 3101.9998779296875,
        "y": 318,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "adae2c31.77bd68"
            ]
        ]
    },
    {
        "id": "adae2c31.77bd68",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3286.9998779296875,
        "y": 322,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "7a290eee.406588"
            ]
        ]
    },
    {
        "id": "fdcdd209.036438",
        "type": "comment",
        "name": "Not useful anymore",
        "info": "this domain-A.ltpId is not used anymore",
        "comments": "",
        "x": 4528.9998779296875,
        "y": 20,
        "z": "97fec48c.8eada",
        "wires": []
    },
    {
        "id": "335fd86d.6b1ff",
        "type": "comment",
        "name": "Not useful anymore",
        "info": "this domain-B.ltpId is not used anymore",
        "comments": "",
        "x": 4550.9998779296875,
        "y": 633,
        "z": "97fec48c.8eada",
        "wires": []
    },
    {
        "id": "b9740a82.273f8",
        "type": "switchNode",
        "name": "test $vidx == first",
        "xml": "<switch test='`$vidx == 0`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2366,
        "y": 100,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "fac1138.38454f",
                "4fd6928.61fb8ec"
            ]
        ]
    },
    {
        "id": "fac1138.38454f",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2550,
        "y": 62,
        "z": "97fec48c.8eada",
        "wires": [
            []
        ]
    },
    {
        "id": "4fd6928.61fb8ec",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2548,
        "y": 131,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "49bef92e.99a498"
            ]
        ]
    },
    {
        "id": "49bef92e.99a498",
        "type": "switchNode",
        "name": "test $vidx == last",
        "xml": "<switch test='`$vidx == $otn-oof.solutions_length - 1`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2729,
        "y": 128,
        "z": "97fec48c.8eada",
        "wires": [
            [
                "4a491f2.2eab56",
                "98392658.063f78"
            ]
        ]
    },
    {
        "id": "98392658.063f78",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2895,
        "y": 167,
        "z": "97fec48c.8eada",
        "wires": [
            []
        ]
    },
    {
        "id": "4a491f2.2eab56",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2897,
        "y": 93,
        "z": "97fec48c.8eada",
        "wires": [
            []
        ]
    },
    {
        "id": "3d2e0b8f.457abc",
        "type": "set",
        "name": "unset parameters",
        "xml": "<set>\n<parameter name='`tmp.otninfo.`' value='' />\n<parameter name='`tmp.otninfo_length`' value='0' />",
        "comments": "",
        "x": 829,
        "y": 402,
        "z": "97fec48c.8eada",
        "wires": []
    },
    {
        "id": "d9b3c779.af79",
        "type": "comment",
        "name": "May not be necessary",
        "info": "",
        "comments": "",
        "x": 841,
        "y": 370,
        "z": "97fec48c.8eada",
        "wires": []
    }
]