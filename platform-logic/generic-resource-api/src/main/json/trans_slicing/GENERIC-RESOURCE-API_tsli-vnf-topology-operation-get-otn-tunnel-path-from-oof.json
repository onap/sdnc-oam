[
    {
        "id": "55da1918.a645e",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 271.566650390625,
        "y": 122.56666564941406,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "1bc5ef1e.555379"
            ]
        ]
    },
    {
        "id": "1bc5ef1e.555379",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 418.566650390625,
        "y": 697.5666809082031,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "72a47d96.f0464c"
            ]
        ]
    },
    {
        "id": "72a47d96.f0464c",
        "type": "method",
        "name": "tsli-vnf-topology-operation-get-otn-tunnel-path-from-oof",
        "xml": "<method rpc='tsli-vnf-topology-operation-get-otn-tunnel-path-from-oof' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 482.5667724609375,
        "y": 790.5666656494141,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "34c3e8c4.75c3c8"
            ]
        ]
    },
    {
        "id": "c7e5fdd1.51b5a",
        "type": "execute",
        "name": "execute RestApiCallNode getPath from OOF",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.oof-getpath.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.restapi.connection-oof-url + '?ethsrvType=' + $prop.ethsrvType`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.oof.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.oof.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"otn-oof\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 528.5397186279297,
        "y": 309.56266593933105,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "d6e108d2.5fc108",
                "c846370c.449d6"
            ]
        ]
    },
    {
        "id": "d6e108d2.5fc108",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 768.5398597717285,
        "y": 333.56263542175293,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "33dac520.fd9612"
            ]
        ]
    },
    {
        "id": "1749300b.377e9",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing OOF api\" />\n",
        "comments": "",
        "x": 938.5397796630859,
        "y": 273.5627269744873,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "c846370c.449d6",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 767.5396461486816,
        "y": 282.562726020813,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "1749300b.377e9"
            ]
        ]
    },
    {
        "id": "aabf6007.38015",
        "type": "comment",
        "name": "OTN tunnel path computation",
        "info": "TODO: check input parameters -- they should be\nthe source and destination of ETH node+tp.",
        "comments": "",
        "x": 500.04351806640625,
        "y": 265.56666564941406,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "66a1cd55.f26304",
        "type": "for",
        "name": "for vidx..otn-oof.solutions_length[]",
        "xml": "<for index='vidx' start='0' end='`$otn-oof.solutions_length`' >",
        "comments": "",
        "outputs": 1,
        "x": 956.53955078125,
        "y": 758.8123931884766,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "34bde7e7.01eac8"
            ]
        ]
    },
    {
        "id": "b912adec.34afe",
        "type": "comment",
        "name": "Loop through OTN links",
        "info": "",
        "comments": "",
        "x": 1040.0398559570312,
        "y": 838.3127593994141,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "34bde7e7.01eac8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1061.0667724609375,
        "y": 949.8531646728516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "7334f4ec.cbdcec",
                "a07b9575.5fb718",
                "78ed6398.2c281c",
                "a81521ff.85b448",
                "f61d745e.897b28"
            ]
        ]
    },
    {
        "id": "7334f4ec.cbdcec",
        "type": "set",
        "name": "set otn-oof.link-name and etc.",
        "xml": "<set>\n<parameter name='otn-oof.link-name' value='`$otn-oof.solutions[$vidx].original_link`' />\n<parameter name='otn-oof.start-node' value='`$otn-oof.solutions[$vidx].src_node`' />\n<parameter name='otn-oof.end-node' value='`$otn-oof.solutions[$vidx].dst_node`' />",
        "comments": "",
        "x": 1307.5667724609375,
        "y": 842.8531646728516,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "33dac520.fd9612",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 913.5669059753418,
        "y": 331.30812072753906,
        "z": "a133aed2.437bc",
        "wires": [
            []
        ]
    },
    {
        "id": "34c3e8c4.75c3c8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 723.5355339050293,
        "y": 717.3083028793335,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "66a1cd55.f26304",
                "10360917.9b8077",
                "9aea1ae3.78f458",
                "949527f9.d2ae5"
            ]
        ]
    },
    {
        "id": "4f42b7a6.ec3be8",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 2475.0665283203125,
        "y": 1275.566665649414,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "f61d745e.897b28",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1274.0667724609375,
        "y": 1031.566665649414,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "edcf8a17.3c1388",
                "21981b27.dc0a0c"
            ]
        ]
    },
    {
        "id": "d41411aa.2fbe08",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2799.5665283203125,
        "y": 766.5666656494141,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "1b874a77.cb23d6"
            ]
        ]
    },
    {
        "id": "ec1c7dff.7ed9c",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2832.566650390625,
        "y": 824.5666656494141,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "6a0b9275.25af84"
            ]
        ]
    },
    {
        "id": "593d14b8.4d3af4",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2835.566650390625,
        "y": 876.5666656494141,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "7711b881.aaafb8"
            ]
        ]
    },
    {
        "id": "6a0b9275.25af84",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 3017.566650390625,
        "y": 828.5666656494141,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "7711b881.aaafb8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 3005.566650390625,
        "y": 879.5666656494141,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "c385141d.3475d8",
        "type": "set",
        "name": "set domain A node ttp-id",
        "xml": "<set>\n<parameter name='tmp.domain-A.ttp-id' value=\"`$tmp.aai.src-tp.relationship-list.relationship[$pintsidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 4136.0665283203125,
        "y": 681.5666656494141,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "8b31beaa.98c0f8",
        "type": "get-resource",
        "name": "get-resource src TTP",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"tunnel-termination-point\" \n\t\tkey=\"tunnel-termination-point.ttp-id = $tmp.domain-A.ttp-id \n\t\tAND depth = '0'\"\n        pfx='tmp.aai.src-ttp' local-only='false' >\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4144.0665283203125,
        "y": 733.5666656494141,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "d767d020.bad1e"
            ]
        ]
    },
    {
        "id": "d767d020.bad1e",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4350.5665283203125,
        "y": 711.5666656494141,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "d5ff040e.d2f8b"
            ]
        ]
    },
    {
        "id": "a5ba7946.9385e8",
        "type": "outcome",
        "name": "tunnel-termination-point",
        "xml": "<outcome value='tunnel-termination-point'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3688.2349853515625,
        "y": 760.0481719970703,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "325b8414.0a0f7c"
            ]
        ]
    },
    {
        "id": "dd30a478.a8f71",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='pintsidx' start='0' end='`$tmp.aai.src-tp.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3150.9493408203125,
        "y": 762.2263946533203,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "d8739293.dd811"
            ]
        ]
    },
    {
        "id": "d8739293.dd811",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.src-tp.relationship-list.relationship[$pintsidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3402.9493408203125,
        "y": 759.2263946533203,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "a5ba7946.9385e8"
            ]
        ]
    },
    {
        "id": "325b8414.0a0f7c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3915.0665283203125,
        "y": 748.5666656494141,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "c385141d.3475d8",
                "8b31beaa.98c0f8",
                "9cb3666f.fe6288",
                "cc03f562.203da8",
                "b538ddb.0ac7ba"
            ]
        ]
    },
    {
        "id": "edcf8a17.3c1388",
        "type": "get-resource",
        "name": "get-resource dst tp",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"p-interface\" \n\t\tkey=\"pnf.pnf-name = $tmp.dst-pnf-name\n\t\t    AND p-interface.interface-name = $tmp.cross-link.dst-ltpId\"\n        pfx='tmp.aai.dst-tp' local-only='false' >\n    \n        <!--AND depth = '0'\"-->\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2556.066650390625,
        "y": 1171.566665649414,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "966cd988.263208",
                "2f0ba896.1bff08",
                "5512ef83.d0409"
            ]
        ]
    },
    {
        "id": "966cd988.263208",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2778.5665283203125,
        "y": 1313.566665649414,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "d01135ac.6fb8"
            ]
        ]
    },
    {
        "id": "2f0ba896.1bff08",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2762.5665283203125,
        "y": 1364.566665649414,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "dc2d6a40.545b28"
            ]
        ]
    },
    {
        "id": "5512ef83.d0409",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2765.5665283203125,
        "y": 1416.566665649414,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "f1dc200a.0079b8"
            ]
        ]
    },
    {
        "id": "f1dc200a.0079b8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 2935.5665283203125,
        "y": 1419.566665649414,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "dc2d6a40.545b28",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 2947.5665283203125,
        "y": 1368.566665649414,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "eda7d352.9073e",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='pintdidx' start='0' end='`$tmp.aai.dst-tp.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3134.9493408203125,
        "y": 1324.2263946533203,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "3127fdbc.48d8ba"
            ]
        ]
    },
    {
        "id": "3127fdbc.48d8ba",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.dst-tp.relationship-list.relationship[$pintdidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3377.9493408203125,
        "y": 1323.2263946533203,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "1629bb11.b51185"
            ]
        ]
    },
    {
        "id": "2bfd4c7b.7322cc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5144.0665283203125,
        "y": 1124.566665649414,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "83a9dba4.165df8",
                "213b5817.319d6",
                "eacf08ed.9b6908"
            ]
        ]
    },
    {
        "id": "1629bb11.b51185",
        "type": "outcome",
        "name": "tunnel-termination-point",
        "xml": "<outcome value='tunnel-termination-point'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3634.2349853515625,
        "y": 1323.0481719970703,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "1697afc2.a7d658"
            ]
        ]
    },
    {
        "id": "a4a4d9de.8b1e5",
        "type": "outcome",
        "name": "network-resource",
        "xml": "<outcome value='network-resource'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4931.0665283203125,
        "y": 1123.566665649414,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "2bfd4c7b.7322cc"
            ]
        ]
    },
    {
        "id": "1697afc2.a7d658",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3934.0665283203125,
        "y": 1320.566665649414,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "64565dd0.7224d4",
                "60e5c227.98dd4c",
                "aa1de99e.ebfdb8",
                "1e08769.d5ce909",
                "19848a3.1ad4df6"
            ]
        ]
    },
    {
        "id": "64565dd0.7224d4",
        "type": "set",
        "name": "set domain B node ttp-id",
        "xml": "<set>\n<parameter name='tmp.domain-B.ttp-id' value=\"`$tmp.aai.dst-tp.relationship-list.relationship[$pintdidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 4176.0665283203125,
        "y": 1274.566665649414,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "60e5c227.98dd4c",
        "type": "get-resource",
        "name": "get-resource dst TTP",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"tunnel-termination-point\" \n\t\tkey=\"tunnel-termination-point.ttp-id = $tmp.domain-B.ttp-id \n\t\tAND depth = '0'\"\n        pfx='tmp.aai.dst-ttp' local-only='false' >\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4166.0665283203125,
        "y": 1325.566665649414,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "1423a8aa.1e5bbf"
            ]
        ]
    },
    {
        "id": "1423a8aa.1e5bbf",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4353.5665283203125,
        "y": 1323.566665649414,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "fe536508.3d42a8"
            ]
        ]
    },
    {
        "id": "83a9dba4.165df8",
        "type": "set",
        "name": "set domain B network-id",
        "xml": "<set>\n<parameter name='tmp.domain-B.network-id' value=\"`$tmp.aai.dst-pnf.relationship-list.relationship[$mvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 5414.0665283203125,
        "y": 1100.566665649414,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "213b5817.319d6",
        "type": "get-resource",
        "name": "get-resource dst network-resource",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"network-resource\" \n\t\tkey=\"network-resource.network-id = $tmp.domain-B.network-id \n\t\tAND depth = '0'\"\n        pfx='tmp.aai.dst-network-resource' local-only='false' >\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 5424.0665283203125,
        "y": 1146.566665649414,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "93d4670b.467a7"
            ]
        ]
    },
    {
        "id": "93d4670b.467a7",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5639.5665283203125,
        "y": 1137.566665649414,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "3c1a17a3.7c5698"
            ]
        ]
    },
    {
        "id": "3c1a17a3.7c5698",
        "type": "set",
        "name": "set domain B network-id, topo-id, client-id, etc",
        "xml": "<set>\n<parameter name='domain-B.network-id' value=\"`$tmp.aai.dst-network-resource.network-id`\" />\n<parameter name='domain-B.provider-id' value=\"`$tmp.aai.dst-network-resource.provider-id`\" />\n<parameter name='domain-B.client-id' value=\"`$tmp.aai.dst-network-resource.client-id`\" />\n<parameter name='domain-B.te-topo-id' value=\"`$tmp.aai.dst-network-resource.te-topo-id`\" />\n<parameter name='domain-B.network-type' value=\"`$tmp.aai.dst-network-resource.network-type`\" />\n\n\n<parameter name='`tmp.otninfo[$vidx + 1].srcPort.src-access-network-id`' value=\"`$tmp.aai.dst-network-resource.network-id`\" />\n<parameter name='`tmp.otninfo[$vidx + 1].srcPort.src-access-provider-id`' value=\"`$tmp.aai.dst-network-resource.provider-id`\" />\n<parameter name='`tmp.otninfo[$vidx + 1].srcPort.src-access-client-id`' value=\"`$tmp.aai.dst-network-resource.client-id`\" />\n<parameter name='`tmp.otninfo[$vidx + 1].srcPort.src-access-topology-id`' value=\"`$tmp.aai.dst-network-resource.te-topo-id`\" />\n<parameter name='`tmp.otninfo[$vidx + 1].srcPort.src-access-network-type`' value=\"`$tmp.aai.dst-network-resource.network-type`\" />\n<parameter name='`tmp.otninfo_length`' value='`$vidx + 2`' />",
        "comments": "",
        "x": 5894.0665283203125,
        "y": 1143.566665649414,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "1b874a77.cb23d6",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2933.5665283203125,
        "y": 762.5666656494141,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "dd30a478.a8f71"
            ]
        ]
    },
    {
        "id": "d01135ac.6fb8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2924.5665283203125,
        "y": 1304.566665649414,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "eda7d352.9073e"
            ]
        ]
    },
    {
        "id": "d5ff040e.d2f8b",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4525.5665283203125,
        "y": 707.5666656494141,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "7a85cdc9.21de74"
            ]
        ]
    },
    {
        "id": "fe536508.3d42a8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4542.5665283203125,
        "y": 1312.566665649414,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "7f789c56.73a404"
            ]
        ]
    },
    {
        "id": "21981b27.dc0a0c",
        "type": "get-resource",
        "name": "get-resource src tp",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"p-interface\" \n\t\tkey=\"pnf.pnf-name = $tmp.src-pnf-name\n\t\t    AND p-interface.interface-name = $tmp.cross-link.src-ltpId\"\n        pfx='tmp.aai.src-tp' local-only='false' >\n    \n        <!--AND depth = '0'\"-->\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2602.066650390625,
        "y": 805.5666656494141,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "d41411aa.2fbe08",
                "ec1c7dff.7ed9c",
                "593d14b8.4d3af4"
            ]
        ]
    },
    {
        "id": "9cb3666f.fe6288",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.src-pnf-name\"\n        pfx='tmp.aai.src-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 4005.5665283203125,
        "y": 551.5666656494141,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "2d596f92.386da",
                "b8bb35c7.68022",
                "50dbd465.907d94"
            ]
        ]
    },
    {
        "id": "2d596f92.386da",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4201.066650390625,
        "y": 503.56666564941406,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "7b9cb223.733344"
            ]
        ]
    },
    {
        "id": "b8bb35c7.68022",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4193.066650390625,
        "y": 558.5666656494141,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "def9d226.6d2cf8"
            ]
        ]
    },
    {
        "id": "50dbd465.907d94",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4198.066650390625,
        "y": 615.5666656494141,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "7c7e6039.479ca8"
            ]
        ]
    },
    {
        "id": "7c7e6039.479ca8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4350.066650390625,
        "y": 616.5666656494141,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "def9d226.6d2cf8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4361.066650390625,
        "y": 561.5666656494141,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "7b9cb223.733344",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4345.448974609375,
        "y": 501.2223358154297,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "726f1c43.81de24",
                "6baa44bf.896aa4"
            ]
        ]
    },
    {
        "id": "726f1c43.81de24",
        "type": "set",
        "name": "set domain A node-id and tpn",
        "xml": "<set>\n<parameter name='domain-A.node-id' value=\"`$tmp.aai.src-pnf.pnf-id`\" />\n<parameter name='domain-A.tpn' value='1' />\n\n\n<parameter name='`tmp.otninfo[$vidx].dstPort.dst-access-node-id`' value=\"`$tmp.aai.src-pnf.pnf-id`\" />\n<parameter name='`tmp.otninfo_length`' value='`$vidx + 1`' />",
        "comments": "",
        "x": 4570.5665283203125,
        "y": 456.56666564941406,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "cc03f562.203da8",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 4092.5665283203125,
        "y": 798.5666656494141,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "7a85cdc9.21de74",
        "type": "set",
        "name": "set domain A tunnel tp ip",
        "xml": "<set>\n<parameter name='domain-A.tunnel-tp-id' value=\"`$tmp.aai.src-ttp.tunnel-tp-id`\" />\n\n<parameter name='`tmp.otninfo[$vidx].dstPort.dst-tunnel-tp-id`' value=\"`$tmp.aai.src-ttp.tunnel-tp-id`\" />\n<parameter name='`tmp.otninfo_length`' value='`$vidx + 1`' />\n",
        "comments": "",
        "x": 4786.5665283203125,
        "y": 704.5666656494141,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "1e08769.d5ce909",
        "type": "get-resource",
        "name": "get-resource dst pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.dst-pnf-name\"\n        pfx='tmp.aai.dst-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 4002.5665283203125,
        "y": 1154.566665649414,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "1a2b49d5.b5a17e",
                "7bc68f65.9bf008",
                "aa0e1591.186978"
            ]
        ]
    },
    {
        "id": "aa0e1591.186978",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4198.066650390625,
        "y": 1106.566665649414,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "d1b079c.9297d08"
            ]
        ]
    },
    {
        "id": "7bc68f65.9bf008",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4190.066650390625,
        "y": 1161.566665649414,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "2daddcb3.194964"
            ]
        ]
    },
    {
        "id": "1a2b49d5.b5a17e",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4195.066650390625,
        "y": 1218.566665649414,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "ec80c220.eda94"
            ]
        ]
    },
    {
        "id": "d1b079c.9297d08",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4342.448974609375,
        "y": 1104.2223358154297,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "86d91eb8.1d4188",
                "ccc8b0e3.aa30a"
            ]
        ]
    },
    {
        "id": "2daddcb3.194964",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4358.066650390625,
        "y": 1164.566665649414,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "ec80c220.eda94",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4347.066650390625,
        "y": 1219.566665649414,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "86d91eb8.1d4188",
        "type": "set",
        "name": "set domain B node-id and tpn",
        "xml": "<set>\n<parameter name='domain-B.node-id' value=\"`$tmp.aai.dst-pnf.pnf-id`\" />\n<parameter name='domain-B.tpn' value='1' />\n\n\n<parameter name='`tmp.otninfo[$vidx + 1].srcPort.src-access-node-id`' value=\"`$tmp.aai.dst-pnf.pnf-id`\" />\n<parameter name='`tmp.otninfo_length`' value='`$vidx + 2`' />",
        "comments": "",
        "x": 4551.5665283203125,
        "y": 1071.566665649414,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "aa1de99e.ebfdb8",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 4121.5665283203125,
        "y": 1366.566665649414,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "7f789c56.73a404",
        "type": "set",
        "name": "set domain B tunnel tp id",
        "xml": "<set>\n<parameter name='domain-B.tunnel-tp-id' value=\"`$tmp.aai.dst-ttp.tunnel-tp-id`\" />\n\n<parameter name='`tmp.otninfo[$vidx + 1].srcPort.src-tunnel-tp-id`' value=\"`$tmp.aai.dst-ttp.tunnel-tp-id`\" />\n<parameter name='`tmp.otninfo_length`' value='`$vidx + 2`' />",
        "comments": "",
        "x": 4775.5665283203125,
        "y": 1311.566665649414,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "4af47e1.d24b48",
        "type": "outcome",
        "name": "network-resource",
        "xml": "<outcome value='network-resource'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4927.5665283203125,
        "y": 519.5666656494141,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "4f3cf505.2fca3c"
            ]
        ]
    },
    {
        "id": "4f3cf505.2fca3c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5104.5665283203125,
        "y": 511.56666564941406,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "3a45344a.82c99c",
                "6a555c5c.0d6d94",
                "bc9971ad.98e16"
            ]
        ]
    },
    {
        "id": "3a45344a.82c99c",
        "type": "set",
        "name": "set domain A network-id",
        "xml": "<set>\n<parameter name='tmp.domain-A.network-id' value=\"`$tmp.aai.src-pnf.relationship-list.relationship[$pvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 5319.5665283203125,
        "y": 492.56666564941406,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "6a555c5c.0d6d94",
        "type": "get-resource",
        "name": "get-resource src network-resource",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"network-resource\" \n\t\tkey=\"network-resource.network-id = $tmp.domain-A.network-id \n\t\tAND depth = '0'\"\n        pfx='tmp.aai.src-network-resource' local-only='false' >\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 5336.5665283203125,
        "y": 556.5666656494141,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "12908a50.109196"
            ]
        ]
    },
    {
        "id": "12908a50.109196",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5560.0665283203125,
        "y": 557.5666656494141,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "d7f6c969.bf14a8"
            ]
        ]
    },
    {
        "id": "d7f6c969.bf14a8",
        "type": "set",
        "name": "set domain A network-id, topo-id, client-id, etc",
        "xml": "<set>\n<parameter name='domain-A.network-id' value=\"`$tmp.aai.src-network-resource.network-id`\" />\n<parameter name='domain-A.provider-id' value=\"`$tmp.aai.src-network-resource.provider-id`\" />\n<parameter name='domain-A.client-id' value=\"`$tmp.aai.src-network-resource.client-id`\" />\n<parameter name='domain-A.te-topo-id' value=\"`$tmp.aai.src-network-resource.te-topo-id`\" />\n<parameter name='domain-A.network-type' value=\"`$tmp.aai.src-network-resource.network-type`\" />\n\n\n<parameter name='`tmp.otninfo[$vidx].dstPort.dst-access-network-id`' value=\"`$tmp.aai.src-network-resource.network-id`\" />\n<parameter name='`tmp.otninfo[$vidx].dstPort.dst-access-provider-id`' value=\"`$tmp.aai.src-network-resource.provider-id`\" />\n<parameter name='`tmp.otninfo[$vidx].dstPort.dst-access-client-id`' value=\"`$tmp.aai.src-network-resource.client-id`\" />\n<parameter name='`tmp.otninfo[$vidx].dstPort.dst-access-topology-id`' value=\"`$tmp.aai.src-network-resource.te-topo-id`\" />\n<parameter name='`tmp.otninfo[$vidx].dstPort.dst-access-network-type`' value=\"`$tmp.aai.src-network-resource.network-type`\" />\n<parameter name='`tmp.otninfo_length`' value='`$vidx + 1`' />\n\n\n",
        "comments": "",
        "x": 5824.5665283203125,
        "y": 546.5666656494141,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "6baa44bf.896aa4",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='pvidx' start='0' end='`$tmp.aai.src-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4529.5665283203125,
        "y": 515.5666656494141,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "c5bce932.312ae8"
            ]
        ]
    },
    {
        "id": "c5bce932.312ae8",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.src-pnf.relationship-list.relationship[$pvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4724.5665283203125,
        "y": 515.5666656494141,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "4af47e1.d24b48"
            ]
        ]
    },
    {
        "id": "bc9971ad.98e16",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 5263.5665283203125,
        "y": 609.5666656494141,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "ccc8b0e3.aa30a",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='mvidx' start='0' end='`$tmp.aai.dst-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4530.5665283203125,
        "y": 1122.566665649414,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "2505107d.3aa54"
            ]
        ]
    },
    {
        "id": "2505107d.3aa54",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.dst-pnf.relationship-list.relationship[$mvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4725.5665283203125,
        "y": 1122.566665649414,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "a4a4d9de.8b1e5"
            ]
        ]
    },
    {
        "id": "eacf08ed.9b6908",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 5349.5665283203125,
        "y": 1202.566665649414,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "b538ddb.0ac7ba",
        "type": "execute",
        "name": "execute split tp-id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<!--<parameter name=\"original_string\" value='`$tmp.aai.src-tp`'/>-->\n<parameter name=\"original_string\" value='`$tmp.aai.src-tp.interface-name`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-src-tp\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4033.5665283203125,
        "y": 345.56666564941406,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "e05ff3f0.c79818",
                "bfafe917.9e0828"
            ]
        ]
    },
    {
        "id": "bfafe917.9e0828",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4254.5665283203125,
        "y": 313.56666564941406,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "984c7f99.dba1f8"
            ]
        ]
    },
    {
        "id": "e05ff3f0.c79818",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4254.5665283203125,
        "y": 360.56666564941406,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "ab85b68d.00fab8"
            ]
        ]
    },
    {
        "id": "984c7f99.dba1f8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4419.5665283203125,
        "y": 310.56666564941406,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "1167b845.d3eb88"
            ]
        ]
    },
    {
        "id": "1167b845.d3eb88",
        "type": "set",
        "name": "set domain-A.ltpId",
        "xml": "<set>\n<parameter name='domain-A.ltpId' value='`$param-prefix-src-tp[$param-prefix-src-tp_length -1]`' />\n\n<parameter name='`tmp.otninfo[$vidx].dstPort.dst-ltp-id`' value=\"`$param-prefix-src-tp[$param-prefix-src-tp_length -1]`\" />\n<parameter name='`tmp.otninfo_length`' value='`$vidx + 1`' />",
        "comments": "",
        "x": 4601.5665283203125,
        "y": 314.56666564941406,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "ab85b68d.00fab8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 4421.5665283203125,
        "y": 360.56666564941406,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "19848a3.1ad4df6",
        "type": "execute",
        "name": "execute split tp-id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.aai.dst-tp`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-dst-tp\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4041.5665283203125,
        "y": 969.5666656494141,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "bcadf20f.09707",
                "f49b197.760f268"
            ]
        ]
    },
    {
        "id": "f49b197.760f268",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4262.5665283203125,
        "y": 937.5666656494141,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "7a4a14cb.2c7cc4"
            ]
        ]
    },
    {
        "id": "bcadf20f.09707",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4262.5665283203125,
        "y": 984.5666656494141,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "f8a2353e.30053"
            ]
        ]
    },
    {
        "id": "7a4a14cb.2c7cc4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4427.5665283203125,
        "y": 934.5666656494141,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "c7ad40e1.18d2e8"
            ]
        ]
    },
    {
        "id": "c7ad40e1.18d2e8",
        "type": "set",
        "name": "set domain-B.ltpId",
        "xml": "<set>\n<parameter name='domain-B.ltpId' value='`$param-prefix-dst-tp[$param-prefix-dst-tp_length -1]`' />\n\n<parameter name='`tmp.otninfo[$vidx + 1].srcPort.src-ltp-id`' value=\"`$param-prefix-dst-tp[$param-prefix-dst-tp_length -1]`\" />\n<parameter name='`tmp.otninfo_length`' value='`$vidx + 2`' />",
        "comments": "",
        "x": 4623.5665283203125,
        "y": 931.5666656494141,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "f8a2353e.30053",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 4429.5665283203125,
        "y": 984.5666656494141,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "a07b9575.5fb718",
        "type": "set",
        "name": "unset parameters",
        "xml": "<set>\n<parameter name='otn-oof.link-name' value='' />\n<!--<parameter name='tmp.aai.cross-link' value='' />-->\n<parameter name='tmp.aai.cross-link.' value='' />\n<!--<parameter name='tmp.aai.cross-link.link-role' value='' />-->",
        "comments": "",
        "x": 1298.566650390625,
        "y": 771.5666656494141,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "49f4a3da.f830dc",
        "type": "comment",
        "name": "Not useful anymore",
        "info": "this domain-A.ltpId is not used anymore",
        "comments": "",
        "x": 4644.5665283203125,
        "y": 290.56666564941406,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "6c8ca0d9.ae8db8",
        "type": "comment",
        "name": "Not useful anymore",
        "info": "this domain-B.ltpId is not used anymore",
        "comments": "",
        "x": 4666.5665283203125,
        "y": 903.5666656494141,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "10360917.9b8077",
        "type": "set",
        "name": "unset parameters",
        "xml": "<set>\n<parameter name='`tmp.otninfo.`' value='' />\n<!--<parameter name='`tmp.otninfo_length`' value='0' />-->\n<parameter name='`tmp.otninfoProtect.`' value='' />",
        "comments": "",
        "x": 939.566650390625,
        "y": 699.5666656494141,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "197c2e5d.40b5c2",
        "type": "comment",
        "name": "May not be necessary",
        "info": "",
        "comments": "",
        "x": 950.566650390625,
        "y": 652.5666656494141,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "9aea1ae3.78f458",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 930.566650390625,
        "y": 449.56666564941406,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "8d20e71f.73ff3",
                "a7d23344.01d178",
                "bdabda22.abbcf",
                "2d95a78.15b9dd8",
                "fa4a5e3a.f8a4e8",
                "1732667e.72f262",
                "2d0258cc.74942",
                "52bfffd9.b2be3",
                "9fbe4c7e.064f2",
                "272b0d1.5ea4172",
                "c5b8562e.825c2",
                "f2fd0ea2.f13608",
                "5207916.8d843f"
            ]
        ]
    },
    {
        "id": "b34bb5ff.c918e",
        "type": "execute",
        "name": "execute PCE in ccsdk/sli/core",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliTopologyUtils' method='computePaths' >\n<parameter name=\"pnfs-pfx\" value='ccsdkTopopnfs'/>\n<parameter name=\"links-pfx\" value=\"ccsdkTopologicalLinks\"/>\n<parameter name=\"response-pfx\" value=\"otn-oof\"/>\n<parameter name=\"output-end-to-end-path\" value=\"false\"/>\n<!--<parameter name=\"src-node\" value=\"`$tmp.src.domainA.pnf-name`\"/>-->\n<!--<parameter name=\"dst-node\" value=\"`$tmp.dst.domainB.pnf-name`\"/>-->\n<parameter name=\"src-node\" value=\"`$tmp.pce-src-node`\"/>\n<parameter name=\"dst-node\" value=\"`$tmp.pce-dst-node`\"/>\n<parameter name=\"dst-node-backup\" value=\"`$tmp.pce-dst-node-backup`\"/>\n<parameter name=\"require-backuppath\" value=\"`$hasSecondary`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1752.566650390625,
        "y": 696.5666656494141,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "d8269b88.a628f",
                "bd71ad8b.09afd",
                "ab86e983.081cb"
            ]
        ]
    },
    {
        "id": "8d20e71f.73ff3",
        "type": "record",
        "name": "record tmp.pce-src and dst node and backup",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\" />\n<parameter name=\"level\" value=\"info\" />\n<!--<parameter name=\"field1\" value=\"Path computation succeed!\"/>-->\n<!--<parameter name=\"field2\" value=\"`$ccsdkTopo.resp.solutions_length`\"/>-->\n\n<!--<parameter name=\"field1\" value=\"`$tmp.src.domainA.pnf-name`\"/>-->\n<!--<parameter name=\"field2\" value=\"`$tmp.dst.domainB.pnf-name`\"/>-->\n<parameter name=\"field1\" value=\"`$tmp.pce-src-node`\"/>\n<parameter name=\"field2\" value=\"`$tmp.pce-dst-node`\"/>\n<parameter name=\"field3\" value=\"`$tmp.pce-dst-node-backup`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1226.566650390625,
        "y": 482.56666564941406,
        "z": "a133aed2.437bc",
        "wires": [
            []
        ]
    },
    {
        "id": "d8269b88.a628f",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1997.566650390625,
        "y": 728.5666656494141,
        "z": "a133aed2.437bc",
        "wires": [
            []
        ]
    },
    {
        "id": "bd71ad8b.09afd",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2004.566650390625,
        "y": 770.5666656494141,
        "z": "a133aed2.437bc",
        "wires": [
            []
        ]
    },
    {
        "id": "ab86e983.081cb",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1999.566650390625,
        "y": 691.5666656494141,
        "z": "a133aed2.437bc",
        "wires": [
            []
        ]
    },
    {
        "id": "a7d23344.01d178",
        "type": "set",
        "name": "set tmp.pce-src-node",
        "xml": "<set>\n<!--<parameter name='tmp.pce-src-node' value=\"`$param-prefix-domainA-pnfName[0] + '-' +-->\n<!--                                                   $param-prefix-domainA-pnfName[1] + '-' +-->\n<!--                                                   $param-prefix-domainA-pnfName[2] + '-' +-->\n<!--                                                   $param-prefix-domainA-pnfName[3] + '-' +-->\n<!--                                                   $param-prefix-domainA-pnfName[4] + '-' +-->\n<!--                                                   $param-prefix-domainA-pnfName[5] + '-' +-->\n<!--                                                   1 + '-' +-->\n<!--                                                   $param-prefix-domainA-pnfName[7] + '-' +-->\n<!--                                                   $param-prefix-domainA-pnfName[8]`\" />-->\n\n<parameter name='tmp.pce-src-node' value=\"`$param-prefix-domainA-pnfName[0] + '-' +\n                                                   $param-prefix-domainA-pnfName[1] + '-' +\n                                                   $param-prefix-domainA-pnfName[2] + '-' +\n                                                   $param-prefix-domainA-pnfName[3] + '-' +\n                                                   $param-prefix-domainA-pnfName[4] + '-' +\n                                                   $param-prefix-domainA-pnfName[5] + '-' +\n                                                   $otnTopoIdSrc + '-' +\n                                                   $param-prefix-domainA-pnfName[7] + '-' +\n                                                   $param-prefix-domainA-pnfName[8]`\" />",
        "comments": "",
        "x": 1147.566650390625,
        "y": 354.56666564941406,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "bdabda22.abbcf",
        "type": "set",
        "name": "set tmp.pce-dst-node",
        "xml": "<set>\n<!--<parameter name='$tmp.pce-dst-node' value=\"`$param-prefix-domainB-pnfName[0] + '-' +-->\n<!--                                                   $param-prefix-domainB-pnfName[1] + '-' +-->\n<!--                                                   $param-prefix-domainB-pnfName[2] + '-' +-->\n<!--                                                   $param-prefix-domainB-pnfName[3] + '-' +-->\n<!--                                                   $param-prefix-domainB-pnfName[4] + '-' +-->\n<!--                                                   $param-prefix-domainB-pnfName[5] + '-' +-->\n<!--                                                   1 + '-' +-->\n<!--                                                   $param-prefix-domainB-pnfName[7] + '-' +-->\n<!--                                                   $param-prefix-domainB-pnfName[8]`\" />-->\n<parameter name='tmp.pce-dst-node' value=\"`$param-prefix-domainB-pnfName[0] + '-' +\n                                                   $param-prefix-domainB-pnfName[1] + '-' +\n                                                   $param-prefix-domainB-pnfName[2] + '-' +\n                                                   $param-prefix-domainB-pnfName[3] + '-' +\n                                                   $param-prefix-domainB-pnfName[4] + '-' +\n                                                   $param-prefix-domainB-pnfName[5] + '-' +\n                                                   $otnTopoIdDst + '-' +\n                                                   $param-prefix-domainB-pnfName[7] + '-' +\n                                                   $param-prefix-domainB-pnfName[8]`\" />",
        "comments": "",
        "x": 1147.566650390625,
        "y": 394.56666564941406,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "78ed6398.2c281c",
        "type": "set",
        "name": "set src-ltpId",
        "xml": "<set>\n<parameter name='tmp.cross-link.src-ltpId' value=\"`$otn-oof.solutions[$vidx].src_pinterface`\" />\n<parameter name='tmp.src-pnf-name' value=\"`$otn-oof.solutions[$vidx].src_node`\" />\n",
        "comments": "",
        "x": 1280.566650390625,
        "y": 902.5666656494141,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "a81521ff.85b448",
        "type": "set",
        "name": "set dst-ltpId",
        "xml": "<set>\n<parameter name='tmp.cross-link.dst-ltpId' value=\"`$otn-oof.solutions[$vidx].dst_pinterface`\" />\n<parameter name='tmp.dst-pnf-name' value=\"`$otn-oof.solutions[$vidx].dst_node`\" />\n\n\n",
        "comments": "",
        "x": 1281.566650390625,
        "y": 952.5666656494141,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "2d95a78.15b9dd8",
        "type": "get-resource",
        "name": "get-resource network-resources-list",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"network-resources\"\n\t    key=\"selflink = 'https://aai.onap:8443/aai/v21/network/network-resources?depth=0'\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"allNetworksList\" >",
        "comments": "",
        "outputs": 1,
        "x": 1204.566650390625,
        "y": 78.56666564941406,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "85160fe1.7646a8",
                "5cf07174.f97d5",
                "95dd25f4.16dd98"
            ]
        ]
    },
    {
        "id": "5cf07174.f97d5",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1437.566650390625,
        "y": 102.56666564941406,
        "z": "a133aed2.437bc",
        "wires": [
            []
        ]
    },
    {
        "id": "95dd25f4.16dd98",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1451.566650390625,
        "y": 142.56666564941406,
        "z": "a133aed2.437bc",
        "wires": [
            []
        ]
    },
    {
        "id": "85160fe1.7646a8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1440.566650390625,
        "y": 61.56666564941406,
        "z": "a133aed2.437bc",
        "wires": [
            []
        ]
    },
    {
        "id": "fa4a5e3a.f8a4e8",
        "type": "for",
        "name": "for netwidx..allNetworksList_length",
        "xml": "<for index='netwidx' start='0' end='`$allNetworksList.network-resource_length`' >",
        "comments": "",
        "outputs": 1,
        "x": 1196.566650390625,
        "y": 124.56666564941406,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "a46c1b09.222d88"
            ]
        ]
    },
    {
        "id": "a46c1b09.222d88",
        "type": "switchNode",
        "name": "switch provider-id domainA",
        "xml": "<switch test='`$allNetworksList.network-resource[$netwidx].provider-id == $param-prefix-domainA-pnfName[2]`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1517.566650390625,
        "y": 200.56666564941406,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "d01d8d32.ec5d38",
                "81f4ca42.44c8"
            ]
        ]
    },
    {
        "id": "d01d8d32.ec5d38",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1741.566650390625,
        "y": 262.56666564941406,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "87874c93.14d4c8"
            ]
        ]
    },
    {
        "id": "87874c93.14d4c8",
        "type": "switchNode",
        "name": "switch te-topo-id",
        "xml": "<switch test='`$allNetworksList.network-resource[$netwidx].te-topo-id != $param-prefix-domainA-pnfName[6]`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1954.566650390625,
        "y": 262.56666564941406,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "1f97427e.3bd1ce"
            ]
        ]
    },
    {
        "id": "1f97427e.3bd1ce",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2119.566650390625,
        "y": 262.56666564941406,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "e1187fc2.b7873"
            ]
        ]
    },
    {
        "id": "e1187fc2.b7873",
        "type": "set",
        "name": "set otnTopoIdSrc",
        "xml": "<set>\n<parameter name='otnTopoIdSrc' value='`$allNetworksList.network-resource[$netwidx].te-topo-id`' />\n",
        "comments": "",
        "x": 2288.566650390625,
        "y": 262.56666564941406,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "81f4ca42.44c8",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1741.566650390625,
        "y": 315.56666564941406,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "c4d51181.d481d"
            ]
        ]
    },
    {
        "id": "c4d51181.d481d",
        "type": "switchNode",
        "name": "switch provider-id domainB",
        "xml": "<switch test='`$allNetworksList.network-resource[$netwidx].provider-id == $param-prefix-domainB-pnfName[2]`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1929.566650390625,
        "y": 315.56666564941406,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "1eb6a395.543214",
                "aff2e998.39f418"
            ]
        ]
    },
    {
        "id": "1eb6a395.543214",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2119.566650390625,
        "y": 315.56666564941406,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "131fed58.61933b"
            ]
        ]
    },
    {
        "id": "131fed58.61933b",
        "type": "switchNode",
        "name": "switch te-topo-id",
        "xml": "<switch test='`$allNetworksList.network-resource[$netwidx].te-topo-id != $param-prefix-domainB-pnfName[6]`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2287.566650390625,
        "y": 315.56666564941406,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "beb59651.122648"
            ]
        ]
    },
    {
        "id": "beb59651.122648",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2443.566650390625,
        "y": 315.56666564941406,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "27e9a268.b581ce"
            ]
        ]
    },
    {
        "id": "fe5f3417.d45418",
        "type": "set",
        "name": "set otnTopoIdDst",
        "xml": "<set>\n<parameter name='otnTopoIdDst' value='`$allNetworksList.network-resource[$netwidx].te-topo-id`' />\n",
        "comments": "",
        "x": 3138.566650390625,
        "y": 219.56666564941406,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "1732667e.72f262",
        "type": "set",
        "name": "unset parameters",
        "xml": "<set>\n<!--<parameter name='`otn-oof`' value='' />-->\n<parameter name='otn-oof.' value='' />\n<!--<parameter name='`otn-oof.solutions`' value='' />-->\n<!--<parameter name='`otn-oof.solutions.`' value='' />-->\n<!--<parameter name='`otn-oof.solutions_length`' value='0' />-->",
        "comments": "",
        "x": 1141.566650390625,
        "y": 295.56666564941406,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "2d0258cc.74942",
        "type": "set",
        "name": "unset parameters",
        "xml": "<set>\n<parameter name='tmp.pce-src-node.' value='' />\n",
        "comments": "",
        "x": 1150.566650390625,
        "y": 177.56666564941406,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "52bfffd9.b2be3",
        "type": "set",
        "name": "unset parameters",
        "xml": "<set>\n<parameter name='tmp.pce-dst-node.' value='' />\n",
        "comments": "",
        "x": 1148.566650390625,
        "y": 219.56666564941406,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "9fbe4c7e.064f2",
        "type": "record",
        "name": "record otn-oof.",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"`$otn-oof.`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1137.566650390625,
        "y": 530.5666656494141,
        "z": "a133aed2.437bc",
        "wires": [
            []
        ]
    },
    {
        "id": "6130a3db.8f4a2c",
        "type": "execute",
        "name": "execute printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n    <parameter name=\"filename\" value=\"`$filenamemm`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1159.566650390625,
        "y": 603.5666656494141,
        "z": "a133aed2.437bc",
        "wires": [
            []
        ]
    },
    {
        "id": "272b0d1.5ea4172",
        "type": "set",
        "name": "set filename",
        "xml": "<set>\n<!--<parameter name='tmp.pce-src-node' value=\"`$param-prefix-domainA-pnfName[0] + '-' +-->\n<!--                                                   $param-prefix-domainA-pnfName[1] + '-' +-->\n<!--                                                   $param-prefix-domainA-pnfName[2] + '-' +-->\n<!--                                                   $param-prefix-domainA-pnfName[3] + '-' +-->\n<!--                                                   $param-prefix-domainA-pnfName[4] + '-' +-->\n<!--                                                   $param-prefix-domainA-pnfName[5] + '-' +-->\n<!--                                                   1 + '-' +-->\n<!--                                                   $param-prefix-domainA-pnfName[7] + '-' +-->\n<!--                                                   $param-prefix-domainA-pnfName[8]`\" />-->\n\n<parameter name='filenamemm' value=\"`$tmp.pce-src-node + $tmp.pce-dst-node + $tmp.pce-dst-node-backup`\" />",
        "comments": "",
        "x": 1133.566650390625,
        "y": 566.5666656494141,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "aff2e998.39f418",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2109.566650390625,
        "y": 379.56666564941406,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "45368237.09cbd4"
            ]
        ]
    },
    {
        "id": "45368237.09cbd4",
        "type": "switchNode",
        "name": "switch provider-id domainC",
        "xml": "<switch test='`$allNetworksList.network-resource[$netwidx].provider-id == $param-prefix-domainC-pnfName[2]`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2310.566650390625,
        "y": 380.56666564941406,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "60978bb2.ce9a04"
            ]
        ]
    },
    {
        "id": "60978bb2.ce9a04",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2520.566650390625,
        "y": 380.56666564941406,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "cc22664a.751d9"
            ]
        ]
    },
    {
        "id": "2b3da5c.c5bcc5a",
        "type": "set",
        "name": "set otnTopoIdDstBackup",
        "xml": "<set>\n<parameter name='otnTopoIdDstBackup' value='`$allNetworksList.network-resource[$netwidx].te-topo-id`' />\n",
        "comments": "",
        "x": 3228.566650390625,
        "y": 470.5666961669922,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "c5b8562e.825c2",
        "type": "set",
        "name": "unset parameters",
        "xml": "<set>\n<parameter name='tmp.pce-dst-node-backup.' value='' />\n",
        "comments": "",
        "x": 1146.566650390625,
        "y": 257.56666564941406,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "f2fd0ea2.f13608",
        "type": "set",
        "name": "set tmp.pce-dst-node-backup",
        "xml": "<set>\n<!--<parameter name='$tmp.pce-dst-node' value=\"`$param-prefix-domainB-pnfName[0] + '-' +-->\n<!--                                                   $param-prefix-domainB-pnfName[1] + '-' +-->\n<!--                                                   $param-prefix-domainB-pnfName[2] + '-' +-->\n<!--                                                   $param-prefix-domainB-pnfName[3] + '-' +-->\n<!--                                                   $param-prefix-domainB-pnfName[4] + '-' +-->\n<!--                                                   $param-prefix-domainB-pnfName[5] + '-' +-->\n<!--                                                   1 + '-' +-->\n<!--                                                   $param-prefix-domainB-pnfName[7] + '-' +-->\n<!--                                                   $param-prefix-domainB-pnfName[8]`\" />-->\n<parameter name='tmp.pce-dst-node-backup' value=\"`$param-prefix-domainC-pnfName[0] + '-' +\n                                                   $param-prefix-domainC-pnfName[1] + '-' +\n                                                   $param-prefix-domainC-pnfName[2] + '-' +\n                                                   $param-prefix-domainC-pnfName[3] + '-' +\n                                                   $param-prefix-domainC-pnfName[4] + '-' +\n                                                   $param-prefix-domainC-pnfName[5] + '-' +\n                                                   $otnTopoIdDstBackup + '-' +\n                                                   $param-prefix-domainC-pnfName[7] + '-' +\n                                                   $param-prefix-domainC-pnfName[8]`\" />",
        "comments": "",
        "x": 1178.566650390625,
        "y": 435.56666564941406,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "5207916.8d843f",
        "type": "switchNode",
        "name": "switch $hasSecondary",
        "xml": "<switch test='`$hasSecondary`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1182.566650390625,
        "y": 682.5666656494141,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "9d24bff4.f7fc3",
                "53b4e0bd.3986c8"
            ]
        ]
    },
    {
        "id": "9d24bff4.f7fc3",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1373.566650390625,
        "y": 686.5666656494141,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "c8813a5.7f98b48"
            ]
        ]
    },
    {
        "id": "c8813a5.7f98b48",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1500.566650390625,
        "y": 685.5666656494141,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "b34bb5ff.c918e"
            ]
        ]
    },
    {
        "id": "53b4e0bd.3986c8",
        "type": "outcomeTrue",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1375.566650390625,
        "y": 639.5666656494141,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "758c479c.bf4b8"
            ]
        ]
    },
    {
        "id": "758c479c.bf4b8",
        "type": "execute",
        "name": "execute PCE in ccsdk/sli/core",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliTopologyUtils' method='computePath' >\n<parameter name=\"pnfs-pfx\" value='ccsdkTopopnfs'/>\n<parameter name=\"links-pfx\" value=\"ccsdkTopologicalLinks\"/>\n<parameter name=\"response-pfx\" value=\"otn-oof\"/>\n<parameter name=\"output-end-to-end-path\" value=\"false\"/>\n<!--<parameter name=\"src-node\" value=\"`$tmp.src.domainA.pnf-name`\"/>-->\n<!--<parameter name=\"dst-node\" value=\"`$tmp.dst.domainB.pnf-name`\"/>-->\n<parameter name=\"src-node\" value=\"`$tmp.pce-src-node`\"/>\n<parameter name=\"dst-node\" value=\"`$tmp.pce-dst-node`\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1749.566650390625,
        "y": 569.5666656494141,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "b6552b0f.7b51e8",
                "e27e8a21.4f0d3",
                "b3bc4161.bbb128"
            ]
        ]
    },
    {
        "id": "b6552b0f.7b51e8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1994.566650390625,
        "y": 601.5666656494141,
        "z": "a133aed2.437bc",
        "wires": [
            []
        ]
    },
    {
        "id": "e27e8a21.4f0d3",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2001.566650390625,
        "y": 643.5666656494141,
        "z": "a133aed2.437bc",
        "wires": [
            []
        ]
    },
    {
        "id": "b3bc4161.bbb128",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1996.566650390625,
        "y": 564.5666656494141,
        "z": "a133aed2.437bc",
        "wires": [
            []
        ]
    },
    {
        "id": "c19998ca.837848",
        "type": "for",
        "name": "for vidx..otn-oof.secondarySolutions_length[]",
        "xml": "<for index='vidx' start='0' end='`$otn-oof.secondarySolutions_length`' >",
        "comments": "",
        "outputs": 1,
        "x": 947.566650390625,
        "y": 2100.566665649414,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "decd0bab.6330f"
            ]
        ]
    },
    {
        "id": "decd0bab.6330f",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1052.0938720703125,
        "y": 2291.607437133789,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "81b9ae35.358fd",
                "74f1c10d.f5627",
                "64fb9896.7c1ac8",
                "74b04e90.089e28",
                "d162f07e.eec04"
            ]
        ]
    },
    {
        "id": "81b9ae35.358fd",
        "type": "set",
        "name": "set otn-oof.link-name and etc.",
        "xml": "<set>\n<parameter name='otn-oof.link-name' value='`$otn-oof.secondarySolutions[$vidx].original_link`' />\n<parameter name='otn-oof.start-node' value='`$otn-oof.secondarySolutions[$vidx].src_node`' />\n<parameter name='otn-oof.end-node' value='`$otn-oof.secondarySolutions[$vidx].dst_node`' />",
        "comments": "",
        "x": 1298.5938720703125,
        "y": 2184.607437133789,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "d162f07e.eec04",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1265.0938720703125,
        "y": 2373.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "9a15bd2c.c28818",
                "85fd58d.daa8628"
            ]
        ]
    },
    {
        "id": "74f1c10d.f5627",
        "type": "set",
        "name": "unset parameters",
        "xml": "<set>\n<parameter name='otn-oof.link-name' value='' />\n<!--<parameter name='tmp.aai.cross-link' value='' />-->\n<parameter name='tmp.aai.cross-link.' value='' />\n<!--<parameter name='tmp.aai.cross-link.link-role' value='' />-->\n\n<parameter name='tmp.src-pnf-name' value='' />\n<parameter name='tmp.cross-link.' value='' />\n<parameter name='tmp.dst-pnf-name' value='' />\n<parameter name='tmp.aai.src-tp.' value='' />\n<parameter name='param-prefix-src-tp.' value='' />\n<parameter name='tmp.aai.src-pnf.' value='' />\n<parameter name='tmp.domain-A.network-id' value='' />\n<parameter name='tmp.aai.src-network-resource.' value='' />\n<parameter name='tmp.domain-A.ttp-id' value='' />\n<parameter name='tmp.aai.src-ttp.' value='' />\n\n<parameter name='tmp.aai.dst-tp.' value='' />\n<parameter name='param-prefix-dst-tp.' value='' />\n<parameter name='tmp.aai.dst-pnf.' value='' />\n<parameter name='tmp.domain-C.network-id' value='' />\n<parameter name='tmp.aai.dst-network-resource.' value='' />\n<parameter name='tmp.domain-C.ttp-id' value='' />\n<parameter name='tmp.aai.dst-ttp.' value='' />\n\n",
        "comments": "",
        "x": 1289.59375,
        "y": 2113.3209381103516,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "64fb9896.7c1ac8",
        "type": "set",
        "name": "set src-ltpId",
        "xml": "<set>\n<parameter name='tmp.cross-link.src-ltpId' value=\"`$otn-oof.secondarySolutions[$vidx].src_pinterface`\" />\n<parameter name='tmp.src-pnf-name' value=\"`$otn-oof.secondarySolutions[$vidx].src_node`\" />\n",
        "comments": "",
        "x": 1271.59375,
        "y": 2244.3209381103516,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "74b04e90.089e28",
        "type": "set",
        "name": "set dst-ltpId",
        "xml": "<set>\n<parameter name='tmp.cross-link.dst-ltpId' value=\"`$otn-oof.secondarySolutions[$vidx].dst_pinterface`\" />\n<parameter name='tmp.dst-pnf-name' value=\"`$otn-oof.secondarySolutions[$vidx].dst_node`\" />\n\n\n",
        "comments": "",
        "x": 1272.59375,
        "y": 2294.3209381103516,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "46c3f571.5e6ab4",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2790.5936279296875,
        "y": 2108.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "190fafd3.9d5618"
            ]
        ]
    },
    {
        "id": "1af50a9f.ba08f5",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2823.59375,
        "y": 2166.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "eb6a21e7.d2544"
            ]
        ]
    },
    {
        "id": "9ac3f118.22cc9",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2826.59375,
        "y": 2218.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "5df935cf.d90ef4"
            ]
        ]
    },
    {
        "id": "eb6a21e7.d2544",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 3008.59375,
        "y": 2170.3209381103516,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "5df935cf.d90ef4",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 2996.59375,
        "y": 2221.3209381103516,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "76d93361.427b24",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='pintsidx' start='0' end='`$tmp.aai.src-tp.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3141.9764404296875,
        "y": 2103.980667114258,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "3f5fbc68.02a224"
            ]
        ]
    },
    {
        "id": "3f5fbc68.02a224",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.src-tp.relationship-list.relationship[$pintsidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3393.9764404296875,
        "y": 2100.980667114258,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "ba2b4720.d65cf"
            ]
        ]
    },
    {
        "id": "190fafd3.9d5618",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2924.5936279296875,
        "y": 2104.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "76d93361.427b24"
            ]
        ]
    },
    {
        "id": "85fd58d.daa8628",
        "type": "get-resource",
        "name": "get-resource src tp",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"p-interface\" \n\t\tkey=\"pnf.pnf-name = $tmp.src-pnf-name\n\t\t    AND p-interface.interface-name = $tmp.cross-link.src-ltpId\"\n        pfx='tmp.aai.src-tp' local-only='false' >\n    \n        <!--AND depth = '0'\"-->\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2593.09375,
        "y": 2147.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "46c3f571.5e6ab4",
                "1af50a9f.ba08f5",
                "9ac3f118.22cc9"
            ]
        ]
    },
    {
        "id": "17b12d07.01db03",
        "type": "set",
        "name": "set domain A node ttp-id",
        "xml": "<set>\n<parameter name='tmp.domain-A.ttp-id' value=\"`$tmp.aai.src-tp.relationship-list.relationship[$pintsidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 4127.0936279296875,
        "y": 2023.3209381103516,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "56dc3866.a81c4",
        "type": "get-resource",
        "name": "get-resource src TTP",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"tunnel-termination-point\" \n\t\tkey=\"tunnel-termination-point.ttp-id = $tmp.domain-A.ttp-id \n\t\tAND depth = '0'\"\n        pfx='tmp.aai.src-ttp' local-only='false' >\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4135.0936279296875,
        "y": 2075.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "bd3f106f.63b0f8"
            ]
        ]
    },
    {
        "id": "bd3f106f.63b0f8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4341.5936279296875,
        "y": 2053.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "e873d0c7.864da"
            ]
        ]
    },
    {
        "id": "ba2b4720.d65cf",
        "type": "outcome",
        "name": "tunnel-termination-point",
        "xml": "<outcome value='tunnel-termination-point'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3679.2620849609375,
        "y": 2101.802444458008,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "53671013.434608"
            ]
        ]
    },
    {
        "id": "53671013.434608",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3906.0936279296875,
        "y": 2090.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "17b12d07.01db03",
                "56dc3866.a81c4",
                "c0980ef4.f86658",
                "1febeafa.37d915",
                "ab68a575.dbe428"
            ]
        ]
    },
    {
        "id": "e873d0c7.864da",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4516.5936279296875,
        "y": 2049.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "42a0b5ef.0a3e6c"
            ]
        ]
    },
    {
        "id": "c0980ef4.f86658",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.src-pnf-name\"\n        pfx='tmp.aai.src-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3996.5936279296875,
        "y": 1893.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "fabc0bd7.062ae",
                "cfe003ed.a587d",
                "45d38fe1.3add68"
            ]
        ]
    },
    {
        "id": "fabc0bd7.062ae",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4192.09375,
        "y": 1845.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "c6a1c641.2a058"
            ]
        ]
    },
    {
        "id": "cfe003ed.a587d",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4184.09375,
        "y": 1900.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "1b4dfe50.a881e2"
            ]
        ]
    },
    {
        "id": "45d38fe1.3add68",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4189.09375,
        "y": 1957.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "6ffbe3ea.ec634c"
            ]
        ]
    },
    {
        "id": "6ffbe3ea.ec634c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4341.09375,
        "y": 1958.3209381103516,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "1b4dfe50.a881e2",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4352.09375,
        "y": 1903.3209381103516,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "c6a1c641.2a058",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4336.47607421875,
        "y": 1842.9766082763672,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "59cb321.8a1954c",
                "49c6e1ec.24535"
            ]
        ]
    },
    {
        "id": "59cb321.8a1954c",
        "type": "set",
        "name": "set domain A node-id and tpn",
        "xml": "<set>\n<parameter name='domain-A.node-id' value=\"`$tmp.aai.src-pnf.pnf-id`\" />\n<parameter name='domain-A.tpn' value='1' />\n\n\n<parameter name='`tmp.otninfoProtect[$vidx].dstPort.dst-access-node-id`' value=\"`$tmp.aai.src-pnf.pnf-id`\" />\n<parameter name='`tmp.otninfoProtect_length`' value='`$vidx + 1`' />",
        "comments": "",
        "x": 4561.5936279296875,
        "y": 1798.3209381103516,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "1febeafa.37d915",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 4083.5936279296875,
        "y": 2140.3209381103516,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "49c6e1ec.24535",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='pvidx' start='0' end='`$tmp.aai.src-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4520.5936279296875,
        "y": 1857.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "8d839c87.82ade8"
            ]
        ]
    },
    {
        "id": "ab68a575.dbe428",
        "type": "execute",
        "name": "execute split tp-id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<!--<parameter name=\"original_string\" value='`$tmp.aai.src-tp`'/>-->\n<parameter name=\"original_string\" value='`$tmp.aai.src-tp.interface-name`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-src-tp\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4024.5936279296875,
        "y": 1687.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "f1409763.115658",
                "697906a6.2f581"
            ]
        ]
    },
    {
        "id": "697906a6.2f581",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4245.5936279296875,
        "y": 1655.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "54d6be87.274308"
            ]
        ]
    },
    {
        "id": "f1409763.115658",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4245.5936279296875,
        "y": 1702.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "6390534f.61c684"
            ]
        ]
    },
    {
        "id": "54d6be87.274308",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4410.5936279296875,
        "y": 1652.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "f9eb1fe5.bf94b8"
            ]
        ]
    },
    {
        "id": "f9eb1fe5.bf94b8",
        "type": "set",
        "name": "set domain-A.ltpId",
        "xml": "<set>\n<parameter name='domain-A.ltpId' value='`$param-prefix-src-tp[$param-prefix-src-tp_length -1]`' />\n\n<parameter name='`tmp.otninfoProtect[$vidx].dstPort.dst-ltp-id`' value=\"`$param-prefix-src-tp[$param-prefix-src-tp_length -1]`\" />\n<parameter name='`tmp.otninfoProtect_length`' value='`$vidx + 1`' />",
        "comments": "",
        "x": 4592.5936279296875,
        "y": 1656.3209381103516,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "6390534f.61c684",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 4412.5936279296875,
        "y": 1702.3209381103516,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "78eb0221.5dfc84",
        "type": "comment",
        "name": "Not useful anymore",
        "info": "this domain-A.ltpId is not used anymore",
        "comments": "",
        "x": 4635.5936279296875,
        "y": 1632.3209381103516,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "42a0b5ef.0a3e6c",
        "type": "set",
        "name": "set domain A tunnel tp ip",
        "xml": "<set>\n<parameter name='domain-A.tunnel-tp-id' value=\"`$tmp.aai.src-ttp.tunnel-tp-id`\" />\n\n<parameter name='`tmp.otninfoProtect[$vidx].dstPort.dst-tunnel-tp-id`' value=\"`$tmp.aai.src-ttp.tunnel-tp-id`\" />\n<parameter name='`tmp.otninfoProtect_length`' value='`$vidx + 1`' />\n",
        "comments": "",
        "x": 4777.5936279296875,
        "y": 2046.3209381103516,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "ba5b9e92.be837",
        "type": "outcome",
        "name": "network-resource",
        "xml": "<outcome value='network-resource'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4918.5936279296875,
        "y": 1861.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "897ba475.c5f53"
            ]
        ]
    },
    {
        "id": "8d839c87.82ade8",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.src-pnf.relationship-list.relationship[$pvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4715.5936279296875,
        "y": 1857.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "ba5b9e92.be837"
            ]
        ]
    },
    {
        "id": "897ba475.c5f53",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5095.5936279296875,
        "y": 1853.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "bef188d5.c786d8",
                "792f44ce.13c154",
                "18753ca.06672c3"
            ]
        ]
    },
    {
        "id": "bef188d5.c786d8",
        "type": "set",
        "name": "set domain A network-id",
        "xml": "<set>\n<parameter name='tmp.domain-A.network-id' value=\"`$tmp.aai.src-pnf.relationship-list.relationship[$pvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 5310.5936279296875,
        "y": 1834.3209381103516,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "792f44ce.13c154",
        "type": "get-resource",
        "name": "get-resource src network-resource",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"network-resource\" \n\t\tkey=\"network-resource.network-id = $tmp.domain-A.network-id \n\t\tAND depth = '0'\"\n        pfx='tmp.aai.src-network-resource' local-only='false' >\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 5327.5936279296875,
        "y": 1898.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "5b892dc0.3c8d04"
            ]
        ]
    },
    {
        "id": "5b892dc0.3c8d04",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5551.0936279296875,
        "y": 1899.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "ba2d6189.94da7"
            ]
        ]
    },
    {
        "id": "ba2d6189.94da7",
        "type": "set",
        "name": "set domain A network-id, topo-id, client-id, etc",
        "xml": "<set>\n<parameter name='domain-A.network-id' value=\"`$tmp.aai.src-network-resource.network-id`\" />\n<parameter name='domain-A.provider-id' value=\"`$tmp.aai.src-network-resource.provider-id`\" />\n<parameter name='domain-A.client-id' value=\"`$tmp.aai.src-network-resource.client-id`\" />\n<parameter name='domain-A.te-topo-id' value=\"`$tmp.aai.src-network-resource.te-topo-id`\" />\n<parameter name='domain-A.network-type' value=\"`$tmp.aai.src-network-resource.network-type`\" />\n\n\n<parameter name='`tmp.otninfoProtect[$vidx].dstPort.dst-access-network-id`' value=\"`$tmp.aai.src-network-resource.network-id`\" />\n<parameter name='`tmp.otninfoProtect[$vidx].dstPort.dst-access-provider-id`' value=\"`$tmp.aai.src-network-resource.provider-id`\" />\n<parameter name='`tmp.otninfoProtect[$vidx].dstPort.dst-access-client-id`' value=\"`$tmp.aai.src-network-resource.client-id`\" />\n<parameter name='`tmp.otninfoProtect[$vidx].dstPort.dst-access-topology-id`' value=\"`$tmp.aai.src-network-resource.te-topo-id`\" />\n<parameter name='`tmp.otninfoProtect[$vidx].dstPort.dst-access-network-type`' value=\"`$tmp.aai.src-network-resource.network-type`\" />\n<parameter name='`tmp.otninfoProtect`' value='`$vidx + 1`' />\n\n\n",
        "comments": "",
        "x": 5815.5936279296875,
        "y": 1888.3209381103516,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "18753ca.06672c3",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 5254.5936279296875,
        "y": 1951.3209381103516,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "8130be42.c4b418",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 2466.0936279296875,
        "y": 2617.3209381103516,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "9a15bd2c.c28818",
        "type": "get-resource",
        "name": "get-resource dst tp",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"p-interface\" \n\t\tkey=\"pnf.pnf-name = $tmp.dst-pnf-name\n\t\t    AND p-interface.interface-name = $tmp.cross-link.dst-ltpId\"\n        pfx='tmp.aai.dst-tp' local-only='false' >\n    \n        <!--AND depth = '0'\"-->\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2547.09375,
        "y": 2513.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "bbfaea50.2f8978",
                "48b1011.95ef3",
                "f850bc1.45f5a4"
            ]
        ]
    },
    {
        "id": "bbfaea50.2f8978",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2769.5936279296875,
        "y": 2655.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "8bd3d4c4.129cd"
            ]
        ]
    },
    {
        "id": "48b1011.95ef3",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2753.5936279296875,
        "y": 2706.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "31d51c19.564114"
            ]
        ]
    },
    {
        "id": "f850bc1.45f5a4",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2756.5936279296875,
        "y": 2758.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "e3e65a88.eeb708"
            ]
        ]
    },
    {
        "id": "e3e65a88.eeb708",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 2926.5936279296875,
        "y": 2761.3209381103516,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "31d51c19.564114",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 2938.5936279296875,
        "y": 2710.3209381103516,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "93be1dc8.40e81",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='pintdidx' start='0' end='`$tmp.aai.dst-tp.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3125.9764404296875,
        "y": 2665.980667114258,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "fdc63182.4572f"
            ]
        ]
    },
    {
        "id": "fdc63182.4572f",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.dst-tp.relationship-list.relationship[$pintdidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3368.9764404296875,
        "y": 2664.980667114258,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "d054e714.1f47"
            ]
        ]
    },
    {
        "id": "8bd3d4c4.129cd",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2915.5936279296875,
        "y": 2646.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "93be1dc8.40e81"
            ]
        ]
    },
    {
        "id": "d054e714.1f47",
        "type": "outcome",
        "name": "tunnel-termination-point",
        "xml": "<outcome value='tunnel-termination-point'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3625.2620849609375,
        "y": 2664.802444458008,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "64e60c2e.997314"
            ]
        ]
    },
    {
        "id": "64e60c2e.997314",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3925.0936279296875,
        "y": 2662.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "1bae9a4e.9212ce",
                "de2043de.3cb548",
                "3a2030d6.3a864",
                "5ff21da9.833f84",
                "8657cf90.772ff"
            ]
        ]
    },
    {
        "id": "1bae9a4e.9212ce",
        "type": "set",
        "name": "set domain C node ttp-id",
        "xml": "<set>\n<parameter name='tmp.domain-C.ttp-id' value=\"`$tmp.aai.dst-tp.relationship-list.relationship[$pintdidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 4167.0936279296875,
        "y": 2616.3209381103516,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "de2043de.3cb548",
        "type": "get-resource",
        "name": "get-resource dst TTP",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"tunnel-termination-point\" \n\t\tkey=\"tunnel-termination-point.ttp-id = $tmp.domain-C.ttp-id \n\t\tAND depth = '0'\"\n        pfx='tmp.aai.dst-ttp' local-only='false' >\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4157.0936279296875,
        "y": 2667.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "5c3476dc.51e558"
            ]
        ]
    },
    {
        "id": "5c3476dc.51e558",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4344.5936279296875,
        "y": 2665.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "4eaafddf.a6a3f4"
            ]
        ]
    },
    {
        "id": "4eaafddf.a6a3f4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4533.5936279296875,
        "y": 2654.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "c29c48f8.7f86a8"
            ]
        ]
    },
    {
        "id": "5ff21da9.833f84",
        "type": "get-resource",
        "name": "get-resource dst pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.dst-pnf-name\"\n        pfx='tmp.aai.dst-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3993.5936279296875,
        "y": 2496.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "89d8cb14.97ad38",
                "b75d0391.114cc8",
                "e1054df9.4be03"
            ]
        ]
    },
    {
        "id": "e1054df9.4be03",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4189.09375,
        "y": 2448.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "1aa1ec12.0bb82c"
            ]
        ]
    },
    {
        "id": "b75d0391.114cc8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4181.09375,
        "y": 2503.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "e4160067.4070c"
            ]
        ]
    },
    {
        "id": "89d8cb14.97ad38",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4186.09375,
        "y": 2560.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "f68c7777.771208"
            ]
        ]
    },
    {
        "id": "1aa1ec12.0bb82c",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4333.47607421875,
        "y": 2445.976608276367,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "f0006d82.9607f",
                "e28e5fb.1f15da"
            ]
        ]
    },
    {
        "id": "e4160067.4070c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4349.09375,
        "y": 2506.3209381103516,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "f68c7777.771208",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4338.09375,
        "y": 2561.3209381103516,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "f0006d82.9607f",
        "type": "set",
        "name": "set domain C node-id and tpn",
        "xml": "<set>\n<parameter name='domain-C.node-id' value=\"`$tmp.aai.dst-pnf.pnf-id`\" />\n<parameter name='domain-C.tpn' value='1' />\n\n\n<parameter name='`tmp.otninfoProtect[$vidx + 1].srcPort.src-access-node-id`' value=\"`$tmp.aai.dst-pnf.pnf-id`\" />\n<parameter name='`tmp.otninfoProtect_length`' value='`$vidx + 2`' />",
        "comments": "",
        "x": 4542.5936279296875,
        "y": 2413.3209381103516,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "3a2030d6.3a864",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 4112.5936279296875,
        "y": 2708.3209381103516,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "e28e5fb.1f15da",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='mvidx' start='0' end='`$tmp.aai.dst-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4521.5936279296875,
        "y": 2464.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "6f7c8401.0c5c44"
            ]
        ]
    },
    {
        "id": "8657cf90.772ff",
        "type": "execute",
        "name": "execute split tp-id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.aai.dst-tp`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-dst-tp\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4032.5936279296875,
        "y": 2311.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "1edc2bcc.25093c",
                "7c75489d.8c3e48"
            ]
        ]
    },
    {
        "id": "7c75489d.8c3e48",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4253.5936279296875,
        "y": 2279.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "1008d1fe.94472e"
            ]
        ]
    },
    {
        "id": "1edc2bcc.25093c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4253.5936279296875,
        "y": 2326.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "409a6e6.a5b3f9"
            ]
        ]
    },
    {
        "id": "1008d1fe.94472e",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4418.5936279296875,
        "y": 2276.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "e91b8d2.d0cd6f"
            ]
        ]
    },
    {
        "id": "e91b8d2.d0cd6f",
        "type": "set",
        "name": "set domain-C.ltpId",
        "xml": "<set>\n<parameter name='domain-C.ltpId' value='`$param-prefix-dst-tp[$param-prefix-dst-tp_length -1]`' />\n\n<parameter name='`tmp.otninfoProtect[$vidx + 1].srcPort.src-ltp-id`' value=\"`$param-prefix-dst-tp[$param-prefix-dst-tp_length -1]`\" />\n<parameter name='`tmp.otninfoProtect_length`' value='`$vidx + 2`' />",
        "comments": "",
        "x": 4614.5936279296875,
        "y": 2273.3209381103516,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "409a6e6.a5b3f9",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 4420.5936279296875,
        "y": 2326.3209381103516,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "8a9fa566.6d58a8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5135.0936279296875,
        "y": 2466.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "7fa0b1d.d6b0bd",
                "7faa7643.b3f3a8",
                "2f37cf12.b49ef8"
            ]
        ]
    },
    {
        "id": "19157173.11a35f",
        "type": "outcome",
        "name": "network-resource",
        "xml": "<outcome value='network-resource'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4922.0936279296875,
        "y": 2465.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "8a9fa566.6d58a8"
            ]
        ]
    },
    {
        "id": "c29c48f8.7f86a8",
        "type": "set",
        "name": "set domain C tunnel tp id",
        "xml": "<set>\n<parameter name='domain-C.tunnel-tp-id' value=\"`$tmp.aai.dst-ttp.tunnel-tp-id`\" />\n\n<parameter name='`tmp.otninfoProtect[$vidx + 1].srcPort.src-tunnel-tp-id`' value=\"`$tmp.aai.dst-ttp.tunnel-tp-id`\" />\n<parameter name='`tmp.otninfoProtect_length`' value='`$vidx + 2`' />",
        "comments": "",
        "x": 4766.5936279296875,
        "y": 2653.3209381103516,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "6f7c8401.0c5c44",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.dst-pnf.relationship-list.relationship[$mvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4716.5936279296875,
        "y": 2464.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "19157173.11a35f"
            ]
        ]
    },
    {
        "id": "2f37cf12.b49ef8",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 5340.5936279296875,
        "y": 2544.3209381103516,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "be660170.47dfc",
        "type": "comment",
        "name": "Not useful anymore",
        "info": "this domain-B.ltpId is not used anymore",
        "comments": "",
        "x": 4657.5936279296875,
        "y": 2245.3209381103516,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "7fa0b1d.d6b0bd",
        "type": "set",
        "name": "set domain C network-id",
        "xml": "<set>\n<parameter name='tmp.domain-C.network-id' value=\"`$tmp.aai.dst-pnf.relationship-list.relationship[$mvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 5405.0936279296875,
        "y": 2442.3209381103516,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "7faa7643.b3f3a8",
        "type": "get-resource",
        "name": "get-resource dst network-resource",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"network-resource\" \n\t\tkey=\"network-resource.network-id = $tmp.domain-C.network-id \n\t\tAND depth = '0'\"\n        pfx='tmp.aai.dst-network-resource' local-only='false' >\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 5415.0936279296875,
        "y": 2488.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "e4da28c1.f29fa8"
            ]
        ]
    },
    {
        "id": "e4da28c1.f29fa8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5630.5936279296875,
        "y": 2479.3209381103516,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "93b6182a.3d472"
            ]
        ]
    },
    {
        "id": "93b6182a.3d472",
        "type": "set",
        "name": "set domain B network-id, topo-id, client-id, etc",
        "xml": "<set>\n<parameter name='domain-C.network-id' value=\"`$tmp.aai.dst-network-resource.network-id`\" />\n<parameter name='domain-C.provider-id' value=\"`$tmp.aai.dst-network-resource.provider-id`\" />\n<parameter name='domain-C.client-id' value=\"`$tmp.aai.dst-network-resource.client-id`\" />\n<parameter name='domain-C.te-topo-id' value=\"`$tmp.aai.dst-network-resource.te-topo-id`\" />\n<parameter name='domain-C.network-type' value=\"`$tmp.aai.dst-network-resource.network-type`\" />\n\n\n<parameter name='`tmp.otninfoProtect[$vidx + 1].srcPort.src-access-network-id`' value=\"`$tmp.aai.dst-network-resource.network-id`\" />\n<parameter name='`tmp.otninfoProtect[$vidx + 1].srcPort.src-access-provider-id`' value=\"`$tmp.aai.dst-network-resource.provider-id`\" />\n<parameter name='`tmp.otninfoProtect[$vidx + 1].srcPort.src-access-client-id`' value=\"`$tmp.aai.dst-network-resource.client-id`\" />\n<parameter name='`tmp.otninfoProtect[$vidx + 1].srcPort.src-access-topology-id`' value=\"`$tmp.aai.dst-network-resource.te-topo-id`\" />\n<parameter name='`tmp.otninfoProtect[$vidx + 1].srcPort.src-access-network-type`' value=\"`$tmp.aai.dst-network-resource.network-type`\" />\n<parameter name='`tmp.otninfoProtect`' value='`$vidx + 2`' />",
        "comments": "",
        "x": 5885.0936279296875,
        "y": 2485.3209381103516,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "4ccd67a2.a775c8",
        "type": "switchNode",
        "name": "switch $hasSecondary",
        "xml": "<switch test='`$hasSecondary`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2791.7666015625,
        "y": 303.6499938964844,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "aa20e714.81e31",
                "2de4f8e2.b5cb18"
            ]
        ]
    },
    {
        "id": "aa20e714.81e31",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2982.7666015625,
        "y": 307.6499938964844,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "4f32b0ce.2765f8"
            ]
        ]
    },
    {
        "id": "4f32b0ce.2765f8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3109.7666015625,
        "y": 306.6499938964844,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "fabeb9f8.04ca88"
            ]
        ]
    },
    {
        "id": "fabeb9f8.04ca88",
        "type": "switchNode",
        "name": "switch 2-ROOTS in same domain?",
        "xml": "<!-- This is to check the provider-id of ROOt and SECONDARY-ROOT-->\n<switch test='`$param-prefix-domainB[$param-prefix-domainB_length -9] == $param-prefix-domainC[$param-prefix-domainC_length -9]`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3332.64990234375,
        "y": 301.53330993652344,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "412e1237.d5a904",
                "43345576.1d340c"
            ]
        ]
    },
    {
        "id": "412e1237.d5a904",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3539.64990234375,
        "y": 238.53330993652344,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "f849ec26.60ce68"
            ]
        ]
    },
    {
        "id": "43345576.1d340c",
        "type": "outcomeTrue",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3469.64990234375,
        "y": 429.53334045410156,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "2b8c6199.dff38e"
            ]
        ]
    },
    {
        "id": "f849ec26.60ce68",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3681.64990234375,
        "y": 228.53330993652344,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "7903a049.c8cd48",
                "db701786.21e23"
            ]
        ]
    },
    {
        "id": "2b8c6199.dff38e",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3595.64990234375,
        "y": 429.53334045410156,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "66a832b6.6cd354"
            ]
        ]
    },
    {
        "id": "27e9a268.b581ce",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2592.533447265625,
        "y": 306.65000915527344,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "4ccd67a2.a775c8"
            ]
        ]
    },
    {
        "id": "2de4f8e2.b5cb18",
        "type": "outcomeTrue",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2987.5,
        "y": 259.6499938964844,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "fe5f3417.d45418"
            ]
        ]
    },
    {
        "id": "7903a049.c8cd48",
        "type": "set",
        "name": "set otnTopoIdDst",
        "xml": "<set>\n<parameter name='otnTopoIdDst' value='`$allNetworksList.network-resource[$netwidx].te-topo-id`' />\n",
        "comments": "",
        "x": 3840.2333984375,
        "y": 207.64999389648438,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "db701786.21e23",
        "type": "set",
        "name": "set otnTopoIdDstBackup",
        "xml": "<set>\n<parameter name='otnTopoIdDstBackup' value='`$allNetworksList.network-resource[$netwidx].te-topo-id`' />\n",
        "comments": "",
        "x": 3862.2333984375,
        "y": 255.64999389648438,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "66a832b6.6cd354",
        "type": "set",
        "name": "set otnTopoIdDst",
        "xml": "<set>\n<parameter name='otnTopoIdDst' value='`$allNetworksList.network-resource[$netwidx].te-topo-id`' />\n",
        "comments": "",
        "x": 3766.2333984375,
        "y": 429.65000915527344,
        "z": "a133aed2.437bc",
        "wires": []
    },
    {
        "id": "cc22664a.751d9",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2661.25,
        "y": 381.4499969482422,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "2f2b5b65.5b64dc"
            ]
        ]
    },
    {
        "id": "2f2b5b65.5b64dc",
        "type": "switchNode",
        "name": "switch $hasSecondary",
        "xml": "<switch test='`$hasSecondary`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2860.483154296875,
        "y": 378.4499816894531,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "36697354.fca184"
            ]
        ]
    },
    {
        "id": "36697354.fca184",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3051.483154296875,
        "y": 382.4499816894531,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "5c3e361c.5c18a8"
            ]
        ]
    },
    {
        "id": "5c3e361c.5c18a8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3178.483154296875,
        "y": 381.4499816894531,
        "z": "a133aed2.437bc",
        "wires": [
            []
        ]
    },
    {
        "id": "b1b9b64d.59ccf8",
        "type": "switchNode",
        "name": "switch secondarySolutions empty?",
        "xml": "<switch test='`length($otn-oof.secondarySolutions) == 0`'>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1522.13330078125,
        "y": 1685.133316040039,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "65a1fc27.84c2b4",
                "d975b6ca.6d1d08"
            ]
        ]
    },
    {
        "id": "65a1fc27.84c2b4",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1748.0333251953125,
        "y": 1657.133316040039,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "c43f0dda.93b268"
            ]
        ]
    },
    {
        "id": "d975b6ca.6d1d08",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1746.0333251953125,
        "y": 1707.133316040039,
        "z": "a133aed2.437bc",
        "wires": [
            []
        ]
    },
    {
        "id": "c43f0dda.93b268",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1890.13330078125,
        "y": 1657.133316040039,
        "z": "a133aed2.437bc",
        "wires": [
            []
        ]
    },
    {
        "id": "949527f9.d2ae5",
        "type": "switchNode",
        "name": "switch $hasSecondary",
        "xml": "<switch test='`$hasSecondary`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 901.0333251953125,
        "y": 1874.133316040039,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "c20cf138.dc1e5"
            ]
        ]
    },
    {
        "id": "c20cf138.dc1e5",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1087.0333251953125,
        "y": 1875.133316040039,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "2941d5fe.c9ad8a"
            ]
        ]
    },
    {
        "id": "2941d5fe.c9ad8a",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1217.0333251953125,
        "y": 1875.133316040039,
        "z": "a133aed2.437bc",
        "wires": [
            [
                "c19998ca.837848"
            ]
        ]
    }
]