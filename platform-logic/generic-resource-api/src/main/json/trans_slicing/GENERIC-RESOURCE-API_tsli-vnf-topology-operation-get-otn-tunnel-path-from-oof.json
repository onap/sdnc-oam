[
    {
        "id": "fc9c1aac.15e298",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 267.566650390625,
        "y": 147.56666564941406,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "d48028b8.734c18"
            ]
        ]
    },
    {
        "id": "d48028b8.734c18",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 414.566650390625,
        "y": 722.5666809082031,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "20ab20d.05eaa6"
            ]
        ]
    },
    {
        "id": "20ab20d.05eaa6",
        "type": "method",
        "name": "tsli-vnf-topology-operation-get-otn-tunnel-path-from-oof",
        "xml": "<method rpc='tsli-vnf-topology-operation-get-otn-tunnel-path-from-oof' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 478.5667724609375,
        "y": 815.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "15c9c6e5.8adb41"
            ]
        ]
    },
    {
        "id": "7d1edda.6460624",
        "type": "execute",
        "name": "execute RestApiCallNode getPath from OOF",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.oof-getpath.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.restapi.connection-oof-url + '?ethsrvType=' + $prop.ethsrvType`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.oof.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.oof.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"otn-oof\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 524.5397186279297,
        "y": 334.56266593933105,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "b836c23.f213d4",
                "b41c1ac8.bdb5d8"
            ]
        ]
    },
    {
        "id": "b836c23.f213d4",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 764.5398597717285,
        "y": 358.56263542175293,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "280c0da5.df047a"
            ]
        ]
    },
    {
        "id": "ef8bf8a6.b8f32",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing OOF api\" />\n",
        "comments": "",
        "x": 934.5397796630859,
        "y": 298.5627269744873,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "b41c1ac8.bdb5d8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 763.5396461486816,
        "y": 307.562726020813,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "ef8bf8a6.b8f32"
            ]
        ]
    },
    {
        "id": "58272be4.dd9a64",
        "type": "comment",
        "name": "OTN tunnel path computation",
        "info": "TODO: check input parameters -- they should be\nthe source and destination of ETH node+tp.",
        "comments": "",
        "x": 496.04351806640625,
        "y": 290.56666564941406,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "fe39b144.2b541",
        "type": "for",
        "name": "for vidx..otn-oof.solutions_length[]",
        "xml": "<for index='vidx' start='0' end='`$otn-oof.solutions_length`' >",
        "comments": "",
        "outputs": 1,
        "x": 952.53955078125,
        "y": 783.8123931884766,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "96e8d308.a8c428"
            ]
        ]
    },
    {
        "id": "b5c8fac8.0621d",
        "type": "comment",
        "name": "Loop through OTN links",
        "info": "",
        "comments": "",
        "x": 1036.0398559570312,
        "y": 863.3127593994141,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "96e8d308.a8c428",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1057.0667724609375,
        "y": 974.8531646728516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "3c519c2d.98476c",
                "1de6c693.7d01c1",
                "a1a53385.974798",
                "9bfb8439.b10f28",
                "783a66ea.ba8628"
            ]
        ]
    },
    {
        "id": "3c519c2d.98476c",
        "type": "set",
        "name": "set otn-oof.link-name and etc.",
        "xml": "<set>\n<parameter name='otn-oof.link-name' value='`$otn-oof.solutions[$vidx].original_link`' />\n<parameter name='otn-oof.start-node' value='`$otn-oof.solutions[$vidx].src_node`' />\n<parameter name='otn-oof.end-node' value='`$otn-oof.solutions[$vidx].dst_node`' />",
        "comments": "",
        "x": 1303.5667724609375,
        "y": 867.8531646728516,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "280c0da5.df047a",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 909.5669059753418,
        "y": 356.30812072753906,
        "z": "67ca1183.dbac8",
        "wires": [
            []
        ]
    },
    {
        "id": "15c9c6e5.8adb41",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 719.5355339050293,
        "y": 742.3083028793335,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "fe39b144.2b541",
                "f100fc15.cb611",
                "a5abe9c0.4a1de8",
                "ed4632fb.07dd2"
            ]
        ]
    },
    {
        "id": "fe68f179.056eb",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 2471.0665283203125,
        "y": 1300.566665649414,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "783a66ea.ba8628",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1270.0667724609375,
        "y": 1056.566665649414,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "7a308ca1.9cbfbc",
                "19d9f05a.a412f"
            ]
        ]
    },
    {
        "id": "ce0e0e02.f12888",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2795.5665283203125,
        "y": 791.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "4d1bf28e.0579dc"
            ]
        ]
    },
    {
        "id": "c7bf5d64.76752",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2828.566650390625,
        "y": 849.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "a670610c.4f3e28"
            ]
        ]
    },
    {
        "id": "fc569894.8123c8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2831.566650390625,
        "y": 901.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "e1a85bd7.1fa258"
            ]
        ]
    },
    {
        "id": "a670610c.4f3e28",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 3013.566650390625,
        "y": 853.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "e1a85bd7.1fa258",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 3001.566650390625,
        "y": 904.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "baff4d0c.aaca1",
        "type": "set",
        "name": "set domain A node ttp-id",
        "xml": "<set>\n<parameter name='tmp.domain-A.ttp-id' value=\"`$tmp.aai.src-tp.relationship-list.relationship[$pintsidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 4132.0665283203125,
        "y": 706.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "82ddb847.c08398",
        "type": "get-resource",
        "name": "get-resource src TTP",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"tunnel-termination-point\" \n\t\tkey=\"tunnel-termination-point.ttp-id = $tmp.domain-A.ttp-id \n\t\tAND depth = '0'\"\n        pfx='tmp.aai.src-ttp' local-only='false' >\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4140.0665283203125,
        "y": 758.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "437fe605.198888"
            ]
        ]
    },
    {
        "id": "437fe605.198888",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4346.5665283203125,
        "y": 736.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "7e83e46.c53ab1c"
            ]
        ]
    },
    {
        "id": "284fe9f7.649b56",
        "type": "outcome",
        "name": "tunnel-termination-point",
        "xml": "<outcome value='tunnel-termination-point'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3684.2349853515625,
        "y": 785.0481719970703,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "ecfea11a.4af0a8"
            ]
        ]
    },
    {
        "id": "e3b37de8.f69768",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='pintsidx' start='0' end='`$tmp.aai.src-tp.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3146.9493408203125,
        "y": 787.2263946533203,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "bc95cd6e.89d798"
            ]
        ]
    },
    {
        "id": "bc95cd6e.89d798",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.src-tp.relationship-list.relationship[$pintsidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3398.9493408203125,
        "y": 784.2263946533203,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "284fe9f7.649b56"
            ]
        ]
    },
    {
        "id": "ecfea11a.4af0a8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3911.0665283203125,
        "y": 773.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "baff4d0c.aaca1",
                "82ddb847.c08398",
                "32be1e9f.8d32f2",
                "8b458d6.d1c047",
                "47876c9d.2d5e64"
            ]
        ]
    },
    {
        "id": "7a308ca1.9cbfbc",
        "type": "get-resource",
        "name": "get-resource dst tp",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"p-interface\" \n\t\tkey=\"pnf.pnf-name = $tmp.dst-pnf-name\n\t\t    AND p-interface.interface-name = $tmp.cross-link.dst-ltpId\"\n        pfx='tmp.aai.dst-tp' local-only='false' >\n    \n        <!--AND depth = '0'\"-->\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2552.066650390625,
        "y": 1196.566665649414,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "18e8f4ed.e62f0b",
                "6bcecaf3.608064",
                "daca2c43.c064c"
            ]
        ]
    },
    {
        "id": "18e8f4ed.e62f0b",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2774.5665283203125,
        "y": 1338.566665649414,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "1c008bda.b418e4"
            ]
        ]
    },
    {
        "id": "6bcecaf3.608064",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2758.5665283203125,
        "y": 1389.566665649414,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "fc52fd91.ea4bc"
            ]
        ]
    },
    {
        "id": "daca2c43.c064c",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2761.5665283203125,
        "y": 1441.566665649414,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "f7ddd856.02ac8"
            ]
        ]
    },
    {
        "id": "f7ddd856.02ac8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 2931.5665283203125,
        "y": 1444.566665649414,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "fc52fd91.ea4bc",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 2943.5665283203125,
        "y": 1393.566665649414,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "aeaaf44d.bee068",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='pintdidx' start='0' end='`$tmp.aai.dst-tp.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3130.9493408203125,
        "y": 1349.2263946533203,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "483a13b3.bed314"
            ]
        ]
    },
    {
        "id": "483a13b3.bed314",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.dst-tp.relationship-list.relationship[$pintdidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3373.9493408203125,
        "y": 1348.2263946533203,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "2191662c.b339a2"
            ]
        ]
    },
    {
        "id": "c3e020b0.f8e488",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5140.0665283203125,
        "y": 1149.566665649414,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "9dea42c1.8bc43",
                "ceda48be.b18b08",
                "95babe9d.55be58"
            ]
        ]
    },
    {
        "id": "2191662c.b339a2",
        "type": "outcome",
        "name": "tunnel-termination-point",
        "xml": "<outcome value='tunnel-termination-point'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3630.2349853515625,
        "y": 1348.0481719970703,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "ff383ac4.0c7878"
            ]
        ]
    },
    {
        "id": "621e0b6.dcff474",
        "type": "outcome",
        "name": "network-resource",
        "xml": "<outcome value='network-resource'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4927.0665283203125,
        "y": 1148.566665649414,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "c3e020b0.f8e488"
            ]
        ]
    },
    {
        "id": "ff383ac4.0c7878",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3930.0665283203125,
        "y": 1345.566665649414,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "9cfb57c0.ea373",
                "3ddfd145.96f4a6",
                "9f1a5b61.2db4f8",
                "d886450f.a1491",
                "52d7e7df.a91a1"
            ]
        ]
    },
    {
        "id": "9cfb57c0.ea373",
        "type": "set",
        "name": "set domain B node ttp-id",
        "xml": "<set>\n<parameter name='tmp.domain-B.ttp-id' value=\"`$tmp.aai.dst-tp.relationship-list.relationship[$pintdidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 4172.0665283203125,
        "y": 1299.566665649414,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "3ddfd145.96f4a6",
        "type": "get-resource",
        "name": "get-resource dst TTP",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"tunnel-termination-point\" \n\t\tkey=\"tunnel-termination-point.ttp-id = $tmp.domain-B.ttp-id \n\t\tAND depth = '0'\"\n        pfx='tmp.aai.dst-ttp' local-only='false' >\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4162.0665283203125,
        "y": 1350.566665649414,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "8168eb1f.c9019"
            ]
        ]
    },
    {
        "id": "8168eb1f.c9019",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4349.5665283203125,
        "y": 1348.566665649414,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "dcc1c099.d5e73"
            ]
        ]
    },
    {
        "id": "9dea42c1.8bc43",
        "type": "set",
        "name": "set domain B network-id",
        "xml": "<set>\n<parameter name='tmp.domain-B.network-id' value=\"`$tmp.aai.dst-pnf.relationship-list.relationship[$mvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 5410.0665283203125,
        "y": 1125.566665649414,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "ceda48be.b18b08",
        "type": "get-resource",
        "name": "get-resource dst network-resource",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"network-resource\" \n\t\tkey=\"network-resource.network-id = $tmp.domain-B.network-id \n\t\tAND depth = '0'\"\n        pfx='tmp.aai.dst-network-resource' local-only='false' >\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 5420.0665283203125,
        "y": 1171.566665649414,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "5211d808.8195d"
            ]
        ]
    },
    {
        "id": "5211d808.8195d",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5635.5665283203125,
        "y": 1162.566665649414,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "a23302e4.374318"
            ]
        ]
    },
    {
        "id": "a23302e4.374318",
        "type": "set",
        "name": "set domain B network-id, topo-id, client-id, etc",
        "xml": "<set>\n<parameter name='domain-B.network-id' value=\"`$tmp.aai.dst-network-resource.network-id`\" />\n<parameter name='domain-B.provider-id' value=\"`$tmp.aai.dst-network-resource.provider-id`\" />\n<parameter name='domain-B.client-id' value=\"`$tmp.aai.dst-network-resource.client-id`\" />\n<parameter name='domain-B.te-topo-id' value=\"`$tmp.aai.dst-network-resource.te-topo-id`\" />\n<parameter name='domain-B.network-type' value=\"`$tmp.aai.dst-network-resource.network-type`\" />\n\n\n<parameter name='`tmp.otninfo[$vidx + 1].srcPort.src-access-network-id`' value=\"`$tmp.aai.dst-network-resource.network-id`\" />\n<parameter name='`tmp.otninfo[$vidx + 1].srcPort.src-access-provider-id`' value=\"`$tmp.aai.dst-network-resource.provider-id`\" />\n<parameter name='`tmp.otninfo[$vidx + 1].srcPort.src-access-client-id`' value=\"`$tmp.aai.dst-network-resource.client-id`\" />\n<parameter name='`tmp.otninfo[$vidx + 1].srcPort.src-access-topology-id`' value=\"`$tmp.aai.dst-network-resource.te-topo-id`\" />\n<parameter name='`tmp.otninfo[$vidx + 1].srcPort.src-access-network-type`' value=\"`$tmp.aai.dst-network-resource.network-type`\" />\n<parameter name='`tmp.otninfo_length`' value='`$vidx + 2`' />",
        "comments": "",
        "x": 5890.0665283203125,
        "y": 1168.566665649414,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "4d1bf28e.0579dc",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2929.5665283203125,
        "y": 787.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "e3b37de8.f69768"
            ]
        ]
    },
    {
        "id": "1c008bda.b418e4",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2920.5665283203125,
        "y": 1329.566665649414,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "aeaaf44d.bee068"
            ]
        ]
    },
    {
        "id": "7e83e46.c53ab1c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4521.5665283203125,
        "y": 732.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "74f28a96.737404"
            ]
        ]
    },
    {
        "id": "dcc1c099.d5e73",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4538.5665283203125,
        "y": 1337.566665649414,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "c1ec44c6.22ea78"
            ]
        ]
    },
    {
        "id": "19d9f05a.a412f",
        "type": "get-resource",
        "name": "get-resource src tp",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"p-interface\" \n\t\tkey=\"pnf.pnf-name = $tmp.src-pnf-name\n\t\t    AND p-interface.interface-name = $tmp.cross-link.src-ltpId\"\n        pfx='tmp.aai.src-tp' local-only='false' >\n    \n        <!--AND depth = '0'\"-->\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2598.066650390625,
        "y": 830.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "ce0e0e02.f12888",
                "c7bf5d64.76752",
                "fc569894.8123c8"
            ]
        ]
    },
    {
        "id": "32be1e9f.8d32f2",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.src-pnf-name\"\n        pfx='tmp.aai.src-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 4001.5665283203125,
        "y": 576.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "cd21ae8c.c1c9b",
                "4cf02804.c7fa68",
                "c9dba533.6e697"
            ]
        ]
    },
    {
        "id": "cd21ae8c.c1c9b",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4197.066650390625,
        "y": 528.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "6b1de9c1.5b1d"
            ]
        ]
    },
    {
        "id": "4cf02804.c7fa68",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4189.066650390625,
        "y": 583.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "23c3a37b.be4e3c"
            ]
        ]
    },
    {
        "id": "c9dba533.6e697",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4194.066650390625,
        "y": 640.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "89ce9fdb.da4ea"
            ]
        ]
    },
    {
        "id": "89ce9fdb.da4ea",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4346.066650390625,
        "y": 641.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "23c3a37b.be4e3c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4357.066650390625,
        "y": 586.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "6b1de9c1.5b1d",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4341.448974609375,
        "y": 526.2223358154297,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "87b391d0.8621b",
                "6f392240.0b632c"
            ]
        ]
    },
    {
        "id": "87b391d0.8621b",
        "type": "set",
        "name": "set domain A node-id and tpn",
        "xml": "<set>\n<parameter name='domain-A.node-id' value=\"`$tmp.aai.src-pnf.pnf-id`\" />\n<parameter name='domain-A.tpn' value='1' />\n\n\n<parameter name='`tmp.otninfo[$vidx].dstPort.dst-access-node-id`' value=\"`$tmp.aai.src-pnf.pnf-id`\" />\n<parameter name='`tmp.otninfo_length`' value='`$vidx + 1`' />",
        "comments": "",
        "x": 4566.5665283203125,
        "y": 481.56666564941406,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "8b458d6.d1c047",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 4088.5665283203125,
        "y": 823.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "74f28a96.737404",
        "type": "set",
        "name": "set domain A tunnel tp ip",
        "xml": "<set>\n<parameter name='domain-A.tunnel-tp-id' value=\"`$tmp.aai.src-ttp.tunnel-tp-id`\" />\n\n<parameter name='`tmp.otninfo[$vidx].dstPort.dst-tunnel-tp-id`' value=\"`$tmp.aai.src-ttp.tunnel-tp-id`\" />\n<parameter name='`tmp.otninfo_length`' value='`$vidx + 1`' />\n",
        "comments": "",
        "x": 4782.5665283203125,
        "y": 729.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "d886450f.a1491",
        "type": "get-resource",
        "name": "get-resource dst pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.dst-pnf-name\"\n        pfx='tmp.aai.dst-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3998.5665283203125,
        "y": 1179.566665649414,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "528769ed.08eb38",
                "67791430.0cdf44",
                "ba1deb5c.e8edb8"
            ]
        ]
    },
    {
        "id": "ba1deb5c.e8edb8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4194.066650390625,
        "y": 1131.566665649414,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "c395e5e2.5d2d6"
            ]
        ]
    },
    {
        "id": "67791430.0cdf44",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4186.066650390625,
        "y": 1186.566665649414,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "859829ca.3b85f8"
            ]
        ]
    },
    {
        "id": "528769ed.08eb38",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4191.066650390625,
        "y": 1243.566665649414,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "d0ef5793.559118"
            ]
        ]
    },
    {
        "id": "c395e5e2.5d2d6",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4338.448974609375,
        "y": 1129.2223358154297,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "3ef2a6b2.4dd6a2",
                "fe50ef3b.6e4d2"
            ]
        ]
    },
    {
        "id": "859829ca.3b85f8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4354.066650390625,
        "y": 1189.566665649414,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "d0ef5793.559118",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4343.066650390625,
        "y": 1244.566665649414,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "3ef2a6b2.4dd6a2",
        "type": "set",
        "name": "set domain B node-id and tpn",
        "xml": "<set>\n<parameter name='domain-B.node-id' value=\"`$tmp.aai.dst-pnf.pnf-id`\" />\n<parameter name='domain-B.tpn' value='1' />\n\n\n<parameter name='`tmp.otninfo[$vidx + 1].srcPort.src-access-node-id`' value=\"`$tmp.aai.dst-pnf.pnf-id`\" />\n<parameter name='`tmp.otninfo_length`' value='`$vidx + 2`' />",
        "comments": "",
        "x": 4547.5665283203125,
        "y": 1096.566665649414,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "9f1a5b61.2db4f8",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 4117.5665283203125,
        "y": 1391.566665649414,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "c1ec44c6.22ea78",
        "type": "set",
        "name": "set domain B tunnel tp id",
        "xml": "<set>\n<parameter name='domain-B.tunnel-tp-id' value=\"`$tmp.aai.dst-ttp.tunnel-tp-id`\" />\n\n<parameter name='`tmp.otninfo[$vidx + 1].srcPort.src-tunnel-tp-id`' value=\"`$tmp.aai.dst-ttp.tunnel-tp-id`\" />\n<parameter name='`tmp.otninfo_length`' value='`$vidx + 2`' />",
        "comments": "",
        "x": 4771.5665283203125,
        "y": 1336.566665649414,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "e6402312.02204",
        "type": "outcome",
        "name": "network-resource",
        "xml": "<outcome value='network-resource'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4923.5665283203125,
        "y": 544.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "ae40da49.306bf8"
            ]
        ]
    },
    {
        "id": "ae40da49.306bf8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5100.5665283203125,
        "y": 536.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "600d9c1d.04f94c",
                "4c90758b.fa245c",
                "a0cc954a.cdcae"
            ]
        ]
    },
    {
        "id": "600d9c1d.04f94c",
        "type": "set",
        "name": "set domain A network-id",
        "xml": "<set>\n<parameter name='tmp.domain-A.network-id' value=\"`$tmp.aai.src-pnf.relationship-list.relationship[$pvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 5315.5665283203125,
        "y": 517.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "4c90758b.fa245c",
        "type": "get-resource",
        "name": "get-resource src network-resource",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"network-resource\" \n\t\tkey=\"network-resource.network-id = $tmp.domain-A.network-id \n\t\tAND depth = '0'\"\n        pfx='tmp.aai.src-network-resource' local-only='false' >\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 5332.5665283203125,
        "y": 581.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "fbbce759.fdbdd8"
            ]
        ]
    },
    {
        "id": "fbbce759.fdbdd8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5556.0665283203125,
        "y": 582.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "e83993b4.07a278"
            ]
        ]
    },
    {
        "id": "e83993b4.07a278",
        "type": "set",
        "name": "set domain A network-id, topo-id, client-id, etc",
        "xml": "<set>\n<parameter name='domain-A.network-id' value=\"`$tmp.aai.src-network-resource.network-id`\" />\n<parameter name='domain-A.provider-id' value=\"`$tmp.aai.src-network-resource.provider-id`\" />\n<parameter name='domain-A.client-id' value=\"`$tmp.aai.src-network-resource.client-id`\" />\n<parameter name='domain-A.te-topo-id' value=\"`$tmp.aai.src-network-resource.te-topo-id`\" />\n<parameter name='domain-A.network-type' value=\"`$tmp.aai.src-network-resource.network-type`\" />\n\n\n<parameter name='`tmp.otninfo[$vidx].dstPort.dst-access-network-id`' value=\"`$tmp.aai.src-network-resource.network-id`\" />\n<parameter name='`tmp.otninfo[$vidx].dstPort.dst-access-provider-id`' value=\"`$tmp.aai.src-network-resource.provider-id`\" />\n<parameter name='`tmp.otninfo[$vidx].dstPort.dst-access-client-id`' value=\"`$tmp.aai.src-network-resource.client-id`\" />\n<parameter name='`tmp.otninfo[$vidx].dstPort.dst-access-topology-id`' value=\"`$tmp.aai.src-network-resource.te-topo-id`\" />\n<parameter name='`tmp.otninfo[$vidx].dstPort.dst-access-network-type`' value=\"`$tmp.aai.src-network-resource.network-type`\" />\n<parameter name='`tmp.otninfo_length`' value='`$vidx + 1`' />\n\n\n",
        "comments": "",
        "x": 5820.5665283203125,
        "y": 571.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "6f392240.0b632c",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='pvidx' start='0' end='`$tmp.aai.src-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4525.5665283203125,
        "y": 540.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "af53c562.f6a408"
            ]
        ]
    },
    {
        "id": "af53c562.f6a408",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.src-pnf.relationship-list.relationship[$pvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4720.5665283203125,
        "y": 540.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "e6402312.02204"
            ]
        ]
    },
    {
        "id": "a0cc954a.cdcae",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 5259.5665283203125,
        "y": 634.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "fe50ef3b.6e4d2",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='mvidx' start='0' end='`$tmp.aai.dst-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4526.5665283203125,
        "y": 1147.566665649414,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "b483ead6.847598"
            ]
        ]
    },
    {
        "id": "b483ead6.847598",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.dst-pnf.relationship-list.relationship[$mvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4721.5665283203125,
        "y": 1147.566665649414,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "621e0b6.dcff474"
            ]
        ]
    },
    {
        "id": "95babe9d.55be58",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 5345.5665283203125,
        "y": 1227.566665649414,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "47876c9d.2d5e64",
        "type": "execute",
        "name": "execute split tp-id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<!--<parameter name=\"original_string\" value='`$tmp.aai.src-tp`'/>-->\n<parameter name=\"original_string\" value='`$tmp.aai.src-tp.interface-name`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-src-tp\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4029.5665283203125,
        "y": 370.56666564941406,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "780141cf.677a88",
                "f51e8b25.33a49"
            ]
        ]
    },
    {
        "id": "f51e8b25.33a49",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4250.5665283203125,
        "y": 338.56666564941406,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "f143f0b.3a07c1"
            ]
        ]
    },
    {
        "id": "780141cf.677a88",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4250.5665283203125,
        "y": 385.56666564941406,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "5a762005.4bb698"
            ]
        ]
    },
    {
        "id": "f143f0b.3a07c1",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4415.5665283203125,
        "y": 335.56666564941406,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "cf3b3b93.559ff8"
            ]
        ]
    },
    {
        "id": "cf3b3b93.559ff8",
        "type": "set",
        "name": "set domain-A.ltpId",
        "xml": "<set>\n<parameter name='domain-A.ltpId' value='`$param-prefix-src-tp[$param-prefix-src-tp_length -1]`' />\n\n<parameter name='`tmp.otninfo[$vidx].dstPort.dst-ltp-id`' value=\"`$param-prefix-src-tp[$param-prefix-src-tp_length -1]`\" />\n<parameter name='`tmp.otninfo_length`' value='`$vidx + 1`' />",
        "comments": "",
        "x": 4597.5665283203125,
        "y": 339.56666564941406,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "5a762005.4bb698",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 4417.5665283203125,
        "y": 385.56666564941406,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "52d7e7df.a91a1",
        "type": "execute",
        "name": "execute split tp-id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.aai.dst-tp`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-dst-tp\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4037.5665283203125,
        "y": 994.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "b790dd89.107528",
                "fa4381d0.a02478"
            ]
        ]
    },
    {
        "id": "fa4381d0.a02478",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4258.5665283203125,
        "y": 962.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "c3eeee94.1a5ec8"
            ]
        ]
    },
    {
        "id": "b790dd89.107528",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4258.5665283203125,
        "y": 1009.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "bd6ffbec.5ba5c8"
            ]
        ]
    },
    {
        "id": "c3eeee94.1a5ec8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4423.5665283203125,
        "y": 959.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "11dcb504.78adf3"
            ]
        ]
    },
    {
        "id": "11dcb504.78adf3",
        "type": "set",
        "name": "set domain-B.ltpId",
        "xml": "<set>\n<parameter name='domain-B.ltpId' value='`$param-prefix-dst-tp[$param-prefix-dst-tp_length -1]`' />\n\n<parameter name='`tmp.otninfo[$vidx + 1].srcPort.src-ltp-id`' value=\"`$param-prefix-dst-tp[$param-prefix-dst-tp_length -1]`\" />\n<parameter name='`tmp.otninfo_length`' value='`$vidx + 2`' />",
        "comments": "",
        "x": 4619.5665283203125,
        "y": 956.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "bd6ffbec.5ba5c8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 4425.5665283203125,
        "y": 1009.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "1de6c693.7d01c1",
        "type": "set",
        "name": "unset parameters",
        "xml": "<set>\n<parameter name='otn-oof.link-name' value='' />\n<!--<parameter name='tmp.aai.cross-link' value='' />-->\n<parameter name='tmp.aai.cross-link.' value='' />\n<!--<parameter name='tmp.aai.cross-link.link-role' value='' />-->",
        "comments": "",
        "x": 1294.566650390625,
        "y": 796.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "26a161aa.2643be",
        "type": "comment",
        "name": "Not useful anymore",
        "info": "this domain-A.ltpId is not used anymore",
        "comments": "",
        "x": 4640.5665283203125,
        "y": 315.56666564941406,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "5487d1ff.eac0c8",
        "type": "comment",
        "name": "Not useful anymore",
        "info": "this domain-B.ltpId is not used anymore",
        "comments": "",
        "x": 4662.5665283203125,
        "y": 928.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "f100fc15.cb611",
        "type": "set",
        "name": "unset parameters",
        "xml": "<set>\n<parameter name='`tmp.otninfo.`' value='' />\n<!--<parameter name='`tmp.otninfo_length`' value='0' />-->\n<parameter name='`tmp.otninfoProtect.`' value='' />",
        "comments": "",
        "x": 935.566650390625,
        "y": 724.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "9b78b55b.4bf9a8",
        "type": "comment",
        "name": "May not be necessary",
        "info": "",
        "comments": "",
        "x": 946.566650390625,
        "y": 677.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "a5abe9c0.4a1de8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 926.566650390625,
        "y": 474.56666564941406,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "cf81370c.645668",
                "6acb8746.707c6",
                "b62b9d9c.e5b378",
                "bdc49cf5.f2028",
                "30bab9df.0fb49e",
                "9da40736.322f1",
                "8ed4edf7.ad067",
                "58cff761.b82798",
                "bfa2854e.87e33",
                "e1bfc658.320cc8",
                "eff9186e.125608",
                "94f6beae.dc07e",
                "7b0887bb.99971"
            ]
        ]
    },
    {
        "id": "944b5459.a274f8",
        "type": "execute",
        "name": "execute PCE in ccsdk/sli/core",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliTopologyUtils' method='computePaths' >\n<parameter name=\"pnfs-pfx\" value='ccsdkTopopnfs'/>\n<parameter name=\"links-pfx\" value=\"ccsdkTopologicalLinks\"/>\n<parameter name=\"response-pfx\" value=\"otn-oof\"/>\n<parameter name=\"output-end-to-end-path\" value=\"false\"/>\n<!--<parameter name=\"src-node\" value=\"`$tmp.src.domainA.pnf-name`\"/>-->\n<!--<parameter name=\"dst-node\" value=\"`$tmp.dst.domainB.pnf-name`\"/>-->\n<parameter name=\"src-node\" value=\"`$tmp.pce-src-node`\"/>\n<parameter name=\"dst-node\" value=\"`$tmp.pce-dst-node`\"/>\n<parameter name=\"dst-node-backup\" value=\"`$tmp.pce-dst-node-backup`\"/>\n<parameter name=\"require-backuppath\" value=\"`$hasSecondary`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1800.566650390625,
        "y": 614.566650390625,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "f1f2058b.751c8",
                "7a5d3ea0.b3f9",
                "923aea28.d945"
            ]
        ]
    },
    {
        "id": "cf81370c.645668",
        "type": "record",
        "name": "record tmp.pce-src and dst node and backup",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\" />\n<parameter name=\"level\" value=\"info\" />\n<!--<parameter name=\"field1\" value=\"Path computation succeed!\"/>-->\n<!--<parameter name=\"field2\" value=\"`$ccsdkTopo.resp.solutions_length`\"/>-->\n\n<!--<parameter name=\"field1\" value=\"`$tmp.src.domainA.pnf-name`\"/>-->\n<!--<parameter name=\"field2\" value=\"`$tmp.dst.domainB.pnf-name`\"/>-->\n<parameter name=\"field1\" value=\"`$tmp.pce-src-node`\"/>\n<parameter name=\"field2\" value=\"`$tmp.pce-dst-node`\"/>\n<parameter name=\"field3\" value=\"`$tmp.pce-dst-node-backup`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1222.566650390625,
        "y": 507.56666564941406,
        "z": "67ca1183.dbac8",
        "wires": [
            []
        ]
    },
    {
        "id": "f1f2058b.751c8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2045.566650390625,
        "y": 646.566650390625,
        "z": "67ca1183.dbac8",
        "wires": [
            []
        ]
    },
    {
        "id": "7a5d3ea0.b3f9",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2052.566650390625,
        "y": 688.566650390625,
        "z": "67ca1183.dbac8",
        "wires": [
            []
        ]
    },
    {
        "id": "923aea28.d945",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2047.566650390625,
        "y": 609.566650390625,
        "z": "67ca1183.dbac8",
        "wires": [
            []
        ]
    },
    {
        "id": "6acb8746.707c6",
        "type": "set",
        "name": "set tmp.pce-src-node",
        "xml": "<set>\n<!--<parameter name='tmp.pce-src-node' value=\"`$param-prefix-domainA-pnfName[0] + '-' +-->\n<!--                                                   $param-prefix-domainA-pnfName[1] + '-' +-->\n<!--                                                   $param-prefix-domainA-pnfName[2] + '-' +-->\n<!--                                                   $param-prefix-domainA-pnfName[3] + '-' +-->\n<!--                                                   $param-prefix-domainA-pnfName[4] + '-' +-->\n<!--                                                   $param-prefix-domainA-pnfName[5] + '-' +-->\n<!--                                                   1 + '-' +-->\n<!--                                                   $param-prefix-domainA-pnfName[7] + '-' +-->\n<!--                                                   $param-prefix-domainA-pnfName[8]`\" />-->\n\n<parameter name='tmp.pce-src-node' value=\"`$param-prefix-domainA-pnfName[0] + '-' +\n                                                   $param-prefix-domainA-pnfName[1] + '-' +\n                                                   $param-prefix-domainA-pnfName[2] + '-' +\n                                                   $param-prefix-domainA-pnfName[3] + '-' +\n                                                   $param-prefix-domainA-pnfName[4] + '-' +\n                                                   $param-prefix-domainA-pnfName[5] + '-' +\n                                                   $otnTopoIdSrc + '-' +\n                                                   $param-prefix-domainA-pnfName[7] + '-' +\n                                                   $param-prefix-domainA-pnfName[8]`\" />",
        "comments": "",
        "x": 1143.566650390625,
        "y": 379.56666564941406,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "b62b9d9c.e5b378",
        "type": "set",
        "name": "set tmp.pce-dst-node",
        "xml": "<set>\n<!--<parameter name='$tmp.pce-dst-node' value=\"`$param-prefix-domainB-pnfName[0] + '-' +-->\n<!--                                                   $param-prefix-domainB-pnfName[1] + '-' +-->\n<!--                                                   $param-prefix-domainB-pnfName[2] + '-' +-->\n<!--                                                   $param-prefix-domainB-pnfName[3] + '-' +-->\n<!--                                                   $param-prefix-domainB-pnfName[4] + '-' +-->\n<!--                                                   $param-prefix-domainB-pnfName[5] + '-' +-->\n<!--                                                   1 + '-' +-->\n<!--                                                   $param-prefix-domainB-pnfName[7] + '-' +-->\n<!--                                                   $param-prefix-domainB-pnfName[8]`\" />-->\n<parameter name='tmp.pce-dst-node' value=\"`$param-prefix-domainB-pnfName[0] + '-' +\n                                                   $param-prefix-domainB-pnfName[1] + '-' +\n                                                   $param-prefix-domainB-pnfName[2] + '-' +\n                                                   $param-prefix-domainB-pnfName[3] + '-' +\n                                                   $param-prefix-domainB-pnfName[4] + '-' +\n                                                   $param-prefix-domainB-pnfName[5] + '-' +\n                                                   $otnTopoIdDst + '-' +\n                                                   $param-prefix-domainB-pnfName[7] + '-' +\n                                                   $param-prefix-domainB-pnfName[8]`\" />",
        "comments": "",
        "x": 1143.566650390625,
        "y": 419.56666564941406,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "a1a53385.974798",
        "type": "set",
        "name": "set src-ltpId",
        "xml": "<set>\n<parameter name='tmp.cross-link.src-ltpId' value=\"`$otn-oof.solutions[$vidx].src_pinterface`\" />\n<parameter name='tmp.src-pnf-name' value=\"`$otn-oof.solutions[$vidx].src_node`\" />\n",
        "comments": "",
        "x": 1276.566650390625,
        "y": 927.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "9bfb8439.b10f28",
        "type": "set",
        "name": "set dst-ltpId",
        "xml": "<set>\n<parameter name='tmp.cross-link.dst-ltpId' value=\"`$otn-oof.solutions[$vidx].dst_pinterface`\" />\n<parameter name='tmp.dst-pnf-name' value=\"`$otn-oof.solutions[$vidx].dst_node`\" />\n\n\n",
        "comments": "",
        "x": 1277.566650390625,
        "y": 977.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "bdc49cf5.f2028",
        "type": "get-resource",
        "name": "get-resource network-resources-list",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"network-resources\"\n\t    key=\"selflink = 'https://aai.onap:8443/aai/v21/network/network-resources?depth=0'\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"allNetworksList\" >",
        "comments": "",
        "outputs": 1,
        "x": 1200.566650390625,
        "y": 103.56666564941406,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "7438fc42.8bf3c4",
                "86d1788.90fdc88",
                "c2668ef6.6942a8"
            ]
        ]
    },
    {
        "id": "86d1788.90fdc88",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1433.566650390625,
        "y": 127.56666564941406,
        "z": "67ca1183.dbac8",
        "wires": [
            []
        ]
    },
    {
        "id": "c2668ef6.6942a8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1447.566650390625,
        "y": 167.56666564941406,
        "z": "67ca1183.dbac8",
        "wires": [
            []
        ]
    },
    {
        "id": "7438fc42.8bf3c4",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1436.566650390625,
        "y": 86.56666564941406,
        "z": "67ca1183.dbac8",
        "wires": [
            []
        ]
    },
    {
        "id": "30bab9df.0fb49e",
        "type": "for",
        "name": "for netwidx..allNetworksList_length",
        "xml": "<for index='netwidx' start='0' end='`$allNetworksList.network-resource_length`' >",
        "comments": "",
        "outputs": 1,
        "x": 1192.566650390625,
        "y": 149.56666564941406,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "1efd95dd.c4201a"
            ]
        ]
    },
    {
        "id": "1efd95dd.c4201a",
        "type": "switchNode",
        "name": "switch provider-id domainA",
        "xml": "<switch test='`$allNetworksList.network-resource[$netwidx].provider-id == $param-prefix-domainA-pnfName[2]`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1513.566650390625,
        "y": 225.56666564941406,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "bbe8ec0c.253de",
                "883a9f4d.559ca"
            ]
        ]
    },
    {
        "id": "bbe8ec0c.253de",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1737.566650390625,
        "y": 287.56666564941406,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "afd0ea45.773d98"
            ]
        ]
    },
    {
        "id": "afd0ea45.773d98",
        "type": "switchNode",
        "name": "switch te-topo-id",
        "xml": "<switch test='`$allNetworksList.network-resource[$netwidx].te-topo-id != $param-prefix-domainA-pnfName[6]`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1950.566650390625,
        "y": 287.56666564941406,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "ed49f4d6.4912c8"
            ]
        ]
    },
    {
        "id": "ed49f4d6.4912c8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2115.566650390625,
        "y": 287.56666564941406,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "21777200.d11516"
            ]
        ]
    },
    {
        "id": "21777200.d11516",
        "type": "set",
        "name": "set otnTopoIdSrc",
        "xml": "<set>\n<parameter name='otnTopoIdSrc' value='`$allNetworksList.network-resource[$netwidx].te-topo-id`' />\n",
        "comments": "",
        "x": 2284.566650390625,
        "y": 287.56666564941406,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "883a9f4d.559ca",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1737.566650390625,
        "y": 340.56666564941406,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "64bf9628.6125c8"
            ]
        ]
    },
    {
        "id": "64bf9628.6125c8",
        "type": "switchNode",
        "name": "switch provider-id domainB",
        "xml": "<switch test='`$allNetworksList.network-resource[$netwidx].provider-id == $param-prefix-domainB-pnfName[2]`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1925.566650390625,
        "y": 340.56666564941406,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "79533178.406688",
                "2e7334d4.9ca8fc"
            ]
        ]
    },
    {
        "id": "79533178.406688",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2115.566650390625,
        "y": 340.56666564941406,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "6704f6f.e3e6c88"
            ]
        ]
    },
    {
        "id": "6704f6f.e3e6c88",
        "type": "switchNode",
        "name": "switch te-topo-id",
        "xml": "<switch test='`$allNetworksList.network-resource[$netwidx].te-topo-id != $param-prefix-domainB-pnfName[6]`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2283.566650390625,
        "y": 340.56666564941406,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "3eaa1b32.d6627c"
            ]
        ]
    },
    {
        "id": "3eaa1b32.d6627c",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2439.566650390625,
        "y": 340.56666564941406,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "1e64b2b7.385b1d"
            ]
        ]
    },
    {
        "id": "82fe228a.5ad828",
        "type": "set",
        "name": "set otnTopoIdDst",
        "xml": "<set>\n<parameter name='otnTopoIdDst' value='`$allNetworksList.network-resource[$netwidx].te-topo-id`' />\n",
        "comments": "",
        "x": 3173.566650390625,
        "y": 324.566650390625,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "9da40736.322f1",
        "type": "set",
        "name": "unset parameters",
        "xml": "<set>\n<!--<parameter name='`otn-oof`' value='' />-->\n<parameter name='otn-oof.' value='' />\n<!--<parameter name='`otn-oof.solutions`' value='' />-->\n<!--<parameter name='`otn-oof.solutions.`' value='' />-->\n<!--<parameter name='`otn-oof.solutions_length`' value='0' />-->",
        "comments": "",
        "x": 1137.566650390625,
        "y": 320.56666564941406,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "8ed4edf7.ad067",
        "type": "set",
        "name": "unset parameters",
        "xml": "<set>\n<parameter name='tmp.pce-src-node.' value='' />\n",
        "comments": "",
        "x": 1146.566650390625,
        "y": 202.56666564941406,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "58cff761.b82798",
        "type": "set",
        "name": "unset parameters",
        "xml": "<set>\n<parameter name='tmp.pce-dst-node.' value='' />\n",
        "comments": "",
        "x": 1144.566650390625,
        "y": 244.56666564941406,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "bfa2854e.87e33",
        "type": "record",
        "name": "record otn-oof.",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\" />\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"`$otn-oof.`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1133.566650390625,
        "y": 555.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": [
            []
        ]
    },
    {
        "id": "375fbf69.a0241",
        "type": "execute",
        "name": "execute printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n    <parameter name=\"filename\" value=\"`$filenamemm`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1155.566650390625,
        "y": 628.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": [
            []
        ]
    },
    {
        "id": "e1bfc658.320cc8",
        "type": "set",
        "name": "set filename",
        "xml": "<set>\n<!--<parameter name='tmp.pce-src-node' value=\"`$param-prefix-domainA-pnfName[0] + '-' +-->\n<!--                                                   $param-prefix-domainA-pnfName[1] + '-' +-->\n<!--                                                   $param-prefix-domainA-pnfName[2] + '-' +-->\n<!--                                                   $param-prefix-domainA-pnfName[3] + '-' +-->\n<!--                                                   $param-prefix-domainA-pnfName[4] + '-' +-->\n<!--                                                   $param-prefix-domainA-pnfName[5] + '-' +-->\n<!--                                                   1 + '-' +-->\n<!--                                                   $param-prefix-domainA-pnfName[7] + '-' +-->\n<!--                                                   $param-prefix-domainA-pnfName[8]`\" />-->\n\n<parameter name='filenamemm' value=\"`$tmp.pce-src-node + $tmp.pce-dst-node + $tmp.pce-dst-node-backup`\" />",
        "comments": "",
        "x": 1129.566650390625,
        "y": 591.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "2e7334d4.9ca8fc",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2105.566650390625,
        "y": 404.56666564941406,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "411c67c5.e1d9e8"
            ]
        ]
    },
    {
        "id": "411c67c5.e1d9e8",
        "type": "switchNode",
        "name": "switch provider-id domainC",
        "xml": "<switch test='`$allNetworksList.network-resource[$netwidx].provider-id == $param-prefix-domainC-pnfName[2]`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2306.566650390625,
        "y": 405.56666564941406,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "27025665.dd4562"
            ]
        ]
    },
    {
        "id": "27025665.dd4562",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2516.566650390625,
        "y": 405.56666564941406,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "e947b95b.27d1a8"
            ]
        ]
    },
    {
        "id": "c6b462ec.d5ec38",
        "type": "set",
        "name": "set otnTopoIdDstBackup",
        "xml": "<set>\n<parameter name='otnTopoIdDstBackup' value='`$allNetworksList.network-resource[$netwidx].te-topo-id`' />\n",
        "comments": "",
        "x": 3289.566650390625,
        "y": 495.56671142578125,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "eff9186e.125608",
        "type": "set",
        "name": "unset parameters",
        "xml": "<set>\n<parameter name='tmp.pce-dst-node-backup.' value='' />\n",
        "comments": "",
        "x": 1142.566650390625,
        "y": 282.56666564941406,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "94f6beae.dc07e",
        "type": "set",
        "name": "set tmp.pce-dst-node-backup",
        "xml": "<set>\n<!--<parameter name='$tmp.pce-dst-node' value=\"`$param-prefix-domainB-pnfName[0] + '-' +-->\n<!--                                                   $param-prefix-domainB-pnfName[1] + '-' +-->\n<!--                                                   $param-prefix-domainB-pnfName[2] + '-' +-->\n<!--                                                   $param-prefix-domainB-pnfName[3] + '-' +-->\n<!--                                                   $param-prefix-domainB-pnfName[4] + '-' +-->\n<!--                                                   $param-prefix-domainB-pnfName[5] + '-' +-->\n<!--                                                   1 + '-' +-->\n<!--                                                   $param-prefix-domainB-pnfName[7] + '-' +-->\n<!--                                                   $param-prefix-domainB-pnfName[8]`\" />-->\n<parameter name='tmp.pce-dst-node-backup' value=\"`$param-prefix-domainC-pnfName[0] + '-' +\n                                                   $param-prefix-domainC-pnfName[1] + '-' +\n                                                   $param-prefix-domainC-pnfName[2] + '-' +\n                                                   $param-prefix-domainC-pnfName[3] + '-' +\n                                                   $param-prefix-domainC-pnfName[4] + '-' +\n                                                   $param-prefix-domainC-pnfName[5] + '-' +\n                                                   $otnTopoIdDstBackup + '-' +\n                                                   $param-prefix-domainC-pnfName[7] + '-' +\n                                                   $param-prefix-domainC-pnfName[8]`\" />",
        "comments": "",
        "x": 1174.566650390625,
        "y": 460.56666564941406,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "7b0887bb.99971",
        "type": "switchNode",
        "name": "switch $hasSecondary",
        "xml": "<switch test='`$hasSecondary`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1178.566650390625,
        "y": 707.5666656494141,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "92b6aeb7.23ac68",
                "21cc841a.968b4c"
            ]
        ]
    },
    {
        "id": "92b6aeb7.23ac68",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1421.566650390625,
        "y": 604.566650390625,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "1d1085ac.753a0a"
            ]
        ]
    },
    {
        "id": "1d1085ac.753a0a",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1548.566650390625,
        "y": 603.566650390625,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "944b5459.a274f8"
            ]
        ]
    },
    {
        "id": "1548db64.e4c295",
        "type": "execute",
        "name": "execute PCE in ccsdk/sli/core",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliTopologyUtils' method='computePath' >\n<parameter name=\"pnfs-pfx\" value='ccsdkTopopnfs'/>\n<parameter name=\"links-pfx\" value=\"ccsdkTopologicalLinks\"/>\n<parameter name=\"response-pfx\" value=\"otn-oof\"/>\n<parameter name=\"output-end-to-end-path\" value=\"false\"/>\n<!--<parameter name=\"src-node\" value=\"`$tmp.src.domainA.pnf-name`\"/>-->\n<!--<parameter name=\"dst-node\" value=\"`$tmp.dst.domainB.pnf-name`\"/>-->\n<parameter name=\"src-node\" value=\"`$tmp.pce-src-node`\"/>\n<parameter name=\"dst-node\" value=\"`$tmp.pce-dst-node`\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1800.566650390625,
        "y": 756.566650390625,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "eea15d82.e13c8",
                "86fb305c.19fe88",
                "e46cbc18.4abe38"
            ]
        ]
    },
    {
        "id": "eea15d82.e13c8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2045.566650390625,
        "y": 788.566650390625,
        "z": "67ca1183.dbac8",
        "wires": [
            []
        ]
    },
    {
        "id": "86fb305c.19fe88",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2052.566650390625,
        "y": 830.566650390625,
        "z": "67ca1183.dbac8",
        "wires": [
            []
        ]
    },
    {
        "id": "e46cbc18.4abe38",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2047.566650390625,
        "y": 751.566650390625,
        "z": "67ca1183.dbac8",
        "wires": [
            []
        ]
    },
    {
        "id": "29b9a31c.a264c4",
        "type": "for",
        "name": "for vidx..otn-oof.secondarySolutions_length[]",
        "xml": "<for index='vidx' start='0' end='`$otn-oof.secondarySolutions_length`' >",
        "comments": "",
        "outputs": 1,
        "x": 943.566650390625,
        "y": 2125.566665649414,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "72742319.713a0c"
            ]
        ]
    },
    {
        "id": "72742319.713a0c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1048.0938720703125,
        "y": 2316.607437133789,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "65028d7c.8b8c9c",
                "8944f22e.dc9748",
                "7f065ced.91ecac",
                "dd82f408.a50d68",
                "2e2b77b7.7faa3"
            ]
        ]
    },
    {
        "id": "65028d7c.8b8c9c",
        "type": "set",
        "name": "set otn-oof.link-name and etc.",
        "xml": "<set>\n<parameter name='otn-oof.link-name' value='`$otn-oof.secondarySolutions[$vidx].original_link`' />\n<parameter name='otn-oof.start-node' value='`$otn-oof.secondarySolutions[$vidx].src_node`' />\n<parameter name='otn-oof.end-node' value='`$otn-oof.secondarySolutions[$vidx].dst_node`' />",
        "comments": "",
        "x": 1294.5938720703125,
        "y": 2209.607437133789,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "2e2b77b7.7faa3",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1261.0938720703125,
        "y": 2398.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "5f266d1.d23e694",
                "87205bbb.f159d"
            ]
        ]
    },
    {
        "id": "8944f22e.dc9748",
        "type": "set",
        "name": "unset parameters",
        "xml": "<set>\n<parameter name='otn-oof.link-name' value='' />\n<!--<parameter name='tmp.aai.cross-link' value='' />-->\n<parameter name='tmp.aai.cross-link.' value='' />\n<!--<parameter name='tmp.aai.cross-link.link-role' value='' />-->\n\n<parameter name='tmp.src-pnf-name' value='' />\n<parameter name='tmp.cross-link.' value='' />\n<parameter name='tmp.dst-pnf-name' value='' />\n<parameter name='tmp.aai.src-tp.' value='' />\n<parameter name='param-prefix-src-tp.' value='' />\n<parameter name='tmp.aai.src-pnf.' value='' />\n<parameter name='tmp.domain-A.network-id' value='' />\n<parameter name='tmp.aai.src-network-resource.' value='' />\n<parameter name='tmp.domain-A.ttp-id' value='' />\n<parameter name='tmp.aai.src-ttp.' value='' />\n\n<parameter name='tmp.aai.dst-tp.' value='' />\n<parameter name='param-prefix-dst-tp.' value='' />\n<parameter name='tmp.aai.dst-pnf.' value='' />\n<parameter name='tmp.domain-C.network-id' value='' />\n<parameter name='tmp.aai.dst-network-resource.' value='' />\n<parameter name='tmp.domain-C.ttp-id' value='' />\n<parameter name='tmp.aai.dst-ttp.' value='' />\n\n",
        "comments": "",
        "x": 1285.59375,
        "y": 2138.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "7f065ced.91ecac",
        "type": "set",
        "name": "set src-ltpId",
        "xml": "<set>\n<parameter name='tmp.cross-link.src-ltpId' value=\"`$otn-oof.secondarySolutions[$vidx].src_pinterface`\" />\n<parameter name='tmp.src-pnf-name' value=\"`$otn-oof.secondarySolutions[$vidx].src_node`\" />\n",
        "comments": "",
        "x": 1267.59375,
        "y": 2269.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "dd82f408.a50d68",
        "type": "set",
        "name": "set dst-ltpId",
        "xml": "<set>\n<parameter name='tmp.cross-link.dst-ltpId' value=\"`$otn-oof.secondarySolutions[$vidx].dst_pinterface`\" />\n<parameter name='tmp.dst-pnf-name' value=\"`$otn-oof.secondarySolutions[$vidx].dst_node`\" />\n\n\n",
        "comments": "",
        "x": 1268.59375,
        "y": 2319.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "e7a453b4.217a88",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2786.5936279296875,
        "y": 2133.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "a6ec239b.39ee68"
            ]
        ]
    },
    {
        "id": "b46c3c11.2737c8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2819.59375,
        "y": 2191.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "7915fc0.cce3804"
            ]
        ]
    },
    {
        "id": "a88e58be.776e6",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2822.59375,
        "y": 2243.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "ff0b2c64.5ad4b8"
            ]
        ]
    },
    {
        "id": "7915fc0.cce3804",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 3004.59375,
        "y": 2195.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "ff0b2c64.5ad4b8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 2992.59375,
        "y": 2246.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "189f7ad9.7daed5",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='pintsidx' start='0' end='`$tmp.aai.src-tp.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3137.9764404296875,
        "y": 2128.980667114258,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "53709e5e.d75de"
            ]
        ]
    },
    {
        "id": "53709e5e.d75de",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.src-tp.relationship-list.relationship[$pintsidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3389.9764404296875,
        "y": 2125.980667114258,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "7637ca2d.741c2c"
            ]
        ]
    },
    {
        "id": "a6ec239b.39ee68",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2920.5936279296875,
        "y": 2129.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "189f7ad9.7daed5"
            ]
        ]
    },
    {
        "id": "87205bbb.f159d",
        "type": "get-resource",
        "name": "get-resource src tp",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"p-interface\" \n\t\tkey=\"pnf.pnf-name = $tmp.src-pnf-name\n\t\t    AND p-interface.interface-name = $tmp.cross-link.src-ltpId\"\n        pfx='tmp.aai.src-tp' local-only='false' >\n    \n        <!--AND depth = '0'\"-->\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2589.09375,
        "y": 2172.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "e7a453b4.217a88",
                "b46c3c11.2737c8",
                "a88e58be.776e6"
            ]
        ]
    },
    {
        "id": "b5bc8dfa.18e39",
        "type": "set",
        "name": "set domain A node ttp-id",
        "xml": "<set>\n<parameter name='tmp.domain-A.ttp-id' value=\"`$tmp.aai.src-tp.relationship-list.relationship[$pintsidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 4123.0936279296875,
        "y": 2048.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "4d4171cc.48b25",
        "type": "get-resource",
        "name": "get-resource src TTP",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"tunnel-termination-point\" \n\t\tkey=\"tunnel-termination-point.ttp-id = $tmp.domain-A.ttp-id \n\t\tAND depth = '0'\"\n        pfx='tmp.aai.src-ttp' local-only='false' >\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4131.0936279296875,
        "y": 2100.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "99655efb.80b65"
            ]
        ]
    },
    {
        "id": "99655efb.80b65",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4337.5936279296875,
        "y": 2078.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "8f6c7450.ef1c"
            ]
        ]
    },
    {
        "id": "7637ca2d.741c2c",
        "type": "outcome",
        "name": "tunnel-termination-point",
        "xml": "<outcome value='tunnel-termination-point'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3675.2620849609375,
        "y": 2126.802444458008,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "5bfd3b7c.5be7ac"
            ]
        ]
    },
    {
        "id": "5bfd3b7c.5be7ac",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3902.0936279296875,
        "y": 2115.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "b5bc8dfa.18e39",
                "4d4171cc.48b25",
                "f91d3228.bde968",
                "f52dc6a0.330a3",
                "5d21c2b3.c568f4"
            ]
        ]
    },
    {
        "id": "8f6c7450.ef1c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4512.5936279296875,
        "y": 2074.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "4ef7dcb5.6e7414"
            ]
        ]
    },
    {
        "id": "f91d3228.bde968",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.src-pnf-name\"\n        pfx='tmp.aai.src-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3992.5936279296875,
        "y": 1918.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "11fdba85.d2e555",
                "c4446af6.0110f8",
                "f32a5dd3.e26328"
            ]
        ]
    },
    {
        "id": "11fdba85.d2e555",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4188.09375,
        "y": 1870.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "148f5625.68ca22"
            ]
        ]
    },
    {
        "id": "c4446af6.0110f8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4180.09375,
        "y": 1925.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "9347116a.3058c8"
            ]
        ]
    },
    {
        "id": "f32a5dd3.e26328",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4185.09375,
        "y": 1982.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "9b351c5a.c32878"
            ]
        ]
    },
    {
        "id": "9b351c5a.c32878",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4337.09375,
        "y": 1983.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "9347116a.3058c8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4348.09375,
        "y": 1928.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "148f5625.68ca22",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4332.47607421875,
        "y": 1867.9766082763672,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "351bcf46.2fdac",
                "23e1fb86.3e9064"
            ]
        ]
    },
    {
        "id": "351bcf46.2fdac",
        "type": "set",
        "name": "set domain A node-id and tpn",
        "xml": "<set>\n<parameter name='domain-A.node-id' value=\"`$tmp.aai.src-pnf.pnf-id`\" />\n<parameter name='domain-A.tpn' value='1' />\n\n\n<parameter name='`tmp.otninfoProtect[$vidx].dstPort.dst-access-node-id`' value=\"`$tmp.aai.src-pnf.pnf-id`\" />\n<parameter name='`tmp.otninfoProtect_length`' value='`$vidx + 1`' />",
        "comments": "",
        "x": 4557.5936279296875,
        "y": 1823.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "f52dc6a0.330a3",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 4079.5936279296875,
        "y": 2165.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "23e1fb86.3e9064",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='pvidx' start='0' end='`$tmp.aai.src-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4516.5936279296875,
        "y": 1882.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "42d6b89e.bcfbd"
            ]
        ]
    },
    {
        "id": "5d21c2b3.c568f4",
        "type": "execute",
        "name": "execute split tp-id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<!--<parameter name=\"original_string\" value='`$tmp.aai.src-tp`'/>-->\n<parameter name=\"original_string\" value='`$tmp.aai.src-tp.interface-name`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-src-tp\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4020.5936279296875,
        "y": 1712.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "beac11e9.8b163",
                "775594b3.5e9f34"
            ]
        ]
    },
    {
        "id": "775594b3.5e9f34",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4241.5936279296875,
        "y": 1680.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "62125b93.79eaac"
            ]
        ]
    },
    {
        "id": "beac11e9.8b163",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4241.5936279296875,
        "y": 1727.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "6928fcc.f0dc584"
            ]
        ]
    },
    {
        "id": "62125b93.79eaac",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4406.5936279296875,
        "y": 1677.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "ab5f1155.b15a3"
            ]
        ]
    },
    {
        "id": "ab5f1155.b15a3",
        "type": "set",
        "name": "set domain-A.ltpId",
        "xml": "<set>\n<parameter name='domain-A.ltpId' value='`$param-prefix-src-tp[$param-prefix-src-tp_length -1]`' />\n\n<parameter name='`tmp.otninfoProtect[$vidx].dstPort.dst-ltp-id`' value=\"`$param-prefix-src-tp[$param-prefix-src-tp_length -1]`\" />\n<parameter name='`tmp.otninfoProtect_length`' value='`$vidx + 1`' />",
        "comments": "",
        "x": 4588.5936279296875,
        "y": 1681.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "6928fcc.f0dc584",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 4408.5936279296875,
        "y": 1727.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "befd05b9.a30de",
        "type": "comment",
        "name": "Not useful anymore",
        "info": "this domain-A.ltpId is not used anymore",
        "comments": "",
        "x": 4631.5936279296875,
        "y": 1657.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "4ef7dcb5.6e7414",
        "type": "set",
        "name": "set domain A tunnel tp ip",
        "xml": "<set>\n<parameter name='domain-A.tunnel-tp-id' value=\"`$tmp.aai.src-ttp.tunnel-tp-id`\" />\n\n<parameter name='`tmp.otninfoProtect[$vidx].dstPort.dst-tunnel-tp-id`' value=\"`$tmp.aai.src-ttp.tunnel-tp-id`\" />\n<parameter name='`tmp.otninfoProtect_length`' value='`$vidx + 1`' />\n",
        "comments": "",
        "x": 4773.5936279296875,
        "y": 2071.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "f0218229.275af8",
        "type": "outcome",
        "name": "network-resource",
        "xml": "<outcome value='network-resource'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4914.5936279296875,
        "y": 1886.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "480722d5.cb6b3c"
            ]
        ]
    },
    {
        "id": "42d6b89e.bcfbd",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.src-pnf.relationship-list.relationship[$pvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4711.5936279296875,
        "y": 1882.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "f0218229.275af8"
            ]
        ]
    },
    {
        "id": "480722d5.cb6b3c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5091.5936279296875,
        "y": 1878.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "36af77c8.926fd8",
                "18e52414.c15f84",
                "18749988.48ed66"
            ]
        ]
    },
    {
        "id": "36af77c8.926fd8",
        "type": "set",
        "name": "set domain A network-id",
        "xml": "<set>\n<parameter name='tmp.domain-A.network-id' value=\"`$tmp.aai.src-pnf.relationship-list.relationship[$pvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 5306.5936279296875,
        "y": 1859.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "18e52414.c15f84",
        "type": "get-resource",
        "name": "get-resource src network-resource",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"network-resource\" \n\t\tkey=\"network-resource.network-id = $tmp.domain-A.network-id \n\t\tAND depth = '0'\"\n        pfx='tmp.aai.src-network-resource' local-only='false' >\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 5323.5936279296875,
        "y": 1923.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "d15fc532.410808"
            ]
        ]
    },
    {
        "id": "d15fc532.410808",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5547.0936279296875,
        "y": 1924.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "8cba8498.001648"
            ]
        ]
    },
    {
        "id": "8cba8498.001648",
        "type": "set",
        "name": "set domain A network-id, topo-id, client-id, etc",
        "xml": "<set>\n<parameter name='domain-A.network-id' value=\"`$tmp.aai.src-network-resource.network-id`\" />\n<parameter name='domain-A.provider-id' value=\"`$tmp.aai.src-network-resource.provider-id`\" />\n<parameter name='domain-A.client-id' value=\"`$tmp.aai.src-network-resource.client-id`\" />\n<parameter name='domain-A.te-topo-id' value=\"`$tmp.aai.src-network-resource.te-topo-id`\" />\n<parameter name='domain-A.network-type' value=\"`$tmp.aai.src-network-resource.network-type`\" />\n\n\n<parameter name='`tmp.otninfoProtect[$vidx].dstPort.dst-access-network-id`' value=\"`$tmp.aai.src-network-resource.network-id`\" />\n<parameter name='`tmp.otninfoProtect[$vidx].dstPort.dst-access-provider-id`' value=\"`$tmp.aai.src-network-resource.provider-id`\" />\n<parameter name='`tmp.otninfoProtect[$vidx].dstPort.dst-access-client-id`' value=\"`$tmp.aai.src-network-resource.client-id`\" />\n<parameter name='`tmp.otninfoProtect[$vidx].dstPort.dst-access-topology-id`' value=\"`$tmp.aai.src-network-resource.te-topo-id`\" />\n<parameter name='`tmp.otninfoProtect[$vidx].dstPort.dst-access-network-type`' value=\"`$tmp.aai.src-network-resource.network-type`\" />\n<parameter name='`tmp.otninfoProtect`' value='`$vidx + 1`' />\n\n\n",
        "comments": "",
        "x": 5811.5936279296875,
        "y": 1913.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "18749988.48ed66",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 5250.5936279296875,
        "y": 1976.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "e3152c7b.42988",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 2462.0936279296875,
        "y": 2642.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "5f266d1.d23e694",
        "type": "get-resource",
        "name": "get-resource dst tp",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"p-interface\" \n\t\tkey=\"pnf.pnf-name = $tmp.dst-pnf-name\n\t\t    AND p-interface.interface-name = $tmp.cross-link.dst-ltpId\"\n        pfx='tmp.aai.dst-tp' local-only='false' >\n    \n        <!--AND depth = '0'\"-->\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2543.09375,
        "y": 2538.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "e3416277.a5383",
                "35cf03db.613854",
                "96b92483.78f348"
            ]
        ]
    },
    {
        "id": "e3416277.a5383",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2765.5936279296875,
        "y": 2680.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "695f1ad6.255c0c"
            ]
        ]
    },
    {
        "id": "35cf03db.613854",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2749.5936279296875,
        "y": 2731.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "95ff46ae.989338"
            ]
        ]
    },
    {
        "id": "96b92483.78f348",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2752.5936279296875,
        "y": 2783.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "702c044d.a276dc"
            ]
        ]
    },
    {
        "id": "702c044d.a276dc",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 2922.5936279296875,
        "y": 2786.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "95ff46ae.989338",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 2934.5936279296875,
        "y": 2735.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "cf47c4e.3b665b8",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='pintdidx' start='0' end='`$tmp.aai.dst-tp.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3121.9764404296875,
        "y": 2690.980667114258,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "1dd200a7.125687"
            ]
        ]
    },
    {
        "id": "1dd200a7.125687",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.dst-tp.relationship-list.relationship[$pintdidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3364.9764404296875,
        "y": 2689.980667114258,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "9d100149.51fc1"
            ]
        ]
    },
    {
        "id": "695f1ad6.255c0c",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2911.5936279296875,
        "y": 2671.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "cf47c4e.3b665b8"
            ]
        ]
    },
    {
        "id": "9d100149.51fc1",
        "type": "outcome",
        "name": "tunnel-termination-point",
        "xml": "<outcome value='tunnel-termination-point'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3621.2620849609375,
        "y": 2689.802444458008,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "883aea1c.549738"
            ]
        ]
    },
    {
        "id": "883aea1c.549738",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3921.0936279296875,
        "y": 2687.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "94206f0d.95ccf",
                "16ed1500.9f0433",
                "d67bf507.0e5f9",
                "4435dab.dca2424",
                "25e20a20.a9dcb6"
            ]
        ]
    },
    {
        "id": "94206f0d.95ccf",
        "type": "set",
        "name": "set domain C node ttp-id",
        "xml": "<set>\n<parameter name='tmp.domain-C.ttp-id' value=\"`$tmp.aai.dst-tp.relationship-list.relationship[$pintdidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 4163.0936279296875,
        "y": 2641.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "16ed1500.9f0433",
        "type": "get-resource",
        "name": "get-resource dst TTP",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"tunnel-termination-point\" \n\t\tkey=\"tunnel-termination-point.ttp-id = $tmp.domain-C.ttp-id \n\t\tAND depth = '0'\"\n        pfx='tmp.aai.dst-ttp' local-only='false' >\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4153.0936279296875,
        "y": 2692.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "104922c4.11428d"
            ]
        ]
    },
    {
        "id": "104922c4.11428d",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4340.5936279296875,
        "y": 2690.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "78d5a007.cba0e"
            ]
        ]
    },
    {
        "id": "78d5a007.cba0e",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4529.5936279296875,
        "y": 2679.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "b81d23ea.740b38"
            ]
        ]
    },
    {
        "id": "4435dab.dca2424",
        "type": "get-resource",
        "name": "get-resource dst pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.dst-pnf-name\"\n        pfx='tmp.aai.dst-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3989.5936279296875,
        "y": 2521.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "9f7deca5.5268a8",
                "da4c932e.8f9b7",
                "910b7b2f.6b9a08"
            ]
        ]
    },
    {
        "id": "910b7b2f.6b9a08",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4185.09375,
        "y": 2473.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "6f27e8e2.ede448"
            ]
        ]
    },
    {
        "id": "da4c932e.8f9b7",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4177.09375,
        "y": 2528.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "a119b495.536c2"
            ]
        ]
    },
    {
        "id": "9f7deca5.5268a8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4182.09375,
        "y": 2585.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "80a7eb88.54c458"
            ]
        ]
    },
    {
        "id": "6f27e8e2.ede448",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4329.47607421875,
        "y": 2470.976608276367,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "9413138d.7b038",
                "7ef053da.372d9c"
            ]
        ]
    },
    {
        "id": "a119b495.536c2",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4345.09375,
        "y": 2531.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "80a7eb88.54c458",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4334.09375,
        "y": 2586.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "9413138d.7b038",
        "type": "set",
        "name": "set domain C node-id and tpn",
        "xml": "<set>\n<parameter name='domain-C.node-id' value=\"`$tmp.aai.dst-pnf.pnf-id`\" />\n<parameter name='domain-C.tpn' value='1' />\n\n\n<parameter name='`tmp.otninfoProtect[$vidx + 1].srcPort.src-access-node-id`' value=\"`$tmp.aai.dst-pnf.pnf-id`\" />\n<parameter name='`tmp.otninfoProtect_length`' value='`$vidx + 2`' />",
        "comments": "",
        "x": 4538.5936279296875,
        "y": 2438.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "d67bf507.0e5f9",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 4108.5936279296875,
        "y": 2733.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "7ef053da.372d9c",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='mvidx' start='0' end='`$tmp.aai.dst-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4517.5936279296875,
        "y": 2489.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "10136030.42aa18"
            ]
        ]
    },
    {
        "id": "25e20a20.a9dcb6",
        "type": "execute",
        "name": "execute split tp-id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.aai.dst-tp`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-dst-tp\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4028.5936279296875,
        "y": 2336.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "a07d9f67.66341",
                "93c9defd.2bdfa"
            ]
        ]
    },
    {
        "id": "93c9defd.2bdfa",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4249.5936279296875,
        "y": 2304.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "9382b345.a1d1e8"
            ]
        ]
    },
    {
        "id": "a07d9f67.66341",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4249.5936279296875,
        "y": 2351.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "2d3dee9f.64531a"
            ]
        ]
    },
    {
        "id": "9382b345.a1d1e8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4414.5936279296875,
        "y": 2301.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "1c50740e.4fe454"
            ]
        ]
    },
    {
        "id": "1c50740e.4fe454",
        "type": "set",
        "name": "set domain-C.ltpId",
        "xml": "<set>\n<parameter name='domain-C.ltpId' value='`$param-prefix-dst-tp[$param-prefix-dst-tp_length -1]`' />\n\n<parameter name='`tmp.otninfoProtect[$vidx + 1].srcPort.src-ltp-id`' value=\"`$param-prefix-dst-tp[$param-prefix-dst-tp_length -1]`\" />\n<parameter name='`tmp.otninfoProtect_length`' value='`$vidx + 2`' />",
        "comments": "",
        "x": 4610.5936279296875,
        "y": 2298.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "2d3dee9f.64531a",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 4416.5936279296875,
        "y": 2351.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "ba27cb3.c1b8838",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5131.0936279296875,
        "y": 2491.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "e4862910.0d6dd",
                "4d9794ed.0f0c74",
                "41d192df.878f6c"
            ]
        ]
    },
    {
        "id": "2c077af9.3f7116",
        "type": "outcome",
        "name": "network-resource",
        "xml": "<outcome value='network-resource'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4918.0936279296875,
        "y": 2490.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "ba27cb3.c1b8838"
            ]
        ]
    },
    {
        "id": "b81d23ea.740b38",
        "type": "set",
        "name": "set domain C tunnel tp id",
        "xml": "<set>\n<parameter name='domain-C.tunnel-tp-id' value=\"`$tmp.aai.dst-ttp.tunnel-tp-id`\" />\n\n<parameter name='`tmp.otninfoProtect[$vidx + 1].srcPort.src-tunnel-tp-id`' value=\"`$tmp.aai.dst-ttp.tunnel-tp-id`\" />\n<parameter name='`tmp.otninfoProtect_length`' value='`$vidx + 2`' />",
        "comments": "",
        "x": 4762.5936279296875,
        "y": 2678.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "10136030.42aa18",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.dst-pnf.relationship-list.relationship[$mvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4712.5936279296875,
        "y": 2489.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "2c077af9.3f7116"
            ]
        ]
    },
    {
        "id": "41d192df.878f6c",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 5336.5936279296875,
        "y": 2569.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "993481fc.0a9cc",
        "type": "comment",
        "name": "Not useful anymore",
        "info": "this domain-B.ltpId is not used anymore",
        "comments": "",
        "x": 4653.5936279296875,
        "y": 2270.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "e4862910.0d6dd",
        "type": "set",
        "name": "set domain C network-id",
        "xml": "<set>\n<parameter name='tmp.domain-C.network-id' value=\"`$tmp.aai.dst-pnf.relationship-list.relationship[$mvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 5401.0936279296875,
        "y": 2467.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "4d9794ed.0f0c74",
        "type": "get-resource",
        "name": "get-resource dst network-resource",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"network-resource\" \n\t\tkey=\"network-resource.network-id = $tmp.domain-C.network-id \n\t\tAND depth = '0'\"\n        pfx='tmp.aai.dst-network-resource' local-only='false' >\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 5411.0936279296875,
        "y": 2513.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "df2dbdcc.750e8"
            ]
        ]
    },
    {
        "id": "df2dbdcc.750e8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5626.5936279296875,
        "y": 2504.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "190b6efa.058019"
            ]
        ]
    },
    {
        "id": "190b6efa.058019",
        "type": "set",
        "name": "set domain B network-id, topo-id, client-id, etc",
        "xml": "<set>\n<parameter name='domain-C.network-id' value=\"`$tmp.aai.dst-network-resource.network-id`\" />\n<parameter name='domain-C.provider-id' value=\"`$tmp.aai.dst-network-resource.provider-id`\" />\n<parameter name='domain-C.client-id' value=\"`$tmp.aai.dst-network-resource.client-id`\" />\n<parameter name='domain-C.te-topo-id' value=\"`$tmp.aai.dst-network-resource.te-topo-id`\" />\n<parameter name='domain-C.network-type' value=\"`$tmp.aai.dst-network-resource.network-type`\" />\n\n\n<parameter name='`tmp.otninfoProtect[$vidx + 1].srcPort.src-access-network-id`' value=\"`$tmp.aai.dst-network-resource.network-id`\" />\n<parameter name='`tmp.otninfoProtect[$vidx + 1].srcPort.src-access-provider-id`' value=\"`$tmp.aai.dst-network-resource.provider-id`\" />\n<parameter name='`tmp.otninfoProtect[$vidx + 1].srcPort.src-access-client-id`' value=\"`$tmp.aai.dst-network-resource.client-id`\" />\n<parameter name='`tmp.otninfoProtect[$vidx + 1].srcPort.src-access-topology-id`' value=\"`$tmp.aai.dst-network-resource.te-topo-id`\" />\n<parameter name='`tmp.otninfoProtect[$vidx + 1].srcPort.src-access-network-type`' value=\"`$tmp.aai.dst-network-resource.network-type`\" />\n<parameter name='`tmp.otninfoProtect`' value='`$vidx + 2`' />",
        "comments": "",
        "x": 5881.0936279296875,
        "y": 2510.3209381103516,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "21a1b6cf.f58d12",
        "type": "switchNode",
        "name": "switch $hasSecondary",
        "xml": "<switch test='`$hasSecondary`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2787.7666015625,
        "y": 328.6499938964844,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "4aea8251.037e9c",
                "20a24c0d.297c6c"
            ]
        ]
    },
    {
        "id": "4aea8251.037e9c",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2936.7666015625,
        "y": 225.6499786376953,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "835e11a3.ae9b18"
            ]
        ]
    },
    {
        "id": "835e11a3.ae9b18",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3069.7666015625,
        "y": 227.6499786376953,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "609cdd79.df387c"
            ]
        ]
    },
    {
        "id": "609cdd79.df387c",
        "type": "switchNode",
        "name": "switch 2-ROOTS in same domain?",
        "xml": "<!-- This is to check the provider-id of ROOt and SECONDARY-ROOT-->\n<switch test='`$param-prefix-domainB[$param-prefix-domainB_length -9] == $param-prefix-domainC[$param-prefix-domainC_length -9]`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3304.64990234375,
        "y": 237.53334045410156,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "b6173df.3337a4",
                "e7365ac5.4ed5b"
            ]
        ]
    },
    {
        "id": "b6173df.3337a4",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3535.64990234375,
        "y": 263.53330993652344,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "ed7ff15a.b9a05"
            ]
        ]
    },
    {
        "id": "e7365ac5.4ed5b",
        "type": "outcomeTrue",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3465.64990234375,
        "y": 454.53334045410156,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "687dbd4d.7679f4"
            ]
        ]
    },
    {
        "id": "ed7ff15a.b9a05",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3677.64990234375,
        "y": 253.53330993652344,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "89b993df.07b78",
                "5e2c6ea6.2dfa38"
            ]
        ]
    },
    {
        "id": "687dbd4d.7679f4",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3591.64990234375,
        "y": 454.53334045410156,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "a4105892.c0505"
            ]
        ]
    },
    {
        "id": "1e64b2b7.385b1d",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2588.533447265625,
        "y": 331.65000915527344,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "21a1b6cf.f58d12"
            ]
        ]
    },
    {
        "id": "89b993df.07b78",
        "type": "set",
        "name": "set otnTopoIdDst",
        "xml": "<set>\n<parameter name='otnTopoIdDst' value='`$allNetworksList.network-resource[$netwidx].te-topo-id`' />\n",
        "comments": "",
        "x": 3836.2333984375,
        "y": 232.64999389648438,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "5e2c6ea6.2dfa38",
        "type": "set",
        "name": "set otnTopoIdDstBackup",
        "xml": "<set>\n<parameter name='otnTopoIdDstBackup' value='`$allNetworksList.network-resource[$netwidx].te-topo-id`' />\n",
        "comments": "",
        "x": 3858.2333984375,
        "y": 280.6499938964844,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "a4105892.c0505",
        "type": "set",
        "name": "set otnTopoIdDst",
        "xml": "<set>\n<parameter name='otnTopoIdDst' value='`$allNetworksList.network-resource[$netwidx].te-topo-id`' />\n",
        "comments": "",
        "x": 3762.2333984375,
        "y": 454.65000915527344,
        "z": "67ca1183.dbac8",
        "wires": []
    },
    {
        "id": "e947b95b.27d1a8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2657.25,
        "y": 406.4499969482422,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "c74c236.99ba66"
            ]
        ]
    },
    {
        "id": "c74c236.99ba66",
        "type": "switchNode",
        "name": "switch $hasSecondary",
        "xml": "<switch test='`$hasSecondary`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2856.483154296875,
        "y": 403.4499816894531,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "befa4e01.9ed388"
            ]
        ]
    },
    {
        "id": "befa4e01.9ed388",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3047.483154296875,
        "y": 407.4499816894531,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "98517b17.6a6348"
            ]
        ]
    },
    {
        "id": "98517b17.6a6348",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3174.483154296875,
        "y": 406.4499816894531,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "c6b462ec.d5ec38"
            ]
        ]
    },
    {
        "id": "d77821ed.16483",
        "type": "switchNode",
        "name": "switch secondarySolutions empty?",
        "xml": "<switch test='`length($otn-oof.secondarySolutions) == 0`'>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1518.13330078125,
        "y": 1710.133316040039,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "f463fee4.443ea",
                "587b05b.a97cbfc"
            ]
        ]
    },
    {
        "id": "f463fee4.443ea",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1744.0333251953125,
        "y": 1682.133316040039,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "9e1884a5.b31a88"
            ]
        ]
    },
    {
        "id": "587b05b.a97cbfc",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1742.0333251953125,
        "y": 1732.133316040039,
        "z": "67ca1183.dbac8",
        "wires": [
            []
        ]
    },
    {
        "id": "9e1884a5.b31a88",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1886.13330078125,
        "y": 1682.133316040039,
        "z": "67ca1183.dbac8",
        "wires": [
            []
        ]
    },
    {
        "id": "ed4632fb.07dd2",
        "type": "switchNode",
        "name": "switch $hasSecondary",
        "xml": "<switch test='`$hasSecondary`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 897.0333251953125,
        "y": 1899.133316040039,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "9a39a481.b29ef"
            ]
        ]
    },
    {
        "id": "9a39a481.b29ef",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1083.0333251953125,
        "y": 1900.133316040039,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "29d17717.6b3378"
            ]
        ]
    },
    {
        "id": "29d17717.6b3378",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1213.0333251953125,
        "y": 1900.133316040039,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "29b9a31c.a264c4"
            ]
        ]
    },
    {
        "id": "21cc841a.968b4c",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1419.566650390625,
        "y": 710.566650390625,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "a199714f.963fb"
            ]
        ]
    },
    {
        "id": "a199714f.963fb",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1559.566650390625,
        "y": 710.566650390625,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "1548db64.e4c295"
            ]
        ]
    },
    {
        "id": "20a24c0d.297c6c",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2982.566650390625,
        "y": 329.566650390625,
        "z": "67ca1183.dbac8",
        "wires": [
            [
                "82fe228a.5ad828"
            ]
        ]
    }
]