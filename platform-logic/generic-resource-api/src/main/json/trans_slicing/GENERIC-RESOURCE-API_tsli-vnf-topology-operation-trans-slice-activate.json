[
    {
        "id": "d3bb30c4.60fa",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 130,
        "y": 87,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "d58b4202.9cdb3"
            ]
        ]
    },
    {
        "id": "d58b4202.9cdb3",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 261.2856903076172,
        "y": 136.23810863494873,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "617bde2e.1132b"
            ]
        ]
    },
    {
        "id": "617bde2e.1132b",
        "type": "method",
        "name": "method tsli-vnf-topology-operation-trans-slice-activate",
        "xml": "<method rpc='tsli-vnf-topology-operation-trans-slice-activate' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 264.4286193847656,
        "y": 221.00003242492676,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "8ac7a60e.72d768"
            ]
        ]
    },
    {
        "id": "8ac7a60e.72d768",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 414.238037109375,
        "y": 350.6666564941406,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "f524f81d.443de",
                "72b21bde.5e8f94",
                "8eb8b188.490748",
                "2d8b7920.ad86c6",
                "3542a749.559bb8",
                "9fe7f5eb.e26c6",
                "9bca10ea.41532"
            ]
        ]
    },
    {
        "id": "f524f81d.443de",
        "type": "set",
        "name": "set vnf-level-oper-status to Active",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-level-oper-status.order-status' value='Active' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-level-oper-status.last-rpc-action' value='`$vnf-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-level-oper-status.last-action' value='`$vnf-topology-operation-input.request-information.request-action`' />",
        "comments": "",
        "x": 757.3849563598633,
        "y": 587.6705458434299,
        "z": "bc9d969b.328b8",
        "wires": []
    },
    {
        "id": "72b21bde.5e8f94",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 679.5716552734375,
        "y": 1034.59716796875,
        "z": "bc9d969b.328b8",
        "wires": []
    },
    {
        "id": "8eb8b188.490748",
        "type": "set",
        "name": "set vnf-index and vnf-object-path",
        "xml": "<set>\n<parameter name='vnfId' value='`$vnf-topology-operation-input.vnf-information.vnf-id`' />\n<parameter name=\"vnf-object-path\" value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'  + $vnf-topology-operation-input.service-information.service-instance-id  + '/service-data/vnfs/vnf/'  + $vnf-topology-operation-input.vnf-information.vnf-id  + '/vnf-data/'` \" />",
        "comments": "",
        "x": 763.5716018676758,
        "y": 535.5968001158908,
        "z": "bc9d969b.328b8",
        "wires": []
    },
    {
        "id": "2d8b7920.ad86c6",
        "type": "switchNode",
        "name": "switch service-data.vnfs.vnf_length",
        "xml": "<switch test='`$service-data.vnfs.vnf_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 772,
        "y": 290,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "460a0445.d7c3dc",
                "faa961b6.871688",
                "65a03181.59cb2"
            ]
        ]
    },
    {
        "id": "65a03181.59cb2",
        "type": "outcome",
        "name": "0",
        "xml": "<outcome value='0'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1164.968994140625,
        "y": 255.96875,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "6b9e92c0.a68d7c"
            ]
        ]
    },
    {
        "id": "6b9e92c0.a68d7c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"vnf-topology-operation-input.vnf-request-input.vnf-id not found in service-data\" />\n",
        "comments": "",
        "x": 1319.7778816223145,
        "y": 274.889018535614,
        "z": "bc9d969b.328b8",
        "wires": []
    },
    {
        "id": "460a0445.d7c3dc",
        "type": "other",
        "name": "Null",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 1158.0001335144043,
        "y": 295.00007152557373,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "6b9e92c0.a68d7c"
            ]
        ]
    },
    {
        "id": "faa961b6.871688",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1151.0005416870117,
        "y": 328.000075340271,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "8a5fb404.f9878"
            ]
        ]
    },
    {
        "id": "8a5fb404.f9878",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1298.2700843811035,
        "y": 328.5547204017639,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "6a1ecb88.eef49c"
            ]
        ]
    },
    {
        "id": "6a1ecb88.eef49c",
        "type": "for",
        "name": "for vidx..service-data.vnfs.vnf_length[]",
        "xml": "<for index='vnfidx' start='0' end='`$service-data.vnfs.vnf_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1544.2862014770508,
        "y": 335.42864084243774,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "b0add77c.6bf91"
            ]
        ]
    },
    {
        "id": "b0add77c.6bf91",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1763.6358337402344,
        "y": 334.96872091293335,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "cea52d6a.c1821"
            ]
        ]
    },
    {
        "id": "cea52d6a.c1821",
        "type": "switchNode",
        "name": "switch vnfid found",
        "xml": "<!--<switch test=\"`$service-data.vnfs.vnf[$vidx].vnf-id == $vnf-topology-operation-input.vnf-information.vnf-id`\">-->\n<switch test=\"`$service-data.vnfs.vnf[$vnfidx].vnf-data.service-information.service-instance-id == $vnf-topology-operation-input.service-information.service-instance-id`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 1917.715431213379,
        "y": 334.67880296707153,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "5d11f780.824888"
            ]
        ]
    },
    {
        "id": "5d11f780.824888",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2128.6675758361816,
        "y": 337.571494102478,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "a0f2e85b.0a87b"
            ]
        ]
    },
    {
        "id": "a0f2e85b.0a87b",
        "type": "set",
        "name": "set tmp.vidx and ctx.vnf-data",
        "xml": "<set>\n<parameter name='tmp.vidx' value='`$vnfidx`' />\n<parameter name='ctx.vnf-data.' value='`$service-data.vnfs.vnf[$vnfidx].`' />\n",
        "comments": "",
        "x": 2338.199951171875,
        "y": 339.32159423828125,
        "z": "bc9d969b.328b8",
        "wires": []
    },
    {
        "id": "59f973c.cdd6b8c",
        "type": "save",
        "name": "update AnAI - vnf-instance.orchestration-status",
        "xml": "<update plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"generic-vnf\"   \n\t\tkey=\"generic-vnf.vnf-id = $vnfId\" >\n<parameter name=\"orchestration-status\" value=\"Active\" />\n<parameter name=\"vnf-type\" value=\"some vnf-type\" />",
        "comments": "",
        "outputs": 1,
        "x": 782.9999618530273,
        "y": 654.0103714736179,
        "z": "bc9d969b.328b8",
        "wires": [
            []
        ]
    },
    {
        "id": "3542a749.559bb8",
        "type": "set",
        "name": "copy input data to service data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.sdnc-request-header.' value='$vnf-topology-operation-input.sdnc-request-header.' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.request-information.' value='$vnf-topology-operation-input.request-information.' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.service-information.' value='$vnf-topology-operation-input.service-information.' />",
        "comments": "",
        "x": 762.0000762939453,
        "y": 485.01033284980804,
        "z": "bc9d969b.328b8",
        "wires": []
    },
    {
        "id": "4fe98fb1.59bc6",
        "type": "switchNode",
        "name": "switch vnf-level-oper-status",
        "xml": "<switch test='`$service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-level-oper-status.order-status`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 748.7499389648438,
        "y": 390.00390270072967,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "f91e20d5.afaf7",
                "dfb5ed69.1a2df"
            ]
        ]
    },
    {
        "id": "f91e20d5.afaf7",
        "type": "outcome",
        "name": "outcome Created",
        "xml": "<outcome value='Created'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1128.5833320617676,
        "y": 395.1149909766391,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "51b6b4d6.c5c3fc"
            ]
        ]
    },
    {
        "id": "dfb5ed69.1a2df",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1106.583351135254,
        "y": 445.1150024207309,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "7c071461.746f44"
            ]
        ]
    },
    {
        "id": "7c071461.746f44",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'VNF is not in appropriate state for activate. Current state is ' + $service-data.vnfs.vnf[$tmp.nidx].vnf-data.vnf-level-oper-status.order-status`\" />",
        "comments": "",
        "x": 1266.0831184387207,
        "y": 448.1150014670566,
        "z": "bc9d969b.328b8",
        "wires": []
    },
    {
        "id": "51b6b4d6.c5c3fc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1338.889705657959,
        "y": 406.44016626197845,
        "z": "bc9d969b.328b8",
        "wires": [
            []
        ]
    },
    {
        "id": "441fc399.08ca9c",
        "type": "comment",
        "name": "new for TransportSlicing",
        "info": "",
        "comments": "",
        "x": 711,
        "y": 709,
        "z": "bc9d969b.328b8",
        "wires": []
    },
    {
        "id": "9fe7f5eb.e26c6",
        "type": "save",
        "name": "get service-instance from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"service-instance\"\n\tkey='service-instance.service-instance-id = $service-data.vnfs.vnf[$tmp.vidx].vnf-data.service-information.service-instance-id\n         AND customer.global-customer-id = $service-data.vnfs.vnf[$tmp.vidx].vnf-data.service-information.global-customer-id \n         AND service-subscription.service-type = $service-data.vnfs.vnf[$tmp.vidx].vnf-data.service-information.subscription-service-type'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.service-instance\">\n\n\n<!--vnf-topology-operation-input.service-information.service-instance-id-->",
        "comments": "",
        "outputs": 1,
        "x": 731,
        "y": 805,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "926c12ae.af2a48",
                "5deb4cbf.60b5f4",
                "35c77549.8e65c2"
            ]
        ]
    },
    {
        "id": "926c12ae.af2a48",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 950,
        "y": 743,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "c296586e.046f08"
            ]
        ]
    },
    {
        "id": "5deb4cbf.60b5f4",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 959.490966796875,
        "y": 785.5740356445312,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "bb46ff52.717af8"
            ]
        ]
    },
    {
        "id": "35c77549.8e65c2",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 948,
        "y": 832,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "236d61d5.47d9a6"
            ]
        ]
    },
    {
        "id": "bb46ff52.717af8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 1113.0623779296875,
        "y": 788.8597717285156,
        "z": "bc9d969b.328b8",
        "wires": []
    },
    {
        "id": "236d61d5.47d9a6",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 1117,
        "y": 833,
        "z": "bc9d969b.328b8",
        "wires": []
    },
    {
        "id": "c296586e.046f08",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for index='rel-index' start='0' end='`$tmp.aai.service-instance.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1147,
        "y": 739,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "b77b70ed.c591c"
            ]
        ]
    },
    {
        "id": "b77b70ed.c591c",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.service-instance.relationship-list.relationship[$rel-index].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1370.33349609375,
        "y": 738.9999389648438,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "2fc295b4.0602da"
            ]
        ]
    },
    {
        "id": "2fc295b4.0602da",
        "type": "outcome",
        "name": "connectivity",
        "xml": "<outcome value='connectivity'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1571.0001335144043,
        "y": 740.000020980835,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "483259b4.af3e1"
            ]
        ]
    },
    {
        "id": "cba9b813.e1b22",
        "type": "set",
        "name": "set attachment_param for OTN A",
        "xml": "<set>\n<parameter name='src-node-id' value='`$tmp.aai.vpn-bindingA.src-access-node-id`' />\n<parameter name='dst-node-id' value='`$tmp.aai.vpn-bindingA.dst-access-node-id`' />\n<parameter name='dst-tpn-id' value='1' />\n<parameter name='dst-ttp-id' value='`$tmp.aai.vpn-bindingA.dst-access-ltp-id`' />\n<parameter name='slice-instance-id' value='`$tmp.aai.service-instance.service-instance-id`' />\n<parameter name='otn-tunnel-name-src-domain' value='`$tmp.aai.vpn-bindingA.vpn-name`' />\n<parameter name='client-id' value='`$tmp.aai.vpn-bindingA.access-client-id`' />\n<parameter name='provider-id' value='`$tmp.aai.vpn-bindingA.access-provider-id`' />\n<parameter name='topology-id' value='`$tmp.aai.vpn-bindingA.access-topology-id`' />\n",
        "comments": "",
        "x": 3832,
        "y": 459,
        "z": "bc9d969b.328b8",
        "wires": []
    },
    {
        "id": "c84632a9.494938",
        "type": "execute",
        "name": "execute RestApiCallNode Create OTN tunnel with token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.ts-otn-src-domain-creation.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainA.url + '/restconf/data/ietf-te:te'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainA.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainA.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"otn-oof\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 3913,
        "y": 774,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "f012f442.27b7b8",
                "961e7c8c.e8988"
            ]
        ]
    },
    {
        "id": "f012f442.27b7b8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4222.5,
        "y": 743,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "85de6f60.586588"
            ]
        ]
    },
    {
        "id": "961e7c8c.e8988",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4227.5,
        "y": 808,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "b3e28f35.f331c"
            ]
        ]
    },
    {
        "id": "85de6f60.586588",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create vpn rest api\" />\n",
        "comments": "",
        "x": 4398.5,
        "y": 743,
        "z": "bc9d969b.328b8",
        "wires": []
    },
    {
        "id": "b3e28f35.f331c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4394,
        "y": 808,
        "z": "bc9d969b.328b8",
        "wires": [
            []
        ]
    },
    {
        "id": "9e9578a4.5a4df",
        "type": "set",
        "name": "set sotn_value",
        "xml": "<set>\n<parameter name='eth-service-name' value='`$tmp.aai.connectivityA.connectivity-id`' />\n<parameter name='provider-id' value='`$tmp.aai.connectivityA.access-provider-id`' />\n<parameter name='client-id' value='`$tmp.aai.connectivityA.access-client-id`' />\n<parameter name='topology-id' value='`$tmp.aai.connectivityA.access-topology-id`' />\n<parameter name='otn-tunnel-name' value='`$tmp.aai.vpn-bindingA.vpn-name`' />\n<parameter name='ethernet-end-point-name' value='`$tmp.aai.connectivityA.connectivity-id`' />\n<parameter name='index-number' value='0' />\n<parameter name='eth-node-id' value='`$tmp.aai.connectivityA.access-node-id`' />\n<parameter name='eth-node-tp-id' value='`$tmp.aai.connectivityA.access-ltp-id`' />\n",
        "comments": "",
        "x": 3779.5,
        "y": 962,
        "z": "bc9d969b.328b8",
        "wires": []
    },
    {
        "id": "8d5f5723.afac28",
        "type": "execute",
        "name": "execute RestApiCallNode Create ethernet Service without token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.ts-ethernet-service.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainA.url + '/restconf/data/ietf-eth-tran-service:etht-svc'`\" />\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.restapi.connection-oof-url`\" />-->\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainA.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainA.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name='dirPath' value=\"/opt/onap/sdnc/restconfapi/yang\" />\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3933.5,
        "y": 1010,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "7efa3090.e1e078",
                "602bb58a.eb8054"
            ]
        ]
    },
    {
        "id": "7efa3090.e1e078",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4279,
        "y": 991,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "d892eebe.cdbb5"
            ]
        ]
    },
    {
        "id": "602bb58a.eb8054",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4283,
        "y": 1031,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "34660646.412fea"
            ]
        ]
    },
    {
        "id": "d892eebe.cdbb5",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create vpn rest api\" />\n",
        "comments": "",
        "x": 4437,
        "y": 991,
        "z": "bc9d969b.328b8",
        "wires": []
    },
    {
        "id": "34660646.412fea",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4440.5,
        "y": 1031,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "63e48280.b2cb84",
                "ffe3929d.a2fda"
            ]
        ]
    },
    {
        "id": "bae980db.b9d408",
        "type": "comment",
        "name": "TODO: FIXME:",
        "info": "put proper values based on connectivity resource retrieved from AAI",
        "comments": "",
        "x": 3777,
        "y": 918,
        "z": "bc9d969b.328b8",
        "wires": []
    },
    {
        "id": "63e48280.b2cb84",
        "type": "save",
        "name": "update vpn-binding A resource (aka. OTN domainA) in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $tmp.aai.vpn-bindingA.vpn-id' >\n<parameter name='vpn-id' value='`$tmp.aai.vpn-bindingA.vpn-id`' />\n<parameter name='vpn-name' value='`$tmp.aai.vpn-bindingA.vpn-id`' />\n\n<parameter name='operational-status' value='Activated' />\n",
        "comments": "",
        "outputs": 1,
        "x": 4771,
        "y": 996,
        "z": "bc9d969b.328b8",
        "wires": [
            []
        ]
    },
    {
        "id": "2bc3079a.d7dde",
        "type": "comment",
        "name": "TODO: FIXME",
        "info": "use proper vpn-binding id and connectivity id\n\nAlso, does CCSDK support \"update\" operation for vpn-binding and connectivity?",
        "comments": "",
        "x": 4635,
        "y": 955,
        "z": "bc9d969b.328b8",
        "wires": []
    },
    {
        "id": "ffe3929d.a2fda",
        "type": "save",
        "name": "update connectivity resource in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $tmp.aai.connectivityA.connectivity-id'>\n<parameter name='connectivity-id' value='`$tmp.aai.connectivityA.connectivity-id`' />\n<parameter name='operational-status' value='Activated' />\n",
        "comments": "",
        "outputs": 1,
        "x": 4698,
        "y": 1042,
        "z": "bc9d969b.328b8",
        "wires": [
            []
        ]
    },
    {
        "id": "f01334b4.1d8928",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.src.domainA.pnf-name' value=\"`'networkId-providerId-' +\n                                                   $tmp.aai.vpn-bindingA.access-provider-id + '-clientId-' +\n                                                   $tmp.aai.vpn-bindingA.access-client-id + '-topologyId-' +\n                                                   $tmp.aai.vpn-bindingA.access-topology-id + '-nodeId-' +\n                                                   $tmp.aai.vpn-bindingA.src-access-node-id`\" />\n",
        "comments": "",
        "x": 3770,
        "y": 507,
        "z": "bc9d969b.328b8",
        "wires": []
    },
    {
        "id": "dbf99a2b.67c71",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.src.domainA.pnf-name\"\n        pfx='tmp.aai.source-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3796,
        "y": 624,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "27a62f4.f17ab5",
                "1aa65c21.28f974",
                "a732e62d.9d3f9"
            ]
        ]
    },
    {
        "id": "27a62f4.f17ab5",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3991.5001220703125,
        "y": 576,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "b04b9242.14b66"
            ]
        ]
    },
    {
        "id": "1aa65c21.28f974",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3983.5001220703125,
        "y": 631,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "5b188d77.8ffc8c"
            ]
        ]
    },
    {
        "id": "b04b9242.14b66",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4135.8824462890625,
        "y": 575.6556701660156,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "14763204.df94c6"
            ]
        ]
    },
    {
        "id": "a517ec9b.cf8fc8",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4718,
        "y": 578,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "37ce34d7.e5314c"
            ]
        ]
    },
    {
        "id": "14763204.df94c6",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='spvidx' start='0' end='`$tmp.aai.source-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4320,
        "y": 574,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "bbbe4e04.e26da"
            ]
        ]
    },
    {
        "id": "bbbe4e04.e26da",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4515,
        "y": 574,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "a517ec9b.cf8fc8"
            ]
        ]
    },
    {
        "id": "a732e62d.9d3f9",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3988.5001220703125,
        "y": 688,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "ebcd1e8f.a8cb18"
            ]
        ]
    },
    {
        "id": "ebcd1e8f.a8cb18",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4140.5001220703125,
        "y": 689,
        "z": "bc9d969b.328b8",
        "wires": []
    },
    {
        "id": "5b188d77.8ffc8c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4151.5001220703125,
        "y": 632,
        "z": "bc9d969b.328b8",
        "wires": []
    },
    {
        "id": "d99536cb.cbc39",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domainA.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domainA.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 5103,
        "y": 591,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "5f8e12fe.363034",
                "3e541a04.379ece",
                "5e7e63a7.7acdcc"
            ]
        ]
    },
    {
        "id": "37ce34d7.e5314c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4897,
        "y": 578,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "17ccdbf.84352a4",
                "d99536cb.cbc39"
            ]
        ]
    },
    {
        "id": "17ccdbf.84352a4",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domainA id",
        "xml": "<set>\n<parameter name='tmp.domainA.esr-thirdparty-id' value=\"`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 5133,
        "y": 539,
        "z": "bc9d969b.328b8",
        "wires": []
    },
    {
        "id": "5f8e12fe.363034",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5313,
        "y": 582,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "a674bdd4.cbe5f"
            ]
        ]
    },
    {
        "id": "3e541a04.379ece",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5305,
        "y": 637,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "b14ed6a2.e3874"
            ]
        ]
    },
    {
        "id": "5e7e63a7.7acdcc",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5310,
        "y": 694,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "1ce96021.1d8b"
            ]
        ]
    },
    {
        "id": "1ce96021.1d8b",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5462,
        "y": 695,
        "z": "bc9d969b.328b8",
        "wires": []
    },
    {
        "id": "b14ed6a2.e3874",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5473,
        "y": 640,
        "z": "bc9d969b.328b8",
        "wires": []
    },
    {
        "id": "a674bdd4.cbe5f",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5457.38232421875,
        "y": 579.6556701660156,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "67e87cc0.72543c"
            ]
        ]
    },
    {
        "id": "67e87cc0.72543c",
        "type": "set",
        "name": "set controller domainA data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainA.url' value=\"`$tmp.aai.domainA.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainA.user' value=\"`$tmp.aai.domainA.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainA.password' value=\"`$tmp.aai.domainA.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 5672,
        "y": 576,
        "z": "bc9d969b.328b8",
        "wires": []
    },
    {
        "id": "9bca10ea.41532",
        "type": "execute",
        "name": "execute properties",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />",
        "comments": "",
        "outputs": 1,
        "x": 697,
        "y": 753,
        "z": "bc9d969b.328b8",
        "wires": [
            []
        ]
    },
    {
        "id": "9469a92e.1082c",
        "type": "set",
        "name": "set attachment_param for OTN B",
        "xml": "<set>\n<parameter name='src-node-id' value='`$tmp.aai.vpn-bindingB.src-access-node-id`' />\n<parameter name='dst-node-id' value='`$tmp.aai.vpn-bindingB.dst-access-node-id`' />\n<parameter name='src-tpn-id' value='1' />\n<parameter name='src-ttp-id' value='`$tmp.aai.vpn-bindingB.src-access-ltp-id`' />\n<parameter name='slice-instance-id' value='`$tmp.aai.service-instance.service-instance-id`' />\n<parameter name='otn-tunnel-name-src-domain' value='`$tmp.aai.vpn-bindingB.vpn-name`' />\n<parameter name='client-id' value='`$tmp.aai.vpn-bindingB.access-client-id`' />\n<parameter name='provider-id' value='`$tmp.aai.vpn-bindingB.access-provider-id`' />\n<parameter name='topology-id' value='`$tmp.aai.vpn-bindingB.access-topology-id`' />\n",
        "comments": "",
        "x": 3812,
        "y": 1263,
        "z": "bc9d969b.328b8",
        "wires": []
    },
    {
        "id": "8e72aaca.f223b8",
        "type": "execute",
        "name": "execute RestApiCallNode Create OTN tunnel with token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.ts-otn-dst-domain-creation.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainB.url + '/restconf/data/ietf-te:te'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainB.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainB.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"otn-oof\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 3875,
        "y": 1592,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "4967c60e.7eec88",
                "d728c3b6.b72d4"
            ]
        ]
    },
    {
        "id": "4967c60e.7eec88",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4170.5,
        "y": 1559,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "957f3c62.36bab"
            ]
        ]
    },
    {
        "id": "d728c3b6.b72d4",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4175.5,
        "y": 1624,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "9b37bb11.43c248"
            ]
        ]
    },
    {
        "id": "957f3c62.36bab",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create vpn rest api\" />\n",
        "comments": "",
        "x": 4338.5,
        "y": 1559,
        "z": "bc9d969b.328b8",
        "wires": []
    },
    {
        "id": "9b37bb11.43c248",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4349,
        "y": 1624,
        "z": "bc9d969b.328b8",
        "wires": [
            []
        ]
    },
    {
        "id": "24fc86b.f179cfa",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.dst.domainB.pnf-name' value=\"`'networkId-providerId-' +\n                                                   $tmp.aai.vpn-bindingB.access-provider-id + '-clientId-' +\n                                                   $tmp.aai.vpn-bindingB.access-client-id + '-topologyId-' +\n                                                   $tmp.aai.vpn-bindingB.access-topology-id + '-nodeId-' +\n                                                   $tmp.aai.vpn-bindingB.dst-access-node-id`\" />\n",
        "comments": "",
        "x": 3751,
        "y": 1320,
        "z": "bc9d969b.328b8",
        "wires": []
    },
    {
        "id": "a4e80e5.b17c0f",
        "type": "get-resource",
        "name": "get-resource dst pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.dst.domainB.pnf-name\"\n        pfx='tmp.aai.destination-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3771,
        "y": 1417,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "d87e44a4.312df",
                "c39adf70.78fbd",
                "ae2b50d9.d9592"
            ]
        ]
    },
    {
        "id": "d87e44a4.312df",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3973.5001220703125,
        "y": 1370,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "1f01bb4d.6d662d"
            ]
        ]
    },
    {
        "id": "c39adf70.78fbd",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3965.5001220703125,
        "y": 1425,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "7e32fa48.cb95e4"
            ]
        ]
    },
    {
        "id": "1f01bb4d.6d662d",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4117.8824462890625,
        "y": 1367.6556701660156,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "71c66ab3.44665c"
            ]
        ]
    },
    {
        "id": "71c66ab3.44665c",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='dpvidx' start='0' end='`$tmp.aai.destination-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4302,
        "y": 1382,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "7900c812.a2abd"
            ]
        ]
    },
    {
        "id": "ae2b50d9.d9592",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3970.5001220703125,
        "y": 1482,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "c7f28bc4.db74a"
            ]
        ]
    },
    {
        "id": "c7f28bc4.db74a",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4122.5001220703125,
        "y": 1483,
        "z": "bc9d969b.328b8",
        "wires": []
    },
    {
        "id": "7e32fa48.cb95e4",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4133.5001220703125,
        "y": 1428,
        "z": "bc9d969b.328b8",
        "wires": []
    },
    {
        "id": "d3528946.ee7a88",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4700,
        "y": 1386,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "746ece73.5c4d48"
            ]
        ]
    },
    {
        "id": "7900c812.a2abd",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.destination-pnf.relationship-list.relationship[$dpvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4497,
        "y": 1382,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "d3528946.ee7a88"
            ]
        ]
    },
    {
        "id": "f8459d33.082c4",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domainB.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domainB.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 5085,
        "y": 1385,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "652db70b.f69af",
                "cd87b694.170a2",
                "e10452ec.f851f"
            ]
        ]
    },
    {
        "id": "746ece73.5c4d48",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4877,
        "y": 1378,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "13e8c9be.60d2ee",
                "f8459d33.082c4"
            ]
        ]
    },
    {
        "id": "13e8c9be.60d2ee",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domainB id",
        "xml": "<set>\n<parameter name='tmp.domainB.esr-thirdparty-id' value=\"`$tmp.aai.destination-pnf.relationship-list.relationship[$dpvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 5115,
        "y": 1333,
        "z": "bc9d969b.328b8",
        "wires": []
    },
    {
        "id": "64b1d1df.af4928",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5444,
        "y": 1489,
        "z": "bc9d969b.328b8",
        "wires": []
    },
    {
        "id": "afae5d5f.cf8cd8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5455,
        "y": 1434,
        "z": "bc9d969b.328b8",
        "wires": []
    },
    {
        "id": "fe8767e6.75d1",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5439.38232421875,
        "y": 1373.6556701660156,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "9e679808.748fd"
            ]
        ]
    },
    {
        "id": "9e679808.748fd",
        "type": "set",
        "name": "set controller domainB data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainB.url' value=\"`$tmp.aai.domainB.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainB.user' value=\"`$tmp.aai.domainB.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainB.password' value=\"`$tmp.aai.domainB.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 5654,
        "y": 1370,
        "z": "bc9d969b.328b8",
        "wires": []
    },
    {
        "id": "652db70b.f69af",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5295,
        "y": 1376,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "fe8767e6.75d1"
            ]
        ]
    },
    {
        "id": "cd87b694.170a2",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5287,
        "y": 1431,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "afae5d5f.cf8cd8"
            ]
        ]
    },
    {
        "id": "e10452ec.f851f",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5292,
        "y": 1488,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "64b1d1df.af4928"
            ]
        ]
    },
    {
        "id": "483259b4.af3e1",
        "type": "save",
        "name": "get connectivity from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"connectivity\"\n\t    key=\"connectivity.connectivity-id = $tmp.aai.service-instance.relationship-list.relationship[$rel-index].relationship-data[0].relationship-value\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.connectivity\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 1809,
        "y": 742,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "deb24009.8fcaa8",
                "f99db731.cec29",
                "20c66e63.50491a"
            ]
        ]
    },
    {
        "id": "deb24009.8fcaa8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2017,
        "y": 706,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "4730a3bd.f32424"
            ]
        ]
    },
    {
        "id": "f99db731.cec29",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2017.490966796875,
        "y": 751.5740356445312,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "5f621d7d.168d04"
            ]
        ]
    },
    {
        "id": "20c66e63.50491a",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2015,
        "y": 795,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "3d808fc9.409a"
            ]
        ]
    },
    {
        "id": "5f621d7d.168d04",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 2180.0623779296875,
        "y": 751.8597717285156,
        "z": "bc9d969b.328b8",
        "wires": []
    },
    {
        "id": "3d808fc9.409a",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 2184,
        "y": 796,
        "z": "bc9d969b.328b8",
        "wires": []
    },
    {
        "id": "98bf7163.623b18",
        "type": "save",
        "name": "get vpn-binding from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"vpn-binding\"\n\t    key=\"vpn-binding.vpn-id = $tmp.aai.connectivity.relationship-list.relationship[$cridx].relationship-data[0].relationship-value\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.vpn-binding\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 2490,
        "y": 795,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "4a10f363.97f04c",
                "75240e64.8364b",
                "7a8b2677.1e3f6"
            ]
        ]
    },
    {
        "id": "262c25a6.ad70a2",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2874,
        "y": 795,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "471d55bd.ad492c"
            ]
        ]
    },
    {
        "id": "4a10f363.97f04c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2701,
        "y": 797,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "262c25a6.ad70a2"
            ]
        ]
    },
    {
        "id": "75240e64.8364b",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2701.490966796875,
        "y": 842.5740356445312,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "1484cf74.c39e71"
            ]
        ]
    },
    {
        "id": "7a8b2677.1e3f6",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2699,
        "y": 886,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "d377f001.ff927"
            ]
        ]
    },
    {
        "id": "d377f001.ff927",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 2866,
        "y": 885,
        "z": "bc9d969b.328b8",
        "wires": []
    },
    {
        "id": "1484cf74.c39e71",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 2864.0623779296875,
        "y": 842.8597717285156,
        "z": "bc9d969b.328b8",
        "wires": []
    },
    {
        "id": "4730a3bd.f32424",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='cridx' start='0' end='`$tmp.aai.connectivity.relationship-list.relationship_length`' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2218,
        "y": 701,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "ed79cbad.42008"
            ]
        ]
    },
    {
        "id": "ed79cbad.42008",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.connectivity.relationship-list.relationship[$cridx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2423,
        "y": 701,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "87636f23.10a238"
            ]
        ]
    },
    {
        "id": "87636f23.10a238",
        "type": "outcome",
        "name": "vpn-binding",
        "xml": "<outcome value='vpn-binding'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2589,
        "y": 701,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "f49319bb.999b88"
            ]
        ]
    },
    {
        "id": "f49319bb.999b88",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2752,
        "y": 701,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "98bf7163.623b18"
            ]
        ]
    },
    {
        "id": "471d55bd.ad492c",
        "type": "switchNode",
        "name": "switch vpn-binding has dst-access-ltp",
        "xml": "<switch test='`$tmp.aai.vpn-binding.dst-access-ltp-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3128,
        "y": 794,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "a6851b6e.131e78",
                "f997812a.bb5bf"
            ]
        ]
    },
    {
        "id": "a6851b6e.131e78",
        "type": "outcome",
        "name": "Null",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 3381,
        "y": 828,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "9ec23d9e.f5fd3"
            ]
        ]
    },
    {
        "id": "f997812a.bb5bf",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3381,
        "y": 772,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "a48cbe42.98bbb"
            ]
        ]
    },
    {
        "id": "9ec23d9e.f5fd3",
        "type": "switchNode",
        "name": "switch vpn-binding has src-access-ltp",
        "xml": "<switch test='`$tmp.aai.vpn-binding.src-access-ltp-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3120,
        "y": 1614,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "12733247.02817e",
                "457dfc0a.58968c"
            ]
        ]
    },
    {
        "id": "12733247.02817e",
        "type": "outcome",
        "name": "Null",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 3373,
        "y": 1648,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "13d35870.d79cf8"
            ]
        ]
    },
    {
        "id": "457dfc0a.58968c",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3373,
        "y": 1592,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "b272db0a.663f1"
            ]
        ]
    },
    {
        "id": "13d35870.d79cf8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 3524,
        "y": 1648,
        "z": "bc9d969b.328b8",
        "wires": []
    },
    {
        "id": "d316857d.f41628",
        "type": "set",
        "name": "set vpn-bindingA and connectivityA",
        "xml": "<set>\n<parameter name='tmp.aai.vpn-bindingA.' value=\"`$tmp.aai.vpn-binding.`\" />\n<parameter name='tmp.aai.connectivityA.' value=\"`$tmp.aai.connectivity.`\" />\n",
        "comments": "",
        "x": 3827,
        "y": 399,
        "z": "bc9d969b.328b8",
        "wires": []
    },
    {
        "id": "3accaf74.7f8a68",
        "type": "set",
        "name": "set vpn-bindingB and connectivityB",
        "xml": "<set>\n<parameter name='tmp.aai.vpn-bindingB.' value=\"`$tmp.aai.vpn-binding.`\" />\n<parameter name='tmp.aai.connectivityB.' value=\"`$tmp.aai.connectivity.`\" />\n\n",
        "comments": "",
        "x": 3808,
        "y": 1205,
        "z": "bc9d969b.328b8",
        "wires": []
    },
    {
        "id": "a48cbe42.98bbb",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3549,
        "y": 774,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "d316857d.f41628",
                "cba9b813.e1b22",
                "f01334b4.1d8928",
                "dbf99a2b.67c71",
                "9e9578a4.5a4df",
                "8d5f5723.afac28",
                "c84632a9.494938"
            ]
        ]
    },
    {
        "id": "b272db0a.663f1",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3524,
        "y": 1591,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "3accaf74.7f8a68",
                "9469a92e.1082c",
                "24fc86b.f179cfa",
                "a4e80e5.b17c0f",
                "8e72aaca.f223b8",
                "6e17b735.11933",
                "35d8443b.290754"
            ]
        ]
    },
    {
        "id": "6e17b735.11933",
        "type": "set",
        "name": "set sotn_value",
        "xml": "<set>\n<parameter name='eth-service-name' value='`$tmp.aai.connectivityB.connectivity-id`' />\n<parameter name='provider-id' value='`$tmp.aai.connectivityB.access-provider-id`' />\n<parameter name='client-id' value='`$tmp.aai.connectivityB.access-client-id`' />\n<parameter name='topology-id' value='`$tmp.aai.connectivityB.access-topology-id`' />\n<parameter name='otn-tunnel-name' value='`$tmp.aai.vpn-bindingB.vpn-name`' />\n<parameter name='ethernet-end-point-name' value='`$tmp.aai.connectivityB.connectivity-id`' />\n<parameter name='index-number' value='0' />\n<parameter name='eth-node-id' value='`$tmp.aai.connectivityB.access-node-id`' />\n<parameter name='eth-node-tp-id' value='`$tmp.aai.connectivityB.access-ltp-id`' />\n",
        "comments": "",
        "x": 3753,
        "y": 1734,
        "z": "bc9d969b.328b8",
        "wires": []
    },
    {
        "id": "35d8443b.290754",
        "type": "execute",
        "name": "execute RestApiCallNode Create ethernet Service without token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.ts-ethernet-service.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainB.url + '/restconf/data/ietf-eth-tran-service:etht-svc'`\" />\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.restapi.connection-oof-url`\" />-->\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainB.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainB.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"patch\"/>\n<parameter name='dirPath' value=\"/opt/onap/sdnc/restconfapi/yang\" />\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3907,
        "y": 1782,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "3ee71f70.cef2d8",
                "ec28887e.13052"
            ]
        ]
    },
    {
        "id": "3ee71f70.cef2d8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4252.5,
        "y": 1763,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "146e8cbe.f1427b"
            ]
        ]
    },
    {
        "id": "ec28887e.13052",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4256.5,
        "y": 1803,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "6938dd8d.725ce4"
            ]
        ]
    },
    {
        "id": "146e8cbe.f1427b",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create vpn rest api\" />\n",
        "comments": "",
        "x": 4410.5,
        "y": 1763,
        "z": "bc9d969b.328b8",
        "wires": []
    },
    {
        "id": "6938dd8d.725ce4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4414,
        "y": 1803,
        "z": "bc9d969b.328b8",
        "wires": [
            [
                "3103adf.03ebdd2",
                "abd5a958.8851"
            ]
        ]
    },
    {
        "id": "b5e2d859.f89e48",
        "type": "comment",
        "name": "TODO: FIXME:",
        "info": "put proper values based on connectivity resource retrieved from AAI",
        "comments": "",
        "x": 3750.5,
        "y": 1690,
        "z": "bc9d969b.328b8",
        "wires": []
    },
    {
        "id": "3103adf.03ebdd2",
        "type": "save",
        "name": "update vpn-binding B resource (aka. OTN domainB) in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $tmp.aai.vpn-bindingB.vpn-id' >\n<parameter name='vpn-id' value='`$tmp.aai.vpn-bindingB.vpn-id`' />\n<parameter name='vpn-name' value='`$tmp.aai.vpn-bindingB.vpn-id`' />\n\n<parameter name='operational-status' value='Activated' />\n",
        "comments": "",
        "outputs": 1,
        "x": 4754,
        "y": 1802,
        "z": "bc9d969b.328b8",
        "wires": [
            []
        ]
    },
    {
        "id": "1ee5068c.50a041",
        "type": "comment",
        "name": "TODO: FIXME",
        "info": "use proper vpn-binding id and connectivity\n\nAlso, does CCSDK support \"update\" operation for vpn-binding and connectivity?",
        "comments": "",
        "x": 4612,
        "y": 1760,
        "z": "bc9d969b.328b8",
        "wires": []
    },
    {
        "id": "abd5a958.8851",
        "type": "save",
        "name": "update connectivity resource in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $tmp.aai.connectivityB.connectivity-id'>\n<parameter name='connectivity-id' value='`$tmp.aai.connectivityB.connectivity-id`' />\n<parameter name='operational-status' value='Activated' />\n",
        "comments": "",
        "outputs": 1,
        "x": 4683,
        "y": 1851,
        "z": "bc9d969b.328b8",
        "wires": [
            []
        ]
    }
]