[
    {
        "id": "8af466c4.459d38",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 123,
        "y": 94,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "4f44bc11.1718bc"
            ]
        ]
    },
    {
        "id": "4f44bc11.1718bc",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 407.2856903076172,
        "y": 155.23810863494873,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "25a99bf3.257e24"
            ]
        ]
    },
    {
        "id": "25a99bf3.257e24",
        "type": "method",
        "name": "method tsli-vnf-topology-operation-trans-slice-allocate",
        "xml": "<method rpc='tsli-vnf-topology-operation-trans-slice-allocate' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 413.42860412597656,
        "y": 240.00003051757812,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "e0aece26.83282"
            ]
        ]
    },
    {
        "id": "e0aece26.83282",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 783.238037109375,
        "y": 264.66668701171875,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "19dfd83.33483a8",
                "1050151b.02ec53",
                "2f5068f1.5086e8"
            ]
        ]
    },
    {
        "id": "19dfd83.33483a8",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 1084.571533203125,
        "y": 535.5969848632812,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "1050151b.02ec53",
        "type": "save",
        "name": "get service-instance from aai",
        "xml": "<!--<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" -->\n<!--\tresource=\"service-instance\"-->\n<!--\tkey='service-instance.service-instance-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.service-instance-id-->\n<!--         AND customer.global-customer-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.global-customer-id -->\n<!--         AND service-subscription.service-type = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.subscription-service-type'-->\n<!--\tlocal-only=\"false\"-->\n<!--\tforce=\"true\" pfx=\"tmp.aai.service-instance\">-->\n\n<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"service-instance\"\n\tkey='service-instance.service-instance-id = $vnf-topology-operation-input.service-information.service-instance-id\n         AND customer.global-customer-id = $vnf-topology-operation-input.service-information.global-customer-id \n         AND service-subscription.service-type = $vnf-topology-operation-input.service-information.subscription-service-type'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.service-instance\">\n\n\n<!--<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" -->\n<!--\tresource=\"service-instance\"-->\n<!--\tkey='service-instance.service-instance-id = $service-data.service-information.service-instance-id-->\n<!--         AND customer.global-customer-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.global-customer-id -->\n<!--         AND service-subscription.service-type = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.subscription-service-type'-->\n<!--\tlocal-only=\"false\"-->\n<!--\tforce=\"true\" pfx=\"tmp.aai.service-instance\">-->",
        "comments": "",
        "outputs": 1,
        "x": 1106,
        "y": 238,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "50a47283.15fbe4",
                "b5bb871c.db338",
                "a61c0811.039808"
            ]
        ]
    },
    {
        "id": "50a47283.15fbe4",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1331,
        "y": 96,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "80a63fa0.68596"
            ]
        ]
    },
    {
        "id": "b5bb871c.db338",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1340.490966796875,
        "y": 138.57403564453125,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "d32b21e7.8cada8"
            ]
        ]
    },
    {
        "id": "a61c0811.039808",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1329,
        "y": 185,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "229167e8.df6688"
            ]
        ]
    },
    {
        "id": "80a63fa0.68596",
        "type": "switchNode",
        "name": "switch allotted-resources_length != 0",
        "xml": "<switch test='`$tmp.aai.service-instance.allotted-resources_length != 0`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1570,
        "y": 93,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "d44d65ef.318f48",
                "e1082721.453ff"
            ]
        ]
    },
    {
        "id": "d32b21e7.8cada8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 1494.0623779296875,
        "y": 141.85977172851562,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "229167e8.df6688",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 1498,
        "y": 186,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "a49b8769.572b48",
        "type": "set",
        "name": "set the 1st allotted-resource-id",
        "xml": "<set>\n<parameter name='allotted-resource-id' value=\"`$tmp.aai.service-instance.allotted-resources.allotted-resource[0].id`\" />\n\n\n",
        "comments": "",
        "x": 1969,
        "y": 160,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "d44d65ef.318f48",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1783,
        "y": 117,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "7234fca3.e71404"
            ]
        ]
    },
    {
        "id": "e1082721.453ff",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1785,
        "y": 57,
        "z": "4d37a11.42c136",
        "wires": [
            []
        ]
    },
    {
        "id": "e3f19b5a.145ff8",
        "type": "comment",
        "name": "new for TransportSlicing",
        "info": "",
        "comments": "",
        "x": 1085,
        "y": 126,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "7234fca3.e71404",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1768,
        "y": 205,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "a49b8769.572b48",
                "bd4dde9a.1bdbc8"
            ]
        ]
    },
    {
        "id": "fcc70311.f003c",
        "type": "set",
        "name": "set network-route-A",
        "xml": "<set>\n<parameter name='network-route-A' value=\"`$tmp.aai.logical-link.link-name`\" />\n\n\n",
        "comments": "",
        "x": 2330,
        "y": 803,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "409bbb6d.55b47c",
        "type": "set",
        "name": "set network-route-B",
        "xml": "<set>\n<parameter name='network-route-B' value=\"`$tmp.aai.logical-link.link-name2`\" />\n\n\n",
        "comments": "",
        "x": 2332,
        "y": 854,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "bd4dde9a.1bdbc8",
        "type": "save",
        "name": "get allotted-resource from aai",
        "xml": "<!--<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" -->\n<!--\tresource=\"allotted-resource\"-->\n<!--\tkey='service-instance.service-instance-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.service-instance-id-->\n<!--         AND customer.global-customer-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.global-customer-id -->\n<!--         AND service-subscription.service-type = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.subscription-service-type-->\n<!--         AND allotted-resource.id = $allotted-resource-id'-->\n<!--\tlocal-only=\"false\"-->\n<!--\tforce=\"true\" pfx=\"tmp.aai.allotted-resource\">-->\n\n<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"allotted-resource\"\n\tkey='service-instance.service-instance-id = $vnf-topology-operation-input.service-information.service-instance-id\n         AND customer.global-customer-id = $vnf-topology-operation-input.service-information.global-customer-id \n         AND service-subscription.service-type = $vnf-topology-operation-input.service-information.subscription-service-type\n         AND allotted-resource.id = $allotted-resource-id'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.allotted-resource\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1972,
        "y": 235,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "4f2f09b0.4a4f9",
                "a509e8e5.13e7a8",
                "2d1dc418.c3457c"
            ]
        ]
    },
    {
        "id": "4f2f09b0.4a4f9",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2188,
        "y": 302,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "2c4c53ed.c92a04"
            ]
        ]
    },
    {
        "id": "a509e8e5.13e7a8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2188.490966796875,
        "y": 201.573974609375,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "b0eb4825.a76068"
            ]
        ]
    },
    {
        "id": "2d1dc418.c3457c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2184,
        "y": 251,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "8d5abfeb.01e9e"
            ]
        ]
    },
    {
        "id": "b0eb4825.a76068",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 2366.0625,
        "y": 201.8597412109375,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "8d5abfeb.01e9e",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 2366,
        "y": 251,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "abb2414c.5ad6c8",
        "type": "save",
        "name": "get logical-link from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"logical-link\"\n\tkey='logical-link.link-name = $logical-link-name'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.logical-link\">",
        "comments": "",
        "outputs": 1,
        "x": 1707,
        "y": 724,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "adf5b844.beeba",
                "12473ca6.c43deb",
                "1c108294.607cad"
            ]
        ]
    },
    {
        "id": "12473ca6.c43deb",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1998.490966796875,
        "y": 702.573974609375,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "bde422ea.a4cc28"
            ]
        ]
    },
    {
        "id": "1c108294.607cad",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1987,
        "y": 747,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "da8d3db8.78e6c"
            ]
        ]
    },
    {
        "id": "bde422ea.a4cc28",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 2147.0625,
        "y": 702.8597412109375,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "da8d3db8.78e6c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 2146,
        "y": 747,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "adf5b844.beeba",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1994,
        "y": 826,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "b6fe1d93.64f5d8"
            ]
        ]
    },
    {
        "id": "b6fe1d93.64f5d8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2133,
        "y": 826,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "fcc70311.f003c",
                "409bbb6d.55b47c",
                "34d7360f.96bb2a",
                "48146421.80a074",
                "31bc0e97.d1b352",
                "c57c6aeb.0d49c",
                "5ce97afb.25ecd4",
                "1f2f2fca.dd946",
                "fc0327f0.f229c8",
                "7a9db702.f0e1b",
                "1f17f018.71ce48",
                "75da5f28.16fb78",
                "15d01a88.67da65",
                "8335f76.9af8388",
                "47a3a765.16faa",
                "5651ec55.50184c",
                "edb297b0.c9f328",
                "91eba2f3.844de"
            ]
        ]
    },
    {
        "id": "34d7360f.96bb2a",
        "type": "save",
        "name": "get network-route-A from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"network-route\"\n\tkey='network-route.route-id = $network-route-A'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.network-route-A\">",
        "comments": "",
        "outputs": 1,
        "x": 2362,
        "y": 907,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "1b983b4f.2c744d",
                "83f9f068.59488",
                "b0f14e34.bcfcc8"
            ]
        ]
    },
    {
        "id": "48146421.80a074",
        "type": "save",
        "name": "get network-route-B from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"network-route\"\n\tkey='network-route.route-id = $network-route-B'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.network-route-B\">",
        "comments": "",
        "outputs": 1,
        "x": 2341,
        "y": 1508.9998779296875,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "191b0cc5.853723",
                "bdfa4737.7997e",
                "3dcbfde4.8fdb42"
            ]
        ]
    },
    {
        "id": "1b983b4f.2c744d",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2563,
        "y": 791,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "5a65addc.f9d584"
            ]
        ]
    },
    {
        "id": "83f9f068.59488",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2558.509033203125,
        "y": 840.426025390625,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "60568789.b01d3"
            ]
        ]
    },
    {
        "id": "b0f14e34.bcfcc8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2562.509033203125,
        "y": 891.426025390625,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "4d860946.d83b4"
            ]
        ]
    },
    {
        "id": "5a65addc.f9d584",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 2711.571533203125,
        "y": 790.2857666015625,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "60568789.b01d3",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 2701.509033203125,
        "y": 840.426025390625,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "191b0cc5.853723",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2564,
        "y": 1478.9998779296875,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "63b24300.9bd254"
            ]
        ]
    },
    {
        "id": "bdfa4737.7997e",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2559.509033203125,
        "y": 1528.4259033203125,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "f56e5adb.9f7af8"
            ]
        ]
    },
    {
        "id": "3dcbfde4.8fdb42",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2563.509033203125,
        "y": 1579.4259033203125,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "b596324f.8c351"
            ]
        ]
    },
    {
        "id": "63b24300.9bd254",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 2712.571533203125,
        "y": 1478.28564453125,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "f56e5adb.9f7af8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 2702.509033203125,
        "y": 1528.4259033203125,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "f08611d.e85e5f",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3376.66650390625,
        "y": 935,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "bcee177.eb94168",
                "f75d67.7cccfa98",
                "a4c22219.803cd8",
                "d6e02ca6.c9a8c8",
                "5b5222c9.d7a36c"
            ]
        ]
    },
    {
        "id": "8b31e4a0.a10748",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3204,
        "y": 936,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "f08611d.e85e5f"
            ]
        ]
    },
    {
        "id": "c9553d7.4a532c",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3213.490966796875,
        "y": 978.5740356445312,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "b569fb01.0907f8"
            ]
        ]
    },
    {
        "id": "cf1d45bd.26226",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3202,
        "y": 1025,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "8595bfe0.610eb"
            ]
        ]
    },
    {
        "id": "b569fb01.0907f8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 3367.0623779296875,
        "y": 981.8597717285156,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "8595bfe0.610eb",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 3371,
        "y": 1026,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "4d860946.d83b4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2724,
        "y": 893,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "de6bae96.a20288",
                "2546bd9f.525272"
            ]
        ]
    },
    {
        "id": "b596324f.8c351",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2714,
        "y": 1580.9998779296875,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "cc046399.813d8",
                "94119745.c4be9"
            ]
        ]
    },
    {
        "id": "d0ee2422.3da6b8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3344.66650390625,
        "y": 1771,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "1c0836ef.f83329",
                "4c626db2.041e5c",
                "a8a1220c.849508",
                "46fb3252.5c32c4",
                "3da30ce3.e252e4"
            ]
        ]
    },
    {
        "id": "33a31a8c.e3b546",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3172,
        "y": 1772,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "d0ee2422.3da6b8"
            ]
        ]
    },
    {
        "id": "333e39a9.5e6146",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3181.490966796875,
        "y": 1814.5740356445312,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "c1fc954e.de2348"
            ]
        ]
    },
    {
        "id": "18c9eff6.77ede8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3170,
        "y": 1861,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "a54283a5.d344c"
            ]
        ]
    },
    {
        "id": "c1fc954e.de2348",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 3335.0623779296875,
        "y": 1817.8597717285156,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "a54283a5.d344c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 3339,
        "y": 1862,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "bcee177.eb94168",
        "type": "execute",
        "name": "execute split tp-id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.aai.network-route-A.p-interface-src.interface-name`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-domainA\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3641,
        "y": 919,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "60be6e60.f9ecc8",
                "ba14138e.5a08c8"
            ]
        ]
    },
    {
        "id": "ba14138e.5a08c8",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3864,
        "y": 874,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "9427c16f.fe3b38"
            ]
        ]
    },
    {
        "id": "60be6e60.f9ecc8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3866,
        "y": 938,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "8f5282b4.e9d138"
            ]
        ]
    },
    {
        "id": "9e9c487d.182678",
        "type": "set",
        "name": "set ltpId",
        "xml": "<set>\n<parameter name='tmp.src.ltpId' value='`$param-prefix-domainA[$param-prefix-domainA_length -1]`' />\n",
        "comments": "",
        "x": 4199,
        "y": 832,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "8f5282b4.e9d138",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 4028,
        "y": 934,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "9427c16f.fe3b38",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4029,
        "y": 871,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "7be29fde.94965",
                "9e9c487d.182678"
            ]
        ]
    },
    {
        "id": "7be29fde.94965",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.src.pnf-name' value='`$param-prefix-domainA[$param-prefix-domainA_length -3]`' />\n",
        "comments": "",
        "x": 4200,
        "y": 937,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "305634db.acff34",
        "type": "comment",
        "name": "TODO: FIXME",
        "info": "using the output of regex string arrays,\nconcatinate index 0 to index[length-2] all together\nin order to assemble the correct pnf-name",
        "comments": "",
        "x": 4201,
        "y": 886,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "a4c22219.803cd8",
        "type": "save",
        "name": "save connectivity resource in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $uuid.connectivity-domainA-uuid'>\n<parameter name='connectivity-id' value='`$uuid.connectivity-domainA-uuid`' />\n<parameter name='operational-status' value='Created' />\n<parameter name='access-provider-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -9]`' />\n<parameter name='access-client-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -7]`' />\n<parameter name='access-topology-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -5]`' />\n<parameter name='access-node-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -3]`' />\n<parameter name='access-ltp-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -1]`' />\n<parameter name='cvlan' value='' />\n\n<parameter name='bandwidth-profile-name' value='`$prop.sotn.etht-svc-name`' />\n<parameter name='vpn-type' value='`$prop.sotn.vpnType`' />\n<parameter name='CIR' value='`$prop.sotn.cir`' />\n<parameter name='EIR' value='`$prop.sotn.eir`' />\n<parameter name='CBS' value='`$prop.sotn.cbs`' />\n<parameter name='EBS' value='`$prop.sotn.ebs`' />\n<!--<parameter name='color-aware' value='`$prop.sotn.colorAware`' />-->\n<!--<parameter name='coupling-flag' value='`$prop.sotn.couplingFlag`' />-->\n<!--<parameter name='etht-svc-name' value='`$prop.sotn.etht-svc-name`' />-->\n<parameter name='model-customization-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-customization-uuid`' />\n<parameter name='model-invariant-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-invariant-uuid`' />\n<parameter name='model-version-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-uuid`' />\n<parameter name='connectivity-selflink' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'  + $network-topology-operation-input.service-information.service-instance-id  + '/service-data/networks/network/'  + $prop.sotn.network-id  + '/network-data/'` \" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3643,
        "y": 1078,
        "z": "4d37a11.42c136",
        "wires": [
            []
        ]
    },
    {
        "id": "f75d67.7cccfa98",
        "type": "execute",
        "name": "execute UUID generator for connectivity domainA",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"uuid.connectivity-domainA-uuid\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3688,
        "y": 988,
        "z": "4d37a11.42c136",
        "wires": [
            []
        ]
    },
    {
        "id": "51860532.882634",
        "type": "comment",
        "name": "TODO: FIXME",
        "info": "using the output of regex string arrays,\nconcatinate index 0 to index[?] all together\nin order to assemble the correct values for provider-id, \ntopology-id, node-id, etc.",
        "comments": "",
        "x": 3577,
        "y": 1029,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "1c0836ef.f83329",
        "type": "execute",
        "name": "execute split tp-id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.aai.network-route-B.p-interface-dst.interface-name`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-domainB\"/>\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3631,
        "y": 1775.0001220703125,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "9b737b83.c6ca88",
                "22a6cd9c.81b312"
            ]
        ]
    },
    {
        "id": "22a6cd9c.81b312",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3854,
        "y": 1730.0001220703125,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "f2364b58.93416"
            ]
        ]
    },
    {
        "id": "9b737b83.c6ca88",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3856,
        "y": 1794.0001220703125,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "e81f51e1.476528"
            ]
        ]
    },
    {
        "id": "c355fa60.d02f7",
        "type": "set",
        "name": "set ltpId",
        "xml": "<set>\n<parameter name='tmp.dst.ltpId' value='`$param-prefix-domainB[$param-prefix-domainB_length -1]`' />\n",
        "comments": "",
        "x": 4189,
        "y": 1688.0001220703125,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "e81f51e1.476528",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 4015,
        "y": 1813.0001220703125,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "f2364b58.93416",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4019,
        "y": 1727.0001220703125,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "c355fa60.d02f7",
                "fbcef05a.30da7"
            ]
        ]
    },
    {
        "id": "fbcef05a.30da7",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.dst.pnf-name' value='`$param-prefix-domainB[$param-prefix-domainB_length -3]`' />\n",
        "comments": "",
        "x": 4190,
        "y": 1793.0001220703125,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "5702bff2.1c714",
        "type": "comment",
        "name": "TODO: FIXME",
        "info": "using the output of regex string arrays,\nconcatinate index 0 to index[length-2] all together\nin order to assemble the correct pnf-name",
        "comments": "",
        "x": 4185,
        "y": 1742.0001220703125,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "a8a1220c.849508",
        "type": "save",
        "name": "save connectivity resource in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $prop.connectivity-domainB-uuid'>\n<parameter name='connectivity-id' value='`$prop.connectivity-domainB-uuid`' />\n<parameter name='operational-status' value='Created' />\n<parameter name='access-provider-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -9]`' />\n<parameter name='access-client-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -7]`' />\n<parameter name='access-topology-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -5]`' />\n<parameter name='access-node-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -3]`' />\n<parameter name='access-ltp-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -1]`' />\n<parameter name='cvlan' value='' />\n\n\n<parameter name='bandwidth-profile-name' value='`$prop.sotn.etht-svc-name`' />\n<parameter name='vpn-type' value='`$prop.sotn.vpnType`' />\n<parameter name='CIR' value='`$prop.sotn.cir`' />\n<parameter name='EIR' value='`$prop.sotn.eir`' />\n<parameter name='CBS' value='`$prop.sotn.cbs`' />\n<parameter name='EBS' value='`$prop.sotn.ebs`' />\n<!--<parameter name='color-aware' value='`$prop.sotn.colorAware`' />-->\n<!--<parameter name='coupling-flag' value='`$prop.sotn.couplingFlag`' />-->\n<!--<parameter name='etht-svc-name' value='`$prop.sotn.etht-svc-name`' />-->\n<parameter name='model-customization-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-customization-uuid`' />\n<parameter name='model-invariant-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-invariant-uuid`' />\n<parameter name='model-version-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-uuid`' />\n<parameter name='connectivity-selflink' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'  + $network-topology-operation-input.service-information.service-instance-id  + '/service-data/networks/network/'  + $prop.sotn.network-id  + '/network-data/'` \" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3633,
        "y": 1934.0001220703125,
        "z": "4d37a11.42c136",
        "wires": [
            []
        ]
    },
    {
        "id": "4c626db2.041e5c",
        "type": "execute",
        "name": "execute UUID generator for connectivity domainB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.connectivity-domainB-uuid\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3678,
        "y": 1844.0001220703125,
        "z": "4d37a11.42c136",
        "wires": [
            []
        ]
    },
    {
        "id": "a742fa6d.53c048",
        "type": "comment",
        "name": "TODO: FIXME",
        "info": "using the output of regex string arrays,\nconcatinate index 0 to index[?] all together\nin order to assemble the correct values for provider-id, \ntopology-id, node-id, etc.",
        "comments": "",
        "x": 3567,
        "y": 1882.0001220703125,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "31bc0e97.d1b352",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:tsli-vnf-topology-operation-get-otn-tunnel-path-from-oof",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='tsli-vnf-topology-operation-get-otn-tunnel-path-from-oof' mode='sync' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2542,
        "y": 2009,
        "z": "4d37a11.42c136",
        "wires": [
            []
        ]
    },
    {
        "id": "c57c6aeb.0d49c",
        "type": "set",
        "name": "set attachment_param",
        "xml": "<set>\n<parameter name='prop.connection-attachment.access-provider-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -9]`' />\n<parameter name='prop.connection-attachment.access-client-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -7]`' />\n<parameter name='prop.connection-attachment.access-topology-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -5]`' />\n<parameter name='prop.connection-attachment.access-node-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -3]`' />\n<parameter name='prop.connection-attachment.access-ltp-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -1]`' />\n\n<parameter name='prop.remote.connection-attachment.access-provider-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -9]`' />\n<parameter name='prop.remote.connection-attachment.access-client-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -7]`' />\n<parameter name='prop.remote.connection-attachment.access-topology-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -5]`' />\n<parameter name='prop.remote.connection-attachment.access-node-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -3]`' />\n<parameter name='prop.remote.connection-attachment.access-ltp-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -1]`' />\n\n<!--<parameter name='prop.remote.connection-attachment.access-provider-id' value='`$oof.vpn.access-provider-id`' />-->\n<!--<parameter name='prop.remote.connection-attachment.access-client-id' value='`$oof.vpn.access-client-id`' />-->\n<!--<parameter name='prop.remote.connection-attachment.access-topology-id' value='`$oof.vpn.access-topology-id`' />-->\n<!--<parameter name='prop.remote.connection-attachment.access-node-id' value='`$oof.vpn.access-node-id`' />-->\n<!--<parameter name='prop.remote.connection-attachment.access-ltp-id' value='`$oof.vpn.src-access-ltp-id`' />-->\n",
        "comments": "",
        "x": 2336,
        "y": 1949,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "df325b41.3eb068",
        "type": "comment",
        "name": "TODO: FIXME",
        "info": "put proper values for src topology-id, node-id, ltp-id, etc (in domain A)\nand dst topology-id, node-id, ltp-id, etc (in domain B)",
        "comments": "",
        "x": 2310,
        "y": 1902,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "5ce97afb.25ecd4",
        "type": "save",
        "name": "save vpn-binding A resource (aka. OTN domainA) in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $prop.vpn-binding-domainA-uuid' >\n<parameter name='vpn-id' value='`$prop.vpn-binding-domainA-uuid`' />\n<parameter name='vpn-name' value='`$prop.vpn-binding-domainA-uuid`' />\n<parameter name='access-provider-id' value='`$domain-A.provider-id`' />\n<!--<parameter name='access-provider-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -9]`' />-->\n<parameter name='access-client-id' value='`$domain-A.client-id`' />\n<!--<parameter name='access-client-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -7]`' />-->\n<parameter name='access-topology-id' value='`$domain-A.te-topo-id`' />\n<!--<parameter name='access-topology-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -5]`' />-->\n<parameter name='src-access-node-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -3]`' />\n<!--<parameter name='src-access-ltp-id' value='`$source.tunnel-tp-id`' />-->\n<parameter name='src-access-ltp-id' value='' />\n<parameter name='dst-access-node-id' value='`$domain-A.node-id`' />\n<parameter name='dst-access-ltp-id' value='`$domain-A.tunnel-tp-id`' />\n<parameter name='route-distinguisher' value='`$gfp`' />\n<parameter name='vpn-type' value='`$prop.global.sotn.vpnType`' />\n<parameter name='operational-status' value='Created' />\n<parameter name='model-customization-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-customization-uuid`' />\n<parameter name='model-invariant-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-invariant-uuid`' />\n<parameter name='model-version-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-uuid`' />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2418,
        "y": 2168,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "265fc651.8685d2"
            ]
        ]
    },
    {
        "id": "1f2f2fca.dd946",
        "type": "save",
        "name": "save connectivity-A relationship to vpn-binding-A, in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding:relationship-list' \n      key='vpn-binding.vpn-id = $prop.vpn-binding-domainA-uuid' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"connectivity\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/connectivities/connectivity/' + $uuid.connectivity-domainA-uuid`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"connectivity.connectivity-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$uuid.connectivity-domainA-uuid`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2421.5,
        "y": 2238,
        "z": "4d37a11.42c136",
        "wires": [
            []
        ]
    },
    {
        "id": "47b16974.ba7ff8",
        "type": "save",
        "name": "save srcLTP relationship in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding:relationship-list' \n      key='vpn-binding.vpn-id = $tmp.vpnName' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"p-interface\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/pnfs/pnf/' + $oof.vpn.access-node-id + '/p-interfaces/p-interface/' + $src-ltpId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"p-interface.interface-name\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$src-ltpId`\" />\n\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3069.5,
        "y": 2157,
        "z": "4d37a11.42c136",
        "wires": [
            []
        ]
    },
    {
        "id": "45a1ff6d.febe7",
        "type": "save",
        "name": "save dstLTP relationship in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding:relationship-list' \n      key='vpn-binding.vpn-id = $tmp.vpnName' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"p-interface\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/pnfs/pnf/' + $oof.vpn.access-node-id + '/p-interfaces/p-interface/' + $dst-ltpId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"p-interface.interface-name\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$dst-ltpId`\" />",
        "comments": "",
        "outputs": 1,
        "x": 3071.5,
        "y": 2196,
        "z": "4d37a11.42c136",
        "wires": [
            []
        ]
    },
    {
        "id": "d6e02ca6.c9a8c8",
        "type": "save",
        "name": "save TNNSSI (transport service instance) relationship to connectivity in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='service-instance:relationship-list' \n      key='service-instance.service-instance-id = $vnf-topology-operation-input.service-information.service-instance-id\n         AND customer.global-customer-id = $vnf-topology-operation-input.service-information.global-customer-id \n         AND service-subscription.service-type = $vnf-topology-operation-input.service-information.subscription-service-type' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"connectivity\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/connectivities/connectivity/' + $uuid.connectivity-domainA-uuid`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"connectivity.connectivity-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$uuid.connectivity-domainA-uuid`\" />\n\n\n<!--<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='service-instance:relationship-list' -->\n<!--      key='service-instance.service-instance-id = $service-data.service-information.service-instance-id -->\n<!--         AND customer.global-customer-id = $service-data.networks.network[$nidx].network-data.service-information.global-customer-id -->\n<!--         AND service-subscription.service-type = $service-data.networks.network[$nidx].network-data.service-information.subscription-service-type' -->\n<!--      force=\"true\" pfx=\"tmp.AnAI-data\">-->\n<!--<parameter name=\"relationship-list.relationship[0].related-to\" value=\"connectivity\" />-->\n<!--<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/connectivities/connectivity/' + $prop.sotn.network-id`\" />-->\n<!--<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"connectivity.connectivity-id\" />-->\n<!--<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$prop.sotn.network-id`\" />-->",
        "comments": "",
        "outputs": 1,
        "x": 3771,
        "y": 1126,
        "z": "4d37a11.42c136",
        "wires": [
            []
        ]
    },
    {
        "id": "46fb3252.5c32c4",
        "type": "save",
        "name": "save TNNSSI (transport service instance) relationship to connectivity in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='service-instance:relationship-list' \n      key='service-instance.service-instance-id = $vnf-topology-operation-input.service-information.service-instance-id\n         AND customer.global-customer-id = $vnf-topology-operation-input.service-information.global-customer-id \n         AND service-subscription.service-type = $vnf-topology-operation-input.service-information.subscription-service-type' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"connectivity\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/connectivities/connectivity/' + $prop.connectivity-domainB-uuid`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"connectivity.connectivity-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$prop.connectivity-domainB-uuid`\" />\n\n\n<!--<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='service-instance:relationship-list' -->\n<!--      key='service-instance.service-instance-id = $service-data.service-information.service-instance-id -->\n<!--         AND customer.global-customer-id = $service-data.networks.network[$nidx].network-data.service-information.global-customer-id -->\n<!--         AND service-subscription.service-type = $service-data.networks.network[$nidx].network-data.service-information.subscription-service-type' -->\n<!--      force=\"true\" pfx=\"tmp.AnAI-data\">-->\n<!--<parameter name=\"relationship-list.relationship[0].related-to\" value=\"connectivity\" />-->\n<!--<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/connectivities/connectivity/' + $prop.sotn.network-id`\" />-->\n<!--<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"connectivity.connectivity-id\" />-->\n<!--<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$prop.sotn.network-id`\" />-->",
        "comments": "",
        "outputs": 1,
        "x": 3760,
        "y": 1999.0001220703125,
        "z": "4d37a11.42c136",
        "wires": [
            []
        ]
    },
    {
        "id": "265fc651.8685d2",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2718,
        "y": 2175,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "adcdcd16.7b29a8"
            ]
        ]
    },
    {
        "id": "adcdcd16.7b29a8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2858.500244140625,
        "y": 2176.25390625,
        "z": "4d37a11.42c136",
        "wires": [
            []
        ]
    },
    {
        "id": "4042eea1.42325",
        "type": "comment",
        "name": "TODO: FIXME: do we need this relationship?",
        "info": "",
        "comments": "",
        "x": 3106,
        "y": 2116,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "8bb65fc7.c411f",
        "type": "comment",
        "name": "TODO: FIXME: put proper values",
        "info": "",
        "comments": "",
        "x": 2385,
        "y": 2128,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "fc0327f0.f229c8",
        "type": "save",
        "name": "save vpn-binding B resource (aka. OTN domainB) in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $prop.vpn-binding-domainB-uuid' >\n<parameter name='vpn-id' value='`$prop.vpn-binding-domainB-uuid`' />\n<parameter name='vpn-name' value='`$prop.vpn-binding-domainB-uuid`' />\n<parameter name='access-provider-id' value='`$domain-B.provider-id`' />\n<!--<parameter name='access-provider-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -9]`' />-->\n<parameter name='access-client-id' value='`$domain-B.client-id`' />\n<!--<parameter name='access-client-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -7]`' />-->\n<parameter name='access-topology-id' value='`$domain-B.te-topo-id`' />\n<!--<parameter name='access-topology-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -5]`' />-->\n<parameter name='src-access-node-id' value='`$domain-B.node-id`' />\n<parameter name='src-access-ltp-id' value='`$domain-B.tunnel-tp-id`' />\n<parameter name='dst-access-node-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -3]`' />\n<!--<parameter name='dst-access-ltp-id' value='`$destination.tunnel-tp-id`' />-->\n<parameter name='dst-access-ltp-id' value='' />\n<parameter name='route-distinguisher' value='`$gfp`' />\n<parameter name='vpn-type' value='`$prop.global.sotn.vpnType`' />\n<parameter name='operational-status' value='Created' />\n<parameter name='model-customization-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-customization-uuid`' />\n<parameter name='model-invariant-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-invariant-uuid`' />\n<parameter name='model-version-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-uuid`' />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2421,
        "y": 2456,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "a95bb5bd.f30938"
            ]
        ]
    },
    {
        "id": "54e84a72.0a1bec",
        "type": "comment",
        "name": "TODO: FIXME: do we need this relationship?",
        "info": "",
        "comments": "",
        "x": 3109,
        "y": 2396,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "5ffd7140.0fcf",
        "type": "save",
        "name": "save srcLTP relationship in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding:relationship-list' \n      key='vpn-binding.vpn-id = $tmp.vpnName' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"p-interface\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/pnfs/pnf/' + $oof.vpn.access-node-id + '/p-interfaces/p-interface/' + $src-ltpId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"p-interface.interface-name\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$src-ltpId`\" />\n\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3072.5,
        "y": 2437,
        "z": "4d37a11.42c136",
        "wires": [
            []
        ]
    },
    {
        "id": "d209c7d6.5be38",
        "type": "save",
        "name": "save dstLTP relationship in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding:relationship-list' \n      key='vpn-binding.vpn-id = $tmp.vpnName' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"p-interface\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/pnfs/pnf/' + $oof.vpn.access-node-id + '/p-interfaces/p-interface/' + $dst-ltpId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"p-interface.interface-name\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$dst-ltpId`\" />",
        "comments": "",
        "outputs": 1,
        "x": 3074.5,
        "y": 2476,
        "z": "4d37a11.42c136",
        "wires": [
            []
        ]
    },
    {
        "id": "92281260.0bacb8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2861.500244140625,
        "y": 2456.25390625,
        "z": "4d37a11.42c136",
        "wires": [
            []
        ]
    },
    {
        "id": "a95bb5bd.f30938",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2721,
        "y": 2455,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "92281260.0bacb8"
            ]
        ]
    },
    {
        "id": "460ff82c.4ff7",
        "type": "comment",
        "name": "TODO: FIXME: put proper values",
        "info": "",
        "comments": "",
        "x": 2401,
        "y": 2416,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "7a9db702.f0e1b",
        "type": "save",
        "name": "save connectivity-B relationship to vpn-binding-B, in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding:relationship-list' \n      key='vpn-binding.vpn-id = $prop.vpn-binding-domainB-uuid' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"connectivity\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/connectivities/connectivity/' + $prop.connectivity-domainB-uuid`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"connectivity.connectivity-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$prop.connectivity-domainB-uuid`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2419.5,
        "y": 2496,
        "z": "4d37a11.42c136",
        "wires": [
            []
        ]
    },
    {
        "id": "b765768.33e8008",
        "type": "comment",
        "name": "TODO: FIXME:",
        "info": "set attachment param and send request to NCE-T\nfor bandwidth matrix\nmay require a new template for JSON body",
        "comments": "",
        "x": 2293,
        "y": 2579,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "15d01a88.67da65",
        "type": "set",
        "name": "set attachment_param domain A",
        "xml": "<set>\n<parameter name='request-id' value='`$prop.vpn-binding-domainA-uuid`' />\n<parameter name='otn-source-node' value='`$param-prefix-domainA[$param-prefix-domainA_length -3]`' />\n<parameter name='otn-dest-node' value='`$domain-A.node-id`' />\n<parameter name='bw-odu' value=\"`'0,' + $gfp`\" />\n<!--<parameter name='src-ttp-id' value='`$source.tunnel-tp-id`' />-->\n<parameter name='dst-ttp-id' value='`$domain-A.tunnel-tp-id`' />\n<parameter name='slice-instance-id' value='`$tmp.aai.service-instance.service-instance-id`' />\n\n",
        "comments": "",
        "x": 2358,
        "y": 2624,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "7c6d32ec.4900b4",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domainA.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domainA.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 4815,
        "y": 646,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "f99473bc.f6917",
                "8ca213cb.13c578",
                "73897c92.dacd5c"
            ]
        ]
    },
    {
        "id": "2c4c53ed.c92a04",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2368,
        "y": 302,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "df1d026f.c1c088"
            ]
        ]
    },
    {
        "id": "4b086b8f.46122c",
        "type": "outcome",
        "name": "logical-link",
        "xml": "<outcome value='logical-link'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1298.0001220703125,
        "y": 719.0001220703125,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "849b2fa9.e38c6"
            ]
        ]
    },
    {
        "id": "3637c149.a4c596",
        "type": "switchNode",
        "name": "switch allotted-resource.relationship-list not empty",
        "xml": "<switch test='`$tmp.aai.allotted-resource.relationship-list.relationship_length != 0`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2036,
        "y": 425,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "a6e3fac3.17782",
                "36a75df5.accdba"
            ]
        ]
    },
    {
        "id": "36a75df5.accdba",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2346,
        "y": 432,
        "z": "4d37a11.42c136",
        "wires": [
            []
        ]
    },
    {
        "id": "a6e3fac3.17782",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2345,
        "y": 486,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "ccfe530c.696ee"
            ]
        ]
    },
    {
        "id": "88e35dde.f9395",
        "type": "set",
        "name": "set the 1st logical-link-name",
        "xml": "<set>\n<parameter name='logical-link-name' value=\"`$tmp.aai.allotted-resource.relationship-list.relationship[$idx].relationship-data[0].relationship-value`\" />\n\n\n",
        "comments": "",
        "x": 1718,
        "y": 669,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "849b2fa9.e38c6",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1475,
        "y": 712,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "88e35dde.f9395",
                "abb2414c.5ad6c8"
            ]
        ]
    },
    {
        "id": "e4059fd.7caace",
        "type": "comment",
        "name": "Question?",
        "info": "How to know if DG would send this get request\nin \"nodes\" namespace instead of \"network\" namespace?",
        "comments": "",
        "x": 2904,
        "y": 898,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "de6bae96.a20288",
        "type": "save",
        "name": "get p-interface-src from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"p-interface\"\n\t    key=\"pnf.pnf-name = $tmp.src.domainA.pnf-name\n\t        AND p-interface.interface-name = $tmp.aai.network-route-A.next-hop\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.network-route-A.p-interface-src\" >\n\n<!--<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" -->\n<!--\tresource=\"p-interface\"-->\n<!--\t    key=\"pnf.pnf-name = $unique-src-node-Id-->\n<!--\t        and p-interface.interface-name = $tmp.aai.endpointA.relationship-list.relationship[$rel-index].relationship-data[0].relationship-value\"-->\n<!--\t\tlocal-only=\"false\" -->\n<!--\t\tpfx=\"tmp.aai.endpointA.p-interface-src\" >-->\n",
        "comments": "",
        "outputs": 1,
        "x": 2947,
        "y": 963,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "8b31e4a0.a10748",
                "c9553d7.4a532c",
                "cf1d45bd.26226"
            ]
        ]
    },
    {
        "id": "cc046399.813d8",
        "type": "save",
        "name": "get p-interface-dst from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"p-interface\"\n\t    key=\"pnf.pnf-name = $tmp.dst.domainB.pnf-name\n\t        AND p-interface.interface-name = $tmp.aai.network-route-B.next-hop\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.network-route-B.p-interface-dst\" >\n\n<!--<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" -->\n<!--\tresource=\"p-interface\"-->\n<!--\t    key=\"pnf.pnf-name = $unique-src-node-Id-->\n<!--\t        and p-interface.interface-name = $tmp.aai.endpointA.relationship-list.relationship[$rel-index].relationship-data[0].relationship-value\"-->\n<!--\t\tlocal-only=\"false\" -->\n<!--\t\tpfx=\"tmp.aai.endpointA.p-interface-src\" >-->\n",
        "comments": "",
        "outputs": 1,
        "x": 2944,
        "y": 1807,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "33a31a8c.e3b546",
                "333e39a9.5e6146",
                "18c9eff6.77ede8"
            ]
        ]
    },
    {
        "id": "76191dd2.8fade4",
        "type": "comment",
        "name": "Question?",
        "info": "How to know if DG would send this get request\nin \"nodes\" namespace instead of \"network\" namespace?",
        "comments": "",
        "x": 2905,
        "y": 1751,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "df1d026f.c1c088",
        "type": "save",
        "name": "get allotted-resource relationship from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"allotted-resource:relationship-list\"\n\tkey='service-instance.service-instance-id = $vnf-topology-operation-input.service-information.service-instance-id\n         AND customer.global-customer-id = $vnf-topology-operation-input.service-information.global-customer-id \n         AND service-subscription.service-type = $vnf-topology-operation-input.service-information.subscription-service-type\n         AND allotted-resource.id = $allotted-resource-id'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.allotted-resource.relationship-list\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2661,
        "y": 249,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "adfd76db.6991",
                "7a639d69.b5bebc",
                "4943cdeb.ab6f2c"
            ]
        ]
    },
    {
        "id": "7a639d69.b5bebc",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2934.490966796875,
        "y": 141.573974609375,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "d0806055.3ff898"
            ]
        ]
    },
    {
        "id": "d0806055.3ff898",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 3112.0625,
        "y": 141.8597412109375,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "4943cdeb.ab6f2c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2930,
        "y": 191,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "e3a044a2.8747b8"
            ]
        ]
    },
    {
        "id": "e3a044a2.8747b8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 3112,
        "y": 191,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "adfd76db.6991",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2934,
        "y": 242,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "b8ee302f.a8ecc"
            ]
        ]
    },
    {
        "id": "b8ee302f.a8ecc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3114,
        "y": 242,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "3637c149.a4c596"
            ]
        ]
    },
    {
        "id": "7c0e5ba2.cb2954",
        "type": "for",
        "name": "for each allotted-resource relationship",
        "xml": "<for index='idx' start='0' end='`$tmp.aai.allotted-resource.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2605,
        "y": 466,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "acd1414b.a58ab8"
            ]
        ]
    },
    {
        "id": "acd1414b.a58ab8",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.allotted-resource.relationship-list.relationship[$idx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2885,
        "y": 466,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "4b086b8f.46122c"
            ]
        ]
    },
    {
        "id": "ff4803af.9f0ab8",
        "type": "outcome",
        "name": "network-policy",
        "xml": "<outcome value='network-policy'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3090,
        "y": 440,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "ae60df75.bd38f"
            ]
        ]
    },
    {
        "id": "ae60df75.bd38f",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3266.9998779296875,
        "y": 432.9998779296875,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "7c4264ea.4ef2cc",
                "16bdb614.ef254a"
            ]
        ]
    },
    {
        "id": "7c4264ea.4ef2cc",
        "type": "set",
        "name": "set the 1st network-policy-id",
        "xml": "<set>\n<parameter name='network-policy-id' value=\"`$tmp.aai.allotted-resource.relationship-list.relationship[$idx].relationship-data[0].relationship-value`\" />\n\n\n",
        "comments": "",
        "x": 3509.9998779296875,
        "y": 389.9998779296875,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "16bdb614.ef254a",
        "type": "save",
        "name": "get network-policy from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"network-policy\"\n\tkey='network-policy.network-policy-id = $network-policy-id'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.network-policy\">",
        "comments": "",
        "outputs": 1,
        "x": 3498.9998779296875,
        "y": 444.9998779296875,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "589b81b9.57a1a",
                "afdb690e.be2878",
                "2f4f9888.a0047"
            ]
        ]
    },
    {
        "id": "2f4f9888.a0047",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3752,
        "y": 331,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "10811a3b.3713ee"
            ]
        ]
    },
    {
        "id": "10811a3b.3713ee",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 3900.571533203125,
        "y": 331.2857666015625,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "a4b0529d.fb0728",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 3899.509033203125,
        "y": 375.426025390625,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "afdb690e.be2878",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3740.509033203125,
        "y": 375.426025390625,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "a4b0529d.fb0728"
            ]
        ]
    },
    {
        "id": "589b81b9.57a1a",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3747.509033203125,
        "y": 454.426025390625,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "2140264c.6d5f92"
            ]
        ]
    },
    {
        "id": "2140264c.6d5f92",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3886.509033203125,
        "y": 454.426025390625,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "22cd0794.035c48",
                "fae49c49.31b99"
            ]
        ]
    },
    {
        "id": "22cd0794.035c48",
        "type": "set",
        "name": "set the max bandwidth",
        "xml": "<set>\n<parameter name='maximum-bandwidth' value=\"`$tmp.aai.network-policy.max-bandwidth`\" />\n<parameter name='route-distinguisher' value='`$maximum-bandwidth /1000 *4 /5 +1`' />\n\n\n\n",
        "comments": "",
        "x": 4092,
        "y": 452,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "2546bd9f.525272",
        "type": "execute",
        "name": "execute split tp-id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.aai.network-route-A.next-hop`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-domainA-pnfName\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2948,
        "y": 633,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "536f807c.cf39f",
                "47e593b9.b45a3c"
            ]
        ]
    },
    {
        "id": "47e593b9.b45a3c",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3171,
        "y": 619,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "97a737cb.3ff9d8"
            ]
        ]
    },
    {
        "id": "536f807c.cf39f",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3173,
        "y": 652,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "2752a0c2.80dc4"
            ]
        ]
    },
    {
        "id": "2752a0c2.80dc4",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 3316,
        "y": 649,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "97a737cb.3ff9d8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3319,
        "y": 612,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "50707e3e.984ff",
                "fca22b88.65f128"
            ]
        ]
    },
    {
        "id": "50707e3e.984ff",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.src.domainA.pnf-name' value=\"`$param-prefix-domainA-pnfName[0] + '-' +\n                                                   $param-prefix-domainA-pnfName[1] + '-' +\n                                                   $param-prefix-domainA-pnfName[2] + '-' +\n                                                   $param-prefix-domainA-pnfName[3] + '-' +\n                                                   $param-prefix-domainA-pnfName[4] + '-' +\n                                                   $param-prefix-domainA-pnfName[5] + '-' +\n                                                   $param-prefix-domainA-pnfName[6] + '-' +\n                                                   $param-prefix-domainA-pnfName[7] + '-' +\n                                                   $param-prefix-domainA-pnfName[8]`\" />\n",
        "comments": "",
        "x": 3481,
        "y": 607,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "94119745.c4be9",
        "type": "execute",
        "name": "execute split tp-id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.aai.network-route-B.next-hop`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-domainB-pnfName\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2962,
        "y": 1469.9998779296875,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "754647f7.9e2b8",
                "657955bd.91fb44"
            ]
        ]
    },
    {
        "id": "657955bd.91fb44",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3185,
        "y": 1455.9998779296875,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "80a7821a.19495"
            ]
        ]
    },
    {
        "id": "754647f7.9e2b8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3187,
        "y": 1488.9998779296875,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "ee8e0ea1.9fea78"
            ]
        ]
    },
    {
        "id": "ee8e0ea1.9fea78",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 3330,
        "y": 1485.9998779296875,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "80a7821a.19495",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3333,
        "y": 1448.9998779296875,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "413b415f.4e9208",
                "81398c99.8688f"
            ]
        ]
    },
    {
        "id": "413b415f.4e9208",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.dst.domainB.pnf-name' value=\"`$param-prefix-domainB-pnfName[0] + '-' +\n                                                   $param-prefix-domainB-pnfName[1] + '-' +\n                                                   $param-prefix-domainB-pnfName[2] + '-' +\n                                                   $param-prefix-domainB-pnfName[3] + '-' +\n                                                   $param-prefix-domainB-pnfName[4] + '-' +\n                                                   $param-prefix-domainB-pnfName[5] + '-' +\n                                                   $param-prefix-domainB-pnfName[6] + '-' +\n                                                   $param-prefix-domainB-pnfName[7] + '-' +\n                                                   $param-prefix-domainB-pnfName[8]`\" />\n",
        "comments": "",
        "x": 3527,
        "y": 1452,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "2f5068f1.5086e8",
        "type": "execute",
        "name": "execute properties",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />",
        "comments": "",
        "outputs": 1,
        "x": 1073,
        "y": 178,
        "z": "4d37a11.42c136",
        "wires": [
            []
        ]
    },
    {
        "id": "1f17f018.71ce48",
        "type": "execute",
        "name": "execute UUID generator for vpn-binding domainA",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.vpn-binding-domainA-uuid\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2424,
        "y": 2090,
        "z": "4d37a11.42c136",
        "wires": [
            []
        ]
    },
    {
        "id": "75da5f28.16fb78",
        "type": "execute",
        "name": "execute UUID generator for vpn-binding domainB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.vpn-binding-domainB-uuid\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2422,
        "y": 2378,
        "z": "4d37a11.42c136",
        "wires": [
            []
        ]
    },
    {
        "id": "5b5222c9.d7a36c",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='pividx' start='0' end='`$tmp.aai.network-route-A.p-interface-src.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3595,
        "y": 1203,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "57baeaf4.ebf064"
            ]
        ]
    },
    {
        "id": "57baeaf4.ebf064",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.network-route-A.p-interface-src.relationship-list.relationship[$pividx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3801,
        "y": 1203,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "645e8c5e.f65a7c"
            ]
        ]
    },
    {
        "id": "645e8c5e.f65a7c",
        "type": "outcome",
        "name": "tunnel-termination-point",
        "xml": "<outcome value='tunnel-termination-point'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4016.28564453125,
        "y": 1202.82177734375,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "894c9d7e.ee38"
            ]
        ]
    },
    {
        "id": "894c9d7e.ee38",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4223.1171875,
        "y": 1203.34033203125,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "d6f40c53.9a6bf",
                "c910efe.c0a679",
                "50a2016f.cc5d58"
            ]
        ]
    },
    {
        "id": "d6f40c53.9a6bf",
        "type": "set",
        "name": "set source ttp-id",
        "xml": "<set>\n<parameter name='tmp.source.ttp-id' value=\"`$tmp.aai.network-route-A.p-interface-src.relationship-list.relationship[$pividx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 4438.1171875,
        "y": 1165.34033203125,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "c910efe.c0a679",
        "type": "get-resource",
        "name": "get-resource src TTP",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"tunnel-termination-point\" \n\t\tkey=\"tunnel-termination-point.ttp-id = $tmp.source.ttp-id \n\t\tAND depth = '0'\"\n        pfx='tmp.aai.source-ttp' local-only='false' >\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4435.1171875,
        "y": 1204.34033203125,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "ab61e075.552a9"
            ]
        ]
    },
    {
        "id": "50a2016f.cc5d58",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 4390.6171875,
        "y": 1246.34033203125,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "ab61e075.552a9",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4615.6171875,
        "y": 1203.34033203125,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "11eef788.e7252"
            ]
        ]
    },
    {
        "id": "11eef788.e7252",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4773.6171875,
        "y": 1203.34033203125,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "ab0df37c.a4d9e"
            ]
        ]
    },
    {
        "id": "ab0df37c.a4d9e",
        "type": "set",
        "name": "set source tunnel tp ip",
        "xml": "<set>\n<parameter name='source.tunnel-tp-id' value=\"`$tmp.aai.source-ttp.tunnel-tp-id`\" />\n",
        "comments": "",
        "x": 4980.6171875,
        "y": 1203.34033203125,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "3da30ce3.e252e4",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='dividx' start='0' end='`$tmp.aai.network-route-B.p-interface-dst.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3592,
        "y": 2072.0001220703125,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "5324422e.146a4c"
            ]
        ]
    },
    {
        "id": "5324422e.146a4c",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.network-route-B.p-interface-dst.relationship-list.relationship[$dividx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3798,
        "y": 2072.0001220703125,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "a66bf5f9.332a38"
            ]
        ]
    },
    {
        "id": "a66bf5f9.332a38",
        "type": "outcome",
        "name": "tunnel-termination-point",
        "xml": "<outcome value='tunnel-termination-point'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4013.28564453125,
        "y": 2071.8218994140625,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "68fca589.e390fc"
            ]
        ]
    },
    {
        "id": "68fca589.e390fc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4220.1171875,
        "y": 2072.3404541015625,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "c073bf38.974dd",
                "108cc1af.4a86d6",
                "f0b0cdee.26542"
            ]
        ]
    },
    {
        "id": "c073bf38.974dd",
        "type": "set",
        "name": "set destination ttp-id",
        "xml": "<set>\n<parameter name='tmp.destination.ttp-id' value=\"`$tmp.aai.network-route-B.p-interface-dst.relationship-list.relationship[$dividx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 4435.1171875,
        "y": 2034.3404541015625,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "108cc1af.4a86d6",
        "type": "get-resource",
        "name": "get-resource src TTP",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"tunnel-termination-point\" \n\t\tkey=\"tunnel-termination-point.ttp-id = $tmp.destination.ttp-id \n\t\tAND depth = '0'\"\n        pfx='tmp.aai.destination-ttp' local-only='false' >\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4432.1171875,
        "y": 2073.3404541015625,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "b43fbaf.be38548"
            ]
        ]
    },
    {
        "id": "f0b0cdee.26542",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 4387.6171875,
        "y": 2115.3404541015625,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "b43fbaf.be38548",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4612.6171875,
        "y": 2072.3404541015625,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "f843935.e7b9ef"
            ]
        ]
    },
    {
        "id": "f843935.e7b9ef",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4770.6171875,
        "y": 2072.3404541015625,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "2905073f.78af38"
            ]
        ]
    },
    {
        "id": "2905073f.78af38",
        "type": "set",
        "name": "set destination tunnel tp ip",
        "xml": "<set>\n<parameter name='destination.tunnel-tp-id' value=\"`$tmp.aai.destination-ttp.tunnel-tp-id`\" />\n",
        "comments": "",
        "x": 4977.6171875,
        "y": 2072.3404541015625,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "47a3a765.16faa",
        "type": "set",
        "name": "set attachment_param domain B",
        "xml": "<set>\n<parameter name='request-id' value='`$prop.vpn-binding-domainB-uuid`' />\n<parameter name='otn-source-node' value='`$domain-B.node-id`' />\n<parameter name='otn-dest-node' value='`$param-prefix-domainB[$param-prefix-domainB_length -3]`' />\n<!--<parameter name='bw-odu' value='`$maximum-bandwidth /10`' />-->\n<parameter name='bw-odu' value=\"`'0,' + $gfp`\" />\n<parameter name='src-ttp-id' value='`$domain-B.tunnel-tp-id`' />\n<!--<parameter name='dst-ttp-id' value='`$destination.tunnel-tp-id`' />-->\n<parameter name='dst-ttp-id' value='' />\n<parameter name='slice-instance-id' value='`$tmp.aai.service-instance.service-instance-id`' />\n\n",
        "comments": "",
        "x": 2353,
        "y": 2999,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "fca22b88.65f128",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.src.domainA.pnf-name\"\n        pfx='tmp.aai.source-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3508,
        "y": 679,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "26e1e178.44c626",
                "748c5faa.9b8fd",
                "7a23584.42cb7a8"
            ]
        ]
    },
    {
        "id": "26e1e178.44c626",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3703.5001220703125,
        "y": 631,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "4f3cfb5.bd9ae04"
            ]
        ]
    },
    {
        "id": "748c5faa.9b8fd",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3695.5001220703125,
        "y": 686,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "7374c1c1.b3ba38"
            ]
        ]
    },
    {
        "id": "7a23584.42cb7a8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3700.5001220703125,
        "y": 743,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "bf06b166.7b1ab8"
            ]
        ]
    },
    {
        "id": "bf06b166.7b1ab8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 3852.5001220703125,
        "y": 744,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "7374c1c1.b3ba38",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 3863.5001220703125,
        "y": 689,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "4f3cfb5.bd9ae04",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3847.8824462890625,
        "y": 628.6556701660156,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "cc5e035f.d2ea7"
            ]
        ]
    },
    {
        "id": "71b56e6f.bcf72",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4430,
        "y": 647,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "894c8dc1.732e8"
            ]
        ]
    },
    {
        "id": "894c8dc1.732e8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4607,
        "y": 639,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "47f97449.7cbbcc",
                "7c6d32ec.4900b4"
            ]
        ]
    },
    {
        "id": "cc5e035f.d2ea7",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='spvidx' start='0' end='`$tmp.aai.source-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4032,
        "y": 643,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "611703bb.9151dc"
            ]
        ]
    },
    {
        "id": "611703bb.9151dc",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4227,
        "y": 643,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "71b56e6f.bcf72",
                "bf1946eb.ee80a8"
            ]
        ]
    },
    {
        "id": "47f97449.7cbbcc",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domainA id",
        "xml": "<set>\n<parameter name='tmp.domainA.esr-thirdparty-id' value=\"`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 4845,
        "y": 594,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "f99473bc.f6917",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5025,
        "y": 637,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "701e34ee.427b2c"
            ]
        ]
    },
    {
        "id": "8ca213cb.13c578",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5017,
        "y": 692,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "2e4b614b.0c396e"
            ]
        ]
    },
    {
        "id": "73897c92.dacd5c",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5022,
        "y": 749,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "ce57e89b.dcf4b"
            ]
        ]
    },
    {
        "id": "ce57e89b.dcf4b",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5174,
        "y": 750,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "2e4b614b.0c396e",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5185,
        "y": 695,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "701e34ee.427b2c",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5169.38232421875,
        "y": 634.6556701660156,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "986be552.d67d4"
            ]
        ]
    },
    {
        "id": "986be552.d67d4",
        "type": "set",
        "name": "set controller domainA data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainA.url' value=\"`$tmp.aai.domainA.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainA.user' value=\"`$tmp.aai.domainA.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainA.password' value=\"`$tmp.aai.domainA.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 5384,
        "y": 631,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "81398c99.8688f",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.dst.domainB.pnf-name\"\n        pfx='tmp.aai.destination-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3549,
        "y": 1520,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "4228d77e.297a48",
                "f33d7dd3.e27df8",
                "f25d8688.bde06"
            ]
        ]
    },
    {
        "id": "4228d77e.297a48",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3744.5001220703125,
        "y": 1472,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "b81f1049.782548"
            ]
        ]
    },
    {
        "id": "f33d7dd3.e27df8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3736.5001220703125,
        "y": 1527,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "cb4038b7.689b5"
            ]
        ]
    },
    {
        "id": "f25d8688.bde06",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3741.5001220703125,
        "y": 1584,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "9d53815.71bad"
            ]
        ]
    },
    {
        "id": "9d53815.71bad",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 3893.5001220703125,
        "y": 1585,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "cb4038b7.689b5",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 3904.5001220703125,
        "y": 1530,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "b81f1049.782548",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3888.8824462890625,
        "y": 1469.6556701660156,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "3a1b087b.88796"
            ]
        ]
    },
    {
        "id": "9eaf216b.504558",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4471,
        "y": 1488,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "848ce8ba.8131a8"
            ]
        ]
    },
    {
        "id": "848ce8ba.8131a8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4648,
        "y": 1480,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "91abee3d.323e5",
                "a28d627d.aad29"
            ]
        ]
    },
    {
        "id": "3a1b087b.88796",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='dpvidx' start='0' end='`$tmp.aai.destination-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4073,
        "y": 1484,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "75ba425.30354bc"
            ]
        ]
    },
    {
        "id": "75ba425.30354bc",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.destination-pnf.relationship-list.relationship[$dpvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4268,
        "y": 1484,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "9eaf216b.504558",
                "f41408f6.625698"
            ]
        ]
    },
    {
        "id": "a28d627d.aad29",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domainB.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domainB.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 4856,
        "y": 1487,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "2c1c230e.a8a514",
                "77340ca1.3f4454",
                "b69cbef8.164728"
            ]
        ]
    },
    {
        "id": "91abee3d.323e5",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domainB id",
        "xml": "<set>\n<parameter name='tmp.domainB.esr-thirdparty-id' value=\"`$tmp.aai.destination-pnf.relationship-list.relationship[$dpvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 4886,
        "y": 1435,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "2c1c230e.a8a514",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5066,
        "y": 1478,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "ea8a7330.3c6eb"
            ]
        ]
    },
    {
        "id": "77340ca1.3f4454",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5058,
        "y": 1533,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "5b6119be.e0e2e"
            ]
        ]
    },
    {
        "id": "b69cbef8.164728",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5063,
        "y": 1590,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "6e980a04.e6ca2c"
            ]
        ]
    },
    {
        "id": "6e980a04.e6ca2c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5215,
        "y": 1591,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "5b6119be.e0e2e",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5226,
        "y": 1536,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "ea8a7330.3c6eb",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5210.38232421875,
        "y": 1475.6556701660156,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "6b04dce3.953014"
            ]
        ]
    },
    {
        "id": "6b04dce3.953014",
        "type": "set",
        "name": "set controller domainB data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainB.url' value=\"`$tmp.aai.domainB.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainB.user' value=\"`$tmp.aai.domainB.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainB.password' value=\"`$tmp.aai.domainB.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 5425,
        "y": 1472,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "8335f76.9af8388",
        "type": "execute",
        "name": "execute RestApiCallNode slice creation domainA",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.transport-slice-creation.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainA.url + '/restconf/operations/ietf-optical-slice:create-optical-slice'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainA.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainA.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"otn-oof\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2404,
        "y": 2682,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "f515c1e9.93c64",
                "49a0370a.e5f21"
            ]
        ]
    },
    {
        "id": "49a0370a.e5f21",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2670,
        "y": 2662,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "30dceb43.a4b4ac"
            ]
        ]
    },
    {
        "id": "f515c1e9.93c64",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2671.000213623047,
        "y": 2712.99990940094,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "e7a629da.88d0d8"
            ]
        ]
    },
    {
        "id": "30dceb43.a4b4ac",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing slice creation api for domain A\" />\n",
        "comments": "",
        "x": 2810.0002479553223,
        "y": 2662.0000009536743,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "e7a629da.88d0d8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2816.02725982666,
        "y": 2710.745394706726,
        "z": "4d37a11.42c136",
        "wires": [
            []
        ]
    },
    {
        "id": "5651ec55.50184c",
        "type": "execute",
        "name": "execute RestApiCallNode slice creation domainB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.transport-slice-creation.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainB.url + '/restconf/operations/ietf-optical-slice:create-optical-slice'`\" />\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.restapi.connection-oof-url`\" />-->\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainB.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainB.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"otn-oof\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2404,
        "y": 3054,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "55b8a548.7743b4",
                "625f938a.695c34"
            ]
        ]
    },
    {
        "id": "625f938a.695c34",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2670,
        "y": 3034,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "bcc07e6e.d74a18"
            ]
        ]
    },
    {
        "id": "55b8a548.7743b4",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2671.000213623047,
        "y": 3084.99990940094,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "42c61fdb.9a2b6"
            ]
        ]
    },
    {
        "id": "bcc07e6e.d74a18",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing slice creation api for domain B\" />\n",
        "comments": "",
        "x": 2810.0002479553223,
        "y": 3034.0000009536743,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "42c61fdb.9a2b6",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2816.02725982666,
        "y": 3082.745394706726,
        "z": "4d37a11.42c136",
        "wires": [
            []
        ]
    },
    {
        "id": "ccfe530c.696ee",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2509,
        "y": 412,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "7c0e5ba2.cb2954",
                "338a39d3.a481ce"
            ]
        ]
    },
    {
        "id": "338a39d3.a481ce",
        "type": "for",
        "name": "for each allotted-resource relationship",
        "xml": "<for index='idx' start='0' end='`$tmp.aai.allotted-resource.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2790,
        "y": 368,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "e9d2da22.090e3"
            ]
        ]
    },
    {
        "id": "e9d2da22.090e3",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.allotted-resource.relationship-list.relationship[$idx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3052,
        "y": 368,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "ff4803af.9f0ab8"
            ]
        ]
    },
    {
        "id": "bf1946eb.ee80a8",
        "type": "outcome",
        "name": "network-resource",
        "xml": "<outcome value='network-resource'>",
        "comments": "",
        "outputs": 1,
        "x": 4433,
        "y": 721,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "c3550750.f869a"
            ]
        ]
    },
    {
        "id": "c3550750.f869a",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4610,
        "y": 713,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "775fd622.bb73b"
            ]
        ]
    },
    {
        "id": "775fd622.bb73b",
        "type": "set",
        "name": "set domainA ethernet layer network-id",
        "xml": "<set>\n<parameter name='tmp.domainA.eth-network-id' value=\"`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 4845,
        "y": 837,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "fd89b518.9f0b6",
        "type": "set",
        "name": "set domainB ethernet layer network-id",
        "xml": "<set>\n<parameter name='tmp.domainB.eth-network-id' value=\"`$tmp.aai.destination-pnf.relationship-list.relationship[$dpvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 4885,
        "y": 1677,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "73a6ccfa.9f80e4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4650,
        "y": 1553,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "fd89b518.9f0b6"
            ]
        ]
    },
    {
        "id": "f41408f6.625698",
        "type": "outcome",
        "name": "network-resource",
        "xml": "<outcome value='network-resource'>",
        "comments": "",
        "outputs": 1,
        "x": 4473,
        "y": 1561,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "73a6ccfa.9f80e4"
            ]
        ]
    },
    {
        "id": "edb297b0.c9f328",
        "type": "execute",
        "name": "execute RestApiCallNode domainA UNI Coloring",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.ts-coloring-uni-port.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainA.url + '/restconf/data/ietf-network:networks/network=' + $tmp.domainA.eth-network-id + '/node=' + $tmp.src.pnf-name + '/ietf-network-topology:termination-point=' + $tmp.src.ltpId + '/ietf-te-topology:te' `\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainA.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainA.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"patch\"/>\n<parameter name=\"responsePrefix\" value=\"otn-oof\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2406,
        "y": 2815,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "cc44d1ea.6c2858",
                "700c6956.d8abf8"
            ]
        ]
    },
    {
        "id": "700c6956.d8abf8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2672,
        "y": 2795,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "b7581f37.075ad"
            ]
        ]
    },
    {
        "id": "cc44d1ea.6c2858",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2673.000213623047,
        "y": 2845.99990940094,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "f67d237f.4b41c"
            ]
        ]
    },
    {
        "id": "b7581f37.075ad",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing UNI Coloring for domain A\" />\n",
        "comments": "",
        "x": 2812.0002479553223,
        "y": 2795.0000009536743,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "f67d237f.4b41c",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2818.02725982666,
        "y": 2843.745394706726,
        "z": "4d37a11.42c136",
        "wires": [
            []
        ]
    },
    {
        "id": "91eba2f3.844de",
        "type": "execute",
        "name": "execute RestApiCallNode domainB UNI Coloring",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.ts-coloring-uni-port.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainB.url + '/restconf/data/ietf-network:networks/network=' + $tmp.domainB.eth-network-id + '/node=' + $tmp.dst.pnf-name + '/ietf-network-topology:termination-point=' + $tmp.dst.ltpId + '/ietf-te-topology:te' `\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainB.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainB.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"patch\"/>\n<parameter name=\"responsePrefix\" value=\"otn-oof\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2406,
        "y": 3181,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "cf85f70c.9ad7a",
                "da777837.c4e49"
            ]
        ]
    },
    {
        "id": "da777837.c4e49",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2672,
        "y": 3161,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "382ee7c9.8791c8"
            ]
        ]
    },
    {
        "id": "cf85f70c.9ad7a",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2673.000213623047,
        "y": 3211.99990940094,
        "z": "4d37a11.42c136",
        "wires": [
            [
                "f2adb059.12803"
            ]
        ]
    },
    {
        "id": "382ee7c9.8791c8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing UNI coloring for domain B\" />\n",
        "comments": "",
        "x": 2812.0002479553223,
        "y": 3161.0000009536743,
        "z": "4d37a11.42c136",
        "wires": []
    },
    {
        "id": "f2adb059.12803",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2818.02725982666,
        "y": 3209.745394706726,
        "z": "4d37a11.42c136",
        "wires": [
            []
        ]
    },
    {
        "id": "fae49c49.31b99",
        "type": "set",
        "name": "set the max bandwidth",
        "xml": "<set>\n<parameter name='gfp' value='`$maximum-bandwidth /1000 *4 /5 +1`' />\n\n\n\n",
        "comments": "",
        "x": 4091,
        "y": 498,
        "z": "4d37a11.42c136",
        "wires": []
    }
]