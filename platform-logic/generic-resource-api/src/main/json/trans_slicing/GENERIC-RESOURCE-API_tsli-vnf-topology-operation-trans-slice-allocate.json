[
    {
        "id": "b3b9455c.251fb8",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 107,
        "y": 110,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "5661f4c7.6e8104"
            ]
        ]
    },
    {
        "id": "5661f4c7.6e8104",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 391.2856903076172,
        "y": 171.23810863494873,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "47f23ec8.713ca"
            ]
        ]
    },
    {
        "id": "47f23ec8.713ca",
        "type": "method",
        "name": "method tsli-vnf-topology-operation-trans-slice-allocate",
        "xml": "<method rpc='tsli-vnf-topology-operation-trans-slice-allocate' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 397.42860412597656,
        "y": 256.0000305175781,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "909d5d01.2efc9"
            ]
        ]
    },
    {
        "id": "909d5d01.2efc9",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 767.238037109375,
        "y": 280.66668701171875,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "c5df95a2.6c697",
                "a851f151.681188",
                "4430b278.87d9ac"
            ]
        ]
    },
    {
        "id": "c5df95a2.6c697",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 1068.571533203125,
        "y": 551.5969848632812,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "a851f151.681188",
        "type": "save",
        "name": "get service-instance from aai",
        "xml": "<!--<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" -->\n<!--\tresource=\"service-instance\"-->\n<!--\tkey='service-instance.service-instance-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.service-instance-id-->\n<!--         AND customer.global-customer-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.global-customer-id -->\n<!--         AND service-subscription.service-type = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.subscription-service-type'-->\n<!--\tlocal-only=\"false\"-->\n<!--\tforce=\"true\" pfx=\"tmp.aai.service-instance\">-->\n\n<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"service-instance\"\n\tkey='service-instance.service-instance-id = $vnf-topology-operation-input.service-information.service-instance-id\n         AND customer.global-customer-id = $vnf-topology-operation-input.service-information.global-customer-id \n         AND service-subscription.service-type = $vnf-topology-operation-input.service-information.subscription-service-type'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.service-instance\">\n\n\n<!--<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" -->\n<!--\tresource=\"service-instance\"-->\n<!--\tkey='service-instance.service-instance-id = $service-data.service-information.service-instance-id-->\n<!--         AND customer.global-customer-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.global-customer-id -->\n<!--         AND service-subscription.service-type = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.subscription-service-type'-->\n<!--\tlocal-only=\"false\"-->\n<!--\tforce=\"true\" pfx=\"tmp.aai.service-instance\">-->",
        "comments": "",
        "outputs": 1,
        "x": 1090,
        "y": 254,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "bee2d1fb.fc819",
                "706fc8bb.926d88",
                "b5dbfca1.6b8958"
            ]
        ]
    },
    {
        "id": "bee2d1fb.fc819",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1315,
        "y": 112,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "e14cb882.1a5158"
            ]
        ]
    },
    {
        "id": "706fc8bb.926d88",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1310.490966796875,
        "y": 181.57403564453125,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "5cbb540f.81c364"
            ]
        ]
    },
    {
        "id": "b5dbfca1.6b8958",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1299,
        "y": 228,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "bd99daf8.5c5508"
            ]
        ]
    },
    {
        "id": "e14cb882.1a5158",
        "type": "switchNode",
        "name": "switch allotted-resources_length != 0",
        "xml": "<switch test='`$tmp.aai.service-instance.allotted-resources.allotted-resource_length != 0`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1554,
        "y": 109,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "6386b942.401658",
                "736cbc7f.84dcc4"
            ]
        ]
    },
    {
        "id": "5cbb540f.81c364",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 1464.0623779296875,
        "y": 184.85977172851562,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "bd99daf8.5c5508",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 1468,
        "y": 229,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "6386b942.401658",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1767,
        "y": 133,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "bdbad755.d12dc8"
            ]
        ]
    },
    {
        "id": "736cbc7f.84dcc4",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1769,
        "y": 73,
        "z": "cd8c161.e76ffe8",
        "wires": [
            []
        ]
    },
    {
        "id": "73516434.8b694c",
        "type": "comment",
        "name": "new for TransportSlicing",
        "info": "",
        "comments": "",
        "x": 1069,
        "y": 142,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "bdbad755.d12dc8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1752,
        "y": 221,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "3b75dc28.79bec4",
                "5d2f9da2.d38694",
                "48979781.1681f8",
                "93c183ce.0a9ed8",
                "5d8a5506.b8ac8c",
                "a26db7da.175a4"
            ]
        ]
    },
    {
        "id": "31cf85b5.906fca",
        "type": "set",
        "name": "set network-route-A",
        "xml": "<set>\n<parameter name='network-route-A' value=\"`$tmp.aai.logical-link.link-name`\" />\n<!--<parameter name='network-route-A' value=\"`$tmp.aai.logical-link.link-id`\" />-->\n\n\n",
        "comments": "",
        "x": 2615,
        "y": 821,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "db907b5a.2ae538",
        "type": "set",
        "name": "set network-route-B",
        "xml": "<set>\n<parameter name='network-route-B' value=\"`$tmp.aai.logical-link.link-name2`\" />\n\n\n",
        "comments": "",
        "x": 2616,
        "y": 876,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "fea2a65.c94cf58",
        "type": "save",
        "name": "get allotted-resource from aai",
        "xml": "<!--<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" -->\n<!--\tresource=\"allotted-resource\"-->\n<!--\tkey='service-instance.service-instance-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.service-instance-id-->\n<!--         AND customer.global-customer-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.global-customer-id -->\n<!--         AND service-subscription.service-type = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.subscription-service-type-->\n<!--         AND allotted-resource.id = $allotted-resource-id'-->\n<!--\tlocal-only=\"false\"-->\n<!--\tforce=\"true\" pfx=\"tmp.aai.allotted-resource\">-->\n\n<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"allotted-resource\"\n\tkey='service-instance.service-instance-id = $vnf-topology-operation-input.service-information.service-instance-id\n         AND customer.global-customer-id = $vnf-topology-operation-input.service-information.global-customer-id \n         AND service-subscription.service-type = $vnf-topology-operation-input.service-information.subscription-service-type\n         AND allotted-resource.id = $allotted-resource-id'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.allotted-resource\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2238,
        "y": 272,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "87df4589.584858",
                "635af784.3cb32",
                "22a4a39b.dd73ec"
            ]
        ]
    },
    {
        "id": "87df4589.584858",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2454,
        "y": 339,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "8e0be879.699538"
            ]
        ]
    },
    {
        "id": "635af784.3cb32",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2454.490966796875,
        "y": 238.573974609375,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "84ac682e.b78a08"
            ]
        ]
    },
    {
        "id": "22a4a39b.dd73ec",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2450,
        "y": 288,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "b2061dbc.0548c8"
            ]
        ]
    },
    {
        "id": "84ac682e.b78a08",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 2632.0625,
        "y": 238.8597412109375,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "b2061dbc.0548c8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 2632,
        "y": 288,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "358e179e.99b9f",
        "type": "save",
        "name": "get logical-link from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"logical-link\"\n\tkey='logical-link.link-name = $logical-link-name'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.logical-link\">",
        "comments": "",
        "outputs": 1,
        "x": 1973,
        "y": 761,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "e260aa07.d4c01",
                "9ec9d813.5ed0f",
                "46b462c7.130bb4"
            ]
        ]
    },
    {
        "id": "e260aa07.d4c01",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2264.490966796875,
        "y": 739.573974609375,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "c2b6bbd8.3d5eb8"
            ]
        ]
    },
    {
        "id": "9ec9d813.5ed0f",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2253,
        "y": 784,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "1e57c51f.2af7db"
            ]
        ]
    },
    {
        "id": "c2b6bbd8.3d5eb8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 2413.0625,
        "y": 739.8597412109375,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "1e57c51f.2af7db",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 2412,
        "y": 784,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "46b462c7.130bb4",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2260,
        "y": 863,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "9b6c334b.ffcfb8"
            ]
        ]
    },
    {
        "id": "9b6c334b.ffcfb8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2399,
        "y": 863,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "31cf85b5.906fca",
                "db907b5a.2ae538",
                "b99c062f.cc8e2",
                "f8919e28.817698",
                "63c0978f.6d4218",
                "256b3f1a.6b05f8",
                "72dba682.c63c9",
                "1b6d1c66.bc0bb4",
                "d6aa9ec.33fa46",
                "6c32ab13.072304",
                "35f98555.2ceed2",
                "63cf541.20dacac"
            ]
        ]
    },
    {
        "id": "b99c062f.cc8e2",
        "type": "save",
        "name": "get network-route-A from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"network-route\"\n\tkey='network-route.route-id = $network-route-A'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.network-route-A\">",
        "comments": "",
        "outputs": 1,
        "x": 2628,
        "y": 944,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "177d33ef.653acc",
                "b808d106.b2a7e8",
                "99bf3e88.29ecb8"
            ]
        ]
    },
    {
        "id": "f8919e28.817698",
        "type": "save",
        "name": "get network-route-B from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"network-route\"\n\tkey='network-route.route-id = $network-route-B'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.network-route-B\">",
        "comments": "",
        "outputs": 1,
        "x": 2607,
        "y": 1545.9998779296875,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "e551771e.c49a78",
                "c096bcbd.1a977",
                "cd719142.8f5fd8"
            ]
        ]
    },
    {
        "id": "177d33ef.653acc",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2829,
        "y": 828,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "60c8d868.cb0f38"
            ]
        ]
    },
    {
        "id": "b808d106.b2a7e8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2824.509033203125,
        "y": 877.426025390625,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "8912eaa6.91a52"
            ]
        ]
    },
    {
        "id": "99bf3e88.29ecb8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2828.509033203125,
        "y": 928.426025390625,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "f8cee9a2.f0a618"
            ]
        ]
    },
    {
        "id": "60c8d868.cb0f38",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 2977.571533203125,
        "y": 827.2857666015625,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "8912eaa6.91a52",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 2967.509033203125,
        "y": 877.426025390625,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "e551771e.c49a78",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2830,
        "y": 1515.9998779296875,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "ae022a7b.5f0fc"
            ]
        ]
    },
    {
        "id": "c096bcbd.1a977",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2825.509033203125,
        "y": 1565.4259033203125,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "2c76b27.1b72ace"
            ]
        ]
    },
    {
        "id": "cd719142.8f5fd8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2829.509033203125,
        "y": 1616.4259033203125,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "e3f74bb4.409b5"
            ]
        ]
    },
    {
        "id": "ae022a7b.5f0fc",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 2978.571533203125,
        "y": 1515.28564453125,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "2c76b27.1b72ace",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 2968.509033203125,
        "y": 1565.4259033203125,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "194cc348.04e4bd",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3642.66650390625,
        "y": 972,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "e0f54a30.b97458",
                "6e8fe0e8.771d7",
                "2d7aee5e.4b3492",
                "d2697672.e5142",
                "c6965465.aeb14"
            ]
        ]
    },
    {
        "id": "c1db8d6e.967fa8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3470,
        "y": 973,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "194cc348.04e4bd"
            ]
        ]
    },
    {
        "id": "ea169f9.1e78f6",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3479.490966796875,
        "y": 1015.5740356445312,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "9dbcf7c3.d03228"
            ]
        ]
    },
    {
        "id": "b37256ee.6a59a",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3468,
        "y": 1062,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "78909f5b.c256b8"
            ]
        ]
    },
    {
        "id": "9dbcf7c3.d03228",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 3633.0623779296875,
        "y": 1018.8597717285156,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "78909f5b.c256b8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 3637,
        "y": 1063,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "f8cee9a2.f0a618",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2990,
        "y": 930,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "bd63f21f.6d97a",
                "bcdc8dc3.72d61"
            ]
        ]
    },
    {
        "id": "e3f74bb4.409b5",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2980,
        "y": 1617.9998779296875,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "d9529ce2.4ca64",
                "68b3ff1a.0849f"
            ]
        ]
    },
    {
        "id": "1bc4a1b0.e8f4e6",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3610.66650390625,
        "y": 1808,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "6b02eeb7.bc53e8",
                "aa3dffa0.a80a58",
                "ce63ac06.8bd44",
                "c950727d.3e1368",
                "83539382.7676b8"
            ]
        ]
    },
    {
        "id": "206889a2.ad62d6",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3438,
        "y": 1809,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "1bc4a1b0.e8f4e6"
            ]
        ]
    },
    {
        "id": "eceddf53.8343c8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3447.490966796875,
        "y": 1851.5740356445312,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "89316d2b.d76a7"
            ]
        ]
    },
    {
        "id": "9f6e2dae.f13bd8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3436,
        "y": 1898,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "ff7b6926.fc1f5"
            ]
        ]
    },
    {
        "id": "89316d2b.d76a7",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 3601.0623779296875,
        "y": 1854.8597717285156,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "ff7b6926.fc1f5",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 3605,
        "y": 1899,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "e0f54a30.b97458",
        "type": "execute",
        "name": "execute split tp-id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.aai.network-route-A.p-interface-src.interface-name`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-domainA\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3907,
        "y": 956,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "8a48ffc4.99708",
                "9768c48e.e91b5"
            ]
        ]
    },
    {
        "id": "9768c48e.e91b5",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4130,
        "y": 911,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "704965d2.1b9644"
            ]
        ]
    },
    {
        "id": "8a48ffc4.99708",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4132,
        "y": 975,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "5140e6b9.7a9158"
            ]
        ]
    },
    {
        "id": "b8a9d793.4e0ca",
        "type": "set",
        "name": "set ltpId",
        "xml": "<set>\n<parameter name='tmp.src.ltpId' value='`$param-prefix-domainA[$param-prefix-domainA_length -1]`' />\n",
        "comments": "",
        "x": 4465,
        "y": 866,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "5140e6b9.7a9158",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 4294,
        "y": 971,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "704965d2.1b9644",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4295,
        "y": 908,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "c30e1911.559b98",
                "b8a9d793.4e0ca"
            ]
        ]
    },
    {
        "id": "c30e1911.559b98",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.src.pnf-name' value='`$param-prefix-domainA[$param-prefix-domainA_length -3]`' />\n",
        "comments": "",
        "x": 4466,
        "y": 974,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "6b71df66.ebc0e",
        "type": "comment",
        "name": "TODO: FIXME",
        "info": "using the output of regex string arrays,\nconcatinate index 0 to index[length-2] all together\nin order to assemble the correct pnf-name",
        "comments": "",
        "x": 4467,
        "y": 923,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "2d7aee5e.4b3492",
        "type": "save",
        "name": "save connectivity resource in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $uuid.connectivity-domainA-uuid'>\n<parameter name='connectivity-id' value='`$uuid.connectivity-domainA-uuid`' />\n<parameter name='etht-svc-name' value='`$prop.ethernet-service-name`' />\n<parameter name='operational-status' value='Created' />\n<parameter name='access-provider-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -9]`' />\n<parameter name='access-client-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -7]`' />\n<parameter name='access-topology-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -5]`' />\n<parameter name='access-node-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -3]`' />\n<parameter name='access-ltp-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -1]`' />\n<parameter name='cvlan' value='`$tmp.aai.network-route-A.logical-interface-id`' />\n\n<parameter name='bandwidth-profile-name' value='`$gfp`' />\n<parameter name='vpn-type' value='`$prop.sotn.vpnType`' />\n<parameter name='cir' value='`$gfp *1000000`' />\n<parameter name='eir' value='`$gfp *1000000`' />\n<parameter name='cbs' value='`$prop.sotn.cbs`' />\n<parameter name='ebs' value='`$prop.sotn.ebs`' />\n<!--<parameter name='color-aware' value='`$prop.sotn.colorAware`' />-->\n<!--<parameter name='coupling-flag' value='`$prop.sotn.couplingFlag`' />-->\n<!--<parameter name='etht-svc-name' value='`$prop.sotn.etht-svc-name`' />-->\n<parameter name='model-customization-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-customization-uuid`' />\n<parameter name='model-invariant-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-invariant-uuid`' />\n<parameter name='model-version-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-uuid`' />\n<parameter name='connectivity-selflink' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'  + $network-topology-operation-input.service-information.service-instance-id  + '/service-data/networks/network/'  + $prop.sotn.network-id  + '/network-data/'` \" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3909,
        "y": 1115,
        "z": "cd8c161.e76ffe8",
        "wires": [
            []
        ]
    },
    {
        "id": "6e8fe0e8.771d7",
        "type": "execute",
        "name": "execute UUID generator for connectivity domainA",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"uuid.connectivity-domainA-uuid\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3954,
        "y": 1025,
        "z": "cd8c161.e76ffe8",
        "wires": [
            []
        ]
    },
    {
        "id": "703a6ba5.55da1c",
        "type": "comment",
        "name": "TODO: FIXME",
        "info": "using the output of regex string arrays,\nconcatinate index 0 to index[?] all together\nin order to assemble the correct values for provider-id, \ntopology-id, node-id, etc.",
        "comments": "",
        "x": 3843,
        "y": 1066,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "6b02eeb7.bc53e8",
        "type": "execute",
        "name": "execute split tp-id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.aai.network-route-B.p-interface-dst.interface-name`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-domainB\"/>\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3897,
        "y": 1812.0001220703125,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "866b6a8.23d5e98",
                "cb5f1ada.6b67f"
            ]
        ]
    },
    {
        "id": "cb5f1ada.6b67f",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4120,
        "y": 1767.0001220703125,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "e1a14a86.388a08"
            ]
        ]
    },
    {
        "id": "866b6a8.23d5e98",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4122,
        "y": 1831.0001220703125,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "e3367ed2.f52b78"
            ]
        ]
    },
    {
        "id": "c05c0482.6a0aa8",
        "type": "set",
        "name": "set ltpId",
        "xml": "<set>\n<parameter name='tmp.dst.ltpId' value='`$param-prefix-domainB[$param-prefix-domainB_length -1]`' />\n",
        "comments": "",
        "x": 4455,
        "y": 1725.0001220703125,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "e3367ed2.f52b78",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 4281,
        "y": 1850.0001220703125,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "e1a14a86.388a08",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4285,
        "y": 1764.0001220703125,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "c05c0482.6a0aa8",
                "6625860d.59cf58"
            ]
        ]
    },
    {
        "id": "6625860d.59cf58",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.dst.pnf-name' value='`$param-prefix-domainB[$param-prefix-domainB_length -3]`' />\n",
        "comments": "",
        "x": 4456,
        "y": 1830.0001220703125,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "3d78f64a.35443a",
        "type": "comment",
        "name": "TODO: FIXME",
        "info": "using the output of regex string arrays,\nconcatinate index 0 to index[length-2] all together\nin order to assemble the correct pnf-name",
        "comments": "",
        "x": 4451,
        "y": 1779.0001220703125,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "ce63ac06.8bd44",
        "type": "save",
        "name": "save connectivity resource in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $prop.connectivity-domainB-uuid'>\n<parameter name='connectivity-id' value='`$prop.connectivity-domainB-uuid`' />\n<parameter name='etht-svc-name' value='`$prop.ethernet-service-name`' />\n<parameter name='operational-status' value='Created' />\n<parameter name='access-provider-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -9]`' />\n<parameter name='access-client-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -7]`' />\n<parameter name='access-topology-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -5]`' />\n<parameter name='access-node-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -3]`' />\n<parameter name='access-ltp-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -1]`' />\n<parameter name='cvlan' value='`$tmp.aai.network-route-B.logical-interface-id`' />\n\n\n<parameter name='bandwidth-profile-name' value='`$gfp`' />\n<parameter name='vpn-type' value='`$prop.sotn.vpnType`' />\n<parameter name='cir' value='`$gfp *1000000`' />\n<parameter name='eir' value='`$gfp *1000000`' />\n<parameter name='cbs' value='`$prop.sotn.cbs`' />\n<parameter name='ebs' value='`$prop.sotn.ebs`' />\n<!--<parameter name='color-aware' value='`$prop.sotn.colorAware`' />-->\n<!--<parameter name='coupling-flag' value='`$prop.sotn.couplingFlag`' />-->\n<!--<parameter name='etht-svc-name' value='`$prop.sotn.etht-svc-name`' />-->\n<parameter name='model-customization-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-customization-uuid`' />\n<parameter name='model-invariant-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-invariant-uuid`' />\n<parameter name='model-version-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-uuid`' />\n<parameter name='connectivity-selflink' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'  + $network-topology-operation-input.service-information.service-instance-id  + '/service-data/networks/network/'  + $prop.sotn.network-id  + '/network-data/'` \" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3899,
        "y": 1971.0001220703125,
        "z": "cd8c161.e76ffe8",
        "wires": [
            []
        ]
    },
    {
        "id": "aa3dffa0.a80a58",
        "type": "execute",
        "name": "execute UUID generator for connectivity domainB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.connectivity-domainB-uuid\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3944,
        "y": 1881.0001220703125,
        "z": "cd8c161.e76ffe8",
        "wires": [
            []
        ]
    },
    {
        "id": "de57e045.5d324",
        "type": "comment",
        "name": "TODO: FIXME",
        "info": "using the output of regex string arrays,\nconcatinate index 0 to index[?] all together\nin order to assemble the correct values for provider-id, \ntopology-id, node-id, etc.",
        "comments": "",
        "x": 3833,
        "y": 1919.0001220703125,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "63c0978f.6d4218",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:tsli-vnf-topology-operation-get-otn-tunnel-path-from-oof",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='tsli-vnf-topology-operation-get-otn-tunnel-path-from-oof' mode='sync' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2825,
        "y": 2386,
        "z": "cd8c161.e76ffe8",
        "wires": [
            []
        ]
    },
    {
        "id": "256b3f1a.6b05f8",
        "type": "set",
        "name": "set attachment_param",
        "xml": "<set>\n<parameter name='prop.connection-attachment.access-provider-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -9]`' />\n<parameter name='prop.connection-attachment.access-client-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -7]`' />\n<parameter name='prop.connection-attachment.access-topology-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -5]`' />\n<parameter name='prop.connection-attachment.access-node-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -3]`' />\n<parameter name='prop.connection-attachment.access-ltp-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -1]`' />\n\n<parameter name='prop.remote.connection-attachment.access-provider-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -9]`' />\n<parameter name='prop.remote.connection-attachment.access-client-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -7]`' />\n<parameter name='prop.remote.connection-attachment.access-topology-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -5]`' />\n<parameter name='prop.remote.connection-attachment.access-node-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -3]`' />\n<parameter name='prop.remote.connection-attachment.access-ltp-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -1]`' />\n\n<!--<parameter name='prop.remote.connection-attachment.access-provider-id' value='`$oof.vpn.access-provider-id`' />-->\n<!--<parameter name='prop.remote.connection-attachment.access-client-id' value='`$oof.vpn.access-client-id`' />-->\n<!--<parameter name='prop.remote.connection-attachment.access-topology-id' value='`$oof.vpn.access-topology-id`' />-->\n<!--<parameter name='prop.remote.connection-attachment.access-node-id' value='`$oof.vpn.access-node-id`' />-->\n<!--<parameter name='prop.remote.connection-attachment.access-ltp-id' value='`$oof.vpn.src-access-ltp-id`' />-->\n",
        "comments": "",
        "x": 2623,
        "y": 2265,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "8870d8f4.24b26",
        "type": "comment",
        "name": "TODO: FIXME",
        "info": "put proper values for src topology-id, node-id, ltp-id, etc (in domain A)\nand dst topology-id, node-id, ltp-id, etc (in domain B)",
        "comments": "",
        "x": 2589,
        "y": 2199,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "d2697672.e5142",
        "type": "save",
        "name": "save TNNSSI (transport service instance) relationship to connectivity in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='service-instance:relationship-list' \n      key='service-instance.service-instance-id = $vnf-topology-operation-input.service-information.service-instance-id\n         AND customer.global-customer-id = $vnf-topology-operation-input.service-information.global-customer-id \n         AND service-subscription.service-type = $vnf-topology-operation-input.service-information.subscription-service-type' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"connectivity\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/connectivities/connectivity/' + $uuid.connectivity-domainA-uuid`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"connectivity.connectivity-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$uuid.connectivity-domainA-uuid`\" />\n\n\n<!--<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='service-instance:relationship-list' -->\n<!--      key='service-instance.service-instance-id = $service-data.service-information.service-instance-id -->\n<!--         AND customer.global-customer-id = $service-data.networks.network[$nidx].network-data.service-information.global-customer-id -->\n<!--         AND service-subscription.service-type = $service-data.networks.network[$nidx].network-data.service-information.subscription-service-type' -->\n<!--      force=\"true\" pfx=\"tmp.AnAI-data\">-->\n<!--<parameter name=\"relationship-list.relationship[0].related-to\" value=\"connectivity\" />-->\n<!--<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/connectivities/connectivity/' + $prop.sotn.network-id`\" />-->\n<!--<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"connectivity.connectivity-id\" />-->\n<!--<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$prop.sotn.network-id`\" />-->",
        "comments": "",
        "outputs": 1,
        "x": 4037,
        "y": 1163,
        "z": "cd8c161.e76ffe8",
        "wires": [
            []
        ]
    },
    {
        "id": "c950727d.3e1368",
        "type": "save",
        "name": "save TNNSSI (transport service instance) relationship to connectivity in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='service-instance:relationship-list' \n      key='service-instance.service-instance-id = $vnf-topology-operation-input.service-information.service-instance-id\n         AND customer.global-customer-id = $vnf-topology-operation-input.service-information.global-customer-id \n         AND service-subscription.service-type = $vnf-topology-operation-input.service-information.subscription-service-type' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"connectivity\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/connectivities/connectivity/' + $prop.connectivity-domainB-uuid`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"connectivity.connectivity-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$prop.connectivity-domainB-uuid`\" />\n\n\n<!--<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='service-instance:relationship-list' -->\n<!--      key='service-instance.service-instance-id = $service-data.service-information.service-instance-id -->\n<!--         AND customer.global-customer-id = $service-data.networks.network[$nidx].network-data.service-information.global-customer-id -->\n<!--         AND service-subscription.service-type = $service-data.networks.network[$nidx].network-data.service-information.subscription-service-type' -->\n<!--      force=\"true\" pfx=\"tmp.AnAI-data\">-->\n<!--<parameter name=\"relationship-list.relationship[0].related-to\" value=\"connectivity\" />-->\n<!--<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/connectivities/connectivity/' + $prop.sotn.network-id`\" />-->\n<!--<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"connectivity.connectivity-id\" />-->\n<!--<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$prop.sotn.network-id`\" />-->",
        "comments": "",
        "outputs": 1,
        "x": 4026,
        "y": 2036.0001220703125,
        "z": "cd8c161.e76ffe8",
        "wires": [
            []
        ]
    },
    {
        "id": "2cb22463.a9a10c",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domainA.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domainA.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 5081,
        "y": 683,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "4afa0297.0e92ec",
                "f0a2c2cf.76f7c",
                "78f72703.090dd8"
            ]
        ]
    },
    {
        "id": "8e0be879.699538",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2634,
        "y": 339,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "c6b29f32.96c43"
            ]
        ]
    },
    {
        "id": "926dbaa7.515a7",
        "type": "outcome",
        "name": "logical-link",
        "xml": "<outcome value='logical-link'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1564.0001220703125,
        "y": 756.0001220703125,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "aa0dd611.39e8d8"
            ]
        ]
    },
    {
        "id": "3fd9bf5c.04e708",
        "type": "switchNode",
        "name": "switch allotted-resource.relationship-list not empty",
        "xml": "<switch test='`$tmp.aai.allotted-resource.relationship-list.relationship_length != 0`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2302,
        "y": 462,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "2b043a11.143596",
                "d91f0f1e.b29778"
            ]
        ]
    },
    {
        "id": "d91f0f1e.b29778",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2612,
        "y": 469,
        "z": "cd8c161.e76ffe8",
        "wires": [
            []
        ]
    },
    {
        "id": "2b043a11.143596",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2611,
        "y": 523,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "53404fc0.a38be"
            ]
        ]
    },
    {
        "id": "dd4dd108.7ed66",
        "type": "set",
        "name": "set the current logical-link-name",
        "xml": "<set>\n<parameter name='logical-link-name' value=\"`$tmp.aai.allotted-resource.relationship-list.relationship[$idx].relationship-data[0].relationship-value`\" />\n\n\n",
        "comments": "",
        "x": 1984,
        "y": 706,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "aa0dd611.39e8d8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1741,
        "y": 749,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "dd4dd108.7ed66",
                "358e179e.99b9f"
            ]
        ]
    },
    {
        "id": "50481ed8.b97c38",
        "type": "comment",
        "name": "Question?",
        "info": "How to know if DG would send this get request\nin \"nodes\" namespace instead of \"network\" namespace?",
        "comments": "",
        "x": 3170,
        "y": 935,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "bd63f21f.6d97a",
        "type": "save",
        "name": "get p-interface-src from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"p-interface\"\n\t    key=\"pnf.pnf-name = $tmp.src.domainA.pnf-name\n\t        AND p-interface.interface-name = $tmp.aai.network-route-A.next-hop\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.network-route-A.p-interface-src\" >\n\n<!--<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" -->\n<!--\tresource=\"p-interface\"-->\n<!--\t    key=\"pnf.pnf-name = $unique-src-node-Id-->\n<!--\t        and p-interface.interface-name = $tmp.aai.endpointA.relationship-list.relationship[$rel-index].relationship-data[0].relationship-value\"-->\n<!--\t\tlocal-only=\"false\" -->\n<!--\t\tpfx=\"tmp.aai.endpointA.p-interface-src\" >-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3213,
        "y": 1000,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "c1db8d6e.967fa8",
                "ea169f9.1e78f6",
                "b37256ee.6a59a"
            ]
        ]
    },
    {
        "id": "d9529ce2.4ca64",
        "type": "save",
        "name": "get p-interface-dst from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"p-interface\"\n\t    key=\"pnf.pnf-name = $tmp.dst.domainB.pnf-name\n\t        AND p-interface.interface-name = $tmp.aai.network-route-B.next-hop\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.network-route-B.p-interface-dst\" >\n\n<!--<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" -->\n<!--\tresource=\"p-interface\"-->\n<!--\t    key=\"pnf.pnf-name = $unique-src-node-Id-->\n<!--\t        and p-interface.interface-name = $tmp.aai.endpointA.relationship-list.relationship[$rel-index].relationship-data[0].relationship-value\"-->\n<!--\t\tlocal-only=\"false\" -->\n<!--\t\tpfx=\"tmp.aai.endpointA.p-interface-src\" >-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3210,
        "y": 1844,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "206889a2.ad62d6",
                "eceddf53.8343c8",
                "9f6e2dae.f13bd8"
            ]
        ]
    },
    {
        "id": "2cacaea3.bdcdca",
        "type": "comment",
        "name": "Question?",
        "info": "How to know if DG would send this get request\nin \"nodes\" namespace instead of \"network\" namespace?",
        "comments": "",
        "x": 3171,
        "y": 1788,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "c6b29f32.96c43",
        "type": "save",
        "name": "get allotted-resource relationship from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"allotted-resource:relationship-list\"\n\tkey='service-instance.service-instance-id = $vnf-topology-operation-input.service-information.service-instance-id\n         AND customer.global-customer-id = $vnf-topology-operation-input.service-information.global-customer-id \n         AND service-subscription.service-type = $vnf-topology-operation-input.service-information.subscription-service-type\n         AND allotted-resource.id = $allotted-resource-id'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.allotted-resource.relationship-list\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2927,
        "y": 286,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "9de6915b.b19d38",
                "e8ebc1b6.d4d34",
                "e6a28fa6.880708"
            ]
        ]
    },
    {
        "id": "e8ebc1b6.d4d34",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3200.490966796875,
        "y": 178.573974609375,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "b49d6ada.3dcaf8"
            ]
        ]
    },
    {
        "id": "b49d6ada.3dcaf8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 3378.0625,
        "y": 178.8597412109375,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "e6a28fa6.880708",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3196,
        "y": 228,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "d8c17b5e.5b6d48"
            ]
        ]
    },
    {
        "id": "d8c17b5e.5b6d48",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 3378,
        "y": 228,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "9de6915b.b19d38",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3200,
        "y": 279,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "54518182.0b0878"
            ]
        ]
    },
    {
        "id": "54518182.0b0878",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3380,
        "y": 279,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "3fd9bf5c.04e708"
            ]
        ]
    },
    {
        "id": "62e6aba8.2c101c",
        "type": "for",
        "name": "for each allotted-resource relationship",
        "xml": "<for index='idx' start='0' end='`$tmp.aai.allotted-resource.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2871,
        "y": 503,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "ce3eb436.d43a6"
            ]
        ]
    },
    {
        "id": "ce3eb436.d43a6",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.allotted-resource.relationship-list.relationship[$idx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3151,
        "y": 503,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "926dbaa7.515a7"
            ]
        ]
    },
    {
        "id": "7737916f.9448f",
        "type": "outcome",
        "name": "network-policy",
        "xml": "<outcome value='network-policy'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3356,
        "y": 477,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "9c3216ab.adc2a8"
            ]
        ]
    },
    {
        "id": "9c3216ab.adc2a8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3532.9998779296875,
        "y": 469.9998779296875,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "6ca4307d.28f77",
                "15dd1089.866707"
            ]
        ]
    },
    {
        "id": "6ca4307d.28f77",
        "type": "set",
        "name": "set the 1st network-policy-id",
        "xml": "<set>\n<parameter name='network-policy-id' value=\"`$tmp.aai.allotted-resource.relationship-list.relationship[$idx].relationship-data[0].relationship-value`\" />\n\n\n",
        "comments": "",
        "x": 3775.9998779296875,
        "y": 426.9998779296875,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "15dd1089.866707",
        "type": "save",
        "name": "get network-policy from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"network-policy\"\n\tkey='network-policy.network-policy-id = $network-policy-id'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.network-policy\">",
        "comments": "",
        "outputs": 1,
        "x": 3764.9998779296875,
        "y": 481.9998779296875,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "af36166d.ada238",
                "d07a4cd5.ac3678",
                "65922e69.a77b18"
            ]
        ]
    },
    {
        "id": "65922e69.a77b18",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4018,
        "y": 368,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "1424d407.3a5b34"
            ]
        ]
    },
    {
        "id": "1424d407.3a5b34",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 4166.571533203125,
        "y": 368.2857666015625,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "e640c3b9.1f16d",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 4165.509033203125,
        "y": 412.426025390625,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "d07a4cd5.ac3678",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4006.509033203125,
        "y": 412.426025390625,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "e640c3b9.1f16d"
            ]
        ]
    },
    {
        "id": "af36166d.ada238",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4013.509033203125,
        "y": 491.426025390625,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "3b605de0.ec3a52"
            ]
        ]
    },
    {
        "id": "3b605de0.ec3a52",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4152.509033203125,
        "y": 491.426025390625,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "e719047d.96b1f",
                "36ea936c.0d2d9c"
            ]
        ]
    },
    {
        "id": "e719047d.96b1f",
        "type": "set",
        "name": "set the max bandwidth",
        "xml": "<set>\n<parameter name='maximum-bandwidth' value=\"`$tmp.aai.network-policy.max-bandwidth`\" />\n<parameter name='route-distinguisher' value='`$maximum-bandwidth /1000 *4 /5 +1`' />\n\n\n\n",
        "comments": "",
        "x": 4358,
        "y": 489,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "bcdc8dc3.72d61",
        "type": "execute",
        "name": "execute split tp-id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.aai.network-route-A.next-hop`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-domainA-pnfName\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3214,
        "y": 670,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "88359d7a.204d2",
                "184f5811.e1748"
            ]
        ]
    },
    {
        "id": "184f5811.e1748",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3437,
        "y": 656,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "65b8cca9.2ac444"
            ]
        ]
    },
    {
        "id": "88359d7a.204d2",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3439,
        "y": 689,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "776eb0a5.2fd87"
            ]
        ]
    },
    {
        "id": "776eb0a5.2fd87",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 3582,
        "y": 686,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "65b8cca9.2ac444",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3585,
        "y": 649,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "2397aa3a.45e876",
                "c5b3bcfd.d10508"
            ]
        ]
    },
    {
        "id": "2397aa3a.45e876",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.src.domainA.pnf-name' value=\"`$param-prefix-domainA-pnfName[0] + '-' +\n                                                   $param-prefix-domainA-pnfName[1] + '-' +\n                                                   $param-prefix-domainA-pnfName[2] + '-' +\n                                                   $param-prefix-domainA-pnfName[3] + '-' +\n                                                   $param-prefix-domainA-pnfName[4] + '-' +\n                                                   $param-prefix-domainA-pnfName[5] + '-' +\n                                                   $param-prefix-domainA-pnfName[6] + '-' +\n                                                   $param-prefix-domainA-pnfName[7] + '-' +\n                                                   $param-prefix-domainA-pnfName[8]`\" />\n",
        "comments": "",
        "x": 3747,
        "y": 644,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "68b3ff1a.0849f",
        "type": "execute",
        "name": "execute split tp-id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.aai.network-route-B.next-hop`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-domainB-pnfName\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3228,
        "y": 1506.9998779296875,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "6fc92ae0.49bd04",
                "59f072e2.0b71ec"
            ]
        ]
    },
    {
        "id": "59f072e2.0b71ec",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3451,
        "y": 1492.9998779296875,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "a6cfeb0c.ecbd1"
            ]
        ]
    },
    {
        "id": "6fc92ae0.49bd04",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3453,
        "y": 1525.9998779296875,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "862c14a1.8553d8"
            ]
        ]
    },
    {
        "id": "862c14a1.8553d8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 3596,
        "y": 1522.9998779296875,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "a6cfeb0c.ecbd1",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3599,
        "y": 1485.9998779296875,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "9265a5e9.075d5",
                "3387bb2a.b4fa7c"
            ]
        ]
    },
    {
        "id": "9265a5e9.075d5",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.dst.domainB.pnf-name' value=\"`$param-prefix-domainB-pnfName[0] + '-' +\n                                                   $param-prefix-domainB-pnfName[1] + '-' +\n                                                   $param-prefix-domainB-pnfName[2] + '-' +\n                                                   $param-prefix-domainB-pnfName[3] + '-' +\n                                                   $param-prefix-domainB-pnfName[4] + '-' +\n                                                   $param-prefix-domainB-pnfName[5] + '-' +\n                                                   $param-prefix-domainB-pnfName[6] + '-' +\n                                                   $param-prefix-domainB-pnfName[7] + '-' +\n                                                   $param-prefix-domainB-pnfName[8]`\" />\n",
        "comments": "",
        "x": 3793,
        "y": 1489,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "4430b278.87d9ac",
        "type": "execute",
        "name": "execute properties",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />",
        "comments": "",
        "outputs": 1,
        "x": 1057,
        "y": 194,
        "z": "cd8c161.e76ffe8",
        "wires": [
            []
        ]
    },
    {
        "id": "c6965465.aeb14",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='pividx' start='0' end='`$tmp.aai.network-route-A.p-interface-src.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3861,
        "y": 1240,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "d7da00cb.9e6198"
            ]
        ]
    },
    {
        "id": "d7da00cb.9e6198",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.network-route-A.p-interface-src.relationship-list.relationship[$pividx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4067,
        "y": 1240,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "3e41f9e9.7f65b6"
            ]
        ]
    },
    {
        "id": "3e41f9e9.7f65b6",
        "type": "outcome",
        "name": "tunnel-termination-point",
        "xml": "<outcome value='tunnel-termination-point'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4282.28564453125,
        "y": 1239.82177734375,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "8a860c24.fed68"
            ]
        ]
    },
    {
        "id": "8a860c24.fed68",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4489.1171875,
        "y": 1240.34033203125,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "377e7af0.ac592e",
                "9af75c5e.34aa1",
                "ad2bdd99.5817d"
            ]
        ]
    },
    {
        "id": "377e7af0.ac592e",
        "type": "set",
        "name": "set source ttp-id",
        "xml": "<set>\n<parameter name='tmp.source.ttp-id' value=\"`$tmp.aai.network-route-A.p-interface-src.relationship-list.relationship[$pividx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 4704.1171875,
        "y": 1202.34033203125,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "9af75c5e.34aa1",
        "type": "get-resource",
        "name": "get-resource src TTP",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"tunnel-termination-point\" \n\t\tkey=\"tunnel-termination-point.ttp-id = $tmp.source.ttp-id \n\t\tAND depth = '0'\"\n        pfx='tmp.aai.source-ttp' local-only='false' >\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4701.1171875,
        "y": 1241.34033203125,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "817cb438.99e4a8"
            ]
        ]
    },
    {
        "id": "ad2bdd99.5817d",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 4656.6171875,
        "y": 1283.34033203125,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "817cb438.99e4a8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4881.6171875,
        "y": 1240.34033203125,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "4eac437.160bcbc"
            ]
        ]
    },
    {
        "id": "4eac437.160bcbc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5039.6171875,
        "y": 1240.34033203125,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "602a09ac.ab98b8"
            ]
        ]
    },
    {
        "id": "602a09ac.ab98b8",
        "type": "set",
        "name": "set source tunnel tp ip",
        "xml": "<set>\n<parameter name='source.tunnel-tp-id' value=\"`$tmp.aai.source-ttp.tunnel-tp-id`\" />\n",
        "comments": "",
        "x": 5246.6171875,
        "y": 1240.34033203125,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "83539382.7676b8",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='dividx' start='0' end='`$tmp.aai.network-route-B.p-interface-dst.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3858,
        "y": 2109.0001220703125,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "5579dfc7.be27d"
            ]
        ]
    },
    {
        "id": "5579dfc7.be27d",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.network-route-B.p-interface-dst.relationship-list.relationship[$dividx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4064,
        "y": 2109.0001220703125,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "901fbdc2.3ee4d"
            ]
        ]
    },
    {
        "id": "901fbdc2.3ee4d",
        "type": "outcome",
        "name": "tunnel-termination-point",
        "xml": "<outcome value='tunnel-termination-point'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4279.28564453125,
        "y": 2108.8218994140625,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "2e4b86b2.9caae2"
            ]
        ]
    },
    {
        "id": "2e4b86b2.9caae2",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4486.1171875,
        "y": 2109.3404541015625,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "bc60382f.b0361",
                "b3a5cd52.d83f2",
                "ee9aa3b3.89ca4"
            ]
        ]
    },
    {
        "id": "bc60382f.b0361",
        "type": "set",
        "name": "set destination ttp-id",
        "xml": "<set>\n<parameter name='tmp.destination.ttp-id' value=\"`$tmp.aai.network-route-B.p-interface-dst.relationship-list.relationship[$dividx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 4701.1171875,
        "y": 2071.3404541015625,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "b3a5cd52.d83f2",
        "type": "get-resource",
        "name": "get-resource src TTP",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"tunnel-termination-point\" \n\t\tkey=\"tunnel-termination-point.ttp-id = $tmp.destination.ttp-id \n\t\tAND depth = '0'\"\n        pfx='tmp.aai.destination-ttp' local-only='false' >\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4698.1171875,
        "y": 2110.3404541015625,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "93e41626.124d78"
            ]
        ]
    },
    {
        "id": "ee9aa3b3.89ca4",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 4653.6171875,
        "y": 2152.3404541015625,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "93e41626.124d78",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4878.6171875,
        "y": 2109.3404541015625,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "6ea99290.2aa4d4"
            ]
        ]
    },
    {
        "id": "6ea99290.2aa4d4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5036.6171875,
        "y": 2109.3404541015625,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "a95428e7.14cad"
            ]
        ]
    },
    {
        "id": "a95428e7.14cad",
        "type": "set",
        "name": "set destination tunnel tp ip",
        "xml": "<set>\n<parameter name='destination.tunnel-tp-id' value=\"`$tmp.aai.destination-ttp.tunnel-tp-id`\" />\n",
        "comments": "",
        "x": 5243.6171875,
        "y": 2109.3404541015625,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "c5b3bcfd.d10508",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.src.domainA.pnf-name\"\n        pfx='tmp.aai.source-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3774,
        "y": 716,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "8e60f4cf.82fba",
                "2cad2896.c9df4",
                "335dceb2.9bab72"
            ]
        ]
    },
    {
        "id": "8e60f4cf.82fba",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3969.5001220703125,
        "y": 668,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "7a06334d.9731e4"
            ]
        ]
    },
    {
        "id": "2cad2896.c9df4",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3961.5001220703125,
        "y": 723,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "17051d0f.c52e53"
            ]
        ]
    },
    {
        "id": "335dceb2.9bab72",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3966.5001220703125,
        "y": 780,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "328eeb2e.ff715c"
            ]
        ]
    },
    {
        "id": "328eeb2e.ff715c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4118.5001220703125,
        "y": 781,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "17051d0f.c52e53",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4129.5001220703125,
        "y": 726,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "7a06334d.9731e4",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4113.8824462890625,
        "y": 665.6556701660156,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "89e57d02.e9996"
            ]
        ]
    },
    {
        "id": "c9d4f321.66364",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4696,
        "y": 684,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "f8e16adc.55ac68"
            ]
        ]
    },
    {
        "id": "f8e16adc.55ac68",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4873,
        "y": 676,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "f8c4bbbd.612dc",
                "2cb22463.a9a10c"
            ]
        ]
    },
    {
        "id": "89e57d02.e9996",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='spvidx' start='0' end='`$tmp.aai.source-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4298,
        "y": 680,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "ffc907a3.634c3"
            ]
        ]
    },
    {
        "id": "ffc907a3.634c3",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4493,
        "y": 680,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "c9d4f321.66364",
                "d8e84e3d.259878"
            ]
        ]
    },
    {
        "id": "f8c4bbbd.612dc",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domainA id",
        "xml": "<set>\n<parameter name='tmp.domainA.esr-thirdparty-id' value=\"`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 5111,
        "y": 631,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "4afa0297.0e92ec",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5291,
        "y": 674,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "ba53a591.c08868"
            ]
        ]
    },
    {
        "id": "f0a2c2cf.76f7c",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5283,
        "y": 729,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "3a442fd2.17b8b8"
            ]
        ]
    },
    {
        "id": "78f72703.090dd8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5288,
        "y": 786,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "3131a765.52f598"
            ]
        ]
    },
    {
        "id": "3131a765.52f598",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5440,
        "y": 787,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "3a442fd2.17b8b8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5451,
        "y": 732,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "ba53a591.c08868",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5435.38232421875,
        "y": 671.6556701660156,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "280c0a87.0e105e"
            ]
        ]
    },
    {
        "id": "280c0a87.0e105e",
        "type": "set",
        "name": "set controller domainA data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainA.url' value=\"`$tmp.aai.domainA.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainA.user' value=\"`$tmp.aai.domainA.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainA.password' value=\"`$tmp.aai.domainA.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 5650,
        "y": 668,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "3387bb2a.b4fa7c",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.dst.domainB.pnf-name\"\n        pfx='tmp.aai.destination-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3815,
        "y": 1557,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "4d61cd16.0abdfc",
                "83252466.aa101",
                "a13a024e.f66fb"
            ]
        ]
    },
    {
        "id": "4d61cd16.0abdfc",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4010.5001220703125,
        "y": 1509,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "45754d39.0b500c"
            ]
        ]
    },
    {
        "id": "83252466.aa101",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4002.5001220703125,
        "y": 1564,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "7042d1e3.edb1d"
            ]
        ]
    },
    {
        "id": "a13a024e.f66fb",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4007.5001220703125,
        "y": 1621,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "67ddb18b.39ea7"
            ]
        ]
    },
    {
        "id": "67ddb18b.39ea7",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4159.5001220703125,
        "y": 1622,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "7042d1e3.edb1d",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4170.5001220703125,
        "y": 1567,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "45754d39.0b500c",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4154.8824462890625,
        "y": 1506.6556701660156,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "f1a969ab.50fa7"
            ]
        ]
    },
    {
        "id": "e2a984cd.aa357",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4737,
        "y": 1525,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "3a9f2f8b.e28ed"
            ]
        ]
    },
    {
        "id": "3a9f2f8b.e28ed",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4914,
        "y": 1517,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "53b7b7ea.79ccb8",
                "abc0256.22d4b58"
            ]
        ]
    },
    {
        "id": "f1a969ab.50fa7",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='dpvidx' start='0' end='`$tmp.aai.destination-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4339,
        "y": 1521,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "f0d37653.530e5"
            ]
        ]
    },
    {
        "id": "f0d37653.530e5",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.destination-pnf.relationship-list.relationship[$dpvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4534,
        "y": 1521,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "e2a984cd.aa357",
                "19b04051.d11648"
            ]
        ]
    },
    {
        "id": "abc0256.22d4b58",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domainB.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domainB.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 5122,
        "y": 1524,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "ee461c39.fc6a98",
                "85f503dc.f3ae58",
                "2cdb4338.f53074"
            ]
        ]
    },
    {
        "id": "53b7b7ea.79ccb8",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domainB id",
        "xml": "<set>\n<parameter name='tmp.domainB.esr-thirdparty-id' value=\"`$tmp.aai.destination-pnf.relationship-list.relationship[$dpvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 5152,
        "y": 1472,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "ee461c39.fc6a98",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5332,
        "y": 1515,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "bc865963.b711a"
            ]
        ]
    },
    {
        "id": "85f503dc.f3ae58",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5324,
        "y": 1570,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "f79338ab.92167"
            ]
        ]
    },
    {
        "id": "2cdb4338.f53074",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5329,
        "y": 1627,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "bfc5b714.cbe288"
            ]
        ]
    },
    {
        "id": "bfc5b714.cbe288",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5481,
        "y": 1628,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "f79338ab.92167",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5492,
        "y": 1573,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "bc865963.b711a",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5476.38232421875,
        "y": 1512.6556701660156,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "6cd4d323.819c7c"
            ]
        ]
    },
    {
        "id": "6cd4d323.819c7c",
        "type": "set",
        "name": "set controller domainB data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainB.url' value=\"`$tmp.aai.domainB.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainB.user' value=\"`$tmp.aai.domainB.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainB.password' value=\"`$tmp.aai.domainB.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 5691,
        "y": 1509,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "53404fc0.a38be",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2775,
        "y": 449,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "62e6aba8.2c101c",
                "9754a6dd.67f03"
            ]
        ]
    },
    {
        "id": "9754a6dd.67f03",
        "type": "for",
        "name": "for each allotted-resource relationship",
        "xml": "<for index='idx' start='0' end='`$tmp.aai.allotted-resource.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3056,
        "y": 405,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "a377e213.201cf8"
            ]
        ]
    },
    {
        "id": "a377e213.201cf8",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.allotted-resource.relationship-list.relationship[$idx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3318,
        "y": 405,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "7737916f.9448f"
            ]
        ]
    },
    {
        "id": "d8e84e3d.259878",
        "type": "outcome",
        "name": "network-resource",
        "xml": "<outcome value='network-resource'>",
        "comments": "",
        "outputs": 1,
        "x": 4699,
        "y": 758,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "3db61f55.c940b"
            ]
        ]
    },
    {
        "id": "3db61f55.c940b",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4876,
        "y": 750,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "c68e6afb.37cad8"
            ]
        ]
    },
    {
        "id": "c68e6afb.37cad8",
        "type": "set",
        "name": "set domainA ethernet layer network-id",
        "xml": "<set>\n<parameter name='tmp.domainA.eth-network-id' value=\"`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 5111,
        "y": 874,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "70ffeb00.3c6c1c",
        "type": "set",
        "name": "set domainB ethernet layer network-id",
        "xml": "<set>\n<parameter name='tmp.domainB.eth-network-id' value=\"`$tmp.aai.destination-pnf.relationship-list.relationship[$dpvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 5151,
        "y": 1714,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "ce30230.018a56",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4916,
        "y": 1590,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "70ffeb00.3c6c1c"
            ]
        ]
    },
    {
        "id": "19b04051.d11648",
        "type": "outcome",
        "name": "network-resource",
        "xml": "<outcome value='network-resource'>",
        "comments": "",
        "outputs": 1,
        "x": 4739,
        "y": 1598,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "ce30230.018a56"
            ]
        ]
    },
    {
        "id": "36ea936c.0d2d9c",
        "type": "set",
        "name": "set the max bandwidth",
        "xml": "<set>\n<parameter name='gfp' value='`$maximum-bandwidth /1000 *4 /5 +1`' />\n\n\n\n",
        "comments": "",
        "x": 4357,
        "y": 535,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "39c2d67.9f1a22a",
        "type": "execute",
        "name": "execute UUID generator for ethernet-service-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.ethernet-service-name\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2713,
        "y": 669,
        "z": "cd8c161.e76ffe8",
        "wires": [
            []
        ]
    },
    {
        "id": "d6aa9ec.33fa46",
        "type": "execute",
        "name": "execute UUID generator for otn-tunnel-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.otn-tunnel-name\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2694,
        "y": 719,
        "z": "cd8c161.e76ffe8",
        "wires": [
            []
        ]
    },
    {
        "id": "3b75dc28.79bec4",
        "type": "for",
        "name": "for each allotted-resource",
        "xml": "<for index='aridx' start='0' end='`$tmp.aai.service-instance.allotted-resources.allotted-resource_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1955,
        "y": 253,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "42ce53ea.f9d9f4",
                "fea2a65.c94cf58"
            ]
        ]
    },
    {
        "id": "42ce53ea.f9d9f4",
        "type": "set",
        "name": "set the current allotted-resource-id",
        "xml": "<set>\n<parameter name='allotted-resource-id' value=\"`$tmp.aai.service-instance.allotted-resources.allotted-resource[$aridx].id`\" />\n\n\n",
        "comments": "",
        "x": 2235,
        "y": 191,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "72dba682.c63c9",
        "type": "set",
        "name": "set query_param",
        "xml": "<set>\n<parameter name='prop.ethsrvType' value='`$network-route-A`' />\n\n",
        "comments": "",
        "x": 2604,
        "y": 2318,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "1b6d1c66.bc0bb4",
        "type": "set",
        "name": "unset parameters",
        "xml": "<set>\n<parameter name='domain-A.tunnel-tp-id' value='' />\n<parameter name='domain-A.node-id' value='' />\n<parameter name='domain-A.network-id' value=\"\" />\n<parameter name='domain-A.provider-id' value=\"\" />\n<parameter name='domain-A.client-id' value=\"\" />\n<parameter name='domain-A.te-topo-id' value=\"\" />\n<parameter name='domain-A.network-type' value=\"\" />\n<parameter name='domain-A.ltpId' value=\"\" />\n<parameter name='tmp.domain-A.network-id' value=\"\" />\n<parameter name='tmp.domain-A.ttp-id' value=\"\" />\n<parameter name='network-route-A' value=\"\" />\n<!--<parameter name='domain-A.' value=\"\" />-->\n\n<parameter name='request-id' value='' />\n<parameter name='otn-source-node' value='' />\n<parameter name='otn-dest-node' value='' />\n<parameter name='bw-odu' value=\"\" />\n<parameter name='src-ttp-id' value='' />\n<parameter name='dst-ttp-id' value='' />\n\n<parameter name='domain-B.tunnel-tp-id' value='' />\n<parameter name='domain-B.node-id' value='' />\n<parameter name='domain-B.network-id' value=\"\" />\n<parameter name='domain-B.provider-id' value=\"\" />\n<parameter name='domain-B.client-id' value=\"\" />\n<parameter name='domain-B.te-topo-id' value=\"\" />\n<parameter name='domain-B.network-type' value=\"\" />\n<parameter name='domain-B.ltpId' value=\"\" />\n<parameter name='tmp.domain-B.network-id' value=\"\" />\n<parameter name='tmp.domain-B.ttp-id' value=\"\" />\n<parameter name='network-route-B' value=\"\" />\n<!--<parameter name='domain-B.' value=\"\" />-->\n\n\n\n\n\n",
        "comments": "",
        "x": 2594,
        "y": 3927,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "6c32ab13.072304",
        "type": "set",
        "name": "set new ethernet-service-name",
        "xml": "<set>\n<!--<parameter name='prop.ethernet-service-name' value=\"`$tmp.aai.logical-link.link-name`\" />-->\n<parameter name='prop.ethernet-service-name' value=\"`$tmp.aai.logical-link.link-id`\" />\n\n\n",
        "comments": "",
        "x": 2651,
        "y": 764,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "35f98555.2ceed2",
        "type": "for",
        "name": "for vidx..tmp.otninfo_length[]",
        "xml": "<for index='otnidx' start='0' end='`$tmp.otninfo_length`' >",
        "comments": "",
        "outputs": 1,
        "x": 2639,
        "y": 2494,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "5f7bc0b4.b38de8"
            ]
        ]
    },
    {
        "id": "3340e53d.b2b492",
        "type": "save",
        "name": "save vpn-binding otnIdx resource (aka. OTN) in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $prop.vpn-binding-otnidx-uuid' >\n<parameter name='vpn-id' value='`$prop.vpn-binding-otnidx-uuid`' />\n<parameter name='vpn-name' value='`$prop.otn-tunnel-name`' />\n<parameter name='customer-vpn-id' value='`($idx + 1) * 10`' />\n<!--<parameter name='access-provider-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-access-provider-id`' />-->\n<parameter name='access-provider-id' value='`$tmp.access-provider-id`' />\n<!--<parameter name='access-client-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-access-client-id`' />-->\n<parameter name='access-client-id' value='`$tmp.access-client-id`' />\n<!--<parameter name='access-topology-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-access-topology-id`' />-->\n<parameter name='access-topology-id' value='`$tmp.access-topology-id`' />\n<!--<parameter name='src-access-node-id' value='`$tmp.otninfo[$otnidx].srcPort.src-access-node-id`' />-->\n<parameter name='src-access-node-id' value='`$tmp.domainG-src-access-node-id`' />\n<parameter name='src-access-ltp-id' value='`$tmp.otninfo[$otnidx].srcPort.src-tunnel-tp-id`' />\n<!--<parameter name='dst-access-node-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-access-node-id`' />-->\n<parameter name='dst-access-node-id' value='`$tmp.domainG-dst-access-node-id`' />\n<parameter name='dst-access-ltp-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-tunnel-tp-id`' />\n<parameter name='route-distinguisher' value='`$gfp`' />\n<parameter name='operational-status' value='Created' />\n<parameter name='model-customization-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-customization-uuid`' />\n<parameter name='model-invariant-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-invariant-uuid`' />\n<parameter name='model-version-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-uuid`' />\n\n\n<parameter name='vpn-region' value='`$prop.sdncRestApi.thirdpartySdnc.domainG.url`' />\n<parameter name='vpn-description' value='`$prop.sdncRestApi.thirdpartySdnc.domainG.user`' />\n<parameter name='vpn-platform' value='`$prop.sdncRestApi.thirdpartySdnc.domainG.password`' />\n\n<!-- The following line is in lieu of vpn-binding.slice-id (new attribute in latest AAI) -->\n<parameter name='ops-note' value='`$tmp.aai.service-instance.service-instance-id`' />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3768,
        "y": 2916,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "b711db38.ba184"
            ]
        ]
    },
    {
        "id": "4bdc0f0f.14fc9",
        "type": "save",
        "name": "save connectivity-A relationship to vpn-binding-A, in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding:relationship-list' \n      key='vpn-binding.vpn-id = $prop.vpn-binding-otnidx-uuid' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"connectivity\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/connectivities/connectivity/' + $uuid.connectivity-domainA-uuid`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"connectivity.connectivity-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$uuid.connectivity-domainA-uuid`\" />",
        "comments": "",
        "outputs": 1,
        "x": 4340.5,
        "y": 3020,
        "z": "cd8c161.e76ffe8",
        "wires": [
            []
        ]
    },
    {
        "id": "b711db38.ba184",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4074,
        "y": 2915,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "b22521de.818118"
            ]
        ]
    },
    {
        "id": "b22521de.818118",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4283.5,
        "y": 2915.25390625,
        "z": "cd8c161.e76ffe8",
        "wires": [
            []
        ]
    },
    {
        "id": "585cd143.7d2b8",
        "type": "execute",
        "name": "execute UUID generator for vpn-binding $otnidx",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.vpn-binding-otnidx-uuid\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3801,
        "y": 2395,
        "z": "cd8c161.e76ffe8",
        "wires": [
            []
        ]
    },
    {
        "id": "f49c0fd7.2e7c08",
        "type": "switchNode",
        "name": "switch otnidx == 0",
        "xml": "<switch test='`$otnidx == 0`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3677,
        "y": 3033,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "fed6bc26.f071a8",
                "1d37d7ca.3763f"
            ]
        ]
    },
    {
        "id": "fed6bc26.f071a8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3860,
        "y": 3033,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "73494a81.45e24c"
            ]
        ]
    },
    {
        "id": "1d37d7ca.3763f",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3685,
        "y": 3180,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "d3242d0f.9401e"
            ]
        ]
    },
    {
        "id": "e99682a.c4f64",
        "type": "switchNode",
        "name": "switch otnidx == last",
        "xml": "<switch test='`$otnidx == $tmp.otninfo_length - 1`'>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4026,
        "y": 3261,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "eb362179.9d3068",
                "72ad90f5.140788"
            ]
        ]
    },
    {
        "id": "eb362179.9d3068",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4211,
        "y": 3262,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "9791b470.15bff8"
            ]
        ]
    },
    {
        "id": "72ad90f5.140788",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4230,
        "y": 3528,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "aff1f53d.8faa"
            ]
        ]
    },
    {
        "id": "c78f87c4.9bed48",
        "type": "save",
        "name": "save connectivity-B relationship to vpn-binding-B, in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding:relationship-list' \n      key='vpn-binding.vpn-id = $prop.vpn-binding-otnidx-uuid' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"connectivity\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/connectivities/connectivity/' + $prop.connectivity-domainB-uuid`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"connectivity.connectivity-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$prop.connectivity-domainB-uuid`\" />",
        "comments": "",
        "outputs": 1,
        "x": 4641,
        "y": 3263,
        "z": "cd8c161.e76ffe8",
        "wires": [
            []
        ]
    },
    {
        "id": "d7d2c7f0.8e25f8",
        "type": "execute",
        "name": "execute UUID generator for connectivity domain otnidx",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"uuid.connectivity-otnidx-uuid\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 4715,
        "y": 3561,
        "z": "cd8c161.e76ffe8",
        "wires": [
            []
        ]
    },
    {
        "id": "1d6b059f.4c3bfa",
        "type": "save",
        "name": "save connectivity resource in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $uuid.connectivity-otnidx-uuid'>\n<parameter name='connectivity-id' value='`$uuid.connectivity-otnidx-uuid`' />\n<!--<parameter name='etht-svc-name' value='`$prop.ethernet-service-name`' />-->\n<parameter name='operational-status' value='Created' />\n<!--<parameter name='access-provider-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-access-provider-id`' />-->\n<!--<parameter name='access-client-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-access-client-id`' />-->\n<!--<parameter name='access-topology-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-access-topology-id`' />-->\n<!--<parameter name='access-node-id' value='`$tmp.otninfo[$otnidx].srcPort.src-access-node-id`' />-->\n<!--<parameter name='access-ltp-id' value='``' />-->\n<!--<parameter name='cvlan' value='`$tmp.aai.network-route-A.logical-interface-id`' />-->\n\n<!--<parameter name='bandwidth-profile-name' value='`$prop.sotn.etht-svc-name`' />-->\n<parameter name='bandwidth-profile-name' value='`$gfp`' />\n<parameter name='vpn-type' value='dummy' />\n<parameter name='cir' value='`$gfp *1000000`' />\n<parameter name='eir' value='`$gfp *1000000`' />\n<!--<parameter name='cbs' value='`$prop.sotn.cbs`' />-->\n<!--<parameter name='ebs' value='`$prop.sotn.ebs`' />-->\n<!--<parameter name='color-aware' value='`$prop.sotn.colorAware`' />-->\n<!--<parameter name='coupling-flag' value='`$prop.sotn.couplingFlag`' />-->\n<!--<parameter name='etht-svc-name' value='`$prop.sotn.etht-svc-name`' />-->\n<parameter name='model-customization-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-customization-uuid`' />\n<parameter name='model-invariant-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-invariant-uuid`' />\n<parameter name='model-version-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-uuid`' />\n<parameter name='connectivity-selflink' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'  + $network-topology-operation-input.service-information.service-instance-id  + '/service-data/networks/network/'  + $prop.sotn.network-id  + '/network-data/'` \" />\n",
        "comments": "",
        "outputs": 1,
        "x": 4651,
        "y": 3612,
        "z": "cd8c161.e76ffe8",
        "wires": [
            []
        ]
    },
    {
        "id": "3d6ca865.871a5",
        "type": "save",
        "name": "save TNNSSI (transport service instance) relationship to connectivity in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='service-instance:relationship-list' \n      key='service-instance.service-instance-id = $vnf-topology-operation-input.service-information.service-instance-id\n         AND customer.global-customer-id = $vnf-topology-operation-input.service-information.global-customer-id \n         AND service-subscription.service-type = $vnf-topology-operation-input.service-information.subscription-service-type' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"connectivity\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/connectivities/connectivity/' + $uuid.connectivity-otnidx-uuid`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"connectivity.connectivity-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$uuid.connectivity-otnidx-uuid`\" />\n\n\n<!--<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='service-instance:relationship-list' -->\n<!--      key='service-instance.service-instance-id = $service-data.service-information.service-instance-id -->\n<!--         AND customer.global-customer-id = $service-data.networks.network[$nidx].network-data.service-information.global-customer-id -->\n<!--         AND service-subscription.service-type = $service-data.networks.network[$nidx].network-data.service-information.subscription-service-type' -->\n<!--      force=\"true\" pfx=\"tmp.AnAI-data\">-->\n<!--<parameter name=\"relationship-list.relationship[0].related-to\" value=\"connectivity\" />-->\n<!--<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/connectivities/connectivity/' + $prop.sotn.network-id`\" />-->\n<!--<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"connectivity.connectivity-id\" />-->\n<!--<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$prop.sotn.network-id`\" />-->",
        "comments": "",
        "outputs": 1,
        "x": 4780,
        "y": 3662,
        "z": "cd8c161.e76ffe8",
        "wires": [
            []
        ]
    },
    {
        "id": "cd227f8a.a8638",
        "type": "comment",
        "name": "connectivity has not been created for middle domains, so we have to create one",
        "info": "",
        "comments": "",
        "x": 4790,
        "y": 3505,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "bfa230df.6f6f98",
        "type": "save",
        "name": "save connectivity-otnidx relationship to vpn-binding-otnidx, in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding:relationship-list' \n      key='vpn-binding.vpn-id = $prop.vpn-binding-otnidx-uuid' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"connectivity\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/connectivities/connectivity/' + $uuid.connectivity-otnidx-uuid`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"connectivity.connectivity-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$uuid.connectivity-otnidx-uuid`\" />",
        "comments": "",
        "outputs": 1,
        "x": 4748,
        "y": 3721,
        "z": "cd8c161.e76ffe8",
        "wires": [
            []
        ]
    },
    {
        "id": "aff1f53d.8faa",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4387,
        "y": 3529,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "d7d2c7f0.8e25f8",
                "1d6b059f.4c3bfa",
                "3d6ca865.871a5",
                "bfa230df.6f6f98",
                "12522f2b.6fc8b1"
            ]
        ]
    },
    {
        "id": "5f7bc0b4.b38de8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2908,
        "y": 2494,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "585cd143.7d2b8",
                "3340e53d.b2b492",
                "f49c0fd7.2e7c08",
                "f42a2589.31a0b",
                "cc8174a8.50b7f",
                "90db4521.56089",
                "7bd1d477.e03354"
            ]
        ]
    },
    {
        "id": "4e1b8da0.7824b4",
        "type": "set",
        "name": "set attachment_param domain A",
        "xml": "<set>\n<parameter name='slice-instance-id' value='`$tmp.aai.service-instance.service-instance-id`' />\n\n\n\n",
        "comments": "",
        "x": 4265,
        "y": 3077,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "5449eb52.31f6ec",
        "type": "execute",
        "name": "execute RestApiCallNode domainA UNI Coloring",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.ts-coloring-uni-port.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainA.url + '/restconf/data/ietf-network:networks/network=' + $tmp.domainA.eth-network-id + '/node=' + $tmp.src.pnf-name + '/ietf-network-topology:termination-point=' + $tmp.src.ltpId + '/ietf-te-topology:te' `\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainA.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainA.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"patch\"/>\n<parameter name=\"responsePrefix\" value=\"otn-oof\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 4318,
        "y": 3121,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "1830f22c.565b16",
                "d371e563.9b53a"
            ]
        ]
    },
    {
        "id": "d371e563.9b53a",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4589,
        "y": 3106,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "e029f2f6.ad875"
            ]
        ]
    },
    {
        "id": "1830f22c.565b16",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4587.000213623047,
        "y": 3163.99990940094,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "adfa6667.8c9cb"
            ]
        ]
    },
    {
        "id": "e029f2f6.ad875",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing UNI Coloring for domain A\" />\n",
        "comments": "",
        "x": 4729.000247955322,
        "y": 3106.0000009536743,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "adfa6667.8c9cb",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4735.02725982666,
        "y": 3154.745394706726,
        "z": "cd8c161.e76ffe8",
        "wires": [
            []
        ]
    },
    {
        "id": "73494a81.45e24c",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4001,
        "y": 3023,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "4bdc0f0f.14fc9",
                "5449eb52.31f6ec",
                "4e1b8da0.7824b4"
            ]
        ]
    },
    {
        "id": "9791b470.15bff8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4345,
        "y": 3263,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "c78f87c4.9bed48",
                "96e361f0.0cb568",
                "e43c5196.95971"
            ]
        ]
    },
    {
        "id": "e43c5196.95971",
        "type": "set",
        "name": "set attachment_param domain B",
        "xml": "<set>\n<parameter name='slice-instance-id' value='`$tmp.aai.service-instance.service-instance-id`' />\n\n\n",
        "comments": "",
        "x": 4565,
        "y": 3307,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "96e361f0.0cb568",
        "type": "execute",
        "name": "execute RestApiCallNode domainB UNI Coloring",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.ts-coloring-uni-port.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainB.url + '/restconf/data/ietf-network:networks/network=' + $tmp.domainB.eth-network-id + '/node=' + $tmp.dst.pnf-name + '/ietf-network-topology:termination-point=' + $tmp.dst.ltpId + '/ietf-te-topology:te' `\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainB.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainB.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"patch\"/>\n<parameter name=\"responsePrefix\" value=\"otn-oof\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 4616,
        "y": 3351,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "d02e29cf.263e8",
                "ecba049c.afd758"
            ]
        ]
    },
    {
        "id": "ecba049c.afd758",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4879,
        "y": 3331,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "335f23f9.119f0c"
            ]
        ]
    },
    {
        "id": "d02e29cf.263e8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4880.000213623047,
        "y": 3381.99990940094,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "49ab66fd.a6d9f8"
            ]
        ]
    },
    {
        "id": "335f23f9.119f0c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing UNI coloring for domain B\" />\n",
        "comments": "",
        "x": 5019.000247955322,
        "y": 3331.0000009536743,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "49ab66fd.a6d9f8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5025.02725982666,
        "y": 3379.745394706726,
        "z": "cd8c161.e76ffe8",
        "wires": [
            []
        ]
    },
    {
        "id": "12522f2b.6fc8b1",
        "type": "set",
        "name": "set attachment_param domain otnidx",
        "xml": "<set>\n<parameter name='slice-instance-id' value='`$tmp.aai.service-instance.service-instance-id`' />\n\n",
        "comments": "",
        "x": 4662,
        "y": 3781,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "48979781.1681f8",
        "type": "save",
        "name": "get all-vpn-bindings from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"vpn-bindings\"\n\t    key=\"selflink = 'https://aai.onap:8443/aai/v21/network/vpn-bindings\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.all-vpn-bindings\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 1981,
        "y": 4128,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "c2f0d7a5.dddd68",
                "39032723.2690f8",
                "52e0bd76.c6817c"
            ]
        ]
    },
    {
        "id": "c2f0d7a5.dddd68",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2169,
        "y": 4141,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "ab5cddb1.22da4"
            ]
        ]
    },
    {
        "id": "39032723.2690f8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2169.490966796875,
        "y": 4186.574035644531,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "14fe4895.b40197"
            ]
        ]
    },
    {
        "id": "52e0bd76.c6817c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2167,
        "y": 4230,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "b5248481.e522a"
            ]
        ]
    },
    {
        "id": "ab5cddb1.22da4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2342,
        "y": 4139,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "4470cae1.fbd614"
            ]
        ]
    },
    {
        "id": "14fe4895.b40197",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 2332.0623779296875,
        "y": 4186.859771728516,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "b5248481.e522a",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 2334,
        "y": 4229,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "5d2f9da2.d38694",
        "type": "for",
        "name": "for vidx..tmp.otninfo_length[]",
        "xml": "<for index='dmnsidx' start='0' end='`$otn-tunnel-slice_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1970,
        "y": 4319,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "8dfa636a.7429d"
            ]
        ]
    },
    {
        "id": "e79af240.ca6e5",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2780,
        "y": 4319,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "6c6212ef.f90554"
            ]
        ]
    },
    {
        "id": "da3d1785.252e3",
        "type": "for",
        "name": "for vidx..tmp.otninfo_length[]",
        "xml": "<for index='stunidx' start='0' end='`$otn-tunnel-slice[$dmnsidx].list_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2552,
        "y": 4319,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "e79af240.ca6e5"
            ]
        ]
    },
    {
        "id": "14ccf193.a7ba36",
        "type": "set",
        "name": "set providerValue",
        "xml": "<set>\n<parameter name='providerValue' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].access-provider-id`' />\n<parameter name='found' value='false' />\n\n\n",
        "comments": "",
        "x": 3672,
        "y": 4086,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "3ba4980a.a7808",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='testingvalue' value='$tmp.otninfo_length -1' />\n",
        "comments": "",
        "x": 3974,
        "y": 3212,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "d3242d0f.9401e",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3809,
        "y": 3187,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "3ba4980a.a7808",
                "e99682a.c4f64"
            ]
        ]
    },
    {
        "id": "a26db7da.175a4",
        "type": "set",
        "name": "set tmp.arr",
        "xml": "<set>\n<parameter name='tmp.arr' value='' />\n<parameter name='tmp.arridx' value='0' />\n<parameter name='tmp.arr_length' value='0' />\n\n<parameter name='otn-tunnel-slice' value='' />\n<parameter name='otn-tunnel-slice_length' value='0' />\n\n<!--<parameter name='tmp.slicevpns' value='' />-->\n<!--<parameter name='tmp.slicevpns_length' value='0' />-->\n\n<!--<parameter name='tmp.slicevpnuuids' value='' />-->\n<!--<parameter name='tmp.slicevpnuuids.' value='' />-->\n\n\n",
        "comments": "",
        "x": 1929,
        "y": 203,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "4470cae1.fbd614",
        "type": "for",
        "name": "for vpnidx in all-vpn-bindings",
        "xml": "<for index='vpnbidx' start='0' end='`$tmp.aai.all-vpn-bindings.vpn-binding_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2571,
        "y": 4140,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "af51805a.3f6e48"
            ]
        ]
    },
    {
        "id": "af51805a.3f6e48",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2786,
        "y": 4141,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "b29ba493.8896c8"
            ]
        ]
    },
    {
        "id": "de53bb83.199eb",
        "type": "for",
        "name": "for arridx in tmp.arr",
        "xml": "<for index='arridx' start='0' end='`$tmp.arr_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4239,
        "y": 4061,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "204c9a7d.7d28b6"
            ]
        ]
    },
    {
        "id": "4aa9ee27.313a08",
        "type": "switchNode",
        "name": "switch $tmp.arr_length != 0",
        "xml": "<switch test='`$tmp.arr_length != 0`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3705,
        "y": 4141,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "2d961aee.1b3a76",
                "3325a435.f57dbc"
            ]
        ]
    },
    {
        "id": "2d961aee.1b3a76",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3901,
        "y": 4111,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "78c69440.64f1a4"
            ]
        ]
    },
    {
        "id": "3325a435.f57dbc",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3902,
        "y": 4182,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "fefe3e36.023678"
            ]
        ]
    },
    {
        "id": "78c69440.64f1a4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4052,
        "y": 4109,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "de53bb83.199eb",
                "8df94468.3b3aa8"
            ]
        ]
    },
    {
        "id": "204c9a7d.7d28b6",
        "type": "switchNode",
        "name": "switch tmp.arr[$arridx] == $providerValue",
        "xml": "<switch test='`$tmp.arr[$arridx] == $providerValue`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4530,
        "y": 4061,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "c41481ab.88bea8",
                "e1b07d6e.872148"
            ]
        ]
    },
    {
        "id": "c41481ab.88bea8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4805,
        "y": 4030,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "f1ff9d18.303e98"
            ]
        ]
    },
    {
        "id": "e1b07d6e.872148",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4806,
        "y": 4101,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "14131c89.49f9f3"
            ]
        ]
    },
    {
        "id": "f1ff9d18.303e98",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4956,
        "y": 4028,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "40d1e81e.6cc88",
                "dbbf7f90.5aa4c8",
                "83374978.c1c35",
                "d7033d3e.83e278",
                "8b158b61.9a9f58"
            ]
        ]
    },
    {
        "id": "40d1e81e.6cc88",
        "type": "set",
        "name": "set found to true",
        "xml": "<set>\n<parameter name='found' value='true' />\n\n\n",
        "comments": "",
        "x": 5144,
        "y": 3988,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "dbbf7f90.5aa4c8",
        "type": "save",
        "name": "store $arridx somewhere in vpn-binding",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-id' >\n<parameter name='vpn-id' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-id`' />\n<parameter name='vpn-type' value='`$arridx`' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 5216,
        "y": 4033,
        "z": "cd8c161.e76ffe8",
        "wires": [
            []
        ]
    },
    {
        "id": "8b158b61.9a9f58",
        "type": "set",
        "name": "set twoD arr",
        "xml": "<set>\n\n<!--<parameter name='`tmp.arr[$arridx + 1]`' value='`$providerValue`' />-->\n<!--<parameter name='tmp.arr_length' value='`$tmp.arr_length + 1`' />-->\n\n<parameter name='`otn-tunnel-slice[$arridx].list[$sizeOfSliceList].request-id`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-id`' />\n<parameter name='`otn-tunnel-slice[$arridx].list[$sizeOfSliceList].otn-source-node`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].src-access-node-id`' />\n<parameter name='`otn-tunnel-slice[$arridx].list[$sizeOfSliceList].otn-dest-node`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].dst-access-node-id`' />\n<parameter name='`otn-tunnel-slice[$arridx].list[$sizeOfSliceList].bw-odu`' value=\"`'0,' + $gfp`\" />\n<parameter name='`otn-tunnel-slice[$arridx].list[$sizeOfSliceList].src-ttp-id`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].src-access-ltp-id`' />\n<parameter name='`otn-tunnel-slice[$arridx].list[$sizeOfSliceList].dst-ttp-id`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].dst-access-ltp-id`' />\n<parameter name='slice-instance-id' value='`$tmp.aai.service-instance.service-instance-id`' />\n\n<parameter name='`otn-tunnel-slice[$arridx].list[$sizeOfSliceList].domainurl`' value=\"`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-region`\" />\n<parameter name='`otn-tunnel-slice[$arridx].list[$sizeOfSliceList].domainuser`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-description`' />\n<parameter name='`otn-tunnel-slice[$arridx].list[$sizeOfSliceList].domainpassword`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-platform`' />\n\n<!--<parameter name='otn-tunnel-slice_length' value='`$arridx + 2`' />-->\n<parameter name='`otn-tunnel-slice[$arridx].list_length`' value='`$sizeOfSliceList + 1`' />\n\n",
        "comments": "",
        "x": 5131,
        "y": 4160,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "d7033d3e.83e278",
        "type": "set",
        "name": "set sizeOfSliceList",
        "xml": "<set>\n<parameter name='sizeOfSliceList' value='`$otn-tunnel-slice[$arridx].list_length`' />\n\n\n",
        "comments": "",
        "x": 5152,
        "y": 4096,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "fefe3e36.023678",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4054,
        "y": 4182,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "8b5a5937.7b14e8",
                "738e0247.d8b784"
            ]
        ]
    },
    {
        "id": "8b5a5937.7b14e8",
        "type": "save",
        "name": "store $arridx somewhere in vpn-binding",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-id' >\n<parameter name='vpn-id' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-id`' />\n<parameter name='vpn-type' value='0' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4309,
        "y": 4175,
        "z": "cd8c161.e76ffe8",
        "wires": [
            []
        ]
    },
    {
        "id": "738e0247.d8b784",
        "type": "set",
        "name": "set twoD array",
        "xml": "<set>\n<parameter name='tmp.arr[0]' value='`$providerValue`' />\n<parameter name='tmp.arr_length' value='1' />\n\n<parameter name='`otn-tunnel-slice[0].list[0].request-id`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-id`' />\n<parameter name='`otn-tunnel-slice[0].list[0].otn-source-node`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].src-access-node-id`' />\n<parameter name='`otn-tunnel-slice[0].list[0].otn-dest-node`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].dst-access-node-id`' />\n<parameter name='`otn-tunnel-slice[0].list[0].bw-odu`' value=\"`'0,' + $gfp`\" />\n<parameter name='`otn-tunnel-slice[0].list[0].src-ttp-id`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].src-access-ltp-id`' />\n<parameter name='`otn-tunnel-slice[0].list[0].dst-ttp-id`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].dst-access-ltp-id`' />\n<parameter name='slice-instance-id' value='`$tmp.aai.service-instance.service-instance-id`' />\n\n<parameter name='`otn-tunnel-slice[0].list[0].domainurl`' value=\"`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-region`\" />\n<parameter name='`otn-tunnel-slice[0].list[0].domainuser`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-description`' />\n<parameter name='`otn-tunnel-slice[0].list[0].domainpassword`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-platform`' />\n\n<parameter name='otn-tunnel-slice_length' value='1' />\n<parameter name='otn-tunnel-slice[0].list_length' value='1' />\n\n",
        "comments": "",
        "x": 4237,
        "y": 4222,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "8df94468.3b3aa8",
        "type": "switchNode",
        "name": "switch found?",
        "xml": "<switch test='`$found`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4230,
        "y": 4106,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "df11cc3e.1263f",
                "1fe91094.d80647"
            ]
        ]
    },
    {
        "id": "df11cc3e.1263f",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4390,
        "y": 4098,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "6014caa7.dd1974"
            ]
        ]
    },
    {
        "id": "1fe91094.d80647",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4388,
        "y": 4135,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "4b7b9538.9e1144"
            ]
        ]
    },
    {
        "id": "6014caa7.dd1974",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4515,
        "y": 4098,
        "z": "cd8c161.e76ffe8",
        "wires": [
            []
        ]
    },
    {
        "id": "f4cf80fc.6110b8",
        "type": "save",
        "name": "store $arridx+1 somewhere in vpn-binding",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-id' >\n<parameter name='vpn-id' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-id`' />\n<parameter name='vpn-type' value='`$arridx + 1`' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4822,
        "y": 4156,
        "z": "cd8c161.e76ffe8",
        "wires": [
            []
        ]
    },
    {
        "id": "4b7b9538.9e1144",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4548,
        "y": 4143,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "f4cf80fc.6110b8",
                "cb01b96d.902da8"
            ]
        ]
    },
    {
        "id": "cb01b96d.902da8",
        "type": "set",
        "name": "set twoD array",
        "xml": "<set>\n<parameter name='`tmp.arr[$arridx + 1]`' value='`$providerValue`' />\n<parameter name='tmp.arr_length' value='`$tmp.arr_length + 1`' />\n\n<parameter name='`otn-tunnel-slice[$arridx + 1].list[0].request-id`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-id`' />\n<parameter name='`otn-tunnel-slice[$arridx + 1].list[0].otn-source-node`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].src-access-node-id`' />\n<parameter name='`otn-tunnel-slice[$arridx + 1].list[0].otn-dest-node`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].dst-access-node-id`' />\n<parameter name='`otn-tunnel-slice[$arridx + 1].list[0].bw-odu`' value=\"`'0,' + $gfp`\" />\n<parameter name='`otn-tunnel-slice[$arridx + 1].list[0].src-ttp-id`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].src-access-ltp-id`' />\n<parameter name='`otn-tunnel-slice[$arridx + 1].list[0].dst-ttp-id`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].dst-access-ltp-id`' />\n<parameter name='slice-instance-id' value='`$tmp.aai.service-instance.service-instance-id`' />\n\n<parameter name='`otn-tunnel-slice[$arridx + 1].list[0].domainurl`' value=\"`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-region`\" />\n<parameter name='`otn-tunnel-slice[$arridx + 1].list[0].domainuser`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-description`' />\n<parameter name='`otn-tunnel-slice[$arridx + 1].list[0].domainpassword`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-platform`' />\n\n<parameter name='otn-tunnel-slice_length' value='`$arridx + 2`' />\n<parameter name='`otn-tunnel-slice[$arridx + 1].list_length`' value='1' />\n\n",
        "comments": "",
        "x": 4739,
        "y": 4202,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "14131c89.49f9f3",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4939,
        "y": 4100,
        "z": "cd8c161.e76ffe8",
        "wires": [
            []
        ]
    },
    {
        "id": "83374978.c1c35",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 5110,
        "y": 4227,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "f42a2589.31a0b",
        "type": "switchNode",
        "name": "switch dstPort == NULL",
        "xml": "<switch test=\"`$tmp.otninfo[$otnidx].dstPort.dst-access-provider-id == ''`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3515,
        "y": 2485,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "ac6a7600.1391a8",
                "6c99c1a3.b2c848"
            ]
        ]
    },
    {
        "id": "ac6a7600.1391a8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3881,
        "y": 2446,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "c094d1a4.3a348"
            ]
        ]
    },
    {
        "id": "6c99c1a3.b2c848",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3882,
        "y": 2492,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "11e69cf.d047563"
            ]
        ]
    },
    {
        "id": "c094d1a4.3a348",
        "type": "set",
        "name": "set access-provider-id and client-id",
        "xml": "<set>\n<parameter name='tmp.access-provider-id' value='`$tmp.otninfo[$otnidx].srcPort.src-access-provider-id`' />\n<parameter name='tmp.access-client-id' value='`$tmp.otninfo[$otnidx].srcPort.src-access-client-id`' />\n<parameter name='tmp.access-topology-id' value='`$tmp.otninfo[$otnidx].srcPort.src-access-topology-id`' />\n<parameter name='tmp.srcdstpnf-id' value='`$tmp.otninfo[$otnidx].srcPort.src-access-node-id`' />\n",
        "comments": "",
        "x": 4095,
        "y": 2445,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "11e69cf.d047563",
        "type": "set",
        "name": "set access-provider-id and client-id",
        "xml": "<set>\n<parameter name='tmp.access-provider-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-access-provider-id`' />\n<parameter name='tmp.access-client-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-access-client-id`' />\n<parameter name='tmp.access-topology-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-access-topology-id`' />\n<parameter name='tmp.srcdstpnf-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-access-node-id`' />\n",
        "comments": "",
        "x": 4093,
        "y": 2490,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "6c6212ef.f90554",
        "type": "set",
        "name": "set attachment_param sliceG",
        "xml": "<set>\n<parameter name='`otn-tunnel-sliceG-list[$stunidx].request-id`' value='`$otn-tunnel-slice[$dmnsidx].list[$stunidx].request-id`' />\n<parameter name='`otn-tunnel-sliceG-list[$stunidx].otn-source-node`' value='`$otn-tunnel-slice[$dmnsidx].list[$stunidx].otn-source-node`' />\n<parameter name='`otn-tunnel-sliceG-list[$stunidx].otn-dest-node`' value='`$otn-tunnel-slice[$dmnsidx].list[$stunidx].otn-dest-node`' />\n<parameter name='`otn-tunnel-sliceG-list[$stunidx].bw-odu`' value=\"`$otn-tunnel-slice[$dmnsidx].list[$stunidx].bw-odu`\" />\n<parameter name='`otn-tunnel-sliceG-list[$stunidx].src-ttp-id`' value='`$otn-tunnel-slice[$dmnsidx].list[$stunidx].src-ttp-id`' />\n<parameter name='`otn-tunnel-sliceG-list[$stunidx].dst-ttp-id`' value='`$otn-tunnel-slice[$dmnsidx].list[$stunidx].dst-ttp-id`' />\n<parameter name='slice-instance-id' value='`$tmp.aai.service-instance.service-instance-id`' />\n\n<parameter name='otn-tunnel-sliceG-list_length' value='`$stunidx + 1`' />\n\n\n<parameter name=\"tmp.domainG.restapiUrl\" value=\"`$otn-tunnel-slice[$dmnsidx].list[$stunidx].domainurl`\" />\n<parameter name=\"tmp.domainG.restapiUser\" value=\"`$otn-tunnel-slice[$dmnsidx].list[$stunidx].domainuser`\" />\n<parameter name=\"tmp.domainG.restapiPassword\" value=\"`$otn-tunnel-slice[$dmnsidx].list[$stunidx].domainpassword`\" />",
        "comments": "",
        "x": 3033,
        "y": 4317,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "a54ce659.29b108",
        "type": "execute",
        "name": "execute RestApiCallNode sliceG creation domainG",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.transport-sliceG-list-creation.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$tmp.domainG.restapiUrl + '/restconf/operations/ietf-optical-slice:create-optical-slice'`\" />\n<parameter name=\"restapiUser\" value=\"`$tmp.domainG.restapiUser`\" />\n<parameter name=\"restapiPassword\" value=\"`tmp.domainG.restapiPassword`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"otn-oof\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2618,
        "y": 4425,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "3fa26ce7.7e0224",
                "b2b0e72c.a11478"
            ]
        ]
    },
    {
        "id": "b2b0e72c.a11478",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2901,
        "y": 4405,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "fa1f56ce.f832c8"
            ]
        ]
    },
    {
        "id": "3fa26ce7.7e0224",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2902.000213623047,
        "y": 4455.99990940094,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "50896aad.7e40ec"
            ]
        ]
    },
    {
        "id": "fa1f56ce.f832c8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing slice creation api for domain A\" />\n",
        "comments": "",
        "x": 3041.0002479553223,
        "y": 4405.000000953674,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "50896aad.7e40ec",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3047.02725982666,
        "y": 4453.745394706726,
        "z": "cd8c161.e76ffe8",
        "wires": [
            []
        ]
    },
    {
        "id": "cc8174a8.50b7f",
        "type": "set",
        "name": "set srcdstpnf-name",
        "xml": "<set>\n<parameter name='tmp.srcdstpnf-name' value=\"`'networkId-providerId-' + \n                                             $tmp.access-provider-id + '-clientId-' +\n                                             $tmp.access-client-id + '-topologyId-' + \n                                             $tmp.access-topology-id + '-nodeId-' + \n                                             $tmp.srcdstpnf-id`\" />\n\n",
        "comments": "",
        "x": 3691,
        "y": 2559,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "90db4521.56089",
        "type": "get-resource",
        "name": "get-resource tmp.srcdstpnf-name",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.srcdstpnf-name\"\n        pfx='tmp.aai.srcdst-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3735,
        "y": 2607,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "3240cb0e.b7a8d4",
                "f04379f7.8df68",
                "3ab1dbdc.5ba7f4"
            ]
        ]
    },
    {
        "id": "3240cb0e.b7a8d4",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3947.5,
        "y": 2554,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "e8a8f72b.6c9a08"
            ]
        ]
    },
    {
        "id": "f04379f7.8df68",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3959.5,
        "y": 2604,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "b12e923.fc82e7"
            ]
        ]
    },
    {
        "id": "3ab1dbdc.5ba7f4",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3950.5,
        "y": 2659,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "582f59ae.92f2a8"
            ]
        ]
    },
    {
        "id": "582f59ae.92f2a8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4095.5,
        "y": 2658,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "b12e923.fc82e7",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4106.5,
        "y": 2601,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "e8a8f72b.6c9a08",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4072.8824462890625,
        "y": 2547.6556701660156,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "212a31bf.dceac6"
            ]
        ]
    },
    {
        "id": "935dfeb6.9be7f8",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4632,
        "y": 2566,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "1328892f.88f617"
            ]
        ]
    },
    {
        "id": "1328892f.88f617",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4809,
        "y": 2558,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "6a8226d0.94ebf",
                "3a8b4f5e.be2aa8"
            ]
        ]
    },
    {
        "id": "212a31bf.dceac6",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='spvidx' start='0' end='`$tmp.aai.srcdst-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4234,
        "y": 2562,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "384efd0c.a6d9aa"
            ]
        ]
    },
    {
        "id": "384efd0c.a6d9aa",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.srcdst-pnf.relationship-list.relationship[$spvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4429,
        "y": 2562,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "935dfeb6.9be7f8"
            ]
        ]
    },
    {
        "id": "3a8b4f5e.be2aa8",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domainG.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domainG.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 5017,
        "y": 2565,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "a2f18412.fa34",
                "938b13a9.db22e",
                "e46fd8a5.7a34e8"
            ]
        ]
    },
    {
        "id": "6a8226d0.94ebf",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domainG id",
        "xml": "<set>\n<parameter name='tmp.domainG.esr-thirdparty-id' value=\"`$tmp.aai.srcdst-pnf.relationship-list.relationship[$spvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 5047,
        "y": 2513,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "a2f18412.fa34",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5227,
        "y": 2556,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "dfc55645.4078e"
            ]
        ]
    },
    {
        "id": "938b13a9.db22e",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5219,
        "y": 2611,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "ad8534e.8f07fc8"
            ]
        ]
    },
    {
        "id": "e46fd8a5.7a34e8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5224,
        "y": 2668,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "292bb9fe.d0f886"
            ]
        ]
    },
    {
        "id": "292bb9fe.d0f886",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5376,
        "y": 2669,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "ad8534e.8f07fc8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5387,
        "y": 2614,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "dfc55645.4078e",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5371.38232421875,
        "y": 2553.6556701660156,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "295d998d.b4f986"
            ]
        ]
    },
    {
        "id": "295d998d.b4f986",
        "type": "set",
        "name": "set controller domainA data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainG.url' value=\"`$tmp.aai.domainG.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainG.user' value=\"`$tmp.aai.domainG.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainG.password' value=\"`$tmp.aai.domainG.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 5586,
        "y": 2550,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "8dfa636a.7429d",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2202,
        "y": 4317,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "da3d1785.252e3",
                "a54ce659.29b108"
            ]
        ]
    },
    {
        "id": "7bd1d477.e03354",
        "type": "switchNode",
        "name": "switch dmnsidx == 0 (domainA)",
        "xml": "<switch test='`$otnidx == 0`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3705,
        "y": 2776,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "3ed7d0cf.bd363",
                "60e3c11b.60b2b8"
            ]
        ]
    },
    {
        "id": "3ed7d0cf.bd363",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3906,
        "y": 2774,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "c5282b2e.c25f08"
            ]
        ]
    },
    {
        "id": "7fc9a02.f9a08e",
        "type": "set",
        "name": "set pce-src-node",
        "xml": "<set>\n<parameter name='tmp.pce-src-node' value='`$tmp.srcdstpnf-name`' />",
        "comments": "",
        "x": 4187,
        "y": 2724,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "6fcb3e30.7095c8",
        "type": "switchNode",
        "name": "switch dmnsidx == last (domainB)",
        "xml": "<switch test='`$otnidx == $tmp.otninfo_length - 1`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4123,
        "y": 2825,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "65a08e4c.a1dc",
                "640adf38.eff8b"
            ]
        ]
    },
    {
        "id": "65a08e4c.a1dc",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4353,
        "y": 2821,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "4413ca18.7ca70c"
            ]
        ]
    },
    {
        "id": "8da31065.a87e4",
        "type": "set",
        "name": "set attachment_param domain B",
        "xml": "<set>\n<parameter name='tmp.domainG-src-access-node-id' value='`$tmp.otninfo[$otnidx].srcPort.src-access-node-id`' />\n<parameter name='tmp.domainG-dst-access-node-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -3]`' />",
        "comments": "",
        "x": 4690,
        "y": 2765,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "60e3c11b.60b2b8",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3906,
        "y": 2823,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "6fcb3e30.7095c8"
            ]
        ]
    },
    {
        "id": "640adf38.eff8b",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4354,
        "y": 2867,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "7faf9acd.559b34"
            ]
        ]
    },
    {
        "id": "7faf9acd.559b34",
        "type": "set",
        "name": "set attachment_param domain G",
        "xml": "<set>\n<parameter name='tmp.domainG-src-access-node-id' value='`$tmp.otninfo[$otnidx].srcPort.src-access-node-id`' />\n<parameter name='tmp.domainG-dst-access-node-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-access-node-id`' />",
        "comments": "",
        "x": 4568,
        "y": 2867,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "9723f206.45f868",
        "type": "set",
        "name": "set tmp.slicevpns",
        "xml": "<set>\n<parameter name='`tmp.slicevpns[$tmp.slicevpns_length]`' value=\"`$prop.vpn-binding-otnidx-uuid`\" />\n<parameter name='tmp.slicevpns_length' value=\"`$tmp.slicevpns_length + 1`\" />\n\n<parameter name='`tmp.slicevpnuuids[$prop.vpn-binding-otnidx-uuid]`' value=\"`$prop.vpn-binding-otnidx-uuid`\" />\n\n",
        "comments": "",
        "x": 4466,
        "y": 2916,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "b29ba493.8896c8",
        "type": "switchNode",
        "name": "switch vpnuuid is for this slice",
        "xml": "<!--<switch test=\"`$tmp.slicevpnuuids[$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-id] != '' `\">-->\n\n<!-- Replace vpn-type with slice-id (a new attribbute in the latest AAI) -->\n<switch test=\"`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].ops-note == $tmp.aai.service-instance.service-instance-id `\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3030,
        "y": 4140,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "174edd69.713c5b",
                "af581154.4e753"
            ]
        ]
    },
    {
        "id": "174edd69.713c5b",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3247,
        "y": 4119,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "53925b1.87893a4"
            ]
        ]
    },
    {
        "id": "af581154.4e753",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3247,
        "y": 4168,
        "z": "cd8c161.e76ffe8",
        "wires": [
            []
        ]
    },
    {
        "id": "53925b1.87893a4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3415,
        "y": 4119,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "14ccf193.a7ba36",
                "4aa9ee27.313a08"
            ]
        ]
    },
    {
        "id": "2f0ddb5a.e806c4",
        "type": "set",
        "name": "set attachment_param domain A",
        "xml": "<set>\n<parameter name='tmp.domainG-src-access-node-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -3]`' />\n<parameter name='tmp.domainG-dst-access-node-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-access-node-id`' />",
        "comments": "",
        "x": 4242,
        "y": 2771,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "c5282b2e.c25f08",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4030,
        "y": 2765,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "2f0ddb5a.e806c4"
            ]
        ]
    },
    {
        "id": "60f94c1c.9e2504",
        "type": "set",
        "name": "set pce-src-node",
        "xml": "<set>\n<parameter name='tmp.pce-dst-node' value='`$tmp.srcdstpnf-name`' />",
        "comments": "",
        "x": 4642,
        "y": 2813,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "4413ca18.7ca70c",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4486,
        "y": 2797,
        "z": "cd8c161.e76ffe8",
        "wires": [
            [
                "8da31065.a87e4"
            ]
        ]
    },
    {
        "id": "93c183ce.0a9ed8",
        "type": "get-resource",
        "name": "get-resource pnfs-list",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"pnfs\"\n\t    key=\"selflink = 'https://aai.onap:8443/aai/v21/network/pnfs?depth=0'\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"ccsdkTopopnfs\" >",
        "comments": "",
        "outputs": 1,
        "x": 1972,
        "y": 62,
        "z": "cd8c161.e76ffe8",
        "wires": [
            []
        ]
    },
    {
        "id": "5d8a5506.b8ac8c",
        "type": "get-resource",
        "name": "get-resource logical-links",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"logical-links\"\n\t    key=\"selflink = 'https://aai.onap:8443/aai/v21/network/logical-links?depth=0'\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"ccsdkTopologicalLinks\" >",
        "comments": "",
        "outputs": 1,
        "x": 1984,
        "y": 103,
        "z": "cd8c161.e76ffe8",
        "wires": [
            []
        ]
    },
    {
        "id": "307d8c13.43fe3c",
        "type": "comment",
        "name": "The following two nodes are for PCE",
        "info": "",
        "comments": "",
        "x": 2008,
        "y": 25,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "86333e24.199f7",
        "type": "set",
        "name": "set tmp.arr",
        "xml": "<set>\n<parameter name='tmp.arr.' value='' />\n<parameter name='tmp.arridx' value='0' />\n<parameter name='otn-tunnel-slice.' value='' />\n\n\n",
        "comments": "",
        "x": 1929,
        "y": 149,
        "z": "cd8c161.e76ffe8",
        "wires": []
    },
    {
        "id": "63cf541.20dacac",
        "type": "execute",
        "name": "execute printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n    <parameter name=\"filename\" value=\"`$filenamemm`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2615,
        "y": 2432,
        "z": "cd8c161.e76ffe8",
        "wires": [
            []
        ]
    }
]