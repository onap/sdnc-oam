[
    {
        "id": "35adbdc5.188712",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 151,
        "y": 71,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "4297efa6.c41f88"
            ]
        ]
    },
    {
        "id": "4297efa6.c41f88",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 282.2856903076172,
        "y": 120.23810863494873,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "2ad96203.21cf3e"
            ]
        ]
    },
    {
        "id": "2ad96203.21cf3e",
        "type": "method",
        "name": "method tsli-vnf-topology-operation-trans-slice-deactivate",
        "xml": "<method rpc='tsli-vnf-topology-operation-trans-slice-deactivate' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 285.4286193847656,
        "y": 205.00003242492676,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "c5e49e9b.1b684"
            ]
        ]
    },
    {
        "id": "c5e49e9b.1b684",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 435.238037109375,
        "y": 334.6666564941406,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "10e90581.65923a",
                "8d427e09.40c998",
                "2dc96b18.12e1c4"
            ]
        ]
    },
    {
        "id": "10e90581.65923a",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 709.5716552734375,
        "y": 601.59716796875,
        "z": "429f9ba7.310ba4",
        "wires": []
    },
    {
        "id": "dce41eb4.903f08",
        "type": "comment",
        "name": "new for TransportSlicing",
        "info": "",
        "comments": "",
        "x": 741,
        "y": 276,
        "z": "429f9ba7.310ba4",
        "wires": []
    },
    {
        "id": "8d427e09.40c998",
        "type": "save",
        "name": "get service-instance from aai",
        "xml": "<!--<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" -->\n<!--\tresource=\"service-instance\"-->\n<!--\tkey='service-instance.service-instance-id = $service-data.vnfs.vnf[$tmp.vidx].vnf-data.service-information.service-instance-id-->\n<!--         AND customer.global-customer-id = $service-data.vnfs.vnf[$tmp.vidx].vnf-data.service-information.global-customer-id -->\n<!--         AND service-subscription.service-type = $service-data.vnfs.vnf[$tmp.vidx].vnf-data.service-information.subscription-service-type'-->\n<!--\tlocal-only=\"false\"-->\n<!--\tforce=\"true\" pfx=\"tmp.aai.service-instance\">-->\n\n<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"service-instance\"\n\tkey='service-instance.service-instance-id = $vnf-topology-operation-input.service-information.service-instance-id\n         AND customer.global-customer-id = $vnf-topology-operation-input.service-information.global-customer-id \n         AND service-subscription.service-type = $vnf-topology-operation-input.service-information.subscription-service-type'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.service-instance\">\n\n\n<!--vnf-topology-operation-input.service-information.service-instance-id-->",
        "comments": "",
        "outputs": 1,
        "x": 761,
        "y": 372,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "97ab3694.d0f87",
                "60789fd.ed86ae",
                "353d8e4b.1a199a"
            ]
        ]
    },
    {
        "id": "97ab3694.d0f87",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 980,
        "y": 310,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "8832c029.be5808"
            ]
        ]
    },
    {
        "id": "60789fd.ed86ae",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 989.490966796875,
        "y": 352.57403564453125,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "2dd666f1.60f502"
            ]
        ]
    },
    {
        "id": "353d8e4b.1a199a",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 978,
        "y": 399,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "2d743c83.0345fc"
            ]
        ]
    },
    {
        "id": "2dd666f1.60f502",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 1143.0623779296875,
        "y": 355.8597717285156,
        "z": "429f9ba7.310ba4",
        "wires": []
    },
    {
        "id": "2d743c83.0345fc",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 1147,
        "y": 400,
        "z": "429f9ba7.310ba4",
        "wires": []
    },
    {
        "id": "8832c029.be5808",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for index='rel-index' start='0' end='`$tmp.aai.service-instance.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1177,
        "y": 306,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "16acb367.7a1ddd"
            ]
        ]
    },
    {
        "id": "16acb367.7a1ddd",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.service-instance.relationship-list.relationship[$rel-index].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1400.33349609375,
        "y": 305.99993896484375,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "a7a6102a.ba70f"
            ]
        ]
    },
    {
        "id": "a7a6102a.ba70f",
        "type": "outcome",
        "name": "connectivity",
        "xml": "<outcome value='connectivity'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1601.0001335144043,
        "y": 307.00002098083496,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "792a8c98.1e353c"
            ]
        ]
    },
    {
        "id": "2dc96b18.12e1c4",
        "type": "execute",
        "name": "execute properties",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />",
        "comments": "",
        "outputs": 1,
        "x": 727,
        "y": 320,
        "z": "429f9ba7.310ba4",
        "wires": [
            []
        ]
    },
    {
        "id": "792a8c98.1e353c",
        "type": "save",
        "name": "get connectivity from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"connectivity\"\n\t    key=\"connectivity.connectivity-id = $tmp.aai.service-instance.relationship-list.relationship[$rel-index].relationship-data[0].relationship-value\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.connectivity\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 1839,
        "y": 309,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "e0088aed.90cab8",
                "1c511732.20d971",
                "948f74b1.a9b47"
            ]
        ]
    },
    {
        "id": "e0088aed.90cab8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2047,
        "y": 273,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "a90c3215.92b4f8"
            ]
        ]
    },
    {
        "id": "1c511732.20d971",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2047.490966796875,
        "y": 318.57403564453125,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "4591cc1.5281eb4"
            ]
        ]
    },
    {
        "id": "948f74b1.a9b47",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2045,
        "y": 362,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "1ba65af4.0c86f5"
            ]
        ]
    },
    {
        "id": "4591cc1.5281eb4",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 2210.0623779296875,
        "y": 318.8597717285156,
        "z": "429f9ba7.310ba4",
        "wires": []
    },
    {
        "id": "1ba65af4.0c86f5",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 2214,
        "y": 363,
        "z": "429f9ba7.310ba4",
        "wires": []
    },
    {
        "id": "782d486c.7b38a",
        "type": "save",
        "name": "get vpn-binding from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"vpn-binding\"\n\t    key=\"vpn-binding.vpn-id = $tmp.aai.connectivity.relationship-list.relationship[$cridx].relationship-data[0].relationship-value\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.vpn-binding\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 2520,
        "y": 362,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "15707889.fb5fe7",
                "3ccb184b.88e97",
                "5e6c2e34.e2f08"
            ]
        ]
    },
    {
        "id": "d4d2edf0.a9661",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2904,
        "y": 362,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "c5e1a2b5.98a7e",
                "2ecd6ddc.b6312a",
                "ac181d39.64071",
                "31912d21.99f9da"
            ]
        ]
    },
    {
        "id": "15707889.fb5fe7",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2731,
        "y": 364,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "d4d2edf0.a9661"
            ]
        ]
    },
    {
        "id": "3ccb184b.88e97",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2731.490966796875,
        "y": 409.57403564453125,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "3858d983.a7895e"
            ]
        ]
    },
    {
        "id": "5e6c2e34.e2f08",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2729,
        "y": 453,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "399a5685.b9c2da"
            ]
        ]
    },
    {
        "id": "399a5685.b9c2da",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 2896,
        "y": 452,
        "z": "429f9ba7.310ba4",
        "wires": []
    },
    {
        "id": "3858d983.a7895e",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 2894.0623779296875,
        "y": 409.8597717285156,
        "z": "429f9ba7.310ba4",
        "wires": []
    },
    {
        "id": "a90c3215.92b4f8",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='cridx' start='0' end='`$tmp.aai.connectivity.relationship-list.relationship_length`' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2248,
        "y": 268,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "3cc76d7e.6842ea"
            ]
        ]
    },
    {
        "id": "3cc76d7e.6842ea",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.connectivity.relationship-list.relationship[$cridx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2453,
        "y": 268,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "ff010487.c79c18"
            ]
        ]
    },
    {
        "id": "ff010487.c79c18",
        "type": "outcome",
        "name": "vpn-binding",
        "xml": "<outcome value='vpn-binding'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2619,
        "y": 268,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "157282a.839557d"
            ]
        ]
    },
    {
        "id": "157282a.839557d",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2782,
        "y": 268,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "782d486c.7b38a"
            ]
        ]
    },
    {
        "id": "c5e1a2b5.98a7e",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.domain.pnf-name' value=\"`'networkId-providerId-' +\n                                                   $tmp.aai.vpn-binding.access-provider-id + '-clientId-' +\n                                                   $tmp.aai.vpn-binding.access-client-id + '-topologyId-' +\n                                                   $tmp.aai.vpn-binding.access-topology-id + '-nodeId-' +\n                                                   $tmp.aai.vpn-binding.src-access-node-id`\" />\n",
        "comments": "",
        "x": 3119,
        "y": 72,
        "z": "429f9ba7.310ba4",
        "wires": []
    },
    {
        "id": "2ecd6ddc.b6312a",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.domain.pnf-name\"\n        pfx='tmp.aai.source-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3145,
        "y": 189,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "ca0e4afa.297db8",
                "cbb19a06.cce2d",
                "10037902.a01617"
            ]
        ]
    },
    {
        "id": "ca0e4afa.297db8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3340.5001220703125,
        "y": 141,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "82598cca.05691"
            ]
        ]
    },
    {
        "id": "cbb19a06.cce2d",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3332.5001220703125,
        "y": 196,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "3a772cbc.39a31c"
            ]
        ]
    },
    {
        "id": "82598cca.05691",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3484.8824462890625,
        "y": 140.65567016601562,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "b1b02bec.6d78a8"
            ]
        ]
    },
    {
        "id": "b1b02bec.6d78a8",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='spvidx' start='0' end='`$tmp.aai.source-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3669,
        "y": 139,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "cda97533.ab0b4"
            ]
        ]
    },
    {
        "id": "cda97533.ab0b4",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3864,
        "y": 139,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "60c8c7.3864ef38"
            ]
        ]
    },
    {
        "id": "10037902.a01617",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3337.5001220703125,
        "y": 253,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "cae2235d.64e0e8"
            ]
        ]
    },
    {
        "id": "cae2235d.64e0e8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 3489.5001220703125,
        "y": 254,
        "z": "429f9ba7.310ba4",
        "wires": []
    },
    {
        "id": "3a772cbc.39a31c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 3500.5001220703125,
        "y": 197,
        "z": "429f9ba7.310ba4",
        "wires": []
    },
    {
        "id": "3932cb1e.2bf12c",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domain.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domain.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 4452,
        "y": 156,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "df685905.e165b",
                "98483c83.1f67f",
                "34f5861b.c6c222"
            ]
        ]
    },
    {
        "id": "9b3be3e2.33ea88",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4246,
        "y": 143,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "8f73936e.04261",
                "3932cb1e.2bf12c",
                "dea89443.748068"
            ]
        ]
    },
    {
        "id": "8f73936e.04261",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domain id",
        "xml": "<set>\n<parameter name='tmp.domain.esr-thirdparty-id' value=\"`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 4482,
        "y": 104,
        "z": "429f9ba7.310ba4",
        "wires": []
    },
    {
        "id": "df685905.e165b",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4662,
        "y": 147,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "6f3db9ae.c9f3c"
            ]
        ]
    },
    {
        "id": "98483c83.1f67f",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4654,
        "y": 202,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "deb93f9d.19a93"
            ]
        ]
    },
    {
        "id": "34f5861b.c6c222",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4659,
        "y": 259,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "e2596edd.60dea"
            ]
        ]
    },
    {
        "id": "e2596edd.60dea",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4811,
        "y": 260,
        "z": "429f9ba7.310ba4",
        "wires": []
    },
    {
        "id": "deb93f9d.19a93",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4822,
        "y": 205,
        "z": "429f9ba7.310ba4",
        "wires": []
    },
    {
        "id": "6f3db9ae.c9f3c",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4806.38232421875,
        "y": 144.65567016601562,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "ba0d3a6b.6f8058"
            ]
        ]
    },
    {
        "id": "60c8c7.3864ef38",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4067,
        "y": 143,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "9b3be3e2.33ea88"
            ]
        ]
    },
    {
        "id": "ba0d3a6b.6f8058",
        "type": "set",
        "name": "set controller domain data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.url' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.user' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.password' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 5021,
        "y": 141,
        "z": "429f9ba7.310ba4",
        "wires": []
    },
    {
        "id": "dea89443.748068",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 4402,
        "y": 220,
        "z": "429f9ba7.310ba4",
        "wires": []
    },
    {
        "id": "ebf8dd2b.b4f9e8",
        "type": "execute",
        "name": "execute RestApiCallNode Delete ethernet Service without token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.url + '/restconf/data/ietf-eth-tran-service:etht-svc/etht-svc-instances=' + $tmp.aai.connectivity.etht-svc-name`\" />\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.restapi.connection-oof-url`\" />-->\n<!--<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sotn-ethernet-service.json'`\" />-->\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"delete\"/>\n<parameter name='dirPath' value=\"/opt/onap/sdnc/restconfapi/yang\" />\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3780,
        "y": 569,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "aec92995.7e9f5",
                "4c597ddc.e2cc64"
            ]
        ]
    },
    {
        "id": "aec92995.7e9f5",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4126.5,
        "y": 562,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "1a195df1.8c796a"
            ]
        ]
    },
    {
        "id": "4c597ddc.e2cc64",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4130.5,
        "y": 602,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "5902bc86.ae718c"
            ]
        ]
    },
    {
        "id": "5902bc86.ae718c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4288,
        "y": 602,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "a5eabc9d.2ead",
                "845fd62d.b8a278"
            ]
        ]
    },
    {
        "id": "1a195df1.8c796a",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing delete ethernet service rest api\" />\n",
        "comments": "",
        "x": 4284.5,
        "y": 562,
        "z": "429f9ba7.310ba4",
        "wires": []
    },
    {
        "id": "a5eabc9d.2ead",
        "type": "save",
        "name": "update vpn-binding resource (aka. OTN domainA) in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $tmp.aai.vpn-binding.vpn-id' >\n<parameter name='vpn-id' value='`$tmp.aai.vpn-binding.vpn-id`' />\n<parameter name='vpn-name' value='`$tmp.aai.vpn-binding.vpn-name`' />\n\n<parameter name='operational-status' value='Deactivated' />\n",
        "comments": "",
        "outputs": 1,
        "x": 4616.5,
        "y": 602,
        "z": "429f9ba7.310ba4",
        "wires": [
            []
        ]
    },
    {
        "id": "845fd62d.b8a278",
        "type": "save",
        "name": "update connectivity resource in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $tmp.aai.connectivity.connectivity-id'>\n<parameter name='connectivity-id' value='`$tmp.aai.connectivity.connectivity-id`' />\n<parameter name='operational-status' value='Deactivated' />\n",
        "comments": "",
        "outputs": 1,
        "x": 4543.5,
        "y": 648,
        "z": "429f9ba7.310ba4",
        "wires": [
            []
        ]
    },
    {
        "id": "ac181d39.64071",
        "type": "execute",
        "name": "execute RestApiCallNode Delete OTN tunnel with token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<!--<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.ts-otn-src-domain-creation.templatefile`\" />-->\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.url + '/restconf/data/ietf-te:te/tunnels/tunnel=' + $tmp.aai.vpn-binding.vpn-name`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"delete\"/>\n<parameter name=\"responsePrefix\" value=\"otn-oof\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 3248,
        "y": 456,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "2d9a43b7.aafd44",
                "70183a3.2a6c244"
            ]
        ]
    },
    {
        "id": "2d9a43b7.aafd44",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3580.5,
        "y": 426,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "2ca3b71b.283058"
            ]
        ]
    },
    {
        "id": "70183a3.2a6c244",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3585.5,
        "y": 491,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "7560af7d.2c0028"
            ]
        ]
    },
    {
        "id": "2ca3b71b.283058",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing delete OTN tunnel rest api\" />\n",
        "comments": "",
        "x": 3756.5,
        "y": 426,
        "z": "429f9ba7.310ba4",
        "wires": []
    },
    {
        "id": "7560af7d.2c0028",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3752,
        "y": 491,
        "z": "429f9ba7.310ba4",
        "wires": [
            []
        ]
    },
    {
        "id": "31912d21.99f9da",
        "type": "switchNode",
        "name": "switch connectivity has ethernet service",
        "xml": "<switch test='`$tmp.aai.connectivity.etht-svc-name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3186,
        "y": 591,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "8e1bec91.730a68",
                "6d4b827f.139444"
            ]
        ]
    },
    {
        "id": "6d4b827f.139444",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3439,
        "y": 569,
        "z": "429f9ba7.310ba4",
        "wires": [
            [
                "ebf8dd2b.b4f9e8"
            ]
        ]
    },
    {
        "id": "8e1bec91.730a68",
        "type": "outcome",
        "name": "Null",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 3439,
        "y": 625,
        "z": "429f9ba7.310ba4",
        "wires": [
            []
        ]
    }
]