[
    {
        "id": "aff24c57.82823",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 137,
        "y": 87,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "cead96fb.e8dbd8"
            ]
        ]
    },
    {
        "id": "cead96fb.e8dbd8",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 268.2856903076172,
        "y": 136.23810863494873,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "f33f007a.ddfeb"
            ]
        ]
    },
    {
        "id": "f33f007a.ddfeb",
        "type": "method",
        "name": "method tsli-vnf-topology-operation-trans-slice-deactivate",
        "xml": "<method rpc='tsli-vnf-topology-operation-trans-slice-deactivate' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 271.4286193847656,
        "y": 221.00003242492676,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "c2692281.2e03c"
            ]
        ]
    },
    {
        "id": "c2692281.2e03c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 421.238037109375,
        "y": 350.6666564941406,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "114b6c5d.64d20c",
                "f27e6da1.6477",
                "5bf17e9d.d43418"
            ]
        ]
    },
    {
        "id": "114b6c5d.64d20c",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 695.5716552734375,
        "y": 617.59716796875,
        "z": "973adb8c.e1e518",
        "wires": []
    },
    {
        "id": "f470d27.b1be9b",
        "type": "comment",
        "name": "new for TransportSlicing",
        "info": "",
        "comments": "",
        "x": 727,
        "y": 292,
        "z": "973adb8c.e1e518",
        "wires": []
    },
    {
        "id": "f27e6da1.6477",
        "type": "save",
        "name": "get service-instance from aai",
        "xml": "<!--<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" -->\n<!--\tresource=\"service-instance\"-->\n<!--\tkey='service-instance.service-instance-id = $service-data.vnfs.vnf[$tmp.vidx].vnf-data.service-information.service-instance-id-->\n<!--         AND customer.global-customer-id = $service-data.vnfs.vnf[$tmp.vidx].vnf-data.service-information.global-customer-id -->\n<!--         AND service-subscription.service-type = $service-data.vnfs.vnf[$tmp.vidx].vnf-data.service-information.subscription-service-type'-->\n<!--\tlocal-only=\"false\"-->\n<!--\tforce=\"true\" pfx=\"tmp.aai.service-instance\">-->\n\n<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"service-instance\"\n\tkey='service-instance.service-instance-id = $vnf-topology-operation-input.service-information.service-instance-id\n         AND customer.global-customer-id = $vnf-topology-operation-input.service-information.global-customer-id \n         AND service-subscription.service-type = $vnf-topology-operation-input.service-information.subscription-service-type'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.service-instance\">\n\n\n<!--vnf-topology-operation-input.service-information.service-instance-id-->",
        "comments": "",
        "outputs": 1,
        "x": 747,
        "y": 388,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "7269ea10.8ecaa4",
                "518c2c34.9a6a14",
                "d42c62ff.6bda7"
            ]
        ]
    },
    {
        "id": "7269ea10.8ecaa4",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 966,
        "y": 326,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "8e953b49.9b6fc"
            ]
        ]
    },
    {
        "id": "518c2c34.9a6a14",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 975.490966796875,
        "y": 368.57403564453125,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "bbd8fc13.968688"
            ]
        ]
    },
    {
        "id": "d42c62ff.6bda7",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 964,
        "y": 415,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "67ddbb99.6b0b84"
            ]
        ]
    },
    {
        "id": "bbd8fc13.968688",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 1129.0623779296875,
        "y": 371.8597717285156,
        "z": "973adb8c.e1e518",
        "wires": []
    },
    {
        "id": "67ddbb99.6b0b84",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 1133,
        "y": 416,
        "z": "973adb8c.e1e518",
        "wires": []
    },
    {
        "id": "8e953b49.9b6fc",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for index='rel-index' start='0' end='`$tmp.aai.service-instance.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1163,
        "y": 322,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "7bc604b0.a688bc"
            ]
        ]
    },
    {
        "id": "7bc604b0.a688bc",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.service-instance.relationship-list.relationship[$rel-index].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1386.33349609375,
        "y": 321.99993896484375,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "5063b203.704cc4"
            ]
        ]
    },
    {
        "id": "5063b203.704cc4",
        "type": "outcome",
        "name": "connectivity",
        "xml": "<outcome value='connectivity'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1587.0001335144043,
        "y": 323.00002098083496,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "a9f2d74.cd545a8"
            ]
        ]
    },
    {
        "id": "5bf17e9d.d43418",
        "type": "execute",
        "name": "execute properties",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />",
        "comments": "",
        "outputs": 1,
        "x": 713,
        "y": 336,
        "z": "973adb8c.e1e518",
        "wires": [
            []
        ]
    },
    {
        "id": "a9f2d74.cd545a8",
        "type": "save",
        "name": "get connectivity from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"connectivity\"\n\t    key=\"connectivity.connectivity-id = $tmp.aai.service-instance.relationship-list.relationship[$rel-index].relationship-data[0].relationship-value\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.connectivity\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 1825,
        "y": 325,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "7c83a2e6.7b4dd4",
                "a7cc478b.7d146",
                "a8bc27c3.c77fc8"
            ]
        ]
    },
    {
        "id": "7c83a2e6.7b4dd4",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2033,
        "y": 289,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "9d15862c.acb858"
            ]
        ]
    },
    {
        "id": "a7cc478b.7d146",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2033.490966796875,
        "y": 334.57403564453125,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "c922168b.4d46c"
            ]
        ]
    },
    {
        "id": "a8bc27c3.c77fc8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2031,
        "y": 378,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "b9e1cde3.aaa95"
            ]
        ]
    },
    {
        "id": "c922168b.4d46c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 2196.0623779296875,
        "y": 334.8597717285156,
        "z": "973adb8c.e1e518",
        "wires": []
    },
    {
        "id": "b9e1cde3.aaa95",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 2200,
        "y": 379,
        "z": "973adb8c.e1e518",
        "wires": []
    },
    {
        "id": "2b1e22a1.17a9f6",
        "type": "save",
        "name": "get vpn-binding from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"vpn-binding\"\n\t    key=\"vpn-binding.vpn-id = $tmp.aai.connectivity.relationship-list.relationship[$cridx].relationship-data[0].relationship-value\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.vpn-binding\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 2506,
        "y": 378,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "18102e44.c2508a",
                "21816052.be64e8",
                "241de628.b25112"
            ]
        ]
    },
    {
        "id": "93757346.0f3e2",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2890,
        "y": 378,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "77e4f011.15fc4",
                "2c86ef39.d526a",
                "76429f4b.07b2a8",
                "6cc7e2bb.560604"
            ]
        ]
    },
    {
        "id": "18102e44.c2508a",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2717,
        "y": 380,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "93757346.0f3e2"
            ]
        ]
    },
    {
        "id": "21816052.be64e8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2717.490966796875,
        "y": 425.57403564453125,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "f6b9e29.dd4472"
            ]
        ]
    },
    {
        "id": "241de628.b25112",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2715,
        "y": 469,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "d2d6733.abb0d9"
            ]
        ]
    },
    {
        "id": "d2d6733.abb0d9",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 2882,
        "y": 468,
        "z": "973adb8c.e1e518",
        "wires": []
    },
    {
        "id": "f6b9e29.dd4472",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 2880.0623779296875,
        "y": 425.8597717285156,
        "z": "973adb8c.e1e518",
        "wires": []
    },
    {
        "id": "9d15862c.acb858",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='cridx' start='0' end='`$tmp.aai.connectivity.relationship-list.relationship_length`' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2234,
        "y": 284,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "732b4cc0.91b37c"
            ]
        ]
    },
    {
        "id": "732b4cc0.91b37c",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.connectivity.relationship-list.relationship[$cridx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2439,
        "y": 284,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "cb7e44a7.8a59"
            ]
        ]
    },
    {
        "id": "cb7e44a7.8a59",
        "type": "outcome",
        "name": "vpn-binding",
        "xml": "<outcome value='vpn-binding'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2605,
        "y": 284,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "3789a9eb.0ef24e"
            ]
        ]
    },
    {
        "id": "3789a9eb.0ef24e",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2768,
        "y": 284,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "2b1e22a1.17a9f6"
            ]
        ]
    },
    {
        "id": "77e4f011.15fc4",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.domain.pnf-name' value=\"`'networkId-providerId-' +\n                                                   $tmp.aai.vpn-binding.access-provider-id + '-clientId-' +\n                                                   $tmp.aai.vpn-binding.access-client-id + '-topologyId-' +\n                                                   $tmp.aai.vpn-binding.access-topology-id + '-nodeId-' +\n                                                   $tmp.aai.vpn-binding.src-access-node-id`\" />\n",
        "comments": "",
        "x": 3105,
        "y": 88,
        "z": "973adb8c.e1e518",
        "wires": []
    },
    {
        "id": "2c86ef39.d526a",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.domain.pnf-name\"\n        pfx='tmp.aai.source-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3131,
        "y": 205,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "dca54f5.5973b3",
                "fc504d63.ef84",
                "13ebc65.3fdb33a"
            ]
        ]
    },
    {
        "id": "dca54f5.5973b3",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3326.5001220703125,
        "y": 157,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "77882641.430388"
            ]
        ]
    },
    {
        "id": "fc504d63.ef84",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3318.5001220703125,
        "y": 212,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "a8ee2b92.3df2"
            ]
        ]
    },
    {
        "id": "77882641.430388",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3470.8824462890625,
        "y": 156.65567016601562,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "cc921f58.3bd8b8"
            ]
        ]
    },
    {
        "id": "cc921f58.3bd8b8",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='spvidx' start='0' end='`$tmp.aai.source-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3655,
        "y": 155,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "72a85062.4c34f8"
            ]
        ]
    },
    {
        "id": "72a85062.4c34f8",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3850,
        "y": 155,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "2455d1ba.682ede"
            ]
        ]
    },
    {
        "id": "13ebc65.3fdb33a",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3323.5001220703125,
        "y": 269,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "5ec35efc.fc0da8"
            ]
        ]
    },
    {
        "id": "5ec35efc.fc0da8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 3475.5001220703125,
        "y": 270,
        "z": "973adb8c.e1e518",
        "wires": []
    },
    {
        "id": "a8ee2b92.3df2",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 3486.5001220703125,
        "y": 213,
        "z": "973adb8c.e1e518",
        "wires": []
    },
    {
        "id": "c867d9b4.e35b28",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domain.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domain.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 4438,
        "y": 172,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "d6e555b3.ae89f8",
                "ff096fed.6932c",
                "507b0c57.90eac4"
            ]
        ]
    },
    {
        "id": "e8e1d1d2.3bd27",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4232,
        "y": 159,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "984b6b80.85eb28",
                "c867d9b4.e35b28",
                "ad75bc9f.423928"
            ]
        ]
    },
    {
        "id": "984b6b80.85eb28",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domain id",
        "xml": "<set>\n<parameter name='tmp.domain.esr-thirdparty-id' value=\"`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 4468,
        "y": 120,
        "z": "973adb8c.e1e518",
        "wires": []
    },
    {
        "id": "d6e555b3.ae89f8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4648,
        "y": 163,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "c77140eb.28cae"
            ]
        ]
    },
    {
        "id": "ff096fed.6932c",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4640,
        "y": 218,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "398208f1.a535d"
            ]
        ]
    },
    {
        "id": "507b0c57.90eac4",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4645,
        "y": 275,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "5db92f44.b3b368"
            ]
        ]
    },
    {
        "id": "5db92f44.b3b368",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4797,
        "y": 276,
        "z": "973adb8c.e1e518",
        "wires": []
    },
    {
        "id": "398208f1.a535d",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4808,
        "y": 221,
        "z": "973adb8c.e1e518",
        "wires": []
    },
    {
        "id": "c77140eb.28cae",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4792.38232421875,
        "y": 160.65567016601562,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "a91b7f99.6e2d28"
            ]
        ]
    },
    {
        "id": "2455d1ba.682ede",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4053,
        "y": 159,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "e8e1d1d2.3bd27"
            ]
        ]
    },
    {
        "id": "a91b7f99.6e2d28",
        "type": "set",
        "name": "set controller domain data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.url' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.user' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.password' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 5007,
        "y": 157,
        "z": "973adb8c.e1e518",
        "wires": []
    },
    {
        "id": "ad75bc9f.423928",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 4388,
        "y": 236,
        "z": "973adb8c.e1e518",
        "wires": []
    },
    {
        "id": "166b8d0a.b5831b",
        "type": "execute",
        "name": "execute RestApiCallNode Delete ethernet Service without token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.url + '/restconf/data/ietf-eth-tran-service:etht-svc/etht-svc-instances=' + $tmp.aai.connectivity.etht-svc-name`\" />\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.restapi.connection-oof-url`\" />-->\n<!--<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sotn-ethernet-service.json'`\" />-->\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"delete\"/>\n<parameter name='dirPath' value=\"/opt/onap/sdnc/restconfapi/yang\" />\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3766,
        "y": 585,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "b8398bf9.b49e9",
                "27d2dbd5.61793c"
            ]
        ]
    },
    {
        "id": "b8398bf9.b49e9",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4112.5,
        "y": 578,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "3e628567.b7364a"
            ]
        ]
    },
    {
        "id": "27d2dbd5.61793c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4116.5,
        "y": 618,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "7168ea95.0ebd84"
            ]
        ]
    },
    {
        "id": "7168ea95.0ebd84",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4274,
        "y": 618,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "f83800f1.842c8",
                "f7f5fb91.6043d8"
            ]
        ]
    },
    {
        "id": "3e628567.b7364a",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing delete ethernet service rest api\" />\n",
        "comments": "",
        "x": 4270.5,
        "y": 578,
        "z": "973adb8c.e1e518",
        "wires": []
    },
    {
        "id": "f83800f1.842c8",
        "type": "save",
        "name": "update vpn-binding resource (aka. OTN domainA) in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $tmp.aai.vpn-binding.vpn-id' >\n<parameter name='vpn-id' value='`$tmp.aai.vpn-binding.vpn-id`' />\n<parameter name='vpn-name' value='`$tmp.aai.vpn-binding.vpn-name`' />\n\n<parameter name='operational-status' value='Deactivated' />\n",
        "comments": "",
        "outputs": 1,
        "x": 4602.5,
        "y": 618,
        "z": "973adb8c.e1e518",
        "wires": [
            []
        ]
    },
    {
        "id": "f7f5fb91.6043d8",
        "type": "save",
        "name": "update connectivity resource in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $tmp.aai.connectivity.connectivity-id'>\n<parameter name='connectivity-id' value='`$tmp.aai.connectivity.connectivity-id`' />\n<parameter name='operational-status' value='Deactivated' />\n",
        "comments": "",
        "outputs": 1,
        "x": 4529.5,
        "y": 664,
        "z": "973adb8c.e1e518",
        "wires": [
            []
        ]
    },
    {
        "id": "76429f4b.07b2a8",
        "type": "execute",
        "name": "execute RestApiCallNode Delete OTN tunnel with token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<!--<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.ts-otn-src-domain-creation.templatefile`\" />-->\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.url + '/restconf/data/ietf-te:te/tunnels/tunnel=' + $tmp.aai.vpn-binding.vpn-name`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"delete\"/>\n<parameter name=\"responsePrefix\" value=\"otn-oof\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 3234,
        "y": 472,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "a5d8b39e.03bbe",
                "dd9b666a.742b78"
            ]
        ]
    },
    {
        "id": "a5d8b39e.03bbe",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3566.5,
        "y": 442,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "2667a800.f5f9"
            ]
        ]
    },
    {
        "id": "dd9b666a.742b78",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3571.5,
        "y": 507,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "91bc4eb8.d42b1"
            ]
        ]
    },
    {
        "id": "2667a800.f5f9",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing delete OTN tunnel rest api\" />\n",
        "comments": "",
        "x": 3742.5,
        "y": 442,
        "z": "973adb8c.e1e518",
        "wires": []
    },
    {
        "id": "91bc4eb8.d42b1",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3738,
        "y": 507,
        "z": "973adb8c.e1e518",
        "wires": [
            []
        ]
    },
    {
        "id": "6cc7e2bb.560604",
        "type": "switchNode",
        "name": "switch connectivity has ethernet service",
        "xml": "<switch test='`$tmp.aai.connectivity.etht-svc-name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3172,
        "y": 607,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "7c7f58f1.31378",
                "4913f8dd.a3519"
            ]
        ]
    },
    {
        "id": "4913f8dd.a3519",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3425,
        "y": 585,
        "z": "973adb8c.e1e518",
        "wires": [
            [
                "166b8d0a.b5831b"
            ]
        ]
    },
    {
        "id": "7c7f58f1.31378",
        "type": "outcome",
        "name": "Null",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 3425,
        "y": 641,
        "z": "973adb8c.e1e518",
        "wires": [
            []
        ]
    }
]