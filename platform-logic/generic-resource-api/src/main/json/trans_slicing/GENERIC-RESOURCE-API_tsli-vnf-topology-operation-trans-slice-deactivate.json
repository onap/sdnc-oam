[
    {
        "id": "303f7566.d219ba",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 110,
        "y": 318,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "f39490a3.b09b28"
            ]
        ]
    },
    {
        "id": "f39490a3.b09b28",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 394.2856903076172,
        "y": 379.23810863494873,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "72c32dea.176324"
            ]
        ]
    },
    {
        "id": "72c32dea.176324",
        "type": "method",
        "name": "method tsli-vnf-topology-operation-trans-slice-deactivate",
        "xml": "<method rpc='tsli-vnf-topology-operation-trans-slice-deactivate' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 400.42860412597656,
        "y": 464.0000305175781,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "d12dc6f7.97bdd"
            ]
        ]
    },
    {
        "id": "d12dc6f7.97bdd",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 596.2380447387695,
        "y": 622.6666681496426,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "6aad2197.a72ef",
                "1be9220f.ba6ca6",
                "7fd5d3ea.13b334",
                "5cda8af7.9a0634",
                "225a4cf6.f0c67c",
                "a4c45de.b22e5a",
                "d2fb34de.34839",
                "2fc6eaae.5fdc7e"
            ]
        ]
    },
    {
        "id": "6aad2197.a72ef",
        "type": "set",
        "name": "set vnf-level-oper-status to PendingDelete",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-level-oper-status.order-status' value='PendingDelete' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-level-oper-status.last-rpc-action' value='`$vnf-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-level-oper-status.last-action' value='`$vnf-topology-operation-input.request-information.request-action`' />",
        "comments": "",
        "x": 1004.3849029541016,
        "y": 771.670627951622,
        "z": "15891279.d6b57e",
        "wires": []
    },
    {
        "id": "1be9220f.ba6ca6",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 916.5716552734375,
        "y": 1843.5970458984375,
        "z": "15891279.d6b57e",
        "wires": []
    },
    {
        "id": "7fd5d3ea.13b334",
        "type": "set",
        "name": "set vnf-index and vnf-object-path",
        "xml": "<set>\n<parameter name='vnfId' value='`$vnf-topology-operation-input.vnf-information.vnf-id`' />\n<parameter name=\"vnf-object-path\" value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'  + $vnf-topology-operation-input.service-information.service-instance-id  + '/service-data/vnfs/vnf/'  + $vnf-topology-operation-input.vnf-information.vnf-id  + '/vnf-data/'` \" />",
        "comments": "",
        "x": 981.5716247558594,
        "y": 727.5968955755234,
        "z": "15891279.d6b57e",
        "wires": []
    },
    {
        "id": "5cda8af7.9a0634",
        "type": "switchNode",
        "name": "switch service-data.vnfs.vnf_length",
        "xml": "<switch test='`$service-data.vnfs.vnf_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1026.0000610351562,
        "y": 512.000005456619,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "183040b7.7ccbff",
                "71cafe22.189b2",
                "b0ad485b.8627c"
            ]
        ]
    },
    {
        "id": "b0ad485b.8627c",
        "type": "outcome",
        "name": "0",
        "xml": "<outcome value='0'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1284.9689559936523,
        "y": 473.96876499336213,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "f9a51cd3.102398"
            ]
        ]
    },
    {
        "id": "f9a51cd3.102398",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"vnf-topology-operation-input.vnf-request-input.vnf-id not found in service-data\" />\n",
        "comments": "",
        "x": 1439.7778434753418,
        "y": 492.88903352897614,
        "z": "15891279.d6b57e",
        "wires": []
    },
    {
        "id": "183040b7.7ccbff",
        "type": "other",
        "name": "Null",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 1278.0000953674316,
        "y": 513.0000865189359,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "f9a51cd3.102398"
            ]
        ]
    },
    {
        "id": "71cafe22.189b2",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1271.000503540039,
        "y": 546.0000903336331,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "f6c4231c.6894e8"
            ]
        ]
    },
    {
        "id": "f6c4231c.6894e8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1418.2700462341309,
        "y": 546.554735395126,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "541e7856.d1e2",
                "8337a3da.3c8e38"
            ]
        ]
    },
    {
        "id": "541e7856.d1e2",
        "type": "for",
        "name": "for vidx..service-data.vnfs.vnf_length[]",
        "xml": "<for index='vidx' start='0' end='`$service-data.vnfs.vnf_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1664.2861633300781,
        "y": 553.4286558357999,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "ebbd7e9e.ba96c8"
            ]
        ]
    },
    {
        "id": "ebbd7e9e.ba96c8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1883.6357955932617,
        "y": 552.9687359062955,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "436917e7.e9b6a"
            ]
        ]
    },
    {
        "id": "436917e7.e9b6a",
        "type": "switchNode",
        "name": "switch vnfid found",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vidx].vnf-id == $vnf-topology-operation-input.vnf-information.vnf-id`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2037.7153930664062,
        "y": 552.6788179604337,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "27314ab3.a1187e"
            ]
        ]
    },
    {
        "id": "27314ab3.a1187e",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2213.6675148010254,
        "y": 552.5715000359342,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "cf77593a.1343d8"
            ]
        ]
    },
    {
        "id": "cf77593a.1343d8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2362.312973022461,
        "y": 540.97913000267,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "f0ff74da.16b248"
            ]
        ]
    },
    {
        "id": "f0ff74da.16b248",
        "type": "set",
        "name": "set tmp.vidx and ctx.vnf-data",
        "xml": "<set>\n<parameter name='tmp.vidx' value='`$vidx`' />\n<parameter name='ctx.vnf-data.' value='`$service-data.vnfs.vnf[$vidx].`' />\n",
        "comments": "",
        "x": 2624.1997680664062,
        "y": 518.3215563027188,
        "z": "15891279.d6b57e",
        "wires": []
    },
    {
        "id": "8337a3da.3c8e38",
        "type": "switchNode",
        "name": "switch tmp.vidx ",
        "xml": "<switch test=\"`$tmp.vidx`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1607.0000228881836,
        "y": 607.99999353569,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "1cd8ba9c.bf5235"
            ]
        ]
    },
    {
        "id": "1cd8ba9c.bf5235",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 1762.4286499023438,
        "y": 607.5713770119473,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "6dd6d49d.d00eec"
            ]
        ]
    },
    {
        "id": "6dd6d49d.d00eec",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"vnf-topology-operation-input.vnf-request-input.vnf-id not found in service-data\" />\n",
        "comments": "",
        "x": 1907.8573913574219,
        "y": 607.7143146721646,
        "z": "15891279.d6b57e",
        "wires": []
    },
    {
        "id": "225a4cf6.f0c67c",
        "type": "switchNode",
        "name": "switch vnf-level-oper-status",
        "xml": "<switch test='`$service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-level-oper-status.order-status`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 975.0000762939453,
        "y": 620.8890204429626,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "e0bfe23d.068ad8",
                "3e0c4d79.12e802"
            ]
        ]
    },
    {
        "id": "e0bfe23d.068ad8",
        "type": "outcome",
        "name": "outcome Active",
        "xml": "<outcome value='Active'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1220.8333702087402,
        "y": 622.0001182556152,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "40413c0b.9420dc"
            ]
        ]
    },
    {
        "id": "40413c0b.9420dc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1434.139762878418,
        "y": 631.3253078460693,
        "z": "15891279.d6b57e",
        "wires": [
            []
        ]
    },
    {
        "id": "3e0c4d79.12e802",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1198.8333892822266,
        "y": 672.000129699707,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "fc734294.cf7788"
            ]
        ]
    },
    {
        "id": "fc734294.cf7788",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'VNF is not in appropriate state for activate. Current state is ' + $service-data.vnfs.vnf[$tmp.nidx].vnf-data.vnf-level-oper-status.order-status`\" />",
        "comments": "",
        "x": 1358.3331565856934,
        "y": 675.0001287460327,
        "z": "15891279.d6b57e",
        "wires": []
    },
    {
        "id": "a4c45de.b22e5a",
        "type": "set",
        "name": "copy input data to service data",
        "xml": "<set>\n<!--parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-id' value='`$vnf-topology-operation-input.vnf-information.vnf-id`' /-->\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.sdnc-request-header.' value='$vnf-topology-operation-input.sdnc-request-header.' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.request-information.' value='$vnf-topology-operation-input.request-information.' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.service-information.' value='$vnf-topology-operation-input.service-information.' />",
        "comments": "",
        "x": 984.0065612792969,
        "y": 680.010435461998,
        "z": "15891279.d6b57e",
        "wires": []
    },
    {
        "id": "d2fb34de.34839",
        "type": "save",
        "name": "update AnAI - vnf-instance.orchestration-status",
        "xml": "<update plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"generic-vnf\"   \n\t\tkey=\"generic-vnf.vnf-id = $vnfId\" >\n<parameter name=\"orchestration-status\" value=\"PendingDelete\" />\n<parameter name=\"vnf-type\" value=\"some vnf-type\" />",
        "comments": "",
        "outputs": 1,
        "x": 1026.0064239501953,
        "y": 826.0105141401291,
        "z": "15891279.d6b57e",
        "wires": [
            []
        ]
    },
    {
        "id": "5dd794c8.fb268c",
        "type": "comment",
        "name": "new for TransportSlicing",
        "info": "",
        "comments": "",
        "x": 967,
        "y": 898,
        "z": "15891279.d6b57e",
        "wires": []
    },
    {
        "id": "2fc6eaae.5fdc7e",
        "type": "save",
        "name": "get service-instance from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"service-instance\"\n\tkey='service-instance.service-instance-id = $service-data.service-information.service-instance-id\n         AND customer.global-customer-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.global-customer-id \n         AND service-subscription.service-type = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.subscription-service-type'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.service-instance\">",
        "comments": "",
        "outputs": 1,
        "x": 978,
        "y": 948,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "aebcc6b7.4bd97",
                "534659e3.16c99",
                "4b75ad0e.b2264c"
            ]
        ]
    },
    {
        "id": "aebcc6b7.4bd97",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1194,
        "y": 913,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "dfa58322.db6e7"
            ]
        ]
    },
    {
        "id": "534659e3.16c99",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1203.490966796875,
        "y": 955.5740356445312,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "7aae8b9.3267cf4"
            ]
        ]
    },
    {
        "id": "4b75ad0e.b2264c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1192,
        "y": 1002,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "47847ce9.cdac14"
            ]
        ]
    },
    {
        "id": "7aae8b9.3267cf4",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 1357.0623779296875,
        "y": 958.8597717285156,
        "z": "15891279.d6b57e",
        "wires": []
    },
    {
        "id": "47847ce9.cdac14",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 1361,
        "y": 1003,
        "z": "15891279.d6b57e",
        "wires": []
    },
    {
        "id": "dfa58322.db6e7",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for index='rel-index' start='0' end='`$tmp.aai.service-instance.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1391,
        "y": 909,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "1fcd5169.0fe3ef"
            ]
        ]
    },
    {
        "id": "1fcd5169.0fe3ef",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.service-instance.relationship-list.relationship[$rel-index].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1614.33349609375,
        "y": 908.9999389648438,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "b3fa3516.3c5f7"
            ]
        ]
    },
    {
        "id": "b3fa3516.3c5f7",
        "type": "outcome",
        "name": "connectivity",
        "xml": "<outcome value='connectivity'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1810,
        "y": 911,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "8171ffc1.700ce8"
            ]
        ]
    },
    {
        "id": "8171ffc1.700ce8",
        "type": "switchNode",
        "name": "switch $rel-index == 0",
        "xml": "<switch test=\"`$rel-index == 0`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1997.9998664855957,
        "y": 908.999979019165,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "4491f21f.012e44",
                "66fe8847.e5db68"
            ]
        ]
    },
    {
        "id": "4491f21f.012e44",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2220.9998664855957,
        "y": 798.999979019165,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "50b3c107.0ef428"
            ]
        ]
    },
    {
        "id": "66fe8847.e5db68",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2191.999755859375,
        "y": 1225,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "49f4be1a.dd4768"
            ]
        ]
    },
    {
        "id": "50b3c107.0ef428",
        "type": "save",
        "name": "get connectivityA from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"connectivity\"\n\t    key=\"connectivity.connectivity-id = $tmp.aai.service-instance.relationship-list.relationship[0].relationship-data[0].relationship-value\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.connectivityA\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 2414.9998664855957,
        "y": 798.999979019165,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "c5f57c4d.37656",
                "f8bc0153.3111b",
                "fd26821d.45f278"
            ]
        ]
    },
    {
        "id": "c5f57c4d.37656",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2620.9998664855957,
        "y": 758.999979019165,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "944973cd.969b48"
            ]
        ]
    },
    {
        "id": "f8bc0153.3111b",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2621.4908332824707,
        "y": 804.5740146636963,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "4c56e2b6.ecbe4c"
            ]
        ]
    },
    {
        "id": "fd26821d.45f278",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2618.9998664855957,
        "y": 847.999979019165,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "5f2713ec.fce9b4"
            ]
        ]
    },
    {
        "id": "49f4be1a.dd4768",
        "type": "save",
        "name": "get connectivityB from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"connectivity\"\n\t    key=\"connectivity.connectivity-id = $tmp.aai.service-instance.relationship-list.relationship[1].relationship-data[0].relationship-value\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.connectivityB\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 2387.999755859375,
        "y": 1225,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "99901664.bef67",
                "fa356ad9.66e31",
                "3216507d.6f0df8"
            ]
        ]
    },
    {
        "id": "99901664.bef67",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2607.999755859375,
        "y": 1196,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "b3f3fc8e.164aa8"
            ]
        ]
    },
    {
        "id": "fa356ad9.66e31",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2609.49072265625,
        "y": 1241.5740356445312,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "9c397b15.bf0e5"
            ]
        ]
    },
    {
        "id": "3216507d.6f0df8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2605.999755859375,
        "y": 1287,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "1f619a9f.fc34dd"
            ]
        ]
    },
    {
        "id": "944973cd.969b48",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2793.6663703918457,
        "y": 757.999979019165,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "905f3b23.ac61b8",
                "6125d5eb.a534c4",
                "b1bd9fc5.bac3a"
            ]
        ]
    },
    {
        "id": "4c56e2b6.ecbe4c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 2784.062244415283,
        "y": 804.8597507476807,
        "z": "15891279.d6b57e",
        "wires": []
    },
    {
        "id": "5f2713ec.fce9b4",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 2787.9998664855957,
        "y": 848.999979019165,
        "z": "15891279.d6b57e",
        "wires": []
    },
    {
        "id": "6125d5eb.a534c4",
        "type": "set",
        "name": "set sotn_value for ETH deletion",
        "xml": "<set>\n<parameter name='ietf-eth-tran-service_etht-svc.etht-svc-instances[0].access-provider-id' value='`$oof.vpn.access-provider-id`' />\n<parameter name='ietf-eth-tran-service_etht-svc.etht-svc-instances[0].access-client-id' value='`$oof.vpn.access-client-id`' />\n<parameter name='ietf-eth-tran-service_etht-svc.etht-svc-instances[0].access-topology-id' value='`$oof.vpn.access-topology-id`' />\n<parameter name='ietf-eth-tran-service_etht-svc.etht-svc-instances[0].etht-svc-access-ports[0].access-node-id' value='`$oof.vpn.access-node-id`' />\n<parameter name='ietf-eth-tran-service_etht-svc.etht-svc-instances[0].etht-svc-access-ports[0].access-ltp-id' value='`$oof.vpn.src-access-ltp-id`' />\n<parameter name='ietf-eth-tran-service_etht-svc.etht-svc-instances[0].etht-svc-access-ports[1].access-node-id' value='`$oof.vpn.access-node-id`' />\n<parameter name='ietf-eth-tran-service_etht-svc.etht-svc-instances[0].etht-svc-access-ports[1].access-ltp-id' value='`$oof.vpn.dst-access-ltp-id`' />\n\n<parameter name='ietf-eth-tran-service_etht-svc.globals.etht-svc-bandwidth-profiles[0].bandwidth-profile-type' value='ietf-eth-tran-types:mef-10-bwp' />\n<parameter name='ietf-eth-tran-service_etht-svc.etht-svc-instances[0].etht-svc-type' value='ietf-eth-tran-types:p2p-svc' />\n<parameter name='ietf-eth-tran-service_etht-svc.etht-svc-instances[0].admin-status' value='ietf-te-types:tunnel-state-up' />\n<parameter name='ietf-eth-tran-service_etht-svc.etht-svc-instances[0].etht-svc-access-ports[0].access-port-id' value='0' />\n<parameter name='ietf-eth-tran-service_etht-svc.etht-svc-instances[0].etht-svc-access-ports[0].service-classification-type' value='ietf-eth-tran-types:port-classification' />\n<parameter name='ietf-eth-tran-service_etht-svc.etht-svc-instances[0].etht-svc-access-ports[1].access-port-id' value='1' />\n<parameter name='ietf-eth-tran-service_etht-svc.etht-svc-instances[0].etht-svc-access-ports[1].service-classification-type' value='ietf-eth-tran-types:port-classification' />",
        "comments": "",
        "x": 3081.4996452331543,
        "y": 849.000020980835,
        "z": "15891279.d6b57e",
        "wires": []
    },
    {
        "id": "b1bd9fc5.bac3a",
        "type": "execute",
        "name": "execute RestApiCallNode Delete ethernet Service without token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-eth-tran-service:etht-svc'`\" />\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sotn-ethernet-service.json'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"delete\"/>\n<parameter name='dirPath' value=\"/opt/onap/sdnc/restconfapi/yang\" />\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3179.499755859375,
        "y": 894,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "43014871.10916",
                "ef466a56.4961d8"
            ]
        ]
    },
    {
        "id": "43014871.10916",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3524.999755859375,
        "y": 875,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "b872830e.e33218"
            ]
        ]
    },
    {
        "id": "ef466a56.4961d8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3528.999755859375,
        "y": 915,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "ecca88b1.05406"
            ]
        ]
    },
    {
        "id": "53822d52.50003c",
        "type": "comment",
        "name": "TODO: FIXME:",
        "info": "put proper values based on connectivity resource retrieved from AAI",
        "comments": "",
        "x": 3022.999755859375,
        "y": 802,
        "z": "15891279.d6b57e",
        "wires": []
    },
    {
        "id": "905f3b23.ac61b8",
        "type": "get-resource",
        "name": "get-resource esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $prop.sdncRestApi.thirdpartySdnc.id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.esr-thirdparty-sdnc' local-only='false' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3074.999755859375,
        "y": 728,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "7583aec3.33d84",
                "34076538.0ecf52",
                "5f6cfa0b.4be42c"
            ]
        ]
    },
    {
        "id": "7583aec3.33d84",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3320.999755859375,
        "y": 688,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "af220c19.d532d8"
            ]
        ]
    },
    {
        "id": "34076538.0ecf52",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3324.999755859375,
        "y": 728,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "c8a27e43.a20b28"
            ]
        ]
    },
    {
        "id": "5f6cfa0b.4be42c",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3316.999755859375,
        "y": 768,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "d282616c.39fe68"
            ]
        ]
    },
    {
        "id": "d282616c.39fe68",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
        "comments": "",
        "x": 3474.999755859375,
        "y": 768,
        "z": "15891279.d6b57e",
        "wires": []
    },
    {
        "id": "c8a27e43.a20b28",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
        "comments": "",
        "x": 3474.999755859375,
        "y": 728,
        "z": "15891279.d6b57e",
        "wires": []
    },
    {
        "id": "af220c19.d532d8",
        "type": "set",
        "name": "set controller data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.url' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.user' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.password' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 3490.999755859375,
        "y": 688,
        "z": "15891279.d6b57e",
        "wires": []
    },
    {
        "id": "c61ae526.8c7cb8",
        "type": "comment",
        "name": "Get controller info and send request",
        "info": "",
        "comments": "",
        "x": 3082.999755859375,
        "y": 688,
        "z": "15891279.d6b57e",
        "wires": []
    },
    {
        "id": "24a118da.312548",
        "type": "comment",
        "name": "TODO: FIXME:",
        "info": "How to know which domain's (A or B) controller is bein retrieved?",
        "comments": "",
        "x": 3014.999755859375,
        "y": 648,
        "z": "15891279.d6b57e",
        "wires": []
    },
    {
        "id": "b3f3fc8e.164aa8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2780.666259765625,
        "y": 1197,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "c56d5bdd.22466",
                "ba468b68.004d98",
                "8df38d4b.ee6e2"
            ]
        ]
    },
    {
        "id": "9c397b15.bf0e5",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 2771.0621337890625,
        "y": 1243.8597717285156,
        "z": "15891279.d6b57e",
        "wires": []
    },
    {
        "id": "1f619a9f.fc34dd",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 2774.999755859375,
        "y": 1288,
        "z": "15891279.d6b57e",
        "wires": []
    },
    {
        "id": "ba468b68.004d98",
        "type": "set",
        "name": "set sotn_value for ETH deletion",
        "xml": "<set>\n<parameter name='ietf-eth-tran-service_etht-svc.etht-svc-instances[0].access-provider-id' value='`$oof.vpn.access-provider-id`' />\n<parameter name='ietf-eth-tran-service_etht-svc.etht-svc-instances[0].access-client-id' value='`$oof.vpn.access-client-id`' />\n<parameter name='ietf-eth-tran-service_etht-svc.etht-svc-instances[0].access-topology-id' value='`$oof.vpn.access-topology-id`' />\n<parameter name='ietf-eth-tran-service_etht-svc.etht-svc-instances[0].etht-svc-access-ports[0].access-node-id' value='`$oof.vpn.access-node-id`' />\n<parameter name='ietf-eth-tran-service_etht-svc.etht-svc-instances[0].etht-svc-access-ports[0].access-ltp-id' value='`$oof.vpn.src-access-ltp-id`' />\n<parameter name='ietf-eth-tran-service_etht-svc.etht-svc-instances[0].etht-svc-access-ports[1].access-node-id' value='`$oof.vpn.access-node-id`' />\n<parameter name='ietf-eth-tran-service_etht-svc.etht-svc-instances[0].etht-svc-access-ports[1].access-ltp-id' value='`$oof.vpn.dst-access-ltp-id`' />\n\n<parameter name='ietf-eth-tran-service_etht-svc.globals.etht-svc-bandwidth-profiles[0].bandwidth-profile-type' value='ietf-eth-tran-types:mef-10-bwp' />\n<parameter name='ietf-eth-tran-service_etht-svc.etht-svc-instances[0].etht-svc-type' value='ietf-eth-tran-types:p2p-svc' />\n<parameter name='ietf-eth-tran-service_etht-svc.etht-svc-instances[0].admin-status' value='ietf-te-types:tunnel-state-up' />\n<parameter name='ietf-eth-tran-service_etht-svc.etht-svc-instances[0].etht-svc-access-ports[0].access-port-id' value='0' />\n<parameter name='ietf-eth-tran-service_etht-svc.etht-svc-instances[0].etht-svc-access-ports[0].service-classification-type' value='ietf-eth-tran-types:port-classification' />\n<parameter name='ietf-eth-tran-service_etht-svc.etht-svc-instances[0].etht-svc-access-ports[1].access-port-id' value='1' />\n<parameter name='ietf-eth-tran-service_etht-svc.etht-svc-instances[0].etht-svc-access-ports[1].service-classification-type' value='ietf-eth-tran-types:port-classification' />",
        "comments": "",
        "x": 3068.9995346069336,
        "y": 1274.00004196167,
        "z": "15891279.d6b57e",
        "wires": []
    },
    {
        "id": "8df38d4b.ee6e2",
        "type": "execute",
        "name": "execute RestApiCallNode Delete ethernet Service without token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-eth-tran-service:etht-svc'`\" />\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sotn-ethernet-service.json'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"delete\"/>\n<parameter name='dirPath' value=\"/opt/onap/sdnc/restconfapi/yang\" />\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>",
        "comments": "",
        "outputs": 1,
        "x": 3173.9996452331543,
        "y": 1321.000020980835,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "846e91eb.5fd658",
                "9847a507.3f69e"
            ]
        ]
    },
    {
        "id": "846e91eb.5fd658",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3519.4996452331543,
        "y": 1302.000020980835,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "dcec496b.f92f38"
            ]
        ]
    },
    {
        "id": "9847a507.3f69e",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3523.4996452331543,
        "y": 1342.000020980835,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "43eceb78.82b2dc"
            ]
        ]
    },
    {
        "id": "de77a242.224c1",
        "type": "comment",
        "name": "TODO: FIXME:",
        "info": "put proper values based on connectivity resource retrieved from AAI",
        "comments": "",
        "x": 3017.4996452331543,
        "y": 1229.000020980835,
        "z": "15891279.d6b57e",
        "wires": []
    },
    {
        "id": "c56d5bdd.22466",
        "type": "get-resource",
        "name": "get-resource esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $prop.sdncRestApi.thirdpartySdnc.id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.esr-thirdparty-sdnc' local-only='false' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3069.4996452331543,
        "y": 1155.000020980835,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "c6d3e171.5193a",
                "9098a017.2895f8",
                "8e10fa0e.d0c448"
            ]
        ]
    },
    {
        "id": "c6d3e171.5193a",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3315.4996452331543,
        "y": 1115.000020980835,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "ec0b6188.dc04e"
            ]
        ]
    },
    {
        "id": "9098a017.2895f8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3319.4996452331543,
        "y": 1155.000020980835,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "8b3e7b4d.6376a"
            ]
        ]
    },
    {
        "id": "8e10fa0e.d0c448",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3311.4996452331543,
        "y": 1195.000020980835,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "124616cb.e9eee9"
            ]
        ]
    },
    {
        "id": "124616cb.e9eee9",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
        "comments": "",
        "x": 3469.4996452331543,
        "y": 1195.000020980835,
        "z": "15891279.d6b57e",
        "wires": []
    },
    {
        "id": "8b3e7b4d.6376a",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
        "comments": "",
        "x": 3469.4996452331543,
        "y": 1155.000020980835,
        "z": "15891279.d6b57e",
        "wires": []
    },
    {
        "id": "ec0b6188.dc04e",
        "type": "set",
        "name": "set controller data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.url' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.user' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.password' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 3485.4996452331543,
        "y": 1115.000020980835,
        "z": "15891279.d6b57e",
        "wires": []
    },
    {
        "id": "98e2fbb6.34e38",
        "type": "comment",
        "name": "Get controller info and send request",
        "info": "",
        "comments": "",
        "x": 3077.4996452331543,
        "y": 1115.000020980835,
        "z": "15891279.d6b57e",
        "wires": []
    },
    {
        "id": "758d1f74.6d4218",
        "type": "comment",
        "name": "TODO: FIXME:",
        "info": "How to know which domain's (A or B) controller is bein retrieved?",
        "comments": "",
        "x": 3011.9996452331543,
        "y": 1075.000020980835,
        "z": "15891279.d6b57e",
        "wires": []
    },
    {
        "id": "dcec496b.f92f38",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create vpn rest api\" />\n",
        "comments": "",
        "x": 3677.4996452331543,
        "y": 1302.000020980835,
        "z": "15891279.d6b57e",
        "wires": []
    },
    {
        "id": "43eceb78.82b2dc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3680.9996452331543,
        "y": 1342.000020980835,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "a040c34e.71e608",
                "29ceb3fa.1e4b14"
            ]
        ]
    },
    {
        "id": "1acc213f.73169f",
        "type": "comment",
        "name": "TODO: FIXME",
        "info": "use proper vpn-binding id and connectivity\n\nAlso, does CCSDK support \"update\" operation for vpn-binding and connectivity?",
        "comments": "",
        "x": 3878.9996452331543,
        "y": 1299.000020980835,
        "z": "15891279.d6b57e",
        "wires": []
    },
    {
        "id": "a040c34e.71e608",
        "type": "save",
        "name": "update vpn-binding B resource (aka. OTN domainB) in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $tmp.vpnName' >\n<parameter name='vpn-id' value='`$tmp.vpnName`' />\n<parameter name='vpn-name' value='`$tmp.vpnName`' />\n\n<parameter name='operational-status' value='DeActivated' />\n",
        "comments": "",
        "outputs": 1,
        "x": 4020.9996452331543,
        "y": 1341.000020980835,
        "z": "15891279.d6b57e",
        "wires": [
            []
        ]
    },
    {
        "id": "29ceb3fa.1e4b14",
        "type": "save",
        "name": "update connectivity resource in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $prop.connectivity-domainA-uuid'>\n<parameter name='connectivity-id' value='`$prop.connectivity-domainA-uuid`' />\n<parameter name='operational-status' value='DeActivated' />\n",
        "comments": "",
        "outputs": 1,
        "x": 3949.9996452331543,
        "y": 1390.000020980835,
        "z": "15891279.d6b57e",
        "wires": [
            []
        ]
    },
    {
        "id": "ecca88b1.05406",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3686.499755859375,
        "y": 915,
        "z": "15891279.d6b57e",
        "wires": [
            [
                "f3cb9aac.524828",
                "4b8d9e90.2bfc"
            ]
        ]
    },
    {
        "id": "b872830e.e33218",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create vpn rest api\" />\n",
        "comments": "",
        "x": 3682.999755859375,
        "y": 875,
        "z": "15891279.d6b57e",
        "wires": []
    },
    {
        "id": "270674fa.6cafe4",
        "type": "comment",
        "name": "TODO: FIXME",
        "info": "use proper vpn-binding id and connectivity id\n\nAlso, does CCSDK support \"update\" operation for vpn-binding and connectivity?",
        "comments": "",
        "x": 3878.999755859375,
        "y": 874,
        "z": "15891279.d6b57e",
        "wires": []
    },
    {
        "id": "f3cb9aac.524828",
        "type": "save",
        "name": "update vpn-binding A resource (aka. OTN domainA) in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $tmp.vpnName' >\n<parameter name='vpn-id' value='`$tmp.vpnName`' />\n<parameter name='vpn-name' value='`$tmp.vpnName`' />\n\n<parameter name='operational-status' value='DeActivated' />\n",
        "comments": "",
        "outputs": 1,
        "x": 4014.999755859375,
        "y": 915,
        "z": "15891279.d6b57e",
        "wires": [
            []
        ]
    },
    {
        "id": "4b8d9e90.2bfc",
        "type": "save",
        "name": "update connectivity resource in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $prop.connectivity-domainA-uuid'>\n<parameter name='connectivity-id' value='`$prop.connectivity-domainA-uuid`' />\n<parameter name='operational-status' value='DeActivated' />\n",
        "comments": "",
        "outputs": 1,
        "x": 3941.999755859375,
        "y": 961,
        "z": "15891279.d6b57e",
        "wires": [
            []
        ]
    }
]