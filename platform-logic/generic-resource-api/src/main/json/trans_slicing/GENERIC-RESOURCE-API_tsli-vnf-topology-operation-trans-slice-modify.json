[
    {
        "id": "b86b0fef.6d8f2",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 228.56666564941406,
        "y": 144.56666564941406,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "2128d45c.da5aa4"
            ]
        ]
    },
    {
        "id": "2128d45c.da5aa4",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 453.85235595703125,
        "y": 218.8047742843628,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "70e99b08.a81814"
            ]
        ]
    },
    {
        "id": "70e99b08.a81814",
        "type": "method",
        "name": "method tsli-vnf-topology-operation-trans-slice-modify",
        "xml": "<method rpc='tsli-vnf-topology-operation-trans-slice-modify' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 459.9952697753906,
        "y": 303.5666961669922,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "3d648e68.8f83fa"
            ]
        ]
    },
    {
        "id": "3d648e68.8f83fa",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 829.8047027587891,
        "y": 328.2333526611328,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "4898a5d2.c4814c",
                "43d16cc8.33970c",
                "dd074b01.699d5"
            ]
        ]
    },
    {
        "id": "4898a5d2.c4814c",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 1085.138198852539,
        "y": 482.1636505126953,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "43d16cc8.33970c",
        "type": "save",
        "name": "get service-instance from aai",
        "xml": "<!--<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" -->\n<!--\tresource=\"service-instance\"-->\n<!--\tkey='service-instance.service-instance-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.service-instance-id-->\n<!--         AND customer.global-customer-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.global-customer-id -->\n<!--         AND service-subscription.service-type = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.subscription-service-type'-->\n<!--\tlocal-only=\"false\"-->\n<!--\tforce=\"true\" pfx=\"tmp.aai.service-instance\">-->\n\n<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"service-instance\"\n\tkey='service-instance.service-instance-id = $vnf-topology-operation-input.service-information.service-instance-id\n         AND customer.global-customer-id = $vnf-topology-operation-input.service-information.global-customer-id \n         AND service-subscription.service-type = $vnf-topology-operation-input.service-information.subscription-service-type'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.service-instance\">\n\n\n<!--<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" -->\n<!--\tresource=\"service-instance\"-->\n<!--\tkey='service-instance.service-instance-id = $service-data.service-information.service-instance-id-->\n<!--         AND customer.global-customer-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.global-customer-id -->\n<!--         AND service-subscription.service-type = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.subscription-service-type'-->\n<!--\tlocal-only=\"false\"-->\n<!--\tforce=\"true\" pfx=\"tmp.aai.service-instance\">-->",
        "comments": "",
        "outputs": 1,
        "x": 1152.566665649414,
        "y": 301.56666564941406,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "5739653.c5aef1c",
                "4e5f3667.ce514",
                "7d9553c0.a90d3c"
            ]
        ]
    },
    {
        "id": "5739653.c5aef1c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1377.566665649414,
        "y": 159.56666564941406,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "fc0ebeea.3842e8"
            ]
        ]
    },
    {
        "id": "4e5f3667.ce514",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1373.057632446289,
        "y": 229.1407012939453,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "9ccb6432.a6f758"
            ]
        ]
    },
    {
        "id": "7d9553c0.a90d3c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1361.566665649414,
        "y": 275.56666564941406,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "2159c0a9.b6525"
            ]
        ]
    },
    {
        "id": "fc0ebeea.3842e8",
        "type": "switchNode",
        "name": "switch allotted-resources_length != 0",
        "xml": "<switch test='`$tmp.aai.service-instance.allotted-resources.allotted-resource_length != 0`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1616.566665649414,
        "y": 156.56666564941406,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "9f0f2f3b.2aa0c8",
                "29eb9fec.58b94"
            ]
        ]
    },
    {
        "id": "9ccb6432.a6f758",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 1526.6290435791016,
        "y": 232.4264373779297,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "2159c0a9.b6525",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 1530.566665649414,
        "y": 276.56666564941406,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "9f0f2f3b.2aa0c8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1829.566665649414,
        "y": 180.56666564941406,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "c939819f.3d19a"
            ]
        ]
    },
    {
        "id": "29eb9fec.58b94",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1831.566665649414,
        "y": 120.56666564941406,
        "z": "25a21122.0e2cfe",
        "wires": [
            []
        ]
    },
    {
        "id": "1c8a1ea6.0feed9",
        "type": "comment",
        "name": "new for TransportSlicing",
        "info": "",
        "comments": "",
        "x": 1131.566665649414,
        "y": 189.56666564941406,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "c939819f.3d19a",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1774.566665649414,
        "y": 362.56666564941406,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "f0cde51e.fc048",
                "5a4aff44.5be78",
                "e781046f.1418e",
                "127eaa7a.98449e",
                "8780743f.a296a",
                "323fc4b1.60fe74"
            ]
        ]
    },
    {
        "id": "db6151f2.0aacb",
        "type": "set",
        "name": "set network-route-A",
        "xml": "<set>\n<parameter name='network-route-A' value=\"`$tmp.aai.logical-link.link-name`\" />\n<!--<parameter name='network-route-A' value=\"`$tmp.aai.logical-link.link-id`\" />-->\n\n\n",
        "comments": "",
        "x": 4343.566665649414,
        "y": 869.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "e016be81.6c64f",
        "type": "set",
        "name": "set network-route-B",
        "xml": "<set>\n<parameter name='network-route-B' value=\"`$tmp.aai.logical-link.link-name2`\" />\n\n\n",
        "comments": "",
        "x": 4344.566665649414,
        "y": 924.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "103cc7a8.7e9b88",
        "type": "save",
        "name": "get allotted-resource from aai",
        "xml": "<!--<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" -->\n<!--\tresource=\"allotted-resource\"-->\n<!--\tkey='service-instance.service-instance-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.service-instance-id-->\n<!--         AND customer.global-customer-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.global-customer-id -->\n<!--         AND service-subscription.service-type = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.subscription-service-type-->\n<!--         AND allotted-resource.id = $allotted-resource-id'-->\n<!--\tlocal-only=\"false\"-->\n<!--\tforce=\"true\" pfx=\"tmp.aai.allotted-resource\">-->\n\n<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"allotted-resource\"\n\tkey='service-instance.service-instance-id = $vnf-topology-operation-input.service-information.service-instance-id\n         AND customer.global-customer-id = $vnf-topology-operation-input.service-information.global-customer-id \n         AND service-subscription.service-type = $vnf-topology-operation-input.service-information.subscription-service-type\n         AND allotted-resource.id = $allotted-resource-id'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.allotted-resource\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2300.566665649414,
        "y": 319.56666564941406,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "f2966e51.e2caf8",
                "2b2db624.af7c1a",
                "626f780f.86dfb8"
            ]
        ]
    },
    {
        "id": "f2966e51.e2caf8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2516.566665649414,
        "y": 386.56666564941406,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "8eff1c95.000698"
            ]
        ]
    },
    {
        "id": "2b2db624.af7c1a",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2517.057632446289,
        "y": 286.14064025878906,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "e741338f.fadbb8"
            ]
        ]
    },
    {
        "id": "626f780f.86dfb8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2512.566665649414,
        "y": 335.56666564941406,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "2cb8a0b4.ed0f98"
            ]
        ]
    },
    {
        "id": "e741338f.fadbb8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 2694.629165649414,
        "y": 286.42640686035156,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "2cb8a0b4.ed0f98",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 2694.566665649414,
        "y": 335.56666564941406,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "1c10a7b4.762648",
        "type": "save",
        "name": "get logical-link from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"logical-link\"\n\tkey='logical-link.link-name = $logical-link-name'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.logical-link\">",
        "comments": "",
        "outputs": 1,
        "x": 3569.566665649414,
        "y": 840.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "54f63921.d24288",
                "11c3d54e.f4363b",
                "e636914f.ca32e"
            ]
        ]
    },
    {
        "id": "54f63921.d24288",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3861.057632446289,
        "y": 819.1406402587891,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "4ad84bdb.1011e4"
            ]
        ]
    },
    {
        "id": "11c3d54e.f4363b",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3849.566665649414,
        "y": 863.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "611bd1d0.bbec68"
            ]
        ]
    },
    {
        "id": "4ad84bdb.1011e4",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 4009.629165649414,
        "y": 819.4264068603516,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "611bd1d0.bbec68",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 4008.566665649414,
        "y": 863.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "e636914f.ca32e",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3855.566665649414,
        "y": 910.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            []
        ]
    },
    {
        "id": "4dddc413.6cd63c",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4009.566665649414,
        "y": 949.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "db6151f2.0aacb",
                "e016be81.6c64f",
                "9f8998d0.ce9c48",
                "44a9159e.85e724",
                "8f0ab711.e0d798",
                "d96045a7.1a29c8",
                "7c9d6be0.59e3fc",
                "5f01b0d6.663678",
                "96f11e74.5cf9",
                "32dd1d69.d1982a",
                "fefb165c.6d9d48",
                "afd6fb79.f36b6",
                "1a397526.128d93"
            ]
        ]
    },
    {
        "id": "9f8998d0.ce9c48",
        "type": "save",
        "name": "get network-route-A from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"network-route\"\n\tkey='network-route.route-id = $network-route-A'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.network-route-A\">",
        "comments": "",
        "outputs": 1,
        "x": 4356.566665649414,
        "y": 992.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "ad94bc3e.2edb18",
                "3c6b8cbe.35a074",
                "e925e05d.5c3e7"
            ]
        ]
    },
    {
        "id": "44a9159e.85e724",
        "type": "save",
        "name": "get network-route-B from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"network-route\"\n\tkey='network-route.route-id = $network-route-B'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.network-route-B\">",
        "comments": "",
        "outputs": 1,
        "x": 4335.566665649414,
        "y": 1594.5665435791016,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "ce3181da.534ae8",
                "dd474f13.0169c8",
                "1e53e46c.6ee5dc"
            ]
        ]
    },
    {
        "id": "ad94bc3e.2edb18",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4557.566665649414,
        "y": 876.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "11095a88.1d6375"
            ]
        ]
    },
    {
        "id": "3c6b8cbe.35a074",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4553.075698852539,
        "y": 925.9926910400391,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "1c85f4a2.49e393"
            ]
        ]
    },
    {
        "id": "e925e05d.5c3e7",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4557.075698852539,
        "y": 976.9926910400391,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "7e7cdd76.7cfb84"
            ]
        ]
    },
    {
        "id": "11095a88.1d6375",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 4706.138198852539,
        "y": 875.8524322509766,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "1c85f4a2.49e393",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 4696.075698852539,
        "y": 925.9926910400391,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "ce3181da.534ae8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4558.566665649414,
        "y": 1564.5665435791016,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "b22dee41.00f36"
            ]
        ]
    },
    {
        "id": "dd474f13.0169c8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4554.075698852539,
        "y": 1613.9925689697266,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "6933584e.ecc31"
            ]
        ]
    },
    {
        "id": "1e53e46c.6ee5dc",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4558.075698852539,
        "y": 1664.9925689697266,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "b7fe5d85.6c90f"
            ]
        ]
    },
    {
        "id": "b22dee41.00f36",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 4707.138198852539,
        "y": 1563.852310180664,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "6933584e.ecc31",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 4697.075698852539,
        "y": 1613.9925689697266,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "95843474.b9bce8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5371.233169555664,
        "y": 1020.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "b4615ea7.1bce1",
                "be2e7ced.c4df",
                "ce2c131b.42f24",
                "71b17710.70c14",
                "89a7842f.afd83"
            ]
        ]
    },
    {
        "id": "4503129f.bd2fd4",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5198.566665649414,
        "y": 1021.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "95843474.b9bce8"
            ]
        ]
    },
    {
        "id": "8659354b.96b4a",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5208.057632446289,
        "y": 1064.1407012939453,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "df26ebdc.1c7d8"
            ]
        ]
    },
    {
        "id": "f14e9aee.41ddd",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5196.566665649414,
        "y": 1110.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "779f16ad.79c298"
            ]
        ]
    },
    {
        "id": "df26ebdc.1c7d8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 5361.629043579102,
        "y": 1067.4264373779297,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "779f16ad.79c298",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 5365.566665649414,
        "y": 1111.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "7e7cdd76.7cfb84",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4718.566665649414,
        "y": 978.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "d6ce477c.e6b1",
                "6ff01134.d27b1"
            ]
        ]
    },
    {
        "id": "b7fe5d85.6c90f",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4708.566665649414,
        "y": 1666.5665435791016,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "44dc4d90.b0cc4c",
                "abe40e95.5db908"
            ]
        ]
    },
    {
        "id": "12aedd33.0f1043",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5339.233169555664,
        "y": 1856.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "e22e2a42.a26b1",
                "cf28df7d.f3d4b",
                "daaed265.7759a8",
                "cb8398b0.7dbb5",
                "7bc8d59f.6d2444"
            ]
        ]
    },
    {
        "id": "9a2935ba.2db97",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5166.566665649414,
        "y": 1857.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "12aedd33.0f1043"
            ]
        ]
    },
    {
        "id": "dcc235b8.72838",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5176.057632446289,
        "y": 1900.1407012939453,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "6a73fa3d.d6c2b4"
            ]
        ]
    },
    {
        "id": "262965f5.6cf9ea",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5164.566665649414,
        "y": 1946.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "403c1229.13a954"
            ]
        ]
    },
    {
        "id": "6a73fa3d.d6c2b4",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 5329.629043579102,
        "y": 1903.4264373779297,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "403c1229.13a954",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 5333.566665649414,
        "y": 1947.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "b4615ea7.1bce1",
        "type": "execute",
        "name": "execute split tp-id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.aai.network-route-A.p-interface-src.interface-name`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-domainA\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 5635.566665649414,
        "y": 1004.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "7fca3373.091184",
                "84a28ee2.eeb658"
            ]
        ]
    },
    {
        "id": "84a28ee2.eeb658",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5858.566665649414,
        "y": 959.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "70d4fffc.d22c5"
            ]
        ]
    },
    {
        "id": "7fca3373.091184",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5860.566665649414,
        "y": 1023.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "3dce84d0.b85dd4"
            ]
        ]
    },
    {
        "id": "850dbb90.b4b68",
        "type": "set",
        "name": "set ltpId",
        "xml": "<set>\n<parameter name='tmp.src.ltpId' value='`$param-prefix-domainA[$param-prefix-domainA_length -1]`' />\n",
        "comments": "",
        "x": 6193.566665649414,
        "y": 914.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "3dce84d0.b85dd4",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 6022.566665649414,
        "y": 1019.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "70d4fffc.d22c5",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 6023.566665649414,
        "y": 956.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "caf9269d.270b2",
                "850dbb90.b4b68"
            ]
        ]
    },
    {
        "id": "caf9269d.270b2",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.src.pnf-name' value='`$param-prefix-domainA[$param-prefix-domainA_length -3]`' />\n",
        "comments": "",
        "x": 6194.566665649414,
        "y": 1022.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "59bf2583.d75a84",
        "type": "comment",
        "name": "TODO: FIXME",
        "info": "using the output of regex string arrays,\nconcatinate index 0 to index[length-2] all together\nin order to assemble the correct pnf-name",
        "comments": "",
        "x": 6195.566665649414,
        "y": 971.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "be2e7ced.c4df",
        "type": "execute",
        "name": "execute UUID generator for connectivity domainA",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"uuid.connectivity-domainA-uuid\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 5682.566665649414,
        "y": 1073.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            []
        ]
    },
    {
        "id": "27594e13.316c22",
        "type": "comment",
        "name": "TODO: FIXME",
        "info": "using the output of regex string arrays,\nconcatinate index 0 to index[?] all together\nin order to assemble the correct values for provider-id, \ntopology-id, node-id, etc.",
        "comments": "",
        "x": 5571.566665649414,
        "y": 1114.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "e22e2a42.a26b1",
        "type": "execute",
        "name": "execute split tp-id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.aai.network-route-B.p-interface-dst.interface-name`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-domainB\"/>\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 5625.566665649414,
        "y": 1860.5667877197266,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "b2f644ca.d12c2",
                "b58bca2c.4bf2c"
            ]
        ]
    },
    {
        "id": "b58bca2c.4bf2c",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5848.566665649414,
        "y": 1815.5667877197266,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "983024ad.f8675"
            ]
        ]
    },
    {
        "id": "b2f644ca.d12c2",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5850.566665649414,
        "y": 1879.5667877197266,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "4af84f4.a49b8b"
            ]
        ]
    },
    {
        "id": "c96d7934.c0e9e8",
        "type": "set",
        "name": "set ltpId",
        "xml": "<set>\n<parameter name='tmp.dst.ltpId' value='`$param-prefix-domainB[$param-prefix-domainB_length -1]`' />\n",
        "comments": "",
        "x": 6183.566665649414,
        "y": 1773.5667877197266,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "4af84f4.a49b8b",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 6009.566665649414,
        "y": 1898.5667877197266,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "983024ad.f8675",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 6013.566665649414,
        "y": 1812.5667877197266,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "c96d7934.c0e9e8",
                "183e4dc8.9e45ba"
            ]
        ]
    },
    {
        "id": "183e4dc8.9e45ba",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.dst.pnf-name' value='`$param-prefix-domainB[$param-prefix-domainB_length -3]`' />\n",
        "comments": "",
        "x": 6184.566665649414,
        "y": 1878.5667877197266,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "57730d78.763bfc",
        "type": "comment",
        "name": "TODO: FIXME",
        "info": "using the output of regex string arrays,\nconcatinate index 0 to index[length-2] all together\nin order to assemble the correct pnf-name",
        "comments": "",
        "x": 6179.566665649414,
        "y": 1827.5667877197266,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "daaed265.7759a8",
        "type": "save",
        "name": "save connectivity resource in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $prop.connectivity-domainB-uuid'>\n<parameter name='connectivity-id' value='`$prop.connectivity-domainB-uuid`' />\n<parameter name='etht-svc-name' value='`$prop.ethernet-service-name`' />\n<parameter name='operational-status' value='Created' />\n<parameter name='access-provider-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -9]`' />\n<parameter name='access-client-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -7]`' />\n<parameter name='access-topology-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -5]`' />\n<parameter name='access-node-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -3]`' />\n<parameter name='access-ltp-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -1]`' />\n<parameter name='cvlan' value='`$tmp.aai.network-route-B.logical-interface-id`' />\n\n<parameter name='bandwidth-profile-name' value='`$gfp`' />\n<parameter name='vpn-type' value='`$prop.sotn.vpnType`' />\n<parameter name='cir' value='`$gfp *1000000`' />\n<parameter name='eir' value='`$gfp *1000000`' />\n<parameter name='cbs' value='`$prop.sotn.cbs`' />\n<parameter name='ebs' value='`$prop.sotn.ebs`' />\n<!--<parameter name='color-aware' value='`$prop.sotn.colorAware`' />-->\n<!--<parameter name='coupling-flag' value='`$prop.sotn.couplingFlag`' />-->\n<!--<parameter name='etht-svc-name' value='`$prop.sotn.etht-svc-name`' />-->\n<!--<parameter name='model-customization-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-customization-uuid`' />-->\n<!--<parameter name='model-invariant-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-invariant-uuid`' />-->\n<!--<parameter name='model-version-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-uuid`' />-->\n<parameter name='connectivity-selflink' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'  + $network-topology-operation-input.service-information.service-instance-id  + '/service-data/networks/network/'  + $prop.sotn.network-id  + '/network-data/'` \" />\n",
        "comments": "",
        "outputs": 1,
        "x": 5627.566665649414,
        "y": 2019.5667877197266,
        "z": "25a21122.0e2cfe",
        "wires": [
            []
        ]
    },
    {
        "id": "cf28df7d.f3d4b",
        "type": "execute",
        "name": "execute UUID generator for connectivity domainB",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.connectivity-domainB-uuid\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 5672.566665649414,
        "y": 1929.5667877197266,
        "z": "25a21122.0e2cfe",
        "wires": [
            []
        ]
    },
    {
        "id": "9f3e922b.b3211",
        "type": "comment",
        "name": "TODO: FIXME",
        "info": "using the output of regex string arrays,\nconcatinate index 0 to index[?] all together\nin order to assemble the correct values for provider-id, \ntopology-id, node-id, etc.",
        "comments": "",
        "x": 5561.566665649414,
        "y": 1967.5667877197266,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "8f0ab711.e0d798",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:tsli-vnf-topology-operation-get-otn-tunnel-path-from-oof",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='tsli-vnf-topology-operation-get-otn-tunnel-path-from-oof' mode='sync' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4556.566665649414,
        "y": 2264.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            []
        ]
    },
    {
        "id": "d96045a7.1a29c8",
        "type": "set",
        "name": "set attachment_param",
        "xml": "<set>\n<parameter name='prop.connection-attachment.access-provider-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -9]`' />\n<parameter name='prop.connection-attachment.access-client-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -7]`' />\n<parameter name='prop.connection-attachment.access-topology-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -5]`' />\n<parameter name='prop.connection-attachment.access-node-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -3]`' />\n<parameter name='prop.connection-attachment.access-ltp-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -1]`' />\n\n<parameter name='prop.remote.connection-attachment.access-provider-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -9]`' />\n<parameter name='prop.remote.connection-attachment.access-client-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -7]`' />\n<parameter name='prop.remote.connection-attachment.access-topology-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -5]`' />\n<parameter name='prop.remote.connection-attachment.access-node-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -3]`' />\n<parameter name='prop.remote.connection-attachment.access-ltp-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -1]`' />\n\n<!--<parameter name='prop.remote.connection-attachment.access-provider-id' value='`$oof.vpn.access-provider-id`' />-->\n<!--<parameter name='prop.remote.connection-attachment.access-client-id' value='`$oof.vpn.access-client-id`' />-->\n<!--<parameter name='prop.remote.connection-attachment.access-topology-id' value='`$oof.vpn.access-topology-id`' />-->\n<!--<parameter name='prop.remote.connection-attachment.access-node-id' value='`$oof.vpn.access-node-id`' />-->\n<!--<parameter name='prop.remote.connection-attachment.access-ltp-id' value='`$oof.vpn.src-access-ltp-id`' />-->\n",
        "comments": "",
        "x": 4350.566665649414,
        "y": 2165.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "d2d69fa1.baa39",
        "type": "comment",
        "name": "TODO: FIXME",
        "info": "put proper values for src topology-id, node-id, ltp-id, etc (in domain A)\nand dst topology-id, node-id, ltp-id, etc (in domain B)",
        "comments": "",
        "x": 4324.566665649414,
        "y": 2118.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "ce2c131b.42f24",
        "type": "save",
        "name": "save TNNSSI (transport service instance) relationship to connectivity in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='service-instance:relationship-list' \n      key='service-instance.service-instance-id = $vnf-topology-operation-input.service-information.service-instance-id\n         AND customer.global-customer-id = $vnf-topology-operation-input.service-information.global-customer-id \n         AND service-subscription.service-type = $vnf-topology-operation-input.service-information.subscription-service-type' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"connectivity\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/connectivities/connectivity/' + $uuid.connectivity-domainA-uuid`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"connectivity.connectivity-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$uuid.connectivity-domainA-uuid`\" />\n\n\n<!--<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='service-instance:relationship-list' -->\n<!--      key='service-instance.service-instance-id = $service-data.service-information.service-instance-id -->\n<!--         AND customer.global-customer-id = $service-data.networks.network[$nidx].network-data.service-information.global-customer-id -->\n<!--         AND service-subscription.service-type = $service-data.networks.network[$nidx].network-data.service-information.subscription-service-type' -->\n<!--      force=\"true\" pfx=\"tmp.AnAI-data\">-->\n<!--<parameter name=\"relationship-list.relationship[0].related-to\" value=\"connectivity\" />-->\n<!--<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/connectivities/connectivity/' + $prop.sotn.network-id`\" />-->\n<!--<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"connectivity.connectivity-id\" />-->\n<!--<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$prop.sotn.network-id`\" />-->",
        "comments": "",
        "outputs": 1,
        "x": 5765.566665649414,
        "y": 1211.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            []
        ]
    },
    {
        "id": "cb8398b0.7dbb5",
        "type": "save",
        "name": "save TNNSSI (transport service instance) relationship to connectivity in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='service-instance:relationship-list' \n      key='service-instance.service-instance-id = $vnf-topology-operation-input.service-information.service-instance-id\n         AND customer.global-customer-id = $vnf-topology-operation-input.service-information.global-customer-id \n         AND service-subscription.service-type = $vnf-topology-operation-input.service-information.subscription-service-type' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"connectivity\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/connectivities/connectivity/' + $prop.connectivity-domainB-uuid`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"connectivity.connectivity-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$prop.connectivity-domainB-uuid`\" />\n\n\n<!--<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='service-instance:relationship-list' -->\n<!--      key='service-instance.service-instance-id = $service-data.service-information.service-instance-id -->\n<!--         AND customer.global-customer-id = $service-data.networks.network[$nidx].network-data.service-information.global-customer-id -->\n<!--         AND service-subscription.service-type = $service-data.networks.network[$nidx].network-data.service-information.subscription-service-type' -->\n<!--      force=\"true\" pfx=\"tmp.AnAI-data\">-->\n<!--<parameter name=\"relationship-list.relationship[0].related-to\" value=\"connectivity\" />-->\n<!--<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/connectivities/connectivity/' + $prop.sotn.network-id`\" />-->\n<!--<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"connectivity.connectivity-id\" />-->\n<!--<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$prop.sotn.network-id`\" />-->",
        "comments": "",
        "outputs": 1,
        "x": 5754.566665649414,
        "y": 2084.5667877197266,
        "z": "25a21122.0e2cfe",
        "wires": [
            []
        ]
    },
    {
        "id": "92b1873d.551bc",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domainA.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domainA.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 6809.566665649414,
        "y": 731.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "3b96c7df.05e2",
                "1eec19a2.07645e",
                "b1213bca.c3532"
            ]
        ]
    },
    {
        "id": "8eff1c95.000698",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2696.566665649414,
        "y": 386.56666564941406,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "ad97eaf2.db3cf"
            ]
        ]
    },
    {
        "id": "5c4d87c2.cacd08",
        "type": "outcome",
        "name": "logical-link",
        "xml": "<outcome value='logical-link'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1093.5667877197266,
        "y": 781.5667877197266,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "ba05feca.357468"
            ]
        ]
    },
    {
        "id": "41f5506e.8f5aa",
        "type": "switchNode",
        "name": "switch allotted-resource.relationship-list not empty",
        "xml": "<switch test='`$tmp.aai.allotted-resource.relationship-list.relationship_length != 0`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2259.566665649414,
        "y": 480.56666564941406,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "8b2a546b.9f5318",
                "f654fc01.bf0048"
            ]
        ]
    },
    {
        "id": "f654fc01.bf0048",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2580.566665649414,
        "y": 462.56666564941406,
        "z": "25a21122.0e2cfe",
        "wires": [
            []
        ]
    },
    {
        "id": "8b2a546b.9f5318",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2562.566665649414,
        "y": 560.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "24772c6a.a8483c"
            ]
        ]
    },
    {
        "id": "94799b47.aa87f8",
        "type": "set",
        "name": "set the current logical-link-name",
        "xml": "<set>\n<parameter name='logical-link-name' value=\"`$tmp.aai.allotted-resource.relationship-list.relationship[$idx].relationship-data[0].relationship-value`\" />\n<parameter name='currLinkIsFound' value=\"false\" />\n\n\n",
        "comments": "",
        "x": 1516.566665649414,
        "y": 684.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "ba05feca.357468",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1270.566665649414,
        "y": 774.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "94799b47.aa87f8",
                "433e887a.5dd2c",
                "fc0b0bdf.af57e8"
            ]
        ]
    },
    {
        "id": "fa0822cd.53caf",
        "type": "comment",
        "name": "Question?",
        "info": "How to know if DG would send this get request\nin \"nodes\" namespace instead of \"network\" namespace?",
        "comments": "",
        "x": 4898.566665649414,
        "y": 983.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "d6ce477c.e6b1",
        "type": "save",
        "name": "get p-interface-src from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"p-interface\"\n\t    key=\"pnf.pnf-name = $tmp.src.domainA.pnf-name\n\t        AND p-interface.interface-name = $tmp.aai.network-route-A.next-hop\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.network-route-A.p-interface-src\" >\n\n<!--<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" -->\n<!--\tresource=\"p-interface\"-->\n<!--\t    key=\"pnf.pnf-name = $unique-src-node-Id-->\n<!--\t        and p-interface.interface-name = $tmp.aai.endpointA.relationship-list.relationship[$rel-index].relationship-data[0].relationship-value\"-->\n<!--\t\tlocal-only=\"false\" -->\n<!--\t\tpfx=\"tmp.aai.endpointA.p-interface-src\" >-->\n",
        "comments": "",
        "outputs": 1,
        "x": 4941.566665649414,
        "y": 1048.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "4503129f.bd2fd4",
                "8659354b.96b4a",
                "f14e9aee.41ddd"
            ]
        ]
    },
    {
        "id": "44dc4d90.b0cc4c",
        "type": "save",
        "name": "get p-interface-dst from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"p-interface\"\n\t    key=\"pnf.pnf-name = $tmp.dst.domainB.pnf-name\n\t        AND p-interface.interface-name = $tmp.aai.network-route-B.next-hop\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.network-route-B.p-interface-dst\" >\n\n<!--<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" -->\n<!--\tresource=\"p-interface\"-->\n<!--\t    key=\"pnf.pnf-name = $unique-src-node-Id-->\n<!--\t        and p-interface.interface-name = $tmp.aai.endpointA.relationship-list.relationship[$rel-index].relationship-data[0].relationship-value\"-->\n<!--\t\tlocal-only=\"false\" -->\n<!--\t\tpfx=\"tmp.aai.endpointA.p-interface-src\" >-->\n",
        "comments": "",
        "outputs": 1,
        "x": 4938.566665649414,
        "y": 1892.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "9a2935ba.2db97",
                "dcc235b8.72838",
                "262965f5.6cf9ea"
            ]
        ]
    },
    {
        "id": "2ca1c6c2.0f0f22",
        "type": "comment",
        "name": "Question?",
        "info": "How to know if DG would send this get request\nin \"nodes\" namespace instead of \"network\" namespace?",
        "comments": "",
        "x": 4899.566665649414,
        "y": 1836.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "ad97eaf2.db3cf",
        "type": "save",
        "name": "get allotted-resource relationship from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"allotted-resource:relationship-list\"\n\tkey='service-instance.service-instance-id = $vnf-topology-operation-input.service-information.service-instance-id\n         AND customer.global-customer-id = $vnf-topology-operation-input.service-information.global-customer-id \n         AND service-subscription.service-type = $vnf-topology-operation-input.service-information.subscription-service-type\n         AND allotted-resource.id = $allotted-resource-id'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.allotted-resource.relationship-list\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2989.566665649414,
        "y": 333.56666564941406,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "ef5e96fe.587c78",
                "e171a2b9.a46c9",
                "ed7e8b76.daabf"
            ]
        ]
    },
    {
        "id": "e171a2b9.a46c9",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3263.057632446289,
        "y": 226.14064025878906,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "ae21063b.421918"
            ]
        ]
    },
    {
        "id": "ae21063b.421918",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 3440.629165649414,
        "y": 226.42640686035156,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "ed7e8b76.daabf",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3258.566665649414,
        "y": 275.56666564941406,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "1fe6476a.260d99"
            ]
        ]
    },
    {
        "id": "1fe6476a.260d99",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 3440.566665649414,
        "y": 275.56666564941406,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "ef5e96fe.587c78",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3262.566665649414,
        "y": 326.56666564941406,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "5ed5bf6.6fd244"
            ]
        ]
    },
    {
        "id": "5ed5bf6.6fd244",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3442.566665649414,
        "y": 326.56666564941406,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "41f5506e.8f5aa"
            ]
        ]
    },
    {
        "id": "99ef6a45.9ad878",
        "type": "for",
        "name": "for each allotted-resource relationship",
        "xml": "<for index='idx' start='0' end='`$tmp.aai.allotted-resource.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 868.5666656494141,
        "y": 710.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "99689150.5b9778"
            ]
        ]
    },
    {
        "id": "99689150.5b9778",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.allotted-resource.relationship-list.relationship[$idx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1139.566665649414,
        "y": 706.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "5c4d87c2.cacd08"
            ]
        ]
    },
    {
        "id": "2bf740bc.b587b",
        "type": "outcome",
        "name": "network-policy",
        "xml": "<outcome value='network-policy'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3418.566665649414,
        "y": 524.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "3a3c2a70.68a7ee"
            ]
        ]
    },
    {
        "id": "3a3c2a70.68a7ee",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3595.5665435791016,
        "y": 517.5665435791016,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "e9454f9d.caf03",
                "6d43a86.3d48758"
            ]
        ]
    },
    {
        "id": "e9454f9d.caf03",
        "type": "set",
        "name": "set the 1st network-policy-id",
        "xml": "<set>\n<parameter name='network-policy-id' value=\"`$tmp.aai.allotted-resource.relationship-list.relationship[$idx].relationship-data[0].relationship-value`\" />\n\n\n",
        "comments": "",
        "x": 3838.5665435791016,
        "y": 474.56654357910156,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "6d43a86.3d48758",
        "type": "save",
        "name": "get network-policy from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"network-policy\"\n\tkey='network-policy.network-policy-id = $network-policy-id'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.network-policy\">",
        "comments": "",
        "outputs": 1,
        "x": 3827.5665435791016,
        "y": 529.5665435791016,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "8a364a72.424c28",
                "fd07ec43.4387a",
                "4d3c4393.f4c224"
            ]
        ]
    },
    {
        "id": "4d3c4393.f4c224",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4080.566665649414,
        "y": 415.56666564941406,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "8a48cdf4.281a78"
            ]
        ]
    },
    {
        "id": "8a48cdf4.281a78",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 4229.138198852539,
        "y": 415.85243225097656,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "81c305db.010dc",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 4228.075698852539,
        "y": 459.99269104003906,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "fd07ec43.4387a",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4069.075698852539,
        "y": 459.99269104003906,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "81c305db.010dc"
            ]
        ]
    },
    {
        "id": "8a364a72.424c28",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4076.075698852539,
        "y": 538.9926910400391,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "41b3b67d.c6f8e8"
            ]
        ]
    },
    {
        "id": "41b3b67d.c6f8e8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4215.075698852539,
        "y": 538.9926910400391,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "f0091688.66654",
                "4f7a1356.449274"
            ]
        ]
    },
    {
        "id": "f0091688.66654",
        "type": "set",
        "name": "set the max bandwidth",
        "xml": "<set>\n<parameter name='maximum-bandwidth' value=\"`$tmp.aai.network-policy.max-bandwidth`\" />\n<parameter name='route-distinguisher' value='`$maximum-bandwidth /1000 *4 /5 +1`' />\n\n\n\n",
        "comments": "",
        "x": 4420.566665649414,
        "y": 536.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "6ff01134.d27b1",
        "type": "execute",
        "name": "execute split tp-id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.aai.network-route-A.next-hop`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-domainA-pnfName\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4942.566665649414,
        "y": 718.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "39467319.609964",
                "3cc969fb.c20abe"
            ]
        ]
    },
    {
        "id": "3cc969fb.c20abe",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5165.566665649414,
        "y": 704.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "2dfb867b.202c62"
            ]
        ]
    },
    {
        "id": "39467319.609964",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5167.566665649414,
        "y": 737.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "fb83e9be.2efe"
            ]
        ]
    },
    {
        "id": "fb83e9be.2efe",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 5310.566665649414,
        "y": 734.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "2dfb867b.202c62",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5313.566665649414,
        "y": 697.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "15d7491f.df8677",
                "965ca101.13418"
            ]
        ]
    },
    {
        "id": "15d7491f.df8677",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.src.domainA.pnf-name' value=\"`$param-prefix-domainA-pnfName[0] + '-' +\n                                                   $param-prefix-domainA-pnfName[1] + '-' +\n                                                   $param-prefix-domainA-pnfName[2] + '-' +\n                                                   $param-prefix-domainA-pnfName[3] + '-' +\n                                                   $param-prefix-domainA-pnfName[4] + '-' +\n                                                   $param-prefix-domainA-pnfName[5] + '-' +\n                                                   $param-prefix-domainA-pnfName[6] + '-' +\n                                                   $param-prefix-domainA-pnfName[7] + '-' +\n                                                   $param-prefix-domainA-pnfName[8]`\" />\n",
        "comments": "",
        "x": 5475.566665649414,
        "y": 692.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "abe40e95.5db908",
        "type": "execute",
        "name": "execute split tp-id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.aai.network-route-B.next-hop`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-domainB-pnfName\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4956.566665649414,
        "y": 1555.5665435791016,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "d51c262f.477ec",
                "4509355c.99159c"
            ]
        ]
    },
    {
        "id": "4509355c.99159c",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5179.566665649414,
        "y": 1541.5665435791016,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "d6d3b9d3.95749"
            ]
        ]
    },
    {
        "id": "d51c262f.477ec",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5181.566665649414,
        "y": 1574.5665435791016,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "41fb7895.687548"
            ]
        ]
    },
    {
        "id": "41fb7895.687548",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 5324.566665649414,
        "y": 1571.5665435791016,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "d6d3b9d3.95749",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5327.566665649414,
        "y": 1534.5665435791016,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "dc31fe9c.b39df",
                "22e60879.c39a9"
            ]
        ]
    },
    {
        "id": "dc31fe9c.b39df",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.dst.domainB.pnf-name' value=\"`$param-prefix-domainB-pnfName[0] + '-' +\n                                                   $param-prefix-domainB-pnfName[1] + '-' +\n                                                   $param-prefix-domainB-pnfName[2] + '-' +\n                                                   $param-prefix-domainB-pnfName[3] + '-' +\n                                                   $param-prefix-domainB-pnfName[4] + '-' +\n                                                   $param-prefix-domainB-pnfName[5] + '-' +\n                                                   $param-prefix-domainB-pnfName[6] + '-' +\n                                                   $param-prefix-domainB-pnfName[7] + '-' +\n                                                   $param-prefix-domainB-pnfName[8]`\" />\n",
        "comments": "",
        "x": 5521.566665649414,
        "y": 1537.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "dd074b01.699d5",
        "type": "execute",
        "name": "execute properties",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />",
        "comments": "",
        "outputs": 1,
        "x": 1119.566665649414,
        "y": 241.56666564941406,
        "z": "25a21122.0e2cfe",
        "wires": [
            []
        ]
    },
    {
        "id": "71b17710.70c14",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='pividx' start='0' end='`$tmp.aai.network-route-A.p-interface-src.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 5589.566665649414,
        "y": 1288.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "262b12c7.d4eb86"
            ]
        ]
    },
    {
        "id": "262b12c7.d4eb86",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.network-route-A.p-interface-src.relationship-list.relationship[$pividx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5795.566665649414,
        "y": 1288.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "5944b4c4.a90d9c"
            ]
        ]
    },
    {
        "id": "5944b4c4.a90d9c",
        "type": "outcome",
        "name": "tunnel-termination-point",
        "xml": "<outcome value='tunnel-termination-point'>\n",
        "comments": "",
        "outputs": 1,
        "x": 6010.852310180664,
        "y": 1288.388442993164,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "97ca4a46.233f6"
            ]
        ]
    },
    {
        "id": "97ca4a46.233f6",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 6217.683853149414,
        "y": 1288.906997680664,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "18a90b5a.512eed",
                "9b9213f3.dfc428",
                "21506293.2b15d6"
            ]
        ]
    },
    {
        "id": "18a90b5a.512eed",
        "type": "set",
        "name": "set source ttp-id",
        "xml": "<set>\n<parameter name='tmp.source.ttp-id' value=\"`$tmp.aai.network-route-A.p-interface-src.relationship-list.relationship[$pividx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 6432.683853149414,
        "y": 1250.906997680664,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "9b9213f3.dfc428",
        "type": "get-resource",
        "name": "get-resource src TTP",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"tunnel-termination-point\" \n\t\tkey=\"tunnel-termination-point.ttp-id = $tmp.source.ttp-id \n\t\tAND depth = '0'\"\n        pfx='tmp.aai.source-ttp' local-only='false' >\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 6429.683853149414,
        "y": 1289.906997680664,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "8cbab548.0454b"
            ]
        ]
    },
    {
        "id": "21506293.2b15d6",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 6385.183853149414,
        "y": 1331.906997680664,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "8cbab548.0454b",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 6610.183853149414,
        "y": 1288.906997680664,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "326ba546.7f7e7a"
            ]
        ]
    },
    {
        "id": "326ba546.7f7e7a",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 6768.183853149414,
        "y": 1288.906997680664,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "49cced3d.6f7764"
            ]
        ]
    },
    {
        "id": "49cced3d.6f7764",
        "type": "set",
        "name": "set source tunnel tp ip",
        "xml": "<set>\n<parameter name='source.tunnel-tp-id' value=\"`$tmp.aai.source-ttp.tunnel-tp-id`\" />\n",
        "comments": "",
        "x": 6975.183853149414,
        "y": 1288.906997680664,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "7bc8d59f.6d2444",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='dividx' start='0' end='`$tmp.aai.network-route-B.p-interface-dst.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 5586.566665649414,
        "y": 2157.5667877197266,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "8f6d6d5b.1cead8"
            ]
        ]
    },
    {
        "id": "8f6d6d5b.1cead8",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.network-route-B.p-interface-dst.relationship-list.relationship[$dividx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5792.566665649414,
        "y": 2157.5667877197266,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "e19b436a.7033d"
            ]
        ]
    },
    {
        "id": "e19b436a.7033d",
        "type": "outcome",
        "name": "tunnel-termination-point",
        "xml": "<outcome value='tunnel-termination-point'>\n",
        "comments": "",
        "outputs": 1,
        "x": 6007.852310180664,
        "y": 2157.3885650634766,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "bec0ab0f.3e04c8"
            ]
        ]
    },
    {
        "id": "bec0ab0f.3e04c8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 6214.683853149414,
        "y": 2157.9071197509766,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "27fbcba1.3d3b74",
                "ceb087f2.f1a2d",
                "f5af142d.56f9a8"
            ]
        ]
    },
    {
        "id": "27fbcba1.3d3b74",
        "type": "set",
        "name": "set destination ttp-id",
        "xml": "<set>\n<parameter name='tmp.destination.ttp-id' value=\"`$tmp.aai.network-route-B.p-interface-dst.relationship-list.relationship[$dividx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 6429.683853149414,
        "y": 2119.9071197509766,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "ceb087f2.f1a2d",
        "type": "get-resource",
        "name": "get-resource src TTP",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"tunnel-termination-point\" \n\t\tkey=\"tunnel-termination-point.ttp-id = $tmp.destination.ttp-id \n\t\tAND depth = '0'\"\n        pfx='tmp.aai.destination-ttp' local-only='false' >\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 6426.683853149414,
        "y": 2158.9071197509766,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "3dd2b911.678516"
            ]
        ]
    },
    {
        "id": "f5af142d.56f9a8",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 6382.183853149414,
        "y": 2200.9071197509766,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "3dd2b911.678516",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 6607.183853149414,
        "y": 2157.9071197509766,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "2d748944.5ecffe"
            ]
        ]
    },
    {
        "id": "2d748944.5ecffe",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 6765.183853149414,
        "y": 2157.9071197509766,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "6570963f.999c3"
            ]
        ]
    },
    {
        "id": "6570963f.999c3",
        "type": "set",
        "name": "set destination tunnel tp ip",
        "xml": "<set>\n<parameter name='destination.tunnel-tp-id' value=\"`$tmp.aai.destination-ttp.tunnel-tp-id`\" />\n",
        "comments": "",
        "x": 6972.183853149414,
        "y": 2157.9071197509766,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "965ca101.13418",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.src.domainA.pnf-name\"\n        pfx='tmp.aai.source-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 5502.566665649414,
        "y": 764.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "50b56074.398fb8",
                "37713986.ac02f6",
                "9d9c191d.f7c08"
            ]
        ]
    },
    {
        "id": "50b56074.398fb8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5698.066787719727,
        "y": 716.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "e3c2a355.360d3"
            ]
        ]
    },
    {
        "id": "37713986.ac02f6",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5690.066787719727,
        "y": 771.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "f545ca2e.f44db"
            ]
        ]
    },
    {
        "id": "9d9c191d.f7c08",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5695.066787719727,
        "y": 828.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "e48b21a8.d61508"
            ]
        ]
    },
    {
        "id": "e48b21a8.d61508",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5847.066787719727,
        "y": 829.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "f545ca2e.f44db",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5858.066787719727,
        "y": 774.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "e3c2a355.360d3",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5842.449111938477,
        "y": 714.2223358154297,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "206fadad.185672"
            ]
        ]
    },
    {
        "id": "16b234e1.30a8c3",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 6424.566665649414,
        "y": 732.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "e787bf98.1dda3"
            ]
        ]
    },
    {
        "id": "e787bf98.1dda3",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 6601.566665649414,
        "y": 724.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "71a48553.06547c",
                "92b1873d.551bc"
            ]
        ]
    },
    {
        "id": "206fadad.185672",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='spvidx' start='0' end='`$tmp.aai.source-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 6026.566665649414,
        "y": 728.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "69c3e96a.358898"
            ]
        ]
    },
    {
        "id": "69c3e96a.358898",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 6221.566665649414,
        "y": 728.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "16b234e1.30a8c3",
                "90deb9f8.a72b18"
            ]
        ]
    },
    {
        "id": "71a48553.06547c",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domainA id",
        "xml": "<set>\n<parameter name='tmp.domainA.esr-thirdparty-id' value=\"`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 6839.566665649414,
        "y": 679.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "3b96c7df.05e2",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 7019.566665649414,
        "y": 722.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "6f8ea6fb.24df1"
            ]
        ]
    },
    {
        "id": "1eec19a2.07645e",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 7011.566665649414,
        "y": 777.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "91f5de57.10361"
            ]
        ]
    },
    {
        "id": "b1213bca.c3532",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 7016.566665649414,
        "y": 834.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "62327f7e.aacf68"
            ]
        ]
    },
    {
        "id": "62327f7e.aacf68",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 7168.566665649414,
        "y": 835.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "91f5de57.10361",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 7179.566665649414,
        "y": 780.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "6f8ea6fb.24df1",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 7163.948989868164,
        "y": 720.2223358154297,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "10e59332.2edbc5"
            ]
        ]
    },
    {
        "id": "10e59332.2edbc5",
        "type": "set",
        "name": "set controller domainA data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainA.url' value=\"`$tmp.aai.domainA.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainA.user' value=\"`$tmp.aai.domainA.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainA.password' value=\"`$tmp.aai.domainA.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 7378.566665649414,
        "y": 716.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "22e60879.c39a9",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.dst.domainB.pnf-name\"\n        pfx='tmp.aai.destination-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 5543.566665649414,
        "y": 1605.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "3be38b30.4b1f64",
                "53e462a7.300ecc",
                "be7dfbd6.3bfbb"
            ]
        ]
    },
    {
        "id": "3be38b30.4b1f64",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5739.066787719727,
        "y": 1557.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "3d4c22c4.8bc33e"
            ]
        ]
    },
    {
        "id": "53e462a7.300ecc",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5731.066787719727,
        "y": 1612.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "cc499006.fb3a6"
            ]
        ]
    },
    {
        "id": "be7dfbd6.3bfbb",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5736.066787719727,
        "y": 1669.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "95cfda12.13aa08"
            ]
        ]
    },
    {
        "id": "95cfda12.13aa08",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5888.066787719727,
        "y": 1670.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "cc499006.fb3a6",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5899.066787719727,
        "y": 1615.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "3d4c22c4.8bc33e",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5883.449111938477,
        "y": 1555.2223358154297,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "7d552eed.53cb2"
            ]
        ]
    },
    {
        "id": "6ebd5273.de974c",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 6465.566665649414,
        "y": 1573.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "d2cb326b.2ce928"
            ]
        ]
    },
    {
        "id": "d2cb326b.2ce928",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 6642.566665649414,
        "y": 1565.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "afdd7500.c5c358",
                "995d487d.d5b57"
            ]
        ]
    },
    {
        "id": "7d552eed.53cb2",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='dpvidx' start='0' end='`$tmp.aai.destination-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 6067.566665649414,
        "y": 1569.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "6d34d717.589238"
            ]
        ]
    },
    {
        "id": "6d34d717.589238",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.destination-pnf.relationship-list.relationship[$dpvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 6262.566665649414,
        "y": 1569.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "6ebd5273.de974c",
                "9bbf0d49.94213"
            ]
        ]
    },
    {
        "id": "995d487d.d5b57",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domainB.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domainB.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 6850.566665649414,
        "y": 1572.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "bb91f7ce.3ad978",
                "8e3f2e93.c1d45",
                "c8e3caf1.3f9eb8"
            ]
        ]
    },
    {
        "id": "afdd7500.c5c358",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domainB id",
        "xml": "<set>\n<parameter name='tmp.domainB.esr-thirdparty-id' value=\"`$tmp.aai.destination-pnf.relationship-list.relationship[$dpvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 6880.566665649414,
        "y": 1520.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "bb91f7ce.3ad978",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 7060.566665649414,
        "y": 1563.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "ced1d2ca.c0f7c"
            ]
        ]
    },
    {
        "id": "8e3f2e93.c1d45",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 7052.566665649414,
        "y": 1618.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "20b91ac9.f7bb0e"
            ]
        ]
    },
    {
        "id": "c8e3caf1.3f9eb8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 7057.566665649414,
        "y": 1675.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "625c69e0.19da8"
            ]
        ]
    },
    {
        "id": "625c69e0.19da8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 7209.566665649414,
        "y": 1676.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "20b91ac9.f7bb0e",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 7220.566665649414,
        "y": 1621.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "ced1d2ca.c0f7c",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 7204.948989868164,
        "y": 1561.2223358154297,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "483f20c0.02d49"
            ]
        ]
    },
    {
        "id": "483f20c0.02d49",
        "type": "set",
        "name": "set controller domainB data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainB.url' value=\"`$tmp.aai.domainB.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainB.user' value=\"`$tmp.aai.domainB.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainB.password' value=\"`$tmp.aai.domainB.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 7419.566665649414,
        "y": 1557.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "24772c6a.a8483c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 416.56666564941406,
        "y": 686.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "3dd61cc7.9b7d74",
                "99ef6a45.9ad878"
            ]
        ]
    },
    {
        "id": "3dd61cc7.9b7d74",
        "type": "for",
        "name": "for each allotted-resource relationship",
        "xml": "<for index='idx' start='0' end='`$tmp.aai.allotted-resource.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 862.5666656494141,
        "y": 545.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "51cf951b.e925c4"
            ]
        ]
    },
    {
        "id": "51cf951b.e925c4",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.allotted-resource.relationship-list.relationship[$idx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3227.566665649414,
        "y": 527.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "2bf740bc.b587b"
            ]
        ]
    },
    {
        "id": "90deb9f8.a72b18",
        "type": "outcome",
        "name": "network-resource",
        "xml": "<outcome value='network-resource'>",
        "comments": "",
        "outputs": 1,
        "x": 6427.566665649414,
        "y": 806.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "d620e654.6255c"
            ]
        ]
    },
    {
        "id": "d620e654.6255c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 6604.566665649414,
        "y": 798.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "4397af3f.dc85e"
            ]
        ]
    },
    {
        "id": "4397af3f.dc85e",
        "type": "set",
        "name": "set domainA ethernet layer network-id",
        "xml": "<set>\n<parameter name='tmp.domainA.eth-network-id' value=\"`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 6839.566665649414,
        "y": 922.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "40a79108.ee4848",
        "type": "set",
        "name": "set domainB ethernet layer network-id",
        "xml": "<set>\n<parameter name='tmp.domainB.eth-network-id' value=\"`$tmp.aai.destination-pnf.relationship-list.relationship[$dpvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 6879.566665649414,
        "y": 1762.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "607a3e65.d46208",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 6644.566665649414,
        "y": 1638.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "40a79108.ee4848"
            ]
        ]
    },
    {
        "id": "9bbf0d49.94213",
        "type": "outcome",
        "name": "network-resource",
        "xml": "<outcome value='network-resource'>",
        "comments": "",
        "outputs": 1,
        "x": 6467.566665649414,
        "y": 1646.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "607a3e65.d46208"
            ]
        ]
    },
    {
        "id": "4f7a1356.449274",
        "type": "set",
        "name": "set the max bandwidth",
        "xml": "<set>\n<parameter name='gfp' value='`$maximum-bandwidth /1000 *4 /5 +1`' />\n\n\n\n",
        "comments": "",
        "x": 4419.566665649414,
        "y": 582.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "d1460a52.2dc398",
        "type": "execute",
        "name": "execute UUID generator for ethernet-service-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.ethernet-service-name\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 4441.566665649414,
        "y": 717.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            []
        ]
    },
    {
        "id": "96f11e74.5cf9",
        "type": "execute",
        "name": "execute UUID generator for otn-tunnel-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.otn-tunnel-name\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 4422.566665649414,
        "y": 767.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            []
        ]
    },
    {
        "id": "f0cde51e.fc048",
        "type": "for",
        "name": "for each allotted-resource",
        "xml": "<for index='aridx' start='0' end='`$tmp.aai.service-instance.allotted-resources.allotted-resource_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2032.566665649414,
        "y": 315.56666564941406,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "fe22e044.99d4c8",
                "103cc7a8.7e9b88"
            ]
        ]
    },
    {
        "id": "fe22e044.99d4c8",
        "type": "set",
        "name": "set the current allotted-resource-id",
        "xml": "<set>\n<parameter name='allotted-resource-id' value=\"`$tmp.aai.service-instance.allotted-resources.allotted-resource[$aridx].id`\" />\n\n\n",
        "comments": "",
        "x": 2297.566665649414,
        "y": 238.56666564941406,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "7c9d6be0.59e3fc",
        "type": "set",
        "name": "set query_param",
        "xml": "<set>\n<parameter name='prop.ethsrvType' value='`$network-route-A`' />\n\n",
        "comments": "",
        "x": 4339.566665649414,
        "y": 2217.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "5f01b0d6.663678",
        "type": "set",
        "name": "unset parameters",
        "xml": "<set>\n<parameter name='domain-A.tunnel-tp-id' value='' />\n<parameter name='domain-A.node-id' value='' />\n<parameter name='domain-A.network-id' value=\"\" />\n<parameter name='domain-A.provider-id' value=\"\" />\n<parameter name='domain-A.client-id' value=\"\" />\n<parameter name='domain-A.te-topo-id' value=\"\" />\n<parameter name='domain-A.network-type' value=\"\" />\n<parameter name='domain-A.ltpId' value=\"\" />\n<parameter name='tmp.domain-A.network-id' value=\"\" />\n<parameter name='tmp.domain-A.ttp-id' value=\"\" />\n<parameter name='network-route-A' value=\"\" />\n<!--<parameter name='domain-A.' value=\"\" />-->\n\n<parameter name='request-id' value='' />\n<parameter name='otn-source-node' value='' />\n<parameter name='otn-dest-node' value='' />\n<parameter name='bw-odu' value=\"\" />\n<parameter name='src-ttp-id' value='' />\n<parameter name='dst-ttp-id' value='' />\n\n<parameter name='domain-B.tunnel-tp-id' value='' />\n<parameter name='domain-B.node-id' value='' />\n<parameter name='domain-B.network-id' value=\"\" />\n<parameter name='domain-B.provider-id' value=\"\" />\n<parameter name='domain-B.client-id' value=\"\" />\n<parameter name='domain-B.te-topo-id' value=\"\" />\n<parameter name='domain-B.network-type' value=\"\" />\n<parameter name='domain-B.ltpId' value=\"\" />\n<parameter name='tmp.domain-B.network-id' value=\"\" />\n<parameter name='tmp.domain-B.ttp-id' value=\"\" />\n<parameter name='network-route-B' value=\"\" />\n<!--<parameter name='domain-B.' value=\"\" />-->\n\n\n\n\n\n",
        "comments": "",
        "x": 4322.566665649414,
        "y": 3975.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "32dd1d69.d1982a",
        "type": "set",
        "name": "set new ethernet-service-name",
        "xml": "<set>\n<!--<parameter name='prop.ethernet-service-name' value=\"`$tmp.aai.logical-link.link-name`\" />-->\n<parameter name='prop.ethernet-service-name' value=\"`$tmp.aai.logical-link.link-id`\" />\n\n\n",
        "comments": "",
        "x": 4379.566665649414,
        "y": 812.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "fefb165c.6d9d48",
        "type": "for",
        "name": "for vidx..tmp.otninfo_length[]",
        "xml": "<for index='otnidx' start='0' end='`$tmp.otninfo_length`' >",
        "comments": "",
        "outputs": 1,
        "x": 4368.566665649414,
        "y": 2457.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "15c5a249.e6ba26"
            ]
        ]
    },
    {
        "id": "1531085f.c55ba",
        "type": "save",
        "name": "save vpn-binding otnIdx resource (aka. OTN) in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $prop.vpn-binding-otnidx-uuid' >\n<parameter name='vpn-id' value='`$prop.vpn-binding-otnidx-uuid`' />\n<parameter name='vpn-name' value='`$prop.otn-tunnel-name`' />\n<!--<parameter name='customer-vpn-id' value='`($idx + 1) * 10`' />-->\n<parameter name='customer-vpn-id' value='`($maxtpn + $gfp)`' />\n<!--<parameter name='access-provider-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-access-provider-id`' />-->\n<parameter name='access-provider-id' value='`$tmp.access-provider-id`' />\n<!--<parameter name='access-client-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-access-client-id`' />-->\n<parameter name='access-client-id' value='`$tmp.access-client-id`' />\n<!--<parameter name='access-topology-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-access-topology-id`' />-->\n<parameter name='access-topology-id' value='`$tmp.access-topology-id`' />\n<!--<parameter name='src-access-node-id' value='`$tmp.otninfo[$otnidx].srcPort.src-access-node-id`' />-->\n<parameter name='src-access-node-id' value='`$tmp.domainG-src-access-node-id`' />\n<parameter name='src-access-ltp-id' value='`$tmp.otninfo[$otnidx].srcPort.src-tunnel-tp-id`' />\n<!--<parameter name='dst-access-node-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-access-node-id`' />-->\n<parameter name='dst-access-node-id' value='`$tmp.domainG-dst-access-node-id`' />\n<parameter name='dst-access-ltp-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-tunnel-tp-id`' />\n<parameter name='route-distinguisher' value='`$gfp`' />\n<parameter name='operational-status' value='Created' />\n<!--<parameter name='model-customization-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-customization-uuid`' />-->\n<!--<parameter name='model-invariant-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-invariant-uuid`' />-->\n<!--<parameter name='model-version-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-uuid`' />-->\n\n\n<parameter name='vpn-region' value='`$prop.sdncRestApi.thirdpartySdnc.domainG.url`' />\n<parameter name='vpn-description' value='`$prop.sdncRestApi.thirdpartySdnc.domainG.user`' />\n<parameter name='vpn-platform' value='`$prop.sdncRestApi.thirdpartySdnc.domainG.password`' />\n\n<!-- The following line is in lieu of vpn-binding.slice-id (new attribute in latest AAI) -->\n<parameter name='ops-note' value='`$tmp.aai.service-instance.service-instance-id`' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 5496.566665649414,
        "y": 2964.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "fcadaec7.4e387"
            ]
        ]
    },
    {
        "id": "24f90323.65c334",
        "type": "save",
        "name": "save connectivity-A relationship to vpn-binding-A, in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding:relationship-list' \n      key='vpn-binding.vpn-id = $prop.vpn-binding-otnidx-uuid' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"connectivity\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/connectivities/connectivity/' + $uuid.connectivity-domainA-uuid`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"connectivity.connectivity-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$uuid.connectivity-domainA-uuid`\" />",
        "comments": "",
        "outputs": 1,
        "x": 6069.066665649414,
        "y": 3068.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            []
        ]
    },
    {
        "id": "fcadaec7.4e387",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5802.566665649414,
        "y": 2963.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "47fc66cf.f2219"
            ]
        ]
    },
    {
        "id": "47fc66cf.f2219",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 6012.066665649414,
        "y": 2963.820571899414,
        "z": "25a21122.0e2cfe",
        "wires": [
            []
        ]
    },
    {
        "id": "e4910759.e9a85",
        "type": "execute",
        "name": "execute UUID generator for vpn-binding $otnidx",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.vpn-binding-otnidx-uuid\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 5532.566665649414,
        "y": 2428.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            []
        ]
    },
    {
        "id": "19efb26.3a5054e",
        "type": "switchNode",
        "name": "switch otnidx == 0",
        "xml": "<switch test='`$otnidx == 0`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5405.566665649414,
        "y": 3081.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "6ac91bae.a4e2fc",
                "f696dd3e.08c3d"
            ]
        ]
    },
    {
        "id": "6ac91bae.a4e2fc",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5588.566665649414,
        "y": 3081.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "5559f5ba.2a16b4"
            ]
        ]
    },
    {
        "id": "f696dd3e.08c3d",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5413.566665649414,
        "y": 3228.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "16a87f5a.f1d3a9"
            ]
        ]
    },
    {
        "id": "b74045ae.325b78",
        "type": "switchNode",
        "name": "switch otnidx == last",
        "xml": "<switch test='`$otnidx == $tmp.otninfo_length - 1`'>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 5754.566665649414,
        "y": 3309.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "93c212f0.0f2258",
                "d060ce07.272bc8"
            ]
        ]
    },
    {
        "id": "93c212f0.0f2258",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5939.566665649414,
        "y": 3310.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "8ce15cd2.dd2d"
            ]
        ]
    },
    {
        "id": "d060ce07.272bc8",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5958.566665649414,
        "y": 3576.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "1b72857d.e58193"
            ]
        ]
    },
    {
        "id": "a4b93978.557f9",
        "type": "save",
        "name": "save connectivity-B relationship to vpn-binding-B, in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding:relationship-list' \n      key='vpn-binding.vpn-id = $prop.vpn-binding-otnidx-uuid' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"connectivity\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/connectivities/connectivity/' + $prop.connectivity-domainB-uuid`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"connectivity.connectivity-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$prop.connectivity-domainB-uuid`\" />",
        "comments": "",
        "outputs": 1,
        "x": 6369.566665649414,
        "y": 3311.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            []
        ]
    },
    {
        "id": "c7b0c40a.9c6038",
        "type": "execute",
        "name": "execute UUID generator for connectivity domain otnidx",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"uuid.connectivity-otnidx-uuid\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 6443.566665649414,
        "y": 3609.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            []
        ]
    },
    {
        "id": "689f50a5.dff04",
        "type": "save",
        "name": "save connectivity resource in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $uuid.connectivity-otnidx-uuid'>\n<parameter name='connectivity-id' value='`$uuid.connectivity-otnidx-uuid`' />\n<!--<parameter name='etht-svc-name' value='`$prop.ethernet-service-name`' />-->\n<parameter name='operational-status' value='Created' />\n<!--<parameter name='access-provider-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-access-provider-id`' />-->\n<!--<parameter name='access-client-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-access-client-id`' />-->\n<!--<parameter name='access-topology-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-access-topology-id`' />-->\n<!--<parameter name='access-node-id' value='`$tmp.otninfo[$otnidx].srcPort.src-access-node-id`' />-->\n<!--<parameter name='access-ltp-id' value='``' />-->\n<!--<parameter name='cvlan' value='`$tmp.aai.network-route-A.logical-interface-id`' />-->\n\n<parameter name='bandwidth-profile-name' value='`$gfp`' />\n<parameter name='vpn-type' value='dummy' />\n<parameter name='cir' value='`$gfp *1000000`' />\n<parameter name='eir' value='`$gfp *1000000`' />\n<!--<parameter name='CBS' value='`$prop.sotn.cbs`' />-->\n<!--<parameter name='EBS' value='`$prop.sotn.ebs`' />-->\n<!--<parameter name='color-aware' value='`$prop.sotn.colorAware`' />-->\n<!--<parameter name='coupling-flag' value='`$prop.sotn.couplingFlag`' />-->\n<!--<parameter name='etht-svc-name' value='`$prop.sotn.etht-svc-name`' />-->\n<!--<parameter name='model-customization-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-customization-uuid`' />-->\n<!--<parameter name='model-invariant-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-invariant-uuid`' />-->\n<!--<parameter name='model-version-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-uuid`' />-->\n<parameter name='connectivity-selflink' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'  + $network-topology-operation-input.service-information.service-instance-id  + '/service-data/networks/network/'  + $prop.sotn.network-id  + '/network-data/'` \" />\n",
        "comments": "",
        "outputs": 1,
        "x": 6379.566665649414,
        "y": 3660.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            []
        ]
    },
    {
        "id": "67d0e07e.cd61f8",
        "type": "save",
        "name": "save TNNSSI (transport service instance) relationship to connectivity in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='service-instance:relationship-list' \n      key='service-instance.service-instance-id = $vnf-topology-operation-input.service-information.service-instance-id\n         AND customer.global-customer-id = $vnf-topology-operation-input.service-information.global-customer-id \n         AND service-subscription.service-type = $vnf-topology-operation-input.service-information.subscription-service-type' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"connectivity\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/connectivities/connectivity/' + $uuid.connectivity-otnidx-uuid`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"connectivity.connectivity-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$uuid.connectivity-otnidx-uuid`\" />\n\n\n<!--<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='service-instance:relationship-list' -->\n<!--      key='service-instance.service-instance-id = $service-data.service-information.service-instance-id -->\n<!--         AND customer.global-customer-id = $service-data.networks.network[$nidx].network-data.service-information.global-customer-id -->\n<!--         AND service-subscription.service-type = $service-data.networks.network[$nidx].network-data.service-information.subscription-service-type' -->\n<!--      force=\"true\" pfx=\"tmp.AnAI-data\">-->\n<!--<parameter name=\"relationship-list.relationship[0].related-to\" value=\"connectivity\" />-->\n<!--<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/connectivities/connectivity/' + $prop.sotn.network-id`\" />-->\n<!--<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"connectivity.connectivity-id\" />-->\n<!--<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$prop.sotn.network-id`\" />-->",
        "comments": "",
        "outputs": 1,
        "x": 6508.566665649414,
        "y": 3710.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            []
        ]
    },
    {
        "id": "8bcc08c5.9c4d7",
        "type": "comment",
        "name": "connectivity has not been created for middle domains, so we have to create one",
        "info": "",
        "comments": "",
        "x": 6518.566665649414,
        "y": 3553.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "64006ab7.c64d44",
        "type": "save",
        "name": "save connectivity-otnidx relationship to vpn-binding-otnidx, in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding:relationship-list' \n      key='vpn-binding.vpn-id = $prop.vpn-binding-otnidx-uuid' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"connectivity\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/connectivities/connectivity/' + $uuid.connectivity-otnidx-uuid`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"connectivity.connectivity-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$uuid.connectivity-otnidx-uuid`\" />",
        "comments": "",
        "outputs": 1,
        "x": 6476.566665649414,
        "y": 3769.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            []
        ]
    },
    {
        "id": "1b72857d.e58193",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 6115.566665649414,
        "y": 3577.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "c7b0c40a.9c6038",
                "689f50a5.dff04",
                "67d0e07e.cd61f8",
                "64006ab7.c64d44",
                "9642c24b.bc1f8"
            ]
        ]
    },
    {
        "id": "15c5a249.e6ba26",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4625.566665649414,
        "y": 2457.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "e4910759.e9a85",
                "1531085f.c55ba",
                "19efb26.3a5054e",
                "ad7dc399.bf418",
                "59469467.70a6d4",
                "982e5c66.4703f8",
                "e9c05ada.bb249"
            ]
        ]
    },
    {
        "id": "b962e9bf.f7ec68",
        "type": "set",
        "name": "set attachment_param domain A",
        "xml": "<set>\n<parameter name='slice-instance-id' value='`$tmp.aai.service-instance.service-instance-id`' />\n\n\n\n",
        "comments": "",
        "x": 5993.566665649414,
        "y": 3125.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "7f4b2d0d.ab9d0c",
        "type": "execute",
        "name": "execute RestApiCallNode domainA UNI Coloring",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.ts-coloring-uni-port.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainA.url + '/restconf/data/ietf-network:networks/network=' + $tmp.domainA.eth-network-id + '/node=' + $tmp.src.pnf-name + '/ietf-network-topology:termination-point=' + $tmp.src.ltpId + '/ietf-te-topology:te' `\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainA.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainA.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"patch\"/>\n<parameter name=\"responsePrefix\" value=\"otn-oof\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 6046.566665649414,
        "y": 3169.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "d0a8f560.124258",
                "e919fb8f.48aeb"
            ]
        ]
    },
    {
        "id": "e919fb8f.48aeb",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 6317.566665649414,
        "y": 3154.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "408ad253.15a054"
            ]
        ]
    },
    {
        "id": "d0a8f560.124258",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 6315.566879272461,
        "y": 3212.566575050354,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "bfaa06ad.2149c"
            ]
        ]
    },
    {
        "id": "408ad253.15a054",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing UNI Coloring for domain A\" />\n",
        "comments": "",
        "x": 6457.566913604736,
        "y": 3154.5666666030884,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "bfaa06ad.2149c",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 6463.593925476074,
        "y": 3203.31206035614,
        "z": "25a21122.0e2cfe",
        "wires": [
            []
        ]
    },
    {
        "id": "5559f5ba.2a16b4",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5729.566665649414,
        "y": 3071.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "24f90323.65c334",
                "7f4b2d0d.ab9d0c",
                "b962e9bf.f7ec68"
            ]
        ]
    },
    {
        "id": "8ce15cd2.dd2d",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 6073.566665649414,
        "y": 3311.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "a4b93978.557f9",
                "fc367338.14f248",
                "546374c7.67c9c4"
            ]
        ]
    },
    {
        "id": "546374c7.67c9c4",
        "type": "set",
        "name": "set attachment_param domain B",
        "xml": "<set>\n<parameter name='slice-instance-id' value='`$tmp.aai.service-instance.service-instance-id`' />\n\n\n",
        "comments": "",
        "x": 6293.566665649414,
        "y": 3355.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "fc367338.14f248",
        "type": "execute",
        "name": "execute RestApiCallNode domainB UNI Coloring",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.ts-coloring-uni-port.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainB.url + '/restconf/data/ietf-network:networks/network=' + $tmp.domainB.eth-network-id + '/node=' + $tmp.dst.pnf-name + '/ietf-network-topology:termination-point=' + $tmp.dst.ltpId + '/ietf-te-topology:te' `\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainB.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainB.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"patch\"/>\n<parameter name=\"responsePrefix\" value=\"otn-oof\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 6344.566665649414,
        "y": 3399.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "edc516eb.d6818",
                "889681a1.8aebb"
            ]
        ]
    },
    {
        "id": "889681a1.8aebb",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 6607.566665649414,
        "y": 3379.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "b62983f6.8b1c68"
            ]
        ]
    },
    {
        "id": "edc516eb.d6818",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 6608.566879272461,
        "y": 3430.566575050354,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "51aaba5d.abae2c"
            ]
        ]
    },
    {
        "id": "b62983f6.8b1c68",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing UNI coloring for domain B\" />\n",
        "comments": "",
        "x": 6747.566913604736,
        "y": 3379.5666666030884,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "51aaba5d.abae2c",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 6753.593925476074,
        "y": 3428.31206035614,
        "z": "25a21122.0e2cfe",
        "wires": [
            []
        ]
    },
    {
        "id": "9642c24b.bc1f8",
        "type": "set",
        "name": "set attachment_param domain otnidx",
        "xml": "<set>\n<parameter name='slice-instance-id' value='`$tmp.aai.service-instance.service-instance-id`' />\n\n",
        "comments": "",
        "x": 6390.566665649414,
        "y": 3829.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "127eaa7a.98449e",
        "type": "save",
        "name": "get all-vpn-bindings from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"vpn-bindings\"\n\t    key=\"selflink = 'https://aai.onap:8443/aai/v21/network/vpn-bindings\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.all-vpn-bindings\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 3709.566665649414,
        "y": 4176.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "4f7f9fac.fe049",
                "7f9abc32.a826f4",
                "58223279.e77444"
            ]
        ]
    },
    {
        "id": "4f7f9fac.fe049",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3897.566665649414,
        "y": 4189.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "f21f6a6d.7c0b9"
            ]
        ]
    },
    {
        "id": "7f9abc32.a826f4",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3898.057632446289,
        "y": 4235.140701293945,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "5b9e9e7e.bd3fb8"
            ]
        ]
    },
    {
        "id": "58223279.e77444",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3895.566665649414,
        "y": 4278.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "81ac9378.5e17c8"
            ]
        ]
    },
    {
        "id": "f21f6a6d.7c0b9",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4070.566665649414,
        "y": 4187.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "1562d3ab.607dc4"
            ]
        ]
    },
    {
        "id": "5b9e9e7e.bd3fb8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 4060.6290435791016,
        "y": 4235.42643737793,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "81ac9378.5e17c8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 4062.566665649414,
        "y": 4277.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "e781046f.1418e",
        "type": "for",
        "name": "for vidx..tmp.otninfo_length[]",
        "xml": "<for index='dmnsidx' start='0' end='`$otn-tunnel-slice_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3698.566665649414,
        "y": 4367.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "d5bebf9c.374a9"
            ]
        ]
    },
    {
        "id": "a7536813.9c6d5",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4508.566665649414,
        "y": 4367.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "a13486f2.279748"
            ]
        ]
    },
    {
        "id": "d852a581.272668",
        "type": "for",
        "name": "for vidx..tmp.otninfo_length[]",
        "xml": "<for index='stunidx' start='0' end='`$otn-tunnel-slice[$dmnsidx].list_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4280.566665649414,
        "y": 4367.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "a7536813.9c6d5"
            ]
        ]
    },
    {
        "id": "35196fa7.3e82b8",
        "type": "set",
        "name": "set providerValue",
        "xml": "<set>\n<parameter name='providerValue' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].access-provider-id`' />\n<parameter name='found' value='false' />\n\n\n",
        "comments": "",
        "x": 5400.566665649414,
        "y": 4134.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "1b7fbbc1.fdc524",
        "type": "set",
        "name": "set",
        "xml": "<set>\n<parameter name='testingvalue' value='$tmp.otninfo_length -1' />\n",
        "comments": "",
        "x": 5702.566665649414,
        "y": 3260.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "16a87f5a.f1d3a9",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5537.566665649414,
        "y": 3235.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "1b7fbbc1.fdc524",
                "b74045ae.325b78"
            ]
        ]
    },
    {
        "id": "5a4aff44.5be78",
        "type": "set",
        "name": "set tmp.arr",
        "xml": "<set>\n<parameter name='tmp.arr' value='' />\n<parameter name='tmp.arridx' value='0' />\n<parameter name='tmp.arr_length' value='0' />\n\n<parameter name='otn-tunnel-slice' value='' />\n<parameter name='otn-tunnel-slice_length' value='0' />\n\n<!--<parameter name='tmp.slicevpns' value='' />-->\n<!--<parameter name='tmp.slicevpns_length' value='0' />-->\n\n<!--<parameter name='tmp.slicevpnuuids' value='' />-->\n<!--<parameter name='tmp.slicevpnuuids.' value='' />-->\n\n<parameter name='bwModified' value='false' />\n",
        "comments": "",
        "x": 1991.566665649414,
        "y": 265.56666564941406,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "1562d3ab.607dc4",
        "type": "for",
        "name": "for vpnidx in all-vpn-bindings",
        "xml": "<for index='vpnbidx' start='0' end='`$tmp.aai.all-vpn-bindings.vpn-binding_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4299.566665649414,
        "y": 4188.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "1d7f1d69.47cb1b"
            ]
        ]
    },
    {
        "id": "1d7f1d69.47cb1b",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4514.566665649414,
        "y": 4189.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "25f755d1.b61592"
            ]
        ]
    },
    {
        "id": "5d5ba3f2.74414c",
        "type": "for",
        "name": "for arridx in tmp.arr",
        "xml": "<for index='arridx' start='0' end='`$tmp.arr_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 5967.566665649414,
        "y": 4109.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "c853cdfd.dbbe38"
            ]
        ]
    },
    {
        "id": "b4d44dab.0baa88",
        "type": "switchNode",
        "name": "switch $tmp.arr_length != 0",
        "xml": "<switch test='`$tmp.arr_length != 0`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5433.566665649414,
        "y": 4189.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "62eec498.21eadc",
                "978a0072.3fd11"
            ]
        ]
    },
    {
        "id": "62eec498.21eadc",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5629.566665649414,
        "y": 4159.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "899efa3b.42e148"
            ]
        ]
    },
    {
        "id": "978a0072.3fd11",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5630.566665649414,
        "y": 4230.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "214f2c3d.6d899c"
            ]
        ]
    },
    {
        "id": "899efa3b.42e148",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 5780.566665649414,
        "y": 4157.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "5d5ba3f2.74414c",
                "a601628e.52c128"
            ]
        ]
    },
    {
        "id": "c853cdfd.dbbe38",
        "type": "switchNode",
        "name": "switch tmp.arr[$arridx] == $providerValue",
        "xml": "<switch test='`$tmp.arr[$arridx] == $providerValue`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 6258.566665649414,
        "y": 4109.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "32f1af6e.548f98",
                "aa4fe454.7a4ce"
            ]
        ]
    },
    {
        "id": "32f1af6e.548f98",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 6533.566665649414,
        "y": 4078.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "811e814b.5875b8"
            ]
        ]
    },
    {
        "id": "aa4fe454.7a4ce",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 6534.566665649414,
        "y": 4149.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "989bacbe.4af828"
            ]
        ]
    },
    {
        "id": "811e814b.5875b8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 6684.566665649414,
        "y": 4076.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "af4f903c.21f488",
                "2d6d2965.4ae4be",
                "e5b6e917.a4d33",
                "1c32b22d.5aadde",
                "1865add8.1adbe2"
            ]
        ]
    },
    {
        "id": "af4f903c.21f488",
        "type": "set",
        "name": "set found to true",
        "xml": "<set>\n<parameter name='found' value='true' />\n\n\n",
        "comments": "",
        "x": 6872.566665649414,
        "y": 4036.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "2d6d2965.4ae4be",
        "type": "save",
        "name": "store $arridx somewhere in vpn-binding",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-id' >\n<parameter name='vpn-id' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-id`' />\n<parameter name='vpn-type' value='`$arridx`' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 6944.566665649414,
        "y": 4081.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            []
        ]
    },
    {
        "id": "1865add8.1adbe2",
        "type": "set",
        "name": "set twoD arr",
        "xml": "<set>\n\n<!--<parameter name='`tmp.arr[$arridx + 1]`' value='`$providerValue`' />-->\n<!--<parameter name='tmp.arr_length' value='`$tmp.arr_length + 1`' />-->\n\n<parameter name='`otn-tunnel-slice[$arridx].list[$sizeOfSliceList].request-id`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-id`' />\n<parameter name='`otn-tunnel-slice[$arridx].list[$sizeOfSliceList].otn-source-node`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].src-access-node-id`' />\n<parameter name='`otn-tunnel-slice[$arridx].list[$sizeOfSliceList].otn-dest-node`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].dst-access-node-id`' />\n<parameter name='`otn-tunnel-slice[$arridx].list[$sizeOfSliceList].bw-odu`' value=\"`'0,' + $gfp`\" />\n<parameter name='`otn-tunnel-slice[$arridx].list[$sizeOfSliceList].src-ttp-id`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].src-access-ltp-id`' />\n<parameter name='`otn-tunnel-slice[$arridx].list[$sizeOfSliceList].dst-ttp-id`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].dst-access-ltp-id`' />\n<parameter name='slice-instance-id' value='`$tmp.aai.service-instance.service-instance-id`' />\n\n<parameter name='`otn-tunnel-slice[$arridx].list[$sizeOfSliceList].domainurl`' value=\"`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-region`\" />\n<parameter name='`otn-tunnel-slice[$arridx].list[$sizeOfSliceList].domainuser`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-description`' />\n<parameter name='`otn-tunnel-slice[$arridx].list[$sizeOfSliceList].domainpassword`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-platform`' />\n\n<!--<parameter name='otn-tunnel-slice_length' value='`$arridx + 2`' />-->\n<parameter name='`otn-tunnel-slice[$arridx].list_length`' value='`$sizeOfSliceList + 1`' />\n\n",
        "comments": "",
        "x": 6859.566665649414,
        "y": 4208.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "1c32b22d.5aadde",
        "type": "set",
        "name": "set sizeOfSliceList",
        "xml": "<set>\n<parameter name='sizeOfSliceList' value='`$otn-tunnel-slice[$arridx].list_length`' />\n\n\n",
        "comments": "",
        "x": 6880.566665649414,
        "y": 4144.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "214f2c3d.6d899c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 5782.566665649414,
        "y": 4230.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "2a37cb43.8a38d4",
                "2a56e17b.8d5c2e"
            ]
        ]
    },
    {
        "id": "2a37cb43.8a38d4",
        "type": "save",
        "name": "store $arridx somewhere in vpn-binding",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-id' >\n<parameter name='vpn-id' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-id`' />\n<parameter name='vpn-type' value='0' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 6037.566665649414,
        "y": 4223.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            []
        ]
    },
    {
        "id": "2a56e17b.8d5c2e",
        "type": "set",
        "name": "set twoD array",
        "xml": "<set>\n<parameter name='tmp.arr[0]' value='`$providerValue`' />\n<parameter name='tmp.arr_length' value='1' />\n\n<parameter name='`otn-tunnel-slice[0].list[0].request-id`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-id`' />\n<parameter name='`otn-tunnel-slice[0].list[0].otn-source-node`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].src-access-node-id`' />\n<parameter name='`otn-tunnel-slice[0].list[0].otn-dest-node`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].dst-access-node-id`' />\n<parameter name='`otn-tunnel-slice[0].list[0].bw-odu`' value=\"`'0,' + $gfp`\" />\n<parameter name='`otn-tunnel-slice[0].list[0].src-ttp-id`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].src-access-ltp-id`' />\n<parameter name='`otn-tunnel-slice[0].list[0].dst-ttp-id`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].dst-access-ltp-id`' />\n<parameter name='slice-instance-id' value='`$tmp.aai.service-instance.service-instance-id`' />\n\n<parameter name='`otn-tunnel-slice[0].list[0].domainurl`' value=\"`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-region`\" />\n<parameter name='`otn-tunnel-slice[0].list[0].domainuser`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-description`' />\n<parameter name='`otn-tunnel-slice[0].list[0].domainpassword`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-platform`' />\n\n<parameter name='otn-tunnel-slice_length' value='1' />\n<parameter name='otn-tunnel-slice[0].list_length' value='1' />\n\n",
        "comments": "",
        "x": 5965.566665649414,
        "y": 4270.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "a601628e.52c128",
        "type": "switchNode",
        "name": "switch found?",
        "xml": "<switch test='`$found`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5958.566665649414,
        "y": 4154.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "38e10d32.2b93c2",
                "dbcc850c.fc8dd"
            ]
        ]
    },
    {
        "id": "38e10d32.2b93c2",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 6118.566665649414,
        "y": 4146.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "b21401a.fc6228"
            ]
        ]
    },
    {
        "id": "dbcc850c.fc8dd",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 6116.566665649414,
        "y": 4183.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "e4683213.00ce18"
            ]
        ]
    },
    {
        "id": "b21401a.fc6228",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 6243.566665649414,
        "y": 4146.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            []
        ]
    },
    {
        "id": "a2a7d328.f35de8",
        "type": "save",
        "name": "store $arridx+1 somewhere in vpn-binding",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-id' >\n<parameter name='vpn-id' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-id`' />\n<parameter name='vpn-type' value='`$arridx + 1`' />\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 6550.566665649414,
        "y": 4204.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            []
        ]
    },
    {
        "id": "e4683213.00ce18",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 6276.566665649414,
        "y": 4191.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "a2a7d328.f35de8",
                "930daebd.33fb78"
            ]
        ]
    },
    {
        "id": "930daebd.33fb78",
        "type": "set",
        "name": "set twoD array",
        "xml": "<set>\n<parameter name='`tmp.arr[$arridx + 1]`' value='`$providerValue`' />\n<parameter name='tmp.arr_length' value='`$tmp.arr_length + 1`' />\n\n<parameter name='`otn-tunnel-slice[$arridx + 1].list[0].request-id`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-id`' />\n<parameter name='`otn-tunnel-slice[$arridx + 1].list[0].otn-source-node`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].src-access-node-id`' />\n<parameter name='`otn-tunnel-slice[$arridx + 1].list[0].otn-dest-node`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].dst-access-node-id`' />\n<parameter name='`otn-tunnel-slice[$arridx + 1].list[0].bw-odu`' value=\"`'0,' + $gfp`\" />\n<parameter name='`otn-tunnel-slice[$arridx + 1].list[0].src-ttp-id`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].src-access-ltp-id`' />\n<parameter name='`otn-tunnel-slice[$arridx + 1].list[0].dst-ttp-id`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].dst-access-ltp-id`' />\n<parameter name='slice-instance-id' value='`$tmp.aai.service-instance.service-instance-id`' />\n\n<parameter name='`otn-tunnel-slice[$arridx + 1].list[0].domainurl`' value=\"`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-region`\" />\n<parameter name='`otn-tunnel-slice[$arridx + 1].list[0].domainuser`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-description`' />\n<parameter name='`otn-tunnel-slice[$arridx + 1].list[0].domainpassword`' value='`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-platform`' />\n\n<parameter name='otn-tunnel-slice_length' value='`$arridx + 2`' />\n<parameter name='`otn-tunnel-slice[$arridx + 1].list_length`' value='1' />\n\n",
        "comments": "",
        "x": 6467.566665649414,
        "y": 4250.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "989bacbe.4af828",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 6667.566665649414,
        "y": 4148.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            []
        ]
    },
    {
        "id": "e5b6e917.a4d33",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 6838.566665649414,
        "y": 4275.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "ad7dc399.bf418",
        "type": "switchNode",
        "name": "switch dstPort == NULL",
        "xml": "<switch test=\"`$tmp.otninfo[$otnidx].dstPort.dst-access-provider-id == ''`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 5235.566665649414,
        "y": 2487.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "359b938e.1f1cd4",
                "64d68365.eb604c"
            ]
        ]
    },
    {
        "id": "359b938e.1f1cd4",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5624.566665649414,
        "y": 2465.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "73a3115c.3a191"
            ]
        ]
    },
    {
        "id": "64d68365.eb604c",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5625.566665649414,
        "y": 2511.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "40a2bbc1.5980e4"
            ]
        ]
    },
    {
        "id": "73a3115c.3a191",
        "type": "set",
        "name": "set access-provider-id and client-id",
        "xml": "<set>\n<parameter name='tmp.access-provider-id' value='`$tmp.otninfo[$otnidx].srcPort.src-access-provider-id`' />\n<parameter name='tmp.access-client-id' value='`$tmp.otninfo[$otnidx].srcPort.src-access-client-id`' />\n<parameter name='tmp.access-topology-id' value='`$tmp.otninfo[$otnidx].srcPort.src-access-topology-id`' />\n<parameter name='tmp.srcdstpnf-id' value='`$tmp.otninfo[$otnidx].srcPort.src-access-node-id`' />\n",
        "comments": "",
        "x": 5838.566665649414,
        "y": 2464.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "40a2bbc1.5980e4",
        "type": "set",
        "name": "set access-provider-id and client-id",
        "xml": "<set>\n<parameter name='tmp.access-provider-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-access-provider-id`' />\n<parameter name='tmp.access-client-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-access-client-id`' />\n<parameter name='tmp.access-topology-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-access-topology-id`' />\n<parameter name='tmp.srcdstpnf-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-access-node-id`' />\n",
        "comments": "",
        "x": 5836.566665649414,
        "y": 2509.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "a13486f2.279748",
        "type": "set",
        "name": "set attachment_param sliceG",
        "xml": "<set>\n<parameter name='`otn-tunnel-sliceG-list[$stunidx].request-id`' value='`$otn-tunnel-slice[$dmnsidx].list[$stunidx].request-id`' />\n<parameter name='`otn-tunnel-sliceG-list[$stunidx].otn-source-node`' value='`$otn-tunnel-slice[$dmnsidx].list[$stunidx].otn-source-node`' />\n<parameter name='`otn-tunnel-sliceG-list[$stunidx].otn-dest-node`' value='`$otn-tunnel-slice[$dmnsidx].list[$stunidx].otn-dest-node`' />\n<parameter name='`otn-tunnel-sliceG-list[$stunidx].bw-odu`' value=\"`$otn-tunnel-slice[$dmnsidx].list[$stunidx].bw-odu`\" />\n<parameter name='`otn-tunnel-sliceG-list[$stunidx].src-ttp-id`' value='`$otn-tunnel-slice[$dmnsidx].list[$stunidx].src-ttp-id`' />\n<parameter name='`otn-tunnel-sliceG-list[$stunidx].dst-ttp-id`' value='`$otn-tunnel-slice[$dmnsidx].list[$stunidx].dst-ttp-id`' />\n<parameter name='slice-instance-id' value='`$tmp.aai.service-instance.service-instance-id`' />\n\n<parameter name='otn-tunnel-sliceG-list_length' value='`$stunidx + 1`' />\n\n\n<parameter name=\"tmp.domainG.restapiUrl\" value=\"`$otn-tunnel-slice[$dmnsidx].list[$stunidx].domainurl`\" />\n<parameter name=\"tmp.domainG.restapiUser\" value=\"`$otn-tunnel-slice[$dmnsidx].list[$stunidx].domainuser`\" />\n<parameter name=\"tmp.domainG.restapiPassword\" value=\"`$otn-tunnel-slice[$dmnsidx].list[$stunidx].domainpassword`\" />",
        "comments": "",
        "x": 4761.566665649414,
        "y": 4365.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "3fa485d1.c8f9c2",
        "type": "execute",
        "name": "execute RestApiCallNode sliceG creation domainG",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.transport-sliceG-list-creation.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$tmp.domainG.restapiUrl + '/restconf/operations/ietf-optical-slice:create-optical-slice'`\" />\n<parameter name=\"restapiUser\" value=\"`$tmp.domainG.restapiUser`\" />\n<parameter name=\"restapiPassword\" value=\"`tmp.domainG.restapiPassword`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"otn-oof\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 4346.566665649414,
        "y": 4473.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "f023dd0f.b91278",
                "29f41b43.8a7c44"
            ]
        ]
    },
    {
        "id": "29f41b43.8a7c44",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4629.566665649414,
        "y": 4453.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "e71ba272.6cc34"
            ]
        ]
    },
    {
        "id": "f023dd0f.b91278",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4630.566879272461,
        "y": 4504.566575050354,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "7f431198.b36fd"
            ]
        ]
    },
    {
        "id": "e71ba272.6cc34",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing slice creation api for domain A\" />\n",
        "comments": "",
        "x": 4769.566913604736,
        "y": 4453.566666603088,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "7f431198.b36fd",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4775.593925476074,
        "y": 4502.31206035614,
        "z": "25a21122.0e2cfe",
        "wires": [
            []
        ]
    },
    {
        "id": "59469467.70a6d4",
        "type": "set",
        "name": "set srcdstpnf-name",
        "xml": "<set>\n<parameter name='tmp.srcdstpnf-name' value=\"`'networkId-providerId-' + \n                                             $tmp.access-provider-id + '-clientId-' +\n                                             $tmp.access-client-id + '-topologyId-' + \n                                             $tmp.access-topology-id + '-nodeId-' + \n                                             $tmp.srcdstpnf-id`\" />\n\n",
        "comments": "",
        "x": 5419.566665649414,
        "y": 2607.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "982e5c66.4703f8",
        "type": "get-resource",
        "name": "get-resource tmp.srcdstpnf-name",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.srcdstpnf-name\"\n        pfx='tmp.aai.srcdst-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 5463.566665649414,
        "y": 2655.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "48087d37.a26c6c",
                "da051a0e.70b99",
                "11fa1a3.3e28f66"
            ]
        ]
    },
    {
        "id": "48087d37.a26c6c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5676.066665649414,
        "y": 2602.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "d7b6e1d4.5db9c8"
            ]
        ]
    },
    {
        "id": "da051a0e.70b99",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5688.066665649414,
        "y": 2652.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "8bafac6.5725d5"
            ]
        ]
    },
    {
        "id": "11fa1a3.3e28f66",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5679.066665649414,
        "y": 2707.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "1bd627d5.df5018"
            ]
        ]
    },
    {
        "id": "1bd627d5.df5018",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5824.066665649414,
        "y": 2706.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "8bafac6.5725d5",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5835.066665649414,
        "y": 2649.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "d7b6e1d4.5db9c8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5801.449111938477,
        "y": 2596.2223358154297,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "7412b5af.ff0f9c"
            ]
        ]
    },
    {
        "id": "2b52018c.262d56",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 6360.566665649414,
        "y": 2614.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "691fa48a.848bcc"
            ]
        ]
    },
    {
        "id": "691fa48a.848bcc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 6537.566665649414,
        "y": 2606.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "40d861d8.1df158",
                "6005e754.3b403"
            ]
        ]
    },
    {
        "id": "7412b5af.ff0f9c",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='spvidx' start='0' end='`$tmp.aai.srcdst-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 5962.566665649414,
        "y": 2610.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "cee0c51f.59e4e8"
            ]
        ]
    },
    {
        "id": "cee0c51f.59e4e8",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.srcdst-pnf.relationship-list.relationship[$spvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 6157.566665649414,
        "y": 2610.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "2b52018c.262d56"
            ]
        ]
    },
    {
        "id": "6005e754.3b403",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domainG.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domainG.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 6745.566665649414,
        "y": 2613.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "ba9890c1.c4a288",
                "659d7a5f.8396d4",
                "c60c2b5.88a3ed8"
            ]
        ]
    },
    {
        "id": "40d861d8.1df158",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domainG id",
        "xml": "<set>\n<parameter name='tmp.domainG.esr-thirdparty-id' value=\"`$tmp.aai.srcdst-pnf.relationship-list.relationship[$spvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 6775.566665649414,
        "y": 2561.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "ba9890c1.c4a288",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 6955.566665649414,
        "y": 2604.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "203ebc79.0da80c"
            ]
        ]
    },
    {
        "id": "659d7a5f.8396d4",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 6947.566665649414,
        "y": 2659.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "23f5bad7.571c16"
            ]
        ]
    },
    {
        "id": "c60c2b5.88a3ed8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 6952.566665649414,
        "y": 2716.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "d78cb5ab.fdf3"
            ]
        ]
    },
    {
        "id": "d78cb5ab.fdf3",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 7104.566665649414,
        "y": 2717.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "23f5bad7.571c16",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 7115.566665649414,
        "y": 2662.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "203ebc79.0da80c",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 7099.948989868164,
        "y": 2602.2223358154297,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "510e20cb.08311"
            ]
        ]
    },
    {
        "id": "510e20cb.08311",
        "type": "set",
        "name": "set controller domainA data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainG.url' value=\"`$tmp.aai.domainG.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainG.user' value=\"`$tmp.aai.domainG.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainG.password' value=\"`$tmp.aai.domainG.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 7314.566665649414,
        "y": 2598.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "d5bebf9c.374a9",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3930.566665649414,
        "y": 4365.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "d852a581.272668",
                "3fa485d1.c8f9c2"
            ]
        ]
    },
    {
        "id": "e9c05ada.bb249",
        "type": "switchNode",
        "name": "switch dmnsidx == 0 (domainA)",
        "xml": "<switch test='`$otnidx == 0`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5433.566665649414,
        "y": 2824.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "e3270b50.ca16b",
                "1493e80e.a20608"
            ]
        ]
    },
    {
        "id": "e3270b50.ca16b",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5634.566665649414,
        "y": 2822.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "8c1f5350.45b238"
            ]
        ]
    },
    {
        "id": "8c1f5350.45b238",
        "type": "set",
        "name": "set attachment_param domain A",
        "xml": "<set>\n<parameter name='tmp.domainG-src-access-node-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -3]`' />\n<parameter name='tmp.domainG-dst-access-node-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-access-node-id`' />",
        "comments": "",
        "x": 5848.566665649414,
        "y": 2824.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "efd041d2.1f57c",
        "type": "switchNode",
        "name": "switch dmnsidx == last (domainB)",
        "xml": "<switch test='`$otnidx == $tmp.otninfo_length - 1`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5851.566665649414,
        "y": 2873.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "18ead70f.a7a7d1",
                "86ea5500.031798"
            ]
        ]
    },
    {
        "id": "18ead70f.a7a7d1",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 6081.566665649414,
        "y": 2869.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "45ea107a.0ebac8"
            ]
        ]
    },
    {
        "id": "45ea107a.0ebac8",
        "type": "set",
        "name": "set attachment_param domain B",
        "xml": "<set>\n<parameter name='tmp.domainG-src-access-node-id' value='`$tmp.otninfo[$otnidx].srcPort.src-access-node-id`' />\n<parameter name='tmp.domainG-dst-access-node-id' value='`$param-prefix-domainB[$param-prefix-domainB_length -3]`' />",
        "comments": "",
        "x": 6295.566665649414,
        "y": 2872.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "1493e80e.a20608",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5634.566665649414,
        "y": 2871.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "efd041d2.1f57c"
            ]
        ]
    },
    {
        "id": "86ea5500.031798",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 6082.566665649414,
        "y": 2915.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "7828b5dc.b70c4c"
            ]
        ]
    },
    {
        "id": "7828b5dc.b70c4c",
        "type": "set",
        "name": "set attachment_param domain G",
        "xml": "<set>\n<parameter name='tmp.domainG-src-access-node-id' value='`$tmp.otninfo[$otnidx].srcPort.src-access-node-id`' />\n<parameter name='tmp.domainG-dst-access-node-id' value='`$tmp.otninfo[$otnidx].dstPort.dst-access-node-id`' />",
        "comments": "",
        "x": 6296.566665649414,
        "y": 2915.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "72c2b2cc.2ba44c",
        "type": "set",
        "name": "set tmp.slicevpns",
        "xml": "<set>\n<parameter name='`tmp.slicevpns[$tmp.slicevpns_length]`' value=\"`$prop.vpn-binding-otnidx-uuid`\" />\n<parameter name='tmp.slicevpns_length' value=\"`$tmp.slicevpns_length + 1`\" />\n\n<parameter name='`tmp.slicevpnuuids[$prop.vpn-binding-otnidx-uuid]`' value=\"`$prop.vpn-binding-otnidx-uuid`\" />\n\n",
        "comments": "",
        "x": 6194.566665649414,
        "y": 2964.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "25f755d1.b61592",
        "type": "switchNode",
        "name": "switch vpnuuid is for this slice",
        "xml": "<!--<switch test=\"`$tmp.slicevpnuuids[$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-id] != '' `\">-->\n    \n<!-- Replace vpn-type with slice-id (a new attribbute in the latest AAI) -->\n<switch test=\"`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].ops-note == $tmp.aai.service-instance.service-instance-id `\">\n",
        "comments": "",
        "outputs": 1,
        "x": 4758.566665649414,
        "y": 4188.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "15207d44.a4310b",
                "179e4c90.1525b3"
            ]
        ]
    },
    {
        "id": "15207d44.a4310b",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4975.566665649414,
        "y": 4167.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "64fe7f3a.b5df9"
            ]
        ]
    },
    {
        "id": "179e4c90.1525b3",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4975.566665649414,
        "y": 4216.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            []
        ]
    },
    {
        "id": "64fe7f3a.b5df9",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 5143.566665649414,
        "y": 4167.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "35196fa7.3e82b8",
                "b4d44dab.0baa88"
            ]
        ]
    },
    {
        "id": "433e887a.5dd2c",
        "type": "save",
        "name": "get logical-link from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"logical-link\"\n\tkey='logical-link.link-name = $logical-link-name'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.logical-link\">",
        "comments": "",
        "outputs": 1,
        "x": 1483.566665649414,
        "y": 798.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "4058fc82.6dfacc",
                "4151c29c.d64b0c",
                "5541a408.f0ed0c"
            ]
        ]
    },
    {
        "id": "4058fc82.6dfacc",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1696.057632446289,
        "y": 765.1406402587891,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "417a2c30.fd69ac"
            ]
        ]
    },
    {
        "id": "4151c29c.d64b0c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1684.566665649414,
        "y": 809.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "2fc8bb7d.787cac"
            ]
        ]
    },
    {
        "id": "417a2c30.fd69ac",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 1844.629165649414,
        "y": 765.4264068603516,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "2fc8bb7d.787cac",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 1843.566665649414,
        "y": 809.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "5541a408.f0ed0c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1689.566665649414,
        "y": 852.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "e145a9c3.48d208"
            ]
        ]
    },
    {
        "id": "e145a9c3.48d208",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 835.5666656494141,
        "y": 1191.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "88efa0d6.0c1808"
            ]
        ]
    },
    {
        "id": "88efa0d6.0c1808",
        "type": "for",
        "name": "for each svc-instance relationship",
        "xml": "<for index='rel-index' start='0' end='`$tmp.aai.service-instance.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1109.566665649414,
        "y": 1191.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "c2dd1c9b.b3dd48"
            ]
        ]
    },
    {
        "id": "c2dd1c9b.b3dd48",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.service-instance.relationship-list.relationship[$rel-index].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1344.900161743164,
        "y": 1192.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "e5b1da68.bc54"
            ]
        ]
    },
    {
        "id": "e5b1da68.bc54",
        "type": "outcome",
        "name": "connectivity",
        "xml": "<outcome value='connectivity'>\n",
        "comments": "",
        "outputs": 1,
        "x": 628.5669097900391,
        "y": 1345.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "fb4c81c8.58ec08"
            ]
        ]
    },
    {
        "id": "68774cff.da4f7c",
        "type": "save",
        "name": "get connectivity from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"connectivity\"\n\t    key=\"connectivity.connectivity-id = $tmp.aai.service-instance.relationship-list.relationship[$rel-index].relationship-data[0].relationship-value\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.connectivity\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 1017.5666656494141,
        "y": 1350.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "ae979c86.2af0a",
                "c51e116c.9e96e",
                "bc29e653.3cf5f8"
            ]
        ]
    },
    {
        "id": "ae979c86.2af0a",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1213.566665649414,
        "y": 1315.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "323455e1.4146ea"
            ]
        ]
    },
    {
        "id": "c51e116c.9e96e",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1214.057632446289,
        "y": 1361.1407012939453,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "bf9be58f.d0c428"
            ]
        ]
    },
    {
        "id": "bc29e653.3cf5f8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1178.566665649414,
        "y": 1406.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "dd499616.1dbe"
            ]
        ]
    },
    {
        "id": "bf9be58f.d0c428",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 1373.629165649414,
        "y": 1358.4264068603516,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "dd499616.1dbe",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 1331.566665649414,
        "y": 1408.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "66825a6f.db4e3c",
        "type": "switchNode",
        "name": "switch loglink-id exists in conn",
        "xml": "<switch test='`$tmp.aai.logical-link.link-id == $tmp.aai.connectivity.etht-svc-name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1606.566665649414,
        "y": 1298.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "85e80e78.a683f",
                "e9363fe4.4910f8"
            ]
        ]
    },
    {
        "id": "85e80e78.a683f",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1817.566665649414,
        "y": 1263.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "ea49207.e144c6"
            ]
        ]
    },
    {
        "id": "e9363fe4.4910f8",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1814.566665649414,
        "y": 1324.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            []
        ]
    },
    {
        "id": "a72bfa1e.2c0188",
        "type": "set",
        "name": "set currLinkIsFound",
        "xml": "<set>\n<parameter name='currLinkIsFound' value=\"true\" />\n\n\n",
        "comments": "",
        "x": 2155.566665649414,
        "y": 1236.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "ea49207.e144c6",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1969.566665649414,
        "y": 1264.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "a72bfa1e.2c0188"
            ]
        ]
    },
    {
        "id": "77625e01.45cfa",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 2122.566665649414,
        "y": 1292.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "747752c5.edcc6c",
        "type": "comment",
        "name": "currLinkIsFound. Go to the next logical-link",
        "info": "",
        "comments": "",
        "x": 2127.566665649414,
        "y": 1186.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "fc0b0bdf.af57e8",
        "type": "switchNode",
        "name": "switch currLinkIsFound",
        "xml": "<switch test='`$currLinkIsFound`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1409.566665649414,
        "y": 916.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "ec2c299e.a7094",
                "12a10d8.78ec073"
            ]
        ]
    },
    {
        "id": "ec2c299e.a7094",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1595.566665649414,
        "y": 895.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "43c18e2d.dbbe18"
            ]
        ]
    },
    {
        "id": "12a10d8.78ec073",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1592.566665649414,
        "y": 1031.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "4dddc413.6cd63c"
            ]
        ]
    },
    {
        "id": "43c18e2d.dbbe18",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1837.566665649414,
        "y": 890.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": [
            []
        ]
    },
    {
        "id": "6e81ab2b.cd2004",
        "type": "comment",
        "name": "A new logical-link has been found: modify process should be triggered",
        "info": "",
        "comments": "",
        "x": 1783.566665649414,
        "y": 994.5666656494141,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "323455e1.4146ea",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1377.566665649414,
        "y": 1299.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "66825a6f.db4e3c",
                "4b0ae75c.1aab4"
            ]
        ]
    },
    {
        "id": "4b0ae75c.1aab4",
        "type": "switchNode",
        "name": "switch connectivityBW == gfp",
        "xml": "<switch test='`$tmp.aai.connectivity.bandwidth-profile-name == $gfp`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1607.566665649414,
        "y": 1389.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "c8e4becf.570ed8",
                "efb821b0.8f5c8"
            ]
        ]
    },
    {
        "id": "c8e4becf.570ed8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1812.566665649414,
        "y": 1385.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            []
        ]
    },
    {
        "id": "efb821b0.8f5c8",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1814.566665649414,
        "y": 1435.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "35c21580.2c9b32"
            ]
        ]
    },
    {
        "id": "fd83a72b.0cf5a8",
        "type": "set",
        "name": "set bwModified",
        "xml": "<set>\n<parameter name='bwModified' value=\"true\" />\n\n\n",
        "comments": "",
        "x": 2163.566665649414,
        "y": 1413.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "35c21580.2c9b32",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1968.566665649414,
        "y": 1434.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "fd83a72b.0cf5a8",
                "b1b00645.427888"
            ]
        ]
    },
    {
        "id": "b1b00645.427888",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='cridx' start='0' end='`$tmp.aai.connectivity.relationship-list.relationship_length`' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 988.5666656494141,
        "y": 1639.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "3c4549a7.0d1376"
            ]
        ]
    },
    {
        "id": "3c4549a7.0d1376",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.connectivity.relationship-list.relationship[$cridx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1193.566665649414,
        "y": 1639.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "adf26b65.8f90e"
            ]
        ]
    },
    {
        "id": "adf26b65.8f90e",
        "type": "outcome",
        "name": "vpn-binding",
        "xml": "<outcome value='vpn-binding'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1359.566665649414,
        "y": 1639.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "64e47481.3a26d4"
            ]
        ]
    },
    {
        "id": "64e47481.3a26d4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1522.566665649414,
        "y": 1639.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "6e6ea5ef.8c2224",
                "d5aad2e.d2c753"
            ]
        ]
    },
    {
        "id": "d5aad2e.d2c753",
        "type": "set",
        "name": "unset tmp.aai.vpn-binding",
        "xml": "<set>\n<parameter name='tmp.aai.vpn-binding.' value='' />\n",
        "comments": "",
        "x": 1751.566665649414,
        "y": 1579.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "6e6ea5ef.8c2224",
        "type": "save",
        "name": "get vpn-binding from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"vpn-binding\"\n\t    key=\"vpn-binding.vpn-id = $tmp.aai.connectivity.relationship-list.relationship[$cridx].relationship-data[0].relationship-value\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.vpn-binding\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 1260.566665649414,
        "y": 1733.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "8146e5c8.89f0a",
                "7ba4a096.c89f48",
                "d58f3b9.ef82248"
            ]
        ]
    },
    {
        "id": "f88195dd.98254",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1644.566665649414,
        "y": 1733.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "1f6be69e.efcee9",
                "dca75bc1.9206a8"
            ]
        ]
    },
    {
        "id": "8146e5c8.89f0a",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1471.566665649414,
        "y": 1735.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "f88195dd.98254"
            ]
        ]
    },
    {
        "id": "7ba4a096.c89f48",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1472.057632446289,
        "y": 1781.1407012939453,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "e8dc9623.1376d8"
            ]
        ]
    },
    {
        "id": "d58f3b9.ef82248",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1469.566665649414,
        "y": 1824.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "1a1a5ddc.251932"
            ]
        ]
    },
    {
        "id": "1a1a5ddc.251932",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 1636.566665649414,
        "y": 1841.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "e8dc9623.1376d8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 1634.6290435791016,
        "y": 1781.4264373779297,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "fb4c81c8.58ec08",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 800.5666656494141,
        "y": 1345.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            [
                "68774cff.da4f7c",
                "458e84.00aae97c"
            ]
        ]
    },
    {
        "id": "458e84.00aae97c",
        "type": "set",
        "name": "unset tmp.aai.connectivity",
        "xml": "<set>\n<parameter name='tmp.aai.connectivity.' value='' />\n",
        "comments": "",
        "x": 1020.5666656494141,
        "y": 1293.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "1f6be69e.efcee9",
        "type": "save",
        "name": "update vpn-binding A resource (aka. OTN domainA) in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $tmp.aai.vpn-binding.vpn-id' >\n<parameter name='vpn-id' value='`$tmp.aai.vpn-binding.vpn-id`' />\n<parameter name='vpn-name' value='`$tmp.aai.vpn-binding.vpn-name`' />\n<parameter name='route-distinguisher' value='`$gfp`' />\n<parameter name='operational-status' value='Modified' />\n",
        "comments": "",
        "outputs": 1,
        "x": 1995.066665649414,
        "y": 1728.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            []
        ]
    },
    {
        "id": "dca75bc1.9206a8",
        "type": "save",
        "name": "update connectivity resource in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $tmp.aai.connectivity.connectivity-id'>\n<parameter name='connectivity-id' value='`$tmp.aai.connectivity.connectivity-id`' />\n<parameter name='operational-status' value='Modified' />\n<parameter name='bandwidth-profile-name' value='`$gfp`' />\n<parameter name='cir' value='`$gfp *1000000`' />\n<parameter name='eir' value='`$gfp *1000000`' />\n",
        "comments": "",
        "outputs": 1,
        "x": 1922.066665649414,
        "y": 1792.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            []
        ]
    },
    {
        "id": "ee7fd236.9ed9a8",
        "type": "comment",
        "name": "The following two nodes are for PCE",
        "info": "",
        "comments": "",
        "x": 2066.566665649414,
        "y": 120.56666564941406,
        "z": "25a21122.0e2cfe",
        "wires": []
    },
    {
        "id": "323fc4b1.60fe74",
        "type": "get-resource",
        "name": "get-resource pnfs-list",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"pnfs\"\n\t    key=\"selflink = 'https://aai.onap:8443/aai/v25/network/pnfs?depth=0' depth = 0\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"ccsdkTopopnfs\" >",
        "comments": "",
        "outputs": 1,
        "x": 2026.566665649414,
        "y": 164.56666564941406,
        "z": "25a21122.0e2cfe",
        "wires": [
            []
        ]
    },
    {
        "id": "8780743f.a296a",
        "type": "get-resource",
        "name": "get-resource logical-links",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"logical-links\"\n\t    key=\"selflink = 'https://aai.onap:8443/aai/v25/network/logical-links?depth=0'\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"ccsdkTopologicalLinks\" >",
        "comments": "",
        "outputs": 1,
        "x": 2039.566665649414,
        "y": 209.56666564941406,
        "z": "25a21122.0e2cfe",
        "wires": [
            []
        ]
    },
    {
        "id": "afd6fb79.f36b6",
        "type": "execute",
        "name": "execute printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n    <parameter name=\"filename\" value=\"`$filenamemm`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 4346.566665649414,
        "y": 2326.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            []
        ]
    },
    {
        "id": "89a7842f.afd83",
        "type": "save",
        "name": "save connectivity resource in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $uuid.connectivity-domainA-uuid'>\n<parameter name='connectivity-id' value='`$uuid.connectivity-domainA-uuid`' />\n<parameter name='etht-svc-name' value='`$prop.ethernet-service-name`' />\n<parameter name='operational-status' value='Created' />\n<parameter name='access-provider-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -9]`' />\n<parameter name='access-client-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -7]`' />\n<parameter name='access-topology-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -5]`' />\n<parameter name='access-node-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -3]`' />\n<parameter name='access-ltp-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -1]`' />\n<parameter name='cvlan' value='`$tmp.aai.network-route-A.logical-interface-id`' />\n\n<parameter name='bandwidth-profile-name' value='`$gfp`' />\n<parameter name='vpn-type' value='`$prop.sotn.vpnType`' />\n<parameter name='cir' value='`$gfp *1000000`' />\n<parameter name='eir' value='`$gfp *1000000`' />\n<parameter name='cbs' value='`$prop.sotn.cbs`' />\n<parameter name='ebs' value='`$prop.sotn.ebs`' />\n<!--<parameter name='color-aware' value='`$prop.sotn.colorAware`' />-->\n<!--<parameter name='coupling-flag' value='`$prop.sotn.couplingFlag`' />-->\n<!--<parameter name='etht-svc-name' value='`$prop.sotn.etht-svc-name`' />-->\n<!--<parameter name='model-customization-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-customization-uuid`' />-->\n<!--<parameter name='model-invariant-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-invariant-uuid`' />-->\n<!--<parameter name='model-version-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-uuid`' />-->\n<parameter name='connectivity-selflink' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'  + $network-topology-operation-input.service-information.service-instance-id  + '/service-data/networks/network/'  + $prop.sotn.network-id  + '/network-data/'` \" />\n",
        "comments": "",
        "outputs": 1,
        "x": 5637.566665649414,
        "y": 1163.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            []
        ]
    },
    {
        "id": "1a397526.128d93",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:tsli-vnf-topology-operation-find-maximum-used-tpn",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='tsli-vnf-topology-operation-find-maximum-used-tpn' mode='sync' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4535.566665649414,
        "y": 2398.566665649414,
        "z": "25a21122.0e2cfe",
        "wires": [
            []
        ]
    }
]