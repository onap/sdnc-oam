[{"id":"7b26ebf.6f49f14","type":"dgstart","name":"DGSTART","outputs":1,"x":105.55554962158203,"y":32.22222137451172,"z":"587ae061.3728","wires":[["2394077.d0dfaf8"]]},{"id":"26a09f3e.623a8","type":"method","name":"method self-serve-aai-vf-module-put","xml":"<method rpc='self-serve-aai-vf-module-put' mode='sync'>\n","comments":"","outputs":1,"x":236.34127044677734,"y":107.68254470825195,"z":"587ae061.3728","wires":[["670345b1.4bc86c"]]},{"id":"670345b1.4bc86c","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":116.87699127197266,"y":188.46034049987793,"z":"587ae061.3728","wires":[["bbc591bb.706e9","914f01b6.fe9b3"]]},{"id":"2394077.d0dfaf8","type":"service-logic","name":"GENERIC-RESOURCE-API ${project.version}","module":"GENERIC-RESOURCE-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>","outputs":1,"x":378.4126968383789,"y":31.65078830718994,"z":"587ae061.3728","wires":[["26a09f3e.623a8"]]},{"id":"bbc591bb.706e9","type":"switchNode","name":"switch: ss.capability-action","xml":"<switch test='`$ss.capability-action`'>\n","comments":"","outputs":1,"x":360.5555763244629,"y":188.11507368087769,"z":"587ae061.3728","wires":[["5b59a23f.8a739c","d9805320.cf78c","5176d4f5.0acf6c"]]},{"id":"5b59a23f.8a739c","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":569.0555725097656,"y":188.36507368087769,"z":"587ae061.3728","wires":[["4126a6bd.b190e8"]]},{"id":"4126a6bd.b190e8","type":"returnFailure","name":"return failure","xml":"<return status=\"failure\">\n\t<parameter name=\"ack-final\" value=\"Y\" />\n\t<parameter name=\"error-code\" value=\"500\"/>\n\t<parameter name=\"error-message\" value=\"ss.capability-action is null\" />\n","comments":"","x":724.9722442626953,"y":188.4761724472046,"z":"587ae061.3728","wires":[]},{"id":"d9805320.cf78c","type":"outcome","name":"assign","xml":"<outcome value='assign'>","comments":"","outputs":1,"x":568.8055686950684,"y":237.3650770187378,"z":"587ae061.3728","wires":[["b7a31908.a7c678"]]},{"id":"914f01b6.fe9b3","type":"execute","name":"printContext","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/ss.aai.vfmoduleput.log' />\n","comments":"","outputs":1,"x":312.51983642578125,"y":413.65077209472656,"z":"587ae061.3728","wires":[[]]},{"id":"5be66a71.cb9eb4","type":"save","name":"update generic-vnf","xml":"<update plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"generic-vnf\"\n\t\tkey=\"generic-vnf.vnf-id = $ss.param.vnf-id \" >\n<parameter name=\"ipv4-loopback0-address\" value='`$ss.param.ipv4-loopback0-address`' />\n<parameter name=\"ipv4-oam-address\" value='`$ss.param.ipv4-oam-address`' />\n<parameter name=\"as-number\" value='`$ss.param.as-number`' />\n<parameter name=\"vlan-id-outer\" value='`$ss.param.vlan-id-outer`' />\n\n","comments":"","outputs":1,"x":956.0198516845703,"y":1590.0438108444214,"z":"587ae061.3728","wires":[["6c640f39.1083a","9b325eef.ee788"]]},{"id":"6c640f39.1083a","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1156.2698822021484,"y":1590.400857925415,"z":"587ae061.3728","wires":[["4e70de55.d4a13"]]},{"id":"9b325eef.ee788","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1162.5198936462402,"y":1642.1508922576904,"z":"587ae061.3728","wires":[["d4583f14.def33"]]},{"id":"8b85bac9.76e438","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'Failed to update generic-vnf.vnf-name in AnAI with vnf-name=' + $ss.param.vnf-name`\" />\n","comments":"","x":1594.1388397216797,"y":1590.186562538147,"z":"587ae061.3728","wires":[]},{"id":"abce347d.bd24a8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'Failed to update generic-vnf.vnf-name because generic-vnf with vnf-id =' + $ss.param.vnf-id + ' is not found in AAI'`\" />\n","comments":"","x":1594.7103576660156,"y":1640.4247388839722,"z":"587ae061.3728","wires":[]},{"id":"1a6a99cc.372f26","type":"save","name":"update volume-group","xml":"<update plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"volume-group\"\n\t\tkey=\"cloud-region.cloud-owner = $prop.cloud-owner  \n\t\t\tAND cloud-region.cloud-region-id = $ss.param.aic-cloud-region \n\t\t\tAND cloud-region.cloud-owner = $prop.cloud-region.cloud-owner \n\t\t\tAND volume-group-id = $ss.param.volume-group-id\" >\n<parameter name=\"volume-group-name\" value='`$ss.param.volume-group-name`' />\n<parameter name=\"volume-group-id\" value='`$ss.param.volume-group-id`' />\n","comments":"","outputs":1,"x":952.9840469360352,"y":2554.0077180862427,"z":"587ae061.3728","wires":[["4597574f.498bd8","3daece71.ee4af2"]]},{"id":"4597574f.498bd8","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1160.9840469360352,"y":2554.0077180862427,"z":"587ae061.3728","wires":[["4beed03c.8d4db"]]},{"id":"22c667e8.cd2b28","type":"save","name":"Rollback generic-vnf update","xml":"<update plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"generic-vnf\"\n\t\tkey=\"generic-vnf.vnf-id = $ss.param.vnf-id \" >\n<parameter name=\"ipv4-loopback0-address\" value='`$tmp.aai.vnf.ipv4-loopback0-address`' />\n<parameter name=\"ipv4-oam-address\" value='`$tmp.aai.vnf.ipv4-oam-address`' />\n<parameter name=\"as-number\" value='`$tmp.aai.vnf.as-number`' />\n<parameter name=\"vlan-id-outer\" value='`$tmp.aai.vnf.vlan-id-outer`' />","comments":"","outputs":1,"x":4193.103519439697,"y":1945.0324897766113,"z":"587ae061.3728","wires":[["2e11bcd4.889d84","5bf6e296.b005ac","11cfdb92.6bbdf4"]]},{"id":"2e11bcd4.889d84","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":4431.353504180908,"y":1944.532434463501,"z":"587ae061.3728","wires":[["49935fa6.5ff8e"]]},{"id":"5bf6e296.b005ac","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":4437.603515625,"y":1996.2824687957764,"z":"587ae061.3728","wires":[["60848333.084a8c"]]},{"id":"8bdbab0.659cb58","type":"save","name":"get generic-vnf","xml":"<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"generic-vnf\"\n\t\tkey=\"generic-vnf.vnf-id = $ss.param.vnf-id \"\n\tpfx=\"tmp.aai.vnf\" >\n\n","comments":"","outputs":1,"x":949.3055763244629,"y":1430.9365787506104,"z":"587ae061.3728","wires":[["967cd3cd.ea61c","7745898a.e7ff88"]]},{"id":"967cd3cd.ea61c","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1157.841209411621,"y":1430.436499595642,"z":"587ae061.3728","wires":[["e290c73f.be4828"]]},{"id":"7745898a.e7ff88","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1164.0911293029785,"y":1529.3294076919556,"z":"587ae061.3728","wires":[["2828353c.ce5f2a"]]},{"id":"e15519a.36e41e8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'Encountered error to get generic-vnf with vnf-id=' + $ss.param.vnf-id + ' from AnAI'`\" />\n","comments":"","x":1600.2814140319824,"y":1475.9365186691284,"z":"587ae061.3728","wires":[]},{"id":"f68a0f36.041db","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'generic-vnf.vnf-name with vnf-id=' + $ss.param.vnf-id + ' not found in AAI'`\" />\n","comments":"","x":1601.9958877563477,"y":1529.8890762329102,"z":"587ae061.3728","wires":[]},{"id":"20e12a6b.8386e6","type":"save","name":"update volume-group","xml":"<update plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"volume-group\"\n\t\tkey=\"cloud-region.cloud-owner = $prop.cloud-owner  \n\t\t\tAND cloud-region.cloud-region-id = $ss.param.aic-cloud-region \n\t\t\tAND cloud-region.cloud-owner = $prop.cloud-region.cloud-owner \n\t\t\tAND volume-group-id = $ss.param.volume-group-id\" >\n<parameter name=\"volume-group-name\" value='`$tmp.aai.volume-group.volume-group-name`' />","comments":"","outputs":1,"x":3999.245964050293,"y":2583.74653339386,"z":"587ae061.3728","wires":[["9f9ef8cf.ba0808","5960c4d9.4f908c","a3fabdd5.5e91c"]]},{"id":"4beed03c.8d4db","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1355.7340393066406,"y":2554.007691383362,"z":"587ae061.3728","wires":[["723cef03.6f931","813dff6d.3c4df"]]},{"id":"b7a31908.a7c678","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":722.5555648803711,"y":237.61507320404053,"z":"587ae061.3728","wires":[["8bdbab0.659cb58","5be66a71.cb9eb4","1a6a99cc.372f26","b3d36a2d.60ec98","e164d9f4.60c058","7e27541a.fd7cac","70716c34.e32b54","41ec3a6e.5488d4","ab5a0467.30fd98","14b65022.d7dc6","eafc73a1.97feb","608befa2.bb7d1"]]},{"id":"b3d36a2d.60ec98","type":"set","name":"set resource-resolution-data.status = SUCCESS","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$ss.param.aai-vf-module-put-index].resource-resolution-data.status' \n\tvalue='SUCCESS' />\n","comments":"","x":1008.9723587036133,"y":5359.127058982849,"z":"587ae061.3728","wires":[]},{"id":"e290c73f.be4828","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1329.4127960205078,"y":1430.4722929000854,"z":"587ae061.3728","wires":[["e2a65309.1de6b","e15519a.36e41e8"]]},{"id":"4e70de55.d4a13","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1329.6984481811523,"y":1590.4723825454712,"z":"587ae061.3728","wires":[["e2a65309.1de6b","8b85bac9.76e438"]]},{"id":"d4583f14.def33","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1332.5556640625,"y":1641.3295240402222,"z":"587ae061.3728","wires":[["e2a65309.1de6b","abce347d.bd24a8"]]},{"id":"2828353c.ce5f2a","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1330.269874572754,"y":1529.4722929000854,"z":"587ae061.3728","wires":[["e2a65309.1de6b","f68a0f36.041db"]]},{"id":"e2a65309.1de6b","type":"set","name":"set resource-resolution-data.status = FAILED","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$ss.param.aai-vnf-put-index].resource-resolution-data.status' \n\tvalue='FAILED' />\n","comments":"","x":1696.9841842651367,"y":1430.186604499817,"z":"587ae061.3728","wires":[]},{"id":"1821aab8.b0b995","type":"for","name":"for bidx in param_length (VF-MODULE)","xml":"<for silentFailure='true' index=\"bidx\" start=\"0\" end=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param_length`\" >\n","comments":"","outputs":1,"x":1290.7459030151367,"y":321.60316371917725,"z":"587ae061.3728","wires":[["c7903cf5.7529f"]]},{"id":"2efcedeb.63df22","type":"switchNode","name":"switch param[].name","xml":"<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].name`'>\n","comments":"","outputs":1,"x":2025.8888702392578,"y":837.0317640304565,"z":"587ae061.3728","wires":[["b3062d0b.d599a","de4afc04.ac71b","cc904d52.55947","3a38cbce.3d1914","c2c93de0.a525a","f33802e2.35a41","dcdd6fda.009f2","41fff236.4d538c","f85da22e.73f75","64a45c1e.5e5da4","3c333dc5.d2c562","a56d2ffd.59cb8","a8e2121d.a4758","3f467dbb.41a9a2","bfa7fb43.80d328","4f4f7860.ec2048","db27910b.c139","b0169c71.ea199","781da3e1.bf8fdc","21a35d6b.aba542"]]},{"id":"b3062d0b.d599a","type":"outcome","name":"vf_module_id","xml":"<outcome value='vf_module_id'>\n","comments":"","outputs":1,"x":2319.8888626098633,"y":432.888876914978,"z":"587ae061.3728","wires":[["e8f48aaa.3c8928"]]},{"id":"e8f48aaa.3c8928","type":"set","name":"set ss.param.vf-module-id","xml":"<set>\n<parameter name='ss.param.vf-module-id' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].value`' />\n","comments":"","x":2658.3174934387207,"y":433.74604082107544,"z":"587ae061.3728","wires":[]},{"id":"de4afc04.ac71b","type":"outcome","name":"vf_module_name","xml":"<outcome value='vf_module_name'>\n","comments":"","outputs":1,"x":2331.3174018859863,"y":475.74602603912354,"z":"587ae061.3728","wires":[["44d7cd5b.26ec74"]]},{"id":"44d7cd5b.26ec74","type":"set","name":"set ss.param.vf-module-name","xml":"<set>\n<parameter name='ss.param.vf-module-name' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].value`' />\n","comments":"","x":2669.603157043457,"y":476.3174843788147,"z":"587ae061.3728","wires":[]},{"id":"cc904d52.55947","type":"outcome","name":"volume-group-name","xml":"<outcome value='volume-group-name'>\n","comments":"","outputs":1,"x":2340.6031341552734,"y":560.6032028198242,"z":"587ae061.3728","wires":[["27bd99c7.bf9f06"]]},{"id":"27bd99c7.bf9f06","type":"set","name":"set ss.param.volume-group-name","xml":"<set>\n<parameter name='ss.param.volume-group-name' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].value`' />\n","comments":"","x":2683.603157043457,"y":561.3174843788147,"z":"587ae061.3728","wires":[]},{"id":"3a38cbce.3d1914","type":"outcome","name":"aic-cloud-region","xml":"<outcome value='aic-cloud-region'>\n","comments":"","outputs":1,"x":2326.603183746338,"y":602.6031827926636,"z":"587ae061.3728","wires":[["d06fa0c.76b6f6"]]},{"id":"d06fa0c.76b6f6","type":"set","name":"set ss.param.aic-cloud-region","xml":"<set>\n<parameter name='ss.param.aic-cloud-region' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].value`' />\n","comments":"","x":2671.8889389038086,"y":603.1746411323547,"z":"587ae061.3728","wires":[]},{"id":"c2c93de0.a525a","type":"outcome","name":"volume_group_id","xml":"<outcome value='volume_group_id'>\n","comments":"","outputs":1,"x":2331.8888778686523,"y":517.8889169692993,"z":"587ae061.3728","wires":[["4b1c4733.8a7788"]]},{"id":"4b1c4733.8a7788","type":"set","name":"set ss.param.volume-group-id","xml":"<set>\n<parameter name='ss.param.volume-group-id' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].value`' />\n","comments":"","x":2670.174633026123,"y":518.4603753089905,"z":"587ae061.3728","wires":[]},{"id":"7e27541a.fd7cac","type":"save","name":"update vf-module","xml":"<update plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"vf-module\"\n\t\tkey=\"generic-vnf.vnf-id = $ss.param.vnf-id \n\t\t\tAND vf-module.vf-module-id = $ss.param.vf-module-id \" >\n<parameter name=\"vf-module-name\" value='`$ss.param.vf-module-name`' />\n","comments":"","outputs":1,"x":949.9128341674805,"y":2117.162986755371,"z":"587ae061.3728","wires":[["18b35a36.1a22d6","4d3835b8.abd7fc"]]},{"id":"18b35a36.1a22d6","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1143.1628189086914,"y":2116.6629314422607,"z":"587ae061.3728","wires":[["4becd3c6.95804c"]]},{"id":"4d3835b8.abd7fc","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1149.4128303527832,"y":2168.412965774536,"z":"587ae061.3728","wires":[["c9bc817f.270c2"]]},{"id":"34f7a405.4decbc","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'vf-module not found in AnAI with vf-module-id=' + $ss.param.vf-module-id + $error-message`\" />\n","comments":"","x":1499.0079650878906,"y":2045.841459274292,"z":"587ae061.3728","wires":[]},{"id":"e164d9f4.60c058","type":"save","name":"get vf-module","xml":"<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"vf-module\"\n\t\tkey=\"generic-vnf.vnf-id = $ss.param.vnf-id \n\t\t\tAND vf-module.vf-module-id = $ss.param.vf-module-id \"\n\tpfx=\"tmp.aai.vfmdoule\" >\n\n","comments":"","outputs":1,"x":941.5914726257324,"y":1955.5556411743164,"z":"587ae061.3728","wires":[["134aeeb9.731e21","439be79e.916c28"]]},{"id":"134aeeb9.731e21","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1130.8414573669434,"y":1955.055585861206,"z":"587ae061.3728","wires":[["a9b53c64.98c31"]]},{"id":"439be79e.916c28","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1138.5199394226074,"y":2011.0912771224976,"z":"587ae061.3728","wires":[["43a38615.dde1b8"]]},{"id":"4becd3c6.95804c","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1340.5913848876953,"y":2116.734456062317,"z":"587ae061.3728","wires":[["d53d90e1.35335","19217514.29df0b"]]},{"id":"c9bc817f.270c2","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1343.448600769043,"y":2167.591597557068,"z":"587ae061.3728","wires":[["c3c8c0a5.2b2e3","19217514.29df0b"]]},{"id":"8caa3e1d.19b86","type":"set","name":"set resource-resolution-data.status = FAILED","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$ss.param.aai-vf-module-put-index].resource-resolution-data.status' \n\tvalue='FAILED' />\n","comments":"","x":4244.532001495361,"y":1899.4011116027832,"z":"587ae061.3728","wires":[]},{"id":"11cfdb92.6bbdf4","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":4435.42476272583,"y":2044.544038772583,"z":"587ae061.3728","wires":[["e232aa68.c9ca08"]]},{"id":"19217514.29df0b","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":3935.710460662842,"y":1855.7940559387207,"z":"587ae061.3728","wires":[["8caa3e1d.19b86","22c667e8.cd2b28","489c245b.b0274c"]]},{"id":"4aa37991.d5d7f8","type":"save","name":"Rollback vf-module update","xml":"<update plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"vf-module\"\n\t\tkey=\"generic-vnf.vnf-id = $ss.param.vnf-id \n\t\t\tAND vf-module.vf-module-id = $ss.param.vf-module-id \" >\n<parameter name=\"vf-module-name\" value='`$tmp.aai.vfmdoule.vf-module-name`' />","comments":"","outputs":1,"x":4171.032272338867,"y":2225.6152572631836,"z":"587ae061.3728","wires":[["328a520c.3947ce","42080a8e.cb8ca4","a5e6f2ca.4741c"]]},{"id":"328a520c.3947ce","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":4409.282257080078,"y":2225.1152019500732,"z":"587ae061.3728","wires":[["2938cb15.2d2414"]]},{"id":"42080a8e.cb8ca4","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":4417.53226852417,"y":2267.8652362823486,"z":"587ae061.3728","wires":[["8acca4a5.d63fc8"]]},{"id":"a5e6f2ca.4741c","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":4414.353515625,"y":2311.1268062591553,"z":"587ae061.3728","wires":[["1c9758b3.0c0cb7"]]},{"id":"f33802e2.35a41","type":"outcome","name":"vnfc-name","xml":"<outcome value='vnfc-name'>","comments":"","outputs":1,"x":2309.9365463256836,"y":647.6983466148376,"z":"587ae061.3728","wires":[["8c076485.6b1728"]]},{"id":"8c076485.6b1728","type":"set","name":"set ss.param.vnfc-name, index","xml":"<set>\n<parameter name='ss.param.vnfc-name' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].value`' />\n<parameter name='ss.param.vnfc-name-index' value='`$bidx`' />","comments":"","x":2676.043773651123,"y":648.4484195709229,"z":"587ae061.3728","wires":[]},{"id":"79520400.13e42c","type":"comment","name":"vf-module params","info":"","comments":"","x":1943.6030883789062,"y":504.98407554626465,"z":"587ae061.3728","wires":[]},{"id":"6fd7ede2.6a41d4","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'Failed to get vf-module in AnAI with vf-module-id = ' + $ss.param.vf-module-id + $error-message`\" />\n","comments":"","x":1499.1389465332031,"y":1991.0556926727295,"z":"587ae061.3728","wires":[]},{"id":"a9b53c64.98c31","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1302.80570602417,"y":1955.5557498931885,"z":"587ae061.3728","wires":[["6fd7ede2.6a41d4","19217514.29df0b"]]},{"id":"43a38615.dde1b8","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1303.0556869506836,"y":2011.0557289123535,"z":"587ae061.3728","wires":[["34f7a405.4decbc","19217514.29df0b"]]},{"id":"49935fa6.5ff8e","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`' Failed to rollback generic-vnf update in AnAI. MANUAL ROLLBACK IS REQUIRED! '`\" />\n","comments":"","x":4614.174701690674,"y":1944.6511087417603,"z":"587ae061.3728","wires":[]},{"id":"60848333.084a8c","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`' Failed to rollback generic-vnf update because generic-vnf with vnf-id=' + $ss.param.vnf-id + ' is not found in AAI. MANUAL ROLLBACK IS REQUIRED! '`\" />\n","comments":"","x":4616.674701690674,"y":1995.901110649109,"z":"587ae061.3728","wires":[]},{"id":"e232aa68.c9ca08","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\" Rollback of generic-vnf update completed. \" />\n","comments":"","x":4619.174701690674,"y":2044.9011087417603,"z":"587ae061.3728","wires":[]},{"id":"d53d90e1.35335","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'Failed to update vf-module-name with vf-module-id = ' + $ss.param.vf-module-id + ' in AnAI; ' + $error-message`\" />\n","comments":"","x":1533.4723205566406,"y":2142.0557403564453,"z":"587ae061.3728","wires":[]},{"id":"c3c8c0a5.2b2e3","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'Failed to update vf-module-name with vf-module-id =' + $ss.param.vf-module-id + ' because vf-module is not found in AAI' + $error-message`\" />\n","comments":"","x":1534.7223205566406,"y":2192.805742263794,"z":"587ae061.3728","wires":[]},{"id":"723cef03.6f931","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`' Failed to update volume-group with volume-group-id =' + $ss.param.volume-group-id + ' and volume-group-name = ' + $ss.param.volume-group-name + ' in AnAI.' + $error-message`\" />\n","comments":"","x":1548.9126892089844,"y":2554.341318130493,"z":"587ae061.3728","wires":[]},{"id":"2938cb15.2d2414","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`$error-message + ' Failed to rollback volume-group with volume-group-id = ' + $ss.param.volume-group-id + ' in AnAI. MANUAL ROLLBACK IS REQUIRED!'`\" />\n","comments":"","x":4590.710739135742,"y":2224.579610824585,"z":"587ae061.3728","wires":[]},{"id":"8acca4a5.d63fc8","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`$error-message + ' Failed to rollback vf-module update with vf-module-id=' + $ss.param.vf-module-id + ' because vf-module not found in AAI. MANUAL ROLLBACK IS REQUIRED!'`\" />\n","comments":"","x":4609.710739135742,"y":2267.079610824585,"z":"587ae061.3728","wires":[]},{"id":"489c245b.b0274c","type":"record","name":"record generic-vnf ROLLBACK","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"ROLLBACK generic-vnf update\"/>","comments":"","outputs":1,"x":4198.674701690674,"y":1854.9011096954346,"z":"587ae061.3728","wires":[[]]},{"id":"ac27fb68.a731c8","type":"record","name":"record vf-module ROLLBACK","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"ROLLBACK vf-module update\"/>","comments":"","outputs":1,"x":4178.960739135742,"y":2181.0796098709106,"z":"587ae061.3728","wires":[[]]},{"id":"621cfe10.6a00f","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":3934.960708618164,"y":2181.329584121704,"z":"587ae061.3728","wires":[["ac27fb68.a731c8","4aa37991.d5d7f8"]]},{"id":"1c9758b3.0c0cb7","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`$error-message + ' Rollback of vf-module update completed.'`\" />\n","comments":"","x":4597.460746765137,"y":2310.5796089172363,"z":"587ae061.3728","wires":[]},{"id":"9f9ef8cf.ba0808","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":4206.317329406738,"y":2584.222270011902,"z":"587ae061.3728","wires":[["29cd94c9.a4fedc"]]},{"id":"5960c4d9.4f908c","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":4214.56734085083,"y":2626.9723043441772,"z":"587ae061.3728","wires":[["532afc8b.850994"]]},{"id":"a3fabdd5.5e91c","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":4211.38858795166,"y":2670.233874320984,"z":"587ae061.3728","wires":[["8d72022f.86537"]]},{"id":"29cd94c9.a4fedc","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`$error-message + ' Failed to UPDATE volume-group with volume-group-id=' + $ss.param.volume-group-id + ' from AnAI. MANUAL ROLLBACK IS REQUIRED! '`\" />\n","comments":"","x":4387.745811462402,"y":2583.6866788864136,"z":"587ae061.3728","wires":[]},{"id":"532afc8b.850994","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`$error-message + ' volume-group with volume-group-id = ' + $ss.param.volume-group-id + ' not found in AAI. Consider silent success!'`\" />\n","comments":"","x":4406.745811462402,"y":2627.1866788864136,"z":"587ae061.3728","wires":[]},{"id":"8fa93667.ba6488","type":"record","name":"record volume-group ROLLBACK","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"ROLLBACK volume-group update\"/>","comments":"","outputs":1,"x":4037.9958114624023,"y":2540.1866779327393,"z":"587ae061.3728","wires":[[]]},{"id":"ef4014db.371ed8","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":3782.995780944824,"y":2540.4366521835327,"z":"587ae061.3728","wires":[["8fa93667.ba6488","20e12a6b.8386e6"]]},{"id":"8d72022f.86537","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`$error-message + ' Rollback of volume_group completed.'`\" />\n","comments":"","x":4394.495819091797,"y":2670.686676979065,"z":"587ae061.3728","wires":[]},{"id":"70716c34.e32b54","type":"save","name":"save VNFC","xml":"<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"vnfc\"\n\t\tkey=\"vnfc.vnfc-name = $ss.param.vnfc-name\" >\n<parameter name=\"nfc-naming-code\" value='`$ss.param.nfc-naming-code`' />\n<parameter name=\"nfc-function\" value='`$ss.param.nfc-function`' />\n<parameter name=\"model-customization-id\" value='`$ss.param.vnfc-model-customization-uuid`' />\n<parameter name=\"model-invariant-id\" value='`$ss.param.vnfc-model-invariant-uuid`' />\n<parameter name=\"model-version-id\" value='`$ss.param.vnfc-model-version`' />\n","comments":"","outputs":1,"x":917.3413467407227,"y":2848.293809890747,"z":"587ae061.3728","wires":[["8a3fd0b6.6280e","e0c3e38d.51691"]]},{"id":"8a3fd0b6.6280e","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1106.3413467407227,"y":2848.293809890747,"z":"587ae061.3728","wires":[["38247114.ff80be"]]},{"id":"38247114.ff80be","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1309.0913391113281,"y":2848.293783187866,"z":"587ae061.3728","wires":[["829f5f37.eeb7e","c2f74776.281c08"]]},{"id":"829f5f37.eeb7e","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`' Failed to create vnfc with vnfc-name =' + $ss.param.vnfc-name + ' in AnAI.' + $error-message`\" />\n","comments":"","x":1502.2699890136719,"y":2848.6274099349976,"z":"587ae061.3728","wires":[]},{"id":"4518b605.8ddd28","type":"save","name":"delete vnfc","xml":"<delete plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"vnfc\"\n\t\tkey=\"vnfc.vnfc-name = $ss.param.vnfc-name\" >","comments":"","outputs":1,"x":3830.1747703552246,"y":2887.6388149261475,"z":"587ae061.3728","wires":[["11a4b521.25a57b","8df7cd83.d9ea4","4c8defa8.ceafe"]]},{"id":"11a4b521.25a57b","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":4037.24613571167,"y":2888.1145515441895,"z":"587ae061.3728","wires":[["cde32e34.1f286"]]},{"id":"8df7cd83.d9ea4","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":4045.4961471557617,"y":2930.864585876465,"z":"587ae061.3728","wires":[["4d65af2a.eda2b"]]},{"id":"4c8defa8.ceafe","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":4042.317394256592,"y":2974.1261558532715,"z":"587ae061.3728","wires":[["c2521fb5.c495b"]]},{"id":"feb81e83.5db67","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`$error-message + ' Failed to delete vnfc with vnfc-name=' + $ss.param.vnfc-name + ' from AnAI. MANUAL ROLLBACK IS REQUIRED! '`\" />\n","comments":"","x":4474.674617767334,"y":2887.578960418701,"z":"587ae061.3728","wires":[]},{"id":"4d65af2a.eda2b","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`$error-message + ' vnfc with vnfc-name=' + $ss.param.vnfc-name + ' not found in AAI. Consider silent success!'`\" />\n","comments":"","x":4237.674617767334,"y":2931.078960418701,"z":"587ae061.3728","wires":[]},{"id":"c4ed8420.343b38","type":"record","name":"record vnfc ROLLBACK","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"ROLLBACK vnfc save\"/>","comments":"","outputs":1,"x":3867.924617767334,"y":2844.078959465027,"z":"587ae061.3728","wires":[[]]},{"id":"a66445ad.c6e778","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":3624.9245681762695,"y":2843.7575731277466,"z":"587ae061.3728","wires":[["c4ed8420.343b38","4518b605.8ddd28"]]},{"id":"c2521fb5.c495b","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`$error-message + ' Rollback (delete) of vnfc with vnfc-name=' + $ss.param.vnfc-name + '  completed.'`\" />\n","comments":"","x":4225.4246253967285,"y":2974.5789585113525,"z":"587ae061.3728","wires":[]},{"id":"cf51daa2.2bb388","type":"save","name":"save connection-point","xml":"<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"cp\"\n\t\tkey=\"cp.cp-instance-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[$i].connection-point.connection-point-id \n\t\tAND vnfc.vnfc.vnfc-name = $ss.param.vnfc-name\" >\n<parameter name=\"cp-instance-id\" \n\tvalue='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[$i].connection-point.connection-point-id`' />","comments":"","outputs":1,"x":1263.0199508666992,"y":3035.293676376343,"z":"587ae061.3728","wires":[["2441e9af.073706","6aa96e1.1313b9","7e0461e0.77124"]]},{"id":"2441e9af.073706","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1484.0199508666992,"y":3035.293676376343,"z":"587ae061.3728","wires":[["49300019.24a0b"]]},{"id":"49300019.24a0b","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1677.7699432373047,"y":3035.293649673462,"z":"587ae061.3728","wires":[["52441a65.a27a64","7f9cda81.239a14"]]},{"id":"52441a65.a27a64","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`' Failed to create connection-point with cp-instance-id =' + $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[$i].connection-point.connection-point-id + ' in AnAI.' + $error-message`\" />\n","comments":"","x":1861.9485931396484,"y":3035.6272764205933,"z":"587ae061.3728","wires":[]},{"id":"41ec3a6e.5488d4","type":"for","name":"for i in vnfc-network-data_length","xml":"<for silentFailure='true' index='i' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data_length`' >\n","comments":"","outputs":1,"x":981.7341690063477,"y":3034.793632507324,"z":"587ae061.3728","wires":[["cf51daa2.2bb388"]]},{"id":"82a690a4.ccdc","type":"save","name":"save vlan-tag","xml":"<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"vlan-tag\"\n\t\tkey=\"vlan-tag.vlan-tag-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[$i].connection-point.vlan-data[$j].vlan-uuid\" >\n<parameter name=\"vlan-tag-id\" \n\tvalue='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[$i].connection-point.vlan-data[$j].vlan-uuid`' />\n<parameter name=\"vlan-tag-role\" \n\tvalue='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[$i].connection-point.vlan-data[$j].vlan-tag-description`' />\n<parameter name=\"vlan-id-outer\" \n\tvalue='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[$i].connection-point.vlan-data[$j].vlan-tag-id`' />\n","comments":"","outputs":1,"x":1915.996078491211,"y":3659.71040058136,"z":"587ae061.3728","wires":[["b6d800ec.15f77","1d29b839.e69138","c2756913.223288"]]},{"id":"b6d800ec.15f77","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2092.996078491211,"y":3659.71040058136,"z":"587ae061.3728","wires":[["35e697ce.beef68"]]},{"id":"35e697ce.beef68","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":2284.7460708618164,"y":3659.710373878479,"z":"587ae061.3728","wires":[["5a5a2f36.9965a","b989ea09.c55598"]]},{"id":"5a5a2f36.9965a","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`' Failed to create vlan-tag with vlan-tag-id =' + $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[$i].connection-point.vlan-data[$j].vlan-uuid + ' in AnAI.' + $error-message`\" />\n","comments":"","x":2464.92472076416,"y":3660.0440006256104,"z":"587ae061.3728","wires":[]},{"id":"11ff501c.6422f","type":"save","name":"save l-interface","xml":"<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"l-interface\"\n\t\tkey=\"l-interface.interface-name = $ss.param.oam-interface-name\n\t\tAND generic-vnf.vnf-id = $ss.param.vnf-id\" >\n<parameter name=\"interface-name\" value='`$ss.param.oam-interface-name`' />\n<parameter name=\"interface-role\" value='OAM' />\n","comments":"","outputs":1,"x":1854.5318145751953,"y":4120.030818939209,"z":"587ae061.3728","wires":[["1aa54dd9.0dee62","bc423cbf.7ea25"]]},{"id":"1aa54dd9.0dee62","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2027.5318145751953,"y":4120.030818939209,"z":"587ae061.3728","wires":[["cbb3b078.1d713"]]},{"id":"cbb3b078.1d713","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":2197.281806945801,"y":4120.030792236328,"z":"587ae061.3728","wires":[["8f5af142.a1364","b989ea09.c55598"]]},{"id":"8f5af142.a1364","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`' Failed to create l-interface with interface-name = ' + $ss.param.oam-interface-name + ' in AnAI.' + $error-message`\" />\n","comments":"","x":2381.4604568481445,"y":4120.3644189834595,"z":"587ae061.3728","wires":[]},{"id":"2b02af6c.43d85","type":"for","name":"for j in in vlan-data_length","xml":"<for silentFailure='true' index='j' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[$i].connection-point.vlan-data_length`' >\n","comments":"","outputs":1,"x":1693.9603118896484,"y":3659.4605054855347,"z":"587ae061.3728","wires":[["82a690a4.ccdc"]]},{"id":"6aa96e1.1313b9","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1492.4841918945312,"y":3080.7936754226685,"z":"587ae061.3728","wires":[["49300019.24a0b"]]},{"id":"64d3e11a.41a6b","type":"save","name":"delete vlan-tag","xml":"<delete plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"vlan-tag\"\n\t\tkey=\"vlan-tag.vlan-tag-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[$i].connection-point.vlan-data[$j].vlan-uuid\" >","comments":"","outputs":1,"x":4291.889190673828,"y":3553.4123163223267,"z":"587ae061.3728","wires":[["4a8370ce.e010e","7f1657a7.92a418","3bd731c5.a13a4e"]]},{"id":"4a8370ce.e010e","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":4498.960556030273,"y":3553.8880529403687,"z":"587ae061.3728","wires":[["1f1559a0.81e976"]]},{"id":"7f1657a7.92a418","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":4507.210567474365,"y":3596.638087272644,"z":"587ae061.3728","wires":[["c84f718f.2f76f"]]},{"id":"3bd731c5.a13a4e","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":4504.031814575195,"y":3639.8996572494507,"z":"587ae061.3728","wires":[["c24d6e93.59834"]]},{"id":"5b226aa3.cbdea4","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`$error-message + ' Failed to delete vlan-tag with vlan-tag-id =' + $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[$i].connection-point.vlan-data[$j].vlan-uuid + ' from AnAI. MANUAL ROLLBACK IS REQUIRED! '`\" />\n","comments":"","x":4937.055931091309,"y":3552.685839176178,"z":"587ae061.3728","wires":[]},{"id":"c84f718f.2f76f","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`$error-message + ' vlan-tag with vlan-tag-id =' + $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[$i].connection-point.vlan-data[$j].vlan-uuid + ' not found in AAI. Consider silent success!'`\" />\n","comments":"","x":4699.3890380859375,"y":3596.8524618148804,"z":"587ae061.3728","wires":[]},{"id":"80cf041f.38f1c8","type":"record","name":"record vlan-tag ROLLBACK","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"ROLLBACK vlan-tag save\"/>","comments":"","outputs":1,"x":3752.3537216186523,"y":3504.1380672454834,"z":"587ae061.3728","wires":[[]]},{"id":"90c07c4a.83ca","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":3490.353691101074,"y":3504.388041496277,"z":"587ae061.3728","wires":[["80cf041f.38f1c8","19a92334.7e178d"]]},{"id":"c24d6e93.59834","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`$error-message + ' Rollback (delete) of vlan-tag with vlan-tag-id =' + $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[$i].connection-point.vlan-data[$j].vlan-uuid + '  completed.'`\" />\n","comments":"","x":4687.139045715332,"y":3640.3524599075317,"z":"587ae061.3728","wires":[]},{"id":"544294cb.d5af0c","type":"comment","name":"Deleting vnfc will delete connection-point (cp)","info":"","comments":"","x":1787.0079650878906,"y":2982.341206550598,"z":"587ae061.3728","wires":[]},{"id":"1d29b839.e69138","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":2101.3175201416016,"y":3706.0317764282227,"z":"587ae061.3728","wires":[["35e697ce.beef68"]]},{"id":"19a92334.7e178d","type":"for","name":"for i in vnfc-network-data_len","xml":"<for silentFailure='true' index='i' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data_length`' >\n","comments":"","outputs":1,"x":3757.4608993530273,"y":3553.9837789535522,"z":"587ae061.3728","wires":[["709584aa.d56cbc"]]},{"id":"709584aa.d56cbc","type":"for","name":"for j in in vlan-data_length","xml":"<for silentFailure='true' index='j' start='0' end='$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[$i].connection-point.vlan-data_length`' >\n","comments":"","outputs":1,"x":4053.889488220215,"y":3553.8409566879272,"z":"587ae061.3728","wires":[["64d3e11a.41a6b"]]},{"id":"e701689.fa89598","type":"save","name":"save cp relationship","xml":"<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"vlan-tag:relationship-list\"\n\t\tkey=\"vlan-tag.vlan-tag-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[$i].connection-point.vlan-data[$j].vlan-uuid\" >\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"cp\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"cp.cp-instance-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[$i].connection-point.connection-point-id`\" />","comments":"","outputs":1,"x":2282.603084564209,"y":3762.602714538574,"z":"587ae061.3728","wires":[["5e08607b.d4891","508b54b.91184ac"]]},{"id":"5e08607b.d4891","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2491.888858795166,"y":3762.1740951538086,"z":"587ae061.3728","wires":[["25fd854c.5dac5a"]]},{"id":"25fd854c.5dac5a","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":2683.92440032959,"y":3762.1740617752075,"z":"587ae061.3728","wires":[["b246448b.3ec4f8","b989ea09.c55598"]]},{"id":"b246448b.3ec4f8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`' Failed to create cp relationship for vlan-tag with vlan-tag-id =' + $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[$i].connection-point.vlan-data[$j].vlan-uuid + ' in AnAI.' + $error-message`\" />\n","comments":"","x":2864.1030502319336,"y":3762.507688522339,"z":"587ae061.3728","wires":[]},{"id":"7e0461e0.77124","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":1480.984260559082,"y":3659.5558919906616,"z":"587ae061.3728","wires":[["2b02af6c.43d85"]]},{"id":"dcdd6fda.009f2","type":"outcome","name":"oam-interface-name","xml":"<outcome value='oam-interface-name'>","comments":"","outputs":1,"x":2340.9365310668945,"y":690.5078482627869,"z":"587ae061.3728","wires":[["3d731ab3.981e86"]]},{"id":"3d731ab3.981e86","type":"set","name":"set ss.param.oam-interface-name, index","xml":"<set>\n<parameter name='ss.param.oam-interface-name' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].value`' />\n<parameter name='ss.param.oam-interface-name-index' value='`$bidx`' />","comments":"","x":2704.043758392334,"y":691.2579212188721,"z":"587ae061.3728","wires":[]},{"id":"41fff236.4d538c","type":"outcome","name":"lo0-interface-name","xml":"<outcome value='=âlo0-interface-name'>","comments":"","outputs":1,"x":2337.650733947754,"y":733.2222218513489,"z":"587ae061.3728","wires":[["bd223968.8d8ed8"]]},{"id":"bd223968.8d8ed8","type":"set","name":"set ss.param.lo0-interface-name, index","xml":"<set>\n<parameter name='ss.param.lo0-interface-name' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].value`' />\n<parameter name='ss.param.lo0-interface-name-index' value='`$bidx`' />","comments":"","x":2698.7579612731934,"y":733.9722948074341,"z":"587ae061.3728","wires":[]},{"id":"6845eda.7cb3314","type":"comment","name":"ROLLBACK STARET HERE","info":"","comments":"","x":3967.2461738586426,"y":1800.8534259796143,"z":"587ae061.3728","wires":[]},{"id":"813dff6d.3c4df","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":3753.3176345825195,"y":2064.6036291122437,"z":"587ae061.3728","wires":[["621cfe10.6a00f","19217514.29df0b"]]},{"id":"c2f74776.281c08","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":3604.7463455200195,"y":2336.3889112472534,"z":"587ae061.3728","wires":[["813dff6d.3c4df","ef4014db.371ed8"]]},{"id":"7f9cda81.239a14","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":3455.103225708008,"y":2693.53168964386,"z":"587ae061.3728","wires":[["c2f74776.281c08","a66445ad.c6e778"]]},{"id":"b989ea09.c55598","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":3313.317558288574,"y":3089.127052307129,"z":"587ae061.3728","wires":[["7f9cda81.239a14","90c07c4a.83ca"]]},{"id":"c2756913.223288","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":2098.3172340393066,"y":3762.745767593384,"z":"587ae061.3728","wires":[["e701689.fa89598"]]},{"id":"cd445d6d.a98f2","type":"switchNode","name":"switch: ss.param.oam-interface-name != NULL","xml":"<switch test=\"`$ss.param.oam-interface-name != ''`\">\n","comments":"","outputs":1,"x":1201.889015197754,"y":4119.602787971497,"z":"587ae061.3728","wires":[["d45dcb6e.c3d178"]]},{"id":"d45dcb6e.c3d178","type":"outcome","name":"true","xml":"<outcome value='true'>","comments":"","outputs":1,"x":1464.8890380859375,"y":4120.102786540985,"z":"587ae061.3728","wires":[["44a961e1.1c601"]]},{"id":"54829aaa.505a54","type":"save","name":"save l-interface","xml":"<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"l-interface\"\n\t\tkey=\"l-interface.interface-name = $ss.param.lo0-interface-name\n\t\tAND generic-vnf.vnf-id = $ss.param.vnf-id\" >\n<parameter name=\"interface-name\" value='`$ss.param.lo0-interface-name`' />\n<parameter name=\"interface-role\" value='loopback' />\n","comments":"","outputs":1,"x":1852.46044921875,"y":4733.888261795044,"z":"587ae061.3728","wires":[["aa0a3068.f8788","742a956b.4f639c"]]},{"id":"aa0a3068.f8788","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2025.46044921875,"y":4733.888261795044,"z":"587ae061.3728","wires":[["99531e6d.c647f"]]},{"id":"99531e6d.c647f","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":2195.2104415893555,"y":4733.888235092163,"z":"587ae061.3728","wires":[["b2a6cf65.f0ff8","151ef2dc.1c80bd"]]},{"id":"b2a6cf65.f0ff8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`' Failed to create l-interface with interface-name = ' + $ss.param.lo0-interface-name + ' in AnAI.' + $error-message`\" />\n","comments":"","x":2379.389091491699,"y":4734.221861839294,"z":"587ae061.3728","wires":[]},{"id":"a352bec.acb3b4","type":"switchNode","name":"switch: ss.param.lo0-interface-name != NULL","xml":"<switch test=\"`$ss.param.lo0-interface-name != ''`\">\n","comments":"","outputs":1,"x":1197.2461013793945,"y":4733.888648033142,"z":"587ae061.3728","wires":[["c5de1767.46f7b8"]]},{"id":"c5de1767.46f7b8","type":"outcome","name":"true","xml":"<outcome value='true'>","comments":"","outputs":1,"x":1460.2461242675781,"y":4734.388646602631,"z":"587ae061.3728","wires":[["7b92f765.5c1068"]]},{"id":"ab5a0467.30fd98","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":914.6032257080078,"y":4120.031339645386,"z":"587ae061.3728","wires":[["cd445d6d.a98f2","a352bec.acb3b4"]]},{"id":"f85da22e.73f75","type":"outcome","name":"ipv4-oam-address","xml":"<outcome value='ipv4-oam-address'>","comments":"","outputs":1,"x":2333.412727355957,"y":777.4126973152161,"z":"587ae061.3728","wires":[["4c61d3fd.8df93c"]]},{"id":"4c61d3fd.8df93c","type":"set","name":"set ss.param.ipv4-oam-address, index","xml":"<set>\n<parameter name='ss.param.ipv4-oam-address' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].value`' />\n<parameter name='ss.param.ipv4-oam-address-index' value='`$bidx`' />","comments":"","x":2697.377052307129,"y":778.162745475769,"z":"587ae061.3728","wires":[]},{"id":"64a45c1e.5e5da4","type":"outcome","name":"loopback0_ipv4_address","xml":"<outcome value='loopback0_ipv4_address'>","comments":"","outputs":1,"x":2355.8412551879883,"y":861.6984219551086,"z":"587ae061.3728","wires":[["8dac6aea.64c678"]]},{"id":"8dac6aea.64c678","type":"set","name":"set ss.param.loopback0-ipv4-address, index","xml":"<set>\n<parameter name='ss.param.loopback0-ipv4-address' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].value`' />\n<parameter name='ss.param.loopback0-ipv4-address-index' value='`$bidx`' />","comments":"","x":2717.091423034668,"y":861.3055577278137,"z":"587ae061.3728","wires":[]},{"id":"2a41c3fb.10a52c","type":"save","name":"delete l-interface (oam)","xml":"<delete plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"l-interface\"\n\t\tkey=\"l-interface.interface-name = $ss.param.oam-interface-name\n\t\tAND generic-vnf.vnf-id = $ss.param.vnf-id\" >","comments":"","outputs":1,"x":4111.5560302734375,"y":4107.3173542022705,"z":"587ae061.3728","wires":[["e916fc9e.ea8cb","cd68fa16.f9cdc8","fccb8e4.d1f307"]]},{"id":"e916fc9e.ea8cb","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":4319.627395629883,"y":4107.7930908203125,"z":"587ae061.3728","wires":[["fa11faa.24ca908"]]},{"id":"cd68fa16.f9cdc8","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":4327.877407073975,"y":4150.543125152588,"z":"587ae061.3728","wires":[["246fdb5d.9e9424"]]},{"id":"fccb8e4.d1f307","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":4324.698654174805,"y":4193.8046951293945,"z":"587ae061.3728","wires":[["985ccd7.50a213"]]},{"id":"45078030.cf3e6","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`$error-message + ' Failed to delete l-interface.interface-name = ' + $ss.param.oam-interface-name + ' from AnAI. MANUAL ROLLBACK IS REQUIRED! '`\" />\n","comments":"","x":4762.72306060791,"y":4108.257723808289,"z":"587ae061.3728","wires":[]},{"id":"246fdb5d.9e9424","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`$error-message + ' l-interface.interface-name = ' + $ss.param.oam-interface-name + ' not found in AAI. Consider silent success!'`\" />\n","comments":"","x":4520.055877685547,"y":4150.757499694824,"z":"587ae061.3728","wires":[]},{"id":"7baf5024.62e0b","type":"record","name":"record OAM l-interface ROLLBACK","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"ROLLBACK l-interface (oam) save\"/>","comments":"","outputs":1,"x":3628.305809020996,"y":4058.900403022766,"z":"587ae061.3728","wires":[[]]},{"id":"1566a874.953628","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":3368.3057594299316,"y":4058.579016685486,"z":"587ae061.3728","wires":[["7baf5024.62e0b","7df924d2.9fde8c"]]},{"id":"985ccd7.50a213","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`$error-message + ' Rollback (delete) of l-interface with interface-name = ' + $ss.param.oam-interface-name + '  completed.'`\" />\n","comments":"","x":4507.805885314941,"y":4194.257497787476,"z":"587ae061.3728","wires":[]},{"id":"7df924d2.9fde8c","type":"switchNode","name":"switch: ss.param.oam-interface-name != NULL","xml":"<switch test=\"`$ss.param.oam-interface-name != ''`\">\n","comments":"","outputs":1,"x":3663.556022644043,"y":4108.174520492554,"z":"587ae061.3728","wires":[["82313fdd.741ac"]]},{"id":"82313fdd.741ac","type":"outcome","name":"true","xml":"<outcome value='true'>","comments":"","outputs":1,"x":3922.413200378418,"y":4107.174520492554,"z":"587ae061.3728","wires":[["2a41c3fb.10a52c"]]},{"id":"bfe1f6.27f6ce08","type":"save","name":"delete l-interface (oam)","xml":"<delete plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"l-interface\"\n\t\tkey=\"l-interface.interface-name = $ss.param.lo0-interface-name\n\t\tAND generic-vnf.vnf-id = $ss.param.vnf-id\" >","comments":"","outputs":1,"x":3947.9839782714844,"y":4556.746128082275,"z":"587ae061.3728","wires":[["c9b5f695.459538","a381cbbb.bc0b98","495abd23.6e1964"]]},{"id":"c9b5f695.459538","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":4156.05534362793,"y":4557.221864700317,"z":"587ae061.3728","wires":[["35106a9.1d51196"]]},{"id":"a381cbbb.bc0b98","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":4164.3053550720215,"y":4599.971899032593,"z":"587ae061.3728","wires":[["7e6d8d78.04b344"]]},{"id":"495abd23.6e1964","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":4161.126602172852,"y":4643.233469009399,"z":"587ae061.3728","wires":[["ebe5ab27.c24218"]]},{"id":"ee417e90.e6281","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`$error-message + ' Failed to delete l-interface.interface-name = ' + $ss.param.lo0-interface-name + ' from AnAI. MANUAL ROLLBACK IS REQUIRED! '`\" />\n","comments":"","x":4610.816970825195,"y":4555.352953910828,"z":"587ae061.3728","wires":[]},{"id":"7e6d8d78.04b344","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`$error-message + ' l-interface.interface-name = ' + $ss.param.lo0-interface-name + ' not found in AAI. Consider silent success!'`\" />\n","comments":"","x":4356.483825683594,"y":4600.186273574829,"z":"587ae061.3728","wires":[]},{"id":"b9de345f.2f1598","type":"record","name":"record LOOPBACK l-interface ROLLBACK","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"ROLLBACK l-interface (oam) save\"/>","comments":"","outputs":1,"x":3488.733757019043,"y":4508.329176902771,"z":"587ae061.3728","wires":[[]]},{"id":"13d41abe.92eac5","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":3204.7337074279785,"y":4508.007790565491,"z":"587ae061.3728","wires":[["b9de345f.2f1598","cfb5085f.548968"]]},{"id":"ebe5ab27.c24218","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`$error-message + ' Rollback (delete) of l-interface with interface-name = ' + $ss.param.lo0-interface-name + '  completed.'`\" />\n","comments":"","x":4344.233833312988,"y":4643.6862716674805,"z":"587ae061.3728","wires":[]},{"id":"ce7204cd.e3e4e8","type":"outcome","name":"true","xml":"<outcome value='true'>","comments":"","outputs":1,"x":3758.841148376465,"y":4556.603294372559,"z":"587ae061.3728","wires":[["bfe1f6.27f6ce08"]]},{"id":"cfb5085f.548968","type":"switchNode","name":"switch: ss.param.lo0-interface-name != NULL","xml":"<switch test=\"`$ss.param.lo0-interface-name != ''`\">\n","comments":"","outputs":1,"x":3497.9838104248047,"y":4557.174842834473,"z":"587ae061.3728","wires":[["ce7204cd.e3e4e8"]]},{"id":"151ef2dc.1c80bd","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":3167.8413696289062,"y":3898.174654364586,"z":"587ae061.3728","wires":[["1566a874.953628","b989ea09.c55598"]]},{"id":"bc423cbf.7ea25","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":2035.6031799316406,"y":4162.317143440247,"z":"587ae061.3728","wires":[["cbb3b078.1d713"]]},{"id":"742a956b.4f639c","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":2032.460350036621,"y":4776.459685325623,"z":"587ae061.3728","wires":[["99531e6d.c647f"]]},{"id":"944a49c7.77dcf8","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":2996.4122772216797,"y":4311.03185749054,"z":"587ae061.3728","wires":[["13d41abe.92eac5","151ef2dc.1c80bd"]]},{"id":"3c333dc5.d2c562","type":"outcome","name":"ipv4-oam-address-prefix","xml":"<outcome value='ipv4-oam-address-prefix'>","comments":"","outputs":1,"x":2353.412727355957,"y":819.4127621650696,"z":"587ae061.3728","wires":[["72ccbf5e.7353e"]]},{"id":"72ccbf5e.7353e","type":"set","name":"set ipv4-oam-address-prefix, index","xml":"<set>\n<parameter name='ss.param.ipv4-oam-address-prefix' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].value`' />\n<parameter name='ss.param.ipv4-oam-address-prefix-index' value='`$bidx`' />","comments":"","x":2686.091297149658,"y":819.5913519859314,"z":"587ae061.3728","wires":[]},{"id":"44a961e1.1c601","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1624.7460174560547,"y":4119.602458953857,"z":"587ae061.3728","wires":[["11ff501c.6422f","f5f9ae7e.9c245"]]},{"id":"7b92f765.5c1068","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1621.8889389038086,"y":4734.459685325623,"z":"587ae061.3728","wires":[["54829aaa.505a54","7678c403.2f16ec"]]},{"id":"f5f9ae7e.9c245","type":"save","name":"save l3-interface-ipv4-address","xml":"<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"l3-interface-ipv4-address-list\"\n\t\tkey=\"l3-interface-ipv4-address-list.l3-interface-ipv4-address = $ss.param.ipv4-oam-address \n\t\tAND generic-vnf.vnf-id = $ss.param.vnf-id \n\t\tAND l-interface.interface-name = $ss.param.oam-interface-name\" >\n<parameter name=\"l3-interface-ipv4-address\" value='`$ss.param.ipv4-oam-address`' />\n<parameter name=\"l3-interface-ipv4-prefix-length\" value='`$ss.param.ipv4-oam-address-prefix`' />\n","comments":"","outputs":1,"x":1901.317512512207,"y":4265.317090988159,"z":"587ae061.3728","wires":[["33fab36e.83ae2c","b33d167.21525e8"]]},{"id":"33fab36e.83ae2c","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2122.317512512207,"y":4265.317090988159,"z":"587ae061.3728","wires":[["b1b71822.59fd78"]]},{"id":"b1b71822.59fd78","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":2292.0675048828125,"y":4265.317064285278,"z":"587ae061.3728","wires":[["8f1d2be9.b03218","151ef2dc.1c80bd"]]},{"id":"8f1d2be9.b03218","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`' Failed to create l3-interface-ipv4-address-list.l3-interface-ipv4-address = $ss.param.ipv4-oam-address + ' in AnAI.' + $error-message`\" />\n","comments":"","x":2476.2461547851562,"y":4265.65069103241,"z":"587ae061.3728","wires":[]},{"id":"b33d167.21525e8","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":2130.3888778686523,"y":4307.603415489197,"z":"587ae061.3728","wires":[["b1b71822.59fd78"]]},{"id":"7678c403.2f16ec","type":"save","name":"save l3-interface-ipv4-address","xml":"<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"l3-interface-ipv4-address-list\"\n\t\tkey=\"l3-interface-ipv4-address-list.l3-interface-ipv4-address = $ss.param.loopback0-ipv4-address \n\t\tAND generic-vnf.vnf-id = $ss.param.vnf-id \n\t\tAND l-interface.interface-name = $ss.param.lo0-interface-name\" >\n<parameter name=\"l3-interface-ipv4-address\" value='`$ss.param.loopback0-ipv4-address`' />\n<parameter name=\"l3-interface-ipv4-prefix-length\" value='32' />\n","comments":"","outputs":1,"x":1896.3175430297852,"y":4851.031002998352,"z":"587ae061.3728","wires":[["45173cac.f20124","d2b46db7.6b188"]]},{"id":"45173cac.f20124","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2117.317543029785,"y":4851.031002998352,"z":"587ae061.3728","wires":[["3d583f22.d0617"]]},{"id":"3d583f22.d0617","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":2287.0675354003906,"y":4851.030976295471,"z":"587ae061.3728","wires":[["eeaa2012.e77fd","944a49c7.77dcf8"]]},{"id":"eeaa2012.e77fd","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`' Failed to create l3-interface-ipv4-address-list with l3-interface-ipv4-address = $ss.param.loopback0-ipv4-address + ' in AnAI.' + $error-message`\" />\n","comments":"","x":2471.2461853027344,"y":4851.3646030426025,"z":"587ae061.3728","wires":[]},{"id":"d2b46db7.6b188","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":2125.3889083862305,"y":4893.31732749939,"z":"587ae061.3728","wires":[["3d583f22.d0617"]]},{"id":"1a2d0487.d8eb1b","type":"comment","name":"Delete l-interface will delete l3-interface-ipv4-address-list","info":"","comments":"","x":3360.6986198425293,"y":4452.460501194,"z":"587ae061.3728","wires":[]},{"id":"c7903cf5.7529f","type":"execute","name":"param[].name startsWith 'sriov'","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='startsWith' emitsOutcome='true' >\n    <parameter name=\"source\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].name`\" />\n\t<parameter name=\"target\" value=\"sriov\"/>\n","comments":"","outputs":1,"x":1608.745948791504,"y":321.6984586715698,"z":"587ae061.3728","wires":[["52c5ecbd.a9ad04","349aa760.9100d8"]]},{"id":"52c5ecbd.a9ad04","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1818.995948791504,"y":321.9484586715698,"z":"587ae061.3728","wires":[["d3a908bc.795728"]]},{"id":"d3a908bc.795728","type":"execute","name":"param[].name endsWith 'sriov'","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='endsWith' emitsOutcome='true' >\n    <parameter name=\"source\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].name`\" />\n\t<parameter name=\"target\" value=\"_net_id\"/>\n","comments":"","outputs":1,"x":2035.8887786865234,"y":321.6984643936157,"z":"587ae061.3728","wires":[["e894f22.fe6b11"]]},{"id":"e894f22.fe6b11","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2245.8886489868164,"y":321.2698698043823,"z":"587ae061.3728","wires":[["f4103af2.606478"]]},{"id":"8bc85394.b5842","type":"set","name":"set ss.network[$nidx].netid","xml":"<set>\n<parameter name='ss.network[$nidx].netid' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].value`' />\n","comments":"","x":2597.3169841766357,"y":320.6984167098999,"z":"587ae061.3728","wires":[]},{"id":"7f44f7f5.266e08","type":"set","name":"nidx++","xml":"<set>\n<parameter name='nidx' value='`$nidx + 1`' />\n","comments":"","x":2537.317092895508,"y":364.1270399093628,"z":"587ae061.3728","wires":[]},{"id":"fb9a01e4.d3667","type":"set","name":"set nidx = 0","xml":"<set>\n<parameter name='nidx' value='0' />\n","comments":"","x":1205.8885955810547,"y":238.26982975006104,"z":"587ae061.3728","wires":[]},{"id":"f4103af2.606478","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":2384.4603004455566,"y":321.5556125640869,"z":"587ae061.3728","wires":[["8bc85394.b5842","7f44f7f5.266e08"]]},{"id":"349aa760.9100d8","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1820.1746940612793,"y":364.841290473938,"z":"587ae061.3728","wires":[["2efcedeb.63df22"]]},{"id":"14b65022.d7dc6","type":"for","name":"for n in nidx","xml":"<for silentFailure='true' index='n' start='0' end='`$nidx`' >\n","comments":"","outputs":1,"x":895.9365997314453,"y":5238.413019180298,"z":"587ae061.3728","wires":[["b3b3d79d.4a8368"]]},{"id":"b3b3d79d.4a8368","type":"save","name":"save l3-network relationships for VNF","xml":"<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"generic-vnf:relationship-list\"\n\t\tkey=\"generic-vnf.vnf-id = $ss.param.vnf-id\" >\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"l3-network\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"l3-network.network-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$ss.network[$n].netid`\" />\n","comments":"","outputs":1,"x":1180.7934875488281,"y":5238.412530899048,"z":"587ae061.3728","wires":[["bf489f3f.7a0be","7bbe74ac.56c95c"]]},{"id":"508b54b.91184ac","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":2501.126811981201,"y":3807.222270965576,"z":"587ae061.3728","wires":[["25fd854c.5dac5a"]]},{"id":"bf489f3f.7a0be","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1456.5079040527344,"y":5239.126764297485,"z":"587ae061.3728","wires":[["3caa550a.31a69a"]]},{"id":"3caa550a.31a69a","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1653.2578964233398,"y":5239.1267375946045,"z":"587ae061.3728","wires":[["ef0d2f1c.ef3df","14a923b6.b3fa7c"]]},{"id":"ef0d2f1c.ef3df","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`' Failed to create generic-vnf releationship for l3-network with network-id =' + $ss.network[$n].netid + ' in AnAI.' + $error-message`\" />\n","comments":"","x":1833.4365463256836,"y":5239.460364341736,"z":"587ae061.3728","wires":[]},{"id":"7bbe74ac.56c95c","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1465.7458572387695,"y":5284.174940109253,"z":"587ae061.3728","wires":[["3caa550a.31a69a"]]},{"id":"3a8a44a8.3ec81c","type":"save","name":"delete VNF l3-network relationships","xml":"<delete plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"generic-vnf:relationship-list\" \n\t\tkey=\"generic-vnf.vnf-id = $ss.param.vnf-id \n\t\tAND related-to = l3-network \n\t\tAND relationship.related-link = $tmp.related-link\" >","comments":"","outputs":1,"x":3487.6509857177734,"y":5026.555124282837,"z":"587ae061.3728","wires":[["eeca6aa2.a147d8","10d8d9f.6a99526","b7962a.a432e9d8"]]},{"id":"eeca6aa2.a147d8","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":3750.7223510742188,"y":5027.030860900879,"z":"587ae061.3728","wires":[["5fb7fbc4.4dc6d4"]]},{"id":"10d8d9f.6a99526","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":3758.9723625183105,"y":5069.780895233154,"z":"587ae061.3728","wires":[["5af5bf99.b7834"]]},{"id":"b7962a.a432e9d8","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":3755.7936096191406,"y":5113.042465209961,"z":"587ae061.3728","wires":[["a08fe55f.6586c8"]]},{"id":"a151e8cd.03bcf8","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`$error-message + ' Failed to delete VNF l3-network relationship for generic-vnf.vnfid = ' + $ss.param.vnf-id + ' from AnAI. MANUAL ROLLBACK IS REQUIRED! '`\" />\n","comments":"","x":4217.150470733643,"y":5026.161575317383,"z":"587ae061.3728","wires":[]},{"id":"5af5bf99.b7834","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`$error-message + ' l3-network relationship with related-path = ' + $tmp.related-path  + ' not found in AAI. Consider silent success!'`\" />\n","comments":"","x":3951.150833129883,"y":5069.995269775391,"z":"587ae061.3728","wires":[]},{"id":"3da2eb0b.3f60d4","type":"record","name":"record VNF l3-network relationship ROLLBACK","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"ROLLBACK VNF l3-network relationship\"/>","comments":"","outputs":1,"x":3326.876697540283,"y":4925.233882904053,"z":"587ae061.3728","wires":[[]]},{"id":"8a76e7d8.f97bd8","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":3028.8766479492188,"y":4924.9124965667725,"z":"587ae061.3728","wires":[["3da2eb0b.3f60d4","7b9cf0c2.93fb5"]]},{"id":"a08fe55f.6586c8","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`$error-message + ' Rollback (delete) of generic-vnf l3-network relationships completed.'`\" />\n","comments":"","x":3938.9008407592773,"y":5113.495267868042,"z":"587ae061.3728","wires":[]},{"id":"7b9cf0c2.93fb5","type":"for","name":"for n in nidx","xml":"<for silentFailure='true' index='n' start='0' end='`$nidx`' >\n","comments":"","outputs":1,"x":3219.2697257995605,"y":4978.651028633118,"z":"587ae061.3728","wires":[["3a8a44a8.3ec81c","113685f3.1d790a"]]},{"id":"14a923b6.b3fa7c","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":2834.984317779541,"y":4800.079701423645,"z":"587ae061.3728","wires":[["944a49c7.77dcf8","8a76e7d8.f97bd8"]]},{"id":"3daece71.ee4af2","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1170.8413162231445,"y":2595.7937545776367,"z":"587ae061.3728","wires":[["4beed03c.8d4db"]]},{"id":"e0c3e38d.51691","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1117.8413162231445,"y":2892.9365768432617,"z":"587ae061.3728","wires":[["38247114.ff80be"]]},{"id":"a56d2ffd.59cb8","type":"outcome","name":"aai-vf-module-put","xml":"<outcome value='aai-vf-module-put'>\n","comments":"","outputs":1,"x":2333.1268157958984,"y":904.3174576759338,"z":"587ae061.3728","wires":[["7a9bf76a.b81108"]]},{"id":"7a9bf76a.b81108","type":"set","name":"set ss.param.aai-vf-module-put-index","xml":"<set>\n<parameter name='ss.param.aai-vf-module-put-index' value='`$bidx`' />\n","comments":"","x":2695.269691467285,"y":904.6031632423401,"z":"587ae061.3728","wires":[]},{"id":"5176d4f5.0acf6c","type":"outcome","name":"unassign","xml":"<outcome value='unassign'>","comments":"","outputs":1,"x":559.6630172729492,"y":757.8647058010101,"z":"587ae061.3728","wires":[["99fa0701.8fa4a8"]]},{"id":"eafc73a1.97feb","type":"block","name":"block","xml":"<block>","atomic":"false","comments":"","outputs":1,"x":1023.2935638427734,"y":237.91267013549805,"z":"587ae061.3728","wires":[["fb9a01e4.d3667","1821aab8.b0b995","af547181.d6458"]]},{"id":"3cad896.b2a4776","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":2804.055503845215,"y":2851.483910560608,"z":"587ae061.3728","wires":[["a66445ad.c6e778","90c07c4a.83ca","1566a874.953628","13d41abe.92eac5","8a76e7d8.f97bd8"]]},{"id":"1c0219fe.342ff6","type":"comment","name":"UNASSIGN","info":"","comments":"","x":3267.3889236450195,"y":2824.4840726852417,"z":"587ae061.3728","wires":[]},{"id":"99fa0701.8fa4a8","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":722.7461318969727,"y":757.3649499416351,"z":"587ae061.3728","wires":[["3cad896.b2a4776","eafc73a1.97feb","f210bca9.3ed11","9060c12a.f2f22"]]},{"id":"f210bca9.3ed11","type":"set","name":"set tmp.return-failure = true","xml":"<set>\n<parameter name='tmp.return-failure' value ='true' />","comments":"","x":1113.7460174560547,"y":757.3649938106537,"z":"587ae061.3728","wires":[]},{"id":"de6a6502.b839b8","type":"switchNode","name":"switch tmp.return-failure","xml":"<switch test='`$tmp.return-failure`'>\n","comments":"","outputs":1,"x":4488.388412475586,"y":3062.4842443466187,"z":"587ae061.3728","wires":[["47cd2a6b.35fa94"]]},{"id":"cde32e34.1f286","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":4239.055458068848,"y":2887.4840030670166,"z":"587ae061.3728","wires":[["feb81e83.5db67","de6a6502.b839b8"]]},{"id":"47cd2a6b.35fa94","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":4682.055744171143,"y":3062.4840841293335,"z":"587ae061.3728","wires":[["8ddee1ad.02ec6"]]},{"id":"d1531676.4de328","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value='`$error-message`' />\n","comments":"","x":5057.0559158325195,"y":3113.8173360824585,"z":"587ae061.3728","wires":[]},{"id":"1f1559a0.81e976","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":4698.0554122924805,"y":3553.4839448928833,"z":"587ae061.3728","wires":[["50c370e.12d199","5b226aa3.cbdea4"]]},{"id":"50c370e.12d199","type":"switchNode","name":"switch tmp.return-failure","xml":"<switch test='`$tmp.return-failure`'>\n","comments":"","outputs":1,"x":4947.388366699219,"y":3728.4841861724854,"z":"587ae061.3728","wires":[["c358f90d.641208"]]},{"id":"fa11faa.24ca908","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":4544.722053527832,"y":4108.15078830719,"z":"587ae061.3728","wires":[["46126f9f.d283f","45078030.cf3e6"]]},{"id":"46126f9f.d283f","type":"switchNode","name":"switch tmp.return-failure","xml":"<switch test='`$tmp.return-failure`'>\n","comments":"","outputs":1,"x":4794.05500793457,"y":4279.151029586792,"z":"587ae061.3728","wires":[["dfa0dcdd.b3f5"]]},{"id":"dfa0dcdd.b3f5","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":4987.722339630127,"y":4279.150869369507,"z":"587ae061.3728","wires":[["97999b3b.0678f8"]]},{"id":"35106a9.1d51196","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":4388.055549621582,"y":4555.81729221344,"z":"587ae061.3728","wires":[["9fc3a0f3.02ab","ee417e90.e6281"]]},{"id":"9fc3a0f3.02ab","type":"switchNode","name":"switch tmp.return-failure","xml":"<switch test='`$tmp.return-failure`'>\n","comments":"","outputs":1,"x":4637.38850402832,"y":4730.817533493042,"z":"587ae061.3728","wires":[["20e91aed.a73166"]]},{"id":"20e91aed.a73166","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":4831.055835723877,"y":4730.817373275757,"z":"587ae061.3728","wires":[["4900b38b.ee5c8c"]]},{"id":"5fb7fbc4.4dc6d4","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":3986.388988494873,"y":5026.150192260742,"z":"587ae061.3728","wires":[["9a98f4db.a74a48","a151e8cd.03bcf8"]]},{"id":"9a98f4db.a74a48","type":"switchNode","name":"switch tmp.return-failure","xml":"<switch test='`$tmp.return-failure`'>\n","comments":"","outputs":1,"x":4235.721942901611,"y":5201.150433540344,"z":"587ae061.3728","wires":[["ae6646b6.0f8818"]]},{"id":"ae6646b6.0f8818","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":4429.389274597168,"y":5201.150273323059,"z":"587ae061.3728","wires":[["bdba1c6d.3aa19"]]},{"id":"9060c12a.f2f22","type":"set","name":"set resource-resolution-data.status = DELETED","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$ss.param.aai-vf-module-put-index].resource-resolution-data.status' \n\tvalue='DELETED' />\n","comments":"","x":1115.0794296264648,"y":1219.0315454006195,"z":"587ae061.3728","wires":[]},{"id":"517cca6f.9fe014","type":"set","name":"set resource-resolution-data.status = FAILED","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$ss.param.aai-vf-module-put-index].resource-resolution-data.status' \n\tvalue='FAILED' />\n","comments":"","x":5154.38907623291,"y":3061.4840788841248,"z":"587ae061.3728","wires":[]},{"id":"8ddee1ad.02ec6","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":4843.055549621582,"y":3061.81729221344,"z":"587ae061.3728","wires":[["517cca6f.9fe014","d1531676.4de328"]]},{"id":"c358f90d.641208","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":5141.055698394775,"y":3728.4840259552,"z":"587ae061.3728","wires":[["609157cc.f8c1c8"]]},{"id":"e495739b.fe9d4","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value='`$error-message`' />\n","comments":"","x":5519.722053527832,"y":3780.150544166565,"z":"587ae061.3728","wires":[]},{"id":"4cad6093.215d6","type":"set","name":"set resource-resolution-data.status = FAILED","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$ss.param.aai-vf-module-put-index].resource-resolution-data.status' \n\tvalue='FAILED' />\n","comments":"","x":5617.055213928223,"y":3727.817286968231,"z":"587ae061.3728","wires":[]},{"id":"609157cc.f8c1c8","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":5305.7216873168945,"y":3728.1505002975464,"z":"587ae061.3728","wires":[["4cad6093.215d6","e495739b.fe9d4"]]},{"id":"8d944eff.ee518","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value='`$error-message`' />\n","comments":"","x":5376.388557434082,"y":4331.15078830719,"z":"587ae061.3728","wires":[]},{"id":"435ab1d3.a2e71","type":"set","name":"set resource-resolution-data.status = FAILED","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$ss.param.aai-vf-module-put-index].resource-resolution-data.status' \n\tvalue='FAILED' />\n","comments":"","x":5473.721717834473,"y":4278.817531108856,"z":"587ae061.3728","wires":[]},{"id":"97999b3b.0678f8","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":5162.3881912231445,"y":4279.150744438171,"z":"587ae061.3728","wires":[["435ab1d3.a2e71","8d944eff.ee518"]]},{"id":"5b3cd7c6.ab8928","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value='`$error-message`' />\n","comments":"","x":5214.722053527832,"y":4783.15078830719,"z":"587ae061.3728","wires":[]},{"id":"7c918563.1a6f7c","type":"set","name":"set resource-resolution-data.status = FAILED","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$ss.param.aai-vf-module-put-index].resource-resolution-data.status' \n\tvalue='FAILED' />\n","comments":"","x":5312.055213928223,"y":4730.817531108856,"z":"587ae061.3728","wires":[]},{"id":"4900b38b.ee5c8c","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":5000.7216873168945,"y":4731.150744438171,"z":"587ae061.3728","wires":[["7c918563.1a6f7c","5b3cd7c6.ab8928"]]},{"id":"7f3dbf63.2eed1","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value='`$error-message`' />\n","comments":"","x":4819.722393035889,"y":5252.483804702759,"z":"587ae061.3728","wires":[]},{"id":"88b5c55c.2498a8","type":"set","name":"set resource-resolution-data.status = FAILED","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$ss.param.aai-vf-module-put-index].resource-resolution-data.status' \n\tvalue='FAILED' />\n","comments":"","x":4917.055553436279,"y":5200.150547504425,"z":"587ae061.3728","wires":[]},{"id":"bdba1c6d.3aa19","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":4605.722026824951,"y":5200.48376083374,"z":"587ae061.3728","wires":[["88b5c55c.2498a8","7f3dbf63.2eed1"]]},{"id":"a8e2121d.a4758","type":"outcome","name":"nfc-naming-code","xml":"<outcome value='nfc-naming-code'>","comments":"","outputs":1,"x":2330.6269607543945,"y":945.7222089767456,"z":"587ae061.3728","wires":[["cc76c3bc.0c706"]]},{"id":"cc76c3bc.0c706","type":"set","name":"set ss.param.vnfc-name, indexnfc-naming-code","xml":"<set>\n<parameter name='ss.param.nfc-naming-code' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].value`' />\n<parameter name='ss.param.nfc-naming-code-index' value='`$bidx`' />","comments":"","x":2727.4484329223633,"y":945.9008235931396,"z":"587ae061.3728","wires":[]},{"id":"3f467dbb.41a9a2","type":"outcome","name":"nfc-function","xml":"<outcome value='nfc-function'>","comments":"","outputs":1,"x":2315.3412437438965,"y":987.1507959365845,"z":"587ae061.3728","wires":[["60bc8131.6ea93"]]},{"id":"60bc8131.6ea93","type":"set","name":"set ss.param.nfc-function, index","xml":"<set>\n<parameter name='ss.param.nfc-function' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].value`' />\n<parameter name='ss.param.nfc-function-index' value='`$bidx`' />","comments":"","x":2677.5912742614746,"y":987.1865816116333,"z":"587ae061.3728","wires":[]},{"id":"bfa7fb43.80d328","type":"outcome","name":"vnfc-model-customization-uuid","xml":"<outcome value='vnfc-model-customization-uuid'>","comments":"","outputs":1,"x":2374.769920349121,"y":1027.1508302688599,"z":"587ae061.3728","wires":[["b9d2703a.110de"]]},{"id":"b9d2703a.110de","type":"set","name":"set ss.param.vnfc-model-customization-uuid, index","xml":"<set>\n<parameter name='ss.param.vnfc-model-customization-uuid' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].value`' />\n<parameter name='ss.param.vnfc-model-customization-uuid-index' value='`$bidx`' />","comments":"","x":2735.019950866699,"y":1027.1866159439087,"z":"587ae061.3728","wires":[]},{"id":"4f4f7860.ec2048","type":"outcome","name":"vnfc-model-invariant-uuid","xml":"<outcome value='vnfc-model-invariant-uuid'>","comments":"","outputs":1,"x":2359.484172821045,"y":1068.5794353485107,"z":"587ae061.3728","wires":[["b4d2e8c5.9023a8"]]},{"id":"b4d2e8c5.9023a8","type":"set","name":"set ss.param.vnfc-model-invariant-uuid, index","xml":"<set>\n<parameter name='ss.param.vnfc-model-invariant-uuid' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].value`' />\n<parameter name='ss.param.vnfc-model-invariant-uuid-index' value='`$bidx`' />","comments":"","x":2718.734203338623,"y":1068.6152210235596,"z":"587ae061.3728","wires":[]},{"id":"db27910b.c139","type":"outcome","name":"vnfc-model-version","xml":"<outcome value='vnfc-model-version'>","comments":"","outputs":1,"x":2339.912742614746,"y":1110.0079889297485,"z":"587ae061.3728","wires":[["dcdaaa14.a24458"]]},{"id":"dcdaaa14.a24458","type":"set","name":"set ss.param.vnfc-model-version, index","xml":"<set>\n<parameter name='ss.param.vnfc-model-version' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].value`' />\n<parameter name='ss.param.vnfc-model-version-index' value='`$bidx`' />","comments":"","x":2700.162773132324,"y":1110.0437746047974,"z":"587ae061.3728","wires":[]},{"id":"c40a7c81.c5bf2","type":"set","name":"set TEST DATA","xml":"<set>\n<parameter name='vnf-index' value='0' />\n<parameter name='vf-module-index' value='0' />\n<parameter name='ss.capability-name' value='aai-vnf-put' />\n<parameter name='ss.capability-action' value='unassign' />\n<parameter name='service-data.vnfs.vnf[0].vnf-id' value = '7324200933' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vnf-topology.vnf-parameters-data.param[0].name' value = 'vnf_id' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vnf-topology.vnf-parameters-data.param[0].value' value = '7324200933' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vnf-topology.sdnc-generated-cloud-resources' value='true' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-topology.sdnc-generated-cloud-resources' value = 'true' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param_length' value = '34' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[0].name' value = 'vlan-tag-1' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[0].value' value = '${vlan-tag-1v}' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key[0].name' value = 'policy-instance-name' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key[0].value' value = 'JQIN1810SRIOV.Config_MS_SRIOV_VlanTag_1810_ADIOD_VPE.*' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key[1].name' value = 'resource-name' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key[1].value' value = 'vlan-tag-1' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key[2].name' value = 'resource-value' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key[2].value' value = '' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key[3].name' value = 'scope-id' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key[3].value' value = 'MTCLL2238F' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key[4].name' value = 'vlan-tag-key' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key[4].value' value = 'dvncom4003' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key[5].name' value = 'vlan-type' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key[5].value' value = 'vlan-id-outer' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key[6].name' value = 'vnfc-network-role' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key[6].value' value = 'network-role-1' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key_length' value = '7' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.status' value = 'SUCCESS' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.capability-name' value = 'mS-vlan-tag-assign' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[1].name' value = 'vlan-tag-2' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[1].value' value = 'manually-assigned-vlan-tag-2v' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key[0].name' value = 'policy-instance-name' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key[0].value' value = 'JQIN1810SRIOV.Config_MS_SRIOV_VlanTag_1810_ADIOD_VPE.*' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key[1].name' value = 'resource-name' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key[1].value' value = 'vlan-tag-2' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key[2].name' value = 'resource-value' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key[2].value' value = 'manually-assigned-vlan-tag-2v' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key[3].name' value = 'scope-id' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key[3].value' value = 'MTCLL2238F' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key[4].name' value = 'vlan-tag-key' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key[4].value' value = 'dvncom4003' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key[5].name' value = 'vlan-type' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key[5].value' value = 'vlan-id-filter' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key[6].name' value = 'vnfc-network-role' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key[6].value' value = 'network-role-2' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key_length' value = '7' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.status' value = 'SUCCESS' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.capability-name' value = 'INPUT' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[2].name' value = 'bogus1' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[2].value' value = 'bogus1' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[3].name' value = 'bogus2' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[3].value' value = 'bogus2' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[4].name' value = 'bogus3' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[4].value' value = 'bogus3' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[5].name' value = 'bogus4' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[5].value' value = 'bogus4' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[6].name' value = 'bogus5' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[6].value' value = 'bogus5' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[7].name' value = 'aic-cloud-region' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[7].value' value = 'mtn6' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[8].name' value = 'ipv4-loopback0-address' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[8].value' value = '1.1.1.1' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[9].name' value = 'ipv4-oam-address' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[9].value' value = '2.2.2.2' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[10].name' value = 'as-number' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[10].value' value = '11' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[11].name' value = 'vlan-id-outer' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[11].value' value = '[999]' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[12].name' value = 'vnf_id' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[12].value' value = '7324200933' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[13].name' value = 'vf_module_name' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[13].value' value = 'NEW_SELF_SERVE_VF_MODULE_TEST_1' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[14].name' value = 'volume-group-name' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[14].value' value = 'dummyvolumegroupname' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[15].name' value = 'volume_group_id' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[15].value' value = 'vg-1-999' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[16].name' value = 'vf_module_id' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[16].value' value = '7323683661' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[17].name' value = 'vf_module_id' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[17].value' value = '7323683661' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[18].name' value = 'vnfc-name' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[18].value' value = 'bogus-vnfc-name' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[19].name' value = 'vm_name' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[19].value' value = 'bogus-vnfc-name' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[20].name' value = 'vm-type' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[20].value' value = 'oam' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[21].name' value = 'nfc-function' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[21].value' value = 'data' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[22].name' value = 'nfc-naming-code' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[22].value' value = 'dummy-naming-code' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[23].name' value = 'vnfc-model-customization-uuid' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[23].value' value = 'bbbb-99999' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[24].name' value = 'vnfc-model-invariant-uuid' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[24].value' value = 'aaaaa-10000' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[25].name' value = 'vnfc-model-version' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[25].value' value = 'model1' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[26].name' value = 'oam-interface-name' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[26].value' value = 'oamintfname' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[27].name' value = 'lo0-interface-name' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[27].value' value = 'lo0intfname' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[28].name' value = 'sriov41_net_id' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[28].value' value = '4141414141' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[29].name' value = 'sriov42_net_id' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[29].value' value = '4242424242' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[30].name' value = 'sriov43_net_id' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[30].value' value = '4343434343' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[31].name' value = 'sriov44_net_id' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[31].value' value = '4444444444' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[32].name' value = 'sriov21_net_id' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[32].value' value = '2121212121' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[33].name' value = 'sriov22_net_id' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[33].value' value = '2222222222' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].onap-model-information.model-customization-uuid' value = 'bbbb-99999' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].onap-model-information.model-invariant-uuid' value = 'aaaaa-10000' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].onap-model-information.model-version' value = 'model1' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-type' value = 'oam' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-name' value = 'bogus-vnfc-name' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[0].vnfc-network-role' value = 'network-role-1' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[0].connection-point.connection-point-id' value = '789cddfa-58ba-4095-addc-8f7181186380' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[0].connection-point.vlan-data[0].vlan-role' value = '' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[0].connection-point.vlan-data[0].vlan-tag-description' value = 'VPE-Cust' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[0].connection-point.vlan-data[0].vlan-tag-id' value = '3553' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[0].connection-point.vlan-data[0].vlan-uuid' value = '56034624-9296-426c-8103-79a09c23e872' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[1].vnfc-network-role' value = 'network-role-2' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[1].connection-point.connection-point-id' value = 'd1bdc1ae-4e67-42c3-ad25-2051ddae65a7' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[1].connection-point.vlan-data[0].vlan-role' value = 'outer-tag' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[1].connection-point.vlan-data[0].vlan-tag-description' value = 'VPE-Cust-Outer' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[1].connection-point.vlan-data[0].vlan-tag-id' value = '3503' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[1].connection-point.vlan-data[0].vlan-uuid' value = 'fdc089af-0c00-41c0-a403-1501fb06909f' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[1].connection-point.vlan-data[1].vlan-role' value = 'outer-tag' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[1].connection-point.vlan-data[1].vlan-tag-description' value = 'VPE-Core1' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[1].connection-point.vlan-data[1].vlan-tag-id' value = '4001' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[1].connection-point.vlan-data[1].vlan-uuid' value = 'f48473ff-fc11-4c38-bcf7-7dec483d81da' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[1].connection-point.vlan-data[2].vlan-role' value = 'outer-tag' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[1].connection-point.vlan-data[2].vlan-tag-description' value = 'VPE-Core2' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[1].connection-point.vlan-data[2].vlan-tag-id' value = '4002' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[1].connection-point.vlan-data[2].vlan-uuid' value = '147afe9e-81d3-4872-a298-f470999ba915' />","comments":"","x":950.9126968383789,"y":53.436500549316406,"z":"587ae061.3728","wires":[]},{"id":"b0169c71.ea199","type":"outcome","name":"ipv4-loopback0-address","xml":"<outcome value='ipv4-loopback0-address'>","comments":"","outputs":1,"x":2356.341194152832,"y":1154.293610572815,"z":"587ae061.3728","wires":[["7b2ce523.9f07cc"]]},{"id":"7b2ce523.9f07cc","type":"set","name":"set ipv4-loopback0-address, index","xml":"<set>\n<parameter name='ss.param.ipv4-loopback0-address' value ='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].value`' />\n<parameter name='ss.param.ipv4-loopback0-address-index' value='`bidx`' />","comments":"","x":2683.5912170410156,"y":1154.0436267852783,"z":"587ae061.3728","wires":[]},{"id":"21a35d6b.aba542","type":"outcome","name":"vlan-id-outer","xml":"<outcome value='vlan-id-outer'>","comments":"","outputs":1,"x":2321.162643432617,"y":1241.0793781280518,"z":"587ae061.3728","wires":[["7b5c7d54.ad2f94"]]},{"id":"781da3e1.bf8fdc","type":"outcome","name":"as-number","xml":"<outcome value='as-number'>","comments":"","outputs":1,"x":2315.9483337402344,"y":1198.9007892608643,"z":"587ae061.3728","wires":[["8bf521e4.b0dd7"]]},{"id":"8bf521e4.b0dd7","type":"set","name":"set as-number, index","xml":"<set>\n<parameter name='ss.param.as-number' value ='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].value`' />\n<parameter name='ss.param.as-number-index' value='`$bidx`' />","comments":"","x":2644.448310852051,"y":1199.4007902145386,"z":"587ae061.3728","wires":[]},{"id":"7b5c7d54.ad2f94","type":"set","name":"set vlan-id-outer, index","xml":"<set>\n<parameter name='ss.param.vlan-id-outer' value ='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].value`' />\n<parameter name='ss.param.vlan-id-outer-index' value='`$bidx`' />","comments":"","x":2649.6626205444336,"y":1240.8293771743774,"z":"587ae061.3728","wires":[]},{"id":"af547181.d6458","type":"set","name":"set ss.param.vnf-id","xml":"<set>\n<parameter name='ss.param.vnf-id' value ='`$service-data.vnfs.vnf[$vnf-index].vnf-id`' />","comments":"","x":1226.3888092041016,"y":425.81743240356445,"z":"587ae061.3728","wires":[]},{"id":"5a1e5047.75637","type":"execute","name":"execute PropertiesNode","xml":"<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n","comments":"","outputs":1,"x":973.0554885864258,"y":102.48411655426025,"z":"587ae061.3728","wires":[[]]},{"id":"a655e5b7.704df8","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":736.3888092041016,"y":75.81745052337646,"z":"587ae061.3728","wires":[["c40a7c81.c5bf2","5a1e5047.75637"]]},{"id":"a9e6a5bb.f91718","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'volume-group not found in AnAI with volume-group-id=' + $ss.param.volume-group-id + $error-message`\" />\n","comments":"","x":1501.0554313659668,"y":2460.81733417511,"z":"587ae061.3728","wires":[]},{"id":"608befa2.bb7d1","type":"save","name":"get volume-group","xml":"<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"volume-group\"\n\t\tkey=\"cloud-region.cloud-owner = $prop.cloud-owner  \n\t\t\tAND cloud-region.cloud-region-id = $ss.param.aic-cloud-region \n\t\t\tAND cloud-region.cloud-owner = $prop.cloud-region.cloud-owner \n\t\t\tAND volume-group-id = $ss.param.volume-group-id\" \n\tpfx=\"tmp.aai.volume-group\" >\n","comments":"","outputs":1,"x":943.6389389038086,"y":2370.5315160751343,"z":"587ae061.3728","wires":[["4aba82dd.b2c52c","71a95ca.1193aa4"]]},{"id":"4aba82dd.b2c52c","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1132.8889236450195,"y":2370.031460762024,"z":"587ae061.3728","wires":[["46179c00.a62e04"]]},{"id":"71a95ca.1193aa4","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1140.5674057006836,"y":2426.0671520233154,"z":"587ae061.3728","wires":[["5d603643.fe9568"]]},{"id":"48118715.dc3e28","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'Failed to get volume-group in AnAI with volume-group-id = ' + $ss.param.volume-group-id + $error-message`\" />\n","comments":"","x":1501.1864128112793,"y":2406.0315675735474,"z":"587ae061.3728","wires":[]},{"id":"46179c00.a62e04","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1304.853172302246,"y":2370.5316247940063,"z":"587ae061.3728","wires":[["48118715.dc3e28","813dff6d.3c4df"]]},{"id":"5d603643.fe9568","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1305.1031532287598,"y":2426.0316038131714,"z":"587ae061.3728","wires":[["a9e6a5bb.f91718","813dff6d.3c4df"]]},{"id":"113685f3.1d790a","type":"set","name":"set tmp.related-link","xml":"<set>\n<parameter name='tmp.related-link' value=\"`'/aai/v$/network/l3-networks/l3-network/' + $ss.network[$n].netid`\" />\n<!--\n<parameter name='tmp.related-link' value=\"`'/aai/' + $prop.aai.version + '/network/l3-networks/l3-network/' + $ss.network[$n].netid`\" />\n-->","comments":"","x":3440.5553436279297,"y":4978.984006881714,"z":"587ae061.3728","wires":[]}]