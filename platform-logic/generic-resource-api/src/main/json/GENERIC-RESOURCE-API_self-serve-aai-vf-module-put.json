[{"id":"c75602a7.79a8e","type":"dgstart","name":"DGSTART","outputs":1,"x":137.5,"y":63.07143306732178,"z":"524823bf.444cec","wires":[["b932d1a.4c5ea3"]]},{"id":"627ec918.5fdf38","type":"method","name":"method self-serve-aai-vf-module-put","xml":"<method rpc='self-serve-aai-vf-module-put' mode='sync'>\n","comments":"","outputs":1,"x":268.2857208251953,"y":138.531756401062,"z":"524823bf.444cec","wires":[["f96ac8.3a0c3538"]]},{"id":"f96ac8.3a0c3538","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":148.82144165039062,"y":219.309552192688,"z":"524823bf.444cec","wires":[["fe71ff2.07af7","6989e91.6053018"]]},{"id":"b932d1a.4c5ea3","type":"service-logic","name":"GENERIC-RESOURCE-API ${project.version}","module":"GENERIC-RESOURCE-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>","outputs":1,"x":410.3571472167969,"y":62.5,"z":"524823bf.444cec","wires":[["627ec918.5fdf38"]]},{"id":"fe71ff2.07af7","type":"switchNode","name":"switch: ss.capability-action","xml":"<switch test='`$ss.capability-action`'>\n","comments":"","outputs":1,"x":392.50002670288086,"y":218.96428537368774,"z":"524823bf.444cec","wires":[["6a952f64.51d83","fe7d9792.a79cd8","5203406d.42cd1"]]},{"id":"6a952f64.51d83","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":601.0000228881836,"y":219.21428537368774,"z":"524823bf.444cec","wires":[["cd0e6048.9a5c1"]]},{"id":"cd0e6048.9a5c1","type":"returnFailure","name":"return failure","xml":"<return status=\"failure\">\n\t<parameter name=\"ack-final\" value=\"Y\" />\n\t<parameter name=\"error-code\" value=\"500\"/>\n\t<parameter name=\"error-message\" value=\"ss.capability-action is null\" />\n","comments":"","x":756.9166946411133,"y":219.32538414001465,"z":"524823bf.444cec","wires":[]},{"id":"fe7d9792.a79cd8","type":"outcome","name":"assign","xml":"<outcome value='assign'>","comments":"","outputs":1,"x":600.7500190734863,"y":268.21428871154785,"z":"524823bf.444cec","wires":[["1e532a47.345a66"]]},{"id":"6989e91.6053018","type":"execute","name":"printContext","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/ss.aai.vfmoduleput.log' />\n","comments":"","outputs":1,"x":344.4642868041992,"y":444.4999837875366,"z":"524823bf.444cec","wires":[[]]},{"id":"dd07b989.7643e8","type":"save","name":"update generic-vnf","xml":"<update plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"generic-vnf\"\n\t\tkey=\"generic-vnf.vnf-id = $ss.param.vnf-id \" >\n<parameter name=\"ipv4-loopback0-address\" value='`$ss.param.ipv4-loopback0-address`' />\n<parameter name=\"ipv4-oam-address\" value='`$ss.param.ipv4-oam-address`' />\n<parameter name=\"as-number\" value='`$ss.param.as-number`' />\n<parameter name=\"vlan-id-outer\" value='`$ss.param.vlan-id-outer`' />\n\n","comments":"","outputs":1,"x":987.9643020629883,"y":1620.8930225372314,"z":"524823bf.444cec","wires":[["1a096d34.a296c3","f68aa49b.4aff98"]]},{"id":"1a096d34.a296c3","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1188.2143325805664,"y":1621.250069618225,"z":"524823bf.444cec","wires":[["a2493889.c0db08"]]},{"id":"f68aa49b.4aff98","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1194.4643440246582,"y":1673.0001039505005,"z":"524823bf.444cec","wires":[["7c24760f.461e78"]]},{"id":"63d9dd11.093634","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'Failed to update generic-vnf.vnf-name in AnAI with vnf-name=' + $ss.param.vnf-name`\" />\n","comments":"","x":1626.0832901000977,"y":1621.035774230957,"z":"524823bf.444cec","wires":[]},{"id":"c390bdc5.62c77","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'Failed to update generic-vnf.vnf-name because generic-vnf with vnf-id =' + $ss.param.vnf-id + ' is not found in AAI'`\" />\n","comments":"","x":1626.6548080444336,"y":1671.2739505767822,"z":"524823bf.444cec","wires":[]},{"id":"225f1582.e1ef0a","type":"save","name":"update volume-group","xml":"<update plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"volume-group\"\n\t\tkey=\"cloud-region.cloud-owner = $prop.cloud-owner  \n\t\t\tAND cloud-region.cloud-region-id = $ss.param.aic-cloud-region \n\t\t\tAND cloud-region.cloud-owner = $prop.cloud-region.cloud-owner \n\t\t\tAND volume-group-id = $ss.param.volume-group-id\" >\n<parameter name=\"volume-group-name\" value='`$ss.param.volume-group-name`' />\n<parameter name=\"volume-group-id\" value='`$ss.param.volume-group-id`' />\n","comments":"","outputs":1,"x":984.9284973144531,"y":2584.8569297790527,"z":"524823bf.444cec","wires":[["e7c7c20.30bf14","c88eb00.8003c5"]]},{"id":"e7c7c20.30bf14","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1192.9284973144531,"y":2584.8569297790527,"z":"524823bf.444cec","wires":[["6e03f96c.285448"]]},{"id":"d8dc0828.27b258","type":"save","name":"Rollback generic-vnf update","xml":"<update plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"generic-vnf\"\n\t\tkey=\"generic-vnf.vnf-id = $ss.param.vnf-id \" >\n<parameter name=\"ipv4-loopback0-address\" value='`$tmp.aai.vnf.ipv4-loopback0-address`' />\n<parameter name=\"ipv4-oam-address\" value='`$tmp.aai.vnf.ipv4-oam-address`' />\n<parameter name=\"as-number\" value='`$tmp.aai.vnf.as-number`' />\n<parameter name=\"vlan-id-outer\" value='`$tmp.aai.vnf.vlan-id-outer`' />","comments":"","outputs":1,"x":4225.047969818115,"y":1975.8817014694214,"z":"524823bf.444cec","wires":[["37459a48.3b5166","edd09913.545dd8","163bae21.4dd752"]]},{"id":"37459a48.3b5166","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":4463.297954559326,"y":1975.381646156311,"z":"524823bf.444cec","wires":[["35210e10.03cab2"]]},{"id":"edd09913.545dd8","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":4469.547966003418,"y":2027.1316804885864,"z":"524823bf.444cec","wires":[["ebe7aa73.43f148"]]},{"id":"11e16eb3.53d991","type":"save","name":"get generic-vnf","xml":"<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"generic-vnf\"\n\t\tkey=\"generic-vnf.vnf-id = $ss.param.vnf-id \"\n\tpfx=\"tmp.aai.vnf\" >\n\n","comments":"","outputs":1,"x":981.2500267028809,"y":1461.7857904434204,"z":"524823bf.444cec","wires":[["994d496d.c95ab8","b196edd2.e2431"]]},{"id":"994d496d.c95ab8","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1189.785659790039,"y":1461.2857112884521,"z":"524823bf.444cec","wires":[["4a889b1b.a47494"]]},{"id":"b196edd2.e2431","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1196.0355796813965,"y":1560.1786193847656,"z":"524823bf.444cec","wires":[["9ddfb068.4f9d4"]]},{"id":"4df5ad4c.030094","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'Encountered error to get generic-vnf with vnf-id=' + $ss.param.vnf-id + ' from AnAI'`\" />\n","comments":"","x":1632.2258644104004,"y":1506.7857303619385,"z":"524823bf.444cec","wires":[]},{"id":"6ced939a.4ff03c","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'generic-vnf.vnf-name with vnf-id=' + $ss.param.vnf-id + ' not found in AAI'`\" />\n","comments":"","x":1633.9403381347656,"y":1560.7382879257202,"z":"524823bf.444cec","wires":[]},{"id":"92f6b5db.1f8b58","type":"save","name":"update volume-group","xml":"<update plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"volume-group\"\n\t\tkey=\"cloud-region.cloud-owner = $prop.cloud-owner  \n\t\t\tAND cloud-region.cloud-region-id = $ss.param.aic-cloud-region \n\t\t\tAND cloud-region.cloud-owner = $prop.cloud-region.cloud-owner \n\t\t\tAND volume-group-id = $ss.param.volume-group-id\" >\n<parameter name=\"volume-group-name\" value='`$tmp.aai.volume-group.volume-group-name`' />","comments":"","outputs":1,"x":4031.190414428711,"y":2614.59574508667,"z":"524823bf.444cec","wires":[["d504c338.7ef0e","f7be2b79.5d1b68","b241f6de.c37db8"]]},{"id":"6e03f96c.285448","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1387.6784896850586,"y":2584.856903076172,"z":"524823bf.444cec","wires":[["61271b65.0fcb84","e78b7b3c.7d8ae8"]]},{"id":"1e532a47.345a66","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":754.5000152587891,"y":268.4642848968506,"z":"524823bf.444cec","wires":[["11e16eb3.53d991","dd07b989.7643e8","225f1582.e1ef0a","e2a13221.1596f","d0bc7a2.383dc88","4528a71c.ca39f8","872b45b0.7d3948","e15ca48a.fe9e28","905c2a18.aaad68","d2b41652.699ac8","ca96518c.19429","89b93f84.5210a"]]},{"id":"e2a13221.1596f","type":"set","name":"set resource-resolution-data.status = SUCCESS","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$ss.param.aai-vf-module-put-index].resource-resolution-data.status' \n\tvalue='SUCCESS' />\n","comments":"","x":1040.9168090820312,"y":5389.976270675659,"z":"524823bf.444cec","wires":[]},{"id":"4a889b1b.a47494","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1361.3572463989258,"y":1461.3215045928955,"z":"524823bf.444cec","wires":[["31415758.987528","4df5ad4c.030094"]]},{"id":"a2493889.c0db08","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1361.6428985595703,"y":1621.3215942382812,"z":"524823bf.444cec","wires":[["31415758.987528","63d9dd11.093634"]]},{"id":"7c24760f.461e78","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1364.500114440918,"y":1672.1787357330322,"z":"524823bf.444cec","wires":[["31415758.987528","c390bdc5.62c77"]]},{"id":"9ddfb068.4f9d4","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1362.2143249511719,"y":1560.3215045928955,"z":"524823bf.444cec","wires":[["31415758.987528","6ced939a.4ff03c"]]},{"id":"31415758.987528","type":"set","name":"set resource-resolution-data.status = FAILED","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$ss.param.aai-vnf-put-index].resource-resolution-data.status' \n\tvalue='FAILED' />\n","comments":"","x":1728.9286346435547,"y":1461.035816192627,"z":"524823bf.444cec","wires":[]},{"id":"8ea168e1.d7d9a8","type":"for","name":"for bidx in param_length (VF-MODULE)","xml":"<for silentFailure='true' index=\"bidx\" start=\"0\" end=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param_length`\" >\n","comments":"","outputs":1,"x":1322.6903533935547,"y":352.4523754119873,"z":"524823bf.444cec","wires":[["803902c7.c58d9"]]},{"id":"6f687860.211ea8","type":"switchNode","name":"switch param[].name","xml":"<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].name`'>\n","comments":"","outputs":1,"x":2057.833320617676,"y":867.8809757232666,"z":"524823bf.444cec","wires":[["67236707.0b58c8","c9f7ebbe.451368","c04b8d42.307eb","b60c7b63.b678a8","d7ec681.e2a7f98","c5c33794.35f548","781d93b4.9320ec","c3d95611.5b1c48","9087d09f.f80e8","f372a446.1f0d48","5551bd45.4b1a94","84bb5d04.c6e3","eccada42.397178","f98a6b07.b3e548","3e646a4f.c19ee6","aaaeb0d5.b28f9","f7d4b22c.59a29","a78794f6.2d8208","1c25444.1b7e7bc","ae7cb398.3859a"]]},{"id":"67236707.0b58c8","type":"outcome","name":"vf_module_id","xml":"<outcome value='vf_module_id'>\n","comments":"","outputs":1,"x":2351.8333129882812,"y":463.7380886077881,"z":"524823bf.444cec","wires":[["17ad0c43.a5d7c4"]]},{"id":"17ad0c43.a5d7c4","type":"set","name":"set ss.param.vf-module-id","xml":"<set>\n<parameter name='ss.param.vf-module-id' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].value`' />\n","comments":"","x":2690.2619438171387,"y":464.5952525138855,"z":"524823bf.444cec","wires":[]},{"id":"c9f7ebbe.451368","type":"outcome","name":"vf_module_name","xml":"<outcome value='vf_module_name'>\n","comments":"","outputs":1,"x":2363.2618522644043,"y":506.5952377319336,"z":"524823bf.444cec","wires":[["eef84bd4.ec7f68"]]},{"id":"eef84bd4.ec7f68","type":"set","name":"set ss.param.vf-module-name","xml":"<set>\n<parameter name='ss.param.vf-module-name' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].value`' />\n","comments":"","x":2701.547607421875,"y":507.16669607162476,"z":"524823bf.444cec","wires":[]},{"id":"c04b8d42.307eb","type":"outcome","name":"volume-group-name","xml":"<outcome value='volume-group-name'>\n","comments":"","outputs":1,"x":2372.5475845336914,"y":591.4524145126343,"z":"524823bf.444cec","wires":[["a0ced165.9cca5"]]},{"id":"a0ced165.9cca5","type":"set","name":"set ss.param.volume-group-name","xml":"<set>\n<parameter name='ss.param.volume-group-name' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].value`' />\n","comments":"","x":2715.547607421875,"y":592.1666960716248,"z":"524823bf.444cec","wires":[]},{"id":"b60c7b63.b678a8","type":"outcome","name":"aic-cloud-region","xml":"<outcome value='aic-cloud-region'>\n","comments":"","outputs":1,"x":2358.547634124756,"y":633.4523944854736,"z":"524823bf.444cec","wires":[["23341e2.93c04e2"]]},{"id":"23341e2.93c04e2","type":"set","name":"set ss.param.aic-cloud-region","xml":"<set>\n<parameter name='ss.param.aic-cloud-region' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].value`' />\n","comments":"","x":2703.8333892822266,"y":634.0238528251648,"z":"524823bf.444cec","wires":[]},{"id":"d7ec681.e2a7f98","type":"outcome","name":"volume_group_id","xml":"<outcome value='volume_group_id'>\n","comments":"","outputs":1,"x":2363.8333282470703,"y":548.7381286621094,"z":"524823bf.444cec","wires":[["c6b85884.e5cba8"]]},{"id":"c6b85884.e5cba8","type":"set","name":"set ss.param.volume-group-id","xml":"<set>\n<parameter name='ss.param.volume-group-id' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].value`' />\n","comments":"","x":2702.119083404541,"y":549.3095870018005,"z":"524823bf.444cec","wires":[]},{"id":"4528a71c.ca39f8","type":"save","name":"update vf-module","xml":"<update plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"vf-module\"\n\t\tkey=\"generic-vnf.vnf-id = $ss.param.vnf-id \n\t\t\tAND vf-module.vf-module-id = $ss.param.vf-module-id \" >\n<parameter name=\"vf-module-name\" value='`$ss.param.vf-module-name`' />\n","comments":"","outputs":1,"x":981.8572845458984,"y":2148.012198448181,"z":"524823bf.444cec","wires":[["7cf30a01.026a34","ec37a491.e44618"]]},{"id":"7cf30a01.026a34","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1175.1072692871094,"y":2147.512143135071,"z":"524823bf.444cec","wires":[["c619e89f.6cf188"]]},{"id":"ec37a491.e44618","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1181.3572807312012,"y":2199.262177467346,"z":"524823bf.444cec","wires":[["e04fb0d2.a0bf9"]]},{"id":"26a18098.8d81c","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'vf-module not found in AnAI with vf-module-id=' + $ss.param.vf-module-id + $error-message`\" />\n","comments":"","x":1530.9524154663086,"y":2076.690670967102,"z":"524823bf.444cec","wires":[]},{"id":"d0bc7a2.383dc88","type":"save","name":"get vf-module","xml":"<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"vf-module\"\n\t\tkey=\"generic-vnf.vnf-id = $ss.param.vnf-id \n\t\t\tAND vf-module.vf-module-id = $ss.param.vf-module-id \"\n\tpfx=\"tmp.aai.vfmdoule\" >\n\n","comments":"","outputs":1,"x":973.5359230041504,"y":1986.4048528671265,"z":"524823bf.444cec","wires":[["f8a843ae.23a5c","eb32b803.fa0cf8"]]},{"id":"f8a843ae.23a5c","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1162.7859077453613,"y":1985.904797554016,"z":"524823bf.444cec","wires":[["3d49968c.f77cfa"]]},{"id":"eb32b803.fa0cf8","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1170.4643898010254,"y":2041.9404888153076,"z":"524823bf.444cec","wires":[["807c12ce.22288"]]},{"id":"c619e89f.6cf188","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1372.5358352661133,"y":2147.583667755127,"z":"524823bf.444cec","wires":[["c7f50a99.6ffd98","1b9d1e89.003831"]]},{"id":"e04fb0d2.a0bf9","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1375.393051147461,"y":2198.440809249878,"z":"524823bf.444cec","wires":[["fa94ecab.4b59d","1b9d1e89.003831"]]},{"id":"b79e1c93.6b219","type":"set","name":"set resource-resolution-data.status = FAILED","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$ss.param.aai-vf-module-put-index].resource-resolution-data.status' \n\tvalue='FAILED' />\n","comments":"","x":4276.476451873779,"y":1930.2503232955933,"z":"524823bf.444cec","wires":[]},{"id":"163bae21.4dd752","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":4467.369213104248,"y":2075.393250465393,"z":"524823bf.444cec","wires":[["fd8ce575.139988"]]},{"id":"1b9d1e89.003831","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":3967.6549110412598,"y":1886.6432676315308,"z":"524823bf.444cec","wires":[["b79e1c93.6b219","d8dc0828.27b258","1947dd20.28f4b3"]]},{"id":"d93202e2.0fb2a","type":"save","name":"Rollback vf-module update","xml":"<update plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"vf-module\"\n\t\tkey=\"generic-vnf.vnf-id = $ss.param.vnf-id \n\t\t\tAND vf-module.vf-module-id = $ss.param.vf-module-id \" >\n<parameter name=\"vf-module-name\" value='`$tmp.aai.vfmdoule.vf-module-name`' />","comments":"","outputs":1,"x":4202.976722717285,"y":2256.4644689559937,"z":"524823bf.444cec","wires":[["378f6efa.cf0dd2","959b086d.ff1888","b79c0cb4.6860d"]]},{"id":"378f6efa.cf0dd2","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":4441.226707458496,"y":2255.9644136428833,"z":"524823bf.444cec","wires":[["4c58f3ba.8bcf5c"]]},{"id":"959b086d.ff1888","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":4449.476718902588,"y":2298.7144479751587,"z":"524823bf.444cec","wires":[["527c4ac6.c65b64"]]},{"id":"b79c0cb4.6860d","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":4446.297966003418,"y":2341.9760179519653,"z":"524823bf.444cec","wires":[["9fd22994.fcad48"]]},{"id":"c5c33794.35f548","type":"outcome","name":"vnfc-name","xml":"<outcome value='vnfc-name'>","comments":"","outputs":1,"x":2341.8809967041016,"y":678.5475583076477,"z":"524823bf.444cec","wires":[["759136d1.1b2388"]]},{"id":"759136d1.1b2388","type":"set","name":"set ss.param.vnfc-name, index","xml":"<set>\n<parameter name='ss.param.vnfc-name' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].value`' />\n<parameter name='ss.param.vnfc-name-index' value='`$bidx`' />","comments":"","x":2707.988224029541,"y":679.2976312637329,"z":"524823bf.444cec","wires":[]},{"id":"a11b6025.b2981","type":"comment","name":"vf-module params","info":"","comments":"","x":1975.5475387573242,"y":535.8332872390747,"z":"524823bf.444cec","wires":[]},{"id":"5821f51e.eae88c","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'Failed to get vf-module in AnAI with vf-module-id = ' + $ss.param.vf-module-id + $error-message`\" />\n","comments":"","x":1531.083396911621,"y":2021.9049043655396,"z":"524823bf.444cec","wires":[]},{"id":"3d49968c.f77cfa","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1334.750156402588,"y":1986.4049615859985,"z":"524823bf.444cec","wires":[["5821f51e.eae88c","1b9d1e89.003831"]]},{"id":"807c12ce.22288","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1335.0001373291016,"y":2041.9049406051636,"z":"524823bf.444cec","wires":[["26a18098.8d81c","1b9d1e89.003831"]]},{"id":"35210e10.03cab2","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`' Failed to rollback generic-vnf update in AnAI. MANUAL ROLLBACK IS REQUIRED! '`\" />\n","comments":"","x":4646.119152069092,"y":1975.5003204345703,"z":"524823bf.444cec","wires":[]},{"id":"ebe7aa73.43f148","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`' Failed to rollback generic-vnf update because generic-vnf with vnf-id=' + $ss.param.vnf-id + ' is not found in AAI. MANUAL ROLLBACK IS REQUIRED! '`\" />\n","comments":"","x":4648.619152069092,"y":2026.750322341919,"z":"524823bf.444cec","wires":[]},{"id":"fd8ce575.139988","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\" Rollback of generic-vnf update completed. \" />\n","comments":"","x":4651.119152069092,"y":2075.7503204345703,"z":"524823bf.444cec","wires":[]},{"id":"c7f50a99.6ffd98","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'Failed to update vf-module-name with vf-module-id = ' + $ss.param.vf-module-id + ' in AnAI; ' + $error-message`\" />\n","comments":"","x":1565.4167709350586,"y":2172.9049520492554,"z":"524823bf.444cec","wires":[]},{"id":"fa94ecab.4b59d","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'Failed to update vf-module-name with vf-module-id =' + $ss.param.vf-module-id + ' because vf-module is not found in AAI' + $error-message`\" />\n","comments":"","x":1566.6667709350586,"y":2223.654953956604,"z":"524823bf.444cec","wires":[]},{"id":"61271b65.0fcb84","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`' Failed to update volume-group with volume-group-id =' + $ss.param.volume-group-id + ' and volume-group-name = ' + $ss.param.volume-group-name + ' in AnAI.' + $error-message`\" />\n","comments":"","x":1580.8571395874023,"y":2585.190529823303,"z":"524823bf.444cec","wires":[]},{"id":"4c58f3ba.8bcf5c","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`$error-message + ' Failed to rollback volume-group with volume-group-id = ' + $ss.param.volume-group-id + ' in AnAI. MANUAL ROLLBACK IS REQUIRED!'`\" />\n","comments":"","x":4622.65518951416,"y":2255.428822517395,"z":"524823bf.444cec","wires":[]},{"id":"527c4ac6.c65b64","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`$error-message + ' Failed to rollback vf-module update with vf-module-id=' + $ss.param.vf-module-id + ' because vf-module not found in AAI. MANUAL ROLLBACK IS REQUIRED!'`\" />\n","comments":"","x":4641.65518951416,"y":2297.928822517395,"z":"524823bf.444cec","wires":[]},{"id":"1947dd20.28f4b3","type":"record","name":"record generic-vnf ROLLBACK","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"ROLLBACK generic-vnf update\"/>","comments":"","outputs":1,"x":4230.619152069092,"y":1885.7503213882446,"z":"524823bf.444cec","wires":[[]]},{"id":"790a196b.b2a9a8","type":"record","name":"record vf-module ROLLBACK","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"ROLLBACK vf-module update\"/>","comments":"","outputs":1,"x":4210.90518951416,"y":2211.9288215637207,"z":"524823bf.444cec","wires":[[]]},{"id":"68496a12.46def4","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":3966.905158996582,"y":2212.178795814514,"z":"524823bf.444cec","wires":[["790a196b.b2a9a8","d93202e2.0fb2a"]]},{"id":"9fd22994.fcad48","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`$error-message + ' Rollback of vf-module update completed.'`\" />\n","comments":"","x":4629.405197143555,"y":2341.4288206100464,"z":"524823bf.444cec","wires":[]},{"id":"d504c338.7ef0e","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":4238.261779785156,"y":2615.071481704712,"z":"524823bf.444cec","wires":[["a059cb72.0aa358"]]},{"id":"f7be2b79.5d1b68","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":4246.511791229248,"y":2657.8215160369873,"z":"524823bf.444cec","wires":[["105e4136.4e207f"]]},{"id":"b241f6de.c37db8","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":4243.333038330078,"y":2701.083086013794,"z":"524823bf.444cec","wires":[["f8215e4c.025ab"]]},{"id":"a059cb72.0aa358","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`$error-message + ' Failed to UPDATE volume-group with volume-group-id=' + $ss.param.volume-group-id + ' from AnAI. MANUAL ROLLBACK IS REQUIRED! '`\" />\n","comments":"","x":4419.69026184082,"y":2614.5358905792236,"z":"524823bf.444cec","wires":[]},{"id":"105e4136.4e207f","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`$error-message + ' volume-group with volume-group-id = ' + $ss.param.volume-group-id + ' not found in AAI. Consider silent success!'`\" />\n","comments":"","x":4438.69026184082,"y":2658.0358905792236,"z":"524823bf.444cec","wires":[]},{"id":"b86a2961.cc9a68","type":"record","name":"record volume-group ROLLBACK","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"ROLLBACK volume-group update\"/>","comments":"","outputs":1,"x":4069.9402618408203,"y":2571.0358896255493,"z":"524823bf.444cec","wires":[[]]},{"id":"c842523d.27da4","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":3814.940231323242,"y":2571.285863876343,"z":"524823bf.444cec","wires":[["b86a2961.cc9a68","92f6b5db.1f8b58"]]},{"id":"f8215e4c.025ab","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`$error-message + ' Rollback of volume_group completed.'`\" />\n","comments":"","x":4426.440269470215,"y":2701.535888671875,"z":"524823bf.444cec","wires":[]},{"id":"872b45b0.7d3948","type":"save","name":"save VNFC","xml":"<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"vnfc\"\n\t\tkey=\"vnfc.vnfc-name = $ss.param.vnfc-name\" >\n<parameter name=\"nfc-naming-code\" value='`$ss.param.nfc-naming-code`' />\n<parameter name=\"nfc-function\" value='`$ss.param.nfc-function`' />\n<parameter name=\"model-customization-id\" value='`$ss.param.vnfc-model-customization-uuid`' />\n<parameter name=\"model-invariant-id\" value='`$ss.param.vnfc-model-invariant-uuid`' />\n<parameter name=\"model-version-id\" value='`$ss.param.vnfc-model-version`' />\n","comments":"","outputs":1,"x":949.2857971191406,"y":2879.143021583557,"z":"524823bf.444cec","wires":[["d474379e.608228","14b0a052.c63ca"]]},{"id":"d474379e.608228","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1138.2857971191406,"y":2879.143021583557,"z":"524823bf.444cec","wires":[["f42149cf.bcff08"]]},{"id":"f42149cf.bcff08","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1341.035789489746,"y":2879.1429948806763,"z":"524823bf.444cec","wires":[["90a333de.8b53","f0b670eb.db949"]]},{"id":"90a333de.8b53","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`' Failed to create vnfc with vnfc-name =' + $ss.param.vnfc-name + ' in AnAI.' + $error-message`\" />\n","comments":"","x":1534.2144393920898,"y":2879.4766216278076,"z":"524823bf.444cec","wires":[]},{"id":"d83375b.f0da588","type":"save","name":"delete vnfc","xml":"<delete plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"vnfc\"\n\t\tkey=\"vnfc.vnfc-name = $ss.param.vnfc-name\" >","comments":"","outputs":1,"x":3862.1192207336426,"y":2918.4880266189575,"z":"524823bf.444cec","wires":[["4731b279.0d21ac","9d21d445.fe7808","12b95e7d.07f562"]]},{"id":"4731b279.0d21ac","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":4069.190586090088,"y":2918.9637632369995,"z":"524823bf.444cec","wires":[["6f3f7af.7237684"]]},{"id":"9d21d445.fe7808","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":4077.4405975341797,"y":2961.713797569275,"z":"524823bf.444cec","wires":[["84fa174c.d17908"]]},{"id":"12b95e7d.07f562","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":4074.2618446350098,"y":3004.9753675460815,"z":"524823bf.444cec","wires":[["f36868cd.8cf688"]]},{"id":"c0b00367.c6803","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`$error-message + ' Failed to delete vnfc with vnfc-name=' + $ss.param.vnfc-name + ' from AnAI. MANUAL ROLLBACK IS REQUIRED! '`\" />\n","comments":"","x":4506.619068145752,"y":2918.4281721115112,"z":"524823bf.444cec","wires":[]},{"id":"84fa174c.d17908","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`$error-message + ' vnfc with vnfc-name=' + $ss.param.vnfc-name + ' not found in AAI. Consider silent success!'`\" />\n","comments":"","x":4269.619068145752,"y":2961.9281721115112,"z":"524823bf.444cec","wires":[]},{"id":"558b3ae5.bdc0f4","type":"record","name":"record vnfc ROLLBACK","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"ROLLBACK vnfc save\"/>","comments":"","outputs":1,"x":3899.869068145752,"y":2874.928171157837,"z":"524823bf.444cec","wires":[[]]},{"id":"d2661c01.62072","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":3656.8690185546875,"y":2874.6067848205566,"z":"524823bf.444cec","wires":[["558b3ae5.bdc0f4","d83375b.f0da588"]]},{"id":"f36868cd.8cf688","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`$error-message + ' Rollback (delete) of vnfc with vnfc-name=' + $ss.param.vnfc-name + '  completed.'`\" />\n","comments":"","x":4257.3690757751465,"y":3005.4281702041626,"z":"524823bf.444cec","wires":[]},{"id":"19a083da.aa484c","type":"save","name":"save connection-point","xml":"<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"cp\"\n\t\tkey=\"cp.cp-instance-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[$i].connection-point.connection-point-id \n\t\tAND vnfc.vnfc.vnfc-name = $ss.param.vnfc-name\" >\n<parameter name=\"cp-instance-id\" \n\tvalue='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[$i].connection-point.connection-point-id`' />","comments":"","outputs":1,"x":1294.9644012451172,"y":3066.142888069153,"z":"524823bf.444cec","wires":[["ba43fde.d1179","ba2f8d9c.c3ea3","21e0cf03.d0f5b"]]},{"id":"ba43fde.d1179","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1515.9644012451172,"y":3066.142888069153,"z":"524823bf.444cec","wires":[["30deee8e.c11bb2"]]},{"id":"30deee8e.c11bb2","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1709.7143936157227,"y":3066.142861366272,"z":"524823bf.444cec","wires":[["d6e385ac.f43f38","4243205b.1fc5d"]]},{"id":"d6e385ac.f43f38","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`' Failed to create connection-point with cp-instance-id =' + $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[$i].connection-point.connection-point-id + ' in AnAI.' + $error-message`\" />\n","comments":"","x":1893.8930435180664,"y":3066.4764881134033,"z":"524823bf.444cec","wires":[]},{"id":"e15ca48a.fe9e28","type":"for","name":"for i in vnfc-network-data_length","xml":"<for silentFailure='true' index='i' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data_length`' >\n","comments":"","outputs":1,"x":1013.6786193847656,"y":3065.6428442001343,"z":"524823bf.444cec","wires":[["19a083da.aa484c"]]},{"id":"ea0e3bc6.de0fb8","type":"save","name":"save vlan-tag","xml":"<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"vlan-tag\"\n\t\tkey=\"vlan-tag.vlan-tag-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[$i].connection-point.vlan-data[$j].vlan-uuid\" >\n<parameter name=\"vlan-tag-id\" \n\tvalue='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[$i].connection-point.vlan-data[$j].vlan-uuid`' />\n<parameter name=\"vlan-tag-role\" \n\tvalue='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[$i].connection-point.vlan-data[$j].vlan-tag-description`' />\n<parameter name=\"vlan-id-outer\" \n\tvalue='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[$i].connection-point.vlan-data[$j].vlan-tag-id`' />\n","comments":"","outputs":1,"x":1947.940528869629,"y":3690.55961227417,"z":"524823bf.444cec","wires":[["7079df0f.a0f18","b430e655.457aa8","acbf27a6.bac9b8"]]},{"id":"7079df0f.a0f18","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2124.940528869629,"y":3690.55961227417,"z":"524823bf.444cec","wires":[["7f567c4d.595d24"]]},{"id":"7f567c4d.595d24","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":2316.6905212402344,"y":3690.559585571289,"z":"524823bf.444cec","wires":[["ca40aa94.5b7fd8","c087b826.318918"]]},{"id":"ca40aa94.5b7fd8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`' Failed to create vlan-tag with vlan-tag-id =' + $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[$i].connection-point.vlan-data[$j].vlan-uuid + ' in AnAI.' + $error-message`\" />\n","comments":"","x":2496.869171142578,"y":3690.8932123184204,"z":"524823bf.444cec","wires":[]},{"id":"fb311ba3.6fdd18","type":"save","name":"save l-interface","xml":"<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"l-interface\"\n\t\tkey=\"l-interface.interface-name = $ss.param.oam-interface-name\n\t\tAND generic-vnf.vnf-id = $ss.param.vnf-id\" >\n<parameter name=\"interface-name\" value='`$ss.param.oam-interface-name`' />\n<parameter name=\"interface-role\" value='OAM' />\n","comments":"","outputs":1,"x":1886.4762649536133,"y":4150.880030632019,"z":"524823bf.444cec","wires":[["cf0a1ab8.5dde08","537cfe96.73d"]]},{"id":"cf0a1ab8.5dde08","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2059.4762649536133,"y":4150.880030632019,"z":"524823bf.444cec","wires":[["265db49f.0bdbdc"]]},{"id":"265db49f.0bdbdc","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":2229.2262573242188,"y":4150.880003929138,"z":"524823bf.444cec","wires":[["88fd766c.d60498","c087b826.318918"]]},{"id":"88fd766c.d60498","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`' Failed to create l-interface with interface-name = ' + $ss.param.oam-interface-name + ' in AnAI.' + $error-message`\" />\n","comments":"","x":2413.4049072265625,"y":4151.2136306762695,"z":"524823bf.444cec","wires":[]},{"id":"9371f87b.34edd8","type":"for","name":"for j in in vlan-data_length","xml":"<for silentFailure='true' index='j' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[$i].connection-point.vlan-data_length`' >\n","comments":"","outputs":1,"x":1725.9047622680664,"y":3690.3097171783447,"z":"524823bf.444cec","wires":[["ea0e3bc6.de0fb8"]]},{"id":"ba2f8d9c.c3ea3","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1524.4286422729492,"y":3111.6428871154785,"z":"524823bf.444cec","wires":[["30deee8e.c11bb2"]]},{"id":"b7fbf5da.c59718","type":"save","name":"delete vlan-tag","xml":"<delete plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"vlan-tag\"\n\t\tkey=\"vlan-tag.vlan-tag-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[$i].connection-point.vlan-data[$j].vlan-uuid\" >","comments":"","outputs":1,"x":4323.833641052246,"y":3584.2615280151367,"z":"524823bf.444cec","wires":[["21d8e065.c3b9","ab11741e.356b78","1df29f5f.796c61"]]},{"id":"21d8e065.c3b9","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":4530.905006408691,"y":3584.7372646331787,"z":"524823bf.444cec","wires":[["1519f6cb.0425c9"]]},{"id":"ab11741e.356b78","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":4539.155017852783,"y":3627.487298965454,"z":"524823bf.444cec","wires":[["44223ef3.49bf1"]]},{"id":"1df29f5f.796c61","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":4535.976264953613,"y":3670.7488689422607,"z":"524823bf.444cec","wires":[["a97df94c.ff3808"]]},{"id":"4925b3ba.4a379c","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`$error-message + ' Failed to delete vlan-tag with vlan-tag-id =' + $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[$i].connection-point.vlan-data[$j].vlan-uuid + ' from AnAI. MANUAL ROLLBACK IS REQUIRED! '`\" />\n","comments":"","x":4969.000381469727,"y":3583.535050868988,"z":"524823bf.444cec","wires":[]},{"id":"44223ef3.49bf1","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`$error-message + ' vlan-tag with vlan-tag-id =' + $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[$i].connection-point.vlan-data[$j].vlan-uuid + ' not found in AAI. Consider silent success!'`\" />\n","comments":"","x":4731.3334884643555,"y":3627.7016735076904,"z":"524823bf.444cec","wires":[]},{"id":"53e43f6f.4b29f","type":"record","name":"record vlan-tag ROLLBACK","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"ROLLBACK vlan-tag save\"/>","comments":"","outputs":1,"x":3784.2981719970703,"y":3534.9872789382935,"z":"524823bf.444cec","wires":[[]]},{"id":"cad32085.7b76b","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":3522.298141479492,"y":3535.237253189087,"z":"524823bf.444cec","wires":[["53e43f6f.4b29f","4b828712.b29288"]]},{"id":"a97df94c.ff3808","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`$error-message + ' Rollback (delete) of vlan-tag with vlan-tag-id =' + $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[$i].connection-point.vlan-data[$j].vlan-uuid + '  completed.'`\" />\n","comments":"","x":4719.08349609375,"y":3671.201671600342,"z":"524823bf.444cec","wires":[]},{"id":"32ee1d06.53a262","type":"comment","name":"Deleting vnfc will delete connection-point (cp)","info":"","comments":"","x":1818.9524154663086,"y":3013.190418243408,"z":"524823bf.444cec","wires":[]},{"id":"b430e655.457aa8","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":2133.2619705200195,"y":3736.8809881210327,"z":"524823bf.444cec","wires":[["7f567c4d.595d24"]]},{"id":"4b828712.b29288","type":"for","name":"for i in vnfc-network-data_len","xml":"<for silentFailure='true' index='i' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data_length`' >\n","comments":"","outputs":1,"x":3789.4053497314453,"y":3584.8329906463623,"z":"524823bf.444cec","wires":[["8d8ee1c3.c380a"]]},{"id":"8d8ee1c3.c380a","type":"for","name":"for j in in vlan-data_length","xml":"<for silentFailure='true' index='j' start='0' end='$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[$i].connection-point.vlan-data_length`' >\n","comments":"","outputs":1,"x":4085.833938598633,"y":3584.6901683807373,"z":"524823bf.444cec","wires":[["b7fbf5da.c59718"]]},{"id":"52f9861c.9d09a8","type":"save","name":"save cp relationship","xml":"<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"vlan-tag:relationship-list\"\n\t\tkey=\"vlan-tag.vlan-tag-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[$i].connection-point.vlan-data[$j].vlan-uuid\" >\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"cp\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"cp.cp-instance-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[$i].connection-point.connection-point-id`\" />","comments":"","outputs":1,"x":2314.547534942627,"y":3793.4519262313843,"z":"524823bf.444cec","wires":[["a7ef0ff8.c0c23","c4d99720.322808"]]},{"id":"a7ef0ff8.c0c23","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2523.833309173584,"y":3793.0233068466187,"z":"524823bf.444cec","wires":[["6efb0bb3.3857c4"]]},{"id":"6efb0bb3.3857c4","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":2715.868850708008,"y":3793.0232734680176,"z":"524823bf.444cec","wires":[["14972529.537afb","c087b826.318918"]]},{"id":"14972529.537afb","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`' Failed to create cp relationship for vlan-tag with vlan-tag-id =' + $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[$i].connection-point.vlan-data[$j].vlan-uuid + ' in AnAI.' + $error-message`\" />\n","comments":"","x":2896.0475006103516,"y":3793.356900215149,"z":"524823bf.444cec","wires":[]},{"id":"21e0cf03.d0f5b","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":1512.9287109375,"y":3690.4051036834717,"z":"524823bf.444cec","wires":[["9371f87b.34edd8"]]},{"id":"781d93b4.9320ec","type":"outcome","name":"oam-interface-name","xml":"<outcome value='oam-interface-name'>","comments":"","outputs":1,"x":2372.8809814453125,"y":721.3570599555969,"z":"524823bf.444cec","wires":[["c54a6acc.0c9d68"]]},{"id":"c54a6acc.0c9d68","type":"set","name":"set ss.param.oam-interface-name, index","xml":"<set>\n<parameter name='ss.param.oam-interface-name' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].value`' />\n<parameter name='ss.param.oam-interface-name-index' value='`$bidx`' />","comments":"","x":2735.988208770752,"y":722.1071329116821,"z":"524823bf.444cec","wires":[]},{"id":"c3d95611.5b1c48","type":"outcome","name":"lo0-interface-name","xml":"<outcome value='=âlo0-interface-name'>","comments":"","outputs":1,"x":2369.595184326172,"y":764.0714335441589,"z":"524823bf.444cec","wires":[["b7779297.40fcb"]]},{"id":"b7779297.40fcb","type":"set","name":"set ss.param.lo0-interface-name, index","xml":"<set>\n<parameter name='ss.param.lo0-interface-name' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].value`' />\n<parameter name='ss.param.lo0-interface-name-index' value='`$bidx`' />","comments":"","x":2730.7024116516113,"y":764.8215065002441,"z":"524823bf.444cec","wires":[]},{"id":"8a903d74.84637","type":"comment","name":"ROLLBACK STARET HERE","info":"","comments":"","x":3999.1906242370605,"y":1831.7026376724243,"z":"524823bf.444cec","wires":[]},{"id":"e78b7b3c.7d8ae8","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":3785.2620849609375,"y":2095.4528408050537,"z":"524823bf.444cec","wires":[["68496a12.46def4","1b9d1e89.003831"]]},{"id":"f0b670eb.db949","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":3636.6907958984375,"y":2367.2381229400635,"z":"524823bf.444cec","wires":[["e78b7b3c.7d8ae8","c842523d.27da4"]]},{"id":"4243205b.1fc5d","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":3487.047676086426,"y":2724.38090133667,"z":"524823bf.444cec","wires":[["f0b670eb.db949","d2661c01.62072"]]},{"id":"c087b826.318918","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":3345.262008666992,"y":3119.976263999939,"z":"524823bf.444cec","wires":[["4243205b.1fc5d","cad32085.7b76b"]]},{"id":"acbf27a6.bac9b8","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":2130.2616844177246,"y":3793.594979286194,"z":"524823bf.444cec","wires":[["52f9861c.9d09a8"]]},{"id":"a44e310.85cd3d","type":"switchNode","name":"switch: ss.param.oam-interface-name != NULL","xml":"<switch test=\"`$ss.param.oam-interface-name != ''`\">\n","comments":"","outputs":1,"x":1233.8334655761719,"y":4150.451999664307,"z":"524823bf.444cec","wires":[["4696b213.43543c"]]},{"id":"4696b213.43543c","type":"outcome","name":"true","xml":"<outcome value='true'>","comments":"","outputs":1,"x":1496.8334884643555,"y":4150.951998233795,"z":"524823bf.444cec","wires":[["fb9d27b2.880a28"]]},{"id":"9191f25a.3480f","type":"save","name":"save l-interface","xml":"<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"l-interface\"\n\t\tkey=\"l-interface.interface-name = $ss.param.lo0-interface-name\n\t\tAND generic-vnf.vnf-id = $ss.param.vnf-id\" >\n<parameter name=\"interface-name\" value='`$ss.param.lo0-interface-name`' />\n<parameter name=\"interface-role\" value='loopback' />\n","comments":"","outputs":1,"x":1884.404899597168,"y":4764.737473487854,"z":"524823bf.444cec","wires":[["b618f33a.81858","5fa42c58.b789f4"]]},{"id":"b618f33a.81858","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2057.404899597168,"y":4764.737473487854,"z":"524823bf.444cec","wires":[["d7f91963.f46578"]]},{"id":"d7f91963.f46578","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":2227.1548919677734,"y":4764.737446784973,"z":"524823bf.444cec","wires":[["40ed86be.541ab8","c39668c3.81de28"]]},{"id":"40ed86be.541ab8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`' Failed to create l-interface with interface-name = ' + $ss.param.lo0-interface-name + ' in AnAI.' + $error-message`\" />\n","comments":"","x":2411.333541870117,"y":4765.0710735321045,"z":"524823bf.444cec","wires":[]},{"id":"4532ec42.04f514","type":"switchNode","name":"switch: ss.param.lo0-interface-name != NULL","xml":"<switch test=\"`$ss.param.lo0-interface-name != ''`\">\n","comments":"","outputs":1,"x":1229.1905517578125,"y":4764.737859725952,"z":"524823bf.444cec","wires":[["488f357e.f4e83c"]]},{"id":"488f357e.f4e83c","type":"outcome","name":"true","xml":"<outcome value='true'>","comments":"","outputs":1,"x":1492.190574645996,"y":4765.237858295441,"z":"524823bf.444cec","wires":[["c6221893.20a808"]]},{"id":"905c2a18.aaad68","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":946.5476760864258,"y":4150.880551338196,"z":"524823bf.444cec","wires":[["a44e310.85cd3d","4532ec42.04f514"]]},{"id":"9087d09f.f80e8","type":"outcome","name":"ipv4-oam-address","xml":"<outcome value='ipv4-oam-address'>","comments":"","outputs":1,"x":2365.357177734375,"y":808.2619090080261,"z":"524823bf.444cec","wires":[["e3a601c8.eed52"]]},{"id":"e3a601c8.eed52","type":"set","name":"set ss.param.ipv4-oam-address, index","xml":"<set>\n<parameter name='ss.param.ipv4-oam-address' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].value`' />\n<parameter name='ss.param.ipv4-oam-address-index' value='`$bidx`' />","comments":"","x":2729.321502685547,"y":809.0119571685791,"z":"524823bf.444cec","wires":[]},{"id":"f372a446.1f0d48","type":"outcome","name":"loopback0_ipv4_address","xml":"<outcome value='loopback0_ipv4_address'>","comments":"","outputs":1,"x":2387.7857055664062,"y":892.5476336479187,"z":"524823bf.444cec","wires":[["8cdb4d06.8f6ee"]]},{"id":"8cdb4d06.8f6ee","type":"set","name":"set ss.param.loopback0-ipv4-address, index","xml":"<set>\n<parameter name='ss.param.loopback0-ipv4-address' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].value`' />\n<parameter name='ss.param.loopback0-ipv4-address-index' value='`$bidx`' />","comments":"","x":2749.035873413086,"y":892.1547694206238,"z":"524823bf.444cec","wires":[]},{"id":"8292dc55.104db","type":"save","name":"delete l-interface (oam)","xml":"<delete plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"l-interface\"\n\t\tkey=\"l-interface.interface-name = $ss.param.oam-interface-name\n\t\tAND generic-vnf.vnf-id = $ss.param.vnf-id\" >","comments":"","outputs":1,"x":4143.5004806518555,"y":4138.166565895081,"z":"524823bf.444cec","wires":[["4ee35b57.1d8954","fb779a6a.86d458","760ec07a.b9756"]]},{"id":"4ee35b57.1d8954","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":4351.571846008301,"y":4138.642302513123,"z":"524823bf.444cec","wires":[["4e32d181.12585"]]},{"id":"fb779a6a.86d458","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":4359.821857452393,"y":4181.392336845398,"z":"524823bf.444cec","wires":[["4081b0d2.41d8b"]]},{"id":"760ec07a.b9756","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":4356.643104553223,"y":4224.653906822205,"z":"524823bf.444cec","wires":[["b5844698.8cfbd8"]]},{"id":"23d11557.c980ea","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`$error-message + ' Failed to delete l-interface.interface-name = ' + $ss.param.oam-interface-name + ' from AnAI. MANUAL ROLLBACK IS REQUIRED! '`\" />\n","comments":"","x":4794.667510986328,"y":4139.106935501099,"z":"524823bf.444cec","wires":[]},{"id":"4081b0d2.41d8b","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`$error-message + ' l-interface.interface-name = ' + $ss.param.oam-interface-name + ' not found in AAI. Consider silent success!'`\" />\n","comments":"","x":4552.000328063965,"y":4181.606711387634,"z":"524823bf.444cec","wires":[]},{"id":"e0669582.917ba8","type":"record","name":"record OAM l-interface ROLLBACK","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"ROLLBACK l-interface (oam) save\"/>","comments":"","outputs":1,"x":3660.250259399414,"y":4089.749614715576,"z":"524823bf.444cec","wires":[[]]},{"id":"268c5b00.cd2586","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":3400.2502098083496,"y":4089.428228378296,"z":"524823bf.444cec","wires":[["e0669582.917ba8","7ad9d5f2.de34ec"]]},{"id":"b5844698.8cfbd8","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`$error-message + ' Rollback (delete) of l-interface with interface-name = ' + $ss.param.oam-interface-name + '  completed.'`\" />\n","comments":"","x":4539.750335693359,"y":4225.106709480286,"z":"524823bf.444cec","wires":[]},{"id":"7ad9d5f2.de34ec","type":"switchNode","name":"switch: ss.param.oam-interface-name != NULL","xml":"<switch test=\"`$ss.param.oam-interface-name != ''`\">\n","comments":"","outputs":1,"x":3695.500473022461,"y":4139.023732185364,"z":"524823bf.444cec","wires":[["d1ede815.bf51c8"]]},{"id":"d1ede815.bf51c8","type":"outcome","name":"true","xml":"<outcome value='true'>","comments":"","outputs":1,"x":3954.357650756836,"y":4138.023732185364,"z":"524823bf.444cec","wires":[["8292dc55.104db"]]},{"id":"e8db0b24.4707e8","type":"save","name":"delete l-interface (oam)","xml":"<delete plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"l-interface\"\n\t\tkey=\"l-interface.interface-name = $ss.param.lo0-interface-name\n\t\tAND generic-vnf.vnf-id = $ss.param.vnf-id\" >","comments":"","outputs":1,"x":3979.9284286499023,"y":4587.595339775085,"z":"524823bf.444cec","wires":[["752a9cc6.53c1f4","e93af0b5.58f14","d093ecc9.8988"]]},{"id":"752a9cc6.53c1f4","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":4187.999794006348,"y":4588.071076393127,"z":"524823bf.444cec","wires":[["6180c19b.c1f46"]]},{"id":"e93af0b5.58f14","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":4196.249805450439,"y":4630.821110725403,"z":"524823bf.444cec","wires":[["6c39721b.a10a4c"]]},{"id":"d093ecc9.8988","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":4193.0710525512695,"y":4674.0826807022095,"z":"524823bf.444cec","wires":[["ad07600c.db036"]]},{"id":"ebc723f7.e167b","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`$error-message + ' Failed to delete l-interface.interface-name = ' + $ss.param.lo0-interface-name + ' from AnAI. MANUAL ROLLBACK IS REQUIRED! '`\" />\n","comments":"","x":4642.761421203613,"y":4586.202165603638,"z":"524823bf.444cec","wires":[]},{"id":"6c39721b.a10a4c","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`$error-message + ' l-interface.interface-name = ' + $ss.param.lo0-interface-name + ' not found in AAI. Consider silent success!'`\" />\n","comments":"","x":4388.428276062012,"y":4631.035485267639,"z":"524823bf.444cec","wires":[]},{"id":"4aa0fa27.4dc074","type":"record","name":"record LOOPBACK l-interface ROLLBACK","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"ROLLBACK l-interface (oam) save\"/>","comments":"","outputs":1,"x":3520.678207397461,"y":4539.178388595581,"z":"524823bf.444cec","wires":[[]]},{"id":"eb0e7609.af3e18","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":3236.6781578063965,"y":4538.857002258301,"z":"524823bf.444cec","wires":[["4aa0fa27.4dc074","74f10a9c.8b9554"]]},{"id":"ad07600c.db036","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`$error-message + ' Rollback (delete) of l-interface with interface-name = ' + $ss.param.lo0-interface-name + '  completed.'`\" />\n","comments":"","x":4376.178283691406,"y":4674.5354833602905,"z":"524823bf.444cec","wires":[]},{"id":"53c0775c.9c4738","type":"outcome","name":"true","xml":"<outcome value='true'>","comments":"","outputs":1,"x":3790.785598754883,"y":4587.452506065369,"z":"524823bf.444cec","wires":[["e8db0b24.4707e8"]]},{"id":"74f10a9c.8b9554","type":"switchNode","name":"switch: ss.param.lo0-interface-name != NULL","xml":"<switch test=\"`$ss.param.lo0-interface-name != ''`\">\n","comments":"","outputs":1,"x":3529.9282608032227,"y":4588.024054527283,"z":"524823bf.444cec","wires":[["53c0775c.9c4738"]]},{"id":"c39668c3.81de28","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":3199.785820007324,"y":3929.023866057396,"z":"524823bf.444cec","wires":[["268c5b00.cd2586","c087b826.318918"]]},{"id":"537cfe96.73d","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":2067.5476303100586,"y":4193.166355133057,"z":"524823bf.444cec","wires":[["265db49f.0bdbdc"]]},{"id":"5fa42c58.b789f4","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":2064.404800415039,"y":4807.308897018433,"z":"524823bf.444cec","wires":[["d7f91963.f46578"]]},{"id":"591f2f5b.ea529","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":3028.3567276000977,"y":4341.88106918335,"z":"524823bf.444cec","wires":[["eb0e7609.af3e18","c39668c3.81de28"]]},{"id":"5551bd45.4b1a94","type":"outcome","name":"ipv4-oam-address-prefix","xml":"<outcome value='ipv4-oam-address-prefix'>","comments":"","outputs":1,"x":2385.357177734375,"y":850.2619738578796,"z":"524823bf.444cec","wires":[["ee76be68.767bd"]]},{"id":"ee76be68.767bd","type":"set","name":"set ipv4-oam-address-prefix, index","xml":"<set>\n<parameter name='ss.param.ipv4-oam-address-prefix' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].value`' />\n<parameter name='ss.param.ipv4-oam-address-prefix-index' value='`$bidx`' />","comments":"","x":2718.035747528076,"y":850.4405636787415,"z":"524823bf.444cec","wires":[]},{"id":"fb9d27b2.880a28","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1656.6904678344727,"y":4150.4516706466675,"z":"524823bf.444cec","wires":[["fb311ba3.6fdd18","d20c93d7.37be7"]]},{"id":"c6221893.20a808","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1653.8333892822266,"y":4765.308897018433,"z":"524823bf.444cec","wires":[["9191f25a.3480f","92924794.ffdbb8"]]},{"id":"d20c93d7.37be7","type":"save","name":"save l3-interface-ipv4-address","xml":"<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"l3-interface-ipv4-address-list\"\n\t\tkey=\"l3-interface-ipv4-address-list.l3-interface-ipv4-address = $ss.param.ipv4-oam-address \n\t\tAND generic-vnf.vnf-id = $ss.param.vnf-id \n\t\tAND l-interface.interface-name = $ss.param.oam-interface-name\" >\n<parameter name=\"l3-interface-ipv4-address\" value='`$ss.param.ipv4-oam-address`' />\n<parameter name=\"l3-interface-ipv4-prefix-length\" value='`$ss.param.ipv4-oam-address-prefix`' />\n","comments":"","outputs":1,"x":1933.261962890625,"y":4296.166302680969,"z":"524823bf.444cec","wires":[["5cc3381b.a426e8","a9acc860.4b9258"]]},{"id":"5cc3381b.a426e8","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2154.261962890625,"y":4296.166302680969,"z":"524823bf.444cec","wires":[["e981fcb3.70b4c"]]},{"id":"e981fcb3.70b4c","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":2324.0119552612305,"y":4296.166275978088,"z":"524823bf.444cec","wires":[["3f9ef2d6.f6a9de","c39668c3.81de28"]]},{"id":"3f9ef2d6.f6a9de","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`' Failed to create l3-interface-ipv4-address-list.l3-interface-ipv4-address = $ss.param.ipv4-oam-address + ' in AnAI.' + $error-message`\" />\n","comments":"","x":2508.190605163574,"y":4296.49990272522,"z":"524823bf.444cec","wires":[]},{"id":"a9acc860.4b9258","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":2162.3333282470703,"y":4338.452627182007,"z":"524823bf.444cec","wires":[["e981fcb3.70b4c"]]},{"id":"92924794.ffdbb8","type":"save","name":"save l3-interface-ipv4-address","xml":"<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"l3-interface-ipv4-address-list\"\n\t\tkey=\"l3-interface-ipv4-address-list.l3-interface-ipv4-address = $ss.param.loopback0-ipv4-address \n\t\tAND generic-vnf.vnf-id = $ss.param.vnf-id \n\t\tAND l-interface.interface-name = $ss.param.lo0-interface-name\" >\n<parameter name=\"l3-interface-ipv4-address\" value='`$ss.param.loopback0-ipv4-address`' />\n<parameter name=\"l3-interface-ipv4-prefix-length\" value='32' />\n","comments":"","outputs":1,"x":1928.2619934082031,"y":4881.880214691162,"z":"524823bf.444cec","wires":[["9595e40.d4f962","4efd2815.5501c8"]]},{"id":"9595e40.d4f962","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2149.261993408203,"y":4881.880214691162,"z":"524823bf.444cec","wires":[["ee3e52e8.f95bd"]]},{"id":"ee3e52e8.f95bd","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":2319.0119857788086,"y":4881.880187988281,"z":"524823bf.444cec","wires":[["431ecf47.93f6e","591f2f5b.ea529"]]},{"id":"431ecf47.93f6e","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`' Failed to create l3-interface-ipv4-address-list with l3-interface-ipv4-address = $ss.param.loopback0-ipv4-address + ' in AnAI.' + $error-message`\" />\n","comments":"","x":2503.1906356811523,"y":4882.213814735413,"z":"524823bf.444cec","wires":[]},{"id":"4efd2815.5501c8","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":2157.3333587646484,"y":4924.1665391922,"z":"524823bf.444cec","wires":[["ee3e52e8.f95bd"]]},{"id":"ea5a344c.75d598","type":"comment","name":"Delete l-interface will delete l3-interface-ipv4-address-list","info":"","comments":"","x":3392.6430702209473,"y":4483.30971288681,"z":"524823bf.444cec","wires":[]},{"id":"803902c7.c58d9","type":"execute","name":"param[].name startsWith 'sriov'","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='startsWith' emitsOutcome='true' >\n    <parameter name=\"source\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].name`\" />\n\t<parameter name=\"target\" value=\"sriov\"/>\n","comments":"","outputs":1,"x":1640.6903991699219,"y":352.5476703643799,"z":"524823bf.444cec","wires":[["173106ff.976bf9","6167d70e.354208"]]},{"id":"173106ff.976bf9","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1850.9403991699219,"y":352.7976703643799,"z":"524823bf.444cec","wires":[["69684698.ae9ab8"]]},{"id":"69684698.ae9ab8","type":"execute","name":"param[].name endsWith 'sriov'","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='endsWith' emitsOutcome='true' >\n    <parameter name=\"source\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].name`\" />\n\t<parameter name=\"target\" value=\"_net_id\"/>\n","comments":"","outputs":1,"x":2067.8332290649414,"y":352.5476760864258,"z":"524823bf.444cec","wires":[["27b94fda.5dad2"]]},{"id":"27b94fda.5dad2","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2277.8330993652344,"y":352.1190814971924,"z":"524823bf.444cec","wires":[["a9486959.35c198"]]},{"id":"27b671b4.a901de","type":"set","name":"set ss.network[$nidx].netid","xml":"<set>\n<parameter name='ss.network[$nidx].netid' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].value`' />\n","comments":"","x":2629.2614345550537,"y":351.54762840270996,"z":"524823bf.444cec","wires":[]},{"id":"1f3f85d8.d080fa","type":"set","name":"nidx++","xml":"<set>\n<parameter name='nidx' value='`$nidx + 1`' />\n","comments":"","x":2569.261543273926,"y":394.97625160217285,"z":"524823bf.444cec","wires":[]},{"id":"d6b8bc30.9c0d6","type":"set","name":"set nidx = 0","xml":"<set>\n<parameter name='nidx' value='0' />\n","comments":"","x":1237.8330459594727,"y":269.1190414428711,"z":"524823bf.444cec","wires":[]},{"id":"a9486959.35c198","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":2416.4047508239746,"y":352.404824256897,"z":"524823bf.444cec","wires":[["27b671b4.a901de","1f3f85d8.d080fa"]]},{"id":"6167d70e.354208","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1852.1191444396973,"y":395.69050216674805,"z":"524823bf.444cec","wires":[["6f687860.211ea8"]]},{"id":"d2b41652.699ac8","type":"for","name":"for n in nidx","xml":"<for silentFailure='true' index='n' start='0' end='`$nidx`' >\n","comments":"","outputs":1,"x":927.8810501098633,"y":5269.262230873108,"z":"524823bf.444cec","wires":[["4084f4d.3d76e0c"]]},{"id":"4084f4d.3d76e0c","type":"save","name":"save l3-network relationships for VNF","xml":"<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"generic-vnf:relationship-list\"\n\t\tkey=\"generic-vnf.vnf-id = $ss.param.vnf-id\" >\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"l3-network\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"l3-network.network-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$ss.network[$n].netid`\" />\n","comments":"","outputs":1,"x":1212.737937927246,"y":5269.261742591858,"z":"524823bf.444cec","wires":[["97cf09b7.20d258","124851a7.c2d48e"]]},{"id":"c4d99720.322808","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":2533.071262359619,"y":3838.0714826583862,"z":"524823bf.444cec","wires":[["6efb0bb3.3857c4"]]},{"id":"97cf09b7.20d258","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1488.4523544311523,"y":5269.975975990295,"z":"524823bf.444cec","wires":[["84dd774.9d82c88"]]},{"id":"84dd774.9d82c88","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1685.2023468017578,"y":5269.975949287415,"z":"524823bf.444cec","wires":[["4e43c840.e3f328","c95fb0b.b29785"]]},{"id":"4e43c840.e3f328","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`' Failed to create generic-vnf releationship for l3-network with network-id =' + $ss.network[$n].netid + ' in AnAI.' + $error-message`\" />\n","comments":"","x":1865.3809967041016,"y":5270.309576034546,"z":"524823bf.444cec","wires":[]},{"id":"124851a7.c2d48e","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1497.6903076171875,"y":5315.024151802063,"z":"524823bf.444cec","wires":[["84dd774.9d82c88"]]},{"id":"f0b941df.7614a","type":"save","name":"delete VNF l3-network relationships","xml":"<delete plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"generic-vnf:relationship-list\" \n\t\tkey=\"generic-vnf.vnf-id = $ss.param.vnf-id \n\t\tAND related-to = l3-network \n\t\tAND l3-network.network-id = $ss.network[$n].netid\" >","comments":"","outputs":1,"x":3507.9285926818848,"y":5009.071319580078,"z":"524823bf.444cec","wires":[["f6bcd023.b5f25","d121d89d.77d7a8","a2c2b1a8.1a50d"]]},{"id":"f6bcd023.b5f25","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":3770.99995803833,"y":5009.54705619812,"z":"524823bf.444cec","wires":[["9b572bdc.d97d98"]]},{"id":"d121d89d.77d7a8","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":3779.249969482422,"y":5052.2970905303955,"z":"524823bf.444cec","wires":[["355e9746.577ab8"]]},{"id":"a2c2b1a8.1a50d","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":3776.071216583252,"y":5095.558660507202,"z":"524823bf.444cec","wires":[["eb62b74e.1844b8"]]},{"id":"7f822c51.dcbe04","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`$error-message + ' Failed to delete VNF l3-network relationship for generic-vnf.vnfid = ' + $ss.param.vnf-id + ' from AnAI. MANUAL ROLLBACK IS REQUIRED! '`\" />\n","comments":"","x":4237.428077697754,"y":5008.677770614624,"z":"524823bf.444cec","wires":[]},{"id":"355e9746.577ab8","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`$error-message + ' generic-vnf.vnfid = ' + $ss.param.vnf-id + ' not found in AAI. Consider silent success!'`\" />\n","comments":"","x":3971.428440093994,"y":5052.511465072632,"z":"524823bf.444cec","wires":[]},{"id":"3dfa252f.e402ca","type":"record","name":"record VNF l3-network relationship ROLLBACK","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"ROLLBACK VNF l3-network relationship\"/>","comments":"","outputs":1,"x":3358.821147918701,"y":4961.083094596863,"z":"524823bf.444cec","wires":[[]]},{"id":"4a404c8e.b935a4","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":3060.8210983276367,"y":4960.7617082595825,"z":"524823bf.444cec","wires":[["3dfa252f.e402ca","7d34ebde.607ad4"]]},{"id":"eb62b74e.1844b8","type":"set","name":"set error-message","xml":"<set>\n<parameter name='error-message' value=\"`$error-message + ' Rollback (delete) of generic-vnf l3-network relationships completed.'`\" />\n","comments":"","x":3959.1784477233887,"y":5096.011463165283,"z":"524823bf.444cec","wires":[]},{"id":"7d34ebde.607ad4","type":"for","name":"for n in nidx","xml":"<for silentFailure='true' index='n' start='0' end='`$nidx`' >\n","comments":"","outputs":1,"x":3251.2141761779785,"y":5009.500240325928,"z":"524823bf.444cec","wires":[["f0b941df.7614a"]]},{"id":"c95fb0b.b29785","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":2866.928768157959,"y":4830.928913116455,"z":"524823bf.444cec","wires":[["591f2f5b.ea529","4a404c8e.b935a4"]]},{"id":"c88eb00.8003c5","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1202.7857666015625,"y":2626.642966270447,"z":"524823bf.444cec","wires":[["6e03f96c.285448"]]},{"id":"14b0a052.c63ca","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1149.7857666015625,"y":2923.785788536072,"z":"524823bf.444cec","wires":[["f42149cf.bcff08"]]},{"id":"84bb5d04.c6e3","type":"outcome","name":"aai-vf-module-put","xml":"<outcome value='aai-vf-module-put'>\n","comments":"","outputs":1,"x":2365.0712661743164,"y":935.1666693687439,"z":"524823bf.444cec","wires":[["521b023a.16b08c"]]},{"id":"521b023a.16b08c","type":"set","name":"set ss.param.aai-vf-module-put-index","xml":"<set>\n<parameter name='ss.param.aai-vf-module-put-index' value='`$bidx`' />\n","comments":"","x":2727.214141845703,"y":935.4523749351501,"z":"524823bf.444cec","wires":[]},{"id":"5203406d.42cd1","type":"outcome","name":"unassign","xml":"<outcome value='unassign'>","comments":"","outputs":1,"x":591.6074676513672,"y":788.7139174938202,"z":"524823bf.444cec","wires":[["ecb2a508.4fa918"]]},{"id":"ca96518c.19429","type":"block","name":"block","xml":"<block>","atomic":"false","comments":"","outputs":1,"x":1055.2380142211914,"y":268.7618818283081,"z":"524823bf.444cec","wires":[["d6b8bc30.9c0d6","8ea168e1.d7d9a8","a2a64ba5.6c0a88"]]},{"id":"c3b2fc1d.0d2e","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":2835.999954223633,"y":2882.333122253418,"z":"524823bf.444cec","wires":[["d2661c01.62072","cad32085.7b76b","268c5b00.cd2586","eb0e7609.af3e18","4a404c8e.b935a4"]]},{"id":"2d8e80b8.66067","type":"comment","name":"UNASSIGN","info":"","comments":"","x":3299.3333740234375,"y":2855.3332843780518,"z":"524823bf.444cec","wires":[]},{"id":"ecb2a508.4fa918","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":754.6905822753906,"y":788.2141616344452,"z":"524823bf.444cec","wires":[["c3b2fc1d.0d2e","ca96518c.19429","55b3de05.b841b","67d2253d.a6789c"]]},{"id":"55b3de05.b841b","type":"set","name":"set tmp.return-failure = true","xml":"<set>\n<parameter name='tmp.return-failure' value ='true' />","comments":"","x":1145.6904678344727,"y":788.2142055034637,"z":"524823bf.444cec","wires":[]},{"id":"27427031.c02ca","type":"switchNode","name":"switch tmp.return-failure","xml":"<switch test='`$tmp.return-failure`'>\n","comments":"","outputs":1,"x":4520.332862854004,"y":3093.3334560394287,"z":"524823bf.444cec","wires":[["4fbebd6.db20f44"]]},{"id":"6f3f7af.7237684","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":4270.999908447266,"y":2918.3332147598267,"z":"524823bf.444cec","wires":[["c0b00367.c6803","27427031.c02ca"]]},{"id":"4fbebd6.db20f44","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":4714.000194549561,"y":3093.3332958221436,"z":"524823bf.444cec","wires":[["693069c5.0a6f48"]]},{"id":"813b2f01.f46d9","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value='`$error-message`' />\n","comments":"","x":5089.0003662109375,"y":3144.6665477752686,"z":"524823bf.444cec","wires":[]},{"id":"1519f6cb.0425c9","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":4729.999862670898,"y":3584.3331565856934,"z":"524823bf.444cec","wires":[["5df2df73.4b36c","4925b3ba.4a379c"]]},{"id":"5df2df73.4b36c","type":"switchNode","name":"switch tmp.return-failure","xml":"<switch test='`$tmp.return-failure`'>\n","comments":"","outputs":1,"x":4979.332817077637,"y":3759.3333978652954,"z":"524823bf.444cec","wires":[["c228eaf0.05ee98"]]},{"id":"4e32d181.12585","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":4576.66650390625,"y":4139,"z":"524823bf.444cec","wires":[["270311d2.2009ae","23d11557.c980ea"]]},{"id":"270311d2.2009ae","type":"switchNode","name":"switch tmp.return-failure","xml":"<switch test='`$tmp.return-failure`'>\n","comments":"","outputs":1,"x":4825.999458312988,"y":4310.000241279602,"z":"524823bf.444cec","wires":[["537970f7.f0c8a"]]},{"id":"537970f7.f0c8a","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":5019.666790008545,"y":4310.000081062317,"z":"524823bf.444cec","wires":[["9e506525.9bea18"]]},{"id":"6180c19b.c1f46","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":4420,"y":4586.66650390625,"z":"524823bf.444cec","wires":[["a7c752a4.89af7","ebc723f7.e167b"]]},{"id":"a7c752a4.89af7","type":"switchNode","name":"switch tmp.return-failure","xml":"<switch test='`$tmp.return-failure`'>\n","comments":"","outputs":1,"x":4669.332954406738,"y":4761.666745185852,"z":"524823bf.444cec","wires":[["16657ddc.910892"]]},{"id":"16657ddc.910892","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":4863.000286102295,"y":4761.666584968567,"z":"524823bf.444cec","wires":[["a60f99dd.e1d058"]]},{"id":"9b572bdc.d97d98","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":4006.6665954589844,"y":5008.666387557983,"z":"524823bf.444cec","wires":[["3e6d8e8b.4d7992","7f822c51.dcbe04"]]},{"id":"3e6d8e8b.4d7992","type":"switchNode","name":"switch tmp.return-failure","xml":"<switch test='`$tmp.return-failure`'>\n","comments":"","outputs":1,"x":4255.999549865723,"y":5183.666628837585,"z":"524823bf.444cec","wires":[["5d5390d7.59004"]]},{"id":"5d5390d7.59004","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":4449.666881561279,"y":5183.6664686203,"z":"524823bf.444cec","wires":[["ac545209.1b91c"]]},{"id":"67d2253d.a6789c","type":"set","name":"set resource-resolution-data.status = DELETED","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$ss.param.aai-vf-module-put-index].resource-resolution-data.status' \n\tvalue='DELETED' />\n","comments":"","x":1147.0238800048828,"y":1249.8807570934296,"z":"524823bf.444cec","wires":[]},{"id":"6effec82.a00494","type":"set","name":"set resource-resolution-data.status = FAILED","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$ss.param.aai-vf-module-put-index].resource-resolution-data.status' \n\tvalue='FAILED' />\n","comments":"","x":5186.333526611328,"y":3092.333290576935,"z":"524823bf.444cec","wires":[]},{"id":"693069c5.0a6f48","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":4875,"y":3092.66650390625,"z":"524823bf.444cec","wires":[["6effec82.a00494","813b2f01.f46d9"]]},{"id":"c228eaf0.05ee98","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":5173.000148773193,"y":3759.3332376480103,"z":"524823bf.444cec","wires":[["be2631f4.bf852"]]},{"id":"96663bf8.472df8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value='`$error-message`' />\n","comments":"","x":5551.66650390625,"y":3810.999755859375,"z":"524823bf.444cec","wires":[]},{"id":"56f2babc.c9cab4","type":"set","name":"set resource-resolution-data.status = FAILED","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$ss.param.aai-vf-module-put-index].resource-resolution-data.status' \n\tvalue='FAILED' />\n","comments":"","x":5648.999664306641,"y":3758.6664986610413,"z":"524823bf.444cec","wires":[]},{"id":"be2631f4.bf852","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":5337.6661376953125,"y":3758.9997119903564,"z":"524823bf.444cec","wires":[["56f2babc.c9cab4","96663bf8.472df8"]]},{"id":"14bde79e.ff4658","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value='`$error-message`' />\n","comments":"","x":5408.3330078125,"y":4362,"z":"524823bf.444cec","wires":[]},{"id":"1934a481.6ef3fb","type":"set","name":"set resource-resolution-data.status = FAILED","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$ss.param.aai-vf-module-put-index].resource-resolution-data.status' \n\tvalue='FAILED' />\n","comments":"","x":5505.666168212891,"y":4309.666742801666,"z":"524823bf.444cec","wires":[]},{"id":"9e506525.9bea18","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":5194.3326416015625,"y":4309.999956130981,"z":"524823bf.444cec","wires":[["1934a481.6ef3fb","14bde79e.ff4658"]]},{"id":"67da6050.3adcd","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value='`$error-message`' />\n","comments":"","x":5246.66650390625,"y":4814,"z":"524823bf.444cec","wires":[]},{"id":"fd099c22.a4e23","type":"set","name":"set resource-resolution-data.status = FAILED","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$ss.param.aai-vf-module-put-index].resource-resolution-data.status' \n\tvalue='FAILED' />\n","comments":"","x":5343.999664306641,"y":4761.666742801666,"z":"524823bf.444cec","wires":[]},{"id":"a60f99dd.e1d058","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":5032.6661376953125,"y":4761.999956130981,"z":"524823bf.444cec","wires":[["fd099c22.a4e23","67da6050.3adcd"]]},{"id":"fb48d6ab.a66378","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value='`$error-message`' />\n","comments":"","x":4840,"y":5235,"z":"524823bf.444cec","wires":[]},{"id":"af217b45.0fe058","type":"set","name":"set resource-resolution-data.status = FAILED","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$ss.param.aai-vf-module-put-index].resource-resolution-data.status' \n\tvalue='FAILED' />\n","comments":"","x":4937.333160400391,"y":5182.666742801666,"z":"524823bf.444cec","wires":[]},{"id":"ac545209.1b91c","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":4625.9996337890625,"y":5182.999956130981,"z":"524823bf.444cec","wires":[["af217b45.0fe058","fb48d6ab.a66378"]]},{"id":"eccada42.397178","type":"outcome","name":"nfc-naming-code","xml":"<outcome value='nfc-naming-code'>","comments":"","outputs":1,"x":2362.5714111328125,"y":976.5714206695557,"z":"524823bf.444cec","wires":[["64f27957.98e8c8"]]},{"id":"64f27957.98e8c8","type":"set","name":"set ss.param.vnfc-name, indexnfc-naming-code","xml":"<set>\n<parameter name='ss.param.nfc-naming-code' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].value`' />\n<parameter name='ss.param.nfc-naming-code-index' value='`$bidx`' />","comments":"","x":2759.3928833007812,"y":976.7500352859497,"z":"524823bf.444cec","wires":[]},{"id":"f98a6b07.b3e548","type":"outcome","name":"nfc-function","xml":"<outcome value='nfc-function'>","comments":"","outputs":1,"x":2347.2856941223145,"y":1018.0000076293945,"z":"524823bf.444cec","wires":[["a5021be7.dabd98"]]},{"id":"a5021be7.dabd98","type":"set","name":"set ss.param.nfc-function, index","xml":"<set>\n<parameter name='ss.param.nfc-function' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].value`' />\n<parameter name='ss.param.nfc-function-index' value='`$bidx`' />","comments":"","x":2709.5357246398926,"y":1018.0357933044434,"z":"524823bf.444cec","wires":[]},{"id":"3e646a4f.c19ee6","type":"outcome","name":"vnfc-model-customization-uuid","xml":"<outcome value='vnfc-model-customization-uuid'>","comments":"","outputs":1,"x":2406.714370727539,"y":1058.00004196167,"z":"524823bf.444cec","wires":[["4224c0ac.0d4d7"]]},{"id":"4224c0ac.0d4d7","type":"set","name":"set ss.param.vnfc-model-customization-uuid, index","xml":"<set>\n<parameter name='ss.param.vnfc-model-customization-uuid' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].value`' />\n<parameter name='ss.param.vnfc-model-customization-uuid-index' value='`$bidx`' />","comments":"","x":2766.964401245117,"y":1058.0358276367188,"z":"524823bf.444cec","wires":[]},{"id":"aaaeb0d5.b28f9","type":"outcome","name":"vnfc-model-invariant-uuid","xml":"<outcome value='vnfc-model-invariant-uuid'>","comments":"","outputs":1,"x":2391.428623199463,"y":1099.4286470413208,"z":"524823bf.444cec","wires":[["3b05fbcf.9991d4"]]},{"id":"3b05fbcf.9991d4","type":"set","name":"set ss.param.vnfc-model-invariant-uuid, index","xml":"<set>\n<parameter name='ss.param.vnfc-model-invariant-uuid' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].value`' />\n<parameter name='ss.param.vnfc-model-invariant-uuid-index' value='`$bidx`' />","comments":"","x":2750.678653717041,"y":1099.4644327163696,"z":"524823bf.444cec","wires":[]},{"id":"f7d4b22c.59a29","type":"outcome","name":"vnfc-model-version","xml":"<outcome value='vnfc-model-version'>","comments":"","outputs":1,"x":2371.857192993164,"y":1140.8572006225586,"z":"524823bf.444cec","wires":[["8994de63.27821"]]},{"id":"8994de63.27821","type":"set","name":"set ss.param.vnfc-model-version, index","xml":"<set>\n<parameter name='ss.param.vnfc-model-version' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].value`' />\n<parameter name='ss.param.vnfc-model-version-index' value='`$bidx`' />","comments":"","x":2732.107223510742,"y":1140.8929862976074,"z":"524823bf.444cec","wires":[]},{"id":"d2b7e17e.463ca","type":"set","name":"set TEST DATA","xml":"<set>\n<parameter name='vnf-index' value='0' />\n<parameter name='vf-module-index' value='0' />\n<parameter name='ss.capability-name' value='aai-vnf-put' />\n<parameter name='ss.capability-action' value='unassign' />\n<parameter name='service-data.vnfs.vnf[0].vnf-id' value = '7324200933' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vnf-topology.vnf-parameters-data.param[0].name' value = 'vnf_id' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vnf-topology.vnf-parameters-data.param[0].value' value = '7324200933' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vnf-topology.sdnc-generated-cloud-resources' value='true' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-topology.sdnc-generated-cloud-resources' value = 'true' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param_length' value = '34' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[0].name' value = 'vlan-tag-1' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[0].value' value = '${vlan-tag-1v}' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key[0].name' value = 'policy-instance-name' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key[0].value' value = 'JQIN1810SRIOV.Config_MS_SRIOV_VlanTag_1810_ADIOD_VPE.*' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key[1].name' value = 'resource-name' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key[1].value' value = 'vlan-tag-1' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key[2].name' value = 'resource-value' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key[2].value' value = '' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key[3].name' value = 'scope-id' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key[3].value' value = 'MTCLL2238F' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key[4].name' value = 'vlan-tag-key' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key[4].value' value = 'dvncom4003' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key[5].name' value = 'vlan-type' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key[5].value' value = 'vlan-id-outer' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key[6].name' value = 'vnfc-network-role' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key[6].value' value = 'network-role-1' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key_length' value = '7' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.status' value = 'SUCCESS' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.capability-name' value = 'mS-vlan-tag-assign' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[1].name' value = 'vlan-tag-2' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[1].value' value = 'manually-assigned-vlan-tag-2v' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key[0].name' value = 'policy-instance-name' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key[0].value' value = 'JQIN1810SRIOV.Config_MS_SRIOV_VlanTag_1810_ADIOD_VPE.*' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key[1].name' value = 'resource-name' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key[1].value' value = 'vlan-tag-2' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key[2].name' value = 'resource-value' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key[2].value' value = 'manually-assigned-vlan-tag-2v' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key[3].name' value = 'scope-id' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key[3].value' value = 'MTCLL2238F' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key[4].name' value = 'vlan-tag-key' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key[4].value' value = 'dvncom4003' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key[5].name' value = 'vlan-type' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key[5].value' value = 'vlan-id-filter' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key[6].name' value = 'vnfc-network-role' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key[6].value' value = 'network-role-2' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key_length' value = '7' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.status' value = 'SUCCESS' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.capability-name' value = 'INPUT' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[2].name' value = 'bogus1' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[2].value' value = 'bogus1' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[3].name' value = 'bogus2' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[3].value' value = 'bogus2' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[4].name' value = 'bogus3' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[4].value' value = 'bogus3' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[5].name' value = 'bogus4' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[5].value' value = 'bogus4' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[6].name' value = 'bogus5' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[6].value' value = 'bogus5' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[7].name' value = 'aic-cloud-region' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[7].value' value = 'mtn6' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[8].name' value = 'ipv4-loopback0-address' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[8].value' value = '1.1.1.1' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[9].name' value = 'ipv4-oam-address' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[9].value' value = '2.2.2.2' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[10].name' value = 'as-number' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[10].value' value = '11' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[11].name' value = 'vlan-id-outer' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[11].value' value = '[999]' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[12].name' value = 'vnf_id' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[12].value' value = '7324200933' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[13].name' value = 'vf_module_name' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[13].value' value = 'NEW_SELF_SERVE_VF_MODULE_TEST_1' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[14].name' value = 'volume-group-name' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[14].value' value = 'dummyvolumegroupname' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[15].name' value = 'volume_group_id' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[15].value' value = 'vg-1-999' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[16].name' value = 'vf_module_id' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[16].value' value = '7323683661' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[17].name' value = 'vf_module_id' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[17].value' value = '7323683661' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[18].name' value = 'vnfc-name' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[18].value' value = 'bogus-vnfc-name' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[19].name' value = 'vm_name' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[19].value' value = 'bogus-vnfc-name' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[20].name' value = 'vm-type' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[20].value' value = 'oam' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[21].name' value = 'nfc-function' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[21].value' value = 'data' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[22].name' value = 'nfc-naming-code' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[22].value' value = 'dummy-naming-code' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[23].name' value = 'vnfc-model-customization-uuid' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[23].value' value = 'bbbb-99999' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[24].name' value = 'vnfc-model-invariant-uuid' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[24].value' value = 'aaaaa-10000' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[25].name' value = 'vnfc-model-version' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[25].value' value = 'model1' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[26].name' value = 'oam-interface-name' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[26].value' value = 'oamintfname' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[27].name' value = 'lo0-interface-name' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[27].value' value = 'lo0intfname' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[28].name' value = 'sriov41_net_id' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[28].value' value = '4141414141' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[29].name' value = 'sriov42_net_id' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[29].value' value = '4242424242' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[30].name' value = 'sriov43_net_id' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[30].value' value = '4343434343' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[31].name' value = 'sriov44_net_id' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[31].value' value = '4444444444' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[32].name' value = 'sriov21_net_id' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[32].value' value = '2121212121' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[33].name' value = 'sriov22_net_id' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[33].value' value = '2222222222' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].onap-model-information.model-customization-uuid' value = 'bbbb-99999' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].onap-model-information.model-invariant-uuid' value = 'aaaaa-10000' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].onap-model-information.model-version' value = 'model1' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-type' value = 'oam' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-name' value = 'bogus-vnfc-name' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[0].vnfc-network-role' value = 'network-role-1' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[0].connection-point.connection-point-id' value = '789cddfa-58ba-4095-addc-8f7181186380' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[0].connection-point.vlan-data[0].vlan-role' value = '' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[0].connection-point.vlan-data[0].vlan-tag-description' value = 'VPE-Cust' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[0].connection-point.vlan-data[0].vlan-tag-id' value = '3553' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[0].connection-point.vlan-data[0].vlan-uuid' value = '56034624-9296-426c-8103-79a09c23e872' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[1].vnfc-network-role' value = 'network-role-2' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[1].connection-point.connection-point-id' value = 'd1bdc1ae-4e67-42c3-ad25-2051ddae65a7' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[1].connection-point.vlan-data[0].vlan-role' value = 'outer-tag' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[1].connection-point.vlan-data[0].vlan-tag-description' value = 'VPE-Cust-Outer' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[1].connection-point.vlan-data[0].vlan-tag-id' value = '3503' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[1].connection-point.vlan-data[0].vlan-uuid' value = 'fdc089af-0c00-41c0-a403-1501fb06909f' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[1].connection-point.vlan-data[1].vlan-role' value = 'outer-tag' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[1].connection-point.vlan-data[1].vlan-tag-description' value = 'VPE-Core1' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[1].connection-point.vlan-data[1].vlan-tag-id' value = '4001' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[1].connection-point.vlan-data[1].vlan-uuid' value = 'f48473ff-fc11-4c38-bcf7-7dec483d81da' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[1].connection-point.vlan-data[2].vlan-role' value = 'outer-tag' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[1].connection-point.vlan-data[2].vlan-tag-description' value = 'VPE-Core2' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[1].connection-point.vlan-data[2].vlan-tag-id' value = '4002' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[1].connection-point.vlan-data[2].vlan-uuid' value = '147afe9e-81d3-4872-a298-f470999ba915' />","comments":"","x":982.8571472167969,"y":84.28571224212646,"z":"524823bf.444cec","wires":[]},{"id":"a78794f6.2d8208","type":"outcome","name":"ipv4-loopback0-address","xml":"<outcome value='ipv4-loopback0-address'>","comments":"","outputs":1,"x":2388.28564453125,"y":1185.142822265625,"z":"524823bf.444cec","wires":[["d050efa1.3fd9c"]]},{"id":"d050efa1.3fd9c","type":"set","name":"set ipv4-loopback0-address, index","xml":"<set>\n<parameter name='ss.param.ipv4-loopback0-address' value ='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].value`' />\n<parameter name='ss.param.ipv4-loopback0-address-index' value='`bidx`' />","comments":"","x":2715.5356674194336,"y":1184.8928384780884,"z":"524823bf.444cec","wires":[]},{"id":"ae7cb398.3859a","type":"outcome","name":"vlan-id-outer","xml":"<outcome value='vlan-id-outer'>","comments":"","outputs":1,"x":2353.107093811035,"y":1271.9285898208618,"z":"524823bf.444cec","wires":[["31e3406f.a5656"]]},{"id":"1c25444.1b7e7bc","type":"outcome","name":"as-number","xml":"<outcome value='as-number'>","comments":"","outputs":1,"x":2347.8927841186523,"y":1229.7500009536743,"z":"524823bf.444cec","wires":[["dafeacf3.a6ef2"]]},{"id":"dafeacf3.a6ef2","type":"set","name":"set as-number, index","xml":"<set>\n<parameter name='ss.param.as-number' value ='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].value`' />\n<parameter name='ss.param.as-number-index' value='`$bidx`' />","comments":"","x":2676.3927612304688,"y":1230.2500019073486,"z":"524823bf.444cec","wires":[]},{"id":"31e3406f.a5656","type":"set","name":"set vlan-id-outer, index","xml":"<set>\n<parameter name='ss.param.vlan-id-outer' value ='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$bidx].value`' />\n<parameter name='ss.param.vlan-id-outer-index' value='`$bidx`' />","comments":"","x":2681.6070709228516,"y":1271.6785888671875,"z":"524823bf.444cec","wires":[]},{"id":"a2a64ba5.6c0a88","type":"set","name":"set ss.param.vnf-id","xml":"<set>\n<parameter name='ss.param.vnf-id' value ='`$service-data.vnfs.vnf[$vnf-index].vnf-id`' />","comments":"","x":1258.3332595825195,"y":456.6666440963745,"z":"524823bf.444cec","wires":[]},{"id":"7e37d15c.cafa2","type":"execute","name":"execute PropertiesNode","xml":"<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n","comments":"","outputs":1,"x":1004.9999389648438,"y":133.3333282470703,"z":"524823bf.444cec","wires":[[]]},{"id":"7c1bb7a3.c8fe58","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":768.3332595825195,"y":106.66666221618652,"z":"524823bf.444cec","wires":[["d2b7e17e.463ca","7e37d15c.cafa2"]]},{"id":"c9980874.2e80a8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'volume-group not found in AnAI with volume-group-id=' + $ss.param.volume-group-id + $error-message`\" />\n","comments":"","x":1532.9998817443848,"y":2491.66654586792,"z":"524823bf.444cec","wires":[]},{"id":"89b93f84.5210a","type":"save","name":"get volume-group","xml":"<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"volume-group\"\n\t\tkey=\"cloud-region.cloud-owner = $prop.cloud-owner  \n\t\t\tAND cloud-region.cloud-region-id = $ss.param.aic-cloud-region \n\t\t\tAND cloud-region.cloud-owner = $prop.cloud-region.cloud-owner \n\t\t\tAND volume-group-id = $ss.param.volume-group-id\" \n\tpfx=\"tmp.aai.volume-group\" >\n","comments":"","outputs":1,"x":975.5833892822266,"y":2401.3807277679443,"z":"524823bf.444cec","wires":[["1ba7d2b9.793a8d","f08fe6c7.f88658"]]},{"id":"1ba7d2b9.793a8d","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1164.8333740234375,"y":2400.880672454834,"z":"524823bf.444cec","wires":[["15f801c2.86663e"]]},{"id":"f08fe6c7.f88658","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1172.5118560791016,"y":2456.9163637161255,"z":"524823bf.444cec","wires":[["6dc14100.e2282"]]},{"id":"24ca8e9e.4a7fd2","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'Failed to get volume-group in AnAI with volume-group-id = ' + $ss.param.volume-group-id + $error-message`\" />\n","comments":"","x":1533.1308631896973,"y":2436.8807792663574,"z":"524823bf.444cec","wires":[]},{"id":"15f801c2.86663e","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1336.797622680664,"y":2401.3808364868164,"z":"524823bf.444cec","wires":[["24ca8e9e.4a7fd2","e78b7b3c.7d8ae8"]]},{"id":"6dc14100.e2282","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1337.0476036071777,"y":2456.8808155059814,"z":"524823bf.444cec","wires":[["c9980874.2e80a8","e78b7b3c.7d8ae8"]]}]