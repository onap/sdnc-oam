[
    {
        "id": "5597755d.1ce774",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 147,
        "y": 107,
        "z": "2d4ea144.5587f6",
        "wires": [
            [
                "8d0fd3e7.a3b7e8"
            ]
        ]
    },
    {
        "id": "8d0fd3e7.a3b7e8",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 431.2856903076172,
        "y": 168.23810863494873,
        "z": "2d4ea144.5587f6",
        "wires": [
            [
                "86b46a27.ca39b8"
            ]
        ]
    },
    {
        "id": "86b46a27.ca39b8",
        "type": "method",
        "name": "method cll-vnf-topology-operation-cll-helper-find-ROOT-conn",
        "xml": "<method rpc='cll-vnf-topology-operation-cll-helper-find-ROOT-conn' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 386.4285888671875,
        "y": 260.0000305175781,
        "z": "2d4ea144.5587f6",
        "wires": [
            [
                "15886f7b.32e089"
            ]
        ]
    },
    {
        "id": "15886f7b.32e089",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 747.238037109375,
        "y": 244.66668701171875,
        "z": "2d4ea144.5587f6",
        "wires": [
            [
                "6bd3471b.bd1a98",
                "5dece674.dd027",
                "4d1bc5df.1d031c"
            ]
        ]
    },
    {
        "id": "6bd3471b.bd1a98",
        "type": "save",
        "name": "get all-connectivities from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"connectivities\"\n\t    key=\"selflink = 'https://aai.onap:8443/aai/v24/network/connectivities/'\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.helper-root-all-connectivities\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 232,
        "y": 430,
        "z": "2d4ea144.5587f6",
        "wires": [
            [
                "92e14f80.21594",
                "b9796c74.99212",
                "e5bd0a99.00585"
            ]
        ]
    },
    {
        "id": "92e14f80.21594",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 476,
        "y": 390,
        "z": "2d4ea144.5587f6",
        "wires": [
            [
                "61e9ae11.23c3a8"
            ]
        ]
    },
    {
        "id": "b9796c74.99212",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 473.490966796875,
        "y": 439.57403564453125,
        "z": "2d4ea144.5587f6",
        "wires": [
            [
                "cd38df9d.37406"
            ]
        ]
    },
    {
        "id": "e5bd0a99.00585",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 471,
        "y": 482,
        "z": "2d4ea144.5587f6",
        "wires": [
            [
                "62703aa0.44322c"
            ]
        ]
    },
    {
        "id": "61e9ae11.23c3a8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 624,
        "y": 391,
        "z": "2d4ea144.5587f6",
        "wires": [
            [
                "ca24c19f.cdc85"
            ]
        ]
    },
    {
        "id": "cd38df9d.37406",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 623.0623779296875,
        "y": 439.8597717285156,
        "z": "2d4ea144.5587f6",
        "wires": []
    },
    {
        "id": "62703aa0.44322c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 622,
        "y": 479,
        "z": "2d4ea144.5587f6",
        "wires": []
    },
    {
        "id": "ca24c19f.cdc85",
        "type": "for",
        "name": "for helprconnidx in all-connectivities",
        "xml": "<for index='helprconnidx' start='0' end='`$tmp.aai.helper-root-all-connectivities.connectivity_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 871,
        "y": 386,
        "z": "2d4ea144.5587f6",
        "wires": [
            [
                "380582c8.7d331e"
            ]
        ]
    },
    {
        "id": "380582c8.7d331e",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1118,
        "y": 392,
        "z": "2d4ea144.5587f6",
        "wires": [
            [
                "174c6173.8ff53f"
            ]
        ]
    },
    {
        "id": "206a627e.5c0d46",
        "type": "switchNode",
        "name": "switch color-aware is ROOT?",
        "xml": "\n<switch test=\"`$tmp.aai.helper-root-all-connectivities.connectivity[$helprconnidx].color-aware == $tmp.ROOT.uni-p-interface-long`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 312,
        "y": 641,
        "z": "2d4ea144.5587f6",
        "wires": [
            [
                "463cdf78.946e4"
            ]
        ]
    },
    {
        "id": "463cdf78.946e4",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 521,
        "y": 635,
        "z": "2d4ea144.5587f6",
        "wires": [
            [
                "65cbe881.f7d1b"
            ]
        ]
    },
    {
        "id": "65cbe881.f7d1b",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 678,
        "y": 635,
        "z": "2d4ea144.5587f6",
        "wires": [
            [
                "ba048fa4.246cf8",
                "34ebbdc4.bca6fa",
                "3a84227a.7da866"
            ]
        ]
    },
    {
        "id": "5dece674.dd027",
        "type": "set",
        "name": "unset found-root-connectivity",
        "xml": "<set>\n<parameter name='found-root-connectivity' value=\"false\" />\n",
        "comments": "",
        "x": 990,
        "y": 159,
        "z": "2d4ea144.5587f6",
        "wires": []
    },
    {
        "id": "ba048fa4.246cf8",
        "type": "set",
        "name": "set found-root-connectivity=true",
        "xml": "<set>\n<parameter name='found-root-connectivity' value=\"true\" />\n",
        "comments": "",
        "x": 939,
        "y": 583,
        "z": "2d4ea144.5587f6",
        "wires": []
    },
    {
        "id": "34ebbdc4.bca6fa",
        "type": "set",
        "name": "set tmp.aai.ROOT.connectivity.",
        "xml": "<set>\n<parameter name='tmp.aai.ROOT.connectivity.' value=\"`$tmp.aai.helper-root-all-connectivities.connectivity[$helprconnidx].`\" />\n",
        "comments": "",
        "x": 942,
        "y": 636,
        "z": "2d4ea144.5587f6",
        "wires": []
    },
    {
        "id": "4d1bc5df.1d031c",
        "type": "set",
        "name": "unset tmp.aai.ROOT.connectivity.",
        "xml": "<set>\n<parameter name='tmp.aai.ROOT.connectivity.' value=\"\" />\n",
        "comments": "",
        "x": 1008,
        "y": 203,
        "z": "2d4ea144.5587f6",
        "wires": []
    },
    {
        "id": "3a84227a.7da866",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 870,
        "y": 699,
        "z": "2d4ea144.5587f6",
        "wires": []
    },
    {
        "id": "174c6173.8ff53f",
        "type": "switchNode",
        "name": "switch conn type",
        "xml": "<switch test=\"`$tmp.aai.helper-root-all-connectivities.connectivity[$helprconnidx].vpn-type`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 923.88330078125,
        "y": 480.88330078125,
        "z": "2d4ea144.5587f6",
        "wires": [
            [
                "466114cf.ced6ec"
            ]
        ]
    },
    {
        "id": "466114cf.ced6ec",
        "type": "outcome",
        "name": "root",
        "xml": "<outcome value='root'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1083.88330078125,
        "y": 482.8833312988281,
        "z": "2d4ea144.5587f6",
        "wires": [
            [
                "64ce81d.c0f0f"
            ]
        ]
    },
    {
        "id": "64ce81d.c0f0f",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1226.88330078125,
        "y": 484.8833312988281,
        "z": "2d4ea144.5587f6",
        "wires": [
            [
                "206a627e.5c0d46"
            ]
        ]
    }
]