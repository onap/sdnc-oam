[
    {
        "id": "4ee6b24.013d9cc",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 163,
        "y": 91,
        "z": "1453a3a4.2dddfc",
        "wires": [
            [
                "42ee2cb2.8b0aa4"
            ]
        ]
    },
    {
        "id": "42ee2cb2.8b0aa4",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 447.2856903076172,
        "y": 152.23810863494873,
        "z": "1453a3a4.2dddfc",
        "wires": [
            [
                "2d8be51e.1fe5b2"
            ]
        ]
    },
    {
        "id": "2d8be51e.1fe5b2",
        "type": "method",
        "name": "method cll-vnf-topology-operation-cll-helper-find-connectivity",
        "xml": "<method rpc='cll-vnf-topology-operation-cll-helper-find-connectivity' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 402.4285888671875,
        "y": 244.00003051757812,
        "z": "1453a3a4.2dddfc",
        "wires": [
            [
                "44543bcb.341e5c"
            ]
        ]
    },
    {
        "id": "44543bcb.341e5c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 763.238037109375,
        "y": 228.66668701171875,
        "z": "1453a3a4.2dddfc",
        "wires": [
            [
                "93197478.d2fae",
                "eb6c2023.7ef7a",
                "d72f415d.01bc08"
            ]
        ]
    },
    {
        "id": "93197478.d2fae",
        "type": "save",
        "name": "get all-connectivities from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"connectivities\"\n\t    key=\"selflink = 'https://aai.onap:8443/aai/v24/network/connectivities/'\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.helper-all-connectivities\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 248,
        "y": 414,
        "z": "1453a3a4.2dddfc",
        "wires": [
            [
                "3210bd43.c197f2",
                "cb92b047.8ddef8",
                "39efd1fc.091d56"
            ]
        ]
    },
    {
        "id": "3210bd43.c197f2",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 492,
        "y": 374,
        "z": "1453a3a4.2dddfc",
        "wires": [
            [
                "b85791e3.02f868"
            ]
        ]
    },
    {
        "id": "cb92b047.8ddef8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 489.490966796875,
        "y": 423.57403564453125,
        "z": "1453a3a4.2dddfc",
        "wires": [
            [
                "7f9747fb.6ed01"
            ]
        ]
    },
    {
        "id": "39efd1fc.091d56",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 487,
        "y": 466,
        "z": "1453a3a4.2dddfc",
        "wires": [
            [
                "d53ce1e7.42a2c"
            ]
        ]
    },
    {
        "id": "b85791e3.02f868",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 640,
        "y": 375,
        "z": "1453a3a4.2dddfc",
        "wires": [
            [
                "538f3beb.2d964c"
            ]
        ]
    },
    {
        "id": "7f9747fb.6ed01",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 639.0623779296875,
        "y": 423.8597717285156,
        "z": "1453a3a4.2dddfc",
        "wires": []
    },
    {
        "id": "d53ce1e7.42a2c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 638,
        "y": 463,
        "z": "1453a3a4.2dddfc",
        "wires": []
    },
    {
        "id": "538f3beb.2d964c",
        "type": "for",
        "name": "for helpconnidx in all-connectivities",
        "xml": "<for index='helpconnidx' start='0' end='`$tmp.aai.helper-all-connectivities.connectivity_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 887,
        "y": 370,
        "z": "1453a3a4.2dddfc",
        "wires": [
            [
                "344678ba.b7f29"
            ]
        ]
    },
    {
        "id": "344678ba.b7f29",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1134,
        "y": 376,
        "z": "1453a3a4.2dddfc",
        "wires": [
            [
                "d48cc8ae.307b68"
            ]
        ]
    },
    {
        "id": "d48cc8ae.307b68",
        "type": "switchNode",
        "name": "switch current provider-id?",
        "xml": "\n<switch test=\"`$tmp.current-provider-id == $tmp.aai.helper-all-connectivities.connectivity[$helpconnidx].access-provider-id`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 328,
        "y": 625,
        "z": "1453a3a4.2dddfc",
        "wires": [
            [
                "bc092a3b.859928"
            ]
        ]
    },
    {
        "id": "bc092a3b.859928",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 537,
        "y": 619,
        "z": "1453a3a4.2dddfc",
        "wires": [
            [
                "121a7afe.07beb5"
            ]
        ]
    },
    {
        "id": "121a7afe.07beb5",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 694,
        "y": 619,
        "z": "1453a3a4.2dddfc",
        "wires": [
            [
                "7603071b.598a38"
            ]
        ]
    },
    {
        "id": "7603071b.598a38",
        "type": "switchNode",
        "name": "switch current-cvlan-id?",
        "xml": "\n<switch test=\"`$tmp.current-cvlan-id == $tmp.aai.helper-all-connectivities.connectivity[$helpconnidx].cvlan`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 320,
        "y": 713,
        "z": "1453a3a4.2dddfc",
        "wires": [
            [
                "e6157f7f.780a28"
            ]
        ]
    },
    {
        "id": "e6157f7f.780a28",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 529,
        "y": 707,
        "z": "1453a3a4.2dddfc",
        "wires": [
            [
                "4bd1a2a7.9f2d14"
            ]
        ]
    },
    {
        "id": "eb6c2023.7ef7a",
        "type": "set",
        "name": "unset found-connectivity",
        "xml": "<set>\n<parameter name='found-connectivity' value=\"false\" />\n",
        "comments": "",
        "x": 1006,
        "y": 143,
        "z": "1453a3a4.2dddfc",
        "wires": []
    },
    {
        "id": "c418ca90.026d18",
        "type": "set",
        "name": "set found-connectivity=true",
        "xml": "<set>\n<parameter name='found-connectivity' value=\"true\" />\n",
        "comments": "",
        "x": 935,
        "y": 707,
        "z": "1453a3a4.2dddfc",
        "wires": []
    },
    {
        "id": "4bd1a2a7.9f2d14",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 697,
        "y": 708,
        "z": "1453a3a4.2dddfc",
        "wires": [
            [
                "c418ca90.026d18",
                "cce4f57f.9fec88",
                "cc11b7b4.773dc8"
            ]
        ]
    },
    {
        "id": "cce4f57f.9fec88",
        "type": "set",
        "name": "set the-connectivity",
        "xml": "<set>\n<parameter name='tmp.the-connectivity.' value=\"`$tmp.aai.helper-all-connectivities.connectivity[$helpconnidx].`\" />\n",
        "comments": "",
        "x": 916,
        "y": 763,
        "z": "1453a3a4.2dddfc",
        "wires": []
    },
    {
        "id": "d72f415d.01bc08",
        "type": "set",
        "name": "unset tmp.the-connectivity.",
        "xml": "<set>\n<parameter name='tmp.the-connectivity.' value=\"\" />\n",
        "comments": "",
        "x": 1010,
        "y": 187,
        "z": "1453a3a4.2dddfc",
        "wires": []
    },
    {
        "id": "cc11b7b4.773dc8",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 877,
        "y": 814,
        "z": "1453a3a4.2dddfc",
        "wires": []
    }
]