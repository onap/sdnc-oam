[
    {
        "id": "c958c928.fc7fe",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 157.88330078125,
        "y": 156.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "8b28c589.12d4a8"
            ]
        ]
    },
    {
        "id": "8b28c589.12d4a8",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 456.1690216064453,
        "y": 212.52387523651123,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "39af1a7f.521d1e"
            ]
        ]
    },
    {
        "id": "39af1a7f.521d1e",
        "type": "method",
        "name": "method cll-vnf-topology-operation-cll-delete",
        "xml": "<method rpc='cll-vnf-topology-operation-cll-delete' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 462.3119354248047,
        "y": 297.2857971191406,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "7656a28c.ac0ab4"
            ]
        ]
    },
    {
        "id": "7656a28c.ac0ab4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 811.8833312988281,
        "y": 356.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "fdfa5720.e8c418",
                "3ac5985c.f18eb8",
                "9905a45e.0c7298"
            ]
        ]
    },
    {
        "id": "fdfa5720.e8c418",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 1113.2168273925781,
        "y": 627.216064453125,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "3ac5985c.f18eb8",
        "type": "save",
        "name": "get service-instance from aai",
        "xml": "<!--<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" -->\n<!--\tresource=\"service-instance\"-->\n<!--\tkey='service-instance.service-instance-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.service-instance-id-->\n<!--         AND customer.global-customer-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.global-customer-id -->\n<!--         AND service-subscription.service-type = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.subscription-service-type'-->\n<!--\tlocal-only=\"false\"-->\n<!--\tforce=\"true\" pfx=\"tmp.aai.service-instance\">-->\n\n<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"service-instance\"\n\tkey='service-instance.service-instance-id = $vnf-topology-operation-input.service-information.service-instance-id\n         AND customer.global-customer-id = $vnf-topology-operation-input.service-information.global-customer-id \n         AND service-subscription.service-type = $vnf-topology-operation-input.service-information.subscription-service-type'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.service-instance\">\n\n\n<!--<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" -->\n<!--\tresource=\"service-instance\"-->\n<!--\tkey='service-instance.service-instance-id = $service-data.service-information.service-instance-id-->\n<!--         AND customer.global-customer-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.global-customer-id -->\n<!--         AND service-subscription.service-type = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.subscription-service-type'-->\n<!--\tlocal-only=\"false\"-->\n<!--\tforce=\"true\" pfx=\"tmp.aai.service-instance\">-->",
        "comments": "",
        "outputs": 1,
        "x": 1134.6452941894531,
        "y": 329.61907958984375,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "af28127c.d820d8",
                "63469daf.849ae4",
                "71a31314.344984"
            ]
        ]
    },
    {
        "id": "af28127c.d820d8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1359.6452941894531,
        "y": 187.61907958984375,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "a801d61e.c75b88"
            ]
        ]
    },
    {
        "id": "63469daf.849ae4",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1355.1362609863281,
        "y": 257.193115234375,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "3d43dcc5.27db6c"
            ]
        ]
    },
    {
        "id": "71a31314.344984",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1343.6452941894531,
        "y": 303.61907958984375,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "858124ec.81d0f8"
            ]
        ]
    },
    {
        "id": "d6a6cf8b.cb8788",
        "type": "comment",
        "name": "new for TransportSlicing",
        "info": "",
        "comments": "",
        "x": 1113.6452941894531,
        "y": 217.61907958984375,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "9905a45e.0c7298",
        "type": "execute",
        "name": "execute properties",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />",
        "comments": "",
        "outputs": 1,
        "x": 1101.6452941894531,
        "y": 269.61907958984375,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "a801d61e.c75b88",
        "type": "switchNode",
        "name": "switch allotted-resources_length != 0",
        "xml": "<switch test='`$tmp.aai.service-instance.allotted-resources.allotted-resource_length != 0`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1599.8833312988281,
        "y": 184.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "e0f3a386.0fe6",
                "301731c1.c04b8e"
            ]
        ]
    },
    {
        "id": "3d43dcc5.27db6c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 1509.9457092285156,
        "y": 260.1455383300781,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "858124ec.81d0f8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 1513.8833312988281,
        "y": 304.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "e0f3a386.0fe6",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1804.8833312988281,
        "y": 221.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "128d7cd4.e28ffb"
            ]
        ]
    },
    {
        "id": "301731c1.c04b8e",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1814.8833312988281,
        "y": 148.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "128d7cd4.e28ffb",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1797.8833312988281,
        "y": 296.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "1f66e7ef.b5efe",
                "b392bf29.b70228",
                "49e6917b.6d0138",
                "391971a2.696836",
                "7226ce6d.bf87d8"
            ]
        ]
    },
    {
        "id": "c1485ca8.2ec768",
        "type": "save",
        "name": "get allotted-resource from aai",
        "xml": "<!--<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" -->\n<!--\tresource=\"allotted-resource\"-->\n<!--\tkey='service-instance.service-instance-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.service-instance-id-->\n<!--         AND customer.global-customer-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.global-customer-id -->\n<!--         AND service-subscription.service-type = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.subscription-service-type-->\n<!--         AND allotted-resource.id = $allotted-resource-id'-->\n<!--\tlocal-only=\"false\"-->\n<!--\tforce=\"true\" pfx=\"tmp.aai.allotted-resource\">-->\n\n<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"allotted-resource\"\n\tkey='service-instance.service-instance-id = $vnf-topology-operation-input.service-information.service-instance-id\n         AND customer.global-customer-id = $vnf-topology-operation-input.service-information.global-customer-id \n         AND service-subscription.service-type = $vnf-topology-operation-input.service-information.subscription-service-type\n         AND allotted-resource.id = $allotted-resource-id'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.allotted-resource\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2283.883331298828,
        "y": 347.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "42d08205.101f24",
                "280ca852.5c8478",
                "9260e446.97cb2"
            ]
        ]
    },
    {
        "id": "42d08205.101f24",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2499.883331298828,
        "y": 414.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "1cda58ca.c0ca0f"
            ]
        ]
    },
    {
        "id": "280ca852.5c8478",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2500.374298095703,
        "y": 313.8597412109375,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "37d08b63.267f54"
            ]
        ]
    },
    {
        "id": "9260e446.97cb2",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2495.883331298828,
        "y": 363.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "3db04a4.fcc1db6"
            ]
        ]
    },
    {
        "id": "1f66e7ef.b5efe",
        "type": "for",
        "name": "for each allotted-resource",
        "xml": "<for index='aridx' start='0' end='`$tmp.aai.service-instance.allotted-resources.allotted-resource_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2000.8833312988281,
        "y": 328.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "ae5848cb.e1b328",
                "c1485ca8.2ec768",
                "c9139602.db9618",
                "aadbe6b3.d2bba"
            ]
        ]
    },
    {
        "id": "ae5848cb.e1b328",
        "type": "set",
        "name": "set the current allotted-resource-id",
        "xml": "<set>\n<parameter name='allotted-resource-id' value=\"`$tmp.aai.service-instance.allotted-resources.allotted-resource[$aridx].id`\" />\n\n\n",
        "comments": "",
        "x": 2280.883331298828,
        "y": 266.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "391971a2.696836",
        "type": "set",
        "name": "set tmp.arr",
        "xml": "<set>\n<parameter name='tmp.arr' value='' />\n<parameter name='tmp.arridx' value='0' />\n<parameter name='tmp.arr_length' value='0' />\n\n<parameter name='otn-tunnel-slice' value='' />\n<parameter name='otn-tunnel-slice_length' value='0' />\n\n<!--<parameter name='tmp.slicevpns' value='' />-->\n<!--<parameter name='tmp.slicevpns_length' value='0' />-->\n\n<!--<parameter name='tmp.slicevpnuuids' value='' />-->\n<!--<parameter name='tmp.slicevpnuuids.' value='' />-->\n\n\n",
        "comments": "",
        "x": 1974.8833312988281,
        "y": 278.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "b392bf29.b70228",
        "type": "get-resource",
        "name": "get-resource pnfs-list",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"pnfs\"\n\t    key=\"selflink = 'https://aai.onap:8443/aai/v24/network/pnfs?depth=0'\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"ccsdkTopopnfs\" >",
        "comments": "",
        "outputs": 1,
        "x": 2017.8833312988281,
        "y": 137.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "49e6917b.6d0138",
        "type": "get-resource",
        "name": "get-resource logical-links",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"logical-links\"\n\t    key=\"selflink = 'https://aai.onap:8443/aai/v24/network/logical-links?depth=0'\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"ccsdkTopologicalLinks\" >",
        "comments": "",
        "outputs": 1,
        "x": 2029.8833312988281,
        "y": 178.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "33859df.81a8362",
        "type": "comment",
        "name": "The following two nodes are for PCE",
        "info": "",
        "comments": "",
        "x": 2054.883331298828,
        "y": 90.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "16362fdd.257198",
        "type": "set",
        "name": "set tmp.arr",
        "xml": "<set>\n<parameter name='tmp.arr.' value='' />\n<parameter name='tmp.arridx' value='0' />\n<parameter name='otn-tunnel-slice.' value='' />\n\n\n",
        "comments": "",
        "x": 1974.8833312988281,
        "y": 224.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "37d08b63.267f54",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 2678.883331298828,
        "y": 316.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "3db04a4.fcc1db6",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 2678.820831298828,
        "y": 365.426025390625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "1cda58ca.c0ca0f",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2680.820831298828,
        "y": 416.426025390625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "8ac18ed0.a417b8"
            ]
        ]
    },
    {
        "id": "8ac18ed0.a417b8",
        "type": "save",
        "name": "get allotted-resource relationship from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"allotted-resource:relationship-list\"\n\tkey='service-instance.service-instance-id = $vnf-topology-operation-input.service-information.service-instance-id\n         AND customer.global-customer-id = $vnf-topology-operation-input.service-information.global-customer-id \n         AND service-subscription.service-type = $vnf-topology-operation-input.service-information.subscription-service-type\n         AND allotted-resource.id = $allotted-resource-id'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.allotted-resource.relationship-list\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2973.820831298828,
        "y": 363.426025390625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "2f801aa3.62899e",
                "8d0c42c.041064",
                "39093638.1e8092"
            ]
        ]
    },
    {
        "id": "8d0c42c.041064",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3277.311767578125,
        "y": 20,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "25cca067.117fb8"
            ]
        ]
    },
    {
        "id": "25cca067.117fb8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 3454.88330078125,
        "y": 20.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "39093638.1e8092",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3272.82080078125,
        "y": 69.426025390625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "45859305.7fd9ac"
            ]
        ]
    },
    {
        "id": "45859305.7fd9ac",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 3454.82080078125,
        "y": 69.426025390625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "2f801aa3.62899e",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3276.82080078125,
        "y": 120.426025390625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "6880d10c.55d838"
            ]
        ]
    },
    {
        "id": "6880d10c.55d838",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3456.82080078125,
        "y": 120.426025390625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "e9027b62.9e003"
            ]
        ]
    },
    {
        "id": "e9027b62.9e003",
        "type": "switchNode",
        "name": "switch allotted-resource.relationship-list not empty",
        "xml": "<switch test='`$tmp.aai.allotted-resource.relationship-list.relationship_length != 0`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2992.883331298828,
        "y": 491.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "72fd55d0.427e94",
                "bb0cc7e.bea8238"
            ]
        ]
    },
    {
        "id": "bb0cc7e.bea8238",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3332.88330078125,
        "y": 262.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "72fd55d0.427e94",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3331.88330078125,
        "y": 316.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "32c96151.c1aa2e"
            ]
        ]
    },
    {
        "id": "a8b50f84.db474",
        "type": "outcome",
        "name": "network-policy",
        "xml": "<outcome value='network-policy'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4076.88330078125,
        "y": 270.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "9b999d2e.09c6d8"
            ]
        ]
    },
    {
        "id": "9b999d2e.09c6d8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4253.8831787109375,
        "y": 263.28564453125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "13e93d82.810a42",
                "3997cabd.9c2abe"
            ]
        ]
    },
    {
        "id": "32c96151.c1aa2e",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3495.88330078125,
        "y": 242.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "6a03759c.b65ec4",
                "2a091548.5d967a"
            ]
        ]
    },
    {
        "id": "6a03759c.b65ec4",
        "type": "for",
        "name": "for each allotted-resource relationship",
        "xml": "<for index='idx' start='0' end='`$tmp.aai.allotted-resource.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3776.88330078125,
        "y": 198.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "6d840347.ad0de4"
            ]
        ]
    },
    {
        "id": "6d840347.ad0de4",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.allotted-resource.relationship-list.relationship[$idx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4038.88330078125,
        "y": 198.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "a8b50f84.db474"
            ]
        ]
    },
    {
        "id": "13e93d82.810a42",
        "type": "set",
        "name": "set the 1st network-policy-id",
        "xml": "<set>\n<parameter name='network-policy-id' value=\"`$tmp.aai.allotted-resource.relationship-list.relationship[$idx].relationship-data[0].relationship-value`\" />\n\n\n",
        "comments": "",
        "x": 4496.8831787109375,
        "y": 220.28564453125,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "3997cabd.9c2abe",
        "type": "save",
        "name": "get network-policy from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"network-policy\"\n\tkey='network-policy.network-policy-id = $network-policy-id'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.network-policy\">",
        "comments": "",
        "outputs": 1,
        "x": 4485.8831787109375,
        "y": 275.28564453125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "1629cf91.336928",
                "7e24e3bc.4dd5bc",
                "e3d66604.874708"
            ]
        ]
    },
    {
        "id": "e3d66604.874708",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4738.88330078125,
        "y": 161.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "9dd0299.013fdd8"
            ]
        ]
    },
    {
        "id": "9dd0299.013fdd8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 4887.454833984375,
        "y": 161.571533203125,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "1b29ba86.57c2a5",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 4886.392333984375,
        "y": 205.7117919921875,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "7e24e3bc.4dd5bc",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4727.392333984375,
        "y": 205.7117919921875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "1b29ba86.57c2a5"
            ]
        ]
    },
    {
        "id": "1629cf91.336928",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4734.392333984375,
        "y": 284.7117919921875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "b86241e1.90f6f"
            ]
        ]
    },
    {
        "id": "b86241e1.90f6f",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4873.392333984375,
        "y": 284.7117919921875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "6d437f62.f0b9e8",
                "c60cac93.77d028"
            ]
        ]
    },
    {
        "id": "6d437f62.f0b9e8",
        "type": "set",
        "name": "set the max bandwidth",
        "xml": "<set>\n<parameter name='maximum-bandwidth' value=\"`$tmp.aai.network-policy.max-bandwidth`\" />\n<parameter name='route-distinguisher' value='`$maximum-bandwidth /1000 *4 /5 +1`' />\n\n\n\n",
        "comments": "",
        "x": 5078.88330078125,
        "y": 282.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "c60cac93.77d028",
        "type": "set",
        "name": "set the max bandwidth",
        "xml": "<set>\n<parameter name='gfp' value='`$maximum-bandwidth /1000 *4 /5 +1`' />\n\n\n\n",
        "comments": "",
        "x": 5077.88330078125,
        "y": 328.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "2a091548.5d967a",
        "type": "for",
        "name": "for each allotted-resource relationship",
        "xml": "<for index='idx' start='0' end='`$tmp.aai.allotted-resource.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3593.88330078125,
        "y": 314.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "2f22efb0.7f6638"
            ]
        ]
    },
    {
        "id": "2f22efb0.7f6638",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.allotted-resource.relationship-list.relationship[$idx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3873.88330078125,
        "y": 314.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "a8ed1762.dadd28"
            ]
        ]
    },
    {
        "id": "a8ed1762.dadd28",
        "type": "outcome",
        "name": "logical-link",
        "xml": "<outcome value='logical-link'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2256.8834533691406,
        "y": 803.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "d4da35fd.31c82"
            ]
        ]
    },
    {
        "id": "d4da35fd.31c82",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2433.883331298828,
        "y": 796.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "de7b00e3.6a171",
                "e6ab014c.406db"
            ]
        ]
    },
    {
        "id": "de7b00e3.6a171",
        "type": "set",
        "name": "set the current logical-link-name",
        "xml": "<set>\n<parameter name='logical-link-name' value=\"`$tmp.aai.allotted-resource.relationship-list.relationship[$idx].relationship-data[0].relationship-value`\" />\n\n\n",
        "comments": "",
        "x": 2676.883331298828,
        "y": 753.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "e6ab014c.406db",
        "type": "save",
        "name": "get logical-link from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"logical-link\"\n\tkey='logical-link.link-name = $logical-link-name'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.logical-link\">",
        "comments": "",
        "outputs": 1,
        "x": 2665.883331298828,
        "y": 808.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "5a07beae.8794d8",
                "1d7b95c6.606562",
                "7f820a8.8f172f4"
            ]
        ]
    },
    {
        "id": "5a07beae.8794d8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2957.374298095703,
        "y": 786.8597412109375,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "ae195dbf.1750f"
            ]
        ]
    },
    {
        "id": "1d7b95c6.606562",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2945.883331298828,
        "y": 831.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "f12ba9c8.9a28f8"
            ]
        ]
    },
    {
        "id": "ae195dbf.1750f",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 3105.945831298828,
        "y": 787.1455078125,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "f12ba9c8.9a28f8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 3104.883331298828,
        "y": 831.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "7f820a8.8f172f4",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2952.883331298828,
        "y": 910.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "344a6e64.f3725a"
            ]
        ]
    },
    {
        "id": "344a6e64.f3725a",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3091.883331298828,
        "y": 910.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "fb96464b.51f05",
                "51750f01.3f406",
                "63f47c85.a7fa6c",
                "96258457.425ae8",
                "f469e44d.0f84d",
                "f7610f35.e81b98",
                "d89362f7.406e48",
                "87d9c57.361fa38",
                "ab43f120.02b19",
                "7042856b.1828cc",
                "f434b230.257eb8",
                "2ac41e54.9dfb2a",
                "ebbe2f0a.10f36",
                "7162acbd.73776c",
                "2683d5ea.5fda52",
                "da74bb6.e442948",
                "feffc86e.486bc",
                "12bfceb8.d75889",
                "3b541994.2db38e",
                "b3267f6f.ff1998",
                "729e2fc5.81fb",
                "62f42d2.2eff654"
            ]
        ]
    },
    {
        "id": "e06cec26.4f9a08",
        "type": "execute",
        "name": "execute UUID generator for ethernet-service-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.ethernet-service-name\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3435.883270263672,
        "y": 384.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "fb96464b.51f05",
        "type": "execute",
        "name": "execute UUID generator for otn-tunnel-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.otn-tunnel-name\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3416.883270263672,
        "y": 484.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "2ac41e54.9dfb2a",
        "type": "set",
        "name": "set new ethernet-service-name",
        "xml": "<set>\n<!--<parameter name='prop.ethernet-service-name' value=\"`$tmp.aai.logical-link.link-name`\" />-->\n<parameter name='prop.ethernet-service-name' value=\"`$tmp.aai.logical-link.link-id`\" />\n\n\n",
        "comments": "",
        "x": 3370.883270263672,
        "y": 535.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "51750f01.3f406",
        "type": "set",
        "name": "set network-route-one",
        "xml": "<set>\n<parameter name='network-route-one' value=\"`$tmp.aai.logical-link.link-name`\" />\n\n\n",
        "comments": "",
        "x": 3344.883270263672,
        "y": 584.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "63f47c85.a7fa6c",
        "type": "set",
        "name": "set network-route-two",
        "xml": "<set>\n<parameter name='network-route-two' value=\"`$tmp.aai.logical-link.link-name2`\" />\n\n\n",
        "comments": "",
        "x": 3343.883270263672,
        "y": 633.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "96258457.425ae8",
        "type": "save",
        "name": "get network-route-one from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"network-route\"\n\tkey='network-route.route-id = $network-route-one'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.network-route-one\">",
        "comments": "",
        "outputs": 1,
        "x": 3352.883270263672,
        "y": 771.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "9bd02754.7964a8",
                "8e7e5fd2.7d02c8",
                "6675b2ad.72fd8c"
            ]
        ]
    },
    {
        "id": "f469e44d.0f84d",
        "type": "save",
        "name": "get network-route-two from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"network-route\"\n\tkey='network-route.route-id = $network-route-two'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.network-route-two\">",
        "comments": "",
        "outputs": 1,
        "x": 3345.883270263672,
        "y": 832.28564453125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "772ff0fe.2f34f",
                "8d67ee85.1205f",
                "96627f08.cbe71"
            ]
        ]
    },
    {
        "id": "9bd02754.7964a8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3601.883026123047,
        "y": 666.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "4d13468a.d3ecb8"
            ]
        ]
    },
    {
        "id": "8e7e5fd2.7d02c8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3595.392059326172,
        "y": 707.7117919921875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "ff1b9a29.a11d98"
            ]
        ]
    },
    {
        "id": "6675b2ad.72fd8c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3590.392059326172,
        "y": 757.7117919921875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "97bfc6e9.fba1d8"
            ]
        ]
    },
    {
        "id": "4d13468a.d3ecb8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 3750.454559326172,
        "y": 665.571533203125,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "ff1b9a29.a11d98",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 3740.392059326172,
        "y": 715.7117919921875,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "772ff0fe.2f34f",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3566.883270263672,
        "y": 818.28564453125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "d6ce8ecd.6264d"
            ]
        ]
    },
    {
        "id": "8d67ee85.1205f",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3562.392303466797,
        "y": 867.711669921875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "cdc0e121.35daf"
            ]
        ]
    },
    {
        "id": "96627f08.cbe71",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3563.392303466797,
        "y": 920.711669921875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "58d9f56e.c48314"
            ]
        ]
    },
    {
        "id": "d6ce8ecd.6264d",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 3719.4546508789062,
        "y": 823.5714111328125,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "cdc0e121.35daf",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 3705.392303466797,
        "y": 867.711669921875,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "97bfc6e9.fba1d8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3762.883026123047,
        "y": 768.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "15d53662.387c32"
            ]
        ]
    },
    {
        "id": "58d9f56e.c48314",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3716.883270263672,
        "y": 920.28564453125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "46dc8745.e3cd18"
            ]
        ]
    },
    {
        "id": "15d53662.387c32",
        "type": "switchNode",
        "name": "switch nr type",
        "xml": "<switch test='`$tmp.aai.network-route-one.type`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3923.883270263672,
        "y": 655.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "5f27def0.590658",
                "b4572ec6.b95d6",
                "50bdde17.ca9b2"
            ]
        ]
    },
    {
        "id": "46dc8745.e3cd18",
        "type": "switchNode",
        "name": "switch nr type",
        "xml": "<switch test='`$tmp.aai.network-route-two.type`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3915.883270263672,
        "y": 840.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "be87179f.d632f8",
                "ace0b3c8.e628e",
                "f2575655.f8e378"
            ]
        ]
    },
    {
        "id": "5f27def0.590658",
        "type": "outcome",
        "name": "ROOT",
        "xml": "<outcome value='ROOT'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4147.883758544922,
        "y": 359.28570556640625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "61b5f01d.b80d4"
            ]
        ]
    },
    {
        "id": "b4572ec6.b95d6",
        "type": "outcome",
        "name": "LEAF",
        "xml": "<outcome value='LEAF'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4149.883758544922,
        "y": 413.28570556640625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "c4a12276.3b1638"
            ]
        ]
    },
    {
        "id": "be87179f.d632f8",
        "type": "outcome",
        "name": "ROOT",
        "xml": "<outcome value='ROOT'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4113.883758544922,
        "y": 619.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "d3817023.608058"
            ]
        ]
    },
    {
        "id": "ace0b3c8.e628e",
        "type": "outcome",
        "name": "LEAF",
        "xml": "<outcome value='LEAF'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4115.883758544922,
        "y": 673.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "515f06a6.62b11"
            ]
        ]
    },
    {
        "id": "be2b27bb.08a9c8",
        "type": "set",
        "name": "set network-route-ROOT",
        "xml": "<set>\n<parameter name='tmp.aai.network-route-ROOT.' value=\"`$tmp.aai.network-route-one.`\" />\n\n\n",
        "comments": "",
        "x": 4457.883758544922,
        "y": 311.28570556640625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "b06c3c05.9b2298",
        "type": "set",
        "name": "set network-route-LEAF",
        "xml": "<set>\n<parameter name='tmp.aai.network-route-LEAF.' value=\"`$tmp.aai.network-route-one.`\" />\n\n\n",
        "comments": "",
        "x": 4450.883758544922,
        "y": 409.28570556640625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "d2d6cd47.633ea8",
        "type": "set",
        "name": "set network-route-ROOT",
        "xml": "<set>\n<parameter name='tmp.aai.network-route-ROOT.' value=\"`$tmp.aai.network-route-two.`\" />\n\n\n",
        "comments": "",
        "x": 4429.883758544922,
        "y": 592.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "1e090814.77ece",
        "type": "set",
        "name": "set network-route-LEAF",
        "xml": "<set>\n<parameter name='tmp.aai.network-route-LEAF.' value=\"`$tmp.aai.network-route-two.`\" />\n\n\n",
        "comments": "",
        "x": 4433.883758544922,
        "y": 685.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "6f64ab1a.72d4ac",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3609.88330078125,
        "y": 1345.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "fcfd7965.d24e6"
            ]
        ]
    },
    {
        "id": "670e6fe3.827898",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3619.374267578125,
        "y": 1387.8598022460938,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "329f67fd.7314c8"
            ]
        ]
    },
    {
        "id": "69392cc6.84928c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3607.88330078125,
        "y": 1434.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "a3d0ff69.d983b"
            ]
        ]
    },
    {
        "id": "dee477e6.792e68",
        "type": "comment",
        "name": "Question?",
        "info": "How to know if DG would send this get request\nin \"nodes\" namespace instead of \"network\" namespace?",
        "comments": "",
        "x": 3309.88330078125,
        "y": 1307.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "d89362f7.406e48",
        "type": "save",
        "name": "get p-interface-src from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"p-interface\"\n\t    key=\"pnf.pnf-name = $tmp.src.domainA.pnf-name\n\t        AND p-interface.interface-name = $tmp.aai.network-route-A.next-hop\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.network-route-A.p-interface-src\" >\n\n<!--<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" -->\n<!--\tresource=\"p-interface\"-->\n<!--\t    key=\"pnf.pnf-name = $unique-src-node-Id-->\n<!--\t        and p-interface.interface-name = $tmp.aai.endpointA.relationship-list.relationship[$rel-index].relationship-data[0].relationship-value\"-->\n<!--\t\tlocal-only=\"false\" -->\n<!--\t\tpfx=\"tmp.aai.endpointA.p-interface-src\" >-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3352.88330078125,
        "y": 1372.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "6f64ab1a.72d4ac",
                "670e6fe3.827898",
                "69392cc6.84928c"
            ]
        ]
    },
    {
        "id": "f7610f35.e81b98",
        "type": "execute",
        "name": "execute split tp-id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.aai.network-route-A.next-hop`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-domainA-pnfName\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3353.883270263672,
        "y": 1124.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "c7f5f619.d51258",
                "a4e5ad2b.c867e"
            ]
        ]
    },
    {
        "id": "a4e5ad2b.c867e",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3576.883270263672,
        "y": 1110.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "8e8c42f1.638b2"
            ]
        ]
    },
    {
        "id": "c7f5f619.d51258",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3578.883270263672,
        "y": 1143.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "5f49f3a7.a8042c"
            ]
        ]
    },
    {
        "id": "fcfd7965.d24e6",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3782.5498046875,
        "y": 1344.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "6f4130f2.684b3",
                "363079f1.761036"
            ]
        ]
    },
    {
        "id": "329f67fd.7314c8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 3772.9456787109375,
        "y": 1391.1455383300781,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "a3d0ff69.d983b",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 3776.88330078125,
        "y": 1435.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "6f4130f2.684b3",
        "type": "execute",
        "name": "execute split tp-id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.aai.network-route-A.p-interface-src.interface-name`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-domainA\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4046.88330078125,
        "y": 1328.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "1e584023.51383",
                "f8d90041.f96538"
            ]
        ]
    },
    {
        "id": "f8d90041.f96538",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4269.88330078125,
        "y": 1283.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "9697fa74.602bc"
            ]
        ]
    },
    {
        "id": "1e584023.51383",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4271.88330078125,
        "y": 1347.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "c43abb24.f757f"
            ]
        ]
    },
    {
        "id": "c43abb24.f757f",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 4433.88330078125,
        "y": 1343.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "9697fa74.602bc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4434.88330078125,
        "y": 1280.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "3aa59d52.2c8e1a",
                "83c5954c.7a838"
            ]
        ]
    },
    {
        "id": "5f49f3a7.a8042c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 3721.883270263672,
        "y": 1140.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "8e8c42f1.638b2",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3724.883270263672,
        "y": 1103.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "3b3764ed.353b8c",
                "1fd3d7ac.934188"
            ]
        ]
    },
    {
        "id": "3b3764ed.353b8c",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.src.domainA.pnf-name' value=\"`$param-prefix-domainA-pnfName[0] + '-' +\n                                                   $param-prefix-domainA-pnfName[1] + '-' +\n                                                   $param-prefix-domainA-pnfName[2] + '-' +\n                                                   $param-prefix-domainA-pnfName[3] + '-' +\n                                                   $param-prefix-domainA-pnfName[4] + '-' +\n                                                   $param-prefix-domainA-pnfName[5] + '-' +\n                                                   $param-prefix-domainA-pnfName[6] + '-' +\n                                                   $param-prefix-domainA-pnfName[7] + '-' +\n                                                   $param-prefix-domainA-pnfName[8]`\" />\n",
        "comments": "",
        "x": 3916.883270263672,
        "y": 1105.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "363079f1.761036",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='pividx' start='0' end='`$tmp.aai.network-route-A.p-interface-src.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4006.88330078125,
        "y": 1460.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "9254521f.b3181"
            ]
        ]
    },
    {
        "id": "9254521f.b3181",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.network-route-A.p-interface-src.relationship-list.relationship[$pividx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4212.88330078125,
        "y": 1460.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "4418ce2f.a0c9d"
            ]
        ]
    },
    {
        "id": "4418ce2f.a0c9d",
        "type": "outcome",
        "name": "tunnel-termination-point",
        "xml": "<outcome value='tunnel-termination-point'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4428.1689453125,
        "y": 1460.1075439453125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "8ea77952.a62e58"
            ]
        ]
    },
    {
        "id": "1fd3d7ac.934188",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.src.domainA.pnf-name\"\n        pfx='tmp.aai.source-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3913.883270263672,
        "y": 1170.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "8290c612.7a239",
                "966ac70d.6028c8",
                "1ce11a36.13fbae"
            ]
        ]
    },
    {
        "id": "8290c612.7a239",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4109.383392333984,
        "y": 1122.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "14e203c.361db7c"
            ]
        ]
    },
    {
        "id": "966ac70d.6028c8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4101.383392333984,
        "y": 1177.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "ed056b5d.302798"
            ]
        ]
    },
    {
        "id": "1ce11a36.13fbae",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4106.383392333984,
        "y": 1234.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "cd3e83f.158db8"
            ]
        ]
    },
    {
        "id": "cd3e83f.158db8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4258.383392333984,
        "y": 1235.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "ed056b5d.302798",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4269.383392333984,
        "y": 1180.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "14e203c.361db7c",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4253.765716552734,
        "y": 1119.9414367675781,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "618a03ad.e0bdc4"
            ]
        ]
    },
    {
        "id": "618a03ad.e0bdc4",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='spvidx' start='0' end='`$tmp.aai.source-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4447.883270263672,
        "y": 1164.2857055664062,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "2cbaaf2e.c8d728"
            ]
        ]
    },
    {
        "id": "83c5954c.7a838",
        "type": "set",
        "name": "set ltpId",
        "xml": "<set>\n<parameter name='tmp.src.ltpId' value='`$param-prefix-domainA[$param-prefix-domainA_length -1]`' />\n",
        "comments": "",
        "x": 4604.88330078125,
        "y": 1238.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "3aa59d52.2c8e1a",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.src.pnf-name' value='`$param-prefix-domainA[$param-prefix-domainA_length -3]`' />\n",
        "comments": "",
        "x": 4605.88330078125,
        "y": 1346.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "7cc13839.b2e03",
        "type": "comment",
        "name": "TODO: FIXME",
        "info": "using the output of regex string arrays,\nconcatinate index 0 to index[length-2] all together\nin order to assemble the correct pnf-name",
        "comments": "",
        "x": 4606.88330078125,
        "y": 1295.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "8ea77952.a62e58",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4635.00048828125,
        "y": 1460.6260986328125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "f27b51c4.4be918",
                "106457d2.e488d",
                "3867b2c0.836c9e"
            ]
        ]
    },
    {
        "id": "f27b51c4.4be918",
        "type": "set",
        "name": "set source ttp-id",
        "xml": "<set>\n<parameter name='tmp.source.ttp-id' value=\"`$tmp.aai.network-route-A.p-interface-src.relationship-list.relationship[$pividx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 4850.00048828125,
        "y": 1422.6260986328125,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "106457d2.e488d",
        "type": "get-resource",
        "name": "get-resource src TTP",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"tunnel-termination-point\" \n\t\tkey=\"tunnel-termination-point.ttp-id = $tmp.source.ttp-id \n\t\tAND depth = '0'\"\n        pfx='tmp.aai.source-ttp' local-only='false' >\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4847.00048828125,
        "y": 1461.6260986328125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "d07dc21f.bf396"
            ]
        ]
    },
    {
        "id": "3867b2c0.836c9e",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 4802.50048828125,
        "y": 1503.6260986328125,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "d07dc21f.bf396",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5027.50048828125,
        "y": 1460.6260986328125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "a0338f35.aa887"
            ]
        ]
    },
    {
        "id": "7ad015c9.163974",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4835.88330078125,
        "y": 1056.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "79e701a7.e6bda"
            ]
        ]
    },
    {
        "id": "79e701a7.e6bda",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5012.88330078125,
        "y": 1048.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "74575ab5.dab66c",
                "bb3b928a.241048"
            ]
        ]
    },
    {
        "id": "2cbaaf2e.c8d728",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4638.883270263672,
        "y": 1154.2857055664062,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "7ad015c9.163974",
                "67f00ea1.c4a38"
            ]
        ]
    },
    {
        "id": "67f00ea1.c4a38",
        "type": "outcome",
        "name": "network-resource",
        "xml": "<outcome value='network-resource'>",
        "comments": "",
        "outputs": 1,
        "x": 4838.88330078125,
        "y": 1130.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "b8dbf273.d60738"
            ]
        ]
    },
    {
        "id": "b8dbf273.d60738",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5015.88330078125,
        "y": 1122.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "36a761a6.6edbc6"
            ]
        ]
    },
    {
        "id": "a0338f35.aa887",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5185.50048828125,
        "y": 1460.6260986328125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "ac7f5dcb.abfbe"
            ]
        ]
    },
    {
        "id": "ac7f5dcb.abfbe",
        "type": "set",
        "name": "set source tunnel tp ip",
        "xml": "<set>\n<parameter name='source.tunnel-tp-id' value=\"`$tmp.aai.source-ttp.tunnel-tp-id`\" />\n",
        "comments": "",
        "x": 5392.50048828125,
        "y": 1460.6260986328125,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "bb3b928a.241048",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domainA.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domainA.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 5220.88330078125,
        "y": 1055.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "14a2b948.3a7307",
                "4db5fa80.8a7584",
                "1d1f45c7.aa8332"
            ]
        ]
    },
    {
        "id": "74575ab5.dab66c",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domainA id",
        "xml": "<set>\n<parameter name='tmp.domainA.esr-thirdparty-id' value=\"`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 5250.88330078125,
        "y": 1003.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "14a2b948.3a7307",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5430.88330078125,
        "y": 1046.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "755aafd7.9f4fa8"
            ]
        ]
    },
    {
        "id": "4db5fa80.8a7584",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5422.88330078125,
        "y": 1101.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "70535561.166e44"
            ]
        ]
    },
    {
        "id": "1d1f45c7.aa8332",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5427.88330078125,
        "y": 1158.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "91b4ba95.e0ecd8"
            ]
        ]
    },
    {
        "id": "91b4ba95.e0ecd8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5579.88330078125,
        "y": 1159.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "70535561.166e44",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5590.88330078125,
        "y": 1104.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "755aafd7.9f4fa8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5575.265625,
        "y": 1043.9414367675781,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "be3e1006.2c5ef"
            ]
        ]
    },
    {
        "id": "36a761a6.6edbc6",
        "type": "set",
        "name": "set domainA ethernet layer network-id",
        "xml": "<set>\n<parameter name='tmp.domainA.eth-network-id' value=\"`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 5250.88330078125,
        "y": 1246.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "be3e1006.2c5ef",
        "type": "set",
        "name": "set controller domainA data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainA.url' value=\"`$tmp.aai.domainA.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainA.user' value=\"`$tmp.aai.domainA.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainA.password' value=\"`$tmp.aai.domainA.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 5789.88330078125,
        "y": 1040.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "9e818253.3db4c8",
        "type": "set",
        "name": "set network-route-B",
        "xml": "<set>\n<parameter name='tmp.aai.network-route-B.' value=\"`$tmp.aai.network-route-one.`\" />\n\n\n",
        "comments": "",
        "x": 4445.883758544922,
        "y": 347.28570556640625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "e41aea83.6c1b9",
        "type": "set",
        "name": "set network-route-A",
        "xml": "<set>\n<parameter name='tmp.aai.network-route-A.' value=\"`$tmp.aai.network-route-one.`\" />\n\n\n",
        "comments": "",
        "x": 4446.883728027344,
        "y": 451.28570556640625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "61b5f01d.b80d4",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4270.883758544922,
        "y": 353.28570556640625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "be2b27bb.08a9c8",
                "9e818253.3db4c8"
            ]
        ]
    },
    {
        "id": "c4a12276.3b1638",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4276.883758544922,
        "y": 417.28570556640625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "b06c3c05.9b2298",
                "e41aea83.6c1b9"
            ]
        ]
    },
    {
        "id": "d3817023.608058",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4241.883758544922,
        "y": 619.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "d2d6cd47.633ea8",
                "8a84a541.05baa8"
            ]
        ]
    },
    {
        "id": "515f06a6.62b11",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4244.883758544922,
        "y": 672.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "1e090814.77ece",
                "f18416f.b59a2e8"
            ]
        ]
    },
    {
        "id": "8a84a541.05baa8",
        "type": "set",
        "name": "set network-route-B",
        "xml": "<set>\n<parameter name='tmp.aai.network-route-B.' value=\"`$tmp.aai.network-route-two.`\" />\n\n\n",
        "comments": "",
        "x": 4415.883758544922,
        "y": 632.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "f18416f.b59a2e8",
        "type": "set",
        "name": "set network-route-A",
        "xml": "<set>\n<parameter name='tmp.aai.network-route-A.' value=\"`$tmp.aai.network-route-two.`\" />\n\n\n",
        "comments": "",
        "x": 4418.883758544922,
        "y": 723.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "e3b8353b.1a716",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3741.88330078125,
        "y": 1802.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "ff7eb3f1.2b5db",
                "e41a1903.8d6c4"
            ]
        ]
    },
    {
        "id": "cfbe25d.9897558",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3569.216796875,
        "y": 1803.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "e3b8353b.1a716"
            ]
        ]
    },
    {
        "id": "c7184b04.7c3a48",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3578.707763671875,
        "y": 1845.8599243164062,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "1df80989.06ffa6"
            ]
        ]
    },
    {
        "id": "6421e4be.cfd334",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3567.216796875,
        "y": 1892.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "61347385.0e669c"
            ]
        ]
    },
    {
        "id": "1df80989.06ffa6",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 3732.2791748046875,
        "y": 1849.1456604003906,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "61347385.0e669c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 3736.216796875,
        "y": 1893.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "ff7eb3f1.2b5db",
        "type": "execute",
        "name": "execute split tp-id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.aai.network-route-B.p-interface-dst.interface-name`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-domainB\"/>\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4028.216796875,
        "y": 1806.2860107421875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "2c9a5d35.edc2ea",
                "e16f62ba.253eb"
            ]
        ]
    },
    {
        "id": "e16f62ba.253eb",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4251.216796875,
        "y": 1761.2860107421875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "9d889672.fd9088"
            ]
        ]
    },
    {
        "id": "2c9a5d35.edc2ea",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4253.216796875,
        "y": 1825.2860107421875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "67c6ff18.c6a758"
            ]
        ]
    },
    {
        "id": "67c6ff18.c6a758",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 4412.216796875,
        "y": 1844.2860107421875,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "9d889672.fd9088",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4416.216796875,
        "y": 1758.2860107421875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "acf9d743.7735b8",
                "dd400cb5.f9a5e"
            ]
        ]
    },
    {
        "id": "ab43f120.02b19",
        "type": "save",
        "name": "get p-interface-dst from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"p-interface\"\n\t    key=\"pnf.pnf-name = $tmp.dst.domainB.pnf-name\n\t        AND p-interface.interface-name = $tmp.aai.network-route-B.next-hop\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.network-route-B.p-interface-dst\" >\n\n<!--<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" -->\n<!--\tresource=\"p-interface\"-->\n<!--\t    key=\"pnf.pnf-name = $unique-src-node-Id-->\n<!--\t        and p-interface.interface-name = $tmp.aai.endpointA.relationship-list.relationship[$rel-index].relationship-data[0].relationship-value\"-->\n<!--\t\tlocal-only=\"false\" -->\n<!--\t\tpfx=\"tmp.aai.endpointA.p-interface-src\" >-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3341.216796875,
        "y": 1838.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "cfbe25d.9897558",
                "c7184b04.7c3a48",
                "6421e4be.cfd334"
            ]
        ]
    },
    {
        "id": "443ec13c.3b1388",
        "type": "comment",
        "name": "Question?",
        "info": "How to know if DG would send this get request\nin \"nodes\" namespace instead of \"network\" namespace?",
        "comments": "",
        "x": 3302.216796875,
        "y": 1782.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "87d9c57.361fa38",
        "type": "execute",
        "name": "execute split tp-id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.aai.network-route-B.next-hop`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-domainB-pnfName\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3353.216796875,
        "y": 1577.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "47939321.8d0314",
                "28e1d4e9.ca62fc"
            ]
        ]
    },
    {
        "id": "28e1d4e9.ca62fc",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3576.216796875,
        "y": 1563.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "97457e61.73e3d8"
            ]
        ]
    },
    {
        "id": "47939321.8d0314",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3578.216796875,
        "y": 1596.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "4d6d8144.ded038"
            ]
        ]
    },
    {
        "id": "4d6d8144.ded038",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 3721.216796875,
        "y": 1593.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "97457e61.73e3d8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3724.216796875,
        "y": 1556.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "a9d92823.960608",
                "aea3c9c3.593308"
            ]
        ]
    },
    {
        "id": "a9d92823.960608",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.dst.domainB.pnf-name' value=\"`$param-prefix-domainB-pnfName[0] + '-' +\n                                                   $param-prefix-domainB-pnfName[1] + '-' +\n                                                   $param-prefix-domainB-pnfName[2] + '-' +\n                                                   $param-prefix-domainB-pnfName[3] + '-' +\n                                                   $param-prefix-domainB-pnfName[4] + '-' +\n                                                   $param-prefix-domainB-pnfName[5] + '-' +\n                                                   $param-prefix-domainB-pnfName[6] + '-' +\n                                                   $param-prefix-domainB-pnfName[7] + '-' +\n                                                   $param-prefix-domainB-pnfName[8]`\" />\n",
        "comments": "",
        "x": 3918.216796875,
        "y": 1559.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "e41a1903.8d6c4",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='dividx' start='0' end='`$tmp.aai.network-route-B.p-interface-dst.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3969.216766357422,
        "y": 1939.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "6ce2701b.388768"
            ]
        ]
    },
    {
        "id": "6ce2701b.388768",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.network-route-B.p-interface-dst.relationship-list.relationship[$dividx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4175.216766357422,
        "y": 1939.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "879de70.58c1218"
            ]
        ]
    },
    {
        "id": "879de70.58c1218",
        "type": "outcome",
        "name": "tunnel-termination-point",
        "xml": "<outcome value='tunnel-termination-point'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4392.502410888672,
        "y": 1938.1075439453125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "3d45c8a4.47e81"
            ]
        ]
    },
    {
        "id": "aea3c9c3.593308",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.dst.domainB.pnf-name\"\n        pfx='tmp.aai.destination-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3940.216796875,
        "y": 1627.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "ce24caf2.6cde98",
                "b9bbe7dc.00f29",
                "76cad8df.00ad38"
            ]
        ]
    },
    {
        "id": "ce24caf2.6cde98",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4135.7169189453125,
        "y": 1579.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "c03aa3dc.16bd"
            ]
        ]
    },
    {
        "id": "b9bbe7dc.00f29",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4127.7169189453125,
        "y": 1634.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "c287be98.ae3d3"
            ]
        ]
    },
    {
        "id": "76cad8df.00ad38",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4132.7169189453125,
        "y": 1691.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "eb7ced2b.1fef2"
            ]
        ]
    },
    {
        "id": "eb7ced2b.1fef2",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4284.7169189453125,
        "y": 1692.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "c287be98.ae3d3",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4295.7169189453125,
        "y": 1637.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "c03aa3dc.16bd",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4280.0992431640625,
        "y": 1576.9415588378906,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "5afd22fd.80941c"
            ]
        ]
    },
    {
        "id": "acf9d743.7735b8",
        "type": "set",
        "name": "set ltpId",
        "xml": "<set>\n<parameter name='tmp.dst.ltpId' value='`$param-prefix-domainB[$param-prefix-domainB_length -1]`' />\n",
        "comments": "",
        "x": 4586.216796875,
        "y": 1719.2860107421875,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "dd400cb5.f9a5e",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.dst.pnf-name' value='`$param-prefix-domainB[$param-prefix-domainB_length -3]`' />\n",
        "comments": "",
        "x": 4587.216796875,
        "y": 1824.2860107421875,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "d2c0902b.6c4ea",
        "type": "comment",
        "name": "TODO: FIXME",
        "info": "using the output of regex string arrays,\nconcatinate index 0 to index[length-2] all together\nin order to assemble the correct pnf-name",
        "comments": "",
        "x": 4582.216796875,
        "y": 1773.2860107421875,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "3d45c8a4.47e81",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4599.333953857422,
        "y": 1927.626220703125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "616411e3.181da",
                "d5236702.85efc8",
                "63f505ec.f0050c"
            ]
        ]
    },
    {
        "id": "616411e3.181da",
        "type": "set",
        "name": "set destination ttp-id",
        "xml": "<set>\n<parameter name='tmp.destination.ttp-id' value=\"`$tmp.aai.network-route-B.p-interface-dst.relationship-list.relationship[$dividx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 4814.333953857422,
        "y": 1889.626220703125,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "d5236702.85efc8",
        "type": "get-resource",
        "name": "get-resource src TTP",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"tunnel-termination-point\" \n\t\tkey=\"tunnel-termination-point.ttp-id = $tmp.destination.ttp-id \n\t\tAND depth = '0'\"\n        pfx='tmp.aai.destination-ttp' local-only='false' >\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4811.333953857422,
        "y": 1928.626220703125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "e9e8b1b.05378d"
            ]
        ]
    },
    {
        "id": "63f505ec.f0050c",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 4766.833953857422,
        "y": 1970.626220703125,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "e9e8b1b.05378d",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4991.833953857422,
        "y": 1927.626220703125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "9850361c.da76c8"
            ]
        ]
    },
    {
        "id": "9850361c.da76c8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5149.833953857422,
        "y": 1927.626220703125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "db66a9b.93619d8"
            ]
        ]
    },
    {
        "id": "db66a9b.93619d8",
        "type": "set",
        "name": "set destination tunnel tp ip",
        "xml": "<set>\n<parameter name='destination.tunnel-tp-id' value=\"`$tmp.aai.destination-ttp.tunnel-tp-id`\" />\n",
        "comments": "",
        "x": 5356.833953857422,
        "y": 1927.626220703125,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "84b58dac.88eef8",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4862.216796875,
        "y": 1595.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "26e5751a.9712e2"
            ]
        ]
    },
    {
        "id": "26e5751a.9712e2",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5039.216796875,
        "y": 1587.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "6aba367d.688578",
                "e91a3d87.4731c"
            ]
        ]
    },
    {
        "id": "5afd22fd.80941c",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='dpvidx' start='0' end='`$tmp.aai.destination-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4464.216796875,
        "y": 1591.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "c4ef25e3.8547c"
            ]
        ]
    },
    {
        "id": "c4ef25e3.8547c",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.destination-pnf.relationship-list.relationship[$dpvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4659.216796875,
        "y": 1591.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "84b58dac.88eef8",
                "70651805.f7aa38"
            ]
        ]
    },
    {
        "id": "e91a3d87.4731c",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domainB.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domainB.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 5247.216796875,
        "y": 1594.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "52bb494b.9e9548",
                "1f1e43c3.bd50ac",
                "27bf06a9.82b122"
            ]
        ]
    },
    {
        "id": "13e72829.65bf18",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5041.216796875,
        "y": 1660.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "f997c96d.8efde"
            ]
        ]
    },
    {
        "id": "70651805.f7aa38",
        "type": "outcome",
        "name": "network-resource",
        "xml": "<outcome value='network-resource'>",
        "comments": "",
        "outputs": 1,
        "x": 4864.216796875,
        "y": 1668.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "13e72829.65bf18"
            ]
        ]
    },
    {
        "id": "6aba367d.688578",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domainB id",
        "xml": "<set>\n<parameter name='tmp.domainB.esr-thirdparty-id' value=\"`$tmp.aai.destination-pnf.relationship-list.relationship[$dpvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 5277.216796875,
        "y": 1542.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "f997c96d.8efde",
        "type": "set",
        "name": "set domainB ethernet layer network-id",
        "xml": "<set>\n<parameter name='tmp.domainB.eth-network-id' value=\"`$tmp.aai.destination-pnf.relationship-list.relationship[$dpvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 5254.216796875,
        "y": 1726.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "52bb494b.9e9548",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5457.216796875,
        "y": 1585.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "32b0560b.723342"
            ]
        ]
    },
    {
        "id": "1f1e43c3.bd50ac",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5449.216796875,
        "y": 1640.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "6c345a14.f54524"
            ]
        ]
    },
    {
        "id": "27bf06a9.82b122",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5454.216796875,
        "y": 1697.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "6641f5b5.b5523c"
            ]
        ]
    },
    {
        "id": "6641f5b5.b5523c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5606.216796875,
        "y": 1698.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "6c345a14.f54524",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5617.216796875,
        "y": 1643.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "32b0560b.723342",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5601.59912109375,
        "y": 1582.9415588378906,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "1b5e2086.1509ff"
            ]
        ]
    },
    {
        "id": "1b5e2086.1509ff",
        "type": "set",
        "name": "set controller domainB data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainB.url' value=\"`$tmp.aai.domainB.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainB.user' value=\"`$tmp.aai.domainB.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainB.password' value=\"`$tmp.aai.domainB.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 5816.216796875,
        "y": 1579.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "7042856b.1828cc",
        "type": "set",
        "name": "set LEAF stuff",
        "xml": "<set>\n<parameter name='tmp.LEAF.pnf-name-long' value=\"`$param-prefix-domainA-pnfName[0] + '-' +\n                                                   $param-prefix-domainA-pnfName[1] + '-' +\n                                                   $param-prefix-domainA-pnfName[2] + '-' +\n                                                   $param-prefix-domainA-pnfName[3] + '-' +\n                                                   $param-prefix-domainA-pnfName[4] + '-' +\n                                                   $param-prefix-domainA-pnfName[5] + '-' +\n                                                   $param-prefix-domainA-pnfName[6] + '-' +\n                                                   $param-prefix-domainA-pnfName[7] + '-' +\n                                                   $param-prefix-domainA-pnfName[8]`\" />\n\n<!--<parameter name='tmp.LEAF.pnf-name-short' value=\"`$param-prefix-domainA-pnfName[8]`\" />-->\n<parameter name='tmp.LEAF.pnf-name-short' value=\"`$tmp.src.pnf-name`\" />\n\n<parameter name='tmp.LEAF.uni-p-interface-long' value=\"`$tmp.aai.network-route-A.next-hop + '-' + $tmp.aai.network-route-A.logical-interface-id`\" />\n<parameter name='tmp.LEAF.uni-tp-id' value=\"`$tmp.src.ltpId`\" />\n",
        "comments": "",
        "x": 3314.88330078125,
        "y": 1449.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "f434b230.257eb8",
        "type": "set",
        "name": "set ROOT stuff",
        "xml": "<set>\n<parameter name='tmp.ROOT.pnf-name-long' value=\"`$param-prefix-domainB-pnfName[0] + '-' +\n                                                   $param-prefix-domainB-pnfName[1] + '-' +\n                                                   $param-prefix-domainB-pnfName[2] + '-' +\n                                                   $param-prefix-domainB-pnfName[3] + '-' +\n                                                   $param-prefix-domainB-pnfName[4] + '-' +\n                                                   $param-prefix-domainB-pnfName[5] + '-' +\n                                                   $param-prefix-domainB-pnfName[6] + '-' +\n                                                   $param-prefix-domainB-pnfName[7] + '-' +\n                                                   $param-prefix-domainB-pnfName[8]`\" />\n\n<!--<parameter name='tmp.ROOT.pnf-name-short' value=\"`$param-prefix-domainB-pnfName[8]`\" />-->\n<parameter name='tmp.ROOT.pnf-name-short' value=\"`$tmp.dst.pnf-name`\" />\n\n<parameter name='tmp.ROOT.uni-p-interface-long' value=\"`$tmp.aai.network-route-B.next-hop + '-' + $tmp.aai.network-route-B.logical-interface-id`\" />\n<parameter name='tmp.ROOT.uni-tp-id' value=\"`$tmp.dst.ltpId`\" />\n",
        "comments": "",
        "x": 3301.88330078125,
        "y": 1969.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "c9139602.db9618",
        "type": "execute",
        "name": "execute UUID generator for ethernet-service-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.ethernet-service-name\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2426.883331298828,
        "y": 162.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "aadbe6b3.d2bba",
        "type": "set",
        "name": "set new ethernet-service-name",
        "xml": "<set>\n<!--<parameter name='prop.ethernet-service-name' value=\"`$tmp.aai.logical-link.link-name`\" />-->\n<parameter name='prop.ethernet-service-name' value=\"`$tmp.aai.logical-link.link-id`\" />\n\n\n",
        "comments": "",
        "x": 2360.883331298828,
        "y": 198.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "e7f44e9f.7383a",
        "type": "comment",
        "name": "The following two nodes are to make sure all connectivities for an E-Tree have same etht-srv-name",
        "info": "",
        "comments": "",
        "x": 2545.883331298828,
        "y": 125.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "106d7d06.a5399b",
        "type": "comment",
        "name": "NOT NEEDED ANYMORE?",
        "info": "",
        "comments": "",
        "x": 4072.88330078125,
        "y": 1427.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "f63837b1.4cefc",
        "type": "comment",
        "name": "NOT NEEDED ANYMORE?",
        "info": "",
        "comments": "",
        "x": 4028.883270263672,
        "y": 1891.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "7226ce6d.bf87d8",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:cll-vnf-topology-operation-cll-F1-activate",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='cll-vnf-topology-operation-cll-F1-activate' mode='sync' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2737.8836669921875,
        "y": 7259.28564453125,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "56edb3ef.738a04",
        "type": "comment",
        "name": "START OF DELETE OPERATION",
        "info": "",
        "comments": "",
        "x": 3296.88330078125,
        "y": 2451.2857360839844,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "3c54c8c2.c90b98",
        "type": "save",
        "name": "delete LEAF uni resource in AAI",
        "xml": "<delete plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='uni' \n      key='uni.id = $tmp.LEAF.uni-p-interface-long'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3880.566650390625,
        "y": 2552.6858520507812,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "ebbe2f0a.10f36",
        "type": "save",
        "name": "get LEAF uni from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"uni\"\n\t    key=\"uni.id = $tmp.LEAF.uni-p-interface-long\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.leafuni\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 3251.566650390625,
        "y": 2532.6858520507812,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "2be68b52.20aa24",
                "81d3f50b.6c4d9",
                "2035d36a.c81f14"
            ]
        ]
    },
    {
        "id": "81d3f50b.6c4d9",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3479.0576171875,
        "y": 2505.2598266601562,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "13ee2347.80286d"
            ]
        ]
    },
    {
        "id": "2035d36a.c81f14",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3474.566650390625,
        "y": 2549.685791015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "991792d0.e4e98"
            ]
        ]
    },
    {
        "id": "13ee2347.80286d",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 3641.629150390625,
        "y": 2504.5455322265625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "991792d0.e4e98",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 3642.566650390625,
        "y": 2549.685791015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "2be68b52.20aa24",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3486.566650390625,
        "y": 2599.6858520507812,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "f8565a8c.b30f28"
            ]
        ]
    },
    {
        "id": "f8565a8c.b30f28",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3638.88330078125,
        "y": 2603.2857055664062,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "133776d8.0b0dc9",
                "3c54c8c2.c90b98",
                "95fcacf8.b9d6a8",
                "70f331ff.6983c8"
            ]
        ]
    },
    {
        "id": "133776d8.0b0dc9",
        "type": "set",
        "name": "set bwToBeDecreased tpid cvlan",
        "xml": "<set>\n<parameter name='bwToBeDecreased' value=\"`$tmp.aai.leafuni.data-source`\" />\n<parameter name='tpid' value='`$tmp.aai.leafuni.tp-id`' />\n<parameter name='cvlan' value='`$tmp.aai.leafuni.cvlan`' />\n\n\n",
        "comments": "",
        "x": 3883.566650390625,
        "y": 2495.6858520507812,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "5f7e58ce.54f7f8",
        "type": "comment",
        "name": "Update ROOT UNI's bw",
        "info": "",
        "comments": "",
        "x": 3845.566650390625,
        "y": 2606.4857177734375,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "9cf7d79b.0475e8",
        "type": "save",
        "name": "update ROOT UNI in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='uni' \n      key='uni.id = $tmp.ROOT.uni-p-interface-long'>\n<parameter name='id' value='`$tmp.ROOT.uni-p-interface-long`' />\n<parameter name='data-source' value='`$tmp.newbw`' />\n",
        "comments": "",
        "outputs": 1,
        "x": 4523.566650390625,
        "y": 2649.4857177734375,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "95fcacf8.b9d6a8",
        "type": "save",
        "name": "get root uni from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"uni\"\n\t    key=\"uni.id = $tmp.ROOT.uni-p-interface-long\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.rootuni\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 3837.56640625,
        "y": 2652.4857177734375,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "8e888721.2a9c48",
                "ad21a1a0.49ccd8",
                "92e1736a.a036e"
            ]
        ]
    },
    {
        "id": "ad21a1a0.49ccd8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4141.057373046875,
        "y": 2563.0596923828125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "b3d3b1a9.2b5fb"
            ]
        ]
    },
    {
        "id": "92e1736a.a036e",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4136.56640625,
        "y": 2607.4856567382812,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "d5ecd5d7.ea0b88"
            ]
        ]
    },
    {
        "id": "b3d3b1a9.2b5fb",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 4303.62890625,
        "y": 2562.3453979492188,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "d5ecd5d7.ea0b88",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 4304.56640625,
        "y": 2607.4856567382812,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "70cc9613.b0a74",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4301.56640625,
        "y": 2657.4857177734375,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "b767bcd4.bb2b6",
                "9cf7d79b.0475e8"
            ]
        ]
    },
    {
        "id": "8e888721.2a9c48",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4132.56640625,
        "y": 2657.4857177734375,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "70cc9613.b0a74"
            ]
        ]
    },
    {
        "id": "b767bcd4.bb2b6",
        "type": "set",
        "name": "set new bw",
        "xml": "<set>\n<parameter name='tmp.newbw' value='`$tmp.aai.rootuni.data-source - $bwToBeDecreased`' />\n",
        "comments": "",
        "x": 4483.567138671875,
        "y": 2599.4857177734375,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "f9bbca0d.1c46f8",
        "type": "comment",
        "name": "Delete LEAF UNI",
        "info": "",
        "comments": "",
        "x": 3831.88330078125,
        "y": 2437.2857055664062,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "e994ec3a.2da648",
        "type": "set",
        "name": "set current-provider-id and current-cvlan-id",
        "xml": "<set>\n<parameter name='tmp.current-provider-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -9]`' />\n<parameter name='tmp.current-cvlan-id' value='`$tmp.aai.network-route-A.logical-interface-id`' />\n\n<!--<parameter name='access-provider-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -9]`' />-->\n<!--<parameter name='access-client-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -7]`' />-->\n<!--<parameter name='access-topology-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -5]`' />-->\n<!--<parameter name='access-node-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -3]`' />-->\n<!--<parameter name='access-ltp-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -1]`' />-->\n<!--<parameter name='cvlan' value='`$tmp.aai.network-route-A.logical-interface-id`' />-->",
        "comments": "",
        "x": 3311.749969482422,
        "y": 3769.8858032226562,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "fbbab64f.85fdd8",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:cll-vnf-topology-operation-cll-helper-find-connectivity",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='cll-vnf-topology-operation-cll-helper-find-connectivity' mode='sync' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3444.749969482422,
        "y": 3817.8858032226562,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "33b02c47.fcccbc",
        "type": "switchNode",
        "name": "switch found-connectivity?",
        "xml": "\n<switch test=\"`$found-connectivity`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3266.749969482422,
        "y": 3869.6858520507812,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "6fdf1010.01d5e",
                "10c0f7ca.be20e"
            ]
        ]
    },
    {
        "id": "6fdf1010.01d5e",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3459.749969482422,
        "y": 3870.6858520507812,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "7864f46c.db26a4"
            ]
        ]
    },
    {
        "id": "7864f46c.db26a4",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"LEAF CONN DOES NOT EXIST BUT IT SHOULD BE.\" />\n\n",
        "comments": "",
        "x": 3603.749969482422,
        "y": 3866.8858032226562,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "10c0f7ca.be20e",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3463.749969482422,
        "y": 3914.6858520507812,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "8add2f88.61a8b8"
            ]
        ]
    },
    {
        "id": "8add2f88.61a8b8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3602.749969482422,
        "y": 3909.6858520507812,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "9b6852b0.a93d98",
                "b900318c.bfd908",
                "4cb0c066.1db128"
            ]
        ]
    },
    {
        "id": "9b6852b0.a93d98",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='cridx' start='0' end='`$tmp.the-connectivity.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3853.149627685547,
        "y": 3918.2024536132812,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "54f58bcc.441714"
            ]
        ]
    },
    {
        "id": "54f58bcc.441714",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.the-connectivity.relationship-list.relationship[$cridx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4075.149627685547,
        "y": 3896.2024536132812,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "7083e1.a84c342"
            ]
        ]
    },
    {
        "id": "7083e1.a84c342",
        "type": "outcome",
        "name": "uni",
        "xml": "<outcome value='uni'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4235.149139404297,
        "y": 3876.2024536132812,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "94bd3415.1f22d8"
            ]
        ]
    },
    {
        "id": "c56c894c.5bdb1",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4388.149658203125,
        "y": 3857.2024841308594,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "b6fdc844.b0e6b",
                "1a640b2c.739935"
            ]
        ]
    },
    {
        "id": "b6fdc844.b0e6b",
        "type": "set",
        "name": "set tmp.stillHasUni to TRUE",
        "xml": "<set>\n<parameter name='tmp.stillHasUni' value='true' />\n",
        "comments": "",
        "x": 4584.649871826172,
        "y": 3825.2857055664062,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "b900318c.bfd908",
        "type": "set",
        "name": "set tmp.stillHasUn tmp.keepVPNBs to FALSE",
        "xml": "<set>\n<parameter name='tmp.stillHasUni' value='false' />\n<parameter name='tmp.keepVPNBs' value='false' />\n",
        "comments": "",
        "x": 3959.64990234375,
        "y": 3837.2857360839844,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "4cb0c066.1db128",
        "type": "switchNode",
        "name": "switch tmp.keepVPNBs?",
        "xml": "\n<switch test=\"`$tmp.keepVPNBs`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3767.64990234375,
        "y": 4258.285980224609,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "ae543eb1.206b4",
                "219c19f6.cbd26e"
            ]
        ]
    },
    {
        "id": "1a640b2c.739935",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 4552.88330078125,
        "y": 3893.2857360839844,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "219c19f6.cbd26e",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 154.65066528320312,
        "y": 5322.286224365234,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "2520c605.40a22a"
            ]
        ]
    },
    {
        "id": "ae543eb1.206b4",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3988.650634765625,
        "y": 4360.285980224609,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "8fd13dc7.dbef3"
            ]
        ]
    },
    {
        "id": "8fd13dc7.dbef3",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4131.650634765625,
        "y": 4356.285980224609,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "6c48a46d.6b2974",
                "de8af5e.f07e288",
                "5285a28b.38c8dc",
                "2212222d.1721a6",
                "b943d622.b35cc",
                "467c3bf.71cfdc4",
                "cdd12e42.2ba1b8",
                "7f0c132f.b1df44",
                "dc36b830.307698"
            ]
        ]
    },
    {
        "id": "86b26306.89d478",
        "type": "comment",
        "name": "keepVPNBs == false, then check tmp.stillHasUni",
        "info": "(2) keepVPNBs == false, means there are no other UNIs in this\nsame domain and same connectivity that share the same OLT node.\n\ncheck if tmp.stillHasUni is True or False?\n\nif TRUE --> means this domain (connectivity) still has other UNIs\n- delete VPNBs\n- delete LEAF UNI in AAI -- DONE\n- upadte bw in ROOT UNI -- DONE\n- delete LEAF UNI in LEAF ethernet service PNC\n- change ROOT conn status to Modified\n--- mark LEAF connectivity as Modified because the underlay OTN tunnel list of this connectivity is now different\n\nif FALSE --> means this domain (connectivity) has no other UNIs\n\nif MMstillHasUni == TRUE, means scenario (3), else, means scenario (4)\n\n(3) & (4) both:\n- delete VPNBs\n- delete LEAF connectivity\n- delete LEAF Ethernet Service from PNC\n\n(3) only:\n- change ROOT conn status to Modified\n- Keep the middle-man-conn and DON'T delete\n\n(4) only:\n- delete ROOT UNI\n- delete ROOT conn from AAI\n- delete ROOT Ethernet Service from PNC\n- delete middle-man-conn from AAI\n\n",
        "comments": "",
        "x": 181,
        "y": 5278.286224365234,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "10b960d7.987777",
        "type": "comment",
        "name": "There are still other UNIs in this connectivity that share same OLT node. Only update bw of the vpn-bindings involved",
        "info": "(1) keepVPNBs == true, means there are still other UNIs in this\nsame domain and same connectivity that share the same OLT node.\n\n- Only update bw of the vpn-bindings involved -- DONE\n- upadte bw in ROOT UNI -- DONE\n- change ROOT conn status to Modified -- DONE\n- delete LEAF UNI in AAI -- DONE\n- delete LEAF UNI in LEAF ethernet service PNC -- DONE\n- DON'T delete the connectivities of LEAF and ROOT -- DONE\nAlso update the ethernet services",
        "comments": "",
        "x": 4007.884033203125,
        "y": 4323.285980224609,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "e29766c.069bc98",
        "type": "set",
        "name": "set srcTtp OTN layer",
        "xml": "<set>\n<!--<parameter name='tmp.srcTtpOtnLayer' value=\"`$tmp.pce-src-node + '-' + -->\n<!--                                             $param-prefix-domainA[$param-prefix-domainA_length -2] + '-' +-->\n<!--                                             $tmp.source.ttp-id`\" />-->\n\n<parameter name='tmp.srcTtpOtnLayer' value=\"`$tmp.pce-src-node`\" />\n\n\n",
        "comments": "",
        "x": 4820.667724609375,
        "y": 4514.069427490234,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "70e9715b.943958",
        "type": "switchNode",
        "name": "switch provider-id domainA",
        "xml": "<switch test='`$allNetworksList.network-resource[$netwidx].provider-id == $param-prefix-domainA-pnfName[2]`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5165.667724609375,
        "y": 4376.069427490234,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "6e757b83.cb351c"
            ]
        ]
    },
    {
        "id": "b42b3ac.1b570c8",
        "type": "for",
        "name": "for netwidx..allNetworksList_length",
        "xml": "<for index='netwidx' start='0' end='`$allNetworksList.network-resource_length`' >",
        "comments": "",
        "outputs": 1,
        "x": 4872.667724609375,
        "y": 4370.069427490234,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "70e9715b.943958"
            ]
        ]
    },
    {
        "id": "b4fe4da5.f121d",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5127.667724609375,
        "y": 4327.069427490234,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "574f0028.fbd13",
        "type": "set",
        "name": "unset parameters",
        "xml": "<set>\n<parameter name='tmp.pce-src-node.' value='' />\n",
        "comments": "",
        "x": 4816.667724609375,
        "y": 4422.069427490234,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "d130fc75.80466",
        "type": "set",
        "name": "set tmp.pce-src-node",
        "xml": "<set>\n<!--<parameter name='tmp.pce-src-node' value=\"`$param-prefix-domainA-pnfName[0] + '-' +-->\n<!--                                                   $param-prefix-domainA-pnfName[1] + '-' +-->\n<!--                                                   $param-prefix-domainA-pnfName[2] + '-' +-->\n<!--                                                   $param-prefix-domainA-pnfName[3] + '-' +-->\n<!--                                                   $param-prefix-domainA-pnfName[4] + '-' +-->\n<!--                                                   $param-prefix-domainA-pnfName[5] + '-' +-->\n<!--                                                   1 + '-' +-->\n<!--                                                   $param-prefix-domainA-pnfName[7] + '-' +-->\n<!--                                                   $param-prefix-domainA-pnfName[8]`\" />-->\n\n<parameter name='tmp.pce-src-node' value=\"`$param-prefix-domainA-pnfName[0] + '-' +\n                                                   $param-prefix-domainA-pnfName[1] + '-' +\n                                                   $param-prefix-domainA-pnfName[2] + '-' +\n                                                   $param-prefix-domainA-pnfName[3] + '-' +\n                                                   $param-prefix-domainA-pnfName[4] + '-' +\n                                                   $param-prefix-domainA-pnfName[5] + '-' +\n                                                   $otnTopoIdSrc + '-' +\n                                                   $param-prefix-domainA-pnfName[7] + '-' +\n                                                   $param-prefix-domainA-pnfName[8]`\" />",
        "comments": "",
        "x": 4824.667724609375,
        "y": 4467.069427490234,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "84c9d585.1543d",
        "type": "set",
        "name": "unset otnTopoIdSrc",
        "xml": "<set>\n<parameter name='otnTopoIdSrc' value='' />\n",
        "comments": "",
        "x": 4821.667724609375,
        "y": 4320.069427490234,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "6e757b83.cb351c",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5074.667724609375,
        "y": 4444.069427490234,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "c54be700.be4fd"
            ]
        ]
    },
    {
        "id": "c54be700.be4fd",
        "type": "switchNode",
        "name": "switch te-topo-id",
        "xml": "<switch test='`$allNetworksList.network-resource[$netwidx].te-topo-id != $param-prefix-domainA-pnfName[6]`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5259.667724609375,
        "y": 4443.069427490234,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "820246eb.c84c18"
            ]
        ]
    },
    {
        "id": "820246eb.c84c18",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5451.667724609375,
        "y": 4446.069427490234,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "3a1b08b9.047658"
            ]
        ]
    },
    {
        "id": "3a1b08b9.047658",
        "type": "set",
        "name": "set otnTopoIdSrc",
        "xml": "<set>\n<parameter name='otnTopoIdSrc' value='`$allNetworksList.network-resource[$netwidx].te-topo-id`' />\n",
        "comments": "",
        "x": 5623.667724609375,
        "y": 4442.069427490234,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "c9b94557.850d48",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:cll-vnf-topology-operation-find-maximum-used-tpn",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='cll-vnf-topology-operation-find-maximum-used-tpn' mode='sync' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4999.667724609375,
        "y": 4557.069427490234,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "6c48a46d.6b2974",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4516.667724609375,
        "y": 4342.069427490234,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "2a754e6c.bbb83a",
                "94fc5eb6.895cc",
                "574f0028.fbd13",
                "d130fc75.80466",
                "e29766c.069bc98",
                "b42b3ac.1b570c8",
                "c9b94557.850d48"
            ]
        ]
    },
    {
        "id": "cd78afa3.c104f8",
        "type": "comment",
        "name": "The following section is to find srcTtp OTN layer (its long name)",
        "info": "The following section is to find srcTtp OTN layer (its long name)",
        "comments": "",
        "x": 4501.667724609375,
        "y": 4276.069427490234,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "94fc5eb6.895cc",
        "type": "get-resource",
        "name": "get-resource network-resources-list",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"network-resources\"\n\t    key=\"selflink = 'https://aai.onap:8443/aai/v24/network/network-resources?depth=0'\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"allNetworksList\" >",
        "comments": "",
        "outputs": 1,
        "x": 4880.667724609375,
        "y": 4263.069427490234,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "17a57be5.3979b4",
                "670b39d7.0b3ba",
                "b4fe4da5.f121d"
            ]
        ]
    },
    {
        "id": "17a57be5.3979b4",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5116.667724609375,
        "y": 4246.069427490234,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "670b39d7.0b3ba",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5113.667724609375,
        "y": 4287.069427490234,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "2a754e6c.bbb83a",
        "type": "set",
        "name": "unset parameters",
        "xml": "<set>\n<parameter name='allNetworksList.' value='' />\n",
        "comments": "",
        "x": 4829.667724609375,
        "y": 4220.069427490234,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "de8af5e.f07e288",
        "type": "set",
        "name": "unset tmp.aai.all-vpn-bindings",
        "xml": "<set>\n<parameter name='tmp.aai.all-vpn-bindings.' value='' />\n",
        "comments": "",
        "x": 4336.667724609375,
        "y": 4674.469329833984,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "afb6c845.26534",
        "type": "comment",
        "name": "find all OTNs that have srcTtpOtnLayer and decrease their bandwidth",
        "info": "",
        "comments": "",
        "x": 4459.968017578125,
        "y": 4713.469329833984,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "5285a28b.38c8dc",
        "type": "save",
        "name": "get all-vpn-bindings from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"vpn-bindings\"\n\t    key=\"selflink = 'https://aai.onap:8443/aai/v24/network/vpn-bindings\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.all-vpn-bindings\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 4357.968017578125,
        "y": 4748.469329833984,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "c3de387c.6460a",
                "b57ba7f8.c1c99",
                "9da86502.5d643"
            ]
        ]
    },
    {
        "id": "c3de387c.6460a",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4562.968017578125,
        "y": 4745.469329833984,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "4e1f19c.9621d68"
            ]
        ]
    },
    {
        "id": "b57ba7f8.c1c99",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4546.458984375,
        "y": 4807.043365478516,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "ec0e24f9.a11f7"
            ]
        ]
    },
    {
        "id": "9da86502.5d643",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4543.968017578125,
        "y": 4850.469329833984,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "182c3589.c7acda"
            ]
        ]
    },
    {
        "id": "4e1f19c.9621d68",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4730.96826171875,
        "y": 4740.469329833984,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "af4afceb.006698"
            ]
        ]
    },
    {
        "id": "ec0e24f9.a11f7",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 4709.0303955078125,
        "y": 4807.3291015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "182c3589.c7acda",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 4710.968017578125,
        "y": 4849.469329833984,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "af4afceb.006698",
        "type": "for",
        "name": "for vpnidx in all-vpn-bindings",
        "xml": "<for index='vpnbidx' start='0' end='`$tmp.aai.all-vpn-bindings.vpn-binding_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4968.96826171875,
        "y": 4745.469329833984,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "31f75628.5330d2"
            ]
        ]
    },
    {
        "id": "31f75628.5330d2",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 5202.968017578125,
        "y": 4752.469329833984,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "ceae5964.7d9d38"
            ]
        ]
    },
    {
        "id": "b40ed0f.db80e3",
        "type": "comment",
        "name": "find all OTNs that have srcTtpOtnLayer and increase their bandwidth",
        "info": "",
        "comments": "",
        "x": 5119.783935546875,
        "y": 4823.635650634766,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "ceae5964.7d9d38",
        "type": "switchNode",
        "name": "switch ops-note is srcTtpOtnLayer",
        "xml": "<switch test=\"`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].ops-note == $tmp.srcTtpOtnLayer `\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 5063.783935546875,
        "y": 4872.635650634766,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "5a8ad6ff.27624",
                "4b278311.73bb1c"
            ]
        ]
    },
    {
        "id": "4b278311.73bb1c",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5306.784423828125,
        "y": 4913.635162353516,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "5a8ad6ff.27624",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5317.7841796875,
        "y": 4870.6353759765625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "e95ba342.193f38"
            ]
        ]
    },
    {
        "id": "9b07993f.50303",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 5544.767578125,
        "y": 4878.0518798828125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "574e2cd3.b5ba0c",
                "e0ae9339.0aa92",
                "e02f1f89.ad2d2"
            ]
        ]
    },
    {
        "id": "c3321d25.6b65f",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='vpnbridx' start='0' end='`$tmp.aai.the-vpn-binding.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 5709.8173828125,
        "y": 4763.052337646484,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "88b3d964.1a518"
            ]
        ]
    },
    {
        "id": "88b3d964.1a518",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.the-vpn-binding.relationship-list.relationship[$vpnbridx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5901.8173828125,
        "y": 4752.052581787109,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "949f67cc.1ebd"
            ]
        ]
    },
    {
        "id": "574e2cd3.b5ba0c",
        "type": "set",
        "name": "unset tmp.aai.the-vpn-binding",
        "xml": "<set>\n<parameter name='tmp.aai.the-vpn-binding.' value=\"\" />\n",
        "comments": "",
        "x": 5658.334228515625,
        "y": 4653.269378662109,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "e0ae9339.0aa92",
        "type": "set",
        "name": "set tmp.aai.the-vpn-binding",
        "xml": "<set>\n<parameter name='tmp.aai.the-vpn-binding.' value=\"`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].`\" />\n",
        "comments": "",
        "x": 5650.334228515625,
        "y": 4702.269378662109,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "e02f1f89.ad2d2",
        "type": "save",
        "name": "update vpn-binding otnIdx resource (aka. OTN) in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $tmp.aai.the-vpn-binding.vpn-id' >\n<parameter name='vpn-id' value='`$tmp.aai.the-vpn-binding.vpn-id`' />\n<parameter name='vpn-name' value='`$tmp.aai.the-vpn-binding.vpn-name`' />\n<parameter name='customer-vpn-id' value='`$newToBeUsedMaxtpn`' />\n<parameter name='route-distinguisher' value='`$tmp.aai.the-vpn-binding.route-distinguisher - $bwToBeDecreased`' />\n<parameter name='operational-status' value='Modified' />\n",
        "comments": "",
        "outputs": 1,
        "x": 5881.751220703125,
        "y": 4883.435394287109,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "2481a087.0bf1c",
        "type": "save",
        "name": "update connectivity resource in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $tmp.the-connectivity.connectivity-id'>\n<parameter name='connectivity-id' value='`$tmp.the-connectivity.connectivity-id`' />\n<parameter name='operational-status' value='Modified' />\n<!--<parameter name='bandwidth-profile-name' value='`$gfp`' />-->\n<!--<parameter name='cir' value='`$gfp *1000000`' />-->\n<!--<parameter name='eir' value='`$gfp *1000000`' />-->\n",
        "comments": "",
        "outputs": 1,
        "x": 5833.401123046875,
        "y": 4930.752288818359,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "f95d52e7.62b688",
        "type": "comment",
        "name": "decrease the bw of the-vpn-binding and change status to modified",
        "info": "decrease the bw of the-vpn-binding\nchange status to modified\n",
        "comments": "",
        "x": 5905.751220703125,
        "y": 4844.435394287109,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "949f67cc.1ebd",
        "type": "outcome",
        "name": "connectivity",
        "xml": "<outcome value='connectivity'>\n",
        "comments": "",
        "outputs": 1,
        "x": 6083.8173828125,
        "y": 4731.052581787109,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "121ace63.3c455a"
            ]
        ]
    },
    {
        "id": "121ace63.3c455a",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 6245.8173828125,
        "y": 4720.052581787109,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "776f73a4.7e64dc",
                "1667f272.dd2c96"
            ]
        ]
    },
    {
        "id": "776f73a4.7e64dc",
        "type": "set",
        "name": "unset tmp.the-connectivity",
        "xml": "<set>\n<parameter name='tmp.the-connectivity.' value='' />\n",
        "comments": "",
        "x": 6442.8173828125,
        "y": 4649.052581787109,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "1667f272.dd2c96",
        "type": "set",
        "name": "set tmp.the-connectivity",
        "xml": "<set>\n<parameter name='tmp.the-connectivity.' value='`$tmp.aai.the-vpn-binding.relationship-list.relationship[$vpnbridx].relationship-data[0].relationship-value`' />\n",
        "comments": "",
        "x": 6440.2841796875,
        "y": 4748.269378662109,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "7162acbd.73776c",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:cll-vnf-topology-operation-cll-logic",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='cll-vnf-topology-operation-cll-logic' mode='sync' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3097.800048828125,
        "y": 3207.0857849121094,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "2683d5ea.5fda52",
        "type": "switchNode",
        "name": "switch found-middle-man?",
        "xml": "<switch test='`$found-middle-man`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2974.800048828125,
        "y": 3317.0857849121094,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "111b3018.d0a418",
                "b6f13f54.b0b718"
            ]
        ]
    },
    {
        "id": "111b3018.d0a418",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3158.800048828125,
        "y": 3296.0857849121094,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "d9364482.82062"
            ]
        ]
    },
    {
        "id": "d9364482.82062",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3301.800048828125,
        "y": 3296.0857849121094,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "cf188c9f.ecc3c8"
            ]
        ]
    },
    {
        "id": "cf188c9f.ecc3c8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"LEAF CONN DOES NOT EXIST BUT IT SHOULD BE.\" />\n\n",
        "comments": "",
        "x": 3477.800048828125,
        "y": 3294.0857849121094,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "b6f13f54.b0b718",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3156.800048828125,
        "y": 3351.0857849121094,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "fa2c2e9e.fbd89"
            ]
        ]
    },
    {
        "id": "fa2c2e9e.fbd89",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3003.800048828125,
        "y": 3484.0857849121094,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "e994ec3a.2da648",
                "fbbab64f.85fdd8",
                "33b02c47.fcccbc",
                "e05b8262.c1f5c8",
                "b8b4eeda.6b348",
                "3a07e59d.95a52a"
            ]
        ]
    },
    {
        "id": "aa1b84fb.ddf7b",
        "type": "comment",
        "name": "Find LEAF connectivity",
        "info": "",
        "comments": "",
        "x": 3225.88330078125,
        "y": 3724.2857360839844,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "e05b8262.c1f5c8",
        "type": "set",
        "name": "set tmp.MMstillHasUni to FALSE",
        "xml": "<set>\n<parameter name='tmp.MMstillHasUni' value='false' />\n",
        "comments": "",
        "x": 3308.333251953125,
        "y": 3497.0857849121094,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "b8b4eeda.6b348",
        "type": "for",
        "name": "for each relationship of middle-man-conn",
        "xml": "<for silentFailure='true' index='cridx' start='0' end='`$middle-man-conn.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3306.8330078125,
        "y": 3543.0025329589844,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "28597309.d39dac"
            ]
        ]
    },
    {
        "id": "28597309.d39dac",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$middle-man-conn.relationship-list.relationship[$cridx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3569.8330078125,
        "y": 3538.0025329589844,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "d8dec514.e87428"
            ]
        ]
    },
    {
        "id": "d8dec514.e87428",
        "type": "outcome",
        "name": "uni",
        "xml": "<outcome value='uni'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3729.83251953125,
        "y": 3518.0025329589844,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "5a2012d5.a1cef4"
            ]
        ]
    },
    {
        "id": "3416f94d.d55766",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5066.834228515625,
        "y": 3549.0025634765625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "d47c10e5.abb1a",
                "37972450.3f34e4",
                "9d62dddf.19f4b"
            ]
        ]
    },
    {
        "id": "d47c10e5.abb1a",
        "type": "set",
        "name": "set tmp.MMstillHasUni to TRUE",
        "xml": "<set>\n<parameter name='tmp.MMstillHasUni' value='true' />\n",
        "comments": "",
        "x": 5306.334716796875,
        "y": 3498.0858154296875,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "37972450.3f34e4",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 5239.568145751953,
        "y": 3571.0858459472656,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "81bb4a2a.7bc33",
        "type": "comment",
        "name": "Find LEAF and ROOT connectivities and remove UNI from PNC",
        "info": "",
        "comments": "",
        "x": 4432.88427734375,
        "y": 5105.285980224609,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "2212222d.1721a6",
        "type": "set",
        "name": "set tmp.leafconn.",
        "xml": "<set>\n<parameter name='tmp.leafconn.' value='`$tmp.the-connectivity.`' />\n",
        "comments": "",
        "x": 4331.317138671875,
        "y": 5157.202484130859,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "cdd12e42.2ba1b8",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:cll-vnf-topology-operation-cll-helper-find-ROOT-conn",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='cll-vnf-topology-operation-cll-helper-find-ROOT-conn' mode='sync' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4482.317138671875,
        "y": 5600.202484130859,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "7f0c132f.b1df44",
        "type": "switchNode",
        "name": "switch found-root-connectivity",
        "xml": "\n<switch test=\"`$found-root-connectivity`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4297.317138671875,
        "y": 5667.202484130859,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "926aab17.e275a",
                "bc8bcaa1.d641e8"
            ]
        ]
    },
    {
        "id": "926aab17.e275a",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4562.317138671875,
        "y": 5652.202484130859,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "749c0d73.9fee4c"
            ]
        ]
    },
    {
        "id": "bc8bcaa1.d641e8",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4558.317138671875,
        "y": 5700.202484130859,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "49001f8f.249f28"
            ]
        ]
    },
    {
        "id": "749c0d73.9fee4c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4718.317138671875,
        "y": 5648.202484130859,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "17e137f7.f9138"
            ]
        ]
    },
    {
        "id": "49001f8f.249f28",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='Root Connectivity was not found' />\n",
        "comments": "",
        "x": 4706.317138671875,
        "y": 5695.202484130859,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "e9eb95a.e0ce568",
        "type": "set",
        "name": "set tmp.rootconn.",
        "xml": "<set>\n<parameter name='tmp.rootconn.' value=\"`$tmp.aai.ROOT.connectivity.`\" />\n\n\n",
        "comments": "",
        "x": 5138.3173828125,
        "y": 5590.202484130859,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "7c03a888.d651",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.domain.pnf-name' value=\"`'networkId-providerId-' +\n                                                   $tmp.leafconn.access-provider-id + '-clientId-' +\n                                                   $tmp.leafconn.access-client-id + '-topologyId-' +\n                                                   $tmp.leafconn.access-topology-id + '-nodeId-' +\n                                                   $tmp.leafconn.access-node-id`\" />\n",
        "comments": "",
        "x": 4540.734130859375,
        "y": 5186.486175537109,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "b943d622.b35cc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4311.734130859375,
        "y": 5275.486175537109,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "7c03a888.d651",
                "741f789d.c1701"
            ]
        ]
    },
    {
        "id": "741f789d.c1701",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.domain.pnf-name\"\n        pfx='tmp.aai.source-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 4547.734130859375,
        "y": 5268.486175537109,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "8e631709.9703e",
                "67d67460.c609e4",
                "d648c0fa.0b77a8"
            ]
        ]
    },
    {
        "id": "8e631709.9703e",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4743.2342529296875,
        "y": 5220.486175537109,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "557dbe85.6b2148"
            ]
        ]
    },
    {
        "id": "67d67460.c609e4",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4735.2342529296875,
        "y": 5275.486175537109,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "5bf448c8.1a6988"
            ]
        ]
    },
    {
        "id": "557dbe85.6b2148",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4887.6165771484375,
        "y": 5220.141845703125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "fe2fb306.35f718"
            ]
        ]
    },
    {
        "id": "fe2fb306.35f718",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='spvidx' start='0' end='`$tmp.aai.source-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 5071.734130859375,
        "y": 5218.486175537109,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "623662a6.321084"
            ]
        ]
    },
    {
        "id": "623662a6.321084",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5266.734130859375,
        "y": 5218.486175537109,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "e938fab.b235908"
            ]
        ]
    },
    {
        "id": "d648c0fa.0b77a8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4740.2342529296875,
        "y": 5332.486175537109,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "b12af343.8616c"
            ]
        ]
    },
    {
        "id": "b12af343.8616c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4892.2342529296875,
        "y": 5333.486175537109,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "5bf448c8.1a6988",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4903.2342529296875,
        "y": 5276.486175537109,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "45e37676.b3ae38",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5648.734130859375,
        "y": 5222.486175537109,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "ab290c95.7c31f8",
                "9018bd5e.6b648",
                "b0b7686a.f22a48"
            ]
        ]
    },
    {
        "id": "e938fab.b235908",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5469.734130859375,
        "y": 5222.486175537109,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "45e37676.b3ae38"
            ]
        ]
    },
    {
        "id": "9018bd5e.6b648",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domain.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domain.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 5854.734130859375,
        "y": 5235.486175537109,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "6880c853.571ac",
                "27b0dc8.dc2bca4",
                "88c18631.ac0cc8"
            ]
        ]
    },
    {
        "id": "ab290c95.7c31f8",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domain id",
        "xml": "<set>\n<parameter name='tmp.domain.esr-thirdparty-id' value=\"`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 5884.734130859375,
        "y": 5183.486175537109,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "6880c853.571ac",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 6064.734130859375,
        "y": 5226.486175537109,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "23e6d39c.ca6f94"
            ]
        ]
    },
    {
        "id": "27b0dc8.dc2bca4",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 6056.734130859375,
        "y": 5281.486175537109,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "c0508cff.258128"
            ]
        ]
    },
    {
        "id": "88c18631.ac0cc8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 6061.734130859375,
        "y": 5338.486175537109,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "9fe983fa.692458"
            ]
        ]
    },
    {
        "id": "9fe983fa.692458",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 6213.734130859375,
        "y": 5339.486175537109,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "c0508cff.258128",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 6224.734130859375,
        "y": 5284.486175537109,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "23e6d39c.ca6f94",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 6209.116455078125,
        "y": 5224.141845703125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "e1b89291.825068"
            ]
        ]
    },
    {
        "id": "e1b89291.825068",
        "type": "set",
        "name": "set controller domain data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.url' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.user' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.password' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 6423.734130859375,
        "y": 5220.486175537109,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "b0b7686a.f22a48",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 5804.734130859375,
        "y": 5299.486175537109,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "467c3bf.71cfdc4",
        "type": "execute",
        "name": "execute RestApiCallNode Delete LEAF UNI of ethernet Service without token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.url + '/restconf/data/ietf-eth-tran-service:etht-svc/etht-svc-instances=' + $tmp.leafconn.etht-svc-name + '/etht-svc-end-points=' + $tmp.LEAF.uni-p-interface-long`\" />\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.restapi.connection-oof-url`\" />-->\n<!--<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sotn-ethernet-service.json'`\" />-->\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"delete\"/>\n<parameter name='dirPath' value=\"/opt/onap/sdnc/restconfapi/yang\" />\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 4453.234375,
        "y": 5380.085784912109,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "475456de.095b28",
                "e46dba62.d133c8"
            ]
        ]
    },
    {
        "id": "475456de.095b28",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4813.734130859375,
        "y": 5388.085784912109,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "e4100738.bedad8"
            ]
        ]
    },
    {
        "id": "e4100738.bedad8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing delete ethernet service rest api\" />\n",
        "comments": "",
        "x": 4971.734130859375,
        "y": 5388.085784912109,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "2c862c6c.12858c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4975.234130859375,
        "y": 5428.085784912109,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "e46dba62.d133c8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4817.734130859375,
        "y": 5428.085784912109,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "2c862c6c.12858c"
            ]
        ]
    },
    {
        "id": "4be3ffba.2e7d2",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5126.451171875,
        "y": 5642.085784912109,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "6bb3bb26.aa81b4",
                "1977e509.6db2ab"
            ]
        ]
    },
    {
        "id": "1977e509.6db2ab",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.domain.pnf-name\"\n        pfx='tmp.aai.source-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 5368.450927734375,
        "y": 5592.085784912109,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "b10ef966.1e9bd8",
                "14377f23.b76f19",
                "338fe6b.9e69f9a"
            ]
        ]
    },
    {
        "id": "b10ef966.1e9bd8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5563.951171875,
        "y": 5526.085784912109,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "ca399707.489dc"
            ]
        ]
    },
    {
        "id": "14377f23.b76f19",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5559.951171875,
        "y": 5582.085784912109,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "9a688c1c.979b18"
            ]
        ]
    },
    {
        "id": "ca399707.489dc",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5708.3333740234375,
        "y": 5543.741455078125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "518bb115.3e1828"
            ]
        ]
    },
    {
        "id": "518bb115.3e1828",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='spvidx' start='0' end='`$tmp.aai.source-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 5892.450927734375,
        "y": 5542.085784912109,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "a95efbd.96c1f88"
            ]
        ]
    },
    {
        "id": "338fe6b.9e69f9a",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5569.951171875,
        "y": 5627.085784912109,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "2bd9cd74.b57772"
            ]
        ]
    },
    {
        "id": "2bd9cd74.b57772",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5748.951171875,
        "y": 5643.085784912109,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "9a688c1c.979b18",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5730.951171875,
        "y": 5595.085784912109,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "a5be160b.7233f8",
        "type": "execute",
        "name": "execute RestApiCallNode Delete UNI of ethernet Service without token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.url + '/restconf/data/ietf-eth-tran-service:etht-svc/etht-svc-instances=' + $tmp.rootconn.etht-svc-name + '/etht-svc-end-points=' + $tmp.ROOT.uni-p-interface-long`\" />\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.restapi.connection-oof-url`\" />-->\n<!--<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sotn-ethernet-service.json'`\" />-->\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"delete\"/>\n<parameter name='dirPath' value=\"/opt/onap/sdnc/restconfapi/yang\" />\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 5279.951171875,
        "y": 5697.685394287109,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "21841842.1d8ad8",
                "25d11f87.0e38d"
            ]
        ]
    },
    {
        "id": "21841842.1d8ad8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5628.451171875,
        "y": 5679.685394287109,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "77a65248.1f8454"
            ]
        ]
    },
    {
        "id": "77a65248.1f8454",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing delete ethernet service rest api\" />\n",
        "comments": "",
        "x": 5884.451171875,
        "y": 5682.685394287109,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "36c31917.4e963e",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 5836.951171875,
        "y": 5723.685394287109,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "25d11f87.0e38d",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5638.451171875,
        "y": 5728.685394287109,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "36c31917.4e963e"
            ]
        ]
    },
    {
        "id": "6bb3bb26.aa81b4",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.domain.pnf-name' value=\"`'networkId-providerId-' +\n                                                   $tmp.rootconn.access-provider-id + '-clientId-' +\n                                                   $tmp.rootconn.access-client-id + '-topologyId-' +\n                                                   $tmp.rootconn.access-topology-id + '-nodeId-' +\n                                                   $tmp.rootconn.access-node-id`\" />\n",
        "comments": "",
        "x": 5361.450927734375,
        "y": 5510.085784912109,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "a95efbd.96c1f88",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 6087.450927734375,
        "y": 5542.085784912109,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "5b53283.237bd58"
            ]
        ]
    },
    {
        "id": "32954f05.a0f998",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 6469.450927734375,
        "y": 5546.085784912109,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "77ce96c2.5602e8",
                "3fe633a6.1c94b4",
                "2e5333ff.9beaf4"
            ]
        ]
    },
    {
        "id": "5b53283.237bd58",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 6290.450927734375,
        "y": 5546.085784912109,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "32954f05.a0f998"
            ]
        ]
    },
    {
        "id": "3fe633a6.1c94b4",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domain.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domain.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 6675.450927734375,
        "y": 5559.085784912109,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "6653ee89.119c48",
                "90d289d3.d64128",
                "65b6f2f3.cb40dc"
            ]
        ]
    },
    {
        "id": "77ce96c2.5602e8",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domain id",
        "xml": "<set>\n<parameter name='tmp.domain.esr-thirdparty-id' value=\"`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 6705.450927734375,
        "y": 5507.085784912109,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "6653ee89.119c48",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 6885.450927734375,
        "y": 5550.085784912109,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "e4a1281d.94a088"
            ]
        ]
    },
    {
        "id": "90d289d3.d64128",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 6877.450927734375,
        "y": 5605.085784912109,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "c0981577.68ad28"
            ]
        ]
    },
    {
        "id": "65b6f2f3.cb40dc",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 6882.450927734375,
        "y": 5662.085784912109,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "9cc01382.31d9c8"
            ]
        ]
    },
    {
        "id": "9cc01382.31d9c8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 7034.450927734375,
        "y": 5663.085784912109,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "c0981577.68ad28",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 7045.450927734375,
        "y": 5608.085784912109,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "e4a1281d.94a088",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 7029.833251953125,
        "y": 5547.741455078125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "e0ec5a36.3fa468"
            ]
        ]
    },
    {
        "id": "e0ec5a36.3fa468",
        "type": "set",
        "name": "set controller domain data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.url' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.user' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.password' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 7244.450927734375,
        "y": 5544.085784912109,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "2e5333ff.9beaf4",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 6625.450927734375,
        "y": 5623.085784912109,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "5a2012d5.a1cef4",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3854.88330078125,
        "y": 3512.2857360839844,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "2e4356c1.85e5c2",
                "817ee67a.98bbb8"
            ]
        ]
    },
    {
        "id": "2e4356c1.85e5c2",
        "type": "set",
        "name": "set tmp.mmUNI-id-long",
        "xml": "<set>\n<parameter name='tmp.mmUNI-id-long' value='`$middle-man-conn.relationship-list.relationship[$cridx].relationship-data[0].relationship-value`' />\n",
        "comments": "",
        "x": 4045.466552734375,
        "y": 3455.0857849121094,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "817ee67a.98bbb8",
        "type": "switchNode",
        "name": "switch tmp.mmUNI-id-long != ROOT UNI",
        "xml": "\n<switch test=\"`$tmp.mmUNI-id-long != $tmp.ROOT.uni-p-interface-long`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4092.466552734375,
        "y": 3526.0857849121094,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "eff8b608.f4ac8",
                "aeb603b8.1d9588"
            ]
        ]
    },
    {
        "id": "eff8b608.f4ac8",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4330.884033203125,
        "y": 3485.2857360839844,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "bb88d9bc.29cfc"
            ]
        ]
    },
    {
        "id": "aeb603b8.1d9588",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4337.884246826172,
        "y": 3542.2857055664062,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "c59416d6.8ba4c8"
            ]
        ]
    },
    {
        "id": "bb88d9bc.29cfc",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4458.884521484375,
        "y": 3481.2857360839844,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "3a07e59d.95a52a",
        "type": "set",
        "name": "set tmp.MMonlyHasROOT to TRUE",
        "xml": "<set>\n<parameter name='tmp.MMonlyHasROOT' value='true' />\n",
        "comments": "",
        "x": 3314.083251953125,
        "y": 3439.6858825683594,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "9d62dddf.19f4b",
        "type": "set",
        "name": "set tmp.MMonlyHasROOT to FALSE",
        "xml": "<set>\n<parameter name='tmp.MMonlyHasROOT' value='false' />\n",
        "comments": "",
        "x": 5295.91748046875,
        "y": 3441.6859130859375,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "94bd3415.1f22d8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4407.6669921875,
        "y": 3961.9024353027344,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "6935663a.9d5408",
                "be9be1c2.b73f18"
            ]
        ]
    },
    {
        "id": "6935663a.9d5408",
        "type": "set",
        "name": "set tmp.uni.id",
        "xml": "<set>\n<parameter name='tmp.uni.id' value='`$tmp.the-connectivity.relationship-list.relationship[$cridx].relationship-data[0].relationship-value`' />\n",
        "comments": "",
        "x": 4580.5498046875,
        "y": 3957.5621032714844,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "be9be1c2.b73f18",
        "type": "save",
        "name": "get uni from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"uni\"\n\t    key=\"uni.id = $tmp.uni.id\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.uni\" >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4583.5498046875,
        "y": 4004.5621032714844,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "c0042631.4f4f28",
                "22708d43.de1092",
                "4a7fa995.9eae4"
            ]
        ]
    },
    {
        "id": "c0042631.4f4f28",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4755.5498046875,
        "y": 3988.5621032714844,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "ca5dd9fd.1cc728"
            ]
        ]
    },
    {
        "id": "22708d43.de1092",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4756.040771484375,
        "y": 4034.1361389160156,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "4a7fa995.9eae4",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4756.5498046875,
        "y": 4074.5621032714844,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "ca5dd9fd.1cc728",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4916.5498046875,
        "y": 3984.5621032714844,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "47c9bf0a.a975f",
                "7fbd75a1.7d6984",
                "d27053b4.e2d198"
            ]
        ]
    },
    {
        "id": "4c40c5cd.79b95c",
        "type": "comment",
        "name": "find the node part of the uni.id (uni-tp-id-node-part)",
        "info": "",
        "comments": "",
        "x": 5249.5498046875,
        "y": 3915.5621032714844,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "7fbd75a1.7d6984",
        "type": "execute",
        "name": "execute split id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.aai.uni.id`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-uni-pnfName\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 5184.5498046875,
        "y": 3972.5621032714844,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "daa849f8.0ba3e",
                "4a912d90.87d7dc"
            ]
        ]
    },
    {
        "id": "4a912d90.87d7dc",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5407.5498046875,
        "y": 3958.5621032714844,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "88c966fa.22614"
            ]
        ]
    },
    {
        "id": "daa849f8.0ba3e",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5409.5498046875,
        "y": 3991.5621032714844,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "9f641079.ba835"
            ]
        ]
    },
    {
        "id": "88c966fa.22614",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5555.5498046875,
        "y": 3951.5621032714844,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "9a9d27fb.7b5ae"
            ]
        ]
    },
    {
        "id": "9f641079.ba835",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 5552.5498046875,
        "y": 3988.5621032714844,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "9a9d27fb.7b5ae",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.uni.pnf-name' value=\"`$param-prefix-uni-pnfName[0] + '-' +\n                                                   $param-prefix-uni-pnfName[1] + '-' +\n                                                   $param-prefix-uni-pnfName[2] + '-' +\n                                                   $param-prefix-uni-pnfName[3] + '-' +\n                                                   $param-prefix-uni-pnfName[4] + '-' +\n                                                   $param-prefix-uni-pnfName[5] + '-' +\n                                                   $param-prefix-uni-pnfName[6] + '-' +\n                                                   $param-prefix-uni-pnfName[7] + '-' +\n                                                   $param-prefix-uni-pnfName[8]`\" />\n",
        "comments": "",
        "x": 5732.5498046875,
        "y": 3951.5621032714844,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "47c9bf0a.a975f",
        "type": "switchNode",
        "name": "switch uni-tp-id-node-part is the same as the LEAF node",
        "xml": "<switch test='`$tmp.uni.pnf-name == $tmp.LEAF.pnf-name-long`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5228.5498046875,
        "y": 4106.562103271484,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "9f7c3aad.53ed38",
                "d508e81a.16c548"
            ]
        ]
    },
    {
        "id": "9f7c3aad.53ed38",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5509.5498046875,
        "y": 4083.5621032714844,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "6b5444ec.0e74cc"
            ]
        ]
    },
    {
        "id": "d508e81a.16c548",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5502.5498046875,
        "y": 4142.562103271484,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "a57a183a.4f512"
            ]
        ]
    },
    {
        "id": "6b5444ec.0e74cc",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5639.5498046875,
        "y": 4087.5621032714844,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "a57a183a.4f512",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 5644.5498046875,
        "y": 4141.562103271484,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "b18806a7.b3bfd",
                "ccf1cec1.bc032"
            ]
        ]
    },
    {
        "id": "b18806a7.b3bfd",
        "type": "set",
        "name": "set no-pce-call",
        "xml": "<set>\n<parameter name='no-pce-call' value=\"true\" />\n",
        "comments": "",
        "x": 5836.5498046875,
        "y": 4108.562103271484,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "2b23daed.de49a6",
        "type": "set",
        "name": "set middle-man-conn",
        "xml": "<set>\n<parameter name='middle-man-conn.' value='`$tmp.aai.all-connectivities.connectivity[$connidx].`' />\n",
        "comments": "",
        "x": 5852.5498046875,
        "y": 4160.562103271484,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "ccf1cec1.bc032",
        "type": "set",
        "name": "set tmp.stillHasUni and tmp.keepVPNBs to TRUE",
        "xml": "<set>\n<parameter name='tmp.stillHasUni' value='true' />\n<parameter name='tmp.keepVPNBs' value='true' />\n",
        "comments": "",
        "x": 5870.83349609375,
        "y": 4230.152435302734,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "d27053b4.e2d198",
        "type": "set",
        "name": "set tmp.stillHasUni to TRUE",
        "xml": "<set>\n<parameter name='tmp.stillHasUni' value='true' />\n",
        "comments": "",
        "x": 5147.533203125,
        "y": 4056.0523376464844,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "2520c605.40a22a",
        "type": "switchNode",
        "name": "switch tmp.stillHasUni?",
        "xml": "\n<switch test=\"`$tmp.stillHasUni`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 383.7339172363281,
        "y": 5326.252044677734,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "c1b9af54.b56a3",
                "ab60aff5.ef6de8"
            ]
        ]
    },
    {
        "id": "37365b38.b727a4",
        "type": "save",
        "name": "get root uni from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"uni\"\n\t    key=\"uni.id = $tmp.ROOT.uni-p-interface-long\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.rootuni\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 4288.516357421875,
        "y": 5490.135833740234,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "81da98d4.afeb3",
                "3ec2a5e9.1b8c7a",
                "90c2c87a.2ba4f8"
            ]
        ]
    },
    {
        "id": "1b110349.17b25d",
        "type": "comment",
        "name": "Update ROOT UNI's bw -- ALREADY DONE",
        "info": "",
        "comments": "",
        "x": 4286.516845703125,
        "y": 5442.136077880859,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "feaf6c5c.b919f",
        "type": "save",
        "name": "update ROOT UNI in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='uni' \n      key='uni.id = $tmp.ROOT.uni-p-interface-long'>\n<parameter name='id' value='`$tmp.ROOT.uni-p-interface-long`' />\n<parameter name='data-source' value='`$tmp.newbw`' />\n",
        "comments": "",
        "outputs": 1,
        "x": 4903.5166015625,
        "y": 5560.136077880859,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "3ec2a5e9.1b8c7a",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4506.007568359375,
        "y": 5460.710052490234,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "3e15c1e0.3f5b3e"
            ]
        ]
    },
    {
        "id": "90c2c87a.2ba4f8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4501.5166015625,
        "y": 5505.136016845703,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "f6e77d5b.d9f6c8"
            ]
        ]
    },
    {
        "id": "3e15c1e0.3f5b3e",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 4668.5791015625,
        "y": 5459.995758056641,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "f6e77d5b.d9f6c8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 4669.5166015625,
        "y": 5505.136016845703,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "ac60929d.a61b6",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4666.5166015625,
        "y": 5555.136077880859,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "86bfdde2.f9d01",
                "feaf6c5c.b919f"
            ]
        ]
    },
    {
        "id": "81da98d4.afeb3",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4497.5166015625,
        "y": 5555.136077880859,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "ac60929d.a61b6"
            ]
        ]
    },
    {
        "id": "86bfdde2.f9d01",
        "type": "set",
        "name": "set new bw",
        "xml": "<set>\n<parameter name='tmp.newbw' value='`$tmp.aai.rootuni.data-source - $bwToBeDecreased`' />\n",
        "comments": "",
        "x": 4859.517578125,
        "y": 5480.136077880859,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "ace6c92e.10b74",
        "type": "comment",
        "name": "Update connectivity status to modified",
        "info": "",
        "comments": "",
        "x": 5288.216796875,
        "y": 5417.902679443359,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "17e137f7.f9138",
        "type": "save",
        "name": "update ROOT connectivity resource in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $tmp.aai.ROOT.connectivity.connectivity-id'>\n<parameter name='connectivity-id' value='`$tmp.aai.ROOT.connectivity.connectivity-id`' />\n<parameter name='operational-status' value='Modified' />\n",
        "comments": "",
        "outputs": 1,
        "x": 5314,
        "y": 5460.102874755859,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "c1b9af54.b56a3",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 567.8836059570312,
        "y": 5377.285736083984,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "ee95a91b.c63f6"
            ]
        ]
    },
    {
        "id": "ab60aff5.ef6de8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 550.883544921875,
        "y": 5299.285736083984,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "50a1f630.9e921"
            ]
        ]
    },
    {
        "id": "e3a00d61.16ee98",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 679.8833923339844,
        "y": 4386.285461425781,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "31d81fe6.59b2e8",
                "32e6c64e.1f59ea",
                "ec3295c7.2b4e68",
                "28934462.eda2dc",
                "f47b26f.a890d58",
                "787fd0ee.fe0408",
                "e0d5d04e.46068"
            ]
        ]
    },
    {
        "id": "31d81fe6.59b2e8",
        "type": "set",
        "name": "set tmp.leafconn.",
        "xml": "<set>\n<parameter name='tmp.leafconn.' value='`$tmp.the-connectivity.`' />\n",
        "comments": "",
        "x": 931.5667419433594,
        "y": 4364.335266113281,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "7f4eb95e.24b05",
        "type": "comment",
        "name": "Find LEAF and ROOT connectivities and remove UNI from PNC",
        "info": "",
        "comments": "",
        "x": 1033.1338806152344,
        "y": 4312.418762207031,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "6288e052.96f2",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.domain.pnf-name' value=\"`'networkId-providerId-' +\n                                                   $tmp.leafconn.access-provider-id + '-clientId-' +\n                                                   $tmp.leafconn.access-client-id + '-topologyId-' +\n                                                   $tmp.leafconn.access-topology-id + '-nodeId-' +\n                                                   $tmp.leafconn.access-node-id`\" />\n",
        "comments": "",
        "x": 1140.9837341308594,
        "y": 4393.618957519531,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "32e6c64e.1f59ea",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 911.9837341308594,
        "y": 4482.618957519531,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "6288e052.96f2",
                "fe4b92e6.ffdd"
            ]
        ]
    },
    {
        "id": "fe4b92e6.ffdd",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.domain.pnf-name\"\n        pfx='tmp.aai.source-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 1147.9837341308594,
        "y": 4475.618957519531,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "a543f0e2.a728d8",
                "2a0dd5d7.a28cf2",
                "7ecf5c91.3a5cec"
            ]
        ]
    },
    {
        "id": "a543f0e2.a728d8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1343.4838562011719,
        "y": 4427.618957519531,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "ff8dc86e.9ae7d8"
            ]
        ]
    },
    {
        "id": "2a0dd5d7.a28cf2",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1335.4838562011719,
        "y": 4482.618957519531,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "2e71c1c5.bae5ee"
            ]
        ]
    },
    {
        "id": "ff8dc86e.9ae7d8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1487.8661804199219,
        "y": 4427.274627685547,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "ea932b87.e300a"
            ]
        ]
    },
    {
        "id": "ea932b87.e300a",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='spvidx' start='0' end='`$tmp.aai.source-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1671.9837341308594,
        "y": 4425.618957519531,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "a57e88f9.3dbb78"
            ]
        ]
    },
    {
        "id": "a57e88f9.3dbb78",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1866.9837341308594,
        "y": 4425.618957519531,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "bc5f5f85.45dd38"
            ]
        ]
    },
    {
        "id": "7ecf5c91.3a5cec",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1340.4838562011719,
        "y": 4539.618957519531,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "555bfa65.d963d4"
            ]
        ]
    },
    {
        "id": "555bfa65.d963d4",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 1492.4838562011719,
        "y": 4540.618957519531,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "2e71c1c5.bae5ee",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 1503.4838562011719,
        "y": 4483.618957519531,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "b2af47a.be99538",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2248.9837341308594,
        "y": 4429.618957519531,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "7d049acd.fef104",
                "735b2479.3a3c34",
                "9afda8fe.94c61"
            ]
        ]
    },
    {
        "id": "bc5f5f85.45dd38",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2069.9837341308594,
        "y": 4429.618957519531,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "b2af47a.be99538"
            ]
        ]
    },
    {
        "id": "ec3295c7.2b4e68",
        "type": "execute",
        "name": "execute RestApiCallNode Delete LEAF UNI of ethernet Service without token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.url + '/restconf/data/ietf-eth-tran-service:etht-svc/etht-svc-instances=' + $tmp.leafconn.etht-svc-name + '/etht-svc-end-points=' + $tmp.LEAF.uni-p-interface-long`\" />\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.restapi.connection-oof-url`\" />-->\n<!--<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sotn-ethernet-service.json'`\" />-->\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"delete\"/>\n<parameter name='dirPath' value=\"/opt/onap/sdnc/restconfapi/yang\" />\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1053.4839782714844,
        "y": 4587.218566894531,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "d93fc4e8.d2141",
                "e3d87702.3e04a"
            ]
        ]
    },
    {
        "id": "e3d87702.3e04a",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1417.9837341308594,
        "y": 4635.218566894531,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "467380a4.6c5ea"
            ]
        ]
    },
    {
        "id": "d93fc4e8.d2141",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1413.9837341308594,
        "y": 4595.218566894531,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "74c8e4d8.aba72c"
            ]
        ]
    },
    {
        "id": "74c8e4d8.aba72c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing delete ethernet service rest api\" />\n",
        "comments": "",
        "x": 1571.9837341308594,
        "y": 4595.218566894531,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "467380a4.6c5ea",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1575.4837341308594,
        "y": 4635.218566894531,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "735b2479.3a3c34",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domain.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domain.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 2454.9837341308594,
        "y": 4442.618957519531,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "c4e177eb.43ef28",
                "2d977136.9bd1f6",
                "57e5d5ac.7eac64"
            ]
        ]
    },
    {
        "id": "7d049acd.fef104",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domain id",
        "xml": "<set>\n<parameter name='tmp.domain.esr-thirdparty-id' value=\"`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 2484.9837341308594,
        "y": 4390.618957519531,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "c4e177eb.43ef28",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2664.9837341308594,
        "y": 4433.618957519531,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "e1f43f97.38cd18"
            ]
        ]
    },
    {
        "id": "2d977136.9bd1f6",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2656.9837341308594,
        "y": 4488.618957519531,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "96a7d4c6.d3f4b"
            ]
        ]
    },
    {
        "id": "57e5d5ac.7eac64",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2661.9837341308594,
        "y": 4545.618957519531,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "c392199a.c19ae8"
            ]
        ]
    },
    {
        "id": "c392199a.c19ae8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 2813.9837341308594,
        "y": 4546.618957519531,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "96a7d4c6.d3f4b",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 2824.9837341308594,
        "y": 4491.618957519531,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "e1f43f97.38cd18",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2809.3660583496094,
        "y": 4431.274627685547,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "a7aa546c.5009d8"
            ]
        ]
    },
    {
        "id": "a7aa546c.5009d8",
        "type": "set",
        "name": "set controller domain data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.url' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.user' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.password' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 3023.9837341308594,
        "y": 4427.618957519531,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "9afda8fe.94c61",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 2404.9837341308594,
        "y": 4506.618957519531,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "28934462.eda2dc",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:cll-vnf-topology-operation-cll-helper-find-ROOT-conn",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='cll-vnf-topology-operation-cll-helper-find-ROOT-conn' mode='sync' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1082.5667419433594,
        "y": 4807.335266113281,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "f47b26f.a890d58",
        "type": "switchNode",
        "name": "switch found-root-connectivity",
        "xml": "\n<switch test=\"`$found-root-connectivity`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 897.5667419433594,
        "y": 4874.335266113281,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "d8af5065.8b84b8",
                "1e55c33.7a66f3d"
            ]
        ]
    },
    {
        "id": "d8af5065.8b84b8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1162.5667419433594,
        "y": 4859.335266113281,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "f3c54a4a.4e3ba8"
            ]
        ]
    },
    {
        "id": "1e55c33.7a66f3d",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1158.5667419433594,
        "y": 4907.335266113281,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "ce49485f.e53e78"
            ]
        ]
    },
    {
        "id": "f3c54a4a.4e3ba8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1318.5667419433594,
        "y": 4855.335266113281,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "f655fe6a.478a2"
            ]
        ]
    },
    {
        "id": "ce49485f.e53e78",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='Root Connectivity was not found' />\n",
        "comments": "",
        "x": 1306.5667419433594,
        "y": 4902.335266113281,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "f3ecfcf6.c34748",
        "type": "comment",
        "name": "Update connectivity status to modified",
        "info": "",
        "comments": "",
        "x": 1587.4664001464844,
        "y": 4806.035461425781,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "f655fe6a.478a2",
        "type": "save",
        "name": "update ROOT connectivity resource in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $tmp.aai.ROOT.connectivity.connectivity-id'>\n<parameter name='connectivity-id' value='`$tmp.aai.ROOT.connectivity.connectivity-id`' />\n<parameter name='operational-status' value='Modified' />\n",
        "comments": "",
        "outputs": 1,
        "x": 1613.2496032714844,
        "y": 4848.235656738281,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "78dea2d4.65caf4",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:cll-vnf-topology-operation-cll-delete-VPNBs",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='cll-vnf-topology-operation-cll-delete-VPNBs' mode='sync' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1026.8833923339844,
        "y": 4121.602355957031,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "50a1f630.9e921",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 632.8834228515625,
        "y": 4126.285491943359,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "78dea2d4.65caf4",
                "e3a00d61.16ee98"
            ]
        ]
    },
    {
        "id": "ee95a91b.c63f6",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 716.3333740234375,
        "y": 5378.802337646484,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "a4300755.b44ad8",
                "4319a166.6767b",
                "c1e6d7e.1a91aa8",
                "7dc09fd4.2514c"
            ]
        ]
    },
    {
        "id": "a4300755.b44ad8",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:cll-vnf-topology-operation-cll-delete-VPNBs",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='cll-vnf-topology-operation-cll-delete-VPNBs' mode='sync' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1077.7166748046875,
        "y": 5141.8023681640625,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "4319a166.6767b",
        "type": "save",
        "name": "delete LEAF connectivity resource in AAI",
        "xml": "<delete plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $tmp.the-connectivity.connectivity-id'>\n",
        "comments": "",
        "outputs": 1,
        "x": 988.7166748046875,
        "y": 5210.8023681640625,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "c1e6d7e.1a91aa8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 879.88330078125,
        "y": 5445.8023681640625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "6bef4230.e722e4",
                "41351f51.03e8b",
                "71820932.ce34a"
            ]
        ]
    },
    {
        "id": "2a329201.baab2e",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domain.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domain.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 2588.882568359375,
        "y": 5370.8023681640625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "65fc47.6ca7abb8",
                "955b1af3.e7d3b8",
                "72151671.442258"
            ]
        ]
    },
    {
        "id": "daaffadf.b0d788",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 2538.882568359375,
        "y": 5434.8023681640625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "ae76296d.4aa7d8",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domain id",
        "xml": "<set>\n<parameter name='tmp.domain.esr-thirdparty-id' value=\"`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 2618.882568359375,
        "y": 5318.8023681640625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "65fc47.6ca7abb8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2906.8826904296875,
        "y": 5301.8023681640625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "6f1e5821.6bfab8"
            ]
        ]
    },
    {
        "id": "955b1af3.e7d3b8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2898.8826904296875,
        "y": 5356.8023681640625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "5731f70c.9d6e58"
            ]
        ]
    },
    {
        "id": "72151671.442258",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2903.8826904296875,
        "y": 5413.8023681640625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "531fbc69.7d6ca4"
            ]
        ]
    },
    {
        "id": "531fbc69.7d6ca4",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 3055.8826904296875,
        "y": 5414.8023681640625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "5731f70c.9d6e58",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 3066.8826904296875,
        "y": 5359.8023681640625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "6f1e5821.6bfab8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3051.2650146484375,
        "y": 5299.458038330078,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "af5a0545.43691"
            ]
        ]
    },
    {
        "id": "af5a0545.43691",
        "type": "set",
        "name": "set controller domain data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.url' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.user' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.password' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 3265.8826904296875,
        "y": 5295.8023681640625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "6bef4230.e722e4",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.domain.pnf-name' value=\"`'networkId-providerId-' +\n                                                   $tmp.the-connectivity.access-provider-id + '-clientId-' +\n                                                   $tmp.the-connectivity.access-client-id + '-topologyId-' +\n                                                   $tmp.the-connectivity.access-topology-id + '-nodeId-' +\n                                                   $tmp.the-connectivity.access-node-id`\" />\n",
        "comments": "",
        "x": 1161.88330078125,
        "y": 5314.8023681640625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "80b0094c.3afc",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1372.3834228515625,
        "y": 5453.8023681640625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "8b920100.3048e"
            ]
        ]
    },
    {
        "id": "fd028bda.dc87c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1375.3834228515625,
        "y": 5341.8023681640625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "b6a8539e.9a283"
            ]
        ]
    },
    {
        "id": "dfe8b9b5.0780c",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1367.3834228515625,
        "y": 5396.8023681640625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "a57ef7af.c3223"
            ]
        ]
    },
    {
        "id": "b6a8539e.9a283",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1509.765625,
        "y": 5336.4581298828125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "99e24c60.f2ee9"
            ]
        ]
    },
    {
        "id": "8b920100.3048e",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 1524.3834228515625,
        "y": 5454.8023681640625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "a57ef7af.c3223",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 1535.3834228515625,
        "y": 5397.8023681640625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "99e24c60.f2ee9",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='spvidx' start='0' end='`$tmp.aai.source-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1696.8828125,
        "y": 5337.8023681640625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "b066cef.3d778b"
            ]
        ]
    },
    {
        "id": "b066cef.3d778b",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1924.8828125,
        "y": 5330.8023681640625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "bf0363b8.4e697"
            ]
        ]
    },
    {
        "id": "41351f51.03e8b",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.domain.pnf-name\"\n        pfx='tmp.aai.source-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 1179.88330078125,
        "y": 5389.8023681640625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "80b0094c.3afc",
                "fd028bda.dc87c",
                "dfe8b9b5.0780c"
            ]
        ]
    },
    {
        "id": "bf0363b8.4e697",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2130.8828125,
        "y": 5327.8023681640625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "d631d833.b0d378"
            ]
        ]
    },
    {
        "id": "d631d833.b0d378",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2345.8822021484375,
        "y": 5330.8023681640625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "ae76296d.4aa7d8",
                "2a329201.baab2e",
                "daaffadf.b0d788"
            ]
        ]
    },
    {
        "id": "71820932.ce34a",
        "type": "execute",
        "name": "execute RestApiCallNode Delete LEAF ethernet Service without token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.url + '/restconf/data/ietf-eth-tran-service:etht-svc/etht-svc-instances=' + $tmp.the-connectivity.etht-svc-name`\" />\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.restapi.connection-oof-url`\" />-->\n<!--<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sotn-ethernet-service.json'`\" />-->\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"delete\"/>\n<parameter name='dirPath' value=\"/opt/onap/sdnc/restconfapi/yang\" />\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1303.6500244140625,
        "y": 5539.2022705078125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "813e179b.713d1",
                "76f746e6.c0f1d"
            ]
        ]
    },
    {
        "id": "813e179b.713d1",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1650.1500244140625,
        "y": 5532.2022705078125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "455cd4bd.60fbe4"
            ]
        ]
    },
    {
        "id": "76f746e6.c0f1d",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1654.1500244140625,
        "y": 5572.2022705078125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "627d6bed.c81224"
            ]
        ]
    },
    {
        "id": "455cd4bd.60fbe4",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing delete ethernet service rest api\" />\n",
        "comments": "",
        "x": 1808.1500244140625,
        "y": 5532.2022705078125,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "627d6bed.c81224",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1811.6500244140625,
        "y": 5572.2022705078125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "eb743ad2.daea58"
            ]
        ]
    },
    {
        "id": "7dc09fd4.2514c",
        "type": "switchNode",
        "name": "switch tmp.MMstillHasUni?",
        "xml": "\n<switch test=\"`$tmp.MMstillHasUni`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 913.183349609375,
        "y": 5869.002532958984,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "22d45a38.9f5796",
                "bd1f8261.b1a1b"
            ]
        ]
    },
    {
        "id": "22d45a38.9f5796",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1107.183349609375,
        "y": 5696.0025634765625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "b4f2b377.ab70a8"
            ]
        ]
    },
    {
        "id": "bd1f8261.b1a1b",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1093.3500366210938,
        "y": 6018.602630615234,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "f125dad1.1ae098"
            ]
        ]
    },
    {
        "id": "b4f2b377.ab70a8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1255.35009765625,
        "y": 5695.6026611328125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "2ce9ebc5.9980ac",
                "33e7432a.ad365c",
                "1ed03004.8d6e4"
            ]
        ]
    },
    {
        "id": "2ce9ebc5.9980ac",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:cll-vnf-topology-operation-cll-helper-find-ROOT-conn",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='cll-vnf-topology-operation-cll-helper-find-ROOT-conn' mode='sync' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1677.199951171875,
        "y": 5667.0025634765625,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "33e7432a.ad365c",
        "type": "switchNode",
        "name": "switch found-root-connectivity",
        "xml": "\n<switch test=\"`$found-root-connectivity`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1492.199951171875,
        "y": 5734.0025634765625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "e7aa98fb.d5331",
                "d055e12e.7731d8"
            ]
        ]
    },
    {
        "id": "e7aa98fb.d5331",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1757.199951171875,
        "y": 5719.0025634765625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "68adf16f.2488d8"
            ]
        ]
    },
    {
        "id": "d055e12e.7731d8",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1756.199951171875,
        "y": 5767.0025634765625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "f1e6e2bf.7ae47"
            ]
        ]
    },
    {
        "id": "68adf16f.2488d8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1913.199951171875,
        "y": 5715.0025634765625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "b0a90683.d1b168"
            ]
        ]
    },
    {
        "id": "f1e6e2bf.7ae47",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='Root Connectivity was not found' />\n",
        "comments": "",
        "x": 1904.199951171875,
        "y": 5762.0025634765625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "b0a90683.d1b168",
        "type": "save",
        "name": "update ROOT connectivity resource in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $tmp.aai.ROOT.connectivity.connectivity-id'>\n<parameter name='connectivity-id' value='`$tmp.aai.ROOT.connectivity.connectivity-id`' />\n<parameter name='operational-status' value='Modified' />\n",
        "comments": "",
        "outputs": 1,
        "x": 2221.8826904296875,
        "y": 5708.9029541015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "609277ca.345368",
        "type": "comment",
        "name": "Update connectivity status to modified",
        "info": "",
        "comments": "",
        "x": 2196.0994873046875,
        "y": 5666.7027587890625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "f125dad1.1ae098",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1230.916748046875,
        "y": 6017.902435302734,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "6a84ca09.c3f86c",
                "32b2c890.ef7958"
            ]
        ]
    },
    {
        "id": "6a84ca09.c3f86c",
        "type": "for",
        "name": "for each relationship of middle-man-conn",
        "xml": "<for index='rel-index' start='0' end='`$middle-man-conn.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1536.2328491210938,
        "y": 5951.1025390625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "f1408389.66d578"
            ]
        ]
    },
    {
        "id": "f1408389.66d578",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$middle-man-conn.relationship-list.relationship[$rel-index].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1844.566650390625,
        "y": 6007.102569580078,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "89925b7f.d67008"
            ]
        ]
    },
    {
        "id": "89925b7f.d67008",
        "type": "outcome",
        "name": "connectivity",
        "xml": "<outcome value='connectivity'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2024.2332763671875,
        "y": 6007.1026611328125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "ea5801a3.bdc318"
            ]
        ]
    },
    {
        "id": "ea5801a3.bdc318",
        "type": "save",
        "name": "get connectivity from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"connectivity\"\n\t    key=\"connectivity.connectivity-id = $middle-man-conn.relationship-list.relationship[$rel-index].relationship-data[0].relationship-value\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.connectivity\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 2224.233154296875,
        "y": 6007.102630615234,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "a1e89c64.ee08",
                "8d6c0f91.a49cb8",
                "4e2495e6.04e044"
            ]
        ]
    },
    {
        "id": "a1e89c64.ee08",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2431.23291015625,
        "y": 6057.102630615234,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "b790569e.977af8"
            ]
        ]
    },
    {
        "id": "a110091a.c88bd8",
        "type": "save",
        "name": "get vpn-binding from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"vpn-binding\"\n\t    key=\"vpn-binding.vpn-id = $tmp.aai.connectivity.relationship-list.relationship[$cridx].relationship-data[0].relationship-value\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.vpn-binding\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 2408.466552734375,
        "y": 6241.302337646484,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "2d065eb8.336f2a",
                "87ee966c.316df8",
                "aec85de6.45d0c"
            ]
        ]
    },
    {
        "id": "4adb06fe.906c3",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='cridx' start='0' end='`$tmp.aai.connectivity.relationship-list.relationship_length`' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1577.4664916992188,
        "y": 6284.30224609375,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "275bed8a.2109fa"
            ]
        ]
    },
    {
        "id": "275bed8a.2109fa",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.connectivity.relationship-list.relationship[$cridx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1774.4664916992188,
        "y": 6298.30224609375,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "4f9c6be0.2a3c14",
                "a2e8db17.e0dad8"
            ]
        ]
    },
    {
        "id": "4f9c6be0.2a3c14",
        "type": "outcome",
        "name": "vpn-binding",
        "xml": "<outcome value='vpn-binding'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1978.466552734375,
        "y": 6201.30224609375,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "e20e285e.547a2"
            ]
        ]
    },
    {
        "id": "e20e285e.547a2",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2159.466552734375,
        "y": 6217.30224609375,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "a110091a.c88bd8"
            ]
        ]
    },
    {
        "id": "a2e8db17.e0dad8",
        "type": "outcome",
        "name": "uni",
        "xml": "<outcome value='uni'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1988.466552734375,
        "y": 6459.302337646484,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "f74bc39.65f35c"
            ]
        ]
    },
    {
        "id": "f74bc39.65f35c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2151.466552734375,
        "y": 6459.302337646484,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "c00c0bc0.55fe4"
            ]
        ]
    },
    {
        "id": "c00c0bc0.55fe4",
        "type": "save",
        "name": "delete uni resource in AAI",
        "xml": "<delete plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='uni' \n      key='uni.id = $tmp.aai.connectivity.relationship-list.relationship[$cridx].relationship-data[0].relationship-value'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2394.466552734375,
        "y": 6459.302337646484,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "97487c98.0e417",
        "type": "save",
        "name": "delete connectivity resource in AAI",
        "xml": "<delete plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $tmp.aai.connectivity.connectivity-id'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1362.466552734375,
        "y": 7225.302337646484,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "b790569e.977af8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1403.4664916992188,
        "y": 6282.30224609375,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "4adb06fe.906c3",
                "97487c98.0e417",
                "d04fa9dd.0ea93"
            ]
        ]
    },
    {
        "id": "2d065eb8.336f2a",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2619.466552734375,
        "y": 6243.302337646484,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "b92767c5.7007a"
            ]
        ]
    },
    {
        "id": "87ee966c.316df8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2619.95751953125,
        "y": 6288.876373291016,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "39698a7e.793e46"
            ]
        ]
    },
    {
        "id": "aec85de6.45d0c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2617.466552734375,
        "y": 6332.302337646484,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "11419a70.f242ee"
            ]
        ]
    },
    {
        "id": "4e2495e6.04e044",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2455.282958984375,
        "y": 5957.902435302734,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "8d6c0f91.a49cb8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2452.7919921875,
        "y": 6001.328399658203,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "32b2c890.ef7958",
        "type": "save",
        "name": "delete middle-man-conn resource in AAI",
        "xml": "<delete plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $middle-man-conn.connectivity-id'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1533.4000854492188,
        "y": 6012.7021484375,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "b92767c5.7007a",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2785.466552734375,
        "y": 6233.302337646484,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "8147cbd5.b42498",
                "7f8cdbe.2608ca4",
                "991bc3e4.d8b4a8",
                "b286c779.61d138",
                "b9b93ea.866444"
            ]
        ]
    },
    {
        "id": "11419a70.f242ee",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 2784.466552734375,
        "y": 6331.302337646484,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "39698a7e.793e46",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 2782.5289306640625,
        "y": 6289.162109375,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "8147cbd5.b42498",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.domain.pnf-name' value=\"`'networkId-providerId-' +\n                                                   $tmp.aai.vpn-binding.access-provider-id + '-clientId-' +\n                                                   $tmp.aai.vpn-binding.access-client-id + '-topologyId-' +\n                                                   $tmp.aai.vpn-binding.access-topology-id + '-nodeId-' +\n                                                   $tmp.aai.vpn-binding.src-access-node-id`\" />\n",
        "comments": "",
        "x": 3007.466552734375,
        "y": 5951.302337646484,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "7f8cdbe.2608ca4",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.domain.pnf-name\"\n        pfx='tmp.aai.source-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3033.466552734375,
        "y": 6068.302337646484,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "d327bb6b.4f842",
                "fcec59b5.0b9b4",
                "c483fb97.0216f8"
            ]
        ]
    },
    {
        "id": "991bc3e4.d8b4a8",
        "type": "execute",
        "name": "execute RestApiCallNode Delete OTN tunnel with token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<!--<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.ts-otn-src-domain-creation.templatefile`\" />-->\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.url + '/restconf/data/ietf-te:te/tunnels/tunnel=' + $tmp.aai.vpn-binding.vpn-name`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"delete\"/>\n<parameter name=\"responsePrefix\" value=\"otn-oof\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 3136.466552734375,
        "y": 6335.302337646484,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "de0f39f6.8546f",
                "d42c9248.43e218"
            ]
        ]
    },
    {
        "id": "b286c779.61d138",
        "type": "switchNode",
        "name": "switch connectivity has ethernet service",
        "xml": "<switch test='`$tmp.aai.connectivity.etht-svc-name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3074.466552734375,
        "y": 6470.302337646484,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "f81c3e8c.ae8e4",
                "1d01e37a.e82265"
            ]
        ]
    },
    {
        "id": "b9b93ea.866444",
        "type": "save",
        "name": "delete vpn-binding resource in AAI",
        "xml": "<delete plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $tmp.aai.vpn-binding.vpn-id' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3055.466552734375,
        "y": 6586.302337646484,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "d327bb6b.4f842",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3228.9666748046875,
        "y": 6020.302337646484,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "df7e30e7.7c136"
            ]
        ]
    },
    {
        "id": "fcec59b5.0b9b4",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3220.9666748046875,
        "y": 6075.302337646484,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "49204a47.5b32c4"
            ]
        ]
    },
    {
        "id": "df7e30e7.7c136",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3363.348876953125,
        "y": 6014.958099365234,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "2df8196b.742ffe"
            ]
        ]
    },
    {
        "id": "c483fb97.0216f8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3225.9666748046875,
        "y": 6132.302337646484,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "6350206c.c1b658"
            ]
        ]
    },
    {
        "id": "6350206c.c1b658",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 3377.9666748046875,
        "y": 6133.302337646484,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "49204a47.5b32c4",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 3388.9666748046875,
        "y": 6076.302337646484,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "1d01e37a.e82265",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3327.466552734375,
        "y": 6448.302337646484,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "6635b3c9.2401f4"
            ]
        ]
    },
    {
        "id": "f81c3e8c.ae8e4",
        "type": "outcome",
        "name": "Null",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 3327.466552734375,
        "y": 6504.302337646484,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "2df8196b.742ffe",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='spvidx' start='0' end='`$tmp.aai.source-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3550.466064453125,
        "y": 6016.302337646484,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "6df12a4f.4f5be4"
            ]
        ]
    },
    {
        "id": "6df12a4f.4f5be4",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3791.466064453125,
        "y": 6007.302337646484,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "345bdac9.d7580e"
            ]
        ]
    },
    {
        "id": "6635b3c9.2401f4",
        "type": "execute",
        "name": "execute RestApiCallNode Delete ethernet Service without token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.url + '/restconf/data/ietf-eth-tran-service:etht-svc/etht-svc-instances=' + $tmp.aai.connectivity.etht-svc-name`\" />\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.restapi.connection-oof-url`\" />-->\n<!--<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sotn-ethernet-service.json'`\" />-->\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"delete\"/>\n<parameter name='dirPath' value=\"/opt/onap/sdnc/restconfapi/yang\" />\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3677.466064453125,
        "y": 6438.302337646484,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "62245fed.88f7b8",
                "93d26392.9844b"
            ]
        ]
    },
    {
        "id": "de0f39f6.8546f",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3443.966064453125,
        "y": 6360.302337646484,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "efef7a04.122ab"
            ]
        ]
    },
    {
        "id": "d42c9248.43e218",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3444.966064453125,
        "y": 6305.302337646484,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "5547b05c.5a7128"
            ]
        ]
    },
    {
        "id": "efef7a04.122ab",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing delete OTN tunnel rest api\" />\n",
        "comments": "",
        "x": 3615.966064453125,
        "y": 6358.302337646484,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "5547b05c.5a7128",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3612.466064453125,
        "y": 6307.302337646484,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "67e0872f.595688",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4148.4658203125,
        "y": 5956.302337646484,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "5fd99c9d.a6e514",
                "c5566cea.30bd7",
                "ac42532d.c50238"
            ]
        ]
    },
    {
        "id": "345bdac9.d7580e",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3997.466064453125,
        "y": 6004.302337646484,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "67e0872f.595688"
            ]
        ]
    },
    {
        "id": "62245fed.88f7b8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4009.966064453125,
        "y": 6412.302337646484,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "5832ca1b.e5ff14"
            ]
        ]
    },
    {
        "id": "93d26392.9844b",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4013.966064453125,
        "y": 6452.302337646484,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "263d2537.eb493a"
            ]
        ]
    },
    {
        "id": "263d2537.eb493a",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4201.466064453125,
        "y": 6456.302337646484,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "4ed6624e.3d3df4"
            ]
        ]
    },
    {
        "id": "5832ca1b.e5ff14",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing delete ethernet service rest api\" />\n",
        "comments": "",
        "x": 4197.966064453125,
        "y": 6416.302337646484,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "c5566cea.30bd7",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domain.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domain.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 4354.4658203125,
        "y": 5969.302337646484,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "1f8f123b.3b43b6",
                "ad361732.c4c148",
                "b36b591c.d0d57"
            ]
        ]
    },
    {
        "id": "5fd99c9d.a6e514",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domain id",
        "xml": "<set>\n<parameter name='tmp.domain.esr-thirdparty-id' value=\"`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 4384.4658203125,
        "y": 5917.302337646484,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "1f8f123b.3b43b6",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4564.4658203125,
        "y": 5960.302337646484,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "55972070.a10d1"
            ]
        ]
    },
    {
        "id": "ad361732.c4c148",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4556.4658203125,
        "y": 6015.302337646484,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "b3ebf2d9.9fcd08"
            ]
        ]
    },
    {
        "id": "b36b591c.d0d57",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4561.4658203125,
        "y": 6072.302337646484,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "a70cb792.ca4f6"
            ]
        ]
    },
    {
        "id": "ac42532d.c50238",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 4304.4658203125,
        "y": 6033.302337646484,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "a70cb792.ca4f6",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4713.4658203125,
        "y": 6073.302337646484,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "b3ebf2d9.9fcd08",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4724.4658203125,
        "y": 6018.302337646484,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "55972070.a10d1",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4708.84814453125,
        "y": 5957.9580078125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "4ce9545d.714c5c"
            ]
        ]
    },
    {
        "id": "4ce9545d.714c5c",
        "type": "set",
        "name": "set controller domain data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.url' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.user' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.password' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 4923.4658203125,
        "y": 5954.302337646484,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "40aef7f6.0b7228",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.domain.pnf-name' value=\"`'networkId-providerId-' +\n                                                   $tmp.aai.connectivity.access-provider-id + '-clientId-' +\n                                                   $tmp.aai.connectivity.access-client-id + '-topologyId-' +\n                                                   $tmp.aai.connectivity.access-topology-id + '-nodeId-' +\n                                                   $tmp.aai.connectivity.access-node-id`\" />\n",
        "comments": "",
        "x": 1659.2332763671875,
        "y": 6751.902435302734,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "4576702d.22188",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.domain.pnf-name\"\n        pfx='tmp.aai.source-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 1685.2332763671875,
        "y": 6868.902435302734,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "b905b.3d0c77a6",
                "a913e20f.2cee1",
                "5b499033.3c7be8"
            ]
        ]
    },
    {
        "id": "b905b.3d0c77a6",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1880.7333984375,
        "y": 6820.902435302734,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "fda08d88.ca8218"
            ]
        ]
    },
    {
        "id": "a913e20f.2cee1",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1872.7333984375,
        "y": 6875.902435302734,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "6f461b70.2ad3ec"
            ]
        ]
    },
    {
        "id": "fda08d88.ca8218",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2015.1156005859375,
        "y": 6815.558197021484,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "c0fafd9c.883f28"
            ]
        ]
    },
    {
        "id": "5b499033.3c7be8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1877.7333984375,
        "y": 6932.902435302734,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "23b6f155.461de6"
            ]
        ]
    },
    {
        "id": "23b6f155.461de6",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 2029.7333984375,
        "y": 6933.902435302734,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "6f461b70.2ad3ec",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 2040.7333984375,
        "y": 6876.902435302734,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "c0fafd9c.883f28",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='spvidx' start='0' end='`$tmp.aai.source-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2202.2327880859375,
        "y": 6816.902435302734,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "810f1bc.7b19d68"
            ]
        ]
    },
    {
        "id": "810f1bc.7b19d68",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2443.2327880859375,
        "y": 6807.902435302734,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "ad7d1fb5.cc1a18"
            ]
        ]
    },
    {
        "id": "56d2a753.e194",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2800.2325439453125,
        "y": 6756.902435302734,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "1805810f.473127",
                "c086be3e.9f0a58",
                "b6b8383e.7e7b78"
            ]
        ]
    },
    {
        "id": "ad7d1fb5.cc1a18",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2649.2327880859375,
        "y": 6804.902435302734,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "56d2a753.e194"
            ]
        ]
    },
    {
        "id": "c086be3e.9f0a58",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domain.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domain.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 3006.2325439453125,
        "y": 6769.902435302734,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "41ba51ef.c8b828",
                "a2407b12.88a828",
                "6a27d837.9d059"
            ]
        ]
    },
    {
        "id": "b6b8383e.7e7b78",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 2956.2325439453125,
        "y": 6833.902435302734,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "1805810f.473127",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domain id",
        "xml": "<set>\n<parameter name='tmp.domain.esr-thirdparty-id' value=\"`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 3036.2325439453125,
        "y": 6717.902435302734,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "41ba51ef.c8b828",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3216.2325439453125,
        "y": 6760.902435302734,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "67360da7.aafffc"
            ]
        ]
    },
    {
        "id": "a2407b12.88a828",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3208.2325439453125,
        "y": 6815.902435302734,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "aba785db.cff2e"
            ]
        ]
    },
    {
        "id": "6a27d837.9d059",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3213.2325439453125,
        "y": 6872.902435302734,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "2e83f42c.ac084c"
            ]
        ]
    },
    {
        "id": "2e83f42c.ac084c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 3365.2325439453125,
        "y": 6873.902435302734,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "aba785db.cff2e",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 3376.2325439453125,
        "y": 6818.902435302734,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "67360da7.aafffc",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3360.6148681640625,
        "y": 6758.55810546875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "5bfcca0.e84cb38"
            ]
        ]
    },
    {
        "id": "5bfcca0.e84cb38",
        "type": "set",
        "name": "set controller domain data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.url' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.user' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.password' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 3575.2325439453125,
        "y": 6754.902435302734,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "d04fa9dd.0ea93",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1451.2332763671875,
        "y": 6879.902435302734,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "40aef7f6.0b7228",
                "4576702d.22188",
                "1c9c9766.902671"
            ]
        ]
    },
    {
        "id": "1c9c9766.902671",
        "type": "switchNode",
        "name": "switch connectivity has ethernet service",
        "xml": "<switch test='`$tmp.aai.connectivity.etht-svc-name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1733.433349609375,
        "y": 7021.102630615234,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "14008b93.c61004",
                "9e2bb4b2.c6532"
            ]
        ]
    },
    {
        "id": "9e2bb4b2.c6532",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1986.433349609375,
        "y": 6999.102630615234,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "4241c741.35655"
            ]
        ]
    },
    {
        "id": "14008b93.c61004",
        "type": "outcome",
        "name": "Null",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 1986.433349609375,
        "y": 7055.102630615234,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "4241c741.35655",
        "type": "execute",
        "name": "execute RestApiCallNode Delete ethernet Service without token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.url + '/restconf/data/ietf-eth-tran-service:etht-svc/etht-svc-instances=' + $tmp.aai.connectivity.etht-svc-name`\" />\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.restapi.connection-oof-url`\" />-->\n<!--<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sotn-ethernet-service.json'`\" />-->\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"delete\"/>\n<parameter name='dirPath' value=\"/opt/onap/sdnc/restconfapi/yang\" />\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2336.432861328125,
        "y": 6989.102630615234,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "ea96feaf.f1788",
                "4822a513.5b5dec"
            ]
        ]
    },
    {
        "id": "ea96feaf.f1788",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2668.932861328125,
        "y": 6963.102630615234,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "99064a7c.800f78"
            ]
        ]
    },
    {
        "id": "4822a513.5b5dec",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2672.932861328125,
        "y": 7003.102630615234,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "75af94b2.bd71a4"
            ]
        ]
    },
    {
        "id": "75af94b2.bd71a4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2860.432861328125,
        "y": 7007.102630615234,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "383276dd.aedfd2"
            ]
        ]
    },
    {
        "id": "99064a7c.800f78",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing delete ethernet service rest api\" />\n",
        "comments": "",
        "x": 2856.932861328125,
        "y": 6967.102630615234,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "787fd0ee.fe0408",
        "type": "execute",
        "name": "execute RestApiCallNode Delete Underlay OTN tunnel from the LEAF ethernet Service",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.url + '/restconf/data/ietf-eth-tran-service:etht-svc/etht-svc-instances=' + $tmp.leafconn.etht-svc-name + '/underlay/otn-tunnels=' + $tmp.underlayOTN`\" />\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.restapi.connection-oof-url`\" />-->\n<!--<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sotn-ethernet-service.json'`\" />-->\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"delete\"/>\n<parameter name='dirPath' value=\"/opt/onap/sdnc/restconfapi/yang\" />\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1089.25,
        "y": 4706.6856689453125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "9f0cae6f.29b72",
                "ae365d21.2b4fd8"
            ]
        ]
    },
    {
        "id": "9f0cae6f.29b72",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1517.749755859375,
        "y": 4694.6856689453125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "b4e1628f.b3806"
            ]
        ]
    },
    {
        "id": "ae365d21.2b4fd8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1521.749755859375,
        "y": 4734.6856689453125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "f7f8736e.92596"
            ]
        ]
    },
    {
        "id": "b4e1628f.b3806",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing delete ethernet service rest api\" />\n",
        "comments": "",
        "x": 1675.749755859375,
        "y": 4694.6856689453125,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "f7f8736e.92596",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1679.249755859375,
        "y": 4734.6856689453125,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "e95ba342.193f38",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 5113,
        "y": 5027.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "6274dc16.d97334",
                "78a742b8.f3e49c",
                "a7f7a97f.231788"
            ]
        ]
    },
    {
        "id": "a7f7a97f.231788",
        "type": "set",
        "name": "set vpnNameToSearch",
        "xml": "<set>\n<parameter name='vpnNameToSearch' value=\"`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-name`\" />\n",
        "comments": "",
        "x": 5340,
        "y": 4972.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "6274dc16.d97334",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:cll-vnf-topology-operation-cll-searchVpnName",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='cll-vnf-topology-operation-cll-searchVpnName' mode='sync' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 5494,
        "y": 5024.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "78a742b8.f3e49c",
        "type": "switchNode",
        "name": "switch $foundVpnName",
        "xml": "<switch test=\"`$foundVpnName`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 5339,
        "y": 5079.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "198065a6.b0f88a"
            ]
        ]
    },
    {
        "id": "198065a6.b0f88a",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5518,
        "y": 5078.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "9b07993f.50303"
            ]
        ]
    },
    {
        "id": "da74bb6.e442948",
        "type": "set",
        "name": "unset secondary related variables",
        "xml": "<set>\n<parameter name='hasSecondary' value=\"false\" />\n<parameter name='network-route-three' value=\"\" />\n<parameter name='tmp.aai.network-route-three.' value=\"\" />\n<parameter name='tmp.aai.network-route-C.' value=\"\" />\n",
        "comments": "",
        "x": 3380.249969482422,
        "y": 433.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "feffc86e.486bc",
        "type": "set",
        "name": "set network-route-three",
        "xml": "<set>\n<parameter name='network-route-three' value=\"`$tmp.aai.logical-link.segment-id`\" />\n\n\n",
        "comments": "",
        "x": 3344.249969482422,
        "y": 683.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "12bfceb8.d75889",
        "type": "switchNode",
        "name": "switch secondary empty?",
        "xml": "<switch test='`length($network-route-three) == 0`'>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3347.666473388672,
        "y": 725.5357360839844,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "692e1a2b.3a9c5c",
                "b2412330.9864f8"
            ]
        ]
    },
    {
        "id": "692e1a2b.3a9c5c",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3586.6663513183594,
        "y": 561.5357666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "cf959ce5.f99248"
            ]
        ]
    },
    {
        "id": "b2412330.9864f8",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3595.6663513183594,
        "y": 608.5357666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "5a3f29c4.e69d68"
            ]
        ]
    },
    {
        "id": "5a3f29c4.e69d68",
        "type": "set",
        "name": "set hasSecondary true",
        "xml": "<set>\n<parameter name='hasSecondary' value=\"true\" />\n\n\n",
        "comments": "",
        "x": 3809.6663513183594,
        "y": 602.5357666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "cf959ce5.f99248",
        "type": "set",
        "name": "set hasSecondary false",
        "xml": "<set>\n<parameter name='hasSecondary' value=\"false\" />\n\n\n",
        "comments": "",
        "x": 3813.6663513183594,
        "y": 558.5357666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "50bdde17.ca9b2",
        "type": "outcome",
        "name": "SECONDARY-ROOT",
        "xml": "<outcome value='SECONDARY-ROOT'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4175.700408935547,
        "y": 511.9857177734375,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "eb2d50e2.230b88"
            ]
        ]
    },
    {
        "id": "eb2d50e2.230b88",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4349.700408935547,
        "y": 506.9857177734375,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "7743c0e4.ff58d",
                "fbbd6ec6.676af8"
            ]
        ]
    },
    {
        "id": "7743c0e4.ff58d",
        "type": "set",
        "name": "set network-route-SECONDARY-ROOT",
        "xml": "<set>\n<parameter name='tmp.aai.network-route-SECONDARY-ROOT.' value=\"`$tmp.aai.network-route-one.`\" />\n\n\n",
        "comments": "",
        "x": 4593.700653076172,
        "y": 498.9857177734375,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "fbbd6ec6.676af8",
        "type": "set",
        "name": "set network-route-C",
        "xml": "<set>\n<parameter name='tmp.aai.network-route-C.' value=\"`$tmp.aai.network-route-one.`\" />\n\n\n",
        "comments": "",
        "x": 4539.700653076172,
        "y": 538.9857177734375,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "f2575655.f8e378",
        "type": "outcome",
        "name": "SECONDARY-ROOT",
        "xml": "<outcome value='SECONDARY-ROOT'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4144.700408935547,
        "y": 741.3857421875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "9c041385.58f0a8"
            ]
        ]
    },
    {
        "id": "9c041385.58f0a8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4302.700164794922,
        "y": 784.3855590820312,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "d46c9c27.1618a",
                "fae38fd4.0207e8"
            ]
        ]
    },
    {
        "id": "d46c9c27.1618a",
        "type": "set",
        "name": "set network-route-SECONDARY-ROOT",
        "xml": "<set>\n<parameter name='tmp.aai.network-route-SECONDARY-ROOT.' value=\"`$tmp.aai.network-route-two.`\" />\n\n\n",
        "comments": "",
        "x": 4524.700164794922,
        "y": 770.3856811523438,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "fae38fd4.0207e8",
        "type": "set",
        "name": "set network-route-C",
        "xml": "<set>\n<parameter name='tmp.aai.network-route-C.' value=\"`$tmp.aai.network-route-two.`\" />\n\n\n",
        "comments": "",
        "x": 4470.700164794922,
        "y": 810.3856811523438,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "3b541994.2db38e",
        "type": "save",
        "name": "get network-route-three from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"network-route\"\n\tkey='network-route.route-id = $network-route-three'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.network-route-three\">",
        "comments": "",
        "outputs": 1,
        "x": 3356.133270263672,
        "y": 977.6190185546875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "a7d11d5e.62ca",
                "b2aac144.2741f8",
                "fb257074.006628"
            ]
        ]
    },
    {
        "id": "a7d11d5e.62ca",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3596.133270263672,
        "y": 960.6190185546875,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "b2aac144.2741f8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3591.642333984375,
        "y": 1003.0450744628906,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "fb257074.006628",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3595.642303466797,
        "y": 1051.0450439453125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "9e133df7.481"
            ]
        ]
    },
    {
        "id": "9e133df7.481",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3751.133270263672,
        "y": 1020.6189575195312,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "5d283673.03481"
            ]
        ]
    },
    {
        "id": "5d283673.03481",
        "type": "switchNode",
        "name": "switch nr type",
        "xml": "<switch test='`$tmp.aai.network-route-three.type`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3873.133270263672,
        "y": 967.6189575195312,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "bd8b3788.0306c8",
                "a98e1a14.629d2",
                "64a49d41.8a256c"
            ]
        ]
    },
    {
        "id": "bd8b3788.0306c8",
        "type": "outcome",
        "name": "ROOT",
        "xml": "<outcome value='ROOT'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4109.133270263672,
        "y": 817.6189575195312,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "a81c580d.51216"
            ]
        ]
    },
    {
        "id": "a98e1a14.629d2",
        "type": "outcome",
        "name": "LEAF",
        "xml": "<outcome value='LEAF'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4105.133270263672,
        "y": 873.6189575195312,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "589a315.c47ec5"
            ]
        ]
    },
    {
        "id": "a81c580d.51216",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4235.133270263672,
        "y": 825.6189575195312,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "22e46140.c55d46",
                "52abbdbb.d37324"
            ]
        ]
    },
    {
        "id": "589a315.c47ec5",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4238.133270263672,
        "y": 878.6189575195312,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "cf0c55ac.b4f5",
                "5defc5f6.f6a484"
            ]
        ]
    },
    {
        "id": "64a49d41.8a256c",
        "type": "outcome",
        "name": "SECONDARY-ROOT",
        "xml": "<outcome value='SECONDARY-ROOT'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4098.133270263672,
        "y": 951.6189575195312,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "e6763c4c.a7231"
            ]
        ]
    },
    {
        "id": "e6763c4c.a7231",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4254.133270263672,
        "y": 972.6189575195312,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "1756c413.4839cc",
                "782ca4c6.82ca7c"
            ]
        ]
    },
    {
        "id": "22e46140.c55d46",
        "type": "set",
        "name": "set network-route-ROOT",
        "xml": "<set>\n<parameter name='tmp.aai.network-route-ROOT.' value=\"`$tmp.aai.network-route-two.`\" />\n\n\n",
        "comments": "",
        "x": 4482.133270263672,
        "y": 855.6189575195312,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "52abbdbb.d37324",
        "type": "set",
        "name": "set network-route-B",
        "xml": "<set>\n<parameter name='tmp.aai.network-route-B.' value=\"`$tmp.aai.network-route-two.`\" />\n\n\n",
        "comments": "",
        "x": 4474.133270263672,
        "y": 897.6189575195312,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "cf0c55ac.b4f5",
        "type": "set",
        "name": "set network-route-LEAF",
        "xml": "<set>\n<parameter name='tmp.aai.network-route-LEAF.' value=\"`$tmp.aai.network-route-two.`\" />\n\n\n",
        "comments": "",
        "x": 4475.133270263672,
        "y": 949.6189575195312,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "5defc5f6.f6a484",
        "type": "set",
        "name": "set network-route-A",
        "xml": "<set>\n<parameter name='tmp.aai.network-route-A.' value=\"`$tmp.aai.network-route-two.`\" />\n\n\n",
        "comments": "",
        "x": 4462.133270263672,
        "y": 989.6189575195312,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "782ca4c6.82ca7c",
        "type": "set",
        "name": "set network-route-C",
        "xml": "<set>\n<parameter name='tmp.aai.network-route-C.' value=\"`$tmp.aai.network-route-three.`\" />\n\n\n",
        "comments": "",
        "x": 4436.133270263672,
        "y": 1083.6189575195312,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "1756c413.4839cc",
        "type": "set",
        "name": "set network-route-SECONDARY-ROOT",
        "xml": "<set>\n<parameter name='tmp.aai.network-route-SECONDARY-ROOT.' value=\"`$tmp.aai.network-route-three.`\" />\n\n\n",
        "comments": "",
        "x": 4498.133270263672,
        "y": 1039.6189575195312,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "484721d3.79272",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3700.13330078125,
        "y": 2223.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "b5f1ffe9.23b0f8",
                "1ac2c659.fd2752"
            ]
        ]
    },
    {
        "id": "3809e292.fa07fe",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3527.466796875,
        "y": 2224.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "484721d3.79272"
            ]
        ]
    },
    {
        "id": "9915b355.be7de",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3536.957763671875,
        "y": 2266.8598022460938,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "a933d5e7.aab9f",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3525.466796875,
        "y": 2313.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "b5f1ffe9.23b0f8",
        "type": "execute",
        "name": "execute split tp-id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.aai.network-route-C.p-interface-dst.interface-name`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-domainC\"/>\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3990.466796875,
        "y": 2239.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "5643d89b.9da4c",
                "ff517248.3a648"
            ]
        ]
    },
    {
        "id": "ff517248.3a648",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4213.466796875,
        "y": 2194.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "55ae5854.3eda38"
            ]
        ]
    },
    {
        "id": "5643d89b.9da4c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4215.466796875,
        "y": 2258.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "b94af8ff.6b0728"
            ]
        ]
    },
    {
        "id": "729e2fc5.81fb",
        "type": "save",
        "name": "get p-interface-dst from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"p-interface\"\n\t    key=\"pnf.pnf-name = $tmp.dst.domainC.pnf-name\n\t        AND p-interface.interface-name = $tmp.aai.network-route-C.next-hop\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.network-route-C.p-interface-dst\" >\n\n<!--<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" -->\n<!--\tresource=\"p-interface\"-->\n<!--\t    key=\"pnf.pnf-name = $unique-src-node-Id-->\n<!--\t        and p-interface.interface-name = $tmp.aai.endpointA.relationship-list.relationship[$rel-index].relationship-data[0].relationship-value\"-->\n<!--\t\tlocal-only=\"false\" -->\n<!--\t\tpfx=\"tmp.aai.endpointA.p-interface-src\" >-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3321.466796875,
        "y": 2245.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "3809e292.fa07fe",
                "9915b355.be7de",
                "a933d5e7.aab9f"
            ]
        ]
    },
    {
        "id": "c78860d4.be69b",
        "type": "comment",
        "name": "Question?",
        "info": "How to know if DG would send this get request\nin \"nodes\" namespace instead of \"network\" namespace?",
        "comments": "",
        "x": 3260.466796875,
        "y": 2203.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "b3267f6f.ff1998",
        "type": "execute",
        "name": "execute split tp-id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.aai.network-route-C.next-hop`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-domainC-pnfName\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3341.466796875,
        "y": 2093.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "95bacf59.0ff4f",
                "1f5368f.a927697"
            ]
        ]
    },
    {
        "id": "1f5368f.a927697",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3564.466796875,
        "y": 2079.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "d9fb5654.5b333"
            ]
        ]
    },
    {
        "id": "95bacf59.0ff4f",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3566.466796875,
        "y": 2112.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "d9fb5654.5b333",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3712.466796875,
        "y": 2072.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "5dfbdc91.e62934",
                "c6faa1d4.308aa"
            ]
        ]
    },
    {
        "id": "5dfbdc91.e62934",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.dst.domainC.pnf-name' value=\"`$param-prefix-domainC-pnfName[0] + '-' +\n                                                   $param-prefix-domainC-pnfName[1] + '-' +\n                                                   $param-prefix-domainC-pnfName[2] + '-' +\n                                                   $param-prefix-domainC-pnfName[3] + '-' +\n                                                   $param-prefix-domainC-pnfName[4] + '-' +\n                                                   $param-prefix-domainC-pnfName[5] + '-' +\n                                                   $param-prefix-domainC-pnfName[6] + '-' +\n                                                   $param-prefix-domainC-pnfName[7] + '-' +\n                                                   $param-prefix-domainC-pnfName[8]`\" />\n",
        "comments": "",
        "x": 3904.4666748046875,
        "y": 2009.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "1ac2c659.fd2752",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='dividx' start='0' end='`$tmp.aai.network-route-C.p-interface-dst.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3971.466796875,
        "y": 2370.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "65bc2e8.d7ad75"
            ]
        ]
    },
    {
        "id": "65bc2e8.d7ad75",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.network-route-C.p-interface-dst.relationship-list.relationship[$dividx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4177.466796875,
        "y": 2370.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "1afa33da.5ab90c"
            ]
        ]
    },
    {
        "id": "c6faa1d4.308aa",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.dst.domainC.pnf-name\"\n        pfx='tmp.aai.destination-secondary-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3926.4666748046875,
        "y": 2077.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "5532b203.91ac2c",
                "8b9d700b.47a8d",
                "394e6c3a.4b06ac"
            ]
        ]
    },
    {
        "id": "5532b203.91ac2c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4121.966796875,
        "y": 2029.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "6665fa87.172574"
            ]
        ]
    },
    {
        "id": "8b9d700b.47a8d",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4113.966796875,
        "y": 2084.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "de859847.0ba4f"
            ]
        ]
    },
    {
        "id": "394e6c3a.4b06ac",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4118.966796875,
        "y": 2141.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "bb9f9dd0.735df"
            ]
        ]
    },
    {
        "id": "bb9f9dd0.735df",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4270.966796875,
        "y": 2142.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "6665fa87.172574",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4266.34912109375,
        "y": 2026.9414367675781,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "5de1cc8d.104a64"
            ]
        ]
    },
    {
        "id": "62f42d2.2eff654",
        "type": "set",
        "name": "set SECONDARY-ROOT stuff",
        "xml": "<set>\n<parameter name='tmp.SECONDARY-ROOT.pnf-name-long' value=\"`$param-prefix-domainC-pnfName[0] + '-' +\n                                                   $param-prefix-domainC-pnfName[1] + '-' +\n                                                   $param-prefix-domainC-pnfName[2] + '-' +\n                                                   $param-prefix-domainC-pnfName[3] + '-' +\n                                                   $param-prefix-domainC-pnfName[4] + '-' +\n                                                   $param-prefix-domainC-pnfName[5] + '-' +\n                                                   $param-prefix-domainC-pnfName[6] + '-' +\n                                                   $param-prefix-domainC-pnfName[7] + '-' +\n                                                   $param-prefix-domainC-pnfName[8]`\" />\n\n<!--<parameter name='tmp.ROOT.pnf-name-short' value=\"`$param-prefix-domainB-pnfName[8]`\" />-->\n<parameter name='tmp.SECONDARY-ROOT.pnf-name-short' value=\"`$tmp.dst-secondary.pnf-name`\" />\n\n<parameter name='tmp.SECONDARY-ROOT.uni-p-interface-long' value=\"`$tmp.aai.network-route-C.next-hop + '-' + $tmp.aai.network-route-C.logical-interface-id`\" />\n<parameter name='tmp.SECONDARY-ROOT.uni-tp-id' value=\"`$tmp.dst-secondary.ltpId`\" />\n",
        "comments": "",
        "x": 3322.13330078125,
        "y": 2338.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "657d67ff.88d37",
        "type": "comment",
        "name": "NOT NEEDED ANYMORE?",
        "info": "",
        "comments": "",
        "x": 4001.133270263672,
        "y": 2314.285614013672,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "b94af8ff.6b0728",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 4374.466796875,
        "y": 2277.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "55ae5854.3eda38",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4378.466796875,
        "y": 2191.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "98470c66.40aa6",
                "d46d48e0.99162"
            ]
        ]
    },
    {
        "id": "1afa33da.5ab90c",
        "type": "outcome",
        "name": "tunnel-termination-point",
        "xml": "<outcome value='tunnel-termination-point'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4394.75244140625,
        "y": 2369.1075439453125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "ab3c9c27.f71ab"
            ]
        ]
    },
    {
        "id": "de859847.0ba4f",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4281.966796875,
        "y": 2087.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "98470c66.40aa6",
        "type": "set",
        "name": "set ltpId",
        "xml": "<set>\n<parameter name='tmp.dst-secondary.ltpId' value='`$param-prefix-domainC[$param-prefix-domainC_length -1]`' />\n",
        "comments": "",
        "x": 4548.466796875,
        "y": 2152.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "d46d48e0.99162",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.dst-secondary.pnf-name' value='`$param-prefix-domainC[$param-prefix-domainC_length -3]`' />\n",
        "comments": "",
        "x": 4549.466796875,
        "y": 2257.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "e385276.9cfc7d8",
        "type": "comment",
        "name": "TODO: FIXME",
        "info": "using the output of regex string arrays,\nconcatinate index 0 to index[length-2] all together\nin order to assemble the correct pnf-name",
        "comments": "",
        "x": 4544.466796875,
        "y": 2206.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "ab3c9c27.f71ab",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4601.583984375,
        "y": 2358.626220703125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "55038a5c.3543e4",
                "ba6f27b7.23068",
                "b4e2b396.74f668"
            ]
        ]
    },
    {
        "id": "55038a5c.3543e4",
        "type": "set",
        "name": "set destination ttp-id",
        "xml": "<set>\n<parameter name='tmp.destination-secondary.ttp-id' value=\"`$tmp.aai.network-route-C.p-interface-dst.relationship-list.relationship[$dividx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 4816.583984375,
        "y": 2320.626220703125,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "ba6f27b7.23068",
        "type": "get-resource",
        "name": "get-resource src TTP",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"tunnel-termination-point\" \n\t\tkey=\"tunnel-termination-point.ttp-id = $tmp.destination-secondary.ttp-id \n\t\tAND depth = '0'\"\n        pfx='tmp.aai.destination-secondary-ttp' local-only='false' >\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4813.583984375,
        "y": 2359.626220703125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "1dac26ff.18cf11"
            ]
        ]
    },
    {
        "id": "b4e2b396.74f668",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 4769.083984375,
        "y": 2401.626220703125,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "1ebc335e.7ecae5",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4850.466796875,
        "y": 2111.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "fdce260a.3abd28"
            ]
        ]
    },
    {
        "id": "5de1cc8d.104a64",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='dpvidx' start='0' end='`$tmp.aai.destination-secondary-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4450.4666748046875,
        "y": 2041.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "ed710853.f63fd"
            ]
        ]
    },
    {
        "id": "ed710853.f63fd",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.destination-secondary-pnf.relationship-list.relationship[$dpvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4647.466796875,
        "y": 2107.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "1ebc335e.7ecae5",
                "55d60384.c1aed4"
            ]
        ]
    },
    {
        "id": "55d60384.c1aed4",
        "type": "outcome",
        "name": "network-resource",
        "xml": "<outcome value='network-resource'>",
        "comments": "",
        "outputs": 1,
        "x": 4852.466796875,
        "y": 2184.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "dc3c174a.64011"
            ]
        ]
    },
    {
        "id": "1dac26ff.18cf11",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4994.083984375,
        "y": 2358.626220703125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "84d63541.1d27b"
            ]
        ]
    },
    {
        "id": "84d63541.1d27b",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5152.083984375,
        "y": 2358.626220703125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "e5032679.d8329"
            ]
        ]
    },
    {
        "id": "e5032679.d8329",
        "type": "set",
        "name": "set destination tunnel tp ip",
        "xml": "<set>\n<parameter name='destination-secondary.tunnel-tp-id' value=\"`$tmp.aai.destination-secondary-ttp.tunnel-tp-id`\" />\n",
        "comments": "",
        "x": 5359.083984375,
        "y": 2358.626220703125,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "fdce260a.3abd28",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5027.466796875,
        "y": 2103.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "5e499a66.459cd4",
                "dca5a8c2.a2e2d"
            ]
        ]
    },
    {
        "id": "dca5a8c2.a2e2d",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domainC.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domainC.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 5235.466796875,
        "y": 2110.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "5837fed4.78811",
                "3b1607b7.8add2",
                "d23ccac.f36ffb8"
            ]
        ]
    },
    {
        "id": "dc3c174a.64011",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5029.466796875,
        "y": 2176.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "a2aaab02.f42f78"
            ]
        ]
    },
    {
        "id": "5e499a66.459cd4",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domainC id",
        "xml": "<set>\n<parameter name='tmp.domainC.esr-thirdparty-id' value=\"`$tmp.aai.destination-secondary-pnf.relationship-list.relationship[$dpvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 5265.466796875,
        "y": 2058.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "a2aaab02.f42f78",
        "type": "set",
        "name": "set domainC ethernet layer network-id",
        "xml": "<set>\n<parameter name='tmp.domainC.eth-network-id' value=\"`$tmp.aai.destination-secondary-pnf.relationship-list.relationship[$dpvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 5264.466796875,
        "y": 2300.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "5837fed4.78811",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5445.466796875,
        "y": 2101.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "82649274.8d841"
            ]
        ]
    },
    {
        "id": "3b1607b7.8add2",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5437.466796875,
        "y": 2156.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "b977b3e4.7f0818"
            ]
        ]
    },
    {
        "id": "d23ccac.f36ffb8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5442.466796875,
        "y": 2213.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "cc6cd97.f9dc7a8"
            ]
        ]
    },
    {
        "id": "cc6cd97.f9dc7a8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5594.466796875,
        "y": 2214.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "b977b3e4.7f0818",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5605.466796875,
        "y": 2159.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "82649274.8d841",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5589.84912109375,
        "y": 2098.9415588378906,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "d86ccfd2.8a362"
            ]
        ]
    },
    {
        "id": "d86ccfd2.8a362",
        "type": "set",
        "name": "set controller domainC data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainC.url' value=\"`$tmp.aai.domainB.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainC.user' value=\"`$tmp.aai.domainB.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainC.password' value=\"`$tmp.aai.domainB.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 5804.466796875,
        "y": 2095.285888671875,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "70f331ff.6983c8",
        "type": "switchNode",
        "name": "switch $hasSecondary",
        "xml": "<switch test='`$hasSecondary`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3836.13330078125,
        "y": 2707.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "b09a105f.8c6438"
            ]
        ]
    },
    {
        "id": "b09a105f.8c6438",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4027.13330078125,
        "y": 2711.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "3fb841a7.fe1d76"
            ]
        ]
    },
    {
        "id": "3fb841a7.fe1d76",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4154.13330078125,
        "y": 2710.2857666015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "5fa41047.5ae908"
            ]
        ]
    },
    {
        "id": "5fa41047.5ae908",
        "type": "save",
        "name": "get secondary root uni from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"uni\"\n\t    key=\"uni.id = $tmp.SECONDARY-ROOT.uni-p-interface-long\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.secondaryrootuni\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 4380.467041015625,
        "y": 2703.619384765625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "494cb062.3b09d",
                "8f274cf6.78b4a",
                "75ad380b.fe1e68"
            ]
        ]
    },
    {
        "id": "494cb062.3b09d",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4747.466796875,
        "y": 2597.6192626953125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "e1748800.9b50a8"
            ]
        ]
    },
    {
        "id": "8f274cf6.78b4a",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4742.975830078125,
        "y": 2642.0452270507812,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "94646798.3ff8c"
            ]
        ]
    },
    {
        "id": "75ad380b.fe1e68",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4738.975830078125,
        "y": 2692.0452880859375,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "b33dba75.a7d33"
            ]
        ]
    },
    {
        "id": "5fbe7a1c.d00084",
        "type": "save",
        "name": "update SECONDARY-ROOT UNI in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='uni' \n      key='uni.id = $tmp.SECONDARY-ROOT.uni-p-interface-long'>\n<parameter name='id' value='`$tmp.SECONDARY-ROOT.uni-p-interface-long`' />\n<parameter name='data-source' value='`$tmp.newbw`' />\n",
        "comments": "",
        "outputs": 1,
        "x": 5186.976318359375,
        "y": 2687.04541015625,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "e1748800.9b50a8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 4910.038330078125,
        "y": 2596.9049682617188,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "94646798.3ff8c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 4910.975830078125,
        "y": 2642.0452270507812,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "b33dba75.a7d33",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4907.975830078125,
        "y": 2692.0452880859375,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "d2b432cc.1ba93",
                "5fbe7a1c.d00084"
            ]
        ]
    },
    {
        "id": "d2b432cc.1ba93",
        "type": "set",
        "name": "set new bw",
        "xml": "<set>\n<parameter name='tmp.newbw' value='`$tmp.aai.secondaryrootuni.data-source - $bwToBeDecreased`' />\n",
        "comments": "",
        "x": 5089.9765625,
        "y": 2634.0452880859375,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "c59416d6.8ba4c8",
        "type": "switchNode",
        "name": "switch tmp.mmUNI-id-long != SECONDARY-ROOT UNI",
        "xml": "\n<switch test=\"`$tmp.mmUNI-id-long != $tmp.SECONDARY-ROOT.uni-p-interface-long`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4624.467041015625,
        "y": 3547.6190185546875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "5928f063.6a717"
            ]
        ]
    },
    {
        "id": "5928f063.6a717",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4914.467041015625,
        "y": 3549.6190185546875,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "3416f94d.d55766"
            ]
        ]
    },
    {
        "id": "dc36b830.307698",
        "type": "switchNode",
        "name": "switch $hasSecondary",
        "xml": "<switch test='`$hasSecondary`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4277,
        "y": 5777.6192626953125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "124e668b.8a0c71"
            ]
        ]
    },
    {
        "id": "124e668b.8a0c71",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4468,
        "y": 5781.6192626953125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "3f950141.3b094e"
            ]
        ]
    },
    {
        "id": "3f950141.3b094e",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4595,
        "y": 5780.6192626953125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "6756d23f.fb95d4"
            ]
        ]
    },
    {
        "id": "6756d23f.fb95d4",
        "type": "switchNode",
        "name": "switch 2-ROOTS in same domain?",
        "xml": "<!-- This is to check the provider-id of ROOt and SECONDARY-ROOT-->\n<switch test='`$param-prefix-domainB[$param-prefix-domainB_length -9] == $param-prefix-domainC[$param-prefix-domainC_length -9]`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4820.3330078125,
        "y": 5782.6192626953125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "c6ced4f8.328df",
                "bfbd9ba5.66b2f8"
            ]
        ]
    },
    {
        "id": "c6ced4f8.328df",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5030.3330078125,
        "y": 5759.6192626953125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "7a2bf212.dfea8c"
            ]
        ]
    },
    {
        "id": "bfbd9ba5.66b2f8",
        "type": "outcomeTrue",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5035.3330078125,
        "y": 5808.6192626953125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "cebc5e3b.0e3a98"
            ]
        ]
    },
    {
        "id": "7a2bf212.dfea8c",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5156.3330078125,
        "y": 5759.6192626953125,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "cebc5e3b.0e3a98",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5153.3330078125,
        "y": 5815.6192626953125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "65ef26ee.10a09",
                "893a526e.ec5e18"
            ]
        ]
    },
    {
        "id": "65ef26ee.10a09",
        "type": "save",
        "name": "update SECONDARY-ROOT connectivity resource in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $tmp.aai.SECONDARY-ROOT.connectivity.connectivity-id'>\n<parameter name='connectivity-id' value='`$tmp.aai.SECONDARY-ROOT.connectivity.connectivity-id`' />\n<parameter name='operational-status' value='Modified' />\n",
        "comments": "",
        "outputs": 1,
        "x": 5467.3330078125,
        "y": 5874.6192626953125,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "7678c022.e9095",
        "type": "comment",
        "name": "Update connectivity status to modified",
        "info": "",
        "comments": "",
        "x": 5399.550048828125,
        "y": 5826.4190673828125,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "893a526e.ec5e18",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:cll-vnf-topology-operation-cll-helper-find-SECONDARY-ROOT-conn",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='cll-vnf-topology-operation-cll-helper-find-SECONDARY-ROOT-conn' mode='sync' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 5598,
        "y": 5784.6192626953125,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "e0d5d04e.46068",
        "type": "switchNode",
        "name": "switch $hasSecondary",
        "xml": "<switch test='`$hasSecondary`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 868,
        "y": 4974.6187744140625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "a56cc6d9.68657"
            ]
        ]
    },
    {
        "id": "a56cc6d9.68657",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1059,
        "y": 4978.6187744140625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "e90b308b.e1e54"
            ]
        ]
    },
    {
        "id": "e90b308b.e1e54",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1186,
        "y": 4977.6187744140625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "a8eda34d.bea12"
            ]
        ]
    },
    {
        "id": "a8eda34d.bea12",
        "type": "switchNode",
        "name": "switch 2-ROOTS in same domain?",
        "xml": "<!-- This is to check the provider-id of ROOt and SECONDARY-ROOT-->\n<switch test='`$param-prefix-domainB[$param-prefix-domainB_length -9] == $param-prefix-domainC[$param-prefix-domainC_length -9]`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1411.3330078125,
        "y": 4979.6187744140625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "8a22e9e3.103c4",
                "489f9bfc.0598fc"
            ]
        ]
    },
    {
        "id": "8a22e9e3.103c4",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1621.3330078125,
        "y": 4956.6187744140625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "d0fe931e.edcfb"
            ]
        ]
    },
    {
        "id": "489f9bfc.0598fc",
        "type": "outcomeTrue",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1626.3330078125,
        "y": 5005.6187744140625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "8c7de2ba.22e088"
            ]
        ]
    },
    {
        "id": "d0fe931e.edcfb",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1747.3330078125,
        "y": 4956.6187744140625,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "8c7de2ba.22e088",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1744.3330078125,
        "y": 5012.6187744140625,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "65c8b788.d0e558",
                "4c911e6c.738418"
            ]
        ]
    },
    {
        "id": "4c911e6c.738418",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:cll-vnf-topology-operation-cll-helper-find-SECONDARY-ROOT-conn",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='cll-vnf-topology-operation-cll-helper-find-SECONDARY-ROOT-conn' mode='sync' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2189,
        "y": 4981.6187744140625,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "dd48d8e6.216f08",
        "type": "comment",
        "name": "Update connectivity status to modified",
        "info": "",
        "comments": "",
        "x": 1990.550048828125,
        "y": 5023.4185791015625,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "65c8b788.d0e558",
        "type": "save",
        "name": "update SECONDARY-ROOT connectivity resource in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $tmp.aai.SECONDARY-ROOT.connectivity.connectivity-id'>\n<parameter name='connectivity-id' value='`$tmp.aai.SECONDARY-ROOT.connectivity.connectivity-id`' />\n<parameter name='operational-status' value='Modified' />\n",
        "comments": "",
        "outputs": 1,
        "x": 2058.3330078125,
        "y": 5071.6187744140625,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "1ed03004.8d6e4",
        "type": "switchNode",
        "name": "switch $hasSecondary",
        "xml": "<switch test='`$hasSecondary`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1470.3333740234375,
        "y": 5815.6192626953125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "fb5466ce.3f1ab"
            ]
        ]
    },
    {
        "id": "fb5466ce.3f1ab",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1661.3333740234375,
        "y": 5819.6192626953125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "dfa5085f.0e0158"
            ]
        ]
    },
    {
        "id": "dfa5085f.0e0158",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1788.3333740234375,
        "y": 5818.6192626953125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "7e51bd6c.d2742c"
            ]
        ]
    },
    {
        "id": "7e51bd6c.d2742c",
        "type": "switchNode",
        "name": "switch 2-ROOTS in same domain?",
        "xml": "<!-- This is to check the provider-id of ROOt and SECONDARY-ROOT-->\n<switch test='`$param-prefix-domainB[$param-prefix-domainB_length -9] == $param-prefix-domainC[$param-prefix-domainC_length -9]`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2013.6663818359375,
        "y": 5820.6192626953125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "6b07f1cb.4afc3",
                "110d7be3.9bb1f4"
            ]
        ]
    },
    {
        "id": "6b07f1cb.4afc3",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2223.6663818359375,
        "y": 5797.6192626953125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "8b99f6ab.569ed"
            ]
        ]
    },
    {
        "id": "110d7be3.9bb1f4",
        "type": "outcomeTrue",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2228.6663818359375,
        "y": 5846.6192626953125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "675a78e3.b9924"
            ]
        ]
    },
    {
        "id": "8b99f6ab.569ed",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2349.6663818359375,
        "y": 5797.6192626953125,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "675a78e3.b9924",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2346.6663818359375,
        "y": 5853.6192626953125,
        "z": "df66c4ba.dc49d",
        "wires": [
            [
                "4f39f0f0.b363c8",
                "87158cb0.5a00c8"
            ]
        ]
    },
    {
        "id": "87158cb0.5a00c8",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:cll-vnf-topology-operation-cll-helper-find-SECONDARY-ROOT-conn",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='cll-vnf-topology-operation-cll-helper-find-SECONDARY-ROOT-conn' mode='sync' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2791.3333740234375,
        "y": 5822.6192626953125,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "b15d8a43.4b5da8",
        "type": "comment",
        "name": "Update connectivity status to modified",
        "info": "",
        "comments": "",
        "x": 2592.8834228515625,
        "y": 5864.4190673828125,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "4f39f0f0.b363c8",
        "type": "save",
        "name": "update SECONDARY-ROOT connectivity resource in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $tmp.aai.SECONDARY-ROOT.connectivity.connectivity-id'>\n<parameter name='connectivity-id' value='`$tmp.aai.SECONDARY-ROOT.connectivity.connectivity-id`' />\n<parameter name='operational-status' value='Modified' />\n",
        "comments": "",
        "outputs": 1,
        "x": 2660.6663818359375,
        "y": 5912.6192626953125,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "bc0be831.bf6158",
        "type": "execute",
        "name": "execute Terminate SSE Connection",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restconfdiscovery.RestconfDiscoveryNode' method='deleteSubscriptionAndSseConnection' >\n<parameter name=\"subscriberId\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.url`\" />\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.cll-terminate-notification.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.url + '/restconf/operations/ietf-subscribed-notifications:delete-subscription'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.password`\" />\n<parameter name=\"dirPath\" value=\"/opt/sdnc/restconfapi/yang/notification\" />\n<parameter name=\"format\" value=\"json\" />\n<parameter name=\"httpMethod\" value=\"post\" />\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"X-ACCESS-TOKEN=x-ik2ps4ikvzupbx0486ft1ebzs7rt85futh9ho6eofy3wjsap7wqktemlqm4bbsmnar3vrtbyrzukbv5itd6m1cftldpjarnyle3sdcqq9hftc4lebz464b5ffxmlbvg9\" />\n<parameter name=\"module\" value=\"GENERIC-RESOURCE-API\" />\n<parameter name=\"rpc\" value=\"cll-vnf-topology-operation-cll-callbackdg-notification\" />\n<parameter name=\"version\" value=\"`$project.version`\" />\n<parameter name=\"mode\" value=\"sync\" />\n<parameter name=\"responsePrefix\" value=\"restapi-result\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1520.7666625976562,
        "y": 6121,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "75a2fd5c.c75aac",
        "type": "set",
        "name": "set parameters",
        "xml": "<set>\n<parameter name='subscriptionId' value='`$rcvd-bandwidth-value`' />\n",
        "comments": "",
        "x": 1452.800048828125,
        "y": 6062.39990234375,
        "z": "df66c4ba.dc49d",
        "wires": []
    },
    {
        "id": "b1b75307.3fe99",
        "type": "execute",
        "name": "execute Terminate SSE Connection",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restconfdiscovery.RestconfDiscoveryNode' method='deleteSubscriptionAndSseConnection' >\n<parameter name=\"subscriberId\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.url`\" />\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.cll-terminate-notification.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.url + '/restconf/operations/ietf-subscribed-notifications:delete-subscription'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.password`\" />\n<parameter name=\"dirPath\" value=\"/opt/sdnc/restconfapi/yang/notification\" />\n<parameter name=\"format\" value=\"json\" />\n<parameter name=\"httpMethod\" value=\"post\" />\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"X-ACCESS-TOKEN=x-ik2ps4ikvzupbx0486ft1ebzs7rt85futh9ho6eofy3wjsap7wqktemlqm4bbsmnar3vrtbyrzukbv5itd6m1cftldpjarnyle3sdcqq9hftc4lebz464b5ffxmlbvg9\" />\n<parameter name=\"module\" value=\"GENERIC-RESOURCE-API\" />\n<parameter name=\"rpc\" value=\"cll-vnf-topology-operation-cll-callbackdg-notification\" />\n<parameter name=\"version\" value=\"`$project.version`\" />\n<parameter name=\"mode\" value=\"sync\" />\n<parameter name=\"responsePrefix\" value=\"restapi-result\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2081.433349609375,
        "y": 5541.2333984375,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "eb743ad2.daea58",
        "type": "execute",
        "name": "execute delete service-pm",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.url + '/restconf/data/ietf-service-pm:performance-monitoring/service-pm=' + $tmp.the-connectivity.etht-svc-name`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.password`\" />\n<parameter name=\"dirPath\" value=\"/opt/sdnc/restconfapi/yang/notification\" />\n<parameter name=\"format\" value=\"json\" />\n<parameter name=\"httpMethod\" value=\"delete\" />\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"responsePrefix\" value=\"ethdelete-result\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2045.333251953125,
        "y": 5586.33349609375,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "4ed6624e.3d3df4",
        "type": "execute",
        "name": "execute delete service-pm",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.url + '/restconf/data/ietf-service-pm:performance-monitoring/service-pm=' + $tmp.aai.connectivity.etht-svc-name`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.password`\" />\n<parameter name=\"dirPath\" value=\"/opt/sdnc/restconfapi/yang/notification\" />\n<parameter name=\"format\" value=\"json\" />\n<parameter name=\"httpMethod\" value=\"delete\" />\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"responsePrefix\" value=\"ethdelete-result\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4443.6669921875,
        "y": 6460.33349609375,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    },
    {
        "id": "383276dd.aedfd2",
        "type": "execute",
        "name": "execute delete service-pm",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.url + '/restconf/data/ietf-service-pm:performance-monitoring/service-pm=' + $tmp.aai.connectivity.etht-svc-name`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.password`\" />\n<parameter name=\"dirPath\" value=\"/opt/sdnc/restconfapi/yang/notification\" />\n<parameter name=\"format\" value=\"json\" />\n<parameter name=\"httpMethod\" value=\"delete\" />\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"responsePrefix\" value=\"ethdelete-result\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3103.666748046875,
        "y": 7008.33349609375,
        "z": "df66c4ba.dc49d",
        "wires": [
            []
        ]
    }
]