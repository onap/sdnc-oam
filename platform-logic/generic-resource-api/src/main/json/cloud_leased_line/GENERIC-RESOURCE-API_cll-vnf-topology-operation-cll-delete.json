[
    {
        "id": "b3c61f0e.0e195",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 183.56666564941406,
        "y": 161.56666564941406,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "a48494fd.8b7d"
            ]
        ]
    },
    {
        "id": "a48494fd.8b7d",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 481.8523864746094,
        "y": 217.8047742843628,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "6868eec5.8eff3"
            ]
        ]
    },
    {
        "id": "6868eec5.8eff3",
        "type": "method",
        "name": "method cll-vnf-topology-operation-cll-delete",
        "xml": "<method rpc='cll-vnf-topology-operation-cll-delete' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 487.99530029296875,
        "y": 302.5666961669922,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "42b0c518.6297dc"
            ]
        ]
    },
    {
        "id": "42b0c518.6297dc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 837.5666961669922,
        "y": 361.56666564941406,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "fec7e153.ea24b",
                "30575656.398222",
                "189baf2e.d72529"
            ]
        ]
    },
    {
        "id": "fec7e153.ea24b",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 1138.9001922607422,
        "y": 632.4969635009766,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "30575656.398222",
        "type": "save",
        "name": "get service-instance from aai",
        "xml": "<!--<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" -->\n<!--\tresource=\"service-instance\"-->\n<!--\tkey='service-instance.service-instance-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.service-instance-id-->\n<!--         AND customer.global-customer-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.global-customer-id -->\n<!--         AND service-subscription.service-type = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.subscription-service-type'-->\n<!--\tlocal-only=\"false\"-->\n<!--\tforce=\"true\" pfx=\"tmp.aai.service-instance\">-->\n\n<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"service-instance\"\n\tkey='service-instance.service-instance-id = $vnf-topology-operation-input.service-information.service-instance-id\n         AND customer.global-customer-id = $vnf-topology-operation-input.service-information.global-customer-id \n         AND service-subscription.service-type = $vnf-topology-operation-input.service-information.subscription-service-type'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.service-instance\">\n\n\n<!--<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" -->\n<!--\tresource=\"service-instance\"-->\n<!--\tkey='service-instance.service-instance-id = $service-data.service-information.service-instance-id-->\n<!--         AND customer.global-customer-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.global-customer-id -->\n<!--         AND service-subscription.service-type = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.subscription-service-type'-->\n<!--\tlocal-only=\"false\"-->\n<!--\tforce=\"true\" pfx=\"tmp.aai.service-instance\">-->",
        "comments": "",
        "outputs": 1,
        "x": 1160.3286590576172,
        "y": 334.8999786376953,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "27345488.79731c",
                "7e08d842.a4058",
                "14b3e2f5.681565"
            ]
        ]
    },
    {
        "id": "27345488.79731c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1385.3286590576172,
        "y": 192.8999786376953,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "a8487fba.2cb09"
            ]
        ]
    },
    {
        "id": "7e08d842.a4058",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1380.8196258544922,
        "y": 262.47401428222656,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "26698778.b41f38"
            ]
        ]
    },
    {
        "id": "14b3e2f5.681565",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1369.3286590576172,
        "y": 308.8999786376953,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "e03cea3a.82881"
            ]
        ]
    },
    {
        "id": "b94ba14f.99f16",
        "type": "comment",
        "name": "new for TransportSlicing",
        "info": "",
        "comments": "",
        "x": 1139.3286590576172,
        "y": 222.8999786376953,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "189baf2e.d72529",
        "type": "execute",
        "name": "execute properties",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />",
        "comments": "",
        "outputs": 1,
        "x": 1127.3286590576172,
        "y": 274.8999786376953,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "a8487fba.2cb09",
        "type": "switchNode",
        "name": "switch allotted-resources_length != 0",
        "xml": "<switch test='`$tmp.aai.service-instance.allotted-resources.allotted-resource_length != 0`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1625.5666961669922,
        "y": 189.56666564941406,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "7bdf94e9.87c2bc",
                "770405a0.0ddc6c"
            ]
        ]
    },
    {
        "id": "26698778.b41f38",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 1535.6290740966797,
        "y": 265.4264373779297,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "e03cea3a.82881",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 1539.5666961669922,
        "y": 309.56666564941406,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "7bdf94e9.87c2bc",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1830.5666961669922,
        "y": 226.56666564941406,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "79eb131c.176e44"
            ]
        ]
    },
    {
        "id": "770405a0.0ddc6c",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1840.5666961669922,
        "y": 153.56666564941406,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "79eb131c.176e44",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1823.5666961669922,
        "y": 301.56666564941406,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "9d4673ee.891e5",
                "1a86601d.154a48",
                "d6a895b8.ea711",
                "3f0be5e9.f7ecd2",
                "eca8d05b.38fb78"
            ]
        ]
    },
    {
        "id": "fd1dcea.f15be3",
        "type": "save",
        "name": "get allotted-resource from aai",
        "xml": "<!--<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" -->\n<!--\tresource=\"allotted-resource\"-->\n<!--\tkey='service-instance.service-instance-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.service-instance-id-->\n<!--         AND customer.global-customer-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.global-customer-id -->\n<!--         AND service-subscription.service-type = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.subscription-service-type-->\n<!--         AND allotted-resource.id = $allotted-resource-id'-->\n<!--\tlocal-only=\"false\"-->\n<!--\tforce=\"true\" pfx=\"tmp.aai.allotted-resource\">-->\n\n<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"allotted-resource\"\n\tkey='service-instance.service-instance-id = $vnf-topology-operation-input.service-information.service-instance-id\n         AND customer.global-customer-id = $vnf-topology-operation-input.service-information.global-customer-id \n         AND service-subscription.service-type = $vnf-topology-operation-input.service-information.subscription-service-type\n         AND allotted-resource.id = $allotted-resource-id'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.allotted-resource\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2309.566696166992,
        "y": 352.56666564941406,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "2555bbc5.26f19c",
                "93423d46.b14978",
                "4c790d06.05e3ec"
            ]
        ]
    },
    {
        "id": "2555bbc5.26f19c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2525.566696166992,
        "y": 419.56666564941406,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "cc8af145.1212b8"
            ]
        ]
    },
    {
        "id": "93423d46.b14978",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2526.057662963867,
        "y": 319.14064025878906,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "fbfefea4.a2d338"
            ]
        ]
    },
    {
        "id": "4c790d06.05e3ec",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2521.566696166992,
        "y": 368.56666564941406,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "d962a49c.c504b8"
            ]
        ]
    },
    {
        "id": "9d4673ee.891e5",
        "type": "for",
        "name": "for each allotted-resource",
        "xml": "<for index='aridx' start='0' end='`$tmp.aai.service-instance.allotted-resources.allotted-resource_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2026.5666961669922,
        "y": 333.56666564941406,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "d3206ca7.c31d1",
                "fd1dcea.f15be3",
                "426ddfc0.c628b",
                "d0874bda.7e1ac"
            ]
        ]
    },
    {
        "id": "d3206ca7.c31d1",
        "type": "set",
        "name": "set the current allotted-resource-id",
        "xml": "<set>\n<parameter name='allotted-resource-id' value=\"`$tmp.aai.service-instance.allotted-resources.allotted-resource[$aridx].id`\" />\n\n\n",
        "comments": "",
        "x": 2306.566696166992,
        "y": 271.56666564941406,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "3f0be5e9.f7ecd2",
        "type": "set",
        "name": "set tmp.arr",
        "xml": "<set>\n<parameter name='tmp.arr' value='' />\n<parameter name='tmp.arridx' value='0' />\n<parameter name='tmp.arr_length' value='0' />\n\n<parameter name='otn-tunnel-slice' value='' />\n<parameter name='otn-tunnel-slice_length' value='0' />\n\n<!--<parameter name='tmp.slicevpns' value='' />-->\n<!--<parameter name='tmp.slicevpns_length' value='0' />-->\n\n<!--<parameter name='tmp.slicevpnuuids' value='' />-->\n<!--<parameter name='tmp.slicevpnuuids.' value='' />-->\n\n\n",
        "comments": "",
        "x": 2000.5666961669922,
        "y": 283.56666564941406,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "1a86601d.154a48",
        "type": "get-resource",
        "name": "get-resource pnfs-list",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"pnfs\"\n\t    key=\"selflink = 'https://aai.onap:8443/aai/v24/network/pnfs?depth=0'\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"ccsdkTopopnfs\" >",
        "comments": "",
        "outputs": 1,
        "x": 2043.5666961669922,
        "y": 142.56666564941406,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "d6a895b8.ea711",
        "type": "get-resource",
        "name": "get-resource logical-links",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"logical-links\"\n\t    key=\"selflink = 'https://aai.onap:8443/aai/v24/network/logical-links?depth=0'\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"ccsdkTopologicalLinks\" >",
        "comments": "",
        "outputs": 1,
        "x": 2055.566696166992,
        "y": 183.56666564941406,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "c8d3ec04.e3f8a8",
        "type": "comment",
        "name": "The following two nodes are for PCE",
        "info": "",
        "comments": "",
        "x": 2080.566696166992,
        "y": 95.56666564941406,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "d7434469.de441",
        "type": "set",
        "name": "set tmp.arr",
        "xml": "<set>\n<parameter name='tmp.arr.' value='' />\n<parameter name='tmp.arridx' value='0' />\n<parameter name='otn-tunnel-slice.' value='' />\n\n\n",
        "comments": "",
        "x": 2000.5666961669922,
        "y": 229.56666564941406,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "fbfefea4.a2d338",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 2704.566696166992,
        "y": 321.56666564941406,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "d962a49c.c504b8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 2704.504196166992,
        "y": 370.70692443847656,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "cc8af145.1212b8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2706.504196166992,
        "y": 421.70692443847656,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "30ad22b3.c0b5e6"
            ]
        ]
    },
    {
        "id": "30ad22b3.c0b5e6",
        "type": "save",
        "name": "get allotted-resource relationship from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"allotted-resource:relationship-list\"\n\tkey='service-instance.service-instance-id = $vnf-topology-operation-input.service-information.service-instance-id\n         AND customer.global-customer-id = $vnf-topology-operation-input.service-information.global-customer-id \n         AND service-subscription.service-type = $vnf-topology-operation-input.service-information.subscription-service-type\n         AND allotted-resource.id = $allotted-resource-id'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.allotted-resource.relationship-list\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2999.504196166992,
        "y": 368.70692443847656,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "5234d98d.9f94d",
                "83314642.8bc358",
                "55523c43.af8514"
            ]
        ]
    },
    {
        "id": "83314642.8bc358",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3302.995132446289,
        "y": 25.280899047851562,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "f9033318.3a82e"
            ]
        ]
    },
    {
        "id": "f9033318.3a82e",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 3480.566665649414,
        "y": 25.566665649414062,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "55523c43.af8514",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3298.504165649414,
        "y": 74.70692443847656,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "ed442c0e.cae2b8"
            ]
        ]
    },
    {
        "id": "ed442c0e.cae2b8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 3480.504165649414,
        "y": 74.70692443847656,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "5234d98d.9f94d",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3302.504165649414,
        "y": 125.70692443847656,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "7ab56666.401778"
            ]
        ]
    },
    {
        "id": "7ab56666.401778",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3482.504165649414,
        "y": 125.70692443847656,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "6c101067.0de5e8"
            ]
        ]
    },
    {
        "id": "6c101067.0de5e8",
        "type": "switchNode",
        "name": "switch allotted-resource.relationship-list not empty",
        "xml": "<switch test='`$tmp.aai.allotted-resource.relationship-list.relationship_length != 0`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3018.566696166992,
        "y": 496.56666564941406,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "646ab584.76e45c",
                "ffe35827.b1255"
            ]
        ]
    },
    {
        "id": "ffe35827.b1255",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3358.566665649414,
        "y": 267.56666564941406,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "646ab584.76e45c",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3357.566665649414,
        "y": 321.56666564941406,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "7579f2ad.787884"
            ]
        ]
    },
    {
        "id": "76ff4ece.4716a",
        "type": "outcome",
        "name": "network-policy",
        "xml": "<outcome value='network-policy'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4102.566665649414,
        "y": 275.56666564941406,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "522d04a5.cf337c"
            ]
        ]
    },
    {
        "id": "522d04a5.cf337c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4279.566543579102,
        "y": 268.56654357910156,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "ff700b35.f88fd",
                "a95b674a.f71a"
            ]
        ]
    },
    {
        "id": "7579f2ad.787884",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3521.566665649414,
        "y": 247.56666564941406,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "687e4dd8.df6004",
                "7a6c4648.75b9a"
            ]
        ]
    },
    {
        "id": "687e4dd8.df6004",
        "type": "for",
        "name": "for each allotted-resource relationship",
        "xml": "<for index='idx' start='0' end='`$tmp.aai.allotted-resource.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3802.566665649414,
        "y": 203.56666564941406,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "498ba81e.b961f8"
            ]
        ]
    },
    {
        "id": "498ba81e.b961f8",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.allotted-resource.relationship-list.relationship[$idx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4064.566665649414,
        "y": 203.56666564941406,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "76ff4ece.4716a"
            ]
        ]
    },
    {
        "id": "ff700b35.f88fd",
        "type": "set",
        "name": "set the 1st network-policy-id",
        "xml": "<set>\n<parameter name='network-policy-id' value=\"`$tmp.aai.allotted-resource.relationship-list.relationship[$idx].relationship-data[0].relationship-value`\" />\n\n\n",
        "comments": "",
        "x": 4522.566543579102,
        "y": 225.56654357910156,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "a95b674a.f71a",
        "type": "save",
        "name": "get network-policy from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"network-policy\"\n\tkey='network-policy.network-policy-id = $network-policy-id'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.network-policy\">",
        "comments": "",
        "outputs": 1,
        "x": 4511.566543579102,
        "y": 280.56654357910156,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "4864ccac.4c9fb4",
                "b78f5441.c1bfd",
                "4088ff64.ba745"
            ]
        ]
    },
    {
        "id": "4088ff64.ba745",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4764.566665649414,
        "y": 166.56666564941406,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "745cd258.155a8c"
            ]
        ]
    },
    {
        "id": "745cd258.155a8c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 4913.138198852539,
        "y": 166.85243225097656,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "d814f814.02812",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 4912.075698852539,
        "y": 210.99269104003906,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "b78f5441.c1bfd",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4753.075698852539,
        "y": 210.99269104003906,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "d814f814.02812"
            ]
        ]
    },
    {
        "id": "4864ccac.4c9fb4",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4760.075698852539,
        "y": 289.99269104003906,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "efd9fdb1.0f83a"
            ]
        ]
    },
    {
        "id": "efd9fdb1.0f83a",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4899.075698852539,
        "y": 289.99269104003906,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "f2ffc2c8.9c3d6",
                "ca4f06f7.bf7198"
            ]
        ]
    },
    {
        "id": "f2ffc2c8.9c3d6",
        "type": "set",
        "name": "set the max bandwidth",
        "xml": "<set>\n<parameter name='maximum-bandwidth' value=\"`$tmp.aai.network-policy.max-bandwidth`\" />\n<parameter name='route-distinguisher' value='`$maximum-bandwidth /1000 *4 /5 +1`' />\n\n\n\n",
        "comments": "",
        "x": 5104.566665649414,
        "y": 287.56666564941406,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "ca4f06f7.bf7198",
        "type": "set",
        "name": "set the max bandwidth",
        "xml": "<set>\n<parameter name='gfp' value='`$maximum-bandwidth /1000 *4 /5 +1`' />\n\n\n\n",
        "comments": "",
        "x": 5103.566665649414,
        "y": 333.56666564941406,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "7a6c4648.75b9a",
        "type": "for",
        "name": "for each allotted-resource relationship",
        "xml": "<for index='idx' start='0' end='`$tmp.aai.allotted-resource.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3619.566665649414,
        "y": 319.56666564941406,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "2b038d01.8bcf5a"
            ]
        ]
    },
    {
        "id": "2b038d01.8bcf5a",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.allotted-resource.relationship-list.relationship[$idx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3899.566665649414,
        "y": 319.56666564941406,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "924692b1.dbe118"
            ]
        ]
    },
    {
        "id": "924692b1.dbe118",
        "type": "outcome",
        "name": "logical-link",
        "xml": "<outcome value='logical-link'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2282.5668182373047,
        "y": 808.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "e627a5b7.666348"
            ]
        ]
    },
    {
        "id": "e627a5b7.666348",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2459.566696166992,
        "y": 801.5666656494141,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "abe018e3.2ab958",
                "b299dbd0.7106d8"
            ]
        ]
    },
    {
        "id": "abe018e3.2ab958",
        "type": "set",
        "name": "set the current logical-link-name",
        "xml": "<set>\n<parameter name='logical-link-name' value=\"`$tmp.aai.allotted-resource.relationship-list.relationship[$idx].relationship-data[0].relationship-value`\" />\n\n\n",
        "comments": "",
        "x": 2702.566696166992,
        "y": 758.5666656494141,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "b299dbd0.7106d8",
        "type": "save",
        "name": "get logical-link from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"logical-link\"\n\tkey='logical-link.link-name = $logical-link-name'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.logical-link\">",
        "comments": "",
        "outputs": 1,
        "x": 2691.566696166992,
        "y": 813.5666656494141,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "73425fcf.6d608",
                "9a2fb745.49c558",
                "c8c584c4.60469"
            ]
        ]
    },
    {
        "id": "73425fcf.6d608",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2983.057662963867,
        "y": 792.1406402587891,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "11a6918b.0ed79e"
            ]
        ]
    },
    {
        "id": "9a2fb745.49c558",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2971.566696166992,
        "y": 836.5666656494141,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "147fb75c.cecad1"
            ]
        ]
    },
    {
        "id": "11a6918b.0ed79e",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 3131.629196166992,
        "y": 792.4264068603516,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "147fb75c.cecad1",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 3130.566696166992,
        "y": 836.5666656494141,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "c8c584c4.60469",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2978.566696166992,
        "y": 915.5666656494141,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "18430aa7.b0cd65"
            ]
        ]
    },
    {
        "id": "18430aa7.b0cd65",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3117.566696166992,
        "y": 915.5666656494141,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "a56438ce.7b3648",
                "cd9c4fe8.e67498",
                "b8cad49c.dd7ca",
                "768c9bf8.5beb74",
                "6f1a328d.ae400c",
                "b16688a0.4defc",
                "2c1d8b21.e96e8c",
                "63cddf09.26d868",
                "9d9de9db.5c38b8",
                "e5f9b3dc.c2f9f",
                "169ca3b9.4d31a4",
                "1c28fc30.faaf74",
                "19822907.e2052f",
                "e8ad32eb.9df94",
                "cf9533e5.c2371",
                "22a945f9.085212",
                "94938481.855978",
                "7edb995a.421908",
                "f054f8f8.d1b3a",
                "dab7847.8f75af8",
                "71a7eba7.ddb6fc",
                "a71111e6.40602"
            ]
        ]
    },
    {
        "id": "ece3c8dc.fca8e",
        "type": "execute",
        "name": "execute UUID generator for ethernet-service-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.ethernet-service-name\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3461.566635131836,
        "y": 389.56666564941406,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "a56438ce.7b3648",
        "type": "execute",
        "name": "execute UUID generator for otn-tunnel-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.otn-tunnel-name\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3442.566635131836,
        "y": 489.56666564941406,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "1c28fc30.faaf74",
        "type": "set",
        "name": "set new ethernet-service-name",
        "xml": "<set>\n<!--<parameter name='prop.ethernet-service-name' value=\"`$tmp.aai.logical-link.link-name`\" />-->\n<parameter name='prop.ethernet-service-name' value=\"`$tmp.aai.logical-link.link-id`\" />\n\n\n",
        "comments": "",
        "x": 3396.566635131836,
        "y": 540.5666656494141,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "cd9c4fe8.e67498",
        "type": "set",
        "name": "set network-route-one",
        "xml": "<set>\n<parameter name='network-route-one' value=\"`$tmp.aai.logical-link.link-name`\" />\n\n\n",
        "comments": "",
        "x": 3370.566635131836,
        "y": 589.5666656494141,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "b8cad49c.dd7ca",
        "type": "set",
        "name": "set network-route-two",
        "xml": "<set>\n<parameter name='network-route-two' value=\"`$tmp.aai.logical-link.link-name2`\" />\n\n\n",
        "comments": "",
        "x": 3369.566635131836,
        "y": 638.5666656494141,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "768c9bf8.5beb74",
        "type": "save",
        "name": "get network-route-one from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"network-route\"\n\tkey='network-route.route-id = $network-route-one'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.network-route-one\">",
        "comments": "",
        "outputs": 1,
        "x": 3378.566635131836,
        "y": 776.5666656494141,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "fe7f9a9e.cf1db8",
                "156916f6.f1ec61",
                "66ef43c6.2e3d64"
            ]
        ]
    },
    {
        "id": "6f1a328d.ae400c",
        "type": "save",
        "name": "get network-route-two from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"network-route\"\n\tkey='network-route.route-id = $network-route-two'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.network-route-two\">",
        "comments": "",
        "outputs": 1,
        "x": 3371.566635131836,
        "y": 837.5665435791016,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "6dadc494.d9aa04",
                "672f337a.746964",
                "bcaed2fe.1f9ae"
            ]
        ]
    },
    {
        "id": "fe7f9a9e.cf1db8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3627.566390991211,
        "y": 671.5666656494141,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "cc05b9e7.0fc9a"
            ]
        ]
    },
    {
        "id": "156916f6.f1ec61",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3621.075424194336,
        "y": 712.9926910400391,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "4587637b.94db5c"
            ]
        ]
    },
    {
        "id": "66ef43c6.2e3d64",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3616.075424194336,
        "y": 762.9926910400391,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "1eb5ad40.d06413"
            ]
        ]
    },
    {
        "id": "cc05b9e7.0fc9a",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 3776.137924194336,
        "y": 670.8524322509766,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "4587637b.94db5c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 3766.075424194336,
        "y": 720.9926910400391,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "6dadc494.d9aa04",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3592.566635131836,
        "y": 823.5665435791016,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "1b1304b9.a5e66b"
            ]
        ]
    },
    {
        "id": "672f337a.746964",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3588.075668334961,
        "y": 872.9925689697266,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "e774fced.6104a8"
            ]
        ]
    },
    {
        "id": "bcaed2fe.1f9ae",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3589.075668334961,
        "y": 925.9925689697266,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "c076d47b.eaded"
            ]
        ]
    },
    {
        "id": "1b1304b9.a5e66b",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 3745.1380157470703,
        "y": 828.8523101806641,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "e774fced.6104a8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 3731.075668334961,
        "y": 872.9925689697266,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "1eb5ad40.d06413",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3788.566390991211,
        "y": 773.5666656494141,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "7f2b8c9b.099c14"
            ]
        ]
    },
    {
        "id": "c076d47b.eaded",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3742.566635131836,
        "y": 925.5665435791016,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "8445401a.e44628"
            ]
        ]
    },
    {
        "id": "7f2b8c9b.099c14",
        "type": "switchNode",
        "name": "switch nr type",
        "xml": "<switch test='`$tmp.aai.network-route-one.type`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3949.566635131836,
        "y": 660.5666656494141,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "b0a8e75a.0829b8",
                "40b074e3.b8cf9c",
                "9b9082d.d33238"
            ]
        ]
    },
    {
        "id": "8445401a.e44628",
        "type": "switchNode",
        "name": "switch nr type",
        "xml": "<switch test='`$tmp.aai.network-route-two.type`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3941.566635131836,
        "y": 845.5666656494141,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "65174d4b.beb5c4",
                "b443365d.1a3bf",
                "a01fe37.2547ea"
            ]
        ]
    },
    {
        "id": "b0a8e75a.0829b8",
        "type": "outcome",
        "name": "ROOT",
        "xml": "<outcome value='ROOT'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4173.567123413086,
        "y": 364.5666046142578,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "9aca5d50.3d0028"
            ]
        ]
    },
    {
        "id": "40b074e3.b8cf9c",
        "type": "outcome",
        "name": "LEAF",
        "xml": "<outcome value='LEAF'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4175.567123413086,
        "y": 418.5666046142578,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "d411ea2f.0fea6"
            ]
        ]
    },
    {
        "id": "65174d4b.beb5c4",
        "type": "outcome",
        "name": "ROOT",
        "xml": "<outcome value='ROOT'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4139.567123413086,
        "y": 624.5666656494141,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "b1818ac5.01eff"
            ]
        ]
    },
    {
        "id": "b443365d.1a3bf",
        "type": "outcome",
        "name": "LEAF",
        "xml": "<outcome value='LEAF'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4141.567123413086,
        "y": 678.5666656494141,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "7efc1cf.1fed664"
            ]
        ]
    },
    {
        "id": "f6cae941.406738",
        "type": "set",
        "name": "set network-route-ROOT",
        "xml": "<set>\n<parameter name='tmp.aai.network-route-ROOT.' value=\"`$tmp.aai.network-route-one.`\" />\n\n\n",
        "comments": "",
        "x": 4483.567123413086,
        "y": 316.5666046142578,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "71276df1.c00474",
        "type": "set",
        "name": "set network-route-LEAF",
        "xml": "<set>\n<parameter name='tmp.aai.network-route-LEAF.' value=\"`$tmp.aai.network-route-one.`\" />\n\n\n",
        "comments": "",
        "x": 4476.567123413086,
        "y": 414.5666046142578,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "18b30ce8.3b3b9b",
        "type": "set",
        "name": "set network-route-ROOT",
        "xml": "<set>\n<parameter name='tmp.aai.network-route-ROOT.' value=\"`$tmp.aai.network-route-two.`\" />\n\n\n",
        "comments": "",
        "x": 4455.567123413086,
        "y": 597.5666656494141,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "bdb5a388.dc57d",
        "type": "set",
        "name": "set network-route-LEAF",
        "xml": "<set>\n<parameter name='tmp.aai.network-route-LEAF.' value=\"`$tmp.aai.network-route-two.`\" />\n\n\n",
        "comments": "",
        "x": 4459.567123413086,
        "y": 690.5666656494141,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "365f833d.25b8d4",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3635.566665649414,
        "y": 1350.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "9fbce841.2e2e5"
            ]
        ]
    },
    {
        "id": "374e0e92.acb9ca",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3645.057632446289,
        "y": 1393.1407012939453,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "544f9b1.6ea9ce4"
            ]
        ]
    },
    {
        "id": "a1cbd1ad.ad2c18",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3633.566665649414,
        "y": 1439.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "875bb611.eebb3"
            ]
        ]
    },
    {
        "id": "def43ac8.216f6",
        "type": "comment",
        "name": "Question?",
        "info": "How to know if DG would send this get request\nin \"nodes\" namespace instead of \"network\" namespace?",
        "comments": "",
        "x": 3335.566665649414,
        "y": 1312.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "2c1d8b21.e96e8c",
        "type": "save",
        "name": "get p-interface-src from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"p-interface\"\n\t    key=\"pnf.pnf-name = $tmp.src.domainA.pnf-name\n\t        AND p-interface.interface-name = $tmp.aai.network-route-A.next-hop\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.network-route-A.p-interface-src\" >\n\n<!--<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" -->\n<!--\tresource=\"p-interface\"-->\n<!--\t    key=\"pnf.pnf-name = $unique-src-node-Id-->\n<!--\t        and p-interface.interface-name = $tmp.aai.endpointA.relationship-list.relationship[$rel-index].relationship-data[0].relationship-value\"-->\n<!--\t\tlocal-only=\"false\" -->\n<!--\t\tpfx=\"tmp.aai.endpointA.p-interface-src\" >-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3378.566665649414,
        "y": 1377.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "365f833d.25b8d4",
                "374e0e92.acb9ca",
                "a1cbd1ad.ad2c18"
            ]
        ]
    },
    {
        "id": "b16688a0.4defc",
        "type": "execute",
        "name": "execute split tp-id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.aai.network-route-A.next-hop`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-domainA-pnfName\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3379.566635131836,
        "y": 1129.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "34aa1b4f.ba281c",
                "141fecfc.2b9053"
            ]
        ]
    },
    {
        "id": "141fecfc.2b9053",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3602.566635131836,
        "y": 1115.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "6c70ba9f.edd1f4"
            ]
        ]
    },
    {
        "id": "34aa1b4f.ba281c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3604.566635131836,
        "y": 1148.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "809a76b0.69bfb"
            ]
        ]
    },
    {
        "id": "9fbce841.2e2e5",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3808.233169555664,
        "y": 1349.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "d947a96b.ec0e98",
                "78e35528.26de5c"
            ]
        ]
    },
    {
        "id": "544f9b1.6ea9ce4",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 3798.6290435791016,
        "y": 1396.4264373779297,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "875bb611.eebb3",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 3802.566665649414,
        "y": 1440.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "d947a96b.ec0e98",
        "type": "execute",
        "name": "execute split tp-id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.aai.network-route-A.p-interface-src.interface-name`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-domainA\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4072.566665649414,
        "y": 1333.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "15bba4b9.d2a05b",
                "3ad9867a.e42d4a"
            ]
        ]
    },
    {
        "id": "3ad9867a.e42d4a",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4295.566665649414,
        "y": 1288.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "6b929f53.c8f4f8"
            ]
        ]
    },
    {
        "id": "15bba4b9.d2a05b",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4297.566665649414,
        "y": 1352.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "1ee9816c.cbffbf"
            ]
        ]
    },
    {
        "id": "1ee9816c.cbffbf",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 4459.566665649414,
        "y": 1348.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "6b929f53.c8f4f8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4460.566665649414,
        "y": 1285.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "2ecc2d46.f12c7a",
                "9183827d.0d9718"
            ]
        ]
    },
    {
        "id": "809a76b0.69bfb",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 3747.566635131836,
        "y": 1145.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "6c70ba9f.edd1f4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3750.566635131836,
        "y": 1108.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "920604a0.fd0cf",
                "ad826b52.8e9fa"
            ]
        ]
    },
    {
        "id": "920604a0.fd0cf",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.src.domainA.pnf-name' value=\"`$param-prefix-domainA-pnfName[0] + '-' +\n                                                   $param-prefix-domainA-pnfName[1] + '-' +\n                                                   $param-prefix-domainA-pnfName[2] + '-' +\n                                                   $param-prefix-domainA-pnfName[3] + '-' +\n                                                   $param-prefix-domainA-pnfName[4] + '-' +\n                                                   $param-prefix-domainA-pnfName[5] + '-' +\n                                                   $param-prefix-domainA-pnfName[6] + '-' +\n                                                   $param-prefix-domainA-pnfName[7] + '-' +\n                                                   $param-prefix-domainA-pnfName[8]`\" />\n",
        "comments": "",
        "x": 3942.566635131836,
        "y": 1110.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "78e35528.26de5c",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='pividx' start='0' end='`$tmp.aai.network-route-A.p-interface-src.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4032.566665649414,
        "y": 1465.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "75c2427c.8c10cc"
            ]
        ]
    },
    {
        "id": "75c2427c.8c10cc",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.network-route-A.p-interface-src.relationship-list.relationship[$pividx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4238.566665649414,
        "y": 1465.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "5fbadc48.b9fad4"
            ]
        ]
    },
    {
        "id": "5fbadc48.b9fad4",
        "type": "outcome",
        "name": "tunnel-termination-point",
        "xml": "<outcome value='tunnel-termination-point'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4453.852310180664,
        "y": 1465.388442993164,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "4d8b1a53.4482f4"
            ]
        ]
    },
    {
        "id": "ad826b52.8e9fa",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.src.domainA.pnf-name\"\n        pfx='tmp.aai.source-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3939.566635131836,
        "y": 1175.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "70c21f01.ccf8c",
                "fd021df7.11e338",
                "df54403.64867c"
            ]
        ]
    },
    {
        "id": "70c21f01.ccf8c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4135.066757202148,
        "y": 1127.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "37006658.3814c2"
            ]
        ]
    },
    {
        "id": "fd021df7.11e338",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4127.066757202148,
        "y": 1182.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "24c12ef7.012c52"
            ]
        ]
    },
    {
        "id": "df54403.64867c",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4132.066757202148,
        "y": 1239.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "2b777797.09f0b8"
            ]
        ]
    },
    {
        "id": "2b777797.09f0b8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4284.066757202148,
        "y": 1240.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "24c12ef7.012c52",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4295.066757202148,
        "y": 1185.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "37006658.3814c2",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4279.449081420898,
        "y": 1125.2223358154297,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "9c96e054.d5da8"
            ]
        ]
    },
    {
        "id": "9c96e054.d5da8",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='spvidx' start='0' end='`$tmp.aai.source-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4473.566635131836,
        "y": 1169.5666046142578,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "efaf74dd.57cd28"
            ]
        ]
    },
    {
        "id": "9183827d.0d9718",
        "type": "set",
        "name": "set ltpId",
        "xml": "<set>\n<parameter name='tmp.src.ltpId' value='`$param-prefix-domainA[$param-prefix-domainA_length -1]`' />\n",
        "comments": "",
        "x": 4630.566665649414,
        "y": 1243.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "2ecc2d46.f12c7a",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.src.pnf-name' value='`$param-prefix-domainA[$param-prefix-domainA_length -3]`' />\n",
        "comments": "",
        "x": 4631.566665649414,
        "y": 1351.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "e06b7ada.eb82e8",
        "type": "comment",
        "name": "TODO: FIXME",
        "info": "using the output of regex string arrays,\nconcatinate index 0 to index[length-2] all together\nin order to assemble the correct pnf-name",
        "comments": "",
        "x": 4632.566665649414,
        "y": 1300.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "4d8b1a53.4482f4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4660.683853149414,
        "y": 1465.906997680664,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "dced3e1c.40e48",
                "5a4be8c3.e9f088",
                "301c508b.710a5"
            ]
        ]
    },
    {
        "id": "dced3e1c.40e48",
        "type": "set",
        "name": "set source ttp-id",
        "xml": "<set>\n<parameter name='tmp.source.ttp-id' value=\"`$tmp.aai.network-route-A.p-interface-src.relationship-list.relationship[$pividx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 4875.683853149414,
        "y": 1427.906997680664,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "5a4be8c3.e9f088",
        "type": "get-resource",
        "name": "get-resource src TTP",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"tunnel-termination-point\" \n\t\tkey=\"tunnel-termination-point.ttp-id = $tmp.source.ttp-id \n\t\tAND depth = '0'\"\n        pfx='tmp.aai.source-ttp' local-only='false' >\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4872.683853149414,
        "y": 1466.906997680664,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "34a88173.395bbe"
            ]
        ]
    },
    {
        "id": "301c508b.710a5",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 4828.183853149414,
        "y": 1508.906997680664,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "34a88173.395bbe",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5053.183853149414,
        "y": 1465.906997680664,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "91aa780.576ce08"
            ]
        ]
    },
    {
        "id": "46f94459.4a6e34",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4861.566665649414,
        "y": 1061.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "eb72bb20.19559"
            ]
        ]
    },
    {
        "id": "eb72bb20.19559",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5038.566665649414,
        "y": 1053.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "32b5afac.4ae738",
                "92ed0f08.6c0c2"
            ]
        ]
    },
    {
        "id": "efaf74dd.57cd28",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4664.566635131836,
        "y": 1159.5666046142578,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "46f94459.4a6e34",
                "95ea5c2d.7d46e8"
            ]
        ]
    },
    {
        "id": "95ea5c2d.7d46e8",
        "type": "outcome",
        "name": "network-resource",
        "xml": "<outcome value='network-resource'>",
        "comments": "",
        "outputs": 1,
        "x": 4864.566665649414,
        "y": 1135.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "93430c1b.104ce"
            ]
        ]
    },
    {
        "id": "93430c1b.104ce",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5041.566665649414,
        "y": 1127.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "78b310b8.dd74"
            ]
        ]
    },
    {
        "id": "91aa780.576ce08",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5211.183853149414,
        "y": 1465.906997680664,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "5b4e25f5.7b14e4"
            ]
        ]
    },
    {
        "id": "5b4e25f5.7b14e4",
        "type": "set",
        "name": "set source tunnel tp ip",
        "xml": "<set>\n<parameter name='source.tunnel-tp-id' value=\"`$tmp.aai.source-ttp.tunnel-tp-id`\" />\n",
        "comments": "",
        "x": 5418.183853149414,
        "y": 1465.906997680664,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "92ed0f08.6c0c2",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domainA.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domainA.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 5246.566665649414,
        "y": 1060.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "322d8e2.13d36f2",
                "a2041883.aae29",
                "fe986e1.586ed1"
            ]
        ]
    },
    {
        "id": "32b5afac.4ae738",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domainA id",
        "xml": "<set>\n<parameter name='tmp.domainA.esr-thirdparty-id' value=\"`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 5276.566665649414,
        "y": 1008.5666656494141,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "322d8e2.13d36f2",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5456.566665649414,
        "y": 1051.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "9ca79008.c70bf8"
            ]
        ]
    },
    {
        "id": "a2041883.aae29",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5448.566665649414,
        "y": 1106.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "ec84ed8c.59c368"
            ]
        ]
    },
    {
        "id": "fe986e1.586ed1",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5453.566665649414,
        "y": 1163.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "ae200af1.d5e5c8"
            ]
        ]
    },
    {
        "id": "ae200af1.d5e5c8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5605.566665649414,
        "y": 1164.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "ec84ed8c.59c368",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5616.566665649414,
        "y": 1109.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "9ca79008.c70bf8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5600.948989868164,
        "y": 1049.2223358154297,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "e75f84ea.1b627"
            ]
        ]
    },
    {
        "id": "78b310b8.dd74",
        "type": "set",
        "name": "set domainA ethernet layer network-id",
        "xml": "<set>\n<parameter name='tmp.domainA.eth-network-id' value=\"`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 5276.566665649414,
        "y": 1251.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "e75f84ea.1b627",
        "type": "set",
        "name": "set controller domainA data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainA.url' value=\"`$tmp.aai.domainA.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainA.user' value=\"`$tmp.aai.domainA.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainA.password' value=\"`$tmp.aai.domainA.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 5815.566665649414,
        "y": 1045.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "d425ccce.04f6a",
        "type": "set",
        "name": "set network-route-B",
        "xml": "<set>\n<parameter name='tmp.aai.network-route-B.' value=\"`$tmp.aai.network-route-one.`\" />\n\n\n",
        "comments": "",
        "x": 4471.567123413086,
        "y": 352.5666046142578,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "72647ac9.fcc034",
        "type": "set",
        "name": "set network-route-A",
        "xml": "<set>\n<parameter name='tmp.aai.network-route-A.' value=\"`$tmp.aai.network-route-one.`\" />\n\n\n",
        "comments": "",
        "x": 4472.567092895508,
        "y": 456.5666046142578,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "9aca5d50.3d0028",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4296.567123413086,
        "y": 358.5666046142578,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "f6cae941.406738",
                "d425ccce.04f6a"
            ]
        ]
    },
    {
        "id": "d411ea2f.0fea6",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4302.567123413086,
        "y": 422.5666046142578,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "71276df1.c00474",
                "72647ac9.fcc034"
            ]
        ]
    },
    {
        "id": "b1818ac5.01eff",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4267.567123413086,
        "y": 624.5666656494141,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "18b30ce8.3b3b9b",
                "e0b34ba1.74f538"
            ]
        ]
    },
    {
        "id": "7efc1cf.1fed664",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4270.567123413086,
        "y": 677.5666656494141,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "bdb5a388.dc57d",
                "f08a6dfd.10adf"
            ]
        ]
    },
    {
        "id": "e0b34ba1.74f538",
        "type": "set",
        "name": "set network-route-B",
        "xml": "<set>\n<parameter name='tmp.aai.network-route-B.' value=\"`$tmp.aai.network-route-two.`\" />\n\n\n",
        "comments": "",
        "x": 4441.567123413086,
        "y": 637.5666656494141,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "f08a6dfd.10adf",
        "type": "set",
        "name": "set network-route-A",
        "xml": "<set>\n<parameter name='tmp.aai.network-route-A.' value=\"`$tmp.aai.network-route-two.`\" />\n\n\n",
        "comments": "",
        "x": 4444.567123413086,
        "y": 728.5666656494141,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "e27939d4.dc1f9",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3767.566665649414,
        "y": 1807.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "e945ebed.eb7548",
                "77e0d458.7dce6c"
            ]
        ]
    },
    {
        "id": "f47a2634.b211d8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3594.900161743164,
        "y": 1808.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "e27939d4.dc1f9"
            ]
        ]
    },
    {
        "id": "4a8297d6.2a928",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3604.391128540039,
        "y": 1851.1408233642578,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "5c13cfc7.d7d798"
            ]
        ]
    },
    {
        "id": "aeb5511b.98c418",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3592.900161743164,
        "y": 1897.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "6967c0f4.670908"
            ]
        ]
    },
    {
        "id": "5c13cfc7.d7d798",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 3757.9625396728516,
        "y": 1854.4265594482422,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "6967c0f4.670908",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 3761.900161743164,
        "y": 1898.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "e945ebed.eb7548",
        "type": "execute",
        "name": "execute split tp-id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.aai.network-route-B.p-interface-dst.interface-name`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-domainB\"/>\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4053.900161743164,
        "y": 1811.566909790039,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "e55a817f.49527",
                "d5120a58.c5add"
            ]
        ]
    },
    {
        "id": "d5120a58.c5add",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4276.900161743164,
        "y": 1766.566909790039,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "754abe34.cc3b8"
            ]
        ]
    },
    {
        "id": "e55a817f.49527",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4278.900161743164,
        "y": 1830.566909790039,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "1b1e2d9b.600bda"
            ]
        ]
    },
    {
        "id": "1b1e2d9b.600bda",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 4437.900161743164,
        "y": 1849.566909790039,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "754abe34.cc3b8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4441.900161743164,
        "y": 1763.566909790039,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "e1fca79d.bcc158",
                "d062e564.f9cc3"
            ]
        ]
    },
    {
        "id": "9d9de9db.5c38b8",
        "type": "save",
        "name": "get p-interface-dst from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"p-interface\"\n\t    key=\"pnf.pnf-name = $tmp.dst.domainB.pnf-name\n\t        AND p-interface.interface-name = $tmp.aai.network-route-B.next-hop\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.network-route-B.p-interface-dst\" >\n\n<!--<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" -->\n<!--\tresource=\"p-interface\"-->\n<!--\t    key=\"pnf.pnf-name = $unique-src-node-Id-->\n<!--\t        and p-interface.interface-name = $tmp.aai.endpointA.relationship-list.relationship[$rel-index].relationship-data[0].relationship-value\"-->\n<!--\t\tlocal-only=\"false\" -->\n<!--\t\tpfx=\"tmp.aai.endpointA.p-interface-src\" >-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3366.900161743164,
        "y": 1843.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "f47a2634.b211d8",
                "4a8297d6.2a928",
                "aeb5511b.98c418"
            ]
        ]
    },
    {
        "id": "dcd55e2.3f6482",
        "type": "comment",
        "name": "Question?",
        "info": "How to know if DG would send this get request\nin \"nodes\" namespace instead of \"network\" namespace?",
        "comments": "",
        "x": 3327.900161743164,
        "y": 1787.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "63cddf09.26d868",
        "type": "execute",
        "name": "execute split tp-id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.aai.network-route-B.next-hop`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-domainB-pnfName\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3378.900161743164,
        "y": 1582.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "43aff4f9.b6b3e4",
                "25e76471.03af04"
            ]
        ]
    },
    {
        "id": "25e76471.03af04",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3601.900161743164,
        "y": 1568.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "a96745eb.fd51a8"
            ]
        ]
    },
    {
        "id": "43aff4f9.b6b3e4",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3603.900161743164,
        "y": 1601.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "65d2388d.31966"
            ]
        ]
    },
    {
        "id": "65d2388d.31966",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 3746.900161743164,
        "y": 1598.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "a96745eb.fd51a8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3749.900161743164,
        "y": 1561.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "e299d57.a910ca8",
                "f2c7502b.08699"
            ]
        ]
    },
    {
        "id": "e299d57.a910ca8",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.dst.domainB.pnf-name' value=\"`$param-prefix-domainB-pnfName[0] + '-' +\n                                                   $param-prefix-domainB-pnfName[1] + '-' +\n                                                   $param-prefix-domainB-pnfName[2] + '-' +\n                                                   $param-prefix-domainB-pnfName[3] + '-' +\n                                                   $param-prefix-domainB-pnfName[4] + '-' +\n                                                   $param-prefix-domainB-pnfName[5] + '-' +\n                                                   $param-prefix-domainB-pnfName[6] + '-' +\n                                                   $param-prefix-domainB-pnfName[7] + '-' +\n                                                   $param-prefix-domainB-pnfName[8]`\" />\n",
        "comments": "",
        "x": 3943.900161743164,
        "y": 1564.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "77e0d458.7dce6c",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='dividx' start='0' end='`$tmp.aai.network-route-B.p-interface-dst.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3994.900131225586,
        "y": 1944.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "e086896d.a84a3"
            ]
        ]
    },
    {
        "id": "e086896d.a84a3",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.network-route-B.p-interface-dst.relationship-list.relationship[$dividx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4200.900131225586,
        "y": 1944.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "7b35902c.38cf98"
            ]
        ]
    },
    {
        "id": "7b35902c.38cf98",
        "type": "outcome",
        "name": "tunnel-termination-point",
        "xml": "<outcome value='tunnel-termination-point'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4418.185775756836,
        "y": 1943.388442993164,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "3adb3c4.e1dbc44"
            ]
        ]
    },
    {
        "id": "f2c7502b.08699",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.dst.domainB.pnf-name\"\n        pfx='tmp.aai.destination-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3965.900161743164,
        "y": 1632.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "816c398a.a95008",
                "793de235.310dbc",
                "438956b5.03e5"
            ]
        ]
    },
    {
        "id": "816c398a.a95008",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4161.400283813477,
        "y": 1584.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "c1f38920.d25ea"
            ]
        ]
    },
    {
        "id": "793de235.310dbc",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4153.400283813477,
        "y": 1639.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "cab6de35.b52228"
            ]
        ]
    },
    {
        "id": "438956b5.03e5",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4158.400283813477,
        "y": 1696.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "a8484dc0.47884"
            ]
        ]
    },
    {
        "id": "a8484dc0.47884",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4310.400283813477,
        "y": 1697.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "cab6de35.b52228",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4321.400283813477,
        "y": 1642.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "c1f38920.d25ea",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4305.782608032227,
        "y": 1582.2224578857422,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "afe15cf0.f36818"
            ]
        ]
    },
    {
        "id": "e1fca79d.bcc158",
        "type": "set",
        "name": "set ltpId",
        "xml": "<set>\n<parameter name='tmp.dst.ltpId' value='`$param-prefix-domainB[$param-prefix-domainB_length -1]`' />\n",
        "comments": "",
        "x": 4611.900161743164,
        "y": 1724.566909790039,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "d062e564.f9cc3",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.dst.pnf-name' value='`$param-prefix-domainB[$param-prefix-domainB_length -3]`' />\n",
        "comments": "",
        "x": 4612.900161743164,
        "y": 1829.566909790039,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "808f1d51.43ea1",
        "type": "comment",
        "name": "TODO: FIXME",
        "info": "using the output of regex string arrays,\nconcatinate index 0 to index[length-2] all together\nin order to assemble the correct pnf-name",
        "comments": "",
        "x": 4607.900161743164,
        "y": 1778.566909790039,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "3adb3c4.e1dbc44",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4625.017318725586,
        "y": 1932.9071197509766,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "d9f1d004.ab36e8",
                "c34231fa.58e828",
                "e0d690d7.a8c998"
            ]
        ]
    },
    {
        "id": "d9f1d004.ab36e8",
        "type": "set",
        "name": "set destination ttp-id",
        "xml": "<set>\n<parameter name='tmp.destination.ttp-id' value=\"`$tmp.aai.network-route-B.p-interface-dst.relationship-list.relationship[$dividx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 4840.017318725586,
        "y": 1894.9071197509766,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "c34231fa.58e828",
        "type": "get-resource",
        "name": "get-resource src TTP",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"tunnel-termination-point\" \n\t\tkey=\"tunnel-termination-point.ttp-id = $tmp.destination.ttp-id \n\t\tAND depth = '0'\"\n        pfx='tmp.aai.destination-ttp' local-only='false' >\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4837.017318725586,
        "y": 1933.9071197509766,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "1c725cd0.b941cb"
            ]
        ]
    },
    {
        "id": "e0d690d7.a8c998",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 4792.517318725586,
        "y": 1975.9071197509766,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "1c725cd0.b941cb",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5017.517318725586,
        "y": 1932.9071197509766,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "d4ead200.f358d"
            ]
        ]
    },
    {
        "id": "d4ead200.f358d",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5175.517318725586,
        "y": 1932.9071197509766,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "21d1a6b2.01b042"
            ]
        ]
    },
    {
        "id": "21d1a6b2.01b042",
        "type": "set",
        "name": "set destination tunnel tp ip",
        "xml": "<set>\n<parameter name='destination.tunnel-tp-id' value=\"`$tmp.aai.destination-ttp.tunnel-tp-id`\" />\n",
        "comments": "",
        "x": 5382.517318725586,
        "y": 1932.9071197509766,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "4c098907.41a99",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4887.900161743164,
        "y": 1600.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "801eca00.935f68"
            ]
        ]
    },
    {
        "id": "801eca00.935f68",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5064.900161743164,
        "y": 1592.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "387f801c.205ae8",
                "9175f1b.049129"
            ]
        ]
    },
    {
        "id": "afe15cf0.f36818",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='dpvidx' start='0' end='`$tmp.aai.destination-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4489.900161743164,
        "y": 1596.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "311e9242.e1d87e"
            ]
        ]
    },
    {
        "id": "311e9242.e1d87e",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.destination-pnf.relationship-list.relationship[$dpvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4684.900161743164,
        "y": 1596.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "4c098907.41a99",
                "349df30f.7cba04"
            ]
        ]
    },
    {
        "id": "9175f1b.049129",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domainB.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domainB.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 5272.900161743164,
        "y": 1599.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "42985b25.52fcec",
                "e5b701e3.8392b",
                "3efd20ec.3f4778"
            ]
        ]
    },
    {
        "id": "b70a777b.22a5f8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5066.900161743164,
        "y": 1665.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "8a34b29e.6de5e8"
            ]
        ]
    },
    {
        "id": "349df30f.7cba04",
        "type": "outcome",
        "name": "network-resource",
        "xml": "<outcome value='network-resource'>",
        "comments": "",
        "outputs": 1,
        "x": 4889.900161743164,
        "y": 1673.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "b70a777b.22a5f8"
            ]
        ]
    },
    {
        "id": "387f801c.205ae8",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domainB id",
        "xml": "<set>\n<parameter name='tmp.domainB.esr-thirdparty-id' value=\"`$tmp.aai.destination-pnf.relationship-list.relationship[$dpvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 5302.900161743164,
        "y": 1547.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "8a34b29e.6de5e8",
        "type": "set",
        "name": "set domainB ethernet layer network-id",
        "xml": "<set>\n<parameter name='tmp.domainB.eth-network-id' value=\"`$tmp.aai.destination-pnf.relationship-list.relationship[$dpvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 5279.900161743164,
        "y": 1731.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "42985b25.52fcec",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5482.900161743164,
        "y": 1590.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "16d18a71.6daf16"
            ]
        ]
    },
    {
        "id": "e5b701e3.8392b",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5474.900161743164,
        "y": 1645.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "6ba1c131.2a9348"
            ]
        ]
    },
    {
        "id": "3efd20ec.3f4778",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5479.900161743164,
        "y": 1702.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "e5aceb1d.a2ff7"
            ]
        ]
    },
    {
        "id": "e5aceb1d.a2ff7",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5631.900161743164,
        "y": 1703.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "6ba1c131.2a9348",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5642.900161743164,
        "y": 1648.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "16d18a71.6daf16",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5627.282485961914,
        "y": 1588.2224578857422,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "c4efa7e8.819f98"
            ]
        ]
    },
    {
        "id": "c4efa7e8.819f98",
        "type": "set",
        "name": "set controller domainB data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainB.url' value=\"`$tmp.aai.domainB.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainB.user' value=\"`$tmp.aai.domainB.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainB.password' value=\"`$tmp.aai.domainB.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 5841.900161743164,
        "y": 1584.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "e5f9b3dc.c2f9f",
        "type": "set",
        "name": "set LEAF stuff",
        "xml": "<set>\n<parameter name='tmp.LEAF.pnf-name-long' value=\"`$param-prefix-domainA-pnfName[0] + '-' +\n                                                   $param-prefix-domainA-pnfName[1] + '-' +\n                                                   $param-prefix-domainA-pnfName[2] + '-' +\n                                                   $param-prefix-domainA-pnfName[3] + '-' +\n                                                   $param-prefix-domainA-pnfName[4] + '-' +\n                                                   $param-prefix-domainA-pnfName[5] + '-' +\n                                                   $param-prefix-domainA-pnfName[6] + '-' +\n                                                   $param-prefix-domainA-pnfName[7] + '-' +\n                                                   $param-prefix-domainA-pnfName[8]`\" />\n\n<!--<parameter name='tmp.LEAF.pnf-name-short' value=\"`$param-prefix-domainA-pnfName[8]`\" />-->\n<parameter name='tmp.LEAF.pnf-name-short' value=\"`$tmp.src.pnf-name`\" />\n\n<parameter name='tmp.LEAF.uni-p-interface-long' value=\"`$tmp.aai.network-route-A.next-hop + '-' + $tmp.aai.network-route-A.logical-interface-id`\" />\n<parameter name='tmp.LEAF.uni-tp-id' value=\"`$tmp.src.ltpId`\" />\n",
        "comments": "",
        "x": 3340.566665649414,
        "y": 1454.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "169ca3b9.4d31a4",
        "type": "set",
        "name": "set ROOT stuff",
        "xml": "<set>\n<parameter name='tmp.ROOT.pnf-name-long' value=\"`$param-prefix-domainB-pnfName[0] + '-' +\n                                                   $param-prefix-domainB-pnfName[1] + '-' +\n                                                   $param-prefix-domainB-pnfName[2] + '-' +\n                                                   $param-prefix-domainB-pnfName[3] + '-' +\n                                                   $param-prefix-domainB-pnfName[4] + '-' +\n                                                   $param-prefix-domainB-pnfName[5] + '-' +\n                                                   $param-prefix-domainB-pnfName[6] + '-' +\n                                                   $param-prefix-domainB-pnfName[7] + '-' +\n                                                   $param-prefix-domainB-pnfName[8]`\" />\n\n<!--<parameter name='tmp.ROOT.pnf-name-short' value=\"`$param-prefix-domainB-pnfName[8]`\" />-->\n<parameter name='tmp.ROOT.pnf-name-short' value=\"`$tmp.dst.pnf-name`\" />\n\n<parameter name='tmp.ROOT.uni-p-interface-long' value=\"`$tmp.aai.network-route-B.next-hop + '-' + $tmp.aai.network-route-B.logical-interface-id`\" />\n<parameter name='tmp.ROOT.uni-tp-id' value=\"`$tmp.dst.ltpId`\" />\n",
        "comments": "",
        "x": 3327.566665649414,
        "y": 1974.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "426ddfc0.c628b",
        "type": "execute",
        "name": "execute UUID generator for ethernet-service-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.ethernet-service-name\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2452.566696166992,
        "y": 167.56666564941406,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "d0874bda.7e1ac",
        "type": "set",
        "name": "set new ethernet-service-name",
        "xml": "<set>\n<!--<parameter name='prop.ethernet-service-name' value=\"`$tmp.aai.logical-link.link-name`\" />-->\n<parameter name='prop.ethernet-service-name' value=\"`$tmp.aai.logical-link.link-id`\" />\n\n\n",
        "comments": "",
        "x": 2386.566696166992,
        "y": 203.56666564941406,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "2daf88d4.4069b",
        "type": "comment",
        "name": "The following two nodes are to make sure all connectivities for an E-Tree have same etht-srv-name",
        "info": "",
        "comments": "",
        "x": 2571.566696166992,
        "y": 130.56666564941406,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "4d0caa12.a83adc",
        "type": "comment",
        "name": "NOT NEEDED ANYMORE?",
        "info": "",
        "comments": "",
        "x": 4098.566665649414,
        "y": 1432.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "325da1a4.661aa6",
        "type": "comment",
        "name": "NOT NEEDED ANYMORE?",
        "info": "",
        "comments": "",
        "x": 4054.566635131836,
        "y": 1896.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "eca8d05b.38fb78",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:cll-vnf-topology-operation-cll-F1-activate",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='cll-vnf-topology-operation-cll-F1-activate' mode='sync' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2763.5670318603516,
        "y": 7264.566543579102,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "9a99585.3b52728",
        "type": "comment",
        "name": "START OF DELETE OPERATION",
        "info": "",
        "comments": "",
        "x": 3322.566665649414,
        "y": 2456.566635131836,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "e1bb190b.e249c8",
        "type": "save",
        "name": "delete LEAF uni resource in AAI",
        "xml": "<delete plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='uni' \n      key='uni.id = $tmp.LEAF.uni-p-interface-long'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3906.250015258789,
        "y": 2557.966751098633,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "19822907.e2052f",
        "type": "save",
        "name": "get LEAF uni from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"uni\"\n\t    key=\"uni.id = $tmp.LEAF.uni-p-interface-long\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.leafuni\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 3277.250015258789,
        "y": 2537.966751098633,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "3e98cd57.b05732",
                "c601135d.8ebcb8",
                "224a5da0.cc93c2"
            ]
        ]
    },
    {
        "id": "c601135d.8ebcb8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3504.740982055664,
        "y": 2510.540725708008,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "ad084de2.e988e8"
            ]
        ]
    },
    {
        "id": "224a5da0.cc93c2",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3500.250015258789,
        "y": 2554.9666900634766,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "dcac28ad.d4a36"
            ]
        ]
    },
    {
        "id": "ad084de2.e988e8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 3667.312515258789,
        "y": 2509.826431274414,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "dcac28ad.d4a36",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 3668.250015258789,
        "y": 2554.9666900634766,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "3e98cd57.b05732",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3512.250015258789,
        "y": 2604.966751098633,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "eb73cd4.3d8393"
            ]
        ]
    },
    {
        "id": "eb73cd4.3d8393",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3664.566665649414,
        "y": 2608.566604614258,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "24f11631.71c6d2",
                "e1bb190b.e249c8",
                "5066cd38.1c6414",
                "5dc3af5e.92a278"
            ]
        ]
    },
    {
        "id": "24f11631.71c6d2",
        "type": "set",
        "name": "set bwToBeDecreased tpid cvlan",
        "xml": "<set>\n<parameter name='bwToBeDecreased' value=\"`$tmp.aai.leafuni.data-source`\" />\n<parameter name='tpid' value='`$tmp.aai.leafuni.tp-id`' />\n<parameter name='cvlan' value='`$tmp.aai.leafuni.cvlan`' />\n\n\n",
        "comments": "",
        "x": 3909.250015258789,
        "y": 2500.966751098633,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "80dbb6de.b49838",
        "type": "comment",
        "name": "Update ROOT UNI's bw",
        "info": "",
        "comments": "",
        "x": 3871.250015258789,
        "y": 2611.766616821289,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "45c0e5f4.f4ad34",
        "type": "save",
        "name": "update ROOT UNI in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='uni' \n      key='uni.id = $tmp.ROOT.uni-p-interface-long'>\n<parameter name='id' value='`$tmp.ROOT.uni-p-interface-long`' />\n<parameter name='data-source' value='`$tmp.newbw`' />\n",
        "comments": "",
        "outputs": 1,
        "x": 4549.250015258789,
        "y": 2654.766616821289,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "5066cd38.1c6414",
        "type": "save",
        "name": "get root uni from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"uni\"\n\t    key=\"uni.id = $tmp.ROOT.uni-p-interface-long\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.rootuni\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 3863.249771118164,
        "y": 2657.766616821289,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "a6e50ef0.8e2c5",
                "13029608.69349a",
                "208dd481.7b2554"
            ]
        ]
    },
    {
        "id": "13029608.69349a",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4166.740737915039,
        "y": 2568.340591430664,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "a4cd8e0.5d99ef"
            ]
        ]
    },
    {
        "id": "208dd481.7b2554",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4162.249771118164,
        "y": 2612.766555786133,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "a8fd408a.63278"
            ]
        ]
    },
    {
        "id": "a4cd8e0.5d99ef",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 4329.312271118164,
        "y": 2567.6262969970703,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "a8fd408a.63278",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 4330.249771118164,
        "y": 2612.766555786133,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "108d95bc.e243b2",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4327.249771118164,
        "y": 2662.766616821289,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "6fb618e0.320358",
                "45c0e5f4.f4ad34"
            ]
        ]
    },
    {
        "id": "a6e50ef0.8e2c5",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4158.249771118164,
        "y": 2662.766616821289,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "108d95bc.e243b2"
            ]
        ]
    },
    {
        "id": "6fb618e0.320358",
        "type": "set",
        "name": "set new bw",
        "xml": "<set>\n<parameter name='tmp.newbw' value='`$tmp.aai.rootuni.data-source - $bwToBeDecreased`' />\n",
        "comments": "",
        "x": 4509.250503540039,
        "y": 2604.766616821289,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "501ef6fe.de27d8",
        "type": "comment",
        "name": "Delete LEAF UNI",
        "info": "",
        "comments": "",
        "x": 3857.566665649414,
        "y": 2442.566604614258,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "13751b77.2d6a35",
        "type": "set",
        "name": "set current-provider-id and current-cvlan-id",
        "xml": "<set>\n<parameter name='tmp.current-provider-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -9]`' />\n<parameter name='tmp.current-cvlan-id' value='`$tmp.aai.network-route-A.logical-interface-id`' />\n\n<!--<parameter name='access-provider-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -9]`' />-->\n<!--<parameter name='access-client-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -7]`' />-->\n<!--<parameter name='access-topology-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -5]`' />-->\n<!--<parameter name='access-node-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -3]`' />-->\n<!--<parameter name='access-ltp-id' value='`$param-prefix-domainA[$param-prefix-domainA_length -1]`' />-->\n<!--<parameter name='cvlan' value='`$tmp.aai.network-route-A.logical-interface-id`' />-->",
        "comments": "",
        "x": 3337.433334350586,
        "y": 3775.166702270508,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "42ae91e0.cfd958",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:cll-vnf-topology-operation-cll-helper-find-connectivity",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='cll-vnf-topology-operation-cll-helper-find-connectivity' mode='sync' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3470.433334350586,
        "y": 3823.166702270508,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "f0c980e9.4c97f",
        "type": "switchNode",
        "name": "switch found-connectivity?",
        "xml": "\n<switch test=\"`$found-connectivity`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3292.433334350586,
        "y": 3874.966751098633,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "ddd00137.0625f8",
                "49bc5de5.143edc"
            ]
        ]
    },
    {
        "id": "ddd00137.0625f8",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3485.433334350586,
        "y": 3875.966751098633,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "baae6201.7fdf3"
            ]
        ]
    },
    {
        "id": "baae6201.7fdf3",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"LEAF CONN DOES NOT EXIST BUT IT SHOULD BE.\" />\n\n",
        "comments": "",
        "x": 3629.433334350586,
        "y": 3872.166702270508,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "49bc5de5.143edc",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3489.433334350586,
        "y": 3919.966751098633,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "8955d942.ba6bc"
            ]
        ]
    },
    {
        "id": "8955d942.ba6bc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3628.433334350586,
        "y": 3914.966751098633,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "2c8b9b3a.156d1c",
                "942c3741.17e638",
                "ea29b2fb.fa9b"
            ]
        ]
    },
    {
        "id": "2c8b9b3a.156d1c",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='cridx' start='0' end='`$tmp.the-connectivity.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3878.832992553711,
        "y": 3923.483352661133,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "829ce491.bb75d8"
            ]
        ]
    },
    {
        "id": "829ce491.bb75d8",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.the-connectivity.relationship-list.relationship[$cridx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4100.832992553711,
        "y": 3901.483352661133,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "b35a1aab.3a595"
            ]
        ]
    },
    {
        "id": "b35a1aab.3a595",
        "type": "outcome",
        "name": "uni",
        "xml": "<outcome value='uni'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4260.832504272461,
        "y": 3881.483352661133,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "335ed745.f60fb8"
            ]
        ]
    },
    {
        "id": "f8921006.06e1a",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4413.833023071289,
        "y": 3862.483383178711,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "8d9ae5c3.a9c288",
                "b59230eb.4dd598"
            ]
        ]
    },
    {
        "id": "8d9ae5c3.a9c288",
        "type": "set",
        "name": "set tmp.stillHasUni to TRUE",
        "xml": "<set>\n<parameter name='tmp.stillHasUni' value='true' />\n",
        "comments": "",
        "x": 4610.333236694336,
        "y": 3830.566604614258,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "942c3741.17e638",
        "type": "set",
        "name": "set tmp.stillHasUn tmp.keepVPNBs to FALSE",
        "xml": "<set>\n<parameter name='tmp.stillHasUni' value='false' />\n<parameter name='tmp.keepVPNBs' value='false' />\n",
        "comments": "",
        "x": 3985.333267211914,
        "y": 3842.566635131836,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "ea29b2fb.fa9b",
        "type": "switchNode",
        "name": "switch tmp.keepVPNBs?",
        "xml": "\n<switch test=\"`$tmp.keepVPNBs`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3793.333267211914,
        "y": 4263.566879272461,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "1074f3a1.e40104",
                "49cd5621.2fb45"
            ]
        ]
    },
    {
        "id": "b59230eb.4dd598",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 4578.566665649414,
        "y": 3898.566635131836,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "49cd5621.2fb45",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 180.3340301513672,
        "y": 5327.567123413086,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "94db503d.b50288"
            ]
        ]
    },
    {
        "id": "1074f3a1.e40104",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4014.333999633789,
        "y": 4365.566879272461,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "98bce2a7.eae0e8"
            ]
        ]
    },
    {
        "id": "98bce2a7.eae0e8",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4157.333999633789,
        "y": 4361.566879272461,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "700868f.6d62d18",
                "9e6ef63b.470c28",
                "98c15798.fc2c28",
                "a474eb09.bdcea",
                "4e75594e.323fe8",
                "8985192.1ed6868",
                "bbed6bed.031a08",
                "9b06d9ac.c2c2b",
                "35800841.c29e7"
            ]
        ]
    },
    {
        "id": "7a0c4e0f.7452f",
        "type": "comment",
        "name": "keepVPNBs == false, then check tmp.stillHasUni",
        "info": "(2) keepVPNBs == false, means there are no other UNIs in this\nsame domain and same connectivity that share the same OLT node.\n\ncheck if tmp.stillHasUni is True or False?\n\nif TRUE --> means this domain (connectivity) still has other UNIs\n- delete VPNBs\n- delete LEAF UNI in AAI -- DONE\n- upadte bw in ROOT UNI -- DONE\n- delete LEAF UNI in LEAF ethernet service PNC\n- change ROOT conn status to Modified\n--- mark LEAF connectivity as Modified because the underlay OTN tunnel list of this connectivity is now different\n\nif FALSE --> means this domain (connectivity) has no other UNIs\n\nif MMstillHasUni == TRUE, means scenario (3), else, means scenario (4)\n\n(3) & (4) both:\n- delete VPNBs\n- delete LEAF connectivity\n- delete LEAF Ethernet Service from PNC\n\n(3) only:\n- change ROOT conn status to Modified\n- Keep the middle-man-conn and DON'T delete\n\n(4) only:\n- delete ROOT UNI\n- delete ROOT conn from AAI\n- delete ROOT Ethernet Service from PNC\n- delete middle-man-conn from AAI\n\n",
        "comments": "",
        "x": 206.68336486816406,
        "y": 5283.567123413086,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "7ce224df.f32d34",
        "type": "comment",
        "name": "There are still other UNIs in this connectivity that share same OLT node. Only update bw of the vpn-bindings involved",
        "info": "(1) keepVPNBs == true, means there are still other UNIs in this\nsame domain and same connectivity that share the same OLT node.\n\n- Only update bw of the vpn-bindings involved -- DONE\n- upadte bw in ROOT UNI -- DONE\n- change ROOT conn status to Modified -- DONE\n- delete LEAF UNI in AAI -- DONE\n- delete LEAF UNI in LEAF ethernet service PNC -- DONE\n- DON'T delete the connectivities of LEAF and ROOT -- DONE\nAlso update the ethernet services",
        "comments": "",
        "x": 4033.567398071289,
        "y": 4328.566879272461,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "eb1e9e05.cb15c8",
        "type": "set",
        "name": "set srcTtp OTN layer",
        "xml": "<set>\n<!--<parameter name='tmp.srcTtpOtnLayer' value=\"`$tmp.pce-src-node + '-' + -->\n<!--                                             $param-prefix-domainA[$param-prefix-domainA_length -2] + '-' +-->\n<!--                                             $tmp.source.ttp-id`\" />-->\n\n<parameter name='tmp.srcTtpOtnLayer' value=\"`$tmp.pce-src-node`\" />\n\n\n",
        "comments": "",
        "x": 4846.351089477539,
        "y": 4519.350326538086,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "1fff7e41.5e97da",
        "type": "switchNode",
        "name": "switch provider-id domainA",
        "xml": "<switch test='`$allNetworksList.network-resource[$netwidx].provider-id == $param-prefix-domainA-pnfName[2]`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5191.351089477539,
        "y": 4381.350326538086,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "384897a.b5a9568"
            ]
        ]
    },
    {
        "id": "3095386e.cc8938",
        "type": "for",
        "name": "for netwidx..allNetworksList_length",
        "xml": "<for index='netwidx' start='0' end='`$allNetworksList.network-resource_length`' >",
        "comments": "",
        "outputs": 1,
        "x": 4898.351089477539,
        "y": 4375.350326538086,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "1fff7e41.5e97da"
            ]
        ]
    },
    {
        "id": "31c473ae.f4e764",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5153.351089477539,
        "y": 4332.350326538086,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "ca81f202.b30418",
        "type": "set",
        "name": "unset parameters",
        "xml": "<set>\n<parameter name='tmp.pce-src-node.' value='' />\n",
        "comments": "",
        "x": 4842.351089477539,
        "y": 4427.350326538086,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "b2478692.ea1d6",
        "type": "set",
        "name": "set tmp.pce-src-node",
        "xml": "<set>\n<!--<parameter name='tmp.pce-src-node' value=\"`$param-prefix-domainA-pnfName[0] + '-' +-->\n<!--                                                   $param-prefix-domainA-pnfName[1] + '-' +-->\n<!--                                                   $param-prefix-domainA-pnfName[2] + '-' +-->\n<!--                                                   $param-prefix-domainA-pnfName[3] + '-' +-->\n<!--                                                   $param-prefix-domainA-pnfName[4] + '-' +-->\n<!--                                                   $param-prefix-domainA-pnfName[5] + '-' +-->\n<!--                                                   1 + '-' +-->\n<!--                                                   $param-prefix-domainA-pnfName[7] + '-' +-->\n<!--                                                   $param-prefix-domainA-pnfName[8]`\" />-->\n\n<parameter name='tmp.pce-src-node' value=\"`$param-prefix-domainA-pnfName[0] + '-' +\n                                                   $param-prefix-domainA-pnfName[1] + '-' +\n                                                   $param-prefix-domainA-pnfName[2] + '-' +\n                                                   $param-prefix-domainA-pnfName[3] + '-' +\n                                                   $param-prefix-domainA-pnfName[4] + '-' +\n                                                   $param-prefix-domainA-pnfName[5] + '-' +\n                                                   $otnTopoIdSrc + '-' +\n                                                   $param-prefix-domainA-pnfName[7] + '-' +\n                                                   $param-prefix-domainA-pnfName[8]`\" />",
        "comments": "",
        "x": 4850.351089477539,
        "y": 4472.350326538086,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "eb2b76ee.d20fa8",
        "type": "set",
        "name": "unset otnTopoIdSrc",
        "xml": "<set>\n<parameter name='otnTopoIdSrc' value='' />\n",
        "comments": "",
        "x": 4847.351089477539,
        "y": 4325.350326538086,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "384897a.b5a9568",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5100.351089477539,
        "y": 4449.350326538086,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "a1cf1e6d.96424"
            ]
        ]
    },
    {
        "id": "a1cf1e6d.96424",
        "type": "switchNode",
        "name": "switch te-topo-id",
        "xml": "<switch test='`$allNetworksList.network-resource[$netwidx].te-topo-id != $param-prefix-domainA-pnfName[6]`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5285.351089477539,
        "y": 4448.350326538086,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "e54e7c9a.d7146"
            ]
        ]
    },
    {
        "id": "e54e7c9a.d7146",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5477.351089477539,
        "y": 4451.350326538086,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "88338270.bbe028"
            ]
        ]
    },
    {
        "id": "88338270.bbe028",
        "type": "set",
        "name": "set otnTopoIdSrc",
        "xml": "<set>\n<parameter name='otnTopoIdSrc' value='`$allNetworksList.network-resource[$netwidx].te-topo-id`' />\n",
        "comments": "",
        "x": 5649.351089477539,
        "y": 4447.350326538086,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "5518c3fe.6c8f7c",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:cll-vnf-topology-operation-find-maximum-used-tpn",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='cll-vnf-topology-operation-find-maximum-used-tpn' mode='sync' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 5025.351089477539,
        "y": 4562.350326538086,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "700868f.6d62d18",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4542.351089477539,
        "y": 4347.350326538086,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "7996b8d7.d892b8",
                "fc1f2ae1.cce1f",
                "ca81f202.b30418",
                "b2478692.ea1d6",
                "eb1e9e05.cb15c8",
                "3095386e.cc8938",
                "5518c3fe.6c8f7c"
            ]
        ]
    },
    {
        "id": "aec75daf.8805f",
        "type": "comment",
        "name": "The following section is to find srcTtp OTN layer (its long name)",
        "info": "The following section is to find srcTtp OTN layer (its long name)",
        "comments": "",
        "x": 4527.351089477539,
        "y": 4281.350326538086,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "fc1f2ae1.cce1f",
        "type": "get-resource",
        "name": "get-resource network-resources-list",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"network-resources\"\n\t    key=\"selflink = 'https://aai.onap:8443/aai/v24/network/network-resources?depth=0'\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"allNetworksList\" >",
        "comments": "",
        "outputs": 1,
        "x": 4906.351089477539,
        "y": 4268.350326538086,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "74fcf491.6cb18c",
                "27200085.4f11f",
                "31c473ae.f4e764"
            ]
        ]
    },
    {
        "id": "74fcf491.6cb18c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5142.351089477539,
        "y": 4251.350326538086,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "27200085.4f11f",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5139.351089477539,
        "y": 4292.350326538086,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "7996b8d7.d892b8",
        "type": "set",
        "name": "unset parameters",
        "xml": "<set>\n<parameter name='allNetworksList.' value='' />\n",
        "comments": "",
        "x": 4855.351089477539,
        "y": 4225.350326538086,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "9e6ef63b.470c28",
        "type": "set",
        "name": "unset tmp.aai.all-vpn-bindings",
        "xml": "<set>\n<parameter name='tmp.aai.all-vpn-bindings.' value='' />\n",
        "comments": "",
        "x": 4362.351089477539,
        "y": 4679.750228881836,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "d0de5ca9.0d9ed8",
        "type": "comment",
        "name": "find all OTNs that have srcTtpOtnLayer and decrease their bandwidth",
        "info": "",
        "comments": "",
        "x": 4485.651382446289,
        "y": 4718.750228881836,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "98c15798.fc2c28",
        "type": "save",
        "name": "get all-vpn-bindings from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"vpn-bindings\"\n\t    key=\"selflink = 'https://aai.onap:8443/aai/v24/network/vpn-bindings\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.all-vpn-bindings\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 4383.651382446289,
        "y": 4753.750228881836,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "435ca159.b40ef",
                "d725cba9.49bb",
                "47bda61e.d52e08"
            ]
        ]
    },
    {
        "id": "435ca159.b40ef",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4588.651382446289,
        "y": 4750.750228881836,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "293c4671.01eaaa"
            ]
        ]
    },
    {
        "id": "d725cba9.49bb",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4572.142349243164,
        "y": 4812.324264526367,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "107ae3d6.bea87c"
            ]
        ]
    },
    {
        "id": "47bda61e.d52e08",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4569.651382446289,
        "y": 4855.750228881836,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "b006b7ef.442db8"
            ]
        ]
    },
    {
        "id": "293c4671.01eaaa",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4756.651626586914,
        "y": 4745.750228881836,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "94070507.2dec4"
            ]
        ]
    },
    {
        "id": "107ae3d6.bea87c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 4734.713760375977,
        "y": 4812.610000610352,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "b006b7ef.442db8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 4736.651382446289,
        "y": 4854.750228881836,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "94070507.2dec4",
        "type": "for",
        "name": "for vpnidx in all-vpn-bindings",
        "xml": "<for index='vpnbidx' start='0' end='`$tmp.aai.all-vpn-bindings.vpn-binding_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4994.651626586914,
        "y": 4750.750228881836,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "db3073d6.6320c8"
            ]
        ]
    },
    {
        "id": "db3073d6.6320c8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 5228.651382446289,
        "y": 4757.750228881836,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "37f340bd.0a3438"
            ]
        ]
    },
    {
        "id": "fcec711e.ca4568",
        "type": "comment",
        "name": "find all OTNs that have srcTtpOtnLayer and increase their bandwidth",
        "info": "",
        "comments": "",
        "x": 5145.467300415039,
        "y": 4828.916549682617,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "37f340bd.0a3438",
        "type": "switchNode",
        "name": "switch ops-note is srcTtpOtnLayer",
        "xml": "<switch test=\"`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].ops-note == $tmp.srcTtpOtnLayer `\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 5089.467300415039,
        "y": 4877.916549682617,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "ab022fe7.308e68",
                "3eb6abc9.a7b9b4"
            ]
        ]
    },
    {
        "id": "3eb6abc9.a7b9b4",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5332.467788696289,
        "y": 4918.916061401367,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "ab022fe7.308e68",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5343.467544555664,
        "y": 4875.916275024414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "82036bd3.d2b678"
            ]
        ]
    },
    {
        "id": "8f49a5ce.76f168",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 5570.450942993164,
        "y": 4883.332778930664,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "c997366c.5a655",
                "3dbdc2ab.0fbd3e",
                "bd51e31d.644ad8"
            ]
        ]
    },
    {
        "id": "cd343233.3d4178",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='vpnbridx' start='0' end='`$tmp.aai.the-vpn-binding.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 5735.500747680664,
        "y": 4768.333236694336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "355f9f95.f927e8"
            ]
        ]
    },
    {
        "id": "355f9f95.f927e8",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.the-vpn-binding.relationship-list.relationship[$vpnbridx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5927.500747680664,
        "y": 4757.333480834961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "d2bb482a.6b0258"
            ]
        ]
    },
    {
        "id": "c997366c.5a655",
        "type": "set",
        "name": "unset tmp.aai.the-vpn-binding",
        "xml": "<set>\n<parameter name='tmp.aai.the-vpn-binding.' value=\"\" />\n",
        "comments": "",
        "x": 5684.017593383789,
        "y": 4658.550277709961,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "3dbdc2ab.0fbd3e",
        "type": "set",
        "name": "set tmp.aai.the-vpn-binding",
        "xml": "<set>\n<parameter name='tmp.aai.the-vpn-binding.' value=\"`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].`\" />\n",
        "comments": "",
        "x": 5676.017593383789,
        "y": 4707.550277709961,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "bd51e31d.644ad8",
        "type": "save",
        "name": "update vpn-binding otnIdx resource (aka. OTN) in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $tmp.aai.the-vpn-binding.vpn-id' >\n<parameter name='vpn-id' value='`$tmp.aai.the-vpn-binding.vpn-id`' />\n<parameter name='vpn-name' value='`$tmp.aai.the-vpn-binding.vpn-name`' />\n<parameter name='customer-vpn-id' value='`$newToBeUsedMaxtpn`' />\n<parameter name='route-distinguisher' value='`$tmp.aai.the-vpn-binding.route-distinguisher - $bwToBeDecreased`' />\n<parameter name='operational-status' value='Modified' />\n",
        "comments": "",
        "outputs": 1,
        "x": 5907.434585571289,
        "y": 4888.716293334961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "284b8a46.878cde",
        "type": "save",
        "name": "update connectivity resource in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $tmp.the-connectivity.connectivity-id'>\n<parameter name='connectivity-id' value='`$tmp.the-connectivity.connectivity-id`' />\n<parameter name='operational-status' value='Modified' />\n<!--<parameter name='bandwidth-profile-name' value='`$gfp`' />-->\n<!--<parameter name='cir' value='`$gfp *1000000`' />-->\n<!--<parameter name='eir' value='`$gfp *1000000`' />-->\n",
        "comments": "",
        "outputs": 1,
        "x": 5859.084487915039,
        "y": 4936.033187866211,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "d8829575.9f3a28",
        "type": "comment",
        "name": "decrease the bw of the-vpn-binding and change status to modified",
        "info": "decrease the bw of the-vpn-binding\nchange status to modified\n",
        "comments": "",
        "x": 5931.434585571289,
        "y": 4849.716293334961,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "d2bb482a.6b0258",
        "type": "outcome",
        "name": "connectivity",
        "xml": "<outcome value='connectivity'>\n",
        "comments": "",
        "outputs": 1,
        "x": 6109.500747680664,
        "y": 4736.333480834961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "c2a155f5.9faa88"
            ]
        ]
    },
    {
        "id": "c2a155f5.9faa88",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 6271.500747680664,
        "y": 4725.333480834961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "560d06d2.09f708",
                "97054905.242338"
            ]
        ]
    },
    {
        "id": "560d06d2.09f708",
        "type": "set",
        "name": "unset tmp.the-connectivity",
        "xml": "<set>\n<parameter name='tmp.the-connectivity.' value='' />\n",
        "comments": "",
        "x": 6468.500747680664,
        "y": 4654.333480834961,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "97054905.242338",
        "type": "set",
        "name": "set tmp.the-connectivity",
        "xml": "<set>\n<parameter name='tmp.the-connectivity.' value='`$tmp.aai.the-vpn-binding.relationship-list.relationship[$vpnbridx].relationship-data[0].relationship-value`' />\n",
        "comments": "",
        "x": 6465.967544555664,
        "y": 4753.550277709961,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "e8ad32eb.9df94",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:cll-vnf-topology-operation-cll-logic",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='cll-vnf-topology-operation-cll-logic' mode='sync' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3123.483413696289,
        "y": 3212.366683959961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "cf9533e5.c2371",
        "type": "switchNode",
        "name": "switch found-middle-man?",
        "xml": "<switch test='`$found-middle-man`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3000.483413696289,
        "y": 3322.366683959961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "6d545915.394bc",
                "8fea5bf9.a101b8"
            ]
        ]
    },
    {
        "id": "6d545915.394bc",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3184.483413696289,
        "y": 3301.366683959961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "a2317561.56953"
            ]
        ]
    },
    {
        "id": "a2317561.56953",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3327.483413696289,
        "y": 3301.366683959961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "a264af99.117e28"
            ]
        ]
    },
    {
        "id": "a264af99.117e28",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"LEAF CONN DOES NOT EXIST BUT IT SHOULD BE.\" />\n\n",
        "comments": "",
        "x": 3503.483413696289,
        "y": 3299.366683959961,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "8fea5bf9.a101b8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3182.483413696289,
        "y": 3356.366683959961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "3fcc1946.2227c6"
            ]
        ]
    },
    {
        "id": "3fcc1946.2227c6",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3029.483413696289,
        "y": 3489.366683959961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "13751b77.2d6a35",
                "42ae91e0.cfd958",
                "f0c980e9.4c97f",
                "15cfd0d2.c7223f",
                "566cdb6f.69a6a4",
                "130e3d11.8bda33"
            ]
        ]
    },
    {
        "id": "b391ba6b.5d625",
        "type": "comment",
        "name": "Find LEAF connectivity",
        "info": "",
        "comments": "",
        "x": 3251.566665649414,
        "y": 3729.566635131836,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "15cfd0d2.c7223f",
        "type": "set",
        "name": "set tmp.MMstillHasUni to FALSE",
        "xml": "<set>\n<parameter name='tmp.MMstillHasUni' value='false' />\n",
        "comments": "",
        "x": 3334.016616821289,
        "y": 3502.366683959961,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "566cdb6f.69a6a4",
        "type": "for",
        "name": "for each relationship of middle-man-conn",
        "xml": "<for silentFailure='true' index='cridx' start='0' end='`$middle-man-conn.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3332.516372680664,
        "y": 3548.283432006836,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "69987cbf.ba882c"
            ]
        ]
    },
    {
        "id": "69987cbf.ba882c",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$middle-man-conn.relationship-list.relationship[$cridx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3595.516372680664,
        "y": 3543.283432006836,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "6b4b309c.a784f8"
            ]
        ]
    },
    {
        "id": "6b4b309c.a784f8",
        "type": "outcome",
        "name": "uni",
        "xml": "<outcome value='uni'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3755.515884399414,
        "y": 3523.283432006836,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "537f8032.a139c8"
            ]
        ]
    },
    {
        "id": "608ff90c.2e5fc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5092.517593383789,
        "y": 3554.283462524414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "b2d28e5c.e8fb18",
                "d55c5cbc.26dad8",
                "99b14097.a9c1b8"
            ]
        ]
    },
    {
        "id": "b2d28e5c.e8fb18",
        "type": "set",
        "name": "set tmp.MMstillHasUni to TRUE",
        "xml": "<set>\n<parameter name='tmp.MMstillHasUni' value='true' />\n",
        "comments": "",
        "x": 5332.018081665039,
        "y": 3503.366714477539,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "d55c5cbc.26dad8",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 5265.251510620117,
        "y": 3576.366744995117,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "3b35e0ea.5843e8",
        "type": "comment",
        "name": "Find LEAF and ROOT connectivities and remove UNI from PNC",
        "info": "",
        "comments": "",
        "x": 4458.567642211914,
        "y": 5110.566879272461,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "a474eb09.bdcea",
        "type": "set",
        "name": "set tmp.leafconn.",
        "xml": "<set>\n<parameter name='tmp.leafconn.' value='`$tmp.the-connectivity.`' />\n",
        "comments": "",
        "x": 4357.000503540039,
        "y": 5162.483383178711,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "bbed6bed.031a08",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:cll-vnf-topology-operation-cll-helper-find-ROOT-conn",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='cll-vnf-topology-operation-cll-helper-find-ROOT-conn' mode='sync' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4508.000503540039,
        "y": 5605.483383178711,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "9b06d9ac.c2c2b",
        "type": "switchNode",
        "name": "switch found-root-connectivity",
        "xml": "\n<switch test=\"`$found-root-connectivity`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4323.000503540039,
        "y": 5672.483383178711,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "da6e8509.7a87a8",
                "16a08f38.4e9a49"
            ]
        ]
    },
    {
        "id": "da6e8509.7a87a8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4588.000503540039,
        "y": 5657.483383178711,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "c2e76143.b6b218"
            ]
        ]
    },
    {
        "id": "16a08f38.4e9a49",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4584.000503540039,
        "y": 5705.483383178711,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "8fe2e656.247af"
            ]
        ]
    },
    {
        "id": "c2e76143.b6b218",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4744.000503540039,
        "y": 5653.483383178711,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "9d183ed0.0c624"
            ]
        ]
    },
    {
        "id": "8fe2e656.247af",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='Root Connectivity was not found' />\n",
        "comments": "",
        "x": 4732.000503540039,
        "y": 5700.483383178711,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "2c1c4698.bb1b8a",
        "type": "set",
        "name": "set tmp.rootconn.",
        "xml": "<set>\n<parameter name='tmp.rootconn.' value=\"`$tmp.aai.ROOT.connectivity.`\" />\n\n\n",
        "comments": "",
        "x": 5164.000747680664,
        "y": 5595.483383178711,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "39f2eed6.a40982",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.domain.pnf-name' value=\"`'networkId-providerId-' +\n                                                   $tmp.leafconn.access-provider-id + '-clientId-' +\n                                                   $tmp.leafconn.access-client-id + '-topologyId-' +\n                                                   $tmp.leafconn.access-topology-id + '-nodeId-' +\n                                                   $tmp.leafconn.access-node-id`\" />\n",
        "comments": "",
        "x": 4566.417495727539,
        "y": 5191.767074584961,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "4e75594e.323fe8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4337.417495727539,
        "y": 5280.767074584961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "39f2eed6.a40982",
                "ec0a5547.230718"
            ]
        ]
    },
    {
        "id": "ec0a5547.230718",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.domain.pnf-name\"\n        pfx='tmp.aai.source-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 4573.417495727539,
        "y": 5273.767074584961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "f4f0abfb.959d98",
                "6d247b2e.c14f4c",
                "ac6604fb.6b0698"
            ]
        ]
    },
    {
        "id": "f4f0abfb.959d98",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4768.917617797852,
        "y": 5225.767074584961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "7a4a15ea.cb5f7c"
            ]
        ]
    },
    {
        "id": "6d247b2e.c14f4c",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4760.917617797852,
        "y": 5280.767074584961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "9d792ff5.12f1d8"
            ]
        ]
    },
    {
        "id": "7a4a15ea.cb5f7c",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4913.299942016602,
        "y": 5225.422744750977,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "22a044c0.3de0ec"
            ]
        ]
    },
    {
        "id": "22a044c0.3de0ec",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='spvidx' start='0' end='`$tmp.aai.source-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 5097.417495727539,
        "y": 5223.767074584961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "afda241e.dc7d4"
            ]
        ]
    },
    {
        "id": "afda241e.dc7d4",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5292.417495727539,
        "y": 5223.767074584961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "7162d2d.84a60ac"
            ]
        ]
    },
    {
        "id": "ac6604fb.6b0698",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4765.917617797852,
        "y": 5337.767074584961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "cc0a2fe1.d0b358"
            ]
        ]
    },
    {
        "id": "cc0a2fe1.d0b358",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4917.917617797852,
        "y": 5338.767074584961,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "9d792ff5.12f1d8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4928.917617797852,
        "y": 5281.767074584961,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "9e3505a2.ad7f68",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5674.417495727539,
        "y": 5227.767074584961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "ea7ae99e.7714a",
                "97767b77.532b48",
                "bd9bb3b2.0d8698"
            ]
        ]
    },
    {
        "id": "7162d2d.84a60ac",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5495.417495727539,
        "y": 5227.767074584961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "9e3505a2.ad7f68"
            ]
        ]
    },
    {
        "id": "97767b77.532b48",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domain.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domain.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 5880.417495727539,
        "y": 5240.767074584961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "8ede340c.5a66c8",
                "74477750.32976",
                "ea5203af.a882c8"
            ]
        ]
    },
    {
        "id": "ea7ae99e.7714a",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domain id",
        "xml": "<set>\n<parameter name='tmp.domain.esr-thirdparty-id' value=\"`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 5910.417495727539,
        "y": 5188.767074584961,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "8ede340c.5a66c8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 6090.417495727539,
        "y": 5231.767074584961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "5e0e6cb.070b594"
            ]
        ]
    },
    {
        "id": "74477750.32976",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 6082.417495727539,
        "y": 5286.767074584961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "8bfb7c50.692e68"
            ]
        ]
    },
    {
        "id": "ea5203af.a882c8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 6087.417495727539,
        "y": 5343.767074584961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "1d7cc732.18ead1"
            ]
        ]
    },
    {
        "id": "1d7cc732.18ead1",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 6239.417495727539,
        "y": 5344.767074584961,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "8bfb7c50.692e68",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 6250.417495727539,
        "y": 5289.767074584961,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "5e0e6cb.070b594",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 6234.799819946289,
        "y": 5229.422744750977,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "20b06727.e2f538"
            ]
        ]
    },
    {
        "id": "20b06727.e2f538",
        "type": "set",
        "name": "set controller domain data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.url' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.user' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.password' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 6449.417495727539,
        "y": 5225.767074584961,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "bd9bb3b2.0d8698",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 5830.417495727539,
        "y": 5304.767074584961,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "8985192.1ed6868",
        "type": "execute",
        "name": "execute RestApiCallNode Delete LEAF UNI of ethernet Service without token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.url + '/restconf/data/ietf-eth-tran-service:etht-svc/etht-svc-instances=' + $tmp.leafconn.etht-svc-name + '/etht-svc-end-points=' + $tmp.LEAF.uni-p-interface-long`\" />\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.restapi.connection-oof-url`\" />-->\n<!--<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sotn-ethernet-service.json'`\" />-->\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"delete\"/>\n<parameter name='dirPath' value=\"/opt/onap/sdnc/restconfapi/yang\" />\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 4478.917739868164,
        "y": 5385.366683959961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "62c705b1.502d1c",
                "1b875464.e01f44"
            ]
        ]
    },
    {
        "id": "62c705b1.502d1c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4839.417495727539,
        "y": 5393.366683959961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "d191549e.030218"
            ]
        ]
    },
    {
        "id": "d191549e.030218",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing delete ethernet service rest api\" />\n",
        "comments": "",
        "x": 4997.417495727539,
        "y": 5393.366683959961,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "18bca107.e50237",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 5000.917495727539,
        "y": 5433.366683959961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "1b875464.e01f44",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4843.417495727539,
        "y": 5433.366683959961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "18bca107.e50237"
            ]
        ]
    },
    {
        "id": "8380c690.faafc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5152.134536743164,
        "y": 5647.366683959961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "1f713bf9.1daaec",
                "39b06195.a8d3be"
            ]
        ]
    },
    {
        "id": "39b06195.a8d3be",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.domain.pnf-name\"\n        pfx='tmp.aai.source-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 5394.134292602539,
        "y": 5597.366683959961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "fbd8ede5.0e2c68",
                "fe4285c6.cb2308",
                "3fecf8f4.4ce3f"
            ]
        ]
    },
    {
        "id": "fbd8ede5.0e2c68",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5589.634536743164,
        "y": 5531.366683959961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "10a1ac3d.04aa44"
            ]
        ]
    },
    {
        "id": "fe4285c6.cb2308",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5585.634536743164,
        "y": 5587.366683959961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "f166d116.9a8368"
            ]
        ]
    },
    {
        "id": "10a1ac3d.04aa44",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5734.016738891602,
        "y": 5549.022354125977,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "2f38d9ab.5bfbbe"
            ]
        ]
    },
    {
        "id": "2f38d9ab.5bfbbe",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='spvidx' start='0' end='`$tmp.aai.source-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 5918.134292602539,
        "y": 5547.366683959961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "e1d73c4d.409db8"
            ]
        ]
    },
    {
        "id": "3fecf8f4.4ce3f",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5595.634536743164,
        "y": 5632.366683959961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "ba50366d.81301"
            ]
        ]
    },
    {
        "id": "ba50366d.81301",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5774.634536743164,
        "y": 5648.366683959961,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "f166d116.9a8368",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5756.634536743164,
        "y": 5600.366683959961,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "1d5ce61.ba31c9a",
        "type": "execute",
        "name": "execute RestApiCallNode Delete UNI of ethernet Service without token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.url + '/restconf/data/ietf-eth-tran-service:etht-svc/etht-svc-instances=' + $tmp.rootconn.etht-svc-name + '/etht-svc-end-points=' + $tmp.ROOT.uni-p-interface-long`\" />\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.restapi.connection-oof-url`\" />-->\n<!--<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sotn-ethernet-service.json'`\" />-->\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"delete\"/>\n<parameter name='dirPath' value=\"/opt/onap/sdnc/restconfapi/yang\" />\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 5305.634536743164,
        "y": 5702.966293334961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "8374d45d.c41588",
                "6d72c625.482d5"
            ]
        ]
    },
    {
        "id": "8374d45d.c41588",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5654.134536743164,
        "y": 5684.966293334961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "53e0b67e.6fc768"
            ]
        ]
    },
    {
        "id": "53e0b67e.6fc768",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing delete ethernet service rest api\" />\n",
        "comments": "",
        "x": 5910.134536743164,
        "y": 5687.966293334961,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "1ee806c.abb34f9",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 5862.634536743164,
        "y": 5728.966293334961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "6d72c625.482d5",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5664.134536743164,
        "y": 5733.966293334961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "1ee806c.abb34f9"
            ]
        ]
    },
    {
        "id": "1f713bf9.1daaec",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.domain.pnf-name' value=\"`'networkId-providerId-' +\n                                                   $tmp.rootconn.access-provider-id + '-clientId-' +\n                                                   $tmp.rootconn.access-client-id + '-topologyId-' +\n                                                   $tmp.rootconn.access-topology-id + '-nodeId-' +\n                                                   $tmp.rootconn.access-node-id`\" />\n",
        "comments": "",
        "x": 5387.134292602539,
        "y": 5515.366683959961,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "e1d73c4d.409db8",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 6113.134292602539,
        "y": 5547.366683959961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "b323e9c9.c4083"
            ]
        ]
    },
    {
        "id": "be7ed337.773238",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 6495.134292602539,
        "y": 5551.366683959961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "1a0db354.43c10d",
                "711b7fd1.39246",
                "1b22d01c.0f5988"
            ]
        ]
    },
    {
        "id": "b323e9c9.c4083",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 6316.134292602539,
        "y": 5551.366683959961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "be7ed337.773238"
            ]
        ]
    },
    {
        "id": "711b7fd1.39246",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domain.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domain.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 6701.134292602539,
        "y": 5564.366683959961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "d1222469.959ab8",
                "2ce3fcd5.8dd1cc",
                "95dec9e7.124ae"
            ]
        ]
    },
    {
        "id": "1a0db354.43c10d",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domain id",
        "xml": "<set>\n<parameter name='tmp.domain.esr-thirdparty-id' value=\"`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 6731.134292602539,
        "y": 5512.366683959961,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "d1222469.959ab8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 6911.134292602539,
        "y": 5555.366683959961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "15af61ce.93dc56"
            ]
        ]
    },
    {
        "id": "2ce3fcd5.8dd1cc",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 6903.134292602539,
        "y": 5610.366683959961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "85d2a0c5.7b74c"
            ]
        ]
    },
    {
        "id": "95dec9e7.124ae",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 6908.134292602539,
        "y": 5667.366683959961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "6c15ae6.0ebeb5"
            ]
        ]
    },
    {
        "id": "6c15ae6.0ebeb5",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 7060.134292602539,
        "y": 5668.366683959961,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "85d2a0c5.7b74c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 7071.134292602539,
        "y": 5613.366683959961,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "15af61ce.93dc56",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 7055.516616821289,
        "y": 5553.022354125977,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "370a475d.301248"
            ]
        ]
    },
    {
        "id": "370a475d.301248",
        "type": "set",
        "name": "set controller domain data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.url' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.user' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.password' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 7270.134292602539,
        "y": 5549.366683959961,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "1b22d01c.0f5988",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 6651.134292602539,
        "y": 5628.366683959961,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "537f8032.a139c8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3880.566665649414,
        "y": 3517.566635131836,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "4c0087b1.a54ff",
                "543f9693.a47c"
            ]
        ]
    },
    {
        "id": "4c0087b1.a54ff",
        "type": "set",
        "name": "set tmp.mmUNI-id-long",
        "xml": "<set>\n<parameter name='tmp.mmUNI-id-long' value='`$middle-man-conn.relationship-list.relationship[$cridx].relationship-data[0].relationship-value`' />\n",
        "comments": "",
        "x": 4071.149917602539,
        "y": 3460.366683959961,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "543f9693.a47c",
        "type": "switchNode",
        "name": "switch tmp.mmUNI-id-long != ROOT UNI",
        "xml": "\n<switch test=\"`$tmp.mmUNI-id-long != $tmp.ROOT.uni-p-interface-long`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4118.149917602539,
        "y": 3531.366683959961,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "e4164ac6.db6c38",
                "5e838a6b.5e0f0c"
            ]
        ]
    },
    {
        "id": "e4164ac6.db6c38",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4356.567398071289,
        "y": 3490.566635131836,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "4d697267.53d1ec"
            ]
        ]
    },
    {
        "id": "5e838a6b.5e0f0c",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4363.567611694336,
        "y": 3547.566604614258,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "fa76b584.bdbd9"
            ]
        ]
    },
    {
        "id": "4d697267.53d1ec",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4484.567886352539,
        "y": 3486.566635131836,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "130e3d11.8bda33",
        "type": "set",
        "name": "set tmp.MMonlyHasROOT to TRUE",
        "xml": "<set>\n<parameter name='tmp.MMonlyHasROOT' value='true' />\n",
        "comments": "",
        "x": 3339.766616821289,
        "y": 3444.966781616211,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "99b14097.a9c1b8",
        "type": "set",
        "name": "set tmp.MMonlyHasROOT to FALSE",
        "xml": "<set>\n<parameter name='tmp.MMonlyHasROOT' value='false' />\n",
        "comments": "",
        "x": 5321.600845336914,
        "y": 3446.966812133789,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "335ed745.f60fb8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4433.350357055664,
        "y": 3967.183334350586,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "64f170e7.ccc2d",
                "d03c542e.06f138"
            ]
        ]
    },
    {
        "id": "64f170e7.ccc2d",
        "type": "set",
        "name": "set tmp.uni.id",
        "xml": "<set>\n<parameter name='tmp.uni.id' value='`$tmp.the-connectivity.relationship-list.relationship[$cridx].relationship-data[0].relationship-value`' />\n",
        "comments": "",
        "x": 4606.233169555664,
        "y": 3962.843002319336,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "d03c542e.06f138",
        "type": "save",
        "name": "get uni from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"uni\"\n\t    key=\"uni.id = $tmp.uni.id\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.uni\" >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4609.233169555664,
        "y": 4009.843002319336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "d5d4471e.75f138",
                "fea86c4e.6eb66",
                "9876b951.6d5f9"
            ]
        ]
    },
    {
        "id": "d5d4471e.75f138",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4781.233169555664,
        "y": 3993.843002319336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "c08f73d3.bbadb"
            ]
        ]
    },
    {
        "id": "fea86c4e.6eb66",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4781.724136352539,
        "y": 4039.417037963867,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "9876b951.6d5f9",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4782.233169555664,
        "y": 4079.843002319336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "c08f73d3.bbadb",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4942.233169555664,
        "y": 3989.843002319336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "71418de6.0d2394",
                "d8794541.6fe0d",
                "69521be3.cd51ac"
            ]
        ]
    },
    {
        "id": "7f40068a.c630c8",
        "type": "comment",
        "name": "find the node part of the uni.id (uni-tp-id-node-part)",
        "info": "",
        "comments": "",
        "x": 5275.233169555664,
        "y": 3920.843002319336,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "d8794541.6fe0d",
        "type": "execute",
        "name": "execute split id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.aai.uni.id`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-uni-pnfName\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 5210.233169555664,
        "y": 3977.843002319336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "eb66d929.7d0b9",
                "25fd01e0.613c0e"
            ]
        ]
    },
    {
        "id": "25fd01e0.613c0e",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5433.233169555664,
        "y": 3963.843002319336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "b7f38bd8.a0bf3"
            ]
        ]
    },
    {
        "id": "eb66d929.7d0b9",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5435.233169555664,
        "y": 3996.843002319336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "23361310.a1a764"
            ]
        ]
    },
    {
        "id": "b7f38bd8.a0bf3",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5581.233169555664,
        "y": 3956.843002319336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "16198ed9.69ab49"
            ]
        ]
    },
    {
        "id": "23361310.a1a764",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 5578.233169555664,
        "y": 3993.843002319336,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "16198ed9.69ab49",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.uni.pnf-name' value=\"`$param-prefix-uni-pnfName[0] + '-' +\n                                                   $param-prefix-uni-pnfName[1] + '-' +\n                                                   $param-prefix-uni-pnfName[2] + '-' +\n                                                   $param-prefix-uni-pnfName[3] + '-' +\n                                                   $param-prefix-uni-pnfName[4] + '-' +\n                                                   $param-prefix-uni-pnfName[5] + '-' +\n                                                   $param-prefix-uni-pnfName[6] + '-' +\n                                                   $param-prefix-uni-pnfName[7] + '-' +\n                                                   $param-prefix-uni-pnfName[8]`\" />\n",
        "comments": "",
        "x": 5758.233169555664,
        "y": 3956.843002319336,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "71418de6.0d2394",
        "type": "switchNode",
        "name": "switch uni-tp-id-node-part is the same as the LEAF node",
        "xml": "<switch test='`$tmp.uni.pnf-name == $tmp.LEAF.pnf-name-long`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5254.233169555664,
        "y": 4111.843002319336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "adaeb862.473368",
                "2ff17e89.b4833a"
            ]
        ]
    },
    {
        "id": "adaeb862.473368",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5535.233169555664,
        "y": 4088.843002319336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "b52ce206.918da8"
            ]
        ]
    },
    {
        "id": "2ff17e89.b4833a",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5528.233169555664,
        "y": 4147.843002319336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "b7c68567.02237"
            ]
        ]
    },
    {
        "id": "b52ce206.918da8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5665.233169555664,
        "y": 4092.843002319336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "b7c68567.02237",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 5670.233169555664,
        "y": 4146.843002319336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "e0f7b55.335ff48",
                "cb97a1e2.dfe9f8"
            ]
        ]
    },
    {
        "id": "e0f7b55.335ff48",
        "type": "set",
        "name": "set no-pce-call",
        "xml": "<set>\n<parameter name='no-pce-call' value=\"true\" />\n",
        "comments": "",
        "x": 5862.233169555664,
        "y": 4113.843002319336,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "8511bfc9.24e818",
        "type": "set",
        "name": "set middle-man-conn",
        "xml": "<set>\n<parameter name='middle-man-conn.' value='`$tmp.aai.all-connectivities.connectivity[$connidx].`' />\n",
        "comments": "",
        "x": 5878.233169555664,
        "y": 4165.843002319336,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "cb97a1e2.dfe9f8",
        "type": "set",
        "name": "set tmp.stillHasUni and tmp.keepVPNBs to TRUE",
        "xml": "<set>\n<parameter name='tmp.stillHasUni' value='true' />\n<parameter name='tmp.keepVPNBs' value='true' />\n",
        "comments": "",
        "x": 5896.516860961914,
        "y": 4235.433334350586,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "69521be3.cd51ac",
        "type": "set",
        "name": "set tmp.stillHasUni to TRUE",
        "xml": "<set>\n<parameter name='tmp.stillHasUni' value='true' />\n",
        "comments": "",
        "x": 5173.216567993164,
        "y": 4061.333236694336,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "94db503d.b50288",
        "type": "switchNode",
        "name": "switch tmp.stillHasUni?",
        "xml": "\n<switch test=\"`$tmp.stillHasUni`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 409.4172821044922,
        "y": 5331.532943725586,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "98c37402.345048",
                "44b19987.103118"
            ]
        ]
    },
    {
        "id": "5e023344.61a9f4",
        "type": "save",
        "name": "get root uni from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"uni\"\n\t    key=\"uni.id = $tmp.ROOT.uni-p-interface-long\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.rootuni\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 4314.199722290039,
        "y": 5495.416732788086,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "76f7324c.5ab6f4",
                "92aa08d0.816178",
                "84add947.e60b78"
            ]
        ]
    },
    {
        "id": "26cdc27d.9e4c6e",
        "type": "comment",
        "name": "Update ROOT UNI's bw -- ALREADY DONE",
        "info": "",
        "comments": "",
        "x": 4312.200210571289,
        "y": 5447.416976928711,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "eb8b95c0.79475",
        "type": "save",
        "name": "update ROOT UNI in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='uni' \n      key='uni.id = $tmp.ROOT.uni-p-interface-long'>\n<parameter name='id' value='`$tmp.ROOT.uni-p-interface-long`' />\n<parameter name='data-source' value='`$tmp.newbw`' />\n",
        "comments": "",
        "outputs": 1,
        "x": 4929.199966430664,
        "y": 5565.416976928711,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "92aa08d0.816178",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4531.690933227539,
        "y": 5465.990951538086,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "8b26daec.dead98"
            ]
        ]
    },
    {
        "id": "84add947.e60b78",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4527.199966430664,
        "y": 5510.416915893555,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "6ddd64cd.a4b574"
            ]
        ]
    },
    {
        "id": "8b26daec.dead98",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 4694.262466430664,
        "y": 5465.276657104492,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "6ddd64cd.a4b574",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 4695.199966430664,
        "y": 5510.416915893555,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "5ac227ed.4c0b7",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4692.199966430664,
        "y": 5560.416976928711,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "176f7b0f.04a15d",
                "eb8b95c0.79475"
            ]
        ]
    },
    {
        "id": "76f7324c.5ab6f4",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4523.199966430664,
        "y": 5560.416976928711,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "5ac227ed.4c0b7"
            ]
        ]
    },
    {
        "id": "176f7b0f.04a15d",
        "type": "set",
        "name": "set new bw",
        "xml": "<set>\n<parameter name='tmp.newbw' value='`$tmp.aai.rootuni.data-source - $bwToBeDecreased`' />\n",
        "comments": "",
        "x": 4885.200942993164,
        "y": 5485.416976928711,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "2932b285.c1e58e",
        "type": "comment",
        "name": "Update connectivity status to modified",
        "info": "",
        "comments": "",
        "x": 5313.900161743164,
        "y": 5423.183578491211,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "9d183ed0.0c624",
        "type": "save",
        "name": "update ROOT connectivity resource in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $tmp.aai.ROOT.connectivity.connectivity-id'>\n<parameter name='connectivity-id' value='`$tmp.aai.ROOT.connectivity.connectivity-id`' />\n<parameter name='operational-status' value='Modified' />\n",
        "comments": "",
        "outputs": 1,
        "x": 5339.683364868164,
        "y": 5465.383773803711,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "98c37402.345048",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 593.5669708251953,
        "y": 5382.566635131836,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "e53158e8.a8e898"
            ]
        ]
    },
    {
        "id": "44b19987.103118",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 576.5669097900391,
        "y": 5304.566635131836,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "d82acda1.7d932"
            ]
        ]
    },
    {
        "id": "add9e89e.85dcc8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 705.5667572021484,
        "y": 4391.566360473633,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "1b682749.fdf219",
                "555aecf4.9d0abc",
                "fa8f69fe.c57418",
                "924743a9.bdd1d",
                "eeb2edff.f77838",
                "b3758874.8f232",
                "9c7760f0.090d48"
            ]
        ]
    },
    {
        "id": "1b682749.fdf219",
        "type": "set",
        "name": "set tmp.leafconn.",
        "xml": "<set>\n<parameter name='tmp.leafconn.' value='`$tmp.the-connectivity.`' />\n",
        "comments": "",
        "x": 957.2501068115234,
        "y": 4369.616165161133,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "20195ed4.4f043a",
        "type": "comment",
        "name": "Find LEAF and ROOT connectivities and remove UNI from PNC",
        "info": "",
        "comments": "",
        "x": 1058.8172454833984,
        "y": 4317.699661254883,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "9fa4061c.f2e2c8",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.domain.pnf-name' value=\"`'networkId-providerId-' +\n                                                   $tmp.leafconn.access-provider-id + '-clientId-' +\n                                                   $tmp.leafconn.access-client-id + '-topologyId-' +\n                                                   $tmp.leafconn.access-topology-id + '-nodeId-' +\n                                                   $tmp.leafconn.access-node-id`\" />\n",
        "comments": "",
        "x": 1166.6670989990234,
        "y": 4398.899856567383,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "555aecf4.9d0abc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 937.6670989990234,
        "y": 4487.899856567383,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "9fa4061c.f2e2c8",
                "a9e7fb46.8bda4"
            ]
        ]
    },
    {
        "id": "a9e7fb46.8bda4",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.domain.pnf-name\"\n        pfx='tmp.aai.source-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 1173.6670989990234,
        "y": 4480.899856567383,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "caf23ffe.0efab",
                "c3c6018c.a6e8b8",
                "a18cc13f.db156"
            ]
        ]
    },
    {
        "id": "caf23ffe.0efab",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1369.167221069336,
        "y": 4432.899856567383,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "f910fabf.7d6ff8"
            ]
        ]
    },
    {
        "id": "c3c6018c.a6e8b8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1361.167221069336,
        "y": 4487.899856567383,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "7989bd98.acfa84"
            ]
        ]
    },
    {
        "id": "f910fabf.7d6ff8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1513.549545288086,
        "y": 4432.555526733398,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "ffb71773.7c6d48"
            ]
        ]
    },
    {
        "id": "ffb71773.7c6d48",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='spvidx' start='0' end='`$tmp.aai.source-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1697.6670989990234,
        "y": 4430.899856567383,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "a91274f1.8c8af"
            ]
        ]
    },
    {
        "id": "a91274f1.8c8af",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1892.6670989990234,
        "y": 4430.899856567383,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "4cf12171.7f9938"
            ]
        ]
    },
    {
        "id": "a18cc13f.db156",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1366.167221069336,
        "y": 4544.899856567383,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "3d61f539.cfb7aa"
            ]
        ]
    },
    {
        "id": "3d61f539.cfb7aa",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 1518.167221069336,
        "y": 4545.899856567383,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "7989bd98.acfa84",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 1529.167221069336,
        "y": 4488.899856567383,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "a5cb8297.ace3c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2274.6670989990234,
        "y": 4434.899856567383,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "2680c237.68eca6",
                "fc040fd7.89c84",
                "2a46caf5.5b4116"
            ]
        ]
    },
    {
        "id": "4cf12171.7f9938",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2095.6670989990234,
        "y": 4434.899856567383,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "a5cb8297.ace3c"
            ]
        ]
    },
    {
        "id": "fa8f69fe.c57418",
        "type": "execute",
        "name": "execute RestApiCallNode Delete LEAF UNI of ethernet Service without token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.url + '/restconf/data/ietf-eth-tran-service:etht-svc/etht-svc-instances=' + $tmp.leafconn.etht-svc-name + '/etht-svc-end-points=' + $tmp.LEAF.uni-p-interface-long`\" />\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.restapi.connection-oof-url`\" />-->\n<!--<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sotn-ethernet-service.json'`\" />-->\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"delete\"/>\n<parameter name='dirPath' value=\"/opt/onap/sdnc/restconfapi/yang\" />\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1079.1673431396484,
        "y": 4592.499465942383,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "f60ef44c.acdc6",
                "f2d3c91e.712808"
            ]
        ]
    },
    {
        "id": "f2d3c91e.712808",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1443.6670989990234,
        "y": 4640.499465942383,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "95261a80.102e28"
            ]
        ]
    },
    {
        "id": "f60ef44c.acdc6",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1439.6670989990234,
        "y": 4600.499465942383,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "93ef3053.4d666"
            ]
        ]
    },
    {
        "id": "93ef3053.4d666",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing delete ethernet service rest api\" />\n",
        "comments": "",
        "x": 1597.6670989990234,
        "y": 4600.499465942383,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "95261a80.102e28",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1601.1670989990234,
        "y": 4640.499465942383,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "fc040fd7.89c84",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domain.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domain.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 2480.6670989990234,
        "y": 4447.899856567383,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "3d8ec7b4.a91e7",
                "f9528a5a.50e1f8",
                "f194c3a5.898d88"
            ]
        ]
    },
    {
        "id": "2680c237.68eca6",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domain id",
        "xml": "<set>\n<parameter name='tmp.domain.esr-thirdparty-id' value=\"`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 2510.6670989990234,
        "y": 4395.899856567383,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "3d8ec7b4.a91e7",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2690.6670989990234,
        "y": 4438.899856567383,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "e578c39c.344a5"
            ]
        ]
    },
    {
        "id": "f9528a5a.50e1f8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2682.6670989990234,
        "y": 4493.899856567383,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "b1a83287.5e83a"
            ]
        ]
    },
    {
        "id": "f194c3a5.898d88",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2687.6670989990234,
        "y": 4550.899856567383,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "d1a6ffed.890f4"
            ]
        ]
    },
    {
        "id": "d1a6ffed.890f4",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 2839.6670989990234,
        "y": 4551.899856567383,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "b1a83287.5e83a",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 2850.6670989990234,
        "y": 4496.899856567383,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "e578c39c.344a5",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2835.0494232177734,
        "y": 4436.555526733398,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "dfc70a8a.f85818"
            ]
        ]
    },
    {
        "id": "dfc70a8a.f85818",
        "type": "set",
        "name": "set controller domain data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.url' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.user' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.password' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 3049.6670989990234,
        "y": 4432.899856567383,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "2a46caf5.5b4116",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 2430.6670989990234,
        "y": 4511.899856567383,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "924743a9.bdd1d",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:cll-vnf-topology-operation-cll-helper-find-ROOT-conn",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='cll-vnf-topology-operation-cll-helper-find-ROOT-conn' mode='sync' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1108.2501068115234,
        "y": 4812.616165161133,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "eeb2edff.f77838",
        "type": "switchNode",
        "name": "switch found-root-connectivity",
        "xml": "\n<switch test=\"`$found-root-connectivity`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 923.2501068115234,
        "y": 4879.616165161133,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "33b186f1.cd717a",
                "46c96756.fc5c58"
            ]
        ]
    },
    {
        "id": "33b186f1.cd717a",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1188.2501068115234,
        "y": 4864.616165161133,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "cdcc95c0.40a4e8"
            ]
        ]
    },
    {
        "id": "46c96756.fc5c58",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1184.2501068115234,
        "y": 4912.616165161133,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "5f6a4b73.d387f4"
            ]
        ]
    },
    {
        "id": "cdcc95c0.40a4e8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1344.2501068115234,
        "y": 4860.616165161133,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "5134ba22.f81734"
            ]
        ]
    },
    {
        "id": "5f6a4b73.d387f4",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='Root Connectivity was not found' />\n",
        "comments": "",
        "x": 1332.2501068115234,
        "y": 4907.616165161133,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "73beafc9.2c20a8",
        "type": "comment",
        "name": "Update connectivity status to modified",
        "info": "",
        "comments": "",
        "x": 1613.1497650146484,
        "y": 4811.316360473633,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "5134ba22.f81734",
        "type": "save",
        "name": "update ROOT connectivity resource in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $tmp.aai.ROOT.connectivity.connectivity-id'>\n<parameter name='connectivity-id' value='`$tmp.aai.ROOT.connectivity.connectivity-id`' />\n<parameter name='operational-status' value='Modified' />\n",
        "comments": "",
        "outputs": 1,
        "x": 1638.9329681396484,
        "y": 4853.516555786133,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "39215cce.b57e94",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:cll-vnf-topology-operation-cll-delete-VPNBs",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='cll-vnf-topology-operation-cll-delete-VPNBs' mode='sync' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1052.5667572021484,
        "y": 4126.883255004883,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "d82acda1.7d932",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 658.5667877197266,
        "y": 4131.566390991211,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "39215cce.b57e94",
                "add9e89e.85dcc8"
            ]
        ]
    },
    {
        "id": "e53158e8.a8e898",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 742.0167388916016,
        "y": 5384.083236694336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "5f6a4675.ad6e08",
                "454309b7.55d6d8",
                "1e655667.3c83ca",
                "36ecf6b9.5afb0a"
            ]
        ]
    },
    {
        "id": "5f6a4675.ad6e08",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:cll-vnf-topology-operation-cll-delete-VPNBs",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='cll-vnf-topology-operation-cll-delete-VPNBs' mode='sync' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1103.4000396728516,
        "y": 5147.083267211914,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "454309b7.55d6d8",
        "type": "save",
        "name": "delete LEAF connectivity resource in AAI",
        "xml": "<delete plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $tmp.the-connectivity.connectivity-id'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1014.4000396728516,
        "y": 5216.083267211914,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "1e655667.3c83ca",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 905.5666656494141,
        "y": 5451.083267211914,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "96f2f082.9a3518",
                "4b895364.485e14",
                "2fffa63d.405042"
            ]
        ]
    },
    {
        "id": "bd546556.218588",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domain.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domain.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 2614.565933227539,
        "y": 5376.083267211914,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "d9b04f13.72ba2",
                "6f67d0fd.f943c",
                "d85e2a4.827e658"
            ]
        ]
    },
    {
        "id": "eb3b9787.8ee65",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 2564.565933227539,
        "y": 5440.083267211914,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "89310244.45d948",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domain id",
        "xml": "<set>\n<parameter name='tmp.domain.esr-thirdparty-id' value=\"`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 2644.565933227539,
        "y": 5324.083267211914,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "d9b04f13.72ba2",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2932.5660552978516,
        "y": 5307.083267211914,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "ca13eb43.a9266"
            ]
        ]
    },
    {
        "id": "6f67d0fd.f943c",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2924.5660552978516,
        "y": 5362.083267211914,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "7e30219a.74a1a8"
            ]
        ]
    },
    {
        "id": "d85e2a4.827e658",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2929.5660552978516,
        "y": 5419.083267211914,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "1fa2a159.15189f"
            ]
        ]
    },
    {
        "id": "1fa2a159.15189f",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 3081.5660552978516,
        "y": 5420.083267211914,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "7e30219a.74a1a8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 3092.5660552978516,
        "y": 5365.083267211914,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "ca13eb43.a9266",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3076.9483795166016,
        "y": 5304.73893737793,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "3ed958.dd670ea8"
            ]
        ]
    },
    {
        "id": "3ed958.dd670ea8",
        "type": "set",
        "name": "set controller domain data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.url' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.user' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.password' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 3291.5660552978516,
        "y": 5301.083267211914,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "96f2f082.9a3518",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.domain.pnf-name' value=\"`'networkId-providerId-' +\n                                                   $tmp.the-connectivity.access-provider-id + '-clientId-' +\n                                                   $tmp.the-connectivity.access-client-id + '-topologyId-' +\n                                                   $tmp.the-connectivity.access-topology-id + '-nodeId-' +\n                                                   $tmp.the-connectivity.access-node-id`\" />\n",
        "comments": "",
        "x": 1187.566665649414,
        "y": 5320.083267211914,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "bd5e9405.7c27a8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1398.0667877197266,
        "y": 5459.083267211914,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "de47c705.79a8b8"
            ]
        ]
    },
    {
        "id": "6b3e7adb.d2bb84",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1401.0667877197266,
        "y": 5347.083267211914,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "a396ce34.a18e2"
            ]
        ]
    },
    {
        "id": "a85067c1.2cd6d",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1393.0667877197266,
        "y": 5402.083267211914,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "d6007294.f11f4"
            ]
        ]
    },
    {
        "id": "a396ce34.a18e2",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1535.448989868164,
        "y": 5341.739028930664,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "7dd1d4e7.a0f1bc"
            ]
        ]
    },
    {
        "id": "de47c705.79a8b8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 1550.0667877197266,
        "y": 5460.083267211914,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "d6007294.f11f4",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 1561.0667877197266,
        "y": 5403.083267211914,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "7dd1d4e7.a0f1bc",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='spvidx' start='0' end='`$tmp.aai.source-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1722.566177368164,
        "y": 5343.083267211914,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "559db4ec.64792c"
            ]
        ]
    },
    {
        "id": "559db4ec.64792c",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1950.566177368164,
        "y": 5336.083267211914,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "799fadac.e2e6ec"
            ]
        ]
    },
    {
        "id": "4b895364.485e14",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.domain.pnf-name\"\n        pfx='tmp.aai.source-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 1205.566665649414,
        "y": 5395.083267211914,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "bd5e9405.7c27a8",
                "6b3e7adb.d2bb84",
                "a85067c1.2cd6d"
            ]
        ]
    },
    {
        "id": "799fadac.e2e6ec",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2156.566177368164,
        "y": 5333.083267211914,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "7cbbce76.57d9f"
            ]
        ]
    },
    {
        "id": "7cbbce76.57d9f",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2371.5655670166016,
        "y": 5336.083267211914,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "89310244.45d948",
                "bd546556.218588",
                "eb3b9787.8ee65"
            ]
        ]
    },
    {
        "id": "2fffa63d.405042",
        "type": "execute",
        "name": "execute RestApiCallNode Delete LEAF ethernet Service without token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.url + '/restconf/data/ietf-eth-tran-service:etht-svc/etht-svc-instances=' + $tmp.the-connectivity.etht-svc-name`\" />\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.restapi.connection-oof-url`\" />-->\n<!--<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sotn-ethernet-service.json'`\" />-->\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"delete\"/>\n<parameter name='dirPath' value=\"/opt/onap/sdnc/restconfapi/yang\" />\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1329.3333892822266,
        "y": 5544.483169555664,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "fb4bb7df.e56c5",
                "af1e6659.9dd9c8"
            ]
        ]
    },
    {
        "id": "fb4bb7df.e56c5",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1675.8333892822266,
        "y": 5537.483169555664,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "84518bf4.248028"
            ]
        ]
    },
    {
        "id": "af1e6659.9dd9c8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1679.8333892822266,
        "y": 5577.483169555664,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "b347040e.1f286"
            ]
        ]
    },
    {
        "id": "84518bf4.248028",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing delete ethernet service rest api\" />\n",
        "comments": "",
        "x": 1833.8333892822266,
        "y": 5537.483169555664,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "b347040e.1f286",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1837.3333892822266,
        "y": 5577.483169555664,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "3d1d7271.d95cbe"
            ]
        ]
    },
    {
        "id": "36ecf6b9.5afb0a",
        "type": "switchNode",
        "name": "switch tmp.MMstillHasUni?",
        "xml": "\n<switch test=\"`$tmp.MMstillHasUni`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 938.8667144775391,
        "y": 5874.283432006836,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "4a5bd207.ca776c",
                "b171c0.d456c64"
            ]
        ]
    },
    {
        "id": "4a5bd207.ca776c",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1132.866714477539,
        "y": 5701.283462524414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "b00c5aa2.01bbe8"
            ]
        ]
    },
    {
        "id": "b171c0.d456c64",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1119.0334014892578,
        "y": 6023.883529663086,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "782b8611.563688"
            ]
        ]
    },
    {
        "id": "b00c5aa2.01bbe8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1281.033462524414,
        "y": 5700.883560180664,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "8daf379c.cd379",
                "ae051555.1a065",
                "5d9c1c4d.83462c"
            ]
        ]
    },
    {
        "id": "8daf379c.cd379",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:cll-vnf-topology-operation-cll-helper-find-ROOT-conn",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='cll-vnf-topology-operation-cll-helper-find-ROOT-conn' mode='sync' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1702.883316040039,
        "y": 5672.283462524414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "ae051555.1a065",
        "type": "switchNode",
        "name": "switch found-root-connectivity",
        "xml": "\n<switch test=\"`$found-root-connectivity`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1517.883316040039,
        "y": 5739.283462524414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "f1328e61.aaecf8",
                "75cc2f9e.02c51"
            ]
        ]
    },
    {
        "id": "f1328e61.aaecf8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1782.883316040039,
        "y": 5724.283462524414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "320d795a.de0396"
            ]
        ]
    },
    {
        "id": "75cc2f9e.02c51",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1781.883316040039,
        "y": 5772.283462524414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "9b6d9f14.bbdc1"
            ]
        ]
    },
    {
        "id": "320d795a.de0396",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1938.883316040039,
        "y": 5720.283462524414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "d445fc4a.df5c"
            ]
        ]
    },
    {
        "id": "9b6d9f14.bbdc1",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='Root Connectivity was not found' />\n",
        "comments": "",
        "x": 1929.883316040039,
        "y": 5767.283462524414,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "d445fc4a.df5c",
        "type": "save",
        "name": "update ROOT connectivity resource in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $tmp.aai.ROOT.connectivity.connectivity-id'>\n<parameter name='connectivity-id' value='`$tmp.aai.ROOT.connectivity.connectivity-id`' />\n<parameter name='operational-status' value='Modified' />\n",
        "comments": "",
        "outputs": 1,
        "x": 2247.5660552978516,
        "y": 5714.183853149414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "d355d862.978bc",
        "type": "comment",
        "name": "Update connectivity status to modified",
        "info": "",
        "comments": "",
        "x": 2221.7828521728516,
        "y": 5671.983657836914,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "782b8611.563688",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1256.600112915039,
        "y": 6023.183334350586,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "dfb91948.e397a8",
                "a8afb078.60b068",
                "9067b91d.deea4"
            ]
        ]
    },
    {
        "id": "dfb91948.e397a8",
        "type": "for",
        "name": "for each relationship of middle-man-conn",
        "xml": "<for index='rel-index' start='0' end='`$middle-man-conn.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1561.9162139892578,
        "y": 5956.383438110352,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "9cf25842.080a8"
            ]
        ]
    },
    {
        "id": "9cf25842.080a8",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$middle-man-conn.relationship-list.relationship[$rel-index].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1870.250015258789,
        "y": 6012.38346862793,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "6539b459.18686c"
            ]
        ]
    },
    {
        "id": "6539b459.18686c",
        "type": "outcome",
        "name": "connectivity",
        "xml": "<outcome value='connectivity'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2049.9166412353516,
        "y": 6012.383560180664,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "eb5ca2dd.0acd08"
            ]
        ]
    },
    {
        "id": "eb5ca2dd.0acd08",
        "type": "save",
        "name": "get connectivity from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"connectivity\"\n\t    key=\"connectivity.connectivity-id = $middle-man-conn.relationship-list.relationship[$rel-index].relationship-data[0].relationship-value\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.connectivity\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 2249.916519165039,
        "y": 6012.383529663086,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "d2d794d6.23b038",
                "fd78cb11.7b7858",
                "dc3bf10c.53584"
            ]
        ]
    },
    {
        "id": "d2d794d6.23b038",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2456.916275024414,
        "y": 6062.383529663086,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "2ee18ab4.452c46"
            ]
        ]
    },
    {
        "id": "6518db29.e12ccc",
        "type": "save",
        "name": "get vpn-binding from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"vpn-binding\"\n\t    key=\"vpn-binding.vpn-id = $tmp.aai.connectivity.relationship-list.relationship[$cridx].relationship-data[0].relationship-value\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.vpn-binding\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 2434.149917602539,
        "y": 6246.583236694336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "1586acc8.b40733",
                "3f4ac64b.7a4a4a",
                "c51a0fc1.cf0b78"
            ]
        ]
    },
    {
        "id": "2ead9053.75b73",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='cridx' start='0' end='`$tmp.aai.connectivity.relationship-list.relationship_length`' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1603.1498565673828,
        "y": 6289.583145141602,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "606f2389.64cdcc"
            ]
        ]
    },
    {
        "id": "606f2389.64cdcc",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.connectivity.relationship-list.relationship[$cridx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1800.1498565673828,
        "y": 6303.583145141602,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "c7f0bc3b.019c9",
                "c9900403.e4a84"
            ]
        ]
    },
    {
        "id": "c7f0bc3b.019c9",
        "type": "outcome",
        "name": "vpn-binding",
        "xml": "<outcome value='vpn-binding'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2004.149917602539,
        "y": 6206.583145141602,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "b4e58d4e.4eaf1"
            ]
        ]
    },
    {
        "id": "b4e58d4e.4eaf1",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2185.149917602539,
        "y": 6222.583145141602,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "6518db29.e12ccc"
            ]
        ]
    },
    {
        "id": "c9900403.e4a84",
        "type": "outcome",
        "name": "uni",
        "xml": "<outcome value='uni'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2014.149917602539,
        "y": 6464.583236694336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "5c8dbf44.909798"
            ]
        ]
    },
    {
        "id": "5c8dbf44.909798",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2177.149917602539,
        "y": 6464.583236694336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "972de022.0ff4c8"
            ]
        ]
    },
    {
        "id": "972de022.0ff4c8",
        "type": "save",
        "name": "delete uni resource in AAI",
        "xml": "<delete plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='uni' \n      key='uni.id = $tmp.aai.connectivity.relationship-list.relationship[$cridx].relationship-data[0].relationship-value'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2420.149917602539,
        "y": 6464.583236694336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "d7d50183.fdbf5",
        "type": "save",
        "name": "delete connectivity resource in AAI",
        "xml": "<delete plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $tmp.aai.connectivity.connectivity-id'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1388.149917602539,
        "y": 7230.583236694336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "2ee18ab4.452c46",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1429.1498565673828,
        "y": 6287.583145141602,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "2ead9053.75b73",
                "d7d50183.fdbf5",
                "e2860ec7.2879b"
            ]
        ]
    },
    {
        "id": "1586acc8.b40733",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2645.149917602539,
        "y": 6248.583236694336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "31acc7de.eb35a"
            ]
        ]
    },
    {
        "id": "3f4ac64b.7a4a4a",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2645.640884399414,
        "y": 6294.157272338867,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "a537397f.244a6"
            ]
        ]
    },
    {
        "id": "c51a0fc1.cf0b78",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2643.149917602539,
        "y": 6337.583236694336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "c765f98e.c8b24"
            ]
        ]
    },
    {
        "id": "dc3bf10c.53584",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2480.966323852539,
        "y": 5963.183334350586,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "fd78cb11.7b7858",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2478.475357055664,
        "y": 6006.609298706055,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "a8afb078.60b068",
        "type": "save",
        "name": "delete middle-man-conn resource in AAI",
        "xml": "<delete plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $middle-man-conn.connectivity-id'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1559.0834503173828,
        "y": 6017.983047485352,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "31acc7de.eb35a",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2811.149917602539,
        "y": 6238.583236694336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "d6296a84.0c07b",
                "f2b7ba42.95aca8",
                "d7abab02.efd25",
                "933064b1.3f6b68",
                "31b8d600.38568a"
            ]
        ]
    },
    {
        "id": "c765f98e.c8b24",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 2810.149917602539,
        "y": 6336.583236694336,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "a537397f.244a6",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 2808.2122955322266,
        "y": 6294.443008422852,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "d6296a84.0c07b",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.domain.pnf-name' value=\"`'networkId-providerId-' +\n                                                   $tmp.aai.vpn-binding.access-provider-id + '-clientId-' +\n                                                   $tmp.aai.vpn-binding.access-client-id + '-topologyId-' +\n                                                   $tmp.aai.vpn-binding.access-topology-id + '-nodeId-' +\n                                                   $tmp.aai.vpn-binding.src-access-node-id`\" />\n",
        "comments": "",
        "x": 3033.149917602539,
        "y": 5956.583236694336,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "f2b7ba42.95aca8",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.domain.pnf-name\"\n        pfx='tmp.aai.source-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3059.149917602539,
        "y": 6073.583236694336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "c16bbe6e.2f18e8",
                "8e5054c2.6d8be8",
                "8a22e0f4.ac84d"
            ]
        ]
    },
    {
        "id": "d7abab02.efd25",
        "type": "execute",
        "name": "execute RestApiCallNode Delete OTN tunnel with token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<!--<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.ts-otn-src-domain-creation.templatefile`\" />-->\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.url + '/restconf/data/ietf-te:te/tunnels/tunnel=' + $tmp.aai.vpn-binding.vpn-name`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"delete\"/>\n<parameter name=\"responsePrefix\" value=\"otn-oof\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 3162.149917602539,
        "y": 6340.583236694336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "fc236214.f51f38",
                "6b8cfbc.a2c4d84"
            ]
        ]
    },
    {
        "id": "933064b1.3f6b68",
        "type": "switchNode",
        "name": "switch connectivity has ethernet service",
        "xml": "<switch test='`$tmp.aai.connectivity.etht-svc-name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3100.149917602539,
        "y": 6475.583236694336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "2126f3a4.668d54",
                "a948f36a.4c2d08"
            ]
        ]
    },
    {
        "id": "31b8d600.38568a",
        "type": "save",
        "name": "delete vpn-binding resource in AAI",
        "xml": "<delete plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $tmp.aai.vpn-binding.vpn-id' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3081.149917602539,
        "y": 6591.583236694336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "c16bbe6e.2f18e8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3254.6500396728516,
        "y": 6025.583236694336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "78bd184e.3e97c8"
            ]
        ]
    },
    {
        "id": "8e5054c2.6d8be8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3246.6500396728516,
        "y": 6080.583236694336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "12475557.66bd73"
            ]
        ]
    },
    {
        "id": "78bd184e.3e97c8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3389.032241821289,
        "y": 6020.238998413086,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "6ef9af4.3be5bd"
            ]
        ]
    },
    {
        "id": "8a22e0f4.ac84d",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3251.6500396728516,
        "y": 6137.583236694336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "28978481.66e84c"
            ]
        ]
    },
    {
        "id": "28978481.66e84c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 3403.6500396728516,
        "y": 6138.583236694336,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "12475557.66bd73",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 3414.6500396728516,
        "y": 6081.583236694336,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "a948f36a.4c2d08",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3353.149917602539,
        "y": 6453.583236694336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "a8dc909e.5f43f8"
            ]
        ]
    },
    {
        "id": "2126f3a4.668d54",
        "type": "outcome",
        "name": "Null",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 3353.149917602539,
        "y": 6509.583236694336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "6ef9af4.3be5bd",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='spvidx' start='0' end='`$tmp.aai.source-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3576.149429321289,
        "y": 6021.583236694336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "3b761727.cf2a9"
            ]
        ]
    },
    {
        "id": "3b761727.cf2a9",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3817.149429321289,
        "y": 6012.583236694336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "68d5173c.b0347"
            ]
        ]
    },
    {
        "id": "a8dc909e.5f43f8",
        "type": "execute",
        "name": "execute RestApiCallNode Delete ethernet Service without token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.url + '/restconf/data/ietf-eth-tran-service:etht-svc/etht-svc-instances=' + $tmp.aai.connectivity.etht-svc-name`\" />\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.restapi.connection-oof-url`\" />-->\n<!--<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sotn-ethernet-service.json'`\" />-->\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"delete\"/>\n<parameter name='dirPath' value=\"/opt/onap/sdnc/restconfapi/yang\" />\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3703.149429321289,
        "y": 6443.583236694336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "dcfeac9e.5fc9a8",
                "8f5d17cf.8dabd"
            ]
        ]
    },
    {
        "id": "fc236214.f51f38",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3469.649429321289,
        "y": 6365.583236694336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "f765e05b.501478"
            ]
        ]
    },
    {
        "id": "6b8cfbc.a2c4d84",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3470.649429321289,
        "y": 6310.583236694336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "4d6a8560.f17a1c"
            ]
        ]
    },
    {
        "id": "f765e05b.501478",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing delete OTN tunnel rest api\" />\n",
        "comments": "",
        "x": 3641.649429321289,
        "y": 6363.583236694336,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "4d6a8560.f17a1c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3638.149429321289,
        "y": 6312.583236694336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "432d0671.cb443",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4174.149185180664,
        "y": 5961.583236694336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "78d865b4.b939ac",
                "5830c911.f22ee",
                "aa227269.131cb"
            ]
        ]
    },
    {
        "id": "68d5173c.b0347",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4023.149429321289,
        "y": 6009.583236694336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "432d0671.cb443"
            ]
        ]
    },
    {
        "id": "dcfeac9e.5fc9a8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4035.649429321289,
        "y": 6417.583236694336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "7c5aa740.2ac998"
            ]
        ]
    },
    {
        "id": "8f5d17cf.8dabd",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4039.649429321289,
        "y": 6457.583236694336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "61ae232.1605c5c"
            ]
        ]
    },
    {
        "id": "61ae232.1605c5c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4227.149429321289,
        "y": 6461.583236694336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "7c5aa740.2ac998",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing delete ethernet service rest api\" />\n",
        "comments": "",
        "x": 4223.649429321289,
        "y": 6421.583236694336,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "5830c911.f22ee",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domain.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domain.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 4380.149185180664,
        "y": 5974.583236694336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "9672ea53.f6fc4",
                "10a5745e.fad27c",
                "4c3d97fc.40ae6"
            ]
        ]
    },
    {
        "id": "78d865b4.b939ac",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domain id",
        "xml": "<set>\n<parameter name='tmp.domain.esr-thirdparty-id' value=\"`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 4410.149185180664,
        "y": 5922.583236694336,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "9672ea53.f6fc4",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4590.149185180664,
        "y": 5965.583236694336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "a62535f9.bce6d8"
            ]
        ]
    },
    {
        "id": "10a5745e.fad27c",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4582.149185180664,
        "y": 6020.583236694336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "f6286309.b286"
            ]
        ]
    },
    {
        "id": "4c3d97fc.40ae6",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4587.149185180664,
        "y": 6077.583236694336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "5b2489d7.40c81"
            ]
        ]
    },
    {
        "id": "aa227269.131cb",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 4330.149185180664,
        "y": 6038.583236694336,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "5b2489d7.40c81",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4739.149185180664,
        "y": 6078.583236694336,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "f6286309.b286",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4750.149185180664,
        "y": 6023.583236694336,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "a62535f9.bce6d8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4734.531509399414,
        "y": 5963.238906860352,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "34794224.ac9ad6"
            ]
        ]
    },
    {
        "id": "34794224.ac9ad6",
        "type": "set",
        "name": "set controller domain data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.url' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.user' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.password' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 4949.149185180664,
        "y": 5959.583236694336,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "8d1e7ba3.e7c148",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.domain.pnf-name' value=\"`'networkId-providerId-' +\n                                                   $tmp.aai.connectivity.access-provider-id + '-clientId-' +\n                                                   $tmp.aai.connectivity.access-client-id + '-topologyId-' +\n                                                   $tmp.aai.connectivity.access-topology-id + '-nodeId-' +\n                                                   $tmp.aai.connectivity.access-node-id`\" />\n",
        "comments": "",
        "x": 1684.9166412353516,
        "y": 6757.183334350586,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "6711b1e6.015f5",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.domain.pnf-name\"\n        pfx='tmp.aai.source-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 1710.9166412353516,
        "y": 6874.183334350586,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "89c94611.e7551",
                "372b07e6.2f493",
                "93b4846e.f3d23"
            ]
        ]
    },
    {
        "id": "89c94611.e7551",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1906.416763305664,
        "y": 6826.183334350586,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "bdc72764.d7a65"
            ]
        ]
    },
    {
        "id": "372b07e6.2f493",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1898.416763305664,
        "y": 6881.183334350586,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "4210f39b.7722f4"
            ]
        ]
    },
    {
        "id": "bdc72764.d7a65",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2040.7989654541016,
        "y": 6820.839096069336,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "8221a60d.0a6"
            ]
        ]
    },
    {
        "id": "93b4846e.f3d23",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1903.416763305664,
        "y": 6938.183334350586,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "534b689.ea55a98"
            ]
        ]
    },
    {
        "id": "534b689.ea55a98",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 2055.416763305664,
        "y": 6939.183334350586,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "4210f39b.7722f4",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 2066.416763305664,
        "y": 6882.183334350586,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "8221a60d.0a6",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='spvidx' start='0' end='`$tmp.aai.source-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2227.9161529541016,
        "y": 6822.183334350586,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "70fb3446.1294d4"
            ]
        ]
    },
    {
        "id": "70fb3446.1294d4",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2468.9161529541016,
        "y": 6813.183334350586,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "7728eab2.206384"
            ]
        ]
    },
    {
        "id": "5e0f68b.e6e5b18",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2825.9159088134766,
        "y": 6762.183334350586,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "1f9f6b0b.3a7bad",
                "3a372a08.82b95e",
                "20000492.69e4a4"
            ]
        ]
    },
    {
        "id": "7728eab2.206384",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2674.9161529541016,
        "y": 6810.183334350586,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "5e0f68b.e6e5b18"
            ]
        ]
    },
    {
        "id": "3a372a08.82b95e",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domain.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domain.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 3031.9159088134766,
        "y": 6775.183334350586,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "78de1b03.bad77c",
                "d65c6861.1c4098",
                "dc64de9d.8956c8"
            ]
        ]
    },
    {
        "id": "20000492.69e4a4",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 2981.9159088134766,
        "y": 6839.183334350586,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "1f9f6b0b.3a7bad",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domain id",
        "xml": "<set>\n<parameter name='tmp.domain.esr-thirdparty-id' value=\"`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 3061.9159088134766,
        "y": 6723.183334350586,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "78de1b03.bad77c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3241.9159088134766,
        "y": 6766.183334350586,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "13eb6200.778f26"
            ]
        ]
    },
    {
        "id": "d65c6861.1c4098",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3233.9159088134766,
        "y": 6821.183334350586,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "bff87948.e35e"
            ]
        ]
    },
    {
        "id": "dc64de9d.8956c8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3238.9159088134766,
        "y": 6878.183334350586,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "573969ab.842a48"
            ]
        ]
    },
    {
        "id": "573969ab.842a48",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 3390.9159088134766,
        "y": 6879.183334350586,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "bff87948.e35e",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 3401.9159088134766,
        "y": 6824.183334350586,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "13eb6200.778f26",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3386.2982330322266,
        "y": 6763.839004516602,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "f7bc1d31.5e03a"
            ]
        ]
    },
    {
        "id": "f7bc1d31.5e03a",
        "type": "set",
        "name": "set controller domain data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.url' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.user' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domain.password' value=\"`$tmp.aai.domain.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 3600.9159088134766,
        "y": 6760.183334350586,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "e2860ec7.2879b",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1476.9166412353516,
        "y": 6885.183334350586,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "8d1e7ba3.e7c148",
                "6711b1e6.015f5",
                "91e5ef44.c1379"
            ]
        ]
    },
    {
        "id": "91e5ef44.c1379",
        "type": "switchNode",
        "name": "switch connectivity has ethernet service",
        "xml": "<switch test='`$tmp.aai.connectivity.etht-svc-name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1759.116714477539,
        "y": 7026.383529663086,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "9d430c54.8affb",
                "4e9e0184.b64f38"
            ]
        ]
    },
    {
        "id": "4e9e0184.b64f38",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2012.116714477539,
        "y": 7004.383529663086,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "8c955553.2a5b4"
            ]
        ]
    },
    {
        "id": "9d430c54.8affb",
        "type": "outcome",
        "name": "Null",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 2012.116714477539,
        "y": 7060.383529663086,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "8c955553.2a5b4",
        "type": "execute",
        "name": "execute RestApiCallNode Delete ethernet Service without token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.url + '/restconf/data/ietf-eth-tran-service:etht-svc/etht-svc-instances=' + $tmp.aai.connectivity.etht-svc-name`\" />\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.restapi.connection-oof-url`\" />-->\n<!--<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sotn-ethernet-service.json'`\" />-->\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"delete\"/>\n<parameter name='dirPath' value=\"/opt/onap/sdnc/restconfapi/yang\" />\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2362.116226196289,
        "y": 6994.383529663086,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "7b6e5c2.eee3ea4",
                "23885c26.87d57c"
            ]
        ]
    },
    {
        "id": "7b6e5c2.eee3ea4",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2694.616226196289,
        "y": 6968.383529663086,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "6e7264f6.b603bc"
            ]
        ]
    },
    {
        "id": "23885c26.87d57c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2698.616226196289,
        "y": 7008.383529663086,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "7c20df87.4ce228"
            ]
        ]
    },
    {
        "id": "7c20df87.4ce228",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2886.116226196289,
        "y": 7012.383529663086,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "6e7264f6.b603bc",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing delete ethernet service rest api\" />\n",
        "comments": "",
        "x": 2882.616226196289,
        "y": 6972.383529663086,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "b3758874.8f232",
        "type": "execute",
        "name": "execute RestApiCallNode Delete Underlay OTN tunnel from the LEAF ethernet Service",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.url + '/restconf/data/ietf-eth-tran-service:etht-svc/etht-svc-instances=' + $tmp.leafconn.etht-svc-name + '/underlay/otn-tunnels=' + $tmp.underlayOTN`\" />\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.restapi.connection-oof-url`\" />-->\n<!--<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sotn-ethernet-service.json'`\" />-->\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"delete\"/>\n<parameter name='dirPath' value=\"/opt/onap/sdnc/restconfapi/yang\" />\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1114.933364868164,
        "y": 4711.966567993164,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "d41942d3.562958",
                "ebe016f8.97161"
            ]
        ]
    },
    {
        "id": "d41942d3.562958",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1543.433120727539,
        "y": 4699.966567993164,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "5ea52c46.125904"
            ]
        ]
    },
    {
        "id": "ebe016f8.97161",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1547.433120727539,
        "y": 4739.966567993164,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "f81bc98a.2445d"
            ]
        ]
    },
    {
        "id": "5ea52c46.125904",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing delete ethernet service rest api\" />\n",
        "comments": "",
        "x": 1701.433120727539,
        "y": 4699.966567993164,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "f81bc98a.2445d",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1704.933120727539,
        "y": 4739.966567993164,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "82036bd3.d2b678",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 5138.683364868164,
        "y": 5032.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "54859efe.15c158",
                "fd20f3ef.b5a108",
                "bf190cd2.45b99"
            ]
        ]
    },
    {
        "id": "bf190cd2.45b99",
        "type": "set",
        "name": "set vpnNameToSearch",
        "xml": "<set>\n<parameter name='vpnNameToSearch' value=\"`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-name`\" />\n",
        "comments": "",
        "x": 5365.683364868164,
        "y": 4977.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "54859efe.15c158",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:cll-vnf-topology-operation-cll-searchVpnName",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='cll-vnf-topology-operation-cll-searchVpnName' mode='sync' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 5519.683364868164,
        "y": 5029.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "fd20f3ef.b5a108",
        "type": "switchNode",
        "name": "switch $foundVpnName",
        "xml": "<switch test=\"`$foundVpnName`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 5364.683364868164,
        "y": 5084.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "290514d0.09f59c"
            ]
        ]
    },
    {
        "id": "290514d0.09f59c",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5543.683364868164,
        "y": 5083.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "8f49a5ce.76f168"
            ]
        ]
    },
    {
        "id": "22a945f9.085212",
        "type": "set",
        "name": "unset secondary related variables",
        "xml": "<set>\n<parameter name='hasSecondary' value=\"false\" />\n<parameter name='network-route-three' value=\"\" />\n<parameter name='tmp.aai.network-route-three.' value=\"\" />\n<parameter name='tmp.aai.network-route-C.' value=\"\" />\n",
        "comments": "",
        "x": 3405.933334350586,
        "y": 438.56666564941406,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "94938481.855978",
        "type": "set",
        "name": "set network-route-three",
        "xml": "<set>\n<parameter name='network-route-three' value=\"`$tmp.aai.logical-link.segment-id`\" />\n\n\n",
        "comments": "",
        "x": 3369.933334350586,
        "y": 688.5666656494141,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "7edb995a.421908",
        "type": "switchNode",
        "name": "switch secondary empty?",
        "xml": "<switch test='`length($network-route-three) == 0`'>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3373.349838256836,
        "y": 730.8166351318359,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "2aad068d.f37552",
                "160f6f1.9c78f91"
            ]
        ]
    },
    {
        "id": "2aad068d.f37552",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3612.3497161865234,
        "y": 566.8166656494141,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "1be1e31f.1947f5"
            ]
        ]
    },
    {
        "id": "160f6f1.9c78f91",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3621.3497161865234,
        "y": 613.8166656494141,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "939cd6fd.61434"
            ]
        ]
    },
    {
        "id": "939cd6fd.61434",
        "type": "set",
        "name": "set hasSecondary true",
        "xml": "<set>\n<parameter name='hasSecondary' value=\"true\" />\n\n\n",
        "comments": "",
        "x": 3835.3497161865234,
        "y": 607.8166656494141,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "1be1e31f.1947f5",
        "type": "set",
        "name": "set hasSecondary false",
        "xml": "<set>\n<parameter name='hasSecondary' value=\"false\" />\n\n\n",
        "comments": "",
        "x": 3839.3497161865234,
        "y": 563.8166656494141,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "9b9082d.d33238",
        "type": "outcome",
        "name": "SECONDARY-ROOT",
        "xml": "<outcome value='SECONDARY-ROOT'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4201.383773803711,
        "y": 517.2666168212891,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "5bb9e60d.7c50c8"
            ]
        ]
    },
    {
        "id": "5bb9e60d.7c50c8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4375.383773803711,
        "y": 512.2666168212891,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "7a7e54e9.bf28b4",
                "1946febe.bd9461"
            ]
        ]
    },
    {
        "id": "7a7e54e9.bf28b4",
        "type": "set",
        "name": "set network-route-SECONDARY-ROOT",
        "xml": "<set>\n<parameter name='tmp.aai.network-route-SECONDARY-ROOT.' value=\"`$tmp.aai.network-route-one.`\" />\n\n\n",
        "comments": "",
        "x": 4619.384017944336,
        "y": 504.26661682128906,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "1946febe.bd9461",
        "type": "set",
        "name": "set network-route-C",
        "xml": "<set>\n<parameter name='tmp.aai.network-route-C.' value=\"`$tmp.aai.network-route-one.`\" />\n\n\n",
        "comments": "",
        "x": 4565.384017944336,
        "y": 544.2666168212891,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "a01fe37.2547ea",
        "type": "outcome",
        "name": "SECONDARY-ROOT",
        "xml": "<outcome value='SECONDARY-ROOT'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4170.383773803711,
        "y": 746.6666412353516,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "918e4345.efda7"
            ]
        ]
    },
    {
        "id": "918e4345.efda7",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4328.383529663086,
        "y": 789.6664581298828,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "6e675e43.dde0d8",
                "80002079.3161b8"
            ]
        ]
    },
    {
        "id": "6e675e43.dde0d8",
        "type": "set",
        "name": "set network-route-SECONDARY-ROOT",
        "xml": "<set>\n<parameter name='tmp.aai.network-route-SECONDARY-ROOT.' value=\"`$tmp.aai.network-route-two.`\" />\n\n\n",
        "comments": "",
        "x": 4550.383529663086,
        "y": 775.6665802001953,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "80002079.3161b8",
        "type": "set",
        "name": "set network-route-C",
        "xml": "<set>\n<parameter name='tmp.aai.network-route-C.' value=\"`$tmp.aai.network-route-two.`\" />\n\n\n",
        "comments": "",
        "x": 4496.383529663086,
        "y": 815.6665802001953,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "f054f8f8.d1b3a",
        "type": "save",
        "name": "get network-route-three from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"network-route\"\n\tkey='network-route.route-id = $network-route-three'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.network-route-three\">",
        "comments": "",
        "outputs": 1,
        "x": 3381.816635131836,
        "y": 982.8999176025391,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "36902805.8d90e",
                "becbd8eb.e312f8",
                "8659a4ac.581568"
            ]
        ]
    },
    {
        "id": "36902805.8d90e",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3621.816635131836,
        "y": 965.8999176025391,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "becbd8eb.e312f8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3617.325698852539,
        "y": 1008.3259735107422,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "8659a4ac.581568",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3621.325668334961,
        "y": 1056.325942993164,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "3e8b9bd4.673dec"
            ]
        ]
    },
    {
        "id": "3e8b9bd4.673dec",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3776.816635131836,
        "y": 1025.8998565673828,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "dcd7f0d5.69944"
            ]
        ]
    },
    {
        "id": "dcd7f0d5.69944",
        "type": "switchNode",
        "name": "switch nr type",
        "xml": "<switch test='`$tmp.aai.network-route-three.type`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3898.816635131836,
        "y": 972.8998565673828,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "b21b1a8d.ec399",
                "40a89314.47b21c",
                "f3bd5a06.f854e"
            ]
        ]
    },
    {
        "id": "b21b1a8d.ec399",
        "type": "outcome",
        "name": "ROOT",
        "xml": "<outcome value='ROOT'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4134.816635131836,
        "y": 822.8998565673828,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "c5a6386c.ce6e1"
            ]
        ]
    },
    {
        "id": "40a89314.47b21c",
        "type": "outcome",
        "name": "LEAF",
        "xml": "<outcome value='LEAF'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4130.816635131836,
        "y": 878.8998565673828,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "12081a23.d55f7e"
            ]
        ]
    },
    {
        "id": "c5a6386c.ce6e1",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4260.816635131836,
        "y": 830.8998565673828,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "bedffac2.d82048",
                "6105d759.fbeec8"
            ]
        ]
    },
    {
        "id": "12081a23.d55f7e",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4263.816635131836,
        "y": 883.8998565673828,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "7ef90f2d.cab8",
                "728a110f.c5d4a8"
            ]
        ]
    },
    {
        "id": "f3bd5a06.f854e",
        "type": "outcome",
        "name": "SECONDARY-ROOT",
        "xml": "<outcome value='SECONDARY-ROOT'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4123.816635131836,
        "y": 956.8998565673828,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "a50b1577.32615"
            ]
        ]
    },
    {
        "id": "a50b1577.32615",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4279.816635131836,
        "y": 977.8998565673828,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "8c375d88.8bcbe",
                "79733ca8.98d714"
            ]
        ]
    },
    {
        "id": "bedffac2.d82048",
        "type": "set",
        "name": "set network-route-ROOT",
        "xml": "<set>\n<parameter name='tmp.aai.network-route-ROOT.' value=\"`$tmp.aai.network-route-two.`\" />\n\n\n",
        "comments": "",
        "x": 4507.816635131836,
        "y": 860.8998565673828,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "6105d759.fbeec8",
        "type": "set",
        "name": "set network-route-B",
        "xml": "<set>\n<parameter name='tmp.aai.network-route-B.' value=\"`$tmp.aai.network-route-two.`\" />\n\n\n",
        "comments": "",
        "x": 4499.816635131836,
        "y": 902.8998565673828,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "7ef90f2d.cab8",
        "type": "set",
        "name": "set network-route-LEAF",
        "xml": "<set>\n<parameter name='tmp.aai.network-route-LEAF.' value=\"`$tmp.aai.network-route-two.`\" />\n\n\n",
        "comments": "",
        "x": 4500.816635131836,
        "y": 954.8998565673828,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "728a110f.c5d4a8",
        "type": "set",
        "name": "set network-route-A",
        "xml": "<set>\n<parameter name='tmp.aai.network-route-A.' value=\"`$tmp.aai.network-route-two.`\" />\n\n\n",
        "comments": "",
        "x": 4487.816635131836,
        "y": 994.8998565673828,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "79733ca8.98d714",
        "type": "set",
        "name": "set network-route-C",
        "xml": "<set>\n<parameter name='tmp.aai.network-route-C.' value=\"`$tmp.aai.network-route-three.`\" />\n\n\n",
        "comments": "",
        "x": 4461.816635131836,
        "y": 1088.8998565673828,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "8c375d88.8bcbe",
        "type": "set",
        "name": "set network-route-SECONDARY-ROOT",
        "xml": "<set>\n<parameter name='tmp.aai.network-route-SECONDARY-ROOT.' value=\"`$tmp.aai.network-route-three.`\" />\n\n\n",
        "comments": "",
        "x": 4523.816635131836,
        "y": 1044.8998565673828,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "663710d5.9b6118",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3725.816665649414,
        "y": 2228.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "4284e0ad.37004",
                "54bef6f2.4fc7a"
            ]
        ]
    },
    {
        "id": "16d496be.188cb9",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3553.150161743164,
        "y": 2229.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "663710d5.9b6118"
            ]
        ]
    },
    {
        "id": "545ddc0c.5d5ecc",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3562.641128540039,
        "y": 2272.1407012939453,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "5e1fc0e8.d800d8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3551.150161743164,
        "y": 2318.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "4284e0ad.37004",
        "type": "execute",
        "name": "execute split tp-id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.aai.network-route-C.p-interface-dst.interface-name`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-domainC\"/>\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4016.150161743164,
        "y": 2244.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "7adfe0fe.0b09c",
                "70e2db35.da559c"
            ]
        ]
    },
    {
        "id": "70e2db35.da559c",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4239.150161743164,
        "y": 2199.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "624b6d74.0c220c"
            ]
        ]
    },
    {
        "id": "7adfe0fe.0b09c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4241.150161743164,
        "y": 2263.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "44c8e026.3089e"
            ]
        ]
    },
    {
        "id": "71a7eba7.ddb6fc",
        "type": "save",
        "name": "get p-interface-dst from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"p-interface\"\n\t    key=\"pnf.pnf-name = $tmp.dst.domainC.pnf-name\n\t        AND p-interface.interface-name = $tmp.aai.network-route-C.next-hop\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.network-route-C.p-interface-dst\" >\n\n<!--<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" -->\n<!--\tresource=\"p-interface\"-->\n<!--\t    key=\"pnf.pnf-name = $unique-src-node-Id-->\n<!--\t        and p-interface.interface-name = $tmp.aai.endpointA.relationship-list.relationship[$rel-index].relationship-data[0].relationship-value\"-->\n<!--\t\tlocal-only=\"false\" -->\n<!--\t\tpfx=\"tmp.aai.endpointA.p-interface-src\" >-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3347.150161743164,
        "y": 2250.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "16d496be.188cb9",
                "545ddc0c.5d5ecc",
                "5e1fc0e8.d800d8"
            ]
        ]
    },
    {
        "id": "720f0fd3.e06eb",
        "type": "comment",
        "name": "Question?",
        "info": "How to know if DG would send this get request\nin \"nodes\" namespace instead of \"network\" namespace?",
        "comments": "",
        "x": 3286.150161743164,
        "y": 2208.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "dab7847.8f75af8",
        "type": "execute",
        "name": "execute split tp-id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.aai.network-route-C.next-hop`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-domainC-pnfName\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3367.150161743164,
        "y": 2098.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "bb6830ab.78043",
                "943e3a24.27d0d"
            ]
        ]
    },
    {
        "id": "943e3a24.27d0d",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3590.150161743164,
        "y": 2084.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "14789ba.27922e4"
            ]
        ]
    },
    {
        "id": "bb6830ab.78043",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3592.150161743164,
        "y": 2117.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "14789ba.27922e4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3738.150161743164,
        "y": 2077.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "f084bd9b.374fe",
                "635334a7.ad5104"
            ]
        ]
    },
    {
        "id": "f084bd9b.374fe",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.dst.domainC.pnf-name' value=\"`$param-prefix-domainC-pnfName[0] + '-' +\n                                                   $param-prefix-domainC-pnfName[1] + '-' +\n                                                   $param-prefix-domainC-pnfName[2] + '-' +\n                                                   $param-prefix-domainC-pnfName[3] + '-' +\n                                                   $param-prefix-domainC-pnfName[4] + '-' +\n                                                   $param-prefix-domainC-pnfName[5] + '-' +\n                                                   $param-prefix-domainC-pnfName[6] + '-' +\n                                                   $param-prefix-domainC-pnfName[7] + '-' +\n                                                   $param-prefix-domainC-pnfName[8]`\" />\n",
        "comments": "",
        "x": 3930.1500396728516,
        "y": 2014.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "54bef6f2.4fc7a",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='dividx' start='0' end='`$tmp.aai.network-route-C.p-interface-dst.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3997.150161743164,
        "y": 2375.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "2fc07773.c6e698"
            ]
        ]
    },
    {
        "id": "2fc07773.c6e698",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.network-route-C.p-interface-dst.relationship-list.relationship[$dividx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4203.150161743164,
        "y": 2375.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "eda47f6d.73a9a"
            ]
        ]
    },
    {
        "id": "635334a7.ad5104",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.dst.domainC.pnf-name\"\n        pfx='tmp.aai.destination-secondary-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3952.1500396728516,
        "y": 2082.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "fd3d2e45.ba5c18",
                "6f65faaa.29e51c",
                "979b3e61.62e1e8"
            ]
        ]
    },
    {
        "id": "fd3d2e45.ba5c18",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4147.650161743164,
        "y": 2034.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "76cbe983.f31c3"
            ]
        ]
    },
    {
        "id": "6f65faaa.29e51c",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4139.650161743164,
        "y": 2089.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "ad429934.3c84f"
            ]
        ]
    },
    {
        "id": "979b3e61.62e1e8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4144.650161743164,
        "y": 2146.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "bbff5204.a70cf8"
            ]
        ]
    },
    {
        "id": "bbff5204.a70cf8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4296.650161743164,
        "y": 2147.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "76cbe983.f31c3",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4292.032485961914,
        "y": 2032.2223358154297,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "181d9117.3dc1c7"
            ]
        ]
    },
    {
        "id": "a71111e6.40602",
        "type": "set",
        "name": "set SECONDARY-ROOT stuff",
        "xml": "<set>\n<parameter name='tmp.SECONDARY-ROOT.pnf-name-long' value=\"`$param-prefix-domainC-pnfName[0] + '-' +\n                                                   $param-prefix-domainC-pnfName[1] + '-' +\n                                                   $param-prefix-domainC-pnfName[2] + '-' +\n                                                   $param-prefix-domainC-pnfName[3] + '-' +\n                                                   $param-prefix-domainC-pnfName[4] + '-' +\n                                                   $param-prefix-domainC-pnfName[5] + '-' +\n                                                   $param-prefix-domainC-pnfName[6] + '-' +\n                                                   $param-prefix-domainC-pnfName[7] + '-' +\n                                                   $param-prefix-domainC-pnfName[8]`\" />\n\n<!--<parameter name='tmp.ROOT.pnf-name-short' value=\"`$param-prefix-domainB-pnfName[8]`\" />-->\n<parameter name='tmp.SECONDARY-ROOT.pnf-name-short' value=\"`$tmp.dst-secondary.pnf-name`\" />\n\n<parameter name='tmp.SECONDARY-ROOT.uni-p-interface-long' value=\"`$tmp.aai.network-route-C.next-hop + '-' + $tmp.aai.network-route-C.logical-interface-id`\" />\n<parameter name='tmp.SECONDARY-ROOT.uni-tp-id' value=\"`$tmp.dst-secondary.ltpId`\" />\n",
        "comments": "",
        "x": 3347.816665649414,
        "y": 2343.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "f86bd22d.6a796",
        "type": "comment",
        "name": "NOT NEEDED ANYMORE?",
        "info": "",
        "comments": "",
        "x": 4026.816635131836,
        "y": 2319.5665130615234,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "44c8e026.3089e",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 4400.150161743164,
        "y": 2282.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "624b6d74.0c220c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4404.150161743164,
        "y": 2196.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "6725a861.5cac68",
                "116c17e7.39a43"
            ]
        ]
    },
    {
        "id": "eda47f6d.73a9a",
        "type": "outcome",
        "name": "tunnel-termination-point",
        "xml": "<outcome value='tunnel-termination-point'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4420.435806274414,
        "y": 2374.388442993164,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "c2e9db6e.5e8918"
            ]
        ]
    },
    {
        "id": "ad429934.3c84f",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4307.650161743164,
        "y": 2092.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "6725a861.5cac68",
        "type": "set",
        "name": "set ltpId",
        "xml": "<set>\n<parameter name='tmp.dst-secondary.ltpId' value='`$param-prefix-domainC[$param-prefix-domainC_length -1]`' />\n",
        "comments": "",
        "x": 4574.150161743164,
        "y": 2157.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "116c17e7.39a43",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.dst-secondary.pnf-name' value='`$param-prefix-domainC[$param-prefix-domainC_length -3]`' />\n",
        "comments": "",
        "x": 4575.150161743164,
        "y": 2262.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "d91f7d75.bbcbd8",
        "type": "comment",
        "name": "TODO: FIXME",
        "info": "using the output of regex string arrays,\nconcatinate index 0 to index[length-2] all together\nin order to assemble the correct pnf-name",
        "comments": "",
        "x": 4570.150161743164,
        "y": 2211.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "c2e9db6e.5e8918",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4627.267349243164,
        "y": 2363.9071197509766,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "a655b2d0.b12cf8",
                "1b13a85a.c9fe7",
                "4c91f5f3.8ae07c"
            ]
        ]
    },
    {
        "id": "a655b2d0.b12cf8",
        "type": "set",
        "name": "set destination ttp-id",
        "xml": "<set>\n<parameter name='tmp.destination-secondary.ttp-id' value=\"`$tmp.aai.network-route-C.p-interface-dst.relationship-list.relationship[$dividx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 4842.267349243164,
        "y": 2325.9071197509766,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "1b13a85a.c9fe7",
        "type": "get-resource",
        "name": "get-resource src TTP",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"tunnel-termination-point\" \n\t\tkey=\"tunnel-termination-point.ttp-id = $tmp.destination-secondary.ttp-id \n\t\tAND depth = '0'\"\n        pfx='tmp.aai.destination-secondary-ttp' local-only='false' >\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4839.267349243164,
        "y": 2364.9071197509766,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "14ad9c89.4bb913"
            ]
        ]
    },
    {
        "id": "4c91f5f3.8ae07c",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 4794.767349243164,
        "y": 2406.9071197509766,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "5e825807.3f1cc",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4876.150161743164,
        "y": 2116.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "fd8902be.b515c8"
            ]
        ]
    },
    {
        "id": "181d9117.3dc1c7",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='dpvidx' start='0' end='`$tmp.aai.destination-secondary-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4476.150039672852,
        "y": 2046.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "b70e554c.645b38"
            ]
        ]
    },
    {
        "id": "b70e554c.645b38",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.destination-secondary-pnf.relationship-list.relationship[$dpvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4673.150161743164,
        "y": 2112.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "5e825807.3f1cc",
                "25292003.2c4df"
            ]
        ]
    },
    {
        "id": "25292003.2c4df",
        "type": "outcome",
        "name": "network-resource",
        "xml": "<outcome value='network-resource'>",
        "comments": "",
        "outputs": 1,
        "x": 4878.150161743164,
        "y": 2189.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "c08bfda1.3541a8"
            ]
        ]
    },
    {
        "id": "14ad9c89.4bb913",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5019.767349243164,
        "y": 2363.9071197509766,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "f56384d9.606e1"
            ]
        ]
    },
    {
        "id": "f56384d9.606e1",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5177.767349243164,
        "y": 2363.9071197509766,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "a47e1ae7.393b38"
            ]
        ]
    },
    {
        "id": "a47e1ae7.393b38",
        "type": "set",
        "name": "set destination tunnel tp ip",
        "xml": "<set>\n<parameter name='destination-secondary.tunnel-tp-id' value=\"`$tmp.aai.destination-secondary-ttp.tunnel-tp-id`\" />\n",
        "comments": "",
        "x": 5384.767349243164,
        "y": 2363.9071197509766,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "fd8902be.b515c8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5053.150161743164,
        "y": 2108.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "3983145.c01d1ec",
                "ded6bcc1.37b508"
            ]
        ]
    },
    {
        "id": "ded6bcc1.37b508",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domainC.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domainC.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 5261.150161743164,
        "y": 2115.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "15291f10.bfa1d1",
                "4ad88ea0.313028",
                "9de78895.27ba68"
            ]
        ]
    },
    {
        "id": "c08bfda1.3541a8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5055.150161743164,
        "y": 2181.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "757e0ab3.492124"
            ]
        ]
    },
    {
        "id": "3983145.c01d1ec",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domainC id",
        "xml": "<set>\n<parameter name='tmp.domainC.esr-thirdparty-id' value=\"`$tmp.aai.destination-secondary-pnf.relationship-list.relationship[$dpvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 5291.150161743164,
        "y": 2063.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "757e0ab3.492124",
        "type": "set",
        "name": "set domainC ethernet layer network-id",
        "xml": "<set>\n<parameter name='tmp.domainC.eth-network-id' value=\"`$tmp.aai.destination-secondary-pnf.relationship-list.relationship[$dpvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 5290.150161743164,
        "y": 2305.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "15291f10.bfa1d1",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5471.150161743164,
        "y": 2106.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "f933124d.0d0d48"
            ]
        ]
    },
    {
        "id": "4ad88ea0.313028",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5463.150161743164,
        "y": 2161.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "708c5d46.721ab4"
            ]
        ]
    },
    {
        "id": "9de78895.27ba68",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5468.150161743164,
        "y": 2218.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "c3cc12ab.3cd488"
            ]
        ]
    },
    {
        "id": "c3cc12ab.3cd488",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5620.150161743164,
        "y": 2219.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "708c5d46.721ab4",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5631.150161743164,
        "y": 2164.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "f933124d.0d0d48",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5615.532485961914,
        "y": 2104.222457885742,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "2ba1c8df.2a738"
            ]
        ]
    },
    {
        "id": "2ba1c8df.2a738",
        "type": "set",
        "name": "set controller domainC data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainC.url' value=\"`$tmp.aai.domainB.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainC.user' value=\"`$tmp.aai.domainB.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainC.password' value=\"`$tmp.aai.domainB.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 5830.150161743164,
        "y": 2100.5667877197266,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "5dc3af5e.92a278",
        "type": "switchNode",
        "name": "switch $hasSecondary",
        "xml": "<switch test='`$hasSecondary`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3861.816665649414,
        "y": 2712.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "a2e190cc.8d4f1"
            ]
        ]
    },
    {
        "id": "a2e190cc.8d4f1",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4052.816665649414,
        "y": 2716.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "d5cbc45b.cf7e18"
            ]
        ]
    },
    {
        "id": "d5cbc45b.cf7e18",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4179.816665649414,
        "y": 2715.566665649414,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "9dcfaa3c.2df838"
            ]
        ]
    },
    {
        "id": "9dcfaa3c.2df838",
        "type": "save",
        "name": "get secondary root uni from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"uni\"\n\t    key=\"uni.id = $tmp.SECONDARY-ROOT.uni-p-interface-long\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.secondaryrootuni\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 4406.150405883789,
        "y": 2708.9002838134766,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "9b50524c.8f5e2",
                "d7d45f06.b90c18",
                "a735aab1.9f93a8"
            ]
        ]
    },
    {
        "id": "9b50524c.8f5e2",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4773.150161743164,
        "y": 2602.900161743164,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "c267b95.509ac48"
            ]
        ]
    },
    {
        "id": "d7d45f06.b90c18",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4768.659194946289,
        "y": 2647.326126098633,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "bfc554f5.bfe79"
            ]
        ]
    },
    {
        "id": "a735aab1.9f93a8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4764.659194946289,
        "y": 2697.326187133789,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "6ab7706d.b84f78"
            ]
        ]
    },
    {
        "id": "5ae763e6.35d8f4",
        "type": "save",
        "name": "update SECONDARY-ROOT UNI in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='uni' \n      key='uni.id = $tmp.SECONDARY-ROOT.uni-p-interface-long'>\n<parameter name='id' value='`$tmp.SECONDARY-ROOT.uni-p-interface-long`' />\n<parameter name='data-source' value='`$tmp.newbw`' />\n",
        "comments": "",
        "outputs": 1,
        "x": 5212.659683227539,
        "y": 2692.3263092041016,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "c267b95.509ac48",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 4935.721694946289,
        "y": 2602.1858673095703,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "bfc554f5.bfe79",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 4936.659194946289,
        "y": 2647.326126098633,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "6ab7706d.b84f78",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4933.659194946289,
        "y": 2697.326187133789,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "3400e5b4.3cd32a",
                "5ae763e6.35d8f4"
            ]
        ]
    },
    {
        "id": "3400e5b4.3cd32a",
        "type": "set",
        "name": "set new bw",
        "xml": "<set>\n<parameter name='tmp.newbw' value='`$tmp.aai.secondaryrootuni.data-source - $bwToBeDecreased`' />\n",
        "comments": "",
        "x": 5115.659927368164,
        "y": 2639.326187133789,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "fa76b584.bdbd9",
        "type": "switchNode",
        "name": "switch tmp.mmUNI-id-long != SECONDARY-ROOT UNI",
        "xml": "\n<switch test=\"`$tmp.mmUNI-id-long != $tmp.SECONDARY-ROOT.uni-p-interface-long`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4650.150405883789,
        "y": 3552.899917602539,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "ef9b97c4.4f1c68"
            ]
        ]
    },
    {
        "id": "ef9b97c4.4f1c68",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4940.150405883789,
        "y": 3554.899917602539,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "608ff90c.2e5fc"
            ]
        ]
    },
    {
        "id": "35800841.c29e7",
        "type": "switchNode",
        "name": "switch $hasSecondary",
        "xml": "<switch test='`$hasSecondary`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4302.683364868164,
        "y": 5782.900161743164,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "23246adb.7861de"
            ]
        ]
    },
    {
        "id": "23246adb.7861de",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4493.683364868164,
        "y": 5786.900161743164,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "f3b9dd7.5ea102"
            ]
        ]
    },
    {
        "id": "f3b9dd7.5ea102",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4620.683364868164,
        "y": 5785.900161743164,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "60b7ba2f.bc3c0c"
            ]
        ]
    },
    {
        "id": "60b7ba2f.bc3c0c",
        "type": "switchNode",
        "name": "switch 2-ROOTS in same domain?",
        "xml": "<!-- This is to check the provider-id of ROOt and SECONDARY-ROOT-->\n<switch test='`$param-prefix-domainB[$param-prefix-domainB_length -9] == $param-prefix-domainC[$param-prefix-domainC_length -9]`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4846.016372680664,
        "y": 5787.900161743164,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "2443ceec.623df2",
                "ad2ba37e.796088"
            ]
        ]
    },
    {
        "id": "2443ceec.623df2",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5056.016372680664,
        "y": 5764.900161743164,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "bd893034.6b25e8"
            ]
        ]
    },
    {
        "id": "ad2ba37e.796088",
        "type": "outcomeTrue",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5061.016372680664,
        "y": 5813.900161743164,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "d0993207.1b217"
            ]
        ]
    },
    {
        "id": "bd893034.6b25e8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5182.016372680664,
        "y": 5764.900161743164,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "d0993207.1b217",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5179.016372680664,
        "y": 5820.900161743164,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "7824302d.31915",
                "638f8d60.f2970c"
            ]
        ]
    },
    {
        "id": "7824302d.31915",
        "type": "save",
        "name": "update SECONDARY-ROOT connectivity resource in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $tmp.aai.SECONDARY-ROOT.connectivity.connectivity-id'>\n<parameter name='connectivity-id' value='`$tmp.aai.SECONDARY-ROOT.connectivity.connectivity-id`' />\n<parameter name='operational-status' value='Modified' />\n",
        "comments": "",
        "outputs": 1,
        "x": 5493.016372680664,
        "y": 5879.900161743164,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "b539af9b.8e6488",
        "type": "comment",
        "name": "Update connectivity status to modified",
        "info": "",
        "comments": "",
        "x": 5425.233413696289,
        "y": 5831.699966430664,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "638f8d60.f2970c",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:cll-vnf-topology-operation-cll-helper-find-SECONDARY-ROOT-conn",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='cll-vnf-topology-operation-cll-helper-find-SECONDARY-ROOT-conn' mode='sync' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 5623.683364868164,
        "y": 5789.900161743164,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "9c7760f0.090d48",
        "type": "switchNode",
        "name": "switch $hasSecondary",
        "xml": "<switch test='`$hasSecondary`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 893.6833648681641,
        "y": 4979.899673461914,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "89d9c849.63865"
            ]
        ]
    },
    {
        "id": "89d9c849.63865",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1084.683364868164,
        "y": 4983.899673461914,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "71eabcdb.edbe1c"
            ]
        ]
    },
    {
        "id": "71eabcdb.edbe1c",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1211.683364868164,
        "y": 4982.899673461914,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "b655e9e.17d4118"
            ]
        ]
    },
    {
        "id": "b655e9e.17d4118",
        "type": "switchNode",
        "name": "switch 2-ROOTS in same domain?",
        "xml": "<!-- This is to check the provider-id of ROOt and SECONDARY-ROOT-->\n<switch test='`$param-prefix-domainB[$param-prefix-domainB_length -9] == $param-prefix-domainC[$param-prefix-domainC_length -9]`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1437.016372680664,
        "y": 4984.899673461914,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "451cba7b.55b034",
                "89345bed.8540d8"
            ]
        ]
    },
    {
        "id": "451cba7b.55b034",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1647.016372680664,
        "y": 4961.899673461914,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "6b3712d.199ce6c"
            ]
        ]
    },
    {
        "id": "89345bed.8540d8",
        "type": "outcomeTrue",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1652.016372680664,
        "y": 5010.899673461914,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "84894ba9.2f6d9"
            ]
        ]
    },
    {
        "id": "6b3712d.199ce6c",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1773.016372680664,
        "y": 4961.899673461914,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "84894ba9.2f6d9",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1770.016372680664,
        "y": 5017.899673461914,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "d5552e7d.44cc8",
                "e67d570d.d5f9f"
            ]
        ]
    },
    {
        "id": "e67d570d.d5f9f",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:cll-vnf-topology-operation-cll-helper-find-SECONDARY-ROOT-conn",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='cll-vnf-topology-operation-cll-helper-find-SECONDARY-ROOT-conn' mode='sync' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2214.683364868164,
        "y": 4986.899673461914,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "41723099.7f44e8",
        "type": "comment",
        "name": "Update connectivity status to modified",
        "info": "",
        "comments": "",
        "x": 2016.233413696289,
        "y": 5028.699478149414,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "d5552e7d.44cc8",
        "type": "save",
        "name": "update SECONDARY-ROOT connectivity resource in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $tmp.aai.SECONDARY-ROOT.connectivity.connectivity-id'>\n<parameter name='connectivity-id' value='`$tmp.aai.SECONDARY-ROOT.connectivity.connectivity-id`' />\n<parameter name='operational-status' value='Modified' />\n",
        "comments": "",
        "outputs": 1,
        "x": 2084.016372680664,
        "y": 5076.899673461914,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "5d9c1c4d.83462c",
        "type": "switchNode",
        "name": "switch $hasSecondary",
        "xml": "<switch test='`$hasSecondary`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1496.0167388916016,
        "y": 5820.900161743164,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "4a1beb8f.c1dbac"
            ]
        ]
    },
    {
        "id": "4a1beb8f.c1dbac",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1687.0167388916016,
        "y": 5824.900161743164,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "c43fef47.9c947"
            ]
        ]
    },
    {
        "id": "c43fef47.9c947",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1814.0167388916016,
        "y": 5823.900161743164,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "40808ad0.742134"
            ]
        ]
    },
    {
        "id": "40808ad0.742134",
        "type": "switchNode",
        "name": "switch 2-ROOTS in same domain?",
        "xml": "<!-- This is to check the provider-id of ROOt and SECONDARY-ROOT-->\n<switch test='`$param-prefix-domainB[$param-prefix-domainB_length -9] == $param-prefix-domainC[$param-prefix-domainC_length -9]`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2039.3497467041016,
        "y": 5825.900161743164,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "5a051931.8c6a5",
                "818560aa.91932"
            ]
        ]
    },
    {
        "id": "5a051931.8c6a5",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2249.3497467041016,
        "y": 5802.900161743164,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "8edca568.ede98"
            ]
        ]
    },
    {
        "id": "818560aa.91932",
        "type": "outcomeTrue",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2254.3497467041016,
        "y": 5851.900161743164,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "9a80cebb.ff473"
            ]
        ]
    },
    {
        "id": "8edca568.ede98",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2375.3497467041016,
        "y": 5802.900161743164,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "9a80cebb.ff473",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2372.3497467041016,
        "y": 5858.900161743164,
        "z": "1b4ba1fc.83240e",
        "wires": [
            [
                "cc186b3e.b594b",
                "5f3c966d.1d57c"
            ]
        ]
    },
    {
        "id": "5f3c966d.1d57c",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:cll-vnf-topology-operation-cll-helper-find-SECONDARY-ROOT-conn",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='cll-vnf-topology-operation-cll-helper-find-SECONDARY-ROOT-conn' mode='sync' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2817.0167388916016,
        "y": 5827.900161743164,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "224407cc.d62a7",
        "type": "comment",
        "name": "Update connectivity status to modified",
        "info": "",
        "comments": "",
        "x": 2618.5667877197266,
        "y": 5869.699966430664,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "cc186b3e.b594b",
        "type": "save",
        "name": "update SECONDARY-ROOT connectivity resource in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $tmp.aai.SECONDARY-ROOT.connectivity.connectivity-id'>\n<parameter name='connectivity-id' value='`$tmp.aai.SECONDARY-ROOT.connectivity.connectivity-id`' />\n<parameter name='operational-status' value='Modified' />\n",
        "comments": "",
        "outputs": 1,
        "x": 2686.3497467041016,
        "y": 5917.900161743164,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "9067b91d.deea4",
        "type": "execute",
        "name": "execute Terminate SSE Connection",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restconfdiscovery.RestconfDiscoveryNode' method='deleteSubscriptionAndSseConnection' >\n<parameter name=\"subscriberId\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.url`\" />\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.cll-terminate-notification.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.url + '/restconf/operations/ietf-subscribed-notifications:delete-subscription'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.password`\" />\n<parameter name=\"dirPath\" value=\"/opt/sdnc/restconfapi/yang/notification\" />\n<parameter name=\"format\" value=\"json\" />\n<parameter name=\"httpMethod\" value=\"post\" />\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"X-ACCESS-TOKEN=x-ik2ps4ikvzupbx0486ft1ebzs7rt85futh9ho6eofy3wjsap7wqktemlqm4bbsmnar3vrtbyrzukbv5itd6m1cftldpjarnyle3sdcqq9hftc4lebz464b5ffxmlbvg9\" />\n<parameter name=\"module\" value=\"GENERIC-RESOURCE-API\" />\n<parameter name=\"rpc\" value=\"cll-vnf-topology-operation-cll-callbackdg-notification\" />\n<parameter name=\"version\" value=\"`$project.version`\" />\n<parameter name=\"mode\" value=\"sync\" />\n<parameter name=\"responsePrefix\" value=\"restapi-result\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1546.4500274658203,
        "y": 6126.280899047852,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    },
    {
        "id": "61909f2b.d81a28",
        "type": "set",
        "name": "set parameters",
        "xml": "<set>\n<parameter name='subscriptionId' value='`$rcvd-bandwidth-value`' />\n",
        "comments": "",
        "x": 1478.483413696289,
        "y": 6067.680801391602,
        "z": "1b4ba1fc.83240e",
        "wires": []
    },
    {
        "id": "3d1d7271.d95cbe",
        "type": "execute",
        "name": "execute Terminate SSE Connection",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restconfdiscovery.RestconfDiscoveryNode' method='deleteSubscriptionAndSseConnection' >\n<parameter name=\"subscriberId\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.url`\" />\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.cll-terminate-notification.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domain.url + '/restconf/operations/ietf-subscribed-notifications:delete-subscription'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.password`\" />\n<parameter name=\"dirPath\" value=\"/opt/sdnc/restconfapi/yang/notification\" />\n<parameter name=\"format\" value=\"json\" />\n<parameter name=\"httpMethod\" value=\"post\" />\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"X-ACCESS-TOKEN=x-ik2ps4ikvzupbx0486ft1ebzs7rt85futh9ho6eofy3wjsap7wqktemlqm4bbsmnar3vrtbyrzukbv5itd6m1cftldpjarnyle3sdcqq9hftc4lebz464b5ffxmlbvg9\" />\n<parameter name=\"module\" value=\"GENERIC-RESOURCE-API\" />\n<parameter name=\"rpc\" value=\"cll-vnf-topology-operation-cll-callbackdg-notification\" />\n<parameter name=\"version\" value=\"`$project.version`\" />\n<parameter name=\"mode\" value=\"sync\" />\n<parameter name=\"responsePrefix\" value=\"restapi-result\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2095.116714477539,
        "y": 5574.514297485352,
        "z": "1b4ba1fc.83240e",
        "wires": [
            []
        ]
    }
]