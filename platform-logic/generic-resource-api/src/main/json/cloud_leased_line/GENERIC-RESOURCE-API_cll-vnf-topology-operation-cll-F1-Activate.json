[
    {
        "id": "a7aee3f0.b04268",
        "type": "save",
        "name": "get all-vpn-bindings from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"vpn-bindings\"\n\t    key=\"selflink = 'https://aai.onap:8443/aai/v24/network/vpn-bindings\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.all-vpn-bindings\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 400.566650390625,
        "y": 374,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "96c8722a.b993c",
                "e5061783.573db8",
                "6a27552b.ad1ba4"
            ]
        ]
    },
    {
        "id": "96c8722a.b993c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 588.566650390625,
        "y": 387,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "41e4d89f.ed1468"
            ]
        ]
    },
    {
        "id": "e5061783.573db8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 596.0575866699219,
        "y": 429.57403564453125,
        "z": "b25656d7.85a8a8",
        "wires": [
            []
        ]
    },
    {
        "id": "6a27552b.ad1ba4",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 586.566650390625,
        "y": 476,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "a92b97b8.4129e8"
            ]
        ]
    },
    {
        "id": "41e4d89f.ed1468",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 761.566650390625,
        "y": 385,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "cbc7d636.2def18"
            ]
        ]
    },
    {
        "id": "cbc7d636.2def18",
        "type": "for",
        "name": "for vpnidx in all-vpn-bindings",
        "xml": "<for index='vpnbidx' start='0' end='`$tmp.aai.all-vpn-bindings.vpn-binding_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 990.566650390625,
        "y": 386,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "39ab6bfa.74801c"
            ]
        ]
    },
    {
        "id": "39ab6bfa.74801c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1205.566650390625,
        "y": 387,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "e124b2ef.0bfdc8"
            ]
        ]
    },
    {
        "id": "f6144c8.446efb",
        "type": "switchNode",
        "name": "switch vpnuuid is for this slice",
        "xml": "<!--<switch test=\"`$tmp.slicevpnuuids[$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-id] != '' `\">-->\n\n<!-- Replace vpn-type with slice-id (a new attribbute in the latest AAI) -->\n<switch test=\"`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].slice-id == $tmp.aai.service-instance.service-instance-id `\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1459.566650390625,
        "y": 309,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "dc53b823.c6e998",
                "b2e345a3.6b81"
            ]
        ]
    },
    {
        "id": "dc53b823.c6e998",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1676.566650390625,
        "y": 288,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "e124b2ef.0bfdc8"
            ]
        ]
    },
    {
        "id": "b2e345a3.6b81",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1676.566650390625,
        "y": 337,
        "z": "b25656d7.85a8a8",
        "wires": [
            []
        ]
    },
    {
        "id": "e124b2ef.0bfdc8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1860.566650390625,
        "y": 374,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "2ac81333.5163cc",
                "ce04a89c.bde61",
                "b01d3963.8ea8b8"
            ]
        ]
    },
    {
        "id": "daba1b59.df55a",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 219.566650390625,
        "y": 115,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "53bce33c.ae731c"
            ]
        ]
    },
    {
        "id": "53bce33c.ae731c",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 503.8523406982422,
        "y": 176.23810863494873,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "13dd53c4.ce4fbc"
            ]
        ]
    },
    {
        "id": "13dd53c4.ce4fbc",
        "type": "method",
        "name": "method cll-vnf-topology-operation-cll-F1-Activate",
        "xml": "<method rpc='cll-vnf-topology-operation-cll-F1-Activate' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 509.99525451660156,
        "y": 261.0000305175781,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "60b5835f.a436c4"
            ]
        ]
    },
    {
        "id": "60b5835f.a436c4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 819.8046875,
        "y": 252.66668701171875,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "a7aee3f0.b04268",
                "6d17c7fb.4906d8",
                "7de7f253.4369ac",
                "731e9165.7bfe5",
                "c3d34fd5.00b8e8"
            ]
        ]
    },
    {
        "id": "2ac81333.5163cc",
        "type": "set",
        "name": "set tmp.aai.vpn-binding",
        "xml": "<set>\n<parameter name='tmp.aai.vpn-binding.' value=\"`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].`\" />\n",
        "comments": "",
        "x": 2077.566650390625,
        "y": 312,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "581b9833.ca5308",
        "type": "set",
        "name": "set attachment_param for OTN A",
        "xml": "<set>\n<parameter name='src-node-id' value='`$tmp.aai.vpn-bindingA.src-access-node-id`' />\n<parameter name='dst-node-id' value='`$tmp.aai.vpn-bindingA.dst-access-node-id`' />\n<!--<parameter name='dst-tpn-id' value='1' />-->\n<parameter name='dst-tpn-id' value='`$tmp.aai.vpn-bindingA.customer-vpn-id`' />\n<parameter name='dst-ttp-id' value='`$tmp.aai.vpn-bindingA.dst-access-ltp-id`' />\n<parameter name='slice-instance-id' value='`$tmp.aai.service-instance.service-instance-id`' />\n<parameter name='otn-tunnel-name-src-domain' value='`$tmp.aai.vpn-bindingA.vpn-name`' />\n<parameter name='client-id' value='`$tmp.aai.vpn-bindingA.access-client-id`' />\n<parameter name='provider-id' value='`$tmp.aai.vpn-bindingA.access-provider-id`' />\n<parameter name='topology-id' value='`$tmp.aai.vpn-bindingA.access-topology-id`' />\n",
        "comments": "",
        "x": 4246.566650390625,
        "y": 198,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "c57ed1b4.089b78",
        "type": "execute",
        "name": "execute RestApiCallNode Create OTN tunnel with token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.cll-otn-src-domain-creation.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainA.url + '/restconf/data/ietf-te:te'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainA.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainA.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"patch\"/>\n<parameter name=\"responsePrefix\" value=\"otn-oof\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 4327.566650390625,
        "y": 513,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "6866347a.b34054",
                "d9ef66bb.b2e3a"
            ]
        ]
    },
    {
        "id": "6866347a.b34054",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4637.066650390625,
        "y": 482,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "351f2ca1.efff8c"
            ]
        ]
    },
    {
        "id": "d9ef66bb.b2e3a",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4642.066650390625,
        "y": 547,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "7ec1daf0.49ebbc"
            ]
        ]
    },
    {
        "id": "351f2ca1.efff8c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create OTN tunnel rest api\" />\n",
        "comments": "",
        "x": 4813.066650390625,
        "y": 482,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "7ec1daf0.49ebbc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4808.566650390625,
        "y": 547,
        "z": "b25656d7.85a8a8",
        "wires": [
            []
        ]
    },
    {
        "id": "fe354f09.d7eaa",
        "type": "set",
        "name": "set sotn_value",
        "xml": "<set>\n<!--<parameter name='eth-service-name' value='`$tmp.aai.connectivityA.connectivity-id`' />-->\n<parameter name='eth-service-name' value='`$tmp.aai.connectivityA.etht-svc-name`' />\n<parameter name='slice-id' value='`$vnf-topology-operation-input.service-information.service-instance-id`' />\n<parameter name='provider-id' value='`$tmp.aai.connectivityA.access-provider-id`' />\n<parameter name='client-id' value='`$tmp.aai.connectivityA.access-client-id`' />\n<parameter name='topology-id' value='`$tmp.aai.connectivityA.access-topology-id`' />\n<parameter name='otn-tunnel-name' value='`$tmp.aai.vpn-bindingA.vpn-name`' />\n<parameter name='ethernet-end-point-name' value='`$tmp.aai.connectivityA.connectivity-id`' />\n<parameter name='index-number' value='0' />\n<parameter name='eth-node-id' value='`$tmp.aai.connectivityA.access-node-id`' />\n<parameter name='eth-node-tp-id' value='`$tmp.aai.connectivityA.access-ltp-id`' />\n<parameter name='CIR' value='`$tmp.aai.vpn-bindingA.route-distinguisher *1000000`' />\n<parameter name='EIR' value='`$tmp.aai.vpn-bindingA.route-distinguisher *1000000`' />\n<parameter name='cvlan' value='`$tmp.aai.connectivityA.cvlan`' />\n",
        "comments": "",
        "x": 4192.066650390625,
        "y": 767,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "f82c7890.c5a3a",
        "type": "execute",
        "name": "execute RestApiCallNode Create ethernet Service without token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.ts-ethernet-service.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainA.url + '/restconf/data/ietf-eth-tran-service:etht-svc'`\" />\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.restapi.connection-oof-url`\" />-->\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainA.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainA.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"patch\"/>\n<parameter name='dirPath' value=\"/opt/onap/sdnc/restconfapi/yang\" />\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 4346.066650390625,
        "y": 815,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "66ca2f72.5d0ea",
                "384ae824.cd397"
            ]
        ]
    },
    {
        "id": "66ca2f72.5d0ea",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4691.566650390625,
        "y": 796,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "8897aa30.2d04c"
            ]
        ]
    },
    {
        "id": "384ae824.cd397",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4695.566650390625,
        "y": 836,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "e98f7531.5d07d8"
            ]
        ]
    },
    {
        "id": "8897aa30.2d04c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create ethernet service rest api\" />\n",
        "comments": "",
        "x": 4849.566650390625,
        "y": 796,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "e98f7531.5d07d8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4853.066650390625,
        "y": 836,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "3b168b09.265424",
                "f9e9fb1f.d5d228"
            ]
        ]
    },
    {
        "id": "3b168b09.265424",
        "type": "save",
        "name": "update vpn-binding A resource (aka. OTN domainA) in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $tmp.aai.vpn-bindingA.vpn-id' >\n<parameter name='vpn-id' value='`$tmp.aai.vpn-bindingA.vpn-id`' />\n<parameter name='vpn-name' value='`$tmp.aai.vpn-bindingA.vpn-name`' />\n\n<parameter name='operational-status' value='Activated' />\n",
        "comments": "",
        "outputs": 1,
        "x": 5183.566650390625,
        "y": 801,
        "z": "b25656d7.85a8a8",
        "wires": [
            []
        ]
    },
    {
        "id": "293d08cf.5ba9b",
        "type": "comment",
        "name": "TODO: FIXME",
        "info": "use proper vpn-binding id and connectivity id\n\nAlso, does CCSDK support \"update\" operation for vpn-binding and connectivity?",
        "comments": "",
        "x": 5047.566650390625,
        "y": 760,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "f9e9fb1f.d5d228",
        "type": "save",
        "name": "update connectivity resource in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $tmp.aai.connectivityA.connectivity-id'>\n<parameter name='connectivity-id' value='`$tmp.aai.connectivityA.connectivity-id`' />\n<parameter name='operational-status' value='Activated' />\n",
        "comments": "",
        "outputs": 1,
        "x": 5110.566650390625,
        "y": 847,
        "z": "b25656d7.85a8a8",
        "wires": [
            []
        ]
    },
    {
        "id": "5b448e3f.d6f97",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.src.domainA.pnf-name' value=\"`'networkId-providerId-' +\n                                                   $tmp.aai.vpn-bindingA.access-provider-id + '-clientId-' +\n                                                   $tmp.aai.vpn-bindingA.access-client-id + '-topologyId-' +\n                                                   $tmp.aai.vpn-bindingA.access-topology-id + '-nodeId-' +\n                                                   $tmp.aai.vpn-bindingA.src-access-node-id`\" />\n",
        "comments": "",
        "x": 4184.566650390625,
        "y": 246,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "11357d7a.7ec893",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.src.domainA.pnf-name\"\n        pfx='tmp.aai.source-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 4210.566650390625,
        "y": 363,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "9cee4545.4afd2",
                "c87207dc.1fc4c8",
                "a541f904.08a73"
            ]
        ]
    },
    {
        "id": "9cee4545.4afd2",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4406.0667724609375,
        "y": 315,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "174041c6.ef00ae"
            ]
        ]
    },
    {
        "id": "c87207dc.1fc4c8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4398.0667724609375,
        "y": 370,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "2578a714.32fd88"
            ]
        ]
    },
    {
        "id": "174041c6.ef00ae",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4550.4490966796875,
        "y": 314.6556701660156,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "44c47bf6.544e84"
            ]
        ]
    },
    {
        "id": "416e074e.1652a8",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5132.566650390625,
        "y": 317,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "77699d71.cb9cbc"
            ]
        ]
    },
    {
        "id": "44c47bf6.544e84",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='spvidx' start='0' end='`$tmp.aai.source-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4734.566650390625,
        "y": 313,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "ec3ad4d7.e6b51"
            ]
        ]
    },
    {
        "id": "ec3ad4d7.e6b51",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4929.566650390625,
        "y": 313,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "416e074e.1652a8"
            ]
        ]
    },
    {
        "id": "a541f904.08a73",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4403.0667724609375,
        "y": 427,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "44c8faa6.17201c"
            ]
        ]
    },
    {
        "id": "44c8faa6.17201c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4555.0667724609375,
        "y": 428,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "2578a714.32fd88",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4566.0667724609375,
        "y": 371,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "157b4f1e.ec4409",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domainA.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domainA.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 5517.566650390625,
        "y": 330,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "5eb578c.a510488",
                "646e1345.d32534",
                "d2cac0b5.69fe18"
            ]
        ]
    },
    {
        "id": "77699d71.cb9cbc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5311.566650390625,
        "y": 317,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "e5b6fb7a.6fa868",
                "157b4f1e.ec4409"
            ]
        ]
    },
    {
        "id": "e5b6fb7a.6fa868",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domainA id",
        "xml": "<set>\n<parameter name='tmp.domainA.esr-thirdparty-id' value=\"`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 5547.566650390625,
        "y": 278,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "5eb578c.a510488",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5727.566650390625,
        "y": 321,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "e92c3ae0.67c78"
            ]
        ]
    },
    {
        "id": "646e1345.d32534",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5719.566650390625,
        "y": 376,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "bbc83f99.73f6"
            ]
        ]
    },
    {
        "id": "d2cac0b5.69fe18",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5724.566650390625,
        "y": 433,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "2b4662b0.39c236"
            ]
        ]
    },
    {
        "id": "2b4662b0.39c236",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5876.566650390625,
        "y": 434,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "bbc83f99.73f6",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5887.566650390625,
        "y": 379,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "e92c3ae0.67c78",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5871.948974609375,
        "y": 318.6556701660156,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "79f8358f.b45374"
            ]
        ]
    },
    {
        "id": "79f8358f.b45374",
        "type": "set",
        "name": "set controller domainA data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainA.url' value=\"`$tmp.aai.domainA.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainA.user' value=\"`$tmp.aai.domainA.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainA.password' value=\"`$tmp.aai.domainA.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 6086.566650390625,
        "y": 315,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "ffd19574.4197a8",
        "type": "set",
        "name": "set attachment_param for OTN B",
        "xml": "<set>\n<parameter name='src-node-id' value='`$tmp.aai.vpn-bindingB.src-access-node-id`' />\n<parameter name='dst-node-id' value='`$tmp.aai.vpn-bindingB.dst-access-node-id`' />\n<!--<parameter name='src-tpn-id' value='1' />-->\n<parameter name='src-tpn-id' value='`$tmp.aai.vpn-bindingB.customer-vpn-id`' />\n<parameter name='src-ttp-id' value='`$tmp.aai.vpn-bindingB.src-access-ltp-id`' />\n<parameter name='slice-instance-id' value='`$tmp.aai.service-instance.service-instance-id`' />\n<parameter name='otn-tunnel-name-dst-domain' value='`$tmp.aai.vpn-bindingB.vpn-name`' />\n<parameter name='client-id' value='`$tmp.aai.vpn-bindingB.access-client-id`' />\n<parameter name='provider-id' value='`$tmp.aai.vpn-bindingB.access-provider-id`' />\n<parameter name='topology-id' value='`$tmp.aai.vpn-bindingB.access-topology-id`' />\n",
        "comments": "",
        "x": 3653.566650390625,
        "y": 1655,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "bd3c5166.6aead",
        "type": "execute",
        "name": "execute RestApiCallNode Create OTN tunnel with token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.cll-otn-dst-domain-creation.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainB.url + '/restconf/data/ietf-te:te'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainB.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainB.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"patch\"/>\n<parameter name=\"responsePrefix\" value=\"otn-oof\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 3716.566650390625,
        "y": 1984,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "85a267fb.c74d5",
                "1abf40e9.7b1f1f"
            ]
        ]
    },
    {
        "id": "85a267fb.c74d5",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4012.066650390625,
        "y": 1951,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "8944bada.8beb4"
            ]
        ]
    },
    {
        "id": "1abf40e9.7b1f1f",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4017.066650390625,
        "y": 2016,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "fa8bf7ac.5ecf28"
            ]
        ]
    },
    {
        "id": "8944bada.8beb4",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create OTN tunnel rest api\" />\n",
        "comments": "",
        "x": 4180.066650390625,
        "y": 1951,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "fa8bf7ac.5ecf28",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4190.566650390625,
        "y": 2016,
        "z": "b25656d7.85a8a8",
        "wires": [
            []
        ]
    },
    {
        "id": "e3d71f0.616b0e",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.dst.domainB.pnf-name' value=\"`'networkId-providerId-' +\n                                                   $tmp.aai.vpn-bindingB.access-provider-id + '-clientId-' +\n                                                   $tmp.aai.vpn-bindingB.access-client-id + '-topologyId-' +\n                                                   $tmp.aai.vpn-bindingB.access-topology-id + '-nodeId-' +\n                                                   $tmp.aai.vpn-bindingB.dst-access-node-id`\" />\n",
        "comments": "",
        "x": 3592.566650390625,
        "y": 1712,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "5f81a64c.5bf2a",
        "type": "get-resource",
        "name": "get-resource dst pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.dst.domainB.pnf-name\"\n        pfx='tmp.aai.destination-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3612.566650390625,
        "y": 1809,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "1781a1bd.0348ce",
                "e03bcd54.697738",
                "94b9ef51.5409d"
            ]
        ]
    },
    {
        "id": "1781a1bd.0348ce",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3815.0667724609375,
        "y": 1762,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "a95165c1.f614f8"
            ]
        ]
    },
    {
        "id": "e03bcd54.697738",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3807.0667724609375,
        "y": 1817,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "b5b6c797.75de6"
            ]
        ]
    },
    {
        "id": "a95165c1.f614f8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3959.4490966796875,
        "y": 1759.6556701660156,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "5bb225c8.c4c70c"
            ]
        ]
    },
    {
        "id": "5bb225c8.c4c70c",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='dpvidx' start='0' end='`$tmp.aai.destination-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4143.566650390625,
        "y": 1774,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "7747e85a.705d5"
            ]
        ]
    },
    {
        "id": "94b9ef51.5409d",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3812.0667724609375,
        "y": 1874,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "9d4f33d7.c972d"
            ]
        ]
    },
    {
        "id": "9d4f33d7.c972d",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 3964.0667724609375,
        "y": 1875,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "b5b6c797.75de6",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 3975.0667724609375,
        "y": 1820,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "7641eade.641374",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4541.566650390625,
        "y": 1778,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "745d7190.9cf208"
            ]
        ]
    },
    {
        "id": "7747e85a.705d5",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.destination-pnf.relationship-list.relationship[$dpvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4338.566650390625,
        "y": 1774,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "7641eade.641374"
            ]
        ]
    },
    {
        "id": "95464c66.d9ff8",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domainB.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domainB.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 4926.566650390625,
        "y": 1777,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "bb6dbaba.ff1548",
                "a59e3175.15a9b",
                "4bc34556.41323c"
            ]
        ]
    },
    {
        "id": "745d7190.9cf208",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4718.566650390625,
        "y": 1770,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "80afd84e.d6bdd8",
                "95464c66.d9ff8"
            ]
        ]
    },
    {
        "id": "80afd84e.d6bdd8",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domainB id",
        "xml": "<set>\n<parameter name='tmp.domainB.esr-thirdparty-id' value=\"`$tmp.aai.destination-pnf.relationship-list.relationship[$dpvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 4956.566650390625,
        "y": 1725,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "42edd12e.5451d",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5285.566650390625,
        "y": 1881,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "ea697aed.d1f358",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5296.566650390625,
        "y": 1826,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "edcb3571.8c6728",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5280.948974609375,
        "y": 1765.6556701660156,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "6d55462a.8f8fa8"
            ]
        ]
    },
    {
        "id": "6d55462a.8f8fa8",
        "type": "set",
        "name": "set controller domainB data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainB.url' value=\"`$tmp.aai.domainB.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainB.user' value=\"`$tmp.aai.domainB.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainB.password' value=\"`$tmp.aai.domainB.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 5495.566650390625,
        "y": 1762,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "bb6dbaba.ff1548",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5136.566650390625,
        "y": 1768,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "edcb3571.8c6728"
            ]
        ]
    },
    {
        "id": "a59e3175.15a9b",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5128.566650390625,
        "y": 1823,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "ea697aed.d1f358"
            ]
        ]
    },
    {
        "id": "4bc34556.41323c",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5133.566650390625,
        "y": 1880,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "42edd12e.5451d"
            ]
        ]
    },
    {
        "id": "64ebcb8e.6a273c",
        "type": "switchNode",
        "name": "switch vpn-binding has dst-access-ltp",
        "xml": "<switch test='`$tmp.aai.vpn-binding.dst-access-ltp-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3167.566650390625,
        "y": 726,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "635bfedd.0eff1",
                "4466b072.e153e8"
            ]
        ]
    },
    {
        "id": "635bfedd.0eff1",
        "type": "outcome",
        "name": "Null",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 3381.566650390625,
        "y": 763,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "f20f4b09.4270d8"
            ]
        ]
    },
    {
        "id": "4466b072.e153e8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3383.566650390625,
        "y": 701,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "388a019b.9b73c6"
            ]
        ]
    },
    {
        "id": "f20f4b09.4270d8",
        "type": "switchNode",
        "name": "switch vpn-binding has src-access-ltp",
        "xml": "<switch test='`$tmp.aai.vpn-binding.src-access-ltp-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2961.566650390625,
        "y": 2006,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "69af1ba1.41260c",
                "13b2b9f.1f67dc6"
            ]
        ]
    },
    {
        "id": "69af1ba1.41260c",
        "type": "outcome",
        "name": "Null",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 3214.566650390625,
        "y": 2040,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "c8858f37.c3f05"
            ]
        ]
    },
    {
        "id": "13b2b9f.1f67dc6",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3214.566650390625,
        "y": 1984,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "be4790f9.3bf898"
            ]
        ]
    },
    {
        "id": "c8858f37.c3f05",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 3365.566650390625,
        "y": 2040,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "7a5e210e.9e5d48",
        "type": "set",
        "name": "set vpn-bindingA and connectivityA",
        "xml": "<set>\n<parameter name='tmp.aai.vpn-bindingA.' value=\"`$tmp.aai.vpn-binding.`\" />\n<parameter name='tmp.aai.connectivityA.' value=\"`$tmp.aai.connectivity.`\" />\n",
        "comments": "",
        "x": 4241.566650390625,
        "y": 138,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "163461bd.87a87e",
        "type": "set",
        "name": "set vpn-bindingB and connectivityB",
        "xml": "<set>\n<parameter name='tmp.aai.vpn-bindingB.' value=\"`$tmp.aai.vpn-binding.`\" />\n<parameter name='tmp.aai.connectivityB.' value=\"`$tmp.aai.connectivity.`\" />\n\n",
        "comments": "",
        "x": 3649.566650390625,
        "y": 1597,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "354c57ea.e71ee8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3932.566650390625,
        "y": 395,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "7a5e210e.9e5d48",
                "581b9833.ca5308",
                "5b448e3f.d6f97",
                "11357d7a.7ec893",
                "c57ed1b4.089b78",
                "5d6e99f5.a1e2d",
                "1771c9d3.36c546",
                "d9cf64bd.4ed12"
            ]
        ]
    },
    {
        "id": "be4790f9.3bf898",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3365.566650390625,
        "y": 1983,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "163461bd.87a87e",
                "ffd19574.4197a8",
                "e3d71f0.616b0e",
                "5f81a64c.5bf2a",
                "bd3c5166.6aead",
                "b596d9f.c7daaa8",
                "2308c235.08d20e",
                "5a0cb184.9cdf98"
            ]
        ]
    },
    {
        "id": "12d5b667.53ec1a",
        "type": "set",
        "name": "set sotn_value",
        "xml": "<set>\n<!--<parameter name='eth-service-name' value='`$tmp.aai.connectivityB.connectivity-id`' />-->\n<parameter name='eth-service-name' value='`$tmp.aai.connectivityB.etht-svc-name`' />\n<parameter name='slice-id' value='`$vnf-topology-operation-input.service-information.service-instance-id`' />\n<parameter name='provider-id' value='`$tmp.aai.connectivityB.access-provider-id`' />\n<parameter name='client-id' value='`$tmp.aai.connectivityB.access-client-id`' />\n<parameter name='topology-id' value='`$tmp.aai.connectivityB.access-topology-id`' />\n<parameter name='otn-tunnel-name' value='`$tmp.aai.vpn-bindingB.vpn-name`' />\n<parameter name='ethernet-end-point-name' value='`$tmp.aai.connectivityB.connectivity-id`' />\n<parameter name='index-number' value='0' />\n<parameter name='eth-node-id' value='`$tmp.aai.connectivityB.access-node-id`' />\n<parameter name='eth-node-tp-id' value='`$tmp.aai.connectivityB.access-ltp-id`' />\n<parameter name='CIR' value='`$tmp.aai.vpn-bindingB.route-distinguisher *1000000`' />\n<parameter name='EIR' value='`$tmp.aai.vpn-bindingB.route-distinguisher *1000000`' />\n<parameter name='cvlan' value='`$tmp.aai.connectivityB.cvlan`' />\n\n",
        "comments": "",
        "x": 3603.566650390625,
        "y": 2282,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "b0af817e.3df5c",
        "type": "execute",
        "name": "execute RestApiCallNode Create ethernet Service without token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.ts-ethernet-service.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainB.url + '/restconf/data/ietf-eth-tran-service:etht-svc'`\" />\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.restapi.connection-oof-url`\" />-->\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainB.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainB.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"patch\"/>\n<parameter name='dirPath' value=\"/opt/onap/sdnc/restconfapi/yang\" />\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3757.566650390625,
        "y": 2330,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "8bd672ae.f97518",
                "171382a6.de96c5"
            ]
        ]
    },
    {
        "id": "8bd672ae.f97518",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4103.066650390625,
        "y": 2311,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "26f501a4.aaf356"
            ]
        ]
    },
    {
        "id": "171382a6.de96c5",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4107.066650390625,
        "y": 2351,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "81506f95.53e78"
            ]
        ]
    },
    {
        "id": "26f501a4.aaf356",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create ethernet service rest api\" />\n",
        "comments": "",
        "x": 4261.066650390625,
        "y": 2311,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "81506f95.53e78",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4264.566650390625,
        "y": 2351,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "8a72bd7f.2b673",
                "2efc6876.725c8"
            ]
        ]
    },
    {
        "id": "8a72bd7f.2b673",
        "type": "save",
        "name": "update vpn-binding B resource (aka. OTN domainB) in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $tmp.aai.vpn-bindingB.vpn-id' >\n<parameter name='vpn-id' value='`$tmp.aai.vpn-bindingB.vpn-id`' />\n<parameter name='vpn-name' value='`$tmp.aai.vpn-bindingB.vpn-name`' />\n\n<parameter name='operational-status' value='Activated' />\n",
        "comments": "",
        "outputs": 1,
        "x": 4604.566650390625,
        "y": 2350,
        "z": "b25656d7.85a8a8",
        "wires": [
            []
        ]
    },
    {
        "id": "52aaed09.836384",
        "type": "comment",
        "name": "TODO: FIXME",
        "info": "use proper vpn-binding id and connectivity\n\nAlso, does CCSDK support \"update\" operation for vpn-binding and connectivity?",
        "comments": "",
        "x": 4462.566650390625,
        "y": 2308,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "2efc6876.725c8",
        "type": "save",
        "name": "update connectivity resource in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $tmp.aai.connectivityB.connectivity-id'>\n<parameter name='connectivity-id' value='`$tmp.aai.connectivityB.connectivity-id`' />\n<parameter name='operational-status' value='Activated' />\n",
        "comments": "",
        "outputs": 1,
        "x": 4533.566650390625,
        "y": 2399,
        "z": "b25656d7.85a8a8",
        "wires": [
            []
        ]
    },
    {
        "id": "601ee7c2.7cf4c8",
        "type": "set",
        "name": "set attachment_param (gfp-n) for OTN",
        "xml": "<set>\n<parameter name='gfp-n' value='`$tmp.aai.vpn-binding.route-distinguisher`' />\n",
        "comments": "",
        "x": 3158.566650390625,
        "y": 666,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "f8b99cf2.a93e78",
        "type": "comment",
        "name": "only dst ttp exists. No src",
        "info": "",
        "comments": "",
        "x": 3753.566650390625,
        "y": 352,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "ba2b5c4f.29126",
        "type": "comment",
        "name": "only src ttp exists. No dst",
        "info": "",
        "comments": "",
        "x": 3310.566650390625,
        "y": 1930,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "388a019b.9b73c6",
        "type": "switchNode",
        "name": "switch vpn-binding has src-access-ltp",
        "xml": "<switch test='`$tmp.aai.vpn-binding.src-access-ltp-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3489.566650390625,
        "y": 514,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "60287d21.a15fac",
                "e673bc57.d2c08"
            ]
        ]
    },
    {
        "id": "e673bc57.d2c08",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3731.566650390625,
        "y": 1103,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "8e141356.94256"
            ]
        ]
    },
    {
        "id": "60287d21.a15fac",
        "type": "outcome",
        "name": "Null",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 3725.566650390625,
        "y": 394,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "354c57ea.e71ee8"
            ]
        ]
    },
    {
        "id": "8e141356.94256",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3889.566650390625,
        "y": 1102,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "660dd4a0.d8f1f4",
                "bd6ec24f.7d2838",
                "2d50a497.118c24",
                "60d7ef05.f89ff8",
                "feec0e79.04d7e8",
                "6270f9ff.6a6b4"
            ]
        ]
    },
    {
        "id": "bd6ec24f.7d2838",
        "type": "set",
        "name": "set attachment_param for OTN G",
        "xml": "<set>\n<parameter name='src-node-id' value='`$tmp.aai.vpn-bindingG.src-access-node-id`' />\n<parameter name='dst-node-id' value='`$tmp.aai.vpn-bindingG.dst-access-node-id`' />\n<!--<parameter name='dst-tpn-id' value='1' />-->\n<parameter name='src-tpn-id' value='`$tmp.aai.vpn-bindingG.customer-vpn-id`' />\n<parameter name='dst-tpn-id' value='`$tmp.aai.vpn-bindingG.customer-vpn-id`' />\n<parameter name='src-ttp-id' value='`$tmp.aai.vpn-bindingG.src-access-ltp-id`' />\n<parameter name='dst-ttp-id' value='`$tmp.aai.vpn-bindingG.dst-access-ltp-id`' />\n<parameter name='slice-instance-id' value='`$tmp.aai.service-instance.service-instance-id`' />\n<parameter name='otn-tunnel-name-domainG' value='`$tmp.aai.vpn-bindingG.vpn-name`' />\n<parameter name='client-id' value='`$tmp.aai.vpn-bindingG.access-client-id`' />\n<parameter name='provider-id' value='`$tmp.aai.vpn-bindingG.access-provider-id`' />\n<parameter name='topology-id' value='`$tmp.aai.vpn-bindingG.access-topology-id`' />\n",
        "comments": "",
        "x": 4153.566650390625,
        "y": 985,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "feec0e79.04d7e8",
        "type": "execute",
        "name": "execute RestApiCallNode Create OTN tunnel with token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.cll-otn-domainG-creation.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainG.url + '/restconf/data/ietf-te:te'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainG.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainG.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"patch\"/>\n<parameter name=\"responsePrefix\" value=\"otn-oof\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 4234.566650390625,
        "y": 1300,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "1829c13e.6c182f",
                "cdc3e429.be6fa"
            ]
        ]
    },
    {
        "id": "1829c13e.6c182f",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4544.066650390625,
        "y": 1269,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "5b91a7ec.2e4658"
            ]
        ]
    },
    {
        "id": "cdc3e429.be6fa",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4549.066650390625,
        "y": 1334,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "8046aee4.83e438"
            ]
        ]
    },
    {
        "id": "5b91a7ec.2e4658",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create OTN tunnel rest api\" />\n",
        "comments": "",
        "x": 4720.066650390625,
        "y": 1269,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "8046aee4.83e438",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4715.566650390625,
        "y": 1334,
        "z": "b25656d7.85a8a8",
        "wires": [
            []
        ]
    },
    {
        "id": "2d50a497.118c24",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.domainG.pnf-name' value=\"`'networkId-providerId-' +\n                                                   $tmp.aai.vpn-bindingG.access-provider-id + '-clientId-' +\n                                                   $tmp.aai.vpn-bindingG.access-client-id + '-topologyId-' +\n                                                   $tmp.aai.vpn-bindingG.access-topology-id + '-nodeId-' +\n                                                   $tmp.aai.vpn-bindingG.src-access-node-id`\" />\n",
        "comments": "",
        "x": 4091.566650390625,
        "y": 1033,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "60d7ef05.f89ff8",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.domainG.pnf-name\"\n        pfx='tmp.aai.domainG-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 4117.566650390625,
        "y": 1150,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "684da58c.28fc44",
                "7420bdce.6aab1c",
                "21d55314.ed559c"
            ]
        ]
    },
    {
        "id": "684da58c.28fc44",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4313.0667724609375,
        "y": 1102,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "64489fc6.c8241"
            ]
        ]
    },
    {
        "id": "7420bdce.6aab1c",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4305.0667724609375,
        "y": 1157,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "92f1b89c.1ab69"
            ]
        ]
    },
    {
        "id": "64489fc6.c8241",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4457.4490966796875,
        "y": 1101.6556701660156,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "48d2ac4e.25f6b4"
            ]
        ]
    },
    {
        "id": "48d2ac4e.25f6b4",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='spvidx' start='0' end='`$tmp.aai.domainG-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4641.566650390625,
        "y": 1100,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "714ce556.4f2fcc"
            ]
        ]
    },
    {
        "id": "714ce556.4f2fcc",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.domainG-pnf.relationship-list.relationship[$spvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4836.566650390625,
        "y": 1100,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "2076535.8c263ac"
            ]
        ]
    },
    {
        "id": "21d55314.ed559c",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4310.0667724609375,
        "y": 1214,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "45f37411.31ce94"
            ]
        ]
    },
    {
        "id": "45f37411.31ce94",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4462.0667724609375,
        "y": 1215,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "92f1b89c.1ab69",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4473.0667724609375,
        "y": 1158,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "660dd4a0.d8f1f4",
        "type": "set",
        "name": "set vpn-bindingG and connectivityG",
        "xml": "<set>\n<parameter name='tmp.aai.vpn-bindingG.' value=\"`$tmp.aai.vpn-binding.`\" />\n<parameter name='tmp.aai.connectivityG.' value=\"`$tmp.aai.connectivity.`\" />\n",
        "comments": "",
        "x": 4148.566650390625,
        "y": 925,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "2076535.8c263ac",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5039.566650390625,
        "y": 1104,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "f782ae02.7309d8"
            ]
        ]
    },
    {
        "id": "4c7d2512.5b4fb4",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domainG.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domainG.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 5424.566650390625,
        "y": 1117,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "f27cc561.589478",
                "533a9a4e.562074",
                "f04fcd62.bdef1"
            ]
        ]
    },
    {
        "id": "f782ae02.7309d8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5218.566650390625,
        "y": 1104,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "eec3155e.2bcec8",
                "4c7d2512.5b4fb4"
            ]
        ]
    },
    {
        "id": "eec3155e.2bcec8",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domainG id",
        "xml": "<set>\n<parameter name='tmp.domainG.esr-thirdparty-id' value=\"`$tmp.aai.domainG-pnf.relationship-list.relationship[$spvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 5454.566650390625,
        "y": 1065,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "f27cc561.589478",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5634.566650390625,
        "y": 1108,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "20cc7528.d35caa"
            ]
        ]
    },
    {
        "id": "533a9a4e.562074",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5626.566650390625,
        "y": 1163,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "a99b13d6.7a5b4"
            ]
        ]
    },
    {
        "id": "f04fcd62.bdef1",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5631.566650390625,
        "y": 1220,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "76e3f44a.1be574"
            ]
        ]
    },
    {
        "id": "76e3f44a.1be574",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5783.566650390625,
        "y": 1221,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "a99b13d6.7a5b4",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5794.566650390625,
        "y": 1166,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "20cc7528.d35caa",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5778.948974609375,
        "y": 1105.6556701660156,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "52e6acc9.c6278c"
            ]
        ]
    },
    {
        "id": "52e6acc9.c6278c",
        "type": "set",
        "name": "set controller domainG data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainG.url' value=\"`$tmp.aai.domainG.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainG.user' value=\"`$tmp.aai.domainG.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainG.password' value=\"`$tmp.aai.domainG.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 5993.566650390625,
        "y": 1102,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "7dd287b6.719d08",
        "type": "comment",
        "name": "both src and dst exist",
        "info": "",
        "comments": "",
        "x": 3767.566650390625,
        "y": 1043,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "ce04a89c.bde61",
        "type": "switchNode",
        "name": "switch vpn-binding is not already Activated (i.e. is either Created or Modified)",
        "xml": "<switch test=\"`$tmp.aai.vpn-binding.operational-status != 'Activated' `\">\n",
        "comments": "",
        "outputs": 1,
        "x": 2329.566650390625,
        "y": 770,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "f4c77699.53d898",
                "9865c4e0.3bcc6"
            ]
        ]
    },
    {
        "id": "9865c4e0.3bcc6",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2736.566650390625,
        "y": 788,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "ad8883f5.8e3298"
            ]
        ]
    },
    {
        "id": "f4c77699.53d898",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2736.566650390625,
        "y": 733,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "e8f3ed6f.2eafd"
            ]
        ]
    },
    {
        "id": "e8f3ed6f.2eafd",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2892.566650390625,
        "y": 731,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "601ee7c2.7cf4c8",
                "64ebcb8e.6a273c"
            ]
        ]
    },
    {
        "id": "ad8883f5.8e3298",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2869.566650390625,
        "y": 789,
        "z": "b25656d7.85a8a8",
        "wires": [
            []
        ]
    },
    {
        "id": "6d17c7fb.4906d8",
        "type": "set",
        "name": "unset tmp.aai.all-vpn-bindings",
        "xml": "<set>\n<parameter name='tmp.aai.all-vpn-bindings.' value=\"\" />\n",
        "comments": "",
        "x": 1046.566650390625,
        "y": 205,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "c6c6f64f.fccbe8",
        "type": "comment",
        "name": "CLL new",
        "info": "construct two array structures like these:\n\n${otn-tunnels-name-list[${1}].otn-tunnel-name}\n\n----------------\n${ethernet-srv-end-points-list[${1}].ethernet-end-point-name}\n${ethernet-srv-end-points-list[${1}].index-number},\n${ethernet-srv-end-points-list[${1}].eth-node-id},\n${ethernet-srv-end-points-list[${1}].eth-node-tp-id},\n${ethernet-srv-end-points-list[${1}].leafOrRootAccess}\n${ethernet-srv-end-points-list[${1}].cvlan}\n${ethernet-srv-end-points-list[${1}].CIR}\n${ethernet-srv-end-points-list[${1}].EIR}",
        "comments": "",
        "x": 4163.566650390625,
        "y": 623,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "5d6e99f5.a1e2d",
        "type": "set",
        "name": "set leaf-otn-tunnels-list array",
        "xml": "<set>\n<parameter name='`leaf-tunnels-list[$leaftunsidx].tunnel-name`' value='`$tmp.aai.vpn-binding.vpn-name`' />\n<parameter name='`leaf-tunnels-list[$leaftunsidx].vpn-id`' value='`$tmp.aai.vpn-binding.vpn-id`' />\n<parameter name='`leaf-tunnels-list_length`' value='`$leaftunsidx + 1`' />\n",
        "comments": "",
        "x": 4223.566650390625,
        "y": 662,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "7de7f253.4369ac",
        "type": "set",
        "name": "unset leaf-otn-tunnels-list array",
        "xml": "<set>\n<parameter name='`leaf-tunnels-list.`' value='' />\n<parameter name='`leaf-tunnels-list_length`' value='0' />\n<parameter name='`leaftunsidx`' value='0' />\n",
        "comments": "",
        "x": 1039.566650390625,
        "y": 113,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "9d19ef7b.02af28",
        "type": "comment",
        "name": "CLL new",
        "info": "construct two array structures like these:\n\n${otn-tunnels-name-list[${1}].otn-tunnel-name}\n\n----------------\n${ethernet-srv-end-points-list[${1}].ethernet-end-point-name}\n${ethernet-srv-end-points-list[${1}].index-number},\n${ethernet-srv-end-points-list[${1}].eth-node-id},\n${ethernet-srv-end-points-list[${1}].eth-node-tp-id},\n${ethernet-srv-end-points-list[${1}].leafOrRootAccess}\n${ethernet-srv-end-points-list[${1}].cvlan}\n${ethernet-srv-end-points-list[${1}].CIR}\n${ethernet-srv-end-points-list[${1}].EIR}",
        "comments": "",
        "x": 3575.566650390625,
        "y": 2139,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "b596d9f.c7daaa8",
        "type": "set",
        "name": "set root-otn-tunnels-list array",
        "xml": "<set>\n<parameter name='`root-tunnels-list[$roottunsidx].tunnel-name`' value='`$tmp.aai.vpn-binding.vpn-name`' />\n<parameter name='`root-tunnels-list[$roottunsidx].vpn-id`' value='`$tmp.aai.vpn-binding.vpn-id`' />\n<parameter name='`root-tunnels-list_length`' value='`$roottunsidx + 1`' />\n",
        "comments": "",
        "x": 3631.566650390625,
        "y": 2188,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "aeebae01.261168",
        "type": "set",
        "name": "unset root-otn-tunnels-list array",
        "xml": "<set>\n<parameter name='`root-tunnels-list.`' value='' />\n<parameter name='`root-tunnels-list_length`' value='0' />\n<parameter name='`roottunsidx`' value='0' />\n",
        "comments": "",
        "x": 1039.566650390625,
        "y": 152,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "731e9165.7bfe5",
        "type": "execute",
        "name": "execute properties",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />",
        "comments": "",
        "outputs": 1,
        "x": 1070.566650390625,
        "y": 253,
        "z": "b25656d7.85a8a8",
        "wires": [
            []
        ]
    },
    {
        "id": "c3d34fd5.00b8e8",
        "type": "save",
        "name": "get service-instance from aai",
        "xml": "<!--<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" -->\n<!--\tresource=\"service-instance\"-->\n<!--\tkey='service-instance.service-instance-id = $service-data.vnfs.vnf[$tmp.vidx].vnf-data.service-information.service-instance-id-->\n<!--         AND customer.global-customer-id = $service-data.vnfs.vnf[$tmp.vidx].vnf-data.service-information.global-customer-id -->\n<!--         AND service-subscription.service-type = $service-data.vnfs.vnf[$tmp.vidx].vnf-data.service-information.subscription-service-type'-->\n<!--\tlocal-only=\"false\"-->\n<!--\tforce=\"true\" pfx=\"tmp.aai.service-instance\">-->\n\n<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"service-instance\"\n\tkey='service-instance.service-instance-id = $vnf-topology-operation-input.service-information.service-instance-id\n         AND customer.global-customer-id = $vnf-topology-operation-input.service-information.global-customer-id \n         AND service-subscription.service-type = $vnf-topology-operation-input.service-information.subscription-service-type'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.service-instance\">\n\n\n<!--$vnf-topology-operation-input.service-information.service-instance-id-->",
        "comments": "",
        "outputs": 1,
        "x": 280.566650390625,
        "y": 728,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "39350f2.499cf7",
                "6ce2e49e.7b3484",
                "5333638f.7ecf8c"
            ]
        ]
    },
    {
        "id": "39350f2.499cf7",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 499.566650390625,
        "y": 666,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "36841c29.6decdc"
            ]
        ]
    },
    {
        "id": "6ce2e49e.7b3484",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 509.0576171875,
        "y": 708.5740356445312,
        "z": "b25656d7.85a8a8",
        "wires": [
            []
        ]
    },
    {
        "id": "5333638f.7ecf8c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 497.566650390625,
        "y": 755,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "3e93247c.aebb34"
            ]
        ]
    },
    {
        "id": "36841c29.6decdc",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for index='rel-index' start='0' end='`$tmp.aai.service-instance.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 696.566650390625,
        "y": 662,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "1f2c86c7.cadda9"
            ]
        ]
    },
    {
        "id": "3e93247c.aebb34",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 666.566650390625,
        "y": 756,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "1f2c86c7.cadda9",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.service-instance.relationship-list.relationship[$rel-index].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 919.900146484375,
        "y": 661.9999389648438,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "a1cbb7bd.24594"
            ]
        ]
    },
    {
        "id": "a1cbb7bd.24594",
        "type": "outcome",
        "name": "connectivity",
        "xml": "<outcome value='connectivity'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1120.5667839050293,
        "y": 663.000020980835,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "1f60fbe4.6df234"
            ]
        ]
    },
    {
        "id": "1f60fbe4.6df234",
        "type": "save",
        "name": "get connectivity from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"connectivity\"\n\t    key=\"connectivity.connectivity-id = $tmp.aai.service-instance.relationship-list.relationship[$rel-index].relationship-data[0].relationship-value\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.connectivity\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 250.566650390625,
        "y": 925,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "63c00e4f.b84e58",
                "13815c78.95eb5c",
                "e5780368.e11db"
            ]
        ]
    },
    {
        "id": "63c00e4f.b84e58",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 458.566650390625,
        "y": 889,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "c1076b8e.81d988"
            ]
        ]
    },
    {
        "id": "13815c78.95eb5c",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 459.0576171875,
        "y": 934.5740356445312,
        "z": "b25656d7.85a8a8",
        "wires": [
            []
        ]
    },
    {
        "id": "e5780368.e11db",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 456.566650390625,
        "y": 978,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "96cea788.4bc5b"
            ]
        ]
    },
    {
        "id": "96cea788.4bc5b",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 625.566650390625,
        "y": 979,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "ec5bb05c.091188",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='cridx' start='0' end='`$tmp.aai.connectivity.relationship-list.relationship_length`' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 597.566650390625,
        "y": 1473,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "19a0d254.b680d6"
            ]
        ]
    },
    {
        "id": "19a0d254.b680d6",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.connectivity.relationship-list.relationship[$cridx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 800.566650390625,
        "y": 1485,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "5cf33a37.92a98c"
            ]
        ]
    },
    {
        "id": "5cf33a37.92a98c",
        "type": "outcome",
        "name": "UNI",
        "xml": "<outcome value='uni'>\n",
        "comments": "",
        "outputs": 1,
        "x": 966.566650390625,
        "y": 1482,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "60d055a9.95f0c4"
            ]
        ]
    },
    {
        "id": "60d055a9.95f0c4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1127.566650390625,
        "y": 1479,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "325c2337.f5bbac",
                "282c70ac.7ebb8",
                "790547b3.03e69",
                "be332a4a.d8db58",
                "88b6396e.dee88",
                "3f4654a9.b7d9fc"
            ]
        ]
    },
    {
        "id": "282c70ac.7ebb8",
        "type": "set",
        "name": "unset tmp.aai.uni",
        "xml": "<set>\n<parameter name='tmp.aai.uni.' value='' />\n",
        "comments": "",
        "x": 1333.566650390625,
        "y": 1078.9999389648438,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "325c2337.f5bbac",
        "type": "save",
        "name": "get uni from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"uni\"\n\t    key=\"uni.id = $tmp.aai.connectivity.relationship-list.relationship[$cridx].relationship-data[0].relationship-value\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.uni\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 1330.566650390625,
        "y": 1123.9999389648438,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "5ebf3dd3.403df4",
                "df8620f2.fcde78",
                "4f82abb0.8dd704"
            ]
        ]
    },
    {
        "id": "df8620f2.fcde78",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1526.0576171875,
        "y": 1097.5739135742188,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "f317bbdf.6454e"
            ]
        ]
    },
    {
        "id": "4f82abb0.8dd704",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1521.566650390625,
        "y": 1141.9998779296875,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "ba985891.b5d178"
            ]
        ]
    },
    {
        "id": "f317bbdf.6454e",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 1688.629150390625,
        "y": 1096.859619140625,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "ba985891.b5d178",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 1689.566650390625,
        "y": 1141.9998779296875,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "d594aca6.9a4aa",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1691.566650390625,
        "y": 1188.9998779296875,
        "z": "b25656d7.85a8a8",
        "wires": [
            []
        ]
    },
    {
        "id": "5ebf3dd3.403df4",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1522.566650390625,
        "y": 1188.9998779296875,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "d594aca6.9a4aa"
            ]
        ]
    },
    {
        "id": "f22d69be.3697f8",
        "type": "comment",
        "name": "CLL new",
        "info": "construct two array structures like these:\n\n${otn-tunnels-name-list[${1}].otn-tunnel-name}\n\n----------------\n${ethernet-srv-end-points-list[${1}].ethernet-end-point-name}\n${ethernet-srv-end-points-list[${1}].index-number},\n${ethernet-srv-end-points-list[${1}].eth-node-id},\n${ethernet-srv-end-points-list[${1}].eth-node-tp-id},\n${ethernet-srv-end-points-list[${1}].leafOrRootAccess}\n${ethernet-srv-end-points-list[${1}].cvlan}\n${ethernet-srv-end-points-list[${1}].CIR}\n${ethernet-srv-end-points-list[${1}].EIR}",
        "comments": "",
        "x": 1304.566650390625,
        "y": 1710,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "790547b3.03e69",
        "type": "set",
        "name": "set ethernet-srv-end-points-list array",
        "xml": "<set>\n<!--<parameter name='`ethernet-srv-end-points-list[$epidx].ethernet-end-point-name`' value='`$tmp.aai.connectivity.connectivity-id`' />-->\n<parameter name='`ethernet-srv-end-points-list[$epidx].ethernet-end-point-name`' value='`$tmp.aai.uni.id`' />\n<parameter name='`ethernet-srv-end-points-list[$epidx].index-number`' value='0' />\n<parameter name='`ethernet-srv-end-points-list[$epidx].eth-node-id`' value='`$tmp.uni-node-id-short`' />\n<parameter name='`ethernet-srv-end-points-list[$epidx].eth-node-tp-id`' value='`$tmp.aai.uni.tp-id`' />\n<parameter name='`ethernet-srv-end-points-list[$epidx].leafOrRootAccess`' value='`$leafOrRootAccess`' />\n<parameter name='`ethernet-srv-end-points-list[$epidx].cvlan`' value='`$tmp.aai.connectivity.cvlan`' />\n<parameter name='`ethernet-srv-end-points-list[$epidx].CIR`' value='`$tmp.aai.uni.data-source * 1000000`' />\n<parameter name='`ethernet-srv-end-points-list[$epidx].EIR`' value='`$tmp.aai.uni.data-source * 1000000`' />\n\n<parameter name='`ethernet-srv-end-points-list_length`' value='`$epidx + 1`' />\n",
        "comments": "",
        "x": 1395.566650390625,
        "y": 1764,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "a6f0acc2.4c1e8",
        "type": "set",
        "name": "unset ethernet-srv-end-points-list",
        "xml": "<set>\n<parameter name='`ethernet-srv-end-points-list.`' value='' />\n<parameter name='`ethernet-srv-end-points-list_length`' value='0' />\n<parameter name='`epidx`' value='0' />",
        "comments": "",
        "x": 2072.066650390625,
        "y": 1177,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "ff492e23.69ead8",
        "type": "set",
        "name": "unset ethernet-srv-end-points-list",
        "xml": "<set>\n<parameter name='`ethernet-srv-end-points-list.`' value='' />\n<parameter name='`ethernet-srv-end-points-list_length`' value='0' />\n<parameter name='`epidx`' value='0' />",
        "comments": "",
        "x": 2077.066650390625,
        "y": 1279,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "f2cd3854.ada88",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='cridx' start='0' end='`$tmp.aai.connectivity.relationship-list.relationship_length`' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 560.566650390625,
        "y": 1729,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "6040df7.067df2"
            ]
        ]
    },
    {
        "id": "6040df7.067df2",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.connectivity.relationship-list.relationship[$cridx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 792.566650390625,
        "y": 1728,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "f4813036.0e422"
            ]
        ]
    },
    {
        "id": "f4813036.0e422",
        "type": "outcome",
        "name": "vpn-binding",
        "xml": "<outcome value='vpn-binding'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1004.566650390625,
        "y": 1729,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "21d7816d.cb9a2e"
            ]
        ]
    },
    {
        "id": "21d7816d.cb9a2e",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 260.566650390625,
        "y": 1885,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "99bd9d6a.34096",
                "25dea7fd.0f37b"
            ]
        ]
    },
    {
        "id": "25dea7fd.0f37b",
        "type": "set",
        "name": "unset tmp.aai.vpn-binding",
        "xml": "<set>\n<parameter name='tmp.aai.vpn-binding.' value='' />\n",
        "comments": "",
        "x": 495.566650390625,
        "y": 1872,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "99bd9d6a.34096",
        "type": "save",
        "name": "get vpn-binding from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"vpn-binding\"\n\t    key=\"vpn-binding.vpn-id = $tmp.aai.connectivity.relationship-list.relationship[$cridx].relationship-data[0].relationship-value\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.vpn-binding\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 485.566650390625,
        "y": 1933,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "74a706a.d47d878",
                "7274c8e3.f8fec8",
                "b6208f6.4c1eb7"
            ]
        ]
    },
    {
        "id": "7274c8e3.f8fec8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 699.0576171875,
        "y": 1917.5740356445312,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "7f886391.998a1c"
            ]
        ]
    },
    {
        "id": "b6208f6.4c1eb7",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 694.566650390625,
        "y": 1962,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "3f233556.698682"
            ]
        ]
    },
    {
        "id": "74a706a.d47d878",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 696.566650390625,
        "y": 2022,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "721ed34e.4f1714"
            ]
        ]
    },
    {
        "id": "7f886391.998a1c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 861.629150390625,
        "y": 1916.8597412109375,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "3f233556.698682",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 862.566650390625,
        "y": 1962,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "721ed34e.4f1714",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 865.566650390625,
        "y": 2021,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "fb6c612a.831f28",
                "af0310e2.931fe8"
            ]
        ]
    },
    {
        "id": "a05b5003.46c7e8",
        "type": "set",
        "name": "set sotn_value",
        "xml": "<set>\n<!--<parameter name='eth-service-name' value='`$tmp.aai.connectivityA.connectivity-id`' />-->\n<parameter name='eth-service-name' value='`$tmp.aai.connectivity.etht-svc-name`' />\n<parameter name='slice-id' value='`$vnf-topology-operation-input.service-information.service-instance-id`' />\n<parameter name='provider-id' value='`$tmp.aai.connectivity.access-provider-id`' />\n<parameter name='client-id' value='`$tmp.aai.connectivity.access-client-id`' />\n<parameter name='topology-id' value='`$tmp.aai.connectivity.access-topology-id`' />\n<parameter name='service-instance-id-or-cll-id' value='`$tmp.aai.service-instance.service-instance-id`' />\n\n<!--<parameter name='otn-tunnel-name' value='`$tmp.aai.vpn-bindingA.vpn-name`' />-->\n<!--<parameter name='ethernet-end-point-name' value='`$tmp.aai.connectivityA.connectivity-id`' />-->\n<!--<parameter name='index-number' value='0' />-->\n<!--<parameter name='eth-node-id' value='`$tmp.aai.connectivityA.access-node-id`' />-->\n<!--<parameter name='eth-node-tp-id' value='`$tmp.aai.connectivityA.access-ltp-id`' />-->\n<!--<parameter name='CIR' value='`$tmp.aai.vpn-bindingA.route-distinguisher *1000000`' />-->\n<!--<parameter name='EIR' value='`$tmp.aai.vpn-bindingA.route-distinguisher *1000000`' />-->\n<!--<parameter name='cvlan' value='`$tmp.aai.connectivityA.cvlan`' />-->\n",
        "comments": "",
        "x": 285.566650390625,
        "y": 2523,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "c5885881.921d18",
        "type": "execute",
        "name": "execute RestApiCallNode Create ethernet Service without token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.cll-ethernet-service-loop.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.url + '/restconf/data/ietf-eth-tran-service:etht-svc'`\" />\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.restapi.connection-oof-url`\" />-->\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"patch\"/>\n<parameter name='dirPath' value=\"/opt/onap/sdnc/restconfapi/yang\" />\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 407.566650390625,
        "y": 2580,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "1736d2be.a7f385",
                "11bf3fb5.747c4"
            ]
        ]
    },
    {
        "id": "1736d2be.a7f385",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 720.066650390625,
        "y": 2557,
        "z": "b25656d7.85a8a8",
        "wires": [
            []
        ]
    },
    {
        "id": "11bf3fb5.747c4",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 724.066650390625,
        "y": 2597,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "9fa6731e.bfdda"
            ]
        ]
    },
    {
        "id": "d975bee8.cbb1b8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create ethernet service rest api\" />\n",
        "comments": "",
        "x": 900.066650390625,
        "y": 2561,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "9fa6731e.bfdda",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 915.566650390625,
        "y": 2615,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "26102eb4.5bf9d2",
                "a5cf86e7.fd2ae8",
                "94107493.94d3e8",
                "c85f3994.bd81f"
            ]
        ]
    },
    {
        "id": "3a7c38a3.d1311",
        "type": "save",
        "name": "update vpn-binding resource (aka. OTN ) in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $tmp.aai.vpn-binding.vpn-id' >\n<parameter name='vpn-id' value='`$tmp.aai.vpn-binding.vpn-id`' />\n<parameter name='vpn-name' value='`$tmp.aai.vpn-binding.vpn-name`' />\n\n<parameter name='operational-status' value='Activated' />\n",
        "comments": "",
        "outputs": 1,
        "x": 1211.066650390625,
        "y": 2584,
        "z": "b25656d7.85a8a8",
        "wires": [
            []
        ]
    },
    {
        "id": "d5ebfe0.284f7",
        "type": "comment",
        "name": "TODO: FIXME",
        "info": "use proper vpn-binding id and connectivity id\n\nAlso, does CCSDK support \"update\" operation for vpn-binding and connectivity?",
        "comments": "",
        "x": 2678.066650390625,
        "y": 1935,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "26102eb4.5bf9d2",
        "type": "save",
        "name": "update connectivity resource in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $tmp.aai.connectivity.connectivity-id'>\n<parameter name='connectivity-id' value='`$tmp.aai.connectivity.connectivity-id`' />\n<parameter name='operational-status' value='Activated' />\n",
        "comments": "",
        "outputs": 1,
        "x": 1173.066650390625,
        "y": 2626,
        "z": "b25656d7.85a8a8",
        "wires": [
            []
        ]
    },
    {
        "id": "eaf51112.30b59",
        "type": "set",
        "name": "set leafOrRootAccess",
        "xml": "<set>\n<parameter name='`leafOrRootAccess`' value='ietf-eth-tran-types:leaf-access' />\n",
        "comments": "",
        "x": 2038.066650390625,
        "y": 1215,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "77e27285.394bfc",
        "type": "set",
        "name": "set leafOrRootAccess",
        "xml": "<set>\n<parameter name='`leafOrRootAccess`' value='ietf-eth-tran-types:root-primary' />\n",
        "comments": "",
        "x": 2039.066650390625,
        "y": 1319,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "1771c9d3.36c546",
        "type": "save",
        "name": "update vpn-binding A resource (aka. OTN domainA) in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $tmp.aai.vpn-bindingA.vpn-id' >\n<parameter name='vpn-id' value='`$tmp.aai.vpn-bindingA.vpn-id`' />\n<parameter name='vpn-name' value='`$tmp.aai.vpn-bindingA.vpn-name`' />\n\n<parameter name='operational-status' value='Activated' />\n",
        "comments": "",
        "outputs": 1,
        "x": 4332.566650390625,
        "y": 576,
        "z": "b25656d7.85a8a8",
        "wires": [
            []
        ]
    },
    {
        "id": "6270f9ff.6a6b4",
        "type": "save",
        "name": "update vpn-binding G resource (aka. OTN domainA) in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $tmp.aai.vpn-bindingG.vpn-id' >\n<parameter name='vpn-id' value='`$tmp.aai.vpn-bindingG.vpn-id`' />\n<parameter name='vpn-name' value='`$tmp.aai.vpn-bindingG.vpn-name`' />\n\n<parameter name='operational-status' value='Activated' />\n",
        "comments": "",
        "outputs": 1,
        "x": 4235.566650390625,
        "y": 1395,
        "z": "b25656d7.85a8a8",
        "wires": [
            []
        ]
    },
    {
        "id": "2308c235.08d20e",
        "type": "save",
        "name": "update vpn-binding B resource (aka. OTN domainB) in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $tmp.aai.vpn-bindingB.vpn-id' >\n<parameter name='vpn-id' value='`$tmp.aai.vpn-bindingB.vpn-id`' />\n<parameter name='vpn-name' value='`$tmp.aai.vpn-bindingB.vpn-name`' />\n\n<parameter name='operational-status' value='Activated' />\n",
        "comments": "",
        "outputs": 1,
        "x": 3729.566650390625,
        "y": 2067,
        "z": "b25656d7.85a8a8",
        "wires": [
            []
        ]
    },
    {
        "id": "c1076b8e.81d988",
        "type": "switchNode",
        "name": "switch connectivity is not already Activated (i.e. is either Created or Modified)",
        "xml": "<switch test=\"`$tmp.aai.connectivity.operational-status != 'Activated' `\">\n",
        "comments": "",
        "outputs": 1,
        "x": 830.566650390625,
        "y": 875,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "451a757.6fc508c",
                "8b0542af.2f9d78"
            ]
        ]
    },
    {
        "id": "451a757.6fc508c",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1193.566650390625,
        "y": 898,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "f1ea0737.b79178"
            ]
        ]
    },
    {
        "id": "8b0542af.2f9d78",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1193.566650390625,
        "y": 847,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "3e6bbe33.acc602"
            ]
        ]
    },
    {
        "id": "f1ea0737.b79178",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1349.566650390625,
        "y": 896,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "cb3a4052.881008"
            ]
        ]
    },
    {
        "id": "3e6bbe33.acc602",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1326.566650390625,
        "y": 848,
        "z": "b25656d7.85a8a8",
        "wires": [
            []
        ]
    },
    {
        "id": "b01d3963.8ea8b8",
        "type": "set",
        "name": "unset tmp.aai.vpn-binding",
        "xml": "<set>\n<parameter name='tmp.aai.vpn-binding.' value=\"\" />\n",
        "comments": "",
        "x": 2086.566650390625,
        "y": 246,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "5a0cb184.9cdf98",
        "type": "set",
        "name": "set root-otn-tunnels-list array",
        "xml": "<set>\n<parameter name='`roottunsidx`' value='`$roottunsidx + 1`' />\n",
        "comments": "",
        "x": 3628.566650390625,
        "y": 2227,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "d9cf64bd.4ed12",
        "type": "set",
        "name": "set leaf-otn-tunnels-list array",
        "xml": "<set>\n<parameter name='`leaftunsidx`' value='`$leaftunsidx + 1`' />\n",
        "comments": "",
        "x": 4218.566650390625,
        "y": 700,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "be332a4a.d8db58",
        "type": "set",
        "name": "set ethernet-srv-end-points-list array",
        "xml": "<set>\n<parameter name='`epidx`' value='`$epidx + 1`' />\n",
        "comments": "",
        "x": 1392.566650390625,
        "y": 1806,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "3501da3.a014526",
        "type": "set",
        "name": "set filename",
        "xml": "<set>\n<parameter name='filenameclleths' value=\"`$leafOrRootAccess + $tmp.aai.connectivity.access-node-id`\" />",
        "comments": "",
        "x": 571.566650390625,
        "y": 1540,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "2c2649c2.53ac7e",
        "type": "execute",
        "name": "execute printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n    <parameter name=\"filename\" value=\"`$filenameclleths`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 602.566650390625,
        "y": 1580,
        "z": "b25656d7.85a8a8",
        "wires": [
            []
        ]
    },
    {
        "id": "fb6c612a.831f28",
        "type": "set",
        "name": "set otn-tunnels-name-list array",
        "xml": "<set>\n<parameter name='`otn-tunnels-name-list[$otntunsidx].otn-tunnel-name`' value='`$tmp.aai.vpn-binding.vpn-name`' />\n<parameter name='`otn-tunnels-name-list[$otntunsidx].vpn-id`' value='`$tmp.aai.vpn-binding.vpn-id`' />\n<parameter name='`otn-tunnels-name-list_length`' value='`$otntunsidx + 1`' />\n",
        "comments": "",
        "x": 1150.566650390625,
        "y": 1988,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "af0310e2.931fe8",
        "type": "set",
        "name": "set otn-tunnels-name-list array",
        "xml": "<set>\n<parameter name='`otntunsidx`' value='`$otntunsidx + 1`' />\n",
        "comments": "",
        "x": 1153.566650390625,
        "y": 2030,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "694d6c2f.8edccc",
        "type": "set",
        "name": "unset otn-tunnels-name-list array",
        "xml": "<set>\n<parameter name='`otn-tunnels-name-list.`' value='' />\n<parameter name='`otn-tunnels-name-list_length`' value='0' />\n<parameter name='`otntunsidx`' value='0' />\n",
        "comments": "",
        "x": 596.566650390625,
        "y": 1670,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "4b32fbef.652bc4",
        "type": "set",
        "name": "set filename",
        "xml": "<set>\n<parameter name='filenamecllotns' value=\"`leafrootOTNtunnelnames`\" />",
        "comments": "",
        "x": 351.566650390625,
        "y": 2049,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "caa8a64f.1936",
        "type": "execute",
        "name": "execute printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n    <parameter name=\"filename\" value=\"`$filenamecllotns`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 359.566650390625,
        "y": 2106,
        "z": "b25656d7.85a8a8",
        "wires": [
            []
        ]
    },
    {
        "id": "88b6396e.dee88",
        "type": "execute",
        "name": "execute split tp-id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.aai.uni.id`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-uni\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1370.566650390625,
        "y": 1655,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "45e3fdbe.201574",
                "86940004.bfdd7"
            ]
        ]
    },
    {
        "id": "86940004.bfdd7",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1593.566650390625,
        "y": 1610,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "c31b8cce.808f08"
            ]
        ]
    },
    {
        "id": "45e3fdbe.201574",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1595.566650390625,
        "y": 1674,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "1cc861e4.834c36"
            ]
        ]
    },
    {
        "id": "c31b8cce.808f08",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1758.566650390625,
        "y": 1607,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "b2423aca.7a4fa8"
            ]
        ]
    },
    {
        "id": "1cc861e4.834c36",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 1757.566650390625,
        "y": 1670,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "b2423aca.7a4fa8",
        "type": "set",
        "name": "set tmp.uni-node-id-short",
        "xml": "<set>\n<parameter name='tmp.uni-node-id-short' value='`$param-prefix-uni[$param-prefix-uni_length -4]`' />\n",
        "comments": "",
        "x": 1978.566650390625,
        "y": 1621,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "45f30159.842648",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1523.566650390625,
        "y": 2346,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "195465ca.996e92"
            ]
        ]
    },
    {
        "id": "ac9df433.f2c8",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domainConn.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domainConn.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 1908.566650390625,
        "y": 2359,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "565cac1f.04fa64",
                "e43b7ac1.fcb9e",
                "7ad49b0d.e0614c"
            ]
        ]
    },
    {
        "id": "195465ca.996e92",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1702.566650390625,
        "y": 2346,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "94dbb559.adb488",
                "ac9df433.f2c8"
            ]
        ]
    },
    {
        "id": "94dbb559.adb488",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domainConn id",
        "xml": "<set>\n<parameter name='tmp.domainConn.esr-thirdparty-id' value=\"`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 1938.566650390625,
        "y": 2307,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "565cac1f.04fa64",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2118.566650390625,
        "y": 2350,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "b1dc084c.7cde9"
            ]
        ]
    },
    {
        "id": "e43b7ac1.fcb9e",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2110.566650390625,
        "y": 2405,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "385c483c.3ef568"
            ]
        ]
    },
    {
        "id": "7ad49b0d.e0614c",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2115.566650390625,
        "y": 2462,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "35f4b5a3.f8aa4a"
            ]
        ]
    },
    {
        "id": "35f4b5a3.f8aa4a",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 2267.566650390625,
        "y": 2463,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "385c483c.3ef568",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 2278.566650390625,
        "y": 2408,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "b1dc084c.7cde9",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2262.948974609375,
        "y": 2347.6556701660156,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "5d32a434.f7be54"
            ]
        ]
    },
    {
        "id": "5d32a434.f7be54",
        "type": "set",
        "name": "set controller domainConn data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainConn.url' value=\"`$tmp.aai.domainConn.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainConn.user' value=\"`$tmp.aai.domainConn.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainConn.password' value=\"`$tmp.aai.domainConn.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 2477.566650390625,
        "y": 2344,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "51bc490a.0719c",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.pnf-name-forUrl\"\n        pfx='tmp.aai.source-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 601.566650390625,
        "y": 2392,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "9a98fb41.58116",
                "d11dcfed.810438",
                "f803d5ab.85238"
            ]
        ]
    },
    {
        "id": "9a98fb41.58116",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 797.0667724609375,
        "y": 2344,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "98bce7a3.da5e"
            ]
        ]
    },
    {
        "id": "d11dcfed.810438",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 789.0667724609375,
        "y": 2399,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "71f2762f.659628"
            ]
        ]
    },
    {
        "id": "98bce7a3.da5e",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 941.4490966796875,
        "y": 2343.6556701660156,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "c67046c0.c64788"
            ]
        ]
    },
    {
        "id": "c67046c0.c64788",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='spvidx' start='0' end='`$tmp.aai.source-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1125.566650390625,
        "y": 2342,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "5f0a1eb2.b2273"
            ]
        ]
    },
    {
        "id": "5f0a1eb2.b2273",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1320.566650390625,
        "y": 2342,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "45f30159.842648"
            ]
        ]
    },
    {
        "id": "f803d5ab.85238",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 794.0667724609375,
        "y": 2456,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "33262ba5.8d682c"
            ]
        ]
    },
    {
        "id": "33262ba5.8d682c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 946.0667724609375,
        "y": 2457,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "71f2762f.659628",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 957.0667724609375,
        "y": 2400,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "808535b.d0bfd48",
        "type": "set",
        "name": "set tmp.pnf-name-forUrl",
        "xml": "<set>\n\n<parameter name='tmp.pnf-name-forUrl' value=\"`'networkId-providerId-' +\n                                                   $tmp.aai.connectivity.access-provider-id + '-clientId-' +\n                                                   $tmp.aai.connectivity.access-client-id + '-topologyId-' +\n                                                   $tmp.aai.connectivity.access-topology-id + '-nodeId-' +\n                                                   $tmp.aai.connectivity.access-node-id`\" />\n",
        "comments": "",
        "x": 591.566650390625,
        "y": 2304,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "6e3ab27b.a7f37c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 336.566650390625,
        "y": 2435,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "808535b.d0bfd48",
                "51bc490a.0719c"
            ]
        ]
    },
    {
        "id": "dc357fe5.d2f6d8",
        "type": "comment",
        "name": "Temporary skipping this check - to support multiple instances in one slice",
        "info": "",
        "comments": "",
        "x": 1551.5333251953125,
        "y": 252.88333129882812,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "a92b97b8.4129e8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 753.566650390625,
        "y": 475,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "baa368e2.d0057",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 313.066650390625,
        "y": 1444,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "ec5bb05c.091188",
                "f2cd3854.ada88",
                "3501da3.a014526",
                "2c2649c2.53ac7e",
                "a05b5003.46c7e8",
                "c5885881.921d18",
                "694d6c2f.8edccc",
                "4b32fbef.652bc4",
                "caa8a64f.1936",
                "6e3ab27b.a7f37c",
                "5a72a2f9.fe54bc"
            ]
        ]
    },
    {
        "id": "3f4654a9.b7d9fc",
        "type": "switchNode",
        "name": "switch uni type",
        "xml": "<switch test=\"`$tmp.aai.uni.type`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1343.566650390625,
        "y": 1282,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "118223c9.ee1e8c",
                "5e72886e.16b82",
                "9ad14e96.a683a8",
                "b20e668c.49e0a"
            ]
        ]
    },
    {
        "id": "118223c9.ee1e8c",
        "type": "outcome",
        "name": "leaf",
        "xml": "<outcome value='leaf'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1508.566650390625,
        "y": 1264,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "4829f132.924c9"
            ]
        ]
    },
    {
        "id": "5e72886e.16b82",
        "type": "outcome",
        "name": "root",
        "xml": "<outcome value='root'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1511.566650390625,
        "y": 1303,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "1b6bbf84.2b9b8"
            ]
        ]
    },
    {
        "id": "b20e668c.49e0a",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1505.566650390625,
        "y": 1381,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "23f70279.3c530e"
            ]
        ]
    },
    {
        "id": "9ad14e96.a683a8",
        "type": "outcome",
        "name": "root-secondary",
        "xml": "<outcome value='root-secondary'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1528.566650390625,
        "y": 1344,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "690a7c3c.e28bc4"
            ]
        ]
    },
    {
        "id": "34596fcc.944e58",
        "type": "set",
        "name": "unset ethernet-srv-end-points-list",
        "xml": "<set>\n<parameter name='`ethernet-srv-end-points-list.`' value='' />\n<parameter name='`ethernet-srv-end-points-list_length`' value='0' />\n<parameter name='`epidx`' value='0' />",
        "comments": "",
        "x": 2074.566650390625,
        "y": 1377,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "36c4b896.3cd558",
        "type": "set",
        "name": "set leafOrRootAccess",
        "xml": "<set>\n<parameter name='`leafOrRootAccess`' value='ietf-eth-tran-types:root-secondary' />\n",
        "comments": "",
        "x": 2036.566650390625,
        "y": 1417,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "23f70279.3c530e",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1657.566650390625,
        "y": 1402,
        "z": "b25656d7.85a8a8",
        "wires": [
            []
        ]
    },
    {
        "id": "a5cf86e7.fd2ae8",
        "type": "execute",
        "name": "execute RestApiCallNode Create Performance Monitoring Data",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.cll-create-pm-data.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.url + '/restconf/data/ietf-service-pm:performance-monitoring'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"patch\"/>\n<parameter name='dirPath' value=\"/opt/onap/sdnc/restconfapi/yang\" />\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1247.1500244140625,
        "y": 2701.3336181640625,
        "z": "b25656d7.85a8a8",
        "wires": [
            []
        ]
    },
    {
        "id": "4829f132.924c9",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1643.4832763671875,
        "y": 1260.333251953125,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "eaf51112.30b59"
            ]
        ]
    },
    {
        "id": "1b6bbf84.2b9b8",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1645.4832763671875,
        "y": 1298.333251953125,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "77e27285.394bfc"
            ]
        ]
    },
    {
        "id": "690a7c3c.e28bc4",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1688.4832763671875,
        "y": 1345.333251953125,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "36c4b896.3cd558"
            ]
        ]
    },
    {
        "id": "94107493.94d3e8",
        "type": "execute",
        "name": "execute RestconfDiscoveryNode establishSubscription",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restconfdiscovery.RestconfDiscoveryNode' method='establishSubscriptionOnly' >\n<parameter name=\"subscriberId\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.url`\" />\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.cll-subscribe-notification.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.url + '/restconf/operations/ietf-subscribed-notifications:establish-subscription'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.password`\" />\n<parameter name=\"dirPath\" value=\"/opt/sdnc/restconfapi/yang/notification\" />\n<!--<parameter name=\"deviceIp\" value=\"192.168.198.6\" />-->\n<!--<parameter name=\"devicePort\" value=\"18181\" />-->\n<parameter name=\"sseConnectURL\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.url + '/restconf/streams/yang-push-json'`\" />\n<parameter name=\"format\" value=\"json\" />\n<parameter name=\"httpMethod\" value=\"post\" />\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"X-ACCESS-TOKEN=x-ik2ps4ikvzupbx0486ft1ebzs7rt85futh9ho6eofy3wjsap7wqktemlqm4bbsmnar3vrtbyrzukbv5itd6m1cftldpjarnyle3sdcqq9hftc4lebz464b5ffxmlbvg9\" />\n<parameter name=\"module\" value=\"GENERIC-RESOURCE-API\" />\n<parameter name=\"rpc\" value=\"cll-vnf-topology-operation-cll-callbackdg-notification\" />\n<parameter name=\"version\" value=\"777\" />\n<parameter name=\"mode\" value=\"sync\" />\n<!--<parameter name=\"version\" value=\"sync\" />-->\n<!--<parameter name=\"mode\" value=\"777\" />-->\n<parameter name=\"responsePrefix\" value=\"restapi-result\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1215.1500244140625,
        "y": 2773.33349609375,
        "z": "b25656d7.85a8a8",
        "wires": [
            []
        ]
    },
    {
        "id": "c85f3994.bd81f",
        "type": "execute",
        "name": "execute RestconfDiscoveryNode establishPersistentConnection",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restconfdiscovery.RestconfDiscoveryNode' method='establishPersistentSseConnection' >\n<parameter name=\"subscriberId\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.url`\" />\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.cll-subscribe-notification.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.url + '/restconf/operations/ietf-subscribed-notifications:establish-subscription'`\" />\n<parameter name=\"sseConnectURL\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.url + '/restconf/streams/yang-push-json'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.password`\" />\n<parameter name=\"dirPath\" value=\"/opt/sdnc/restconfapi/yang/notification\" />\n<parameter name=\"format\" value=\"json\" />\n<parameter name=\"httpMethod\" value=\"get\" />\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"X-ACCESS-TOKEN=x-ik2ps4ikvzupbx0486ft1ebzs7rt85futh9ho6eofy3wjsap7wqktemlqm4bbsmnar3vrtbyrzukbv5itd6m1cftldpjarnyle3sdcqq9hftc4lebz464b5ffxmlbvg9\" />\n<parameter name=\"module\" value=\"GENERIC-RESOURCE-API\" />\n<parameter name=\"rpc\" value=\"cll-vnf-topology-operation-cll-callbackdg-notification\" />\n<parameter name=\"version\" value=\"777\" />\n<parameter name=\"mode\" value=\"sync\" />\n<!--<parameter name=\"version\" value=\"sync\" />-->\n<!--<parameter name=\"mode\" value=\"777\" />-->\n<parameter name=\"responsePrefix\" value=\"notification-get-result\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1245.1500244140625,
        "y": 2835.33349609375,
        "z": "b25656d7.85a8a8",
        "wires": [
            []
        ]
    },
    {
        "id": "5a72a2f9.fe54bc",
        "type": "set",
        "name": "unset ethernet-srv-end-points-list",
        "xml": "<set>\n<parameter name='`ethernet-srv-end-points-list.`' value='' />\n<parameter name='`ethernet-srv-end-points-list_length`' value='0' />\n<parameter name='`epidx`' value='0' />",
        "comments": "",
        "x": 638.566650390625,
        "y": 1382.166748046875,
        "z": "b25656d7.85a8a8",
        "wires": []
    },
    {
        "id": "cb3a4052.881008",
        "type": "switchNode",
        "name": "switch conn type",
        "xml": "<switch test=\"`$tmp.aai.connectivity.vpn-type`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 179.56666564941406,
        "y": 1093.1666259765625,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "f5718cb9.775688",
                "eaa991b9.45489"
            ]
        ]
    },
    {
        "id": "eaa991b9.45489",
        "type": "outcome",
        "name": "root",
        "xml": "<outcome value='root'>\n",
        "comments": "",
        "outputs": 1,
        "x": 364.566650390625,
        "y": 1267.1666259765625,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "baa368e2.d0057"
            ]
        ]
    },
    {
        "id": "f5718cb9.775688",
        "type": "outcome",
        "name": "leaf",
        "xml": "<outcome value='leaf'>\n",
        "comments": "",
        "outputs": 1,
        "x": 367.566650390625,
        "y": 1222.1666259765625,
        "z": "b25656d7.85a8a8",
        "wires": [
            [
                "baa368e2.d0057"
            ]
        ]
    }
]