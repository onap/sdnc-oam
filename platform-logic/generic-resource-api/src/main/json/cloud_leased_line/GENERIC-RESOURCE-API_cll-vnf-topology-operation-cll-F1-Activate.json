[
    {
        "id": "b052f7e.a3d5288",
        "type": "save",
        "name": "get all-vpn-bindings from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"vpn-bindings\"\n\t    key=\"selflink = 'https://aai.onap:8443/aai/v24/network/vpn-bindings\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.all-vpn-bindings\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 356.75,
        "y": 462,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "e207ef26.f8a29",
                "15b30bbc.e66fc4",
                "c73b1c6f.dfba4"
            ]
        ]
    },
    {
        "id": "e207ef26.f8a29",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 544.75,
        "y": 475,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "53374de6.fbbc9c"
            ]
        ]
    },
    {
        "id": "15b30bbc.e66fc4",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 552.2409362792969,
        "y": 517.5740356445312,
        "z": "111f91bb.269a56",
        "wires": [
            []
        ]
    },
    {
        "id": "c73b1c6f.dfba4",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 542.75,
        "y": 564,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "1d9a3789.c423c"
            ]
        ]
    },
    {
        "id": "53374de6.fbbc9c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 717.75,
        "y": 473,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "74134804.4c5ab"
            ]
        ]
    },
    {
        "id": "74134804.4c5ab",
        "type": "for",
        "name": "for vpnidx in all-vpn-bindings",
        "xml": "<for index='vpnbidx' start='0' end='`$tmp.aai.all-vpn-bindings.vpn-binding_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 946.75,
        "y": 474,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "88398d04.70bb08"
            ]
        ]
    },
    {
        "id": "88398d04.70bb08",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1161.75,
        "y": 475,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "60755719.5aec98"
            ]
        ]
    },
    {
        "id": "23c1dec0.4bd442",
        "type": "switchNode",
        "name": "switch vpnuuid is for this slice",
        "xml": "<!--<switch test=\"`$tmp.slicevpnuuids[$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].vpn-id] != '' `\">-->\n\n<!-- Replace vpn-type with slice-id (a new attribbute in the latest AAI) -->\n<switch test=\"`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].slice-id == $tmp.aai.service-instance.service-instance-id `\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1415.75,
        "y": 397,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "14654146.223b47",
                "d151f4bf.d5f298"
            ]
        ]
    },
    {
        "id": "14654146.223b47",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1632.75,
        "y": 376,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "60755719.5aec98"
            ]
        ]
    },
    {
        "id": "d151f4bf.d5f298",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1632.75,
        "y": 425,
        "z": "111f91bb.269a56",
        "wires": [
            []
        ]
    },
    {
        "id": "60755719.5aec98",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1816.75,
        "y": 462,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "e58078ca.32c2b8",
                "db55a5db.cc9e2",
                "d1721022.90ae5"
            ]
        ]
    },
    {
        "id": "ebc2ede2.3e82f8",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 175.75,
        "y": 203,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "19d2750a.7ada53"
            ]
        ]
    },
    {
        "id": "19d2750a.7ada53",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 460.0356903076172,
        "y": 264.23810863494873,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "32b35910.0922e6"
            ]
        ]
    },
    {
        "id": "32b35910.0922e6",
        "type": "method",
        "name": "method cll-vnf-topology-operation-cll-F1-Activate",
        "xml": "<method rpc='cll-vnf-topology-operation-cll-F1-Activate' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 466.17860412597656,
        "y": 349.0000305175781,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "9f4c6f10.a708b"
            ]
        ]
    },
    {
        "id": "9f4c6f10.a708b",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 775.988037109375,
        "y": 340.66668701171875,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "b052f7e.a3d5288",
                "14b40144.c74357",
                "8371652a.c1422",
                "ab74b4be.cbc48",
                "77984a30.f32474"
            ]
        ]
    },
    {
        "id": "e58078ca.32c2b8",
        "type": "set",
        "name": "set tmp.aai.vpn-binding",
        "xml": "<set>\n<parameter name='tmp.aai.vpn-binding.' value=\"`$tmp.aai.all-vpn-bindings.vpn-binding[$vpnbidx].`\" />\n",
        "comments": "",
        "x": 2033.75,
        "y": 400,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "bd448e7d.80d888",
        "type": "set",
        "name": "set attachment_param for OTN A",
        "xml": "<set>\n<parameter name='src-node-id' value='`$tmp.aai.vpn-bindingA.src-access-node-id`' />\n<parameter name='dst-node-id' value='`$tmp.aai.vpn-bindingA.dst-access-node-id`' />\n<!--<parameter name='dst-tpn-id' value='1' />-->\n<parameter name='dst-tpn-id' value='`$tmp.aai.vpn-bindingA.customer-vpn-id`' />\n<parameter name='dst-ttp-id' value='`$tmp.aai.vpn-bindingA.dst-access-ltp-id`' />\n<parameter name='slice-instance-id' value='`$tmp.aai.service-instance.service-instance-id`' />\n<parameter name='otn-tunnel-name-src-domain' value='`$tmp.aai.vpn-bindingA.vpn-name`' />\n<parameter name='client-id' value='`$tmp.aai.vpn-bindingA.access-client-id`' />\n<parameter name='provider-id' value='`$tmp.aai.vpn-bindingA.access-provider-id`' />\n<parameter name='topology-id' value='`$tmp.aai.vpn-bindingA.access-topology-id`' />\n",
        "comments": "",
        "x": 4202.75,
        "y": 286,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "13f5ead.1dca895",
        "type": "execute",
        "name": "execute RestApiCallNode Create OTN tunnel with token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.cll-otn-src-domain-creation.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainA.url + '/restconf/data/ietf-te:te'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainA.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainA.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"patch\"/>\n<parameter name=\"responsePrefix\" value=\"otn-oof\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 4283.75,
        "y": 601,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "322b352.ceea84a",
                "b686bcae.ff7c7"
            ]
        ]
    },
    {
        "id": "322b352.ceea84a",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4593.25,
        "y": 570,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "1e1970be.0764a7"
            ]
        ]
    },
    {
        "id": "b686bcae.ff7c7",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4598.25,
        "y": 635,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "bd24692b.5a8508"
            ]
        ]
    },
    {
        "id": "1e1970be.0764a7",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create OTN tunnel rest api\" />\n",
        "comments": "",
        "x": 4769.25,
        "y": 570,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "bd24692b.5a8508",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4764.75,
        "y": 635,
        "z": "111f91bb.269a56",
        "wires": [
            []
        ]
    },
    {
        "id": "bdfec131.c9a298",
        "type": "set",
        "name": "set sotn_value",
        "xml": "<set>\n<!--<parameter name='eth-service-name' value='`$tmp.aai.connectivityA.connectivity-id`' />-->\n<parameter name='eth-service-name' value='`$tmp.aai.connectivityA.etht-svc-name`' />\n<parameter name='slice-id' value='`$vnf-topology-operation-input.service-information.service-instance-id`' />\n<parameter name='provider-id' value='`$tmp.aai.connectivityA.access-provider-id`' />\n<parameter name='client-id' value='`$tmp.aai.connectivityA.access-client-id`' />\n<parameter name='topology-id' value='`$tmp.aai.connectivityA.access-topology-id`' />\n<parameter name='otn-tunnel-name' value='`$tmp.aai.vpn-bindingA.vpn-name`' />\n<parameter name='ethernet-end-point-name' value='`$tmp.aai.connectivityA.connectivity-id`' />\n<parameter name='index-number' value='0' />\n<parameter name='eth-node-id' value='`$tmp.aai.connectivityA.access-node-id`' />\n<parameter name='eth-node-tp-id' value='`$tmp.aai.connectivityA.access-ltp-id`' />\n<parameter name='CIR' value='`$tmp.aai.vpn-bindingA.route-distinguisher *1000000`' />\n<parameter name='EIR' value='`$tmp.aai.vpn-bindingA.route-distinguisher *1000000`' />\n<parameter name='cvlan' value='`$tmp.aai.connectivityA.cvlan`' />\n",
        "comments": "",
        "x": 4148.25,
        "y": 855,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "68cdfef7.64c51",
        "type": "execute",
        "name": "execute RestApiCallNode Create ethernet Service without token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.ts-ethernet-service.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainA.url + '/restconf/data/ietf-eth-tran-service:etht-svc'`\" />\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.restapi.connection-oof-url`\" />-->\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainA.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainA.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"patch\"/>\n<parameter name='dirPath' value=\"/opt/onap/sdnc/restconfapi/yang\" />\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 4302.25,
        "y": 903,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "534fa647.cdf3",
                "626cbb12.a73134"
            ]
        ]
    },
    {
        "id": "534fa647.cdf3",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4647.75,
        "y": 884,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "2db65967.f1a87e"
            ]
        ]
    },
    {
        "id": "626cbb12.a73134",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4651.75,
        "y": 924,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "54fc5ed8.18991"
            ]
        ]
    },
    {
        "id": "2db65967.f1a87e",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create ethernet service rest api\" />\n",
        "comments": "",
        "x": 4805.75,
        "y": 884,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "54fc5ed8.18991",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4809.25,
        "y": 924,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "5bbebd3d.56e454",
                "7821e9b0.59a868"
            ]
        ]
    },
    {
        "id": "5bbebd3d.56e454",
        "type": "save",
        "name": "update vpn-binding A resource (aka. OTN domainA) in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $tmp.aai.vpn-bindingA.vpn-id' >\n<parameter name='vpn-id' value='`$tmp.aai.vpn-bindingA.vpn-id`' />\n<parameter name='vpn-name' value='`$tmp.aai.vpn-bindingA.vpn-name`' />\n\n<parameter name='operational-status' value='Activated' />\n",
        "comments": "",
        "outputs": 1,
        "x": 5139.75,
        "y": 889,
        "z": "111f91bb.269a56",
        "wires": [
            []
        ]
    },
    {
        "id": "72ed7974.8997",
        "type": "comment",
        "name": "TODO: FIXME",
        "info": "use proper vpn-binding id and connectivity id\n\nAlso, does CCSDK support \"update\" operation for vpn-binding and connectivity?",
        "comments": "",
        "x": 5003.75,
        "y": 848,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "7821e9b0.59a868",
        "type": "save",
        "name": "update connectivity resource in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $tmp.aai.connectivityA.connectivity-id'>\n<parameter name='connectivity-id' value='`$tmp.aai.connectivityA.connectivity-id`' />\n<parameter name='operational-status' value='Activated' />\n",
        "comments": "",
        "outputs": 1,
        "x": 5066.75,
        "y": 935,
        "z": "111f91bb.269a56",
        "wires": [
            []
        ]
    },
    {
        "id": "47a40348.350864",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.src.domainA.pnf-name' value=\"`'networkId-providerId-' +\n                                                   $tmp.aai.vpn-bindingA.access-provider-id + '-clientId-' +\n                                                   $tmp.aai.vpn-bindingA.access-client-id + '-topologyId-' +\n                                                   $tmp.aai.vpn-bindingA.access-topology-id + '-nodeId-' +\n                                                   $tmp.aai.vpn-bindingA.src-access-node-id`\" />\n",
        "comments": "",
        "x": 4140.75,
        "y": 334,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "e86c4698.44de68",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.src.domainA.pnf-name\"\n        pfx='tmp.aai.source-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 4166.75,
        "y": 451,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "3bef2a94.7a3c56",
                "8e5e548f.b7d088",
                "9e92c765.4c36e"
            ]
        ]
    },
    {
        "id": "3bef2a94.7a3c56",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4362.2501220703125,
        "y": 403,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "8ae11b21.8072d"
            ]
        ]
    },
    {
        "id": "8e5e548f.b7d088",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4354.2501220703125,
        "y": 458,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "85930301.e40178"
            ]
        ]
    },
    {
        "id": "8ae11b21.8072d",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4506.6324462890625,
        "y": 402.6556701660156,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "2b001bb5.f3beac"
            ]
        ]
    },
    {
        "id": "44cbb5eb.fe11fc",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5088.75,
        "y": 405,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "8828c3a6.4773b"
            ]
        ]
    },
    {
        "id": "2b001bb5.f3beac",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='spvidx' start='0' end='`$tmp.aai.source-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4690.75,
        "y": 401,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "e234651a.d8201"
            ]
        ]
    },
    {
        "id": "e234651a.d8201",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4885.75,
        "y": 401,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "44cbb5eb.fe11fc"
            ]
        ]
    },
    {
        "id": "9e92c765.4c36e",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4359.2501220703125,
        "y": 515,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "2e1c6b8c.8fd4dc"
            ]
        ]
    },
    {
        "id": "2e1c6b8c.8fd4dc",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4511.2501220703125,
        "y": 516,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "85930301.e40178",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4522.2501220703125,
        "y": 459,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "90e4153e.8023d8",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domainA.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domainA.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 5473.75,
        "y": 418,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "bac51d99.85cdd8",
                "432bf875.253be8",
                "32be30ae.8624b"
            ]
        ]
    },
    {
        "id": "8828c3a6.4773b",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5267.75,
        "y": 405,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "580b4f3c.2239f",
                "90e4153e.8023d8"
            ]
        ]
    },
    {
        "id": "580b4f3c.2239f",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domainA id",
        "xml": "<set>\n<parameter name='tmp.domainA.esr-thirdparty-id' value=\"`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 5503.75,
        "y": 366,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "bac51d99.85cdd8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5683.75,
        "y": 409,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "7a8928ea.c03e88"
            ]
        ]
    },
    {
        "id": "432bf875.253be8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5675.75,
        "y": 464,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "609d607b.1ff68"
            ]
        ]
    },
    {
        "id": "32be30ae.8624b",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5680.75,
        "y": 521,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "e7f093f9.7ecc4"
            ]
        ]
    },
    {
        "id": "e7f093f9.7ecc4",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5832.75,
        "y": 522,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "609d607b.1ff68",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5843.75,
        "y": 467,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "7a8928ea.c03e88",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5828.13232421875,
        "y": 406.6556701660156,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "d93996e8.177a9"
            ]
        ]
    },
    {
        "id": "d93996e8.177a9",
        "type": "set",
        "name": "set controller domainA data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainA.url' value=\"`$tmp.aai.domainA.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainA.user' value=\"`$tmp.aai.domainA.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainA.password' value=\"`$tmp.aai.domainA.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 6042.75,
        "y": 403,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "a51ca3ec.fcbd9",
        "type": "set",
        "name": "set attachment_param for OTN B",
        "xml": "<set>\n<parameter name='src-node-id' value='`$tmp.aai.vpn-bindingB.src-access-node-id`' />\n<parameter name='dst-node-id' value='`$tmp.aai.vpn-bindingB.dst-access-node-id`' />\n<!--<parameter name='src-tpn-id' value='1' />-->\n<parameter name='src-tpn-id' value='`$tmp.aai.vpn-bindingB.customer-vpn-id`' />\n<parameter name='src-ttp-id' value='`$tmp.aai.vpn-bindingB.src-access-ltp-id`' />\n<parameter name='slice-instance-id' value='`$tmp.aai.service-instance.service-instance-id`' />\n<parameter name='otn-tunnel-name-dst-domain' value='`$tmp.aai.vpn-bindingB.vpn-name`' />\n<parameter name='client-id' value='`$tmp.aai.vpn-bindingB.access-client-id`' />\n<parameter name='provider-id' value='`$tmp.aai.vpn-bindingB.access-provider-id`' />\n<parameter name='topology-id' value='`$tmp.aai.vpn-bindingB.access-topology-id`' />\n",
        "comments": "",
        "x": 3609.75,
        "y": 1743,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "75a3839f.237ba4",
        "type": "execute",
        "name": "execute RestApiCallNode Create OTN tunnel with token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.cll-otn-dst-domain-creation.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainB.url + '/restconf/data/ietf-te:te'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainB.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainB.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"patch\"/>\n<parameter name=\"responsePrefix\" value=\"otn-oof\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 3672.75,
        "y": 2072,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "dce36923.840728",
                "157f1852.8f7de8"
            ]
        ]
    },
    {
        "id": "dce36923.840728",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3968.25,
        "y": 2039,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "c9eb5c3d.58ade8"
            ]
        ]
    },
    {
        "id": "157f1852.8f7de8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3973.25,
        "y": 2104,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "ee455d7a.4369c"
            ]
        ]
    },
    {
        "id": "c9eb5c3d.58ade8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create OTN tunnel rest api\" />\n",
        "comments": "",
        "x": 4136.25,
        "y": 2039,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "ee455d7a.4369c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4146.75,
        "y": 2104,
        "z": "111f91bb.269a56",
        "wires": [
            []
        ]
    },
    {
        "id": "93204f2.1b4a73",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.dst.domainB.pnf-name' value=\"`'networkId-providerId-' +\n                                                   $tmp.aai.vpn-bindingB.access-provider-id + '-clientId-' +\n                                                   $tmp.aai.vpn-bindingB.access-client-id + '-topologyId-' +\n                                                   $tmp.aai.vpn-bindingB.access-topology-id + '-nodeId-' +\n                                                   $tmp.aai.vpn-bindingB.dst-access-node-id`\" />\n",
        "comments": "",
        "x": 3548.75,
        "y": 1800,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "4ba3f303.c0a41c",
        "type": "get-resource",
        "name": "get-resource dst pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.dst.domainB.pnf-name\"\n        pfx='tmp.aai.destination-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 3568.75,
        "y": 1897,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "cb100a9c.e2d048",
                "ffd6b507.6159d",
                "7158557b.4eb374"
            ]
        ]
    },
    {
        "id": "cb100a9c.e2d048",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3771.2501220703125,
        "y": 1850,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "e6720bf0.83c908"
            ]
        ]
    },
    {
        "id": "ffd6b507.6159d",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3763.2501220703125,
        "y": 1905,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "80e1f285.9bd438"
            ]
        ]
    },
    {
        "id": "e6720bf0.83c908",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3915.6324462890625,
        "y": 1847.6556701660156,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "62828788.5424"
            ]
        ]
    },
    {
        "id": "62828788.5424",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='dpvidx' start='0' end='`$tmp.aai.destination-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4099.75,
        "y": 1862,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "151698eb.d8b1bf"
            ]
        ]
    },
    {
        "id": "7158557b.4eb374",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3768.2501220703125,
        "y": 1962,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "4f499dcc.5ccf54"
            ]
        ]
    },
    {
        "id": "4f499dcc.5ccf54",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 3920.2501220703125,
        "y": 1963,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "80e1f285.9bd438",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 3931.2501220703125,
        "y": 1908,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "48500cb6.0a5974",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4497.75,
        "y": 1866,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "9253635.59581a"
            ]
        ]
    },
    {
        "id": "151698eb.d8b1bf",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.destination-pnf.relationship-list.relationship[$dpvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4294.75,
        "y": 1862,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "48500cb6.0a5974"
            ]
        ]
    },
    {
        "id": "a71424bd.8e0678",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domainB.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domainB.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 4882.75,
        "y": 1865,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "a7626fee.35776",
                "f55d0ed2.02e038",
                "47407f5a.98f7f8"
            ]
        ]
    },
    {
        "id": "9253635.59581a",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4674.75,
        "y": 1858,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "3d578b8.a79bc74",
                "a71424bd.8e0678"
            ]
        ]
    },
    {
        "id": "3d578b8.a79bc74",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domainB id",
        "xml": "<set>\n<parameter name='tmp.domainB.esr-thirdparty-id' value=\"`$tmp.aai.destination-pnf.relationship-list.relationship[$dpvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 4912.75,
        "y": 1813,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "d6ea76ec.6a17f8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5241.75,
        "y": 1969,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "2c34e3d1.56f314",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5252.75,
        "y": 1914,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "fae51f86.36cbd8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5237.13232421875,
        "y": 1853.6556701660156,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "e7fe4b79.28daf8"
            ]
        ]
    },
    {
        "id": "e7fe4b79.28daf8",
        "type": "set",
        "name": "set controller domainB data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainB.url' value=\"`$tmp.aai.domainB.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainB.user' value=\"`$tmp.aai.domainB.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainB.password' value=\"`$tmp.aai.domainB.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 5451.75,
        "y": 1850,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "a7626fee.35776",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5092.75,
        "y": 1856,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "fae51f86.36cbd8"
            ]
        ]
    },
    {
        "id": "f55d0ed2.02e038",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5084.75,
        "y": 1911,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "2c34e3d1.56f314"
            ]
        ]
    },
    {
        "id": "47407f5a.98f7f8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5089.75,
        "y": 1968,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "d6ea76ec.6a17f8"
            ]
        ]
    },
    {
        "id": "3dd6564a.788bea",
        "type": "switchNode",
        "name": "switch vpn-binding has dst-access-ltp",
        "xml": "<switch test='`$tmp.aai.vpn-binding.dst-access-ltp-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3123.75,
        "y": 814,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "4498685c.f8a9c8",
                "ce59ca85.515708"
            ]
        ]
    },
    {
        "id": "4498685c.f8a9c8",
        "type": "outcome",
        "name": "Null",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 3337.75,
        "y": 851,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "b9aa4ba2.44d89"
            ]
        ]
    },
    {
        "id": "ce59ca85.515708",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3339.75,
        "y": 789,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "50bc7adf.71a1d4"
            ]
        ]
    },
    {
        "id": "b9aa4ba2.44d89",
        "type": "switchNode",
        "name": "switch vpn-binding has src-access-ltp",
        "xml": "<switch test='`$tmp.aai.vpn-binding.src-access-ltp-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2917.75,
        "y": 2094,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "28dcb01c.f45e6",
                "415698c1.9dad18"
            ]
        ]
    },
    {
        "id": "28dcb01c.f45e6",
        "type": "outcome",
        "name": "Null",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 3170.75,
        "y": 2128,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "8cf945af.2f52c8"
            ]
        ]
    },
    {
        "id": "415698c1.9dad18",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3170.75,
        "y": 2072,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "c8aba811.103238"
            ]
        ]
    },
    {
        "id": "8cf945af.2f52c8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 3321.75,
        "y": 2128,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "eb2e2de2.a53528",
        "type": "set",
        "name": "set vpn-bindingA and connectivityA",
        "xml": "<set>\n<parameter name='tmp.aai.vpn-bindingA.' value=\"`$tmp.aai.vpn-binding.`\" />\n<parameter name='tmp.aai.connectivityA.' value=\"`$tmp.aai.connectivity.`\" />\n",
        "comments": "",
        "x": 4197.75,
        "y": 226,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "15f47b8b.7e00dc",
        "type": "set",
        "name": "set vpn-bindingB and connectivityB",
        "xml": "<set>\n<parameter name='tmp.aai.vpn-bindingB.' value=\"`$tmp.aai.vpn-binding.`\" />\n<parameter name='tmp.aai.connectivityB.' value=\"`$tmp.aai.connectivity.`\" />\n\n",
        "comments": "",
        "x": 3605.75,
        "y": 1685,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "9c2c3c17.6c4b68",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3888.75,
        "y": 483,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "eb2e2de2.a53528",
                "bd448e7d.80d888",
                "47a40348.350864",
                "e86c4698.44de68",
                "13f5ead.1dca895",
                "94ce35b5.84e9d",
                "9dbb6108.db3f08",
                "7f10b67d.13cbf"
            ]
        ]
    },
    {
        "id": "c8aba811.103238",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3321.75,
        "y": 2071,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "15f47b8b.7e00dc",
                "a51ca3ec.fcbd9",
                "93204f2.1b4a73",
                "4ba3f303.c0a41c",
                "75a3839f.237ba4",
                "b13189f3.5c00c",
                "72e7ea14.321c0c",
                "a1c10f72.410b08"
            ]
        ]
    },
    {
        "id": "30be8f1c.c2c68",
        "type": "set",
        "name": "set sotn_value",
        "xml": "<set>\n<!--<parameter name='eth-service-name' value='`$tmp.aai.connectivityB.connectivity-id`' />-->\n<parameter name='eth-service-name' value='`$tmp.aai.connectivityB.etht-svc-name`' />\n<parameter name='slice-id' value='`$vnf-topology-operation-input.service-information.service-instance-id`' />\n<parameter name='provider-id' value='`$tmp.aai.connectivityB.access-provider-id`' />\n<parameter name='client-id' value='`$tmp.aai.connectivityB.access-client-id`' />\n<parameter name='topology-id' value='`$tmp.aai.connectivityB.access-topology-id`' />\n<parameter name='otn-tunnel-name' value='`$tmp.aai.vpn-bindingB.vpn-name`' />\n<parameter name='ethernet-end-point-name' value='`$tmp.aai.connectivityB.connectivity-id`' />\n<parameter name='index-number' value='0' />\n<parameter name='eth-node-id' value='`$tmp.aai.connectivityB.access-node-id`' />\n<parameter name='eth-node-tp-id' value='`$tmp.aai.connectivityB.access-ltp-id`' />\n<parameter name='CIR' value='`$tmp.aai.vpn-bindingB.route-distinguisher *1000000`' />\n<parameter name='EIR' value='`$tmp.aai.vpn-bindingB.route-distinguisher *1000000`' />\n<parameter name='cvlan' value='`$tmp.aai.connectivityB.cvlan`' />\n\n",
        "comments": "",
        "x": 3559.75,
        "y": 2370,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "60d95124.1573e8",
        "type": "execute",
        "name": "execute RestApiCallNode Create ethernet Service without token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.ts-ethernet-service.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainB.url + '/restconf/data/ietf-eth-tran-service:etht-svc'`\" />\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.restapi.connection-oof-url`\" />-->\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainB.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainB.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"patch\"/>\n<parameter name='dirPath' value=\"/opt/onap/sdnc/restconfapi/yang\" />\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 3713.75,
        "y": 2418,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "626c41a5.4a556",
                "319f7c4c.700584"
            ]
        ]
    },
    {
        "id": "626c41a5.4a556",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4059.25,
        "y": 2399,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "a16c0d6b.aa021"
            ]
        ]
    },
    {
        "id": "319f7c4c.700584",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4063.25,
        "y": 2439,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "c46066f7.6ad638"
            ]
        ]
    },
    {
        "id": "a16c0d6b.aa021",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create ethernet service rest api\" />\n",
        "comments": "",
        "x": 4217.25,
        "y": 2399,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "c46066f7.6ad638",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4220.75,
        "y": 2439,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "dbf72bce.fe4fd",
                "da41ce10.71c4a8"
            ]
        ]
    },
    {
        "id": "dbf72bce.fe4fd",
        "type": "save",
        "name": "update vpn-binding B resource (aka. OTN domainB) in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $tmp.aai.vpn-bindingB.vpn-id' >\n<parameter name='vpn-id' value='`$tmp.aai.vpn-bindingB.vpn-id`' />\n<parameter name='vpn-name' value='`$tmp.aai.vpn-bindingB.vpn-name`' />\n\n<parameter name='operational-status' value='Activated' />\n",
        "comments": "",
        "outputs": 1,
        "x": 4560.75,
        "y": 2438,
        "z": "111f91bb.269a56",
        "wires": [
            []
        ]
    },
    {
        "id": "a0a6a7a2.80538",
        "type": "comment",
        "name": "TODO: FIXME",
        "info": "use proper vpn-binding id and connectivity\n\nAlso, does CCSDK support \"update\" operation for vpn-binding and connectivity?",
        "comments": "",
        "x": 4418.75,
        "y": 2396,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "da41ce10.71c4a8",
        "type": "save",
        "name": "update connectivity resource in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $tmp.aai.connectivityB.connectivity-id'>\n<parameter name='connectivity-id' value='`$tmp.aai.connectivityB.connectivity-id`' />\n<parameter name='operational-status' value='Activated' />\n",
        "comments": "",
        "outputs": 1,
        "x": 4489.75,
        "y": 2487,
        "z": "111f91bb.269a56",
        "wires": [
            []
        ]
    },
    {
        "id": "509b9ad8.503f2c",
        "type": "set",
        "name": "set attachment_param (gfp-n) for OTN",
        "xml": "<set>\n<parameter name='gfp-n' value='`$tmp.aai.vpn-binding.route-distinguisher`' />\n",
        "comments": "",
        "x": 3114.75,
        "y": 754,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "8edfc4cd.8a0528",
        "type": "comment",
        "name": "only dst ttp exists. No src",
        "info": "",
        "comments": "",
        "x": 3709.75,
        "y": 440,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "f79b26c9.540128",
        "type": "comment",
        "name": "only src ttp exists. No dst",
        "info": "",
        "comments": "",
        "x": 3266.75,
        "y": 2018,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "50bc7adf.71a1d4",
        "type": "switchNode",
        "name": "switch vpn-binding has src-access-ltp",
        "xml": "<switch test='`$tmp.aai.vpn-binding.src-access-ltp-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3445.75,
        "y": 602,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "ebf4cc93.93ec7",
                "8e7f6f60.66ae28"
            ]
        ]
    },
    {
        "id": "8e7f6f60.66ae28",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3687.75,
        "y": 1191,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "d55e670.1fa9f18"
            ]
        ]
    },
    {
        "id": "ebf4cc93.93ec7",
        "type": "outcome",
        "name": "Null",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 3681.75,
        "y": 482,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "9c2c3c17.6c4b68"
            ]
        ]
    },
    {
        "id": "d55e670.1fa9f18",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3845.75,
        "y": 1190,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "f4e2a19a.1a35e",
                "f86044a9.f193d",
                "4b4e2775.d6044",
                "86690982.b14b6",
                "21d875df.4e5d92",
                "971d8a82.30a53"
            ]
        ]
    },
    {
        "id": "f86044a9.f193d",
        "type": "set",
        "name": "set attachment_param for OTN G",
        "xml": "<set>\n<parameter name='src-node-id' value='`$tmp.aai.vpn-bindingG.src-access-node-id`' />\n<parameter name='dst-node-id' value='`$tmp.aai.vpn-bindingG.dst-access-node-id`' />\n<!--<parameter name='dst-tpn-id' value='1' />-->\n<parameter name='src-tpn-id' value='`$tmp.aai.vpn-bindingG.customer-vpn-id`' />\n<parameter name='dst-tpn-id' value='`$tmp.aai.vpn-bindingG.customer-vpn-id`' />\n<parameter name='src-ttp-id' value='`$tmp.aai.vpn-bindingG.src-access-ltp-id`' />\n<parameter name='dst-ttp-id' value='`$tmp.aai.vpn-bindingG.dst-access-ltp-id`' />\n<parameter name='slice-instance-id' value='`$tmp.aai.service-instance.service-instance-id`' />\n<parameter name='otn-tunnel-name-domainG' value='`$tmp.aai.vpn-bindingG.vpn-name`' />\n<parameter name='client-id' value='`$tmp.aai.vpn-bindingG.access-client-id`' />\n<parameter name='provider-id' value='`$tmp.aai.vpn-bindingG.access-provider-id`' />\n<parameter name='topology-id' value='`$tmp.aai.vpn-bindingG.access-topology-id`' />\n",
        "comments": "",
        "x": 4109.75,
        "y": 1073,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "21d875df.4e5d92",
        "type": "execute",
        "name": "execute RestApiCallNode Create OTN tunnel with token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.cll-otn-domainG-creation.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainG.url + '/restconf/data/ietf-te:te'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainG.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainG.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"patch\"/>\n<parameter name=\"responsePrefix\" value=\"otn-oof\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 4190.75,
        "y": 1388,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "cd1830a.9a25b5",
                "5f7c3883.6456e"
            ]
        ]
    },
    {
        "id": "cd1830a.9a25b5",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4500.25,
        "y": 1357,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "cf35e2b3.2c8468"
            ]
        ]
    },
    {
        "id": "5f7c3883.6456e",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4505.25,
        "y": 1422,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "b3a80e08.d037b"
            ]
        ]
    },
    {
        "id": "cf35e2b3.2c8468",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create OTN tunnel rest api\" />\n",
        "comments": "",
        "x": 4676.25,
        "y": 1357,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "b3a80e08.d037b",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4671.75,
        "y": 1422,
        "z": "111f91bb.269a56",
        "wires": [
            []
        ]
    },
    {
        "id": "4b4e2775.d6044",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.domainG.pnf-name' value=\"`'networkId-providerId-' +\n                                                   $tmp.aai.vpn-bindingG.access-provider-id + '-clientId-' +\n                                                   $tmp.aai.vpn-bindingG.access-client-id + '-topologyId-' +\n                                                   $tmp.aai.vpn-bindingG.access-topology-id + '-nodeId-' +\n                                                   $tmp.aai.vpn-bindingG.src-access-node-id`\" />\n",
        "comments": "",
        "x": 4047.75,
        "y": 1121,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "86690982.b14b6",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.domainG.pnf-name\"\n        pfx='tmp.aai.domainG-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 4073.75,
        "y": 1238,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "85fe6961.6a7908",
                "3fb6fcbe.a3fa0c",
                "89e44c19.cf1b38"
            ]
        ]
    },
    {
        "id": "85fe6961.6a7908",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4269.2501220703125,
        "y": 1190,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "8a104557.0ad8d8"
            ]
        ]
    },
    {
        "id": "3fb6fcbe.a3fa0c",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4261.2501220703125,
        "y": 1245,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "42db739a.3307d4"
            ]
        ]
    },
    {
        "id": "8a104557.0ad8d8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 4413.6324462890625,
        "y": 1189.6556701660156,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "f760615b.c41c38"
            ]
        ]
    },
    {
        "id": "f760615b.c41c38",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='spvidx' start='0' end='`$tmp.aai.domainG-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4597.75,
        "y": 1188,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "142416ba.388749"
            ]
        ]
    },
    {
        "id": "142416ba.388749",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.domainG-pnf.relationship-list.relationship[$spvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4792.75,
        "y": 1188,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "ee80fb82.914478"
            ]
        ]
    },
    {
        "id": "89e44c19.cf1b38",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4266.2501220703125,
        "y": 1302,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "190fd174.e420e7"
            ]
        ]
    },
    {
        "id": "190fd174.e420e7",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4418.2501220703125,
        "y": 1303,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "42db739a.3307d4",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 4429.2501220703125,
        "y": 1246,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "f4e2a19a.1a35e",
        "type": "set",
        "name": "set vpn-bindingG and connectivityG",
        "xml": "<set>\n<parameter name='tmp.aai.vpn-bindingG.' value=\"`$tmp.aai.vpn-binding.`\" />\n<parameter name='tmp.aai.connectivityG.' value=\"`$tmp.aai.connectivity.`\" />\n",
        "comments": "",
        "x": 4104.75,
        "y": 1013,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "ee80fb82.914478",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4995.75,
        "y": 1192,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "16f58788.f805f"
            ]
        ]
    },
    {
        "id": "4337aa6a.e7854c",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domainG.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domainG.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 5380.75,
        "y": 1205,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "d59e46ba.4f5ed8",
                "51e7728a.8676fc",
                "dbdd6c65.aefc38"
            ]
        ]
    },
    {
        "id": "16f58788.f805f",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5174.75,
        "y": 1192,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "925f4411.b3c5c",
                "4337aa6a.e7854c"
            ]
        ]
    },
    {
        "id": "925f4411.b3c5c",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domainG id",
        "xml": "<set>\n<parameter name='tmp.domainG.esr-thirdparty-id' value=\"`$tmp.aai.domainG-pnf.relationship-list.relationship[$spvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 5410.75,
        "y": 1153,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "d59e46ba.4f5ed8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5590.75,
        "y": 1196,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "9fb3d6ee.612538"
            ]
        ]
    },
    {
        "id": "51e7728a.8676fc",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5582.75,
        "y": 1251,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "1c483cb2.44cb23"
            ]
        ]
    },
    {
        "id": "dbdd6c65.aefc38",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5587.75,
        "y": 1308,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "c131e872.bad5c8"
            ]
        ]
    },
    {
        "id": "c131e872.bad5c8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5739.75,
        "y": 1309,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "1c483cb2.44cb23",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 5750.75,
        "y": 1254,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "9fb3d6ee.612538",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5735.13232421875,
        "y": 1193.6556701660156,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "e9716a08.a0ba08"
            ]
        ]
    },
    {
        "id": "e9716a08.a0ba08",
        "type": "set",
        "name": "set controller domainG data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainG.url' value=\"`$tmp.aai.domainG.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainG.user' value=\"`$tmp.aai.domainG.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainG.password' value=\"`$tmp.aai.domainG.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 5949.75,
        "y": 1190,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "c1f0320d.223f",
        "type": "comment",
        "name": "both src and dst exist",
        "info": "",
        "comments": "",
        "x": 3723.75,
        "y": 1131,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "db55a5db.cc9e2",
        "type": "switchNode",
        "name": "switch vpn-binding is not already Activated (i.e. is either Created or Modified)",
        "xml": "<switch test=\"`$tmp.aai.vpn-binding.operational-status != 'Activated' `\">\n",
        "comments": "",
        "outputs": 1,
        "x": 2285.75,
        "y": 858,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "8cfca669.4c31d",
                "1cedd7fb.e18cd"
            ]
        ]
    },
    {
        "id": "1cedd7fb.e18cd",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2692.75,
        "y": 876,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "91bf0188.93b52"
            ]
        ]
    },
    {
        "id": "8cfca669.4c31d",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2692.75,
        "y": 821,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "6ae8a7fa.83375"
            ]
        ]
    },
    {
        "id": "6ae8a7fa.83375",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2848.75,
        "y": 819,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "509b9ad8.503f2c",
                "3dd6564a.788bea"
            ]
        ]
    },
    {
        "id": "91bf0188.93b52",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2825.75,
        "y": 877,
        "z": "111f91bb.269a56",
        "wires": [
            []
        ]
    },
    {
        "id": "14b40144.c74357",
        "type": "set",
        "name": "unset tmp.aai.all-vpn-bindings",
        "xml": "<set>\n<parameter name='tmp.aai.all-vpn-bindings.' value=\"\" />\n",
        "comments": "",
        "x": 1002.75,
        "y": 293,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "470acf69.6a7218",
        "type": "comment",
        "name": "CLL new",
        "info": "construct two array structures like these:\n\n${otn-tunnels-name-list[${1}].otn-tunnel-name}\n\n----------------\n${ethernet-srv-end-points-list[${1}].ethernet-end-point-name}\n${ethernet-srv-end-points-list[${1}].index-number},\n${ethernet-srv-end-points-list[${1}].eth-node-id},\n${ethernet-srv-end-points-list[${1}].eth-node-tp-id},\n${ethernet-srv-end-points-list[${1}].leafOrRootAccess}\n${ethernet-srv-end-points-list[${1}].cvlan}\n${ethernet-srv-end-points-list[${1}].CIR}\n${ethernet-srv-end-points-list[${1}].EIR}",
        "comments": "",
        "x": 4119.75,
        "y": 711,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "94ce35b5.84e9d",
        "type": "set",
        "name": "set leaf-otn-tunnels-list array",
        "xml": "<set>\n<parameter name='`leaf-tunnels-list[$leaftunsidx].tunnel-name`' value='`$tmp.aai.vpn-binding.vpn-name`' />\n<parameter name='`leaf-tunnels-list[$leaftunsidx].vpn-id`' value='`$tmp.aai.vpn-binding.vpn-id`' />\n<parameter name='`leaf-tunnels-list_length`' value='`$leaftunsidx + 1`' />\n",
        "comments": "",
        "x": 4179.75,
        "y": 750,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "8371652a.c1422",
        "type": "set",
        "name": "unset leaf-otn-tunnels-list array",
        "xml": "<set>\n<parameter name='`leaf-tunnels-list.`' value='' />\n<parameter name='`leaf-tunnels-list_length`' value='0' />\n<parameter name='`leaftunsidx`' value='0' />\n",
        "comments": "",
        "x": 995.75,
        "y": 201,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "180e951c.adb823",
        "type": "comment",
        "name": "CLL new",
        "info": "construct two array structures like these:\n\n${otn-tunnels-name-list[${1}].otn-tunnel-name}\n\n----------------\n${ethernet-srv-end-points-list[${1}].ethernet-end-point-name}\n${ethernet-srv-end-points-list[${1}].index-number},\n${ethernet-srv-end-points-list[${1}].eth-node-id},\n${ethernet-srv-end-points-list[${1}].eth-node-tp-id},\n${ethernet-srv-end-points-list[${1}].leafOrRootAccess}\n${ethernet-srv-end-points-list[${1}].cvlan}\n${ethernet-srv-end-points-list[${1}].CIR}\n${ethernet-srv-end-points-list[${1}].EIR}",
        "comments": "",
        "x": 3531.75,
        "y": 2227,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "b13189f3.5c00c",
        "type": "set",
        "name": "set root-otn-tunnels-list array",
        "xml": "<set>\n<parameter name='`root-tunnels-list[$roottunsidx].tunnel-name`' value='`$tmp.aai.vpn-binding.vpn-name`' />\n<parameter name='`root-tunnels-list[$roottunsidx].vpn-id`' value='`$tmp.aai.vpn-binding.vpn-id`' />\n<parameter name='`root-tunnels-list_length`' value='`$roottunsidx + 1`' />\n",
        "comments": "",
        "x": 3587.75,
        "y": 2276,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "68b96268.5bf0d4",
        "type": "set",
        "name": "unset root-otn-tunnels-list array",
        "xml": "<set>\n<parameter name='`root-tunnels-list.`' value='' />\n<parameter name='`root-tunnels-list_length`' value='0' />\n<parameter name='`roottunsidx`' value='0' />\n",
        "comments": "",
        "x": 995.75,
        "y": 240,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "ab74b4be.cbc48",
        "type": "execute",
        "name": "execute properties",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />",
        "comments": "",
        "outputs": 1,
        "x": 1026.75,
        "y": 341,
        "z": "111f91bb.269a56",
        "wires": [
            []
        ]
    },
    {
        "id": "77984a30.f32474",
        "type": "save",
        "name": "get service-instance from aai",
        "xml": "<!--<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" -->\n<!--\tresource=\"service-instance\"-->\n<!--\tkey='service-instance.service-instance-id = $service-data.vnfs.vnf[$tmp.vidx].vnf-data.service-information.service-instance-id-->\n<!--         AND customer.global-customer-id = $service-data.vnfs.vnf[$tmp.vidx].vnf-data.service-information.global-customer-id -->\n<!--         AND service-subscription.service-type = $service-data.vnfs.vnf[$tmp.vidx].vnf-data.service-information.subscription-service-type'-->\n<!--\tlocal-only=\"false\"-->\n<!--\tforce=\"true\" pfx=\"tmp.aai.service-instance\">-->\n\n<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"service-instance\"\n\tkey='service-instance.service-instance-id = $vnf-topology-operation-input.service-information.service-instance-id\n         AND customer.global-customer-id = $vnf-topology-operation-input.service-information.global-customer-id \n         AND service-subscription.service-type = $vnf-topology-operation-input.service-information.subscription-service-type'\n\tlocal-only=\"false\"\n\tforce=\"true\" pfx=\"tmp.aai.service-instance\">\n\n\n<!--$vnf-topology-operation-input.service-information.service-instance-id-->",
        "comments": "",
        "outputs": 1,
        "x": 236.75,
        "y": 816,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "6b466955.39f7e8",
                "ea72fa7a.37647",
                "256cca7a.4ba78e"
            ]
        ]
    },
    {
        "id": "6b466955.39f7e8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 455.75,
        "y": 754,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "ff154227.b5783"
            ]
        ]
    },
    {
        "id": "ea72fa7a.37647",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 465.240966796875,
        "y": 796.5740356445312,
        "z": "111f91bb.269a56",
        "wires": [
            []
        ]
    },
    {
        "id": "256cca7a.4ba78e",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 453.75,
        "y": 843,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "9c1b438c.70f6e8"
            ]
        ]
    },
    {
        "id": "ff154227.b5783",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for index='rel-index' start='0' end='`$tmp.aai.service-instance.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 652.75,
        "y": 750,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "d19cd8ca.093408"
            ]
        ]
    },
    {
        "id": "9c1b438c.70f6e8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 622.75,
        "y": 844,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "d19cd8ca.093408",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.service-instance.relationship-list.relationship[$rel-index].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 876.08349609375,
        "y": 749.9999389648438,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "ec3530b4.60943"
            ]
        ]
    },
    {
        "id": "ec3530b4.60943",
        "type": "outcome",
        "name": "connectivity",
        "xml": "<outcome value='connectivity'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1076.7501335144043,
        "y": 751.000020980835,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "732a5938.51aee8"
            ]
        ]
    },
    {
        "id": "732a5938.51aee8",
        "type": "save",
        "name": "get connectivity from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"connectivity\"\n\t    key=\"connectivity.connectivity-id = $tmp.aai.service-instance.relationship-list.relationship[$rel-index].relationship-data[0].relationship-value\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.connectivity\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 206.75,
        "y": 1013,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "23a8b591.9364c2",
                "8c7cc41e.285ad",
                "a093cec4.b44ed"
            ]
        ]
    },
    {
        "id": "23a8b591.9364c2",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 414.75,
        "y": 977,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "9b9627ac.373dc8"
            ]
        ]
    },
    {
        "id": "8c7cc41e.285ad",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 415.240966796875,
        "y": 1022.5740356445312,
        "z": "111f91bb.269a56",
        "wires": [
            []
        ]
    },
    {
        "id": "a093cec4.b44ed",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 412.75,
        "y": 1066,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "26fe918.5a2edee"
            ]
        ]
    },
    {
        "id": "26fe918.5a2edee",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 581.75,
        "y": 1067,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "f6f3f7dd.ddd42",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='cridx' start='0' end='`$tmp.aai.connectivity.relationship-list.relationship_length`' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 553.75,
        "y": 1561,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "8744e477.6cb05"
            ]
        ]
    },
    {
        "id": "8744e477.6cb05",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.connectivity.relationship-list.relationship[$cridx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 756.75,
        "y": 1573,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "9fc39c57.082728"
            ]
        ]
    },
    {
        "id": "9fc39c57.082728",
        "type": "outcome",
        "name": "UNI",
        "xml": "<outcome value='uni'>\n",
        "comments": "",
        "outputs": 1,
        "x": 922.75,
        "y": 1570,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "5d341323.92886c"
            ]
        ]
    },
    {
        "id": "5d341323.92886c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1083.75,
        "y": 1567,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "878fc20b.33088",
                "9a421f91.9b1b28",
                "7916417b.dd4858",
                "277d0a08.b51776",
                "5d833ac3.a3e554",
                "6bd95e1e.6c91d8"
            ]
        ]
    },
    {
        "id": "9a421f91.9b1b28",
        "type": "set",
        "name": "unset tmp.aai.uni",
        "xml": "<set>\n<parameter name='tmp.aai.uni.' value='' />\n",
        "comments": "",
        "x": 1289.75,
        "y": 1166.9999389648438,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "878fc20b.33088",
        "type": "save",
        "name": "get uni from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"uni\"\n\t    key=\"uni.id = $tmp.aai.connectivity.relationship-list.relationship[$cridx].relationship-data[0].relationship-value\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.uni\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 1286.75,
        "y": 1211.9999389648438,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "1277502d.c8e7a",
                "3575cdbd.1f32e2",
                "bad103b9.14ac5"
            ]
        ]
    },
    {
        "id": "3575cdbd.1f32e2",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1482.240966796875,
        "y": 1185.5739135742188,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "245198ca.86efd8"
            ]
        ]
    },
    {
        "id": "bad103b9.14ac5",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1477.75,
        "y": 1229.9998779296875,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "564cd01d.c60fe8"
            ]
        ]
    },
    {
        "id": "245198ca.86efd8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 1644.8125,
        "y": 1184.859619140625,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "564cd01d.c60fe8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 1645.75,
        "y": 1229.9998779296875,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "57d2d0ba.ac96f",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1647.75,
        "y": 1276.9998779296875,
        "z": "111f91bb.269a56",
        "wires": [
            []
        ]
    },
    {
        "id": "1277502d.c8e7a",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1478.75,
        "y": 1276.9998779296875,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "57d2d0ba.ac96f"
            ]
        ]
    },
    {
        "id": "5f14d939.b7d6d",
        "type": "comment",
        "name": "CLL new",
        "info": "construct two array structures like these:\n\n${otn-tunnels-name-list[${1}].otn-tunnel-name}\n\n----------------\n${ethernet-srv-end-points-list[${1}].ethernet-end-point-name}\n${ethernet-srv-end-points-list[${1}].index-number},\n${ethernet-srv-end-points-list[${1}].eth-node-id},\n${ethernet-srv-end-points-list[${1}].eth-node-tp-id},\n${ethernet-srv-end-points-list[${1}].leafOrRootAccess}\n${ethernet-srv-end-points-list[${1}].cvlan}\n${ethernet-srv-end-points-list[${1}].CIR}\n${ethernet-srv-end-points-list[${1}].EIR}",
        "comments": "",
        "x": 1260.75,
        "y": 1798,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "7916417b.dd4858",
        "type": "set",
        "name": "set ethernet-srv-end-points-list array",
        "xml": "<set>\n<!--<parameter name='`ethernet-srv-end-points-list[$epidx].ethernet-end-point-name`' value='`$tmp.aai.connectivity.connectivity-id`' />-->\n<parameter name='`ethernet-srv-end-points-list[$epidx].ethernet-end-point-name`' value='`$tmp.aai.uni.id`' />\n<parameter name='`ethernet-srv-end-points-list[$epidx].index-number`' value='0' />\n<parameter name='`ethernet-srv-end-points-list[$epidx].eth-node-id`' value='`$tmp.uni-node-id-short`' />\n<parameter name='`ethernet-srv-end-points-list[$epidx].eth-node-tp-id`' value='`$tmp.aai.uni.tp-id`' />\n<parameter name='`ethernet-srv-end-points-list[$epidx].leafOrRootAccess`' value='`$leafOrRootAccess`' />\n<parameter name='`ethernet-srv-end-points-list[$epidx].cvlan`' value='`$tmp.aai.connectivity.cvlan`' />\n<parameter name='`ethernet-srv-end-points-list[$epidx].CIR`' value='`$tmp.aai.uni.data-source * 1000000`' />\n<parameter name='`ethernet-srv-end-points-list[$epidx].EIR`' value='`$tmp.aai.uni.data-source * 1000000`' />\n\n<parameter name='`ethernet-srv-end-points-list_length`' value='`$epidx + 1`' />\n",
        "comments": "",
        "x": 1351.75,
        "y": 1852,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "780a0f58.bba71",
        "type": "set",
        "name": "unset ethernet-srv-end-points-list",
        "xml": "<set>\n<parameter name='`ethernet-srv-end-points-list.`' value='' />\n<parameter name='`ethernet-srv-end-points-list_length`' value='0' />\n<parameter name='`epidx`' value='0' />",
        "comments": "",
        "x": 2028.25,
        "y": 1265,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "423abc5f.68ffa4",
        "type": "set",
        "name": "unset ethernet-srv-end-points-list",
        "xml": "<set>\n<parameter name='`ethernet-srv-end-points-list.`' value='' />\n<parameter name='`ethernet-srv-end-points-list_length`' value='0' />\n<parameter name='`epidx`' value='0' />",
        "comments": "",
        "x": 2033.25,
        "y": 1367,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "9ae45b75.53fe1",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='cridx' start='0' end='`$tmp.aai.connectivity.relationship-list.relationship_length`' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 516.75,
        "y": 1817,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "a1c491a.b9e1cf"
            ]
        ]
    },
    {
        "id": "a1c491a.b9e1cf",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.connectivity.relationship-list.relationship[$cridx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 748.75,
        "y": 1816,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "c7d001fc.995ef"
            ]
        ]
    },
    {
        "id": "c7d001fc.995ef",
        "type": "outcome",
        "name": "vpn-binding",
        "xml": "<outcome value='vpn-binding'>\n",
        "comments": "",
        "outputs": 1,
        "x": 960.75,
        "y": 1817,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "af8caf57.c80ff"
            ]
        ]
    },
    {
        "id": "af8caf57.c80ff",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 216.75,
        "y": 1973,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "dbb11610.758b08",
                "e6442fee.44c628"
            ]
        ]
    },
    {
        "id": "e6442fee.44c628",
        "type": "set",
        "name": "unset tmp.aai.vpn-binding",
        "xml": "<set>\n<parameter name='tmp.aai.vpn-binding.' value='' />\n",
        "comments": "",
        "x": 451.75,
        "y": 1960,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "dbb11610.758b08",
        "type": "save",
        "name": "get vpn-binding from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"vpn-binding\"\n\t    key=\"vpn-binding.vpn-id = $tmp.aai.connectivity.relationship-list.relationship[$cridx].relationship-data[0].relationship-value\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.vpn-binding\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 441.75,
        "y": 2021,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "afa88564.16a37",
                "83950a7.2f6c078",
                "12b1aba5.e7a0f4"
            ]
        ]
    },
    {
        "id": "83950a7.2f6c078",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 655.240966796875,
        "y": 2005.5740356445312,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "ea85ca6d.e8d7e"
            ]
        ]
    },
    {
        "id": "12b1aba5.e7a0f4",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 650.75,
        "y": 2050,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "eb678b0e.5293e8"
            ]
        ]
    },
    {
        "id": "afa88564.16a37",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 652.75,
        "y": 2110,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "46f07676.1e063"
            ]
        ]
    },
    {
        "id": "ea85ca6d.e8d7e",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 817.8125,
        "y": 2004.8597412109375,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "eb678b0e.5293e8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 818.75,
        "y": 2050,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "46f07676.1e063",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 821.75,
        "y": 2109,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "d6f04402.414508",
                "ac4ce335.0555f"
            ]
        ]
    },
    {
        "id": "42a4fda9.57619c",
        "type": "set",
        "name": "set sotn_value",
        "xml": "<set>\n<!--<parameter name='eth-service-name' value='`$tmp.aai.connectivityA.connectivity-id`' />-->\n<parameter name='eth-service-name' value='`$tmp.aai.connectivity.etht-svc-name`' />\n<parameter name='slice-id' value='`$vnf-topology-operation-input.service-information.service-instance-id`' />\n<parameter name='provider-id' value='`$tmp.aai.connectivity.access-provider-id`' />\n<parameter name='client-id' value='`$tmp.aai.connectivity.access-client-id`' />\n<parameter name='topology-id' value='`$tmp.aai.connectivity.access-topology-id`' />\n<parameter name='service-instance-id-or-cll-id' value='`$tmp.aai.service-instance.service-instance-id`' />\n\n<!--<parameter name='otn-tunnel-name' value='`$tmp.aai.vpn-bindingA.vpn-name`' />-->\n<!--<parameter name='ethernet-end-point-name' value='`$tmp.aai.connectivityA.connectivity-id`' />-->\n<!--<parameter name='index-number' value='0' />-->\n<!--<parameter name='eth-node-id' value='`$tmp.aai.connectivityA.access-node-id`' />-->\n<!--<parameter name='eth-node-tp-id' value='`$tmp.aai.connectivityA.access-ltp-id`' />-->\n<!--<parameter name='CIR' value='`$tmp.aai.vpn-bindingA.route-distinguisher *1000000`' />-->\n<!--<parameter name='EIR' value='`$tmp.aai.vpn-bindingA.route-distinguisher *1000000`' />-->\n<!--<parameter name='cvlan' value='`$tmp.aai.connectivityA.cvlan`' />-->\n",
        "comments": "",
        "x": 241.75,
        "y": 2611,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "3738a9bc.2f26e6",
        "type": "execute",
        "name": "execute RestApiCallNode Create ethernet Service without token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.cll-ethernet-service-loop.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.url + '/restconf/data/ietf-eth-tran-service:etht-svc'`\" />\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.restapi.connection-oof-url`\" />-->\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"patch\"/>\n<parameter name='dirPath' value=\"/opt/onap/sdnc/restconfapi/yang\" />\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 363.75,
        "y": 2668,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "ac81680a.65fae",
                "96fc6628.148e78"
            ]
        ]
    },
    {
        "id": "ac81680a.65fae",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 676.25,
        "y": 2645,
        "z": "111f91bb.269a56",
        "wires": [
            []
        ]
    },
    {
        "id": "96fc6628.148e78",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 680.25,
        "y": 2685,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "bf7ee9c0.419518"
            ]
        ]
    },
    {
        "id": "6f03e95e.3ec198",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create ethernet service rest api\" />\n",
        "comments": "",
        "x": 856.25,
        "y": 2649,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "bf7ee9c0.419518",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 871.75,
        "y": 2703,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "846842ab.33ca8",
                "5e1c0ed5.c69c48",
                "9a742833.7a10a8",
                "feb8a80.2e93d58"
            ]
        ]
    },
    {
        "id": "214d3a40.5474be",
        "type": "save",
        "name": "update vpn-binding resource (aka. OTN ) in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $tmp.aai.vpn-binding.vpn-id' >\n<parameter name='vpn-id' value='`$tmp.aai.vpn-binding.vpn-id`' />\n<parameter name='vpn-name' value='`$tmp.aai.vpn-binding.vpn-name`' />\n\n<parameter name='operational-status' value='Activated' />\n",
        "comments": "",
        "outputs": 1,
        "x": 1167.25,
        "y": 2672,
        "z": "111f91bb.269a56",
        "wires": [
            []
        ]
    },
    {
        "id": "4243a8af.47f99",
        "type": "comment",
        "name": "TODO: FIXME",
        "info": "use proper vpn-binding id and connectivity id\n\nAlso, does CCSDK support \"update\" operation for vpn-binding and connectivity?",
        "comments": "",
        "x": 2634.25,
        "y": 2023,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "846842ab.33ca8",
        "type": "save",
        "name": "update connectivity resource in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='connectivity' \n      key='connectivity.connectivity-id = $tmp.aai.connectivity.connectivity-id'>\n<parameter name='connectivity-id' value='`$tmp.aai.connectivity.connectivity-id`' />\n<parameter name='operational-status' value='Activated' />\n",
        "comments": "",
        "outputs": 1,
        "x": 1129.25,
        "y": 2714,
        "z": "111f91bb.269a56",
        "wires": [
            []
        ]
    },
    {
        "id": "eb2c1071.d160d8",
        "type": "set",
        "name": "set leafOrRootAccess",
        "xml": "<set>\n<parameter name='`leafOrRootAccess`' value='ietf-eth-tran-types:leaf-access' />\n",
        "comments": "",
        "x": 1994.25,
        "y": 1303,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "3c1d8397.66cfbc",
        "type": "set",
        "name": "set leafOrRootAccess",
        "xml": "<set>\n<parameter name='`leafOrRootAccess`' value='ietf-eth-tran-types:root-primary' />\n",
        "comments": "",
        "x": 1995.25,
        "y": 1407,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "9dbb6108.db3f08",
        "type": "save",
        "name": "update vpn-binding A resource (aka. OTN domainA) in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $tmp.aai.vpn-bindingA.vpn-id' >\n<parameter name='vpn-id' value='`$tmp.aai.vpn-bindingA.vpn-id`' />\n<parameter name='vpn-name' value='`$tmp.aai.vpn-bindingA.vpn-name`' />\n\n<parameter name='operational-status' value='Activated' />\n",
        "comments": "",
        "outputs": 1,
        "x": 4288.75,
        "y": 664,
        "z": "111f91bb.269a56",
        "wires": [
            []
        ]
    },
    {
        "id": "971d8a82.30a53",
        "type": "save",
        "name": "update vpn-binding G resource (aka. OTN domainA) in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $tmp.aai.vpn-bindingG.vpn-id' >\n<parameter name='vpn-id' value='`$tmp.aai.vpn-bindingG.vpn-id`' />\n<parameter name='vpn-name' value='`$tmp.aai.vpn-bindingG.vpn-name`' />\n\n<parameter name='operational-status' value='Activated' />\n",
        "comments": "",
        "outputs": 1,
        "x": 4191.75,
        "y": 1483,
        "z": "111f91bb.269a56",
        "wires": [
            []
        ]
    },
    {
        "id": "72e7ea14.321c0c",
        "type": "save",
        "name": "update vpn-binding B resource (aka. OTN domainB) in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $tmp.aai.vpn-bindingB.vpn-id' >\n<parameter name='vpn-id' value='`$tmp.aai.vpn-bindingB.vpn-id`' />\n<parameter name='vpn-name' value='`$tmp.aai.vpn-bindingB.vpn-name`' />\n\n<parameter name='operational-status' value='Activated' />\n",
        "comments": "",
        "outputs": 1,
        "x": 3685.75,
        "y": 2155,
        "z": "111f91bb.269a56",
        "wires": [
            []
        ]
    },
    {
        "id": "9b9627ac.373dc8",
        "type": "switchNode",
        "name": "switch connectivity is not already Activated (i.e. is either Created or Modified)",
        "xml": "<switch test=\"`$tmp.aai.connectivity.operational-status != 'Activated' `\">\n",
        "comments": "",
        "outputs": 1,
        "x": 786.75,
        "y": 963,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "20416bfa.abd944",
                "3157f22c.bca4c6"
            ]
        ]
    },
    {
        "id": "20416bfa.abd944",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1149.75,
        "y": 986,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "16371b2a.82f3f5"
            ]
        ]
    },
    {
        "id": "3157f22c.bca4c6",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1149.75,
        "y": 935,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "7c942827.229d68"
            ]
        ]
    },
    {
        "id": "16371b2a.82f3f5",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1305.75,
        "y": 984,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "6516a515.9e0ed4"
            ]
        ]
    },
    {
        "id": "7c942827.229d68",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1282.75,
        "y": 936,
        "z": "111f91bb.269a56",
        "wires": [
            []
        ]
    },
    {
        "id": "d1721022.90ae5",
        "type": "set",
        "name": "unset tmp.aai.vpn-binding",
        "xml": "<set>\n<parameter name='tmp.aai.vpn-binding.' value=\"\" />\n",
        "comments": "",
        "x": 2042.75,
        "y": 334,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "a1c10f72.410b08",
        "type": "set",
        "name": "set root-otn-tunnels-list array",
        "xml": "<set>\n<parameter name='`roottunsidx`' value='`$roottunsidx + 1`' />\n",
        "comments": "",
        "x": 3584.75,
        "y": 2315,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "7f10b67d.13cbf",
        "type": "set",
        "name": "set leaf-otn-tunnels-list array",
        "xml": "<set>\n<parameter name='`leaftunsidx`' value='`$leaftunsidx + 1`' />\n",
        "comments": "",
        "x": 4174.75,
        "y": 788,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "277d0a08.b51776",
        "type": "set",
        "name": "set ethernet-srv-end-points-list array",
        "xml": "<set>\n<parameter name='`epidx`' value='`$epidx + 1`' />\n",
        "comments": "",
        "x": 1348.75,
        "y": 1894,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "dbed9630.5fe208",
        "type": "set",
        "name": "set filename",
        "xml": "<set>\n<parameter name='filenameclleths' value=\"`$leafOrRootAccess + $tmp.aai.connectivity.access-node-id`\" />",
        "comments": "",
        "x": 527.75,
        "y": 1628,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "b8630526.556578",
        "type": "execute",
        "name": "execute printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n    <parameter name=\"filename\" value=\"`$filenameclleths`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 558.75,
        "y": 1668,
        "z": "111f91bb.269a56",
        "wires": [
            []
        ]
    },
    {
        "id": "d6f04402.414508",
        "type": "set",
        "name": "set otn-tunnels-name-list array",
        "xml": "<set>\n<parameter name='`otn-tunnels-name-list[$otntunsidx].otn-tunnel-name`' value='`$tmp.aai.vpn-binding.vpn-name`' />\n<parameter name='`otn-tunnels-name-list[$otntunsidx].vpn-id`' value='`$tmp.aai.vpn-binding.vpn-id`' />\n<parameter name='`otn-tunnels-name-list_length`' value='`$otntunsidx + 1`' />\n",
        "comments": "",
        "x": 1106.75,
        "y": 2076,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "ac4ce335.0555f",
        "type": "set",
        "name": "set otn-tunnels-name-list array",
        "xml": "<set>\n<parameter name='`otntunsidx`' value='`$otntunsidx + 1`' />\n",
        "comments": "",
        "x": 1109.75,
        "y": 2118,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "d6151d45.cfb988",
        "type": "set",
        "name": "unset otn-tunnels-name-list array",
        "xml": "<set>\n<parameter name='`otn-tunnels-name-list.`' value='' />\n<parameter name='`otn-tunnels-name-list_length`' value='0' />\n<parameter name='`otntunsidx`' value='0' />\n",
        "comments": "",
        "x": 552.75,
        "y": 1758,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "f1b784f.6be4af8",
        "type": "set",
        "name": "set filename",
        "xml": "<set>\n<parameter name='filenamecllotns' value=\"`leafrootOTNtunnelnames`\" />",
        "comments": "",
        "x": 307.75,
        "y": 2137,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "b54d5a69.762db",
        "type": "execute",
        "name": "execute printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n    <parameter name=\"filename\" value=\"`$filenamecllotns`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 315.75,
        "y": 2194,
        "z": "111f91bb.269a56",
        "wires": [
            []
        ]
    },
    {
        "id": "5d833ac3.a3e554",
        "type": "execute",
        "name": "execute split tp-id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.aai.uni.id`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-uni\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1326.75,
        "y": 1743,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "5ddf355f.54101c",
                "1bdf6619.a36342"
            ]
        ]
    },
    {
        "id": "1bdf6619.a36342",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1549.75,
        "y": 1698,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "754506fa.d51aa8"
            ]
        ]
    },
    {
        "id": "5ddf355f.54101c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1551.75,
        "y": 1762,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "68209615.eef37"
            ]
        ]
    },
    {
        "id": "754506fa.d51aa8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1714.75,
        "y": 1695,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "714f4595.b88ec4"
            ]
        ]
    },
    {
        "id": "68209615.eef37",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 1713.75,
        "y": 1758,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "714f4595.b88ec4",
        "type": "set",
        "name": "set tmp.uni-node-id-short",
        "xml": "<set>\n<parameter name='tmp.uni-node-id-short' value='`$param-prefix-uni[$param-prefix-uni_length -4]`' />\n",
        "comments": "",
        "x": 1934.75,
        "y": 1709,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "1db1829e.06c1d5",
        "type": "outcome",
        "name": "esr-thirdparty-sdnc",
        "xml": "<outcome value='esr-thirdparty-sdnc'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1479.75,
        "y": 2434,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "2cbd7342.8e2ecc"
            ]
        ]
    },
    {
        "id": "fa138a5b.3e0008",
        "type": "execute",
        "name": "get esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.domainConn.esr-thirdparty-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.domainConn.esr-thirdparty-sdnc' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 1864.75,
        "y": 2447,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "e14f1acf.1bcd",
                "c2e19be7.fca29",
                "775dbfec.d9501"
            ]
        ]
    },
    {
        "id": "2cbd7342.8e2ecc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1658.75,
        "y": 2434,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "6f327062.742838",
                "fa138a5b.3e0008"
            ]
        ]
    },
    {
        "id": "6f327062.742838",
        "type": "set",
        "name": "set esr-thirdparty-sdnc domainConn id",
        "xml": "<set>\n<parameter name='tmp.domainConn.esr-thirdparty-id' value=\"`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 1894.75,
        "y": 2395,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "e14f1acf.1bcd",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2074.75,
        "y": 2438,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "d0fc139e.1761"
            ]
        ]
    },
    {
        "id": "c2e19be7.fca29",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2066.75,
        "y": 2493,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "43b937df.ececd8"
            ]
        ]
    },
    {
        "id": "775dbfec.d9501",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2071.75,
        "y": 2550,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "ac944679.99243"
            ]
        ]
    },
    {
        "id": "ac944679.99243",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 2223.75,
        "y": 2551,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "43b937df.ececd8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 2234.75,
        "y": 2496,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "d0fc139e.1761",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2219.13232421875,
        "y": 2435.6556701660156,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "79bc2aa4.303284"
            ]
        ]
    },
    {
        "id": "79bc2aa4.303284",
        "type": "set",
        "name": "set controller domainConn data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainConn.url' value=\"`$tmp.aai.domainConn.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainConn.user' value=\"`$tmp.aai.domainConn.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.domainConn.password' value=\"`$tmp.aai.domainConn.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n\n<!--<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >-->\n<!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-network:networks'`\" />-->\n<!--<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />-->\n<!--<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />-->\n<!--<parameter name=\"format\" value=\"json\"/>-->\n<!--<parameter name=\"httpMethod\" value=\"get\"/>-->\n<!--<parameter name=\"responsePrefix\" value=\"topology\"/>-->\n<!--<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>-->\n<!--<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>-->\n<!--<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>-->\n<!--<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>-->\n",
        "comments": "",
        "x": 2433.75,
        "y": 2432,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "d91a9773.8b97d8",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.pnf-name-forUrl\"\n        pfx='tmp.aai.source-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 557.75,
        "y": 2480,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "fd5d97.57110a68",
                "e3891e3f.2fa52",
                "6282c457.966ab4"
            ]
        ]
    },
    {
        "id": "fd5d97.57110a68",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 753.2501220703125,
        "y": 2432,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "ee247bd7.5fac58"
            ]
        ]
    },
    {
        "id": "e3891e3f.2fa52",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 745.2501220703125,
        "y": 2487,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "91fa570e.651ca8"
            ]
        ]
    },
    {
        "id": "ee247bd7.5fac58",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 897.6324462890625,
        "y": 2431.6556701660156,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "ea7d04e7.1afcb8"
            ]
        ]
    },
    {
        "id": "ea7d04e7.1afcb8",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='spvidx' start='0' end='`$tmp.aai.source-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1081.75,
        "y": 2430,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "40c13bcd.4d6ac4"
            ]
        ]
    },
    {
        "id": "40c13bcd.4d6ac4",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.source-pnf.relationship-list.relationship[$spvidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1276.75,
        "y": 2430,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "1db1829e.06c1d5"
            ]
        ]
    },
    {
        "id": "6282c457.966ab4",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 750.2501220703125,
        "y": 2544,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "4979dd8d.1f5f3c"
            ]
        ]
    },
    {
        "id": "4979dd8d.1f5f3c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 902.2501220703125,
        "y": 2545,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "91fa570e.651ca8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 913.2501220703125,
        "y": 2488,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "bd1da98.2130f58",
        "type": "set",
        "name": "set tmp.pnf-name-forUrl",
        "xml": "<set>\n\n<parameter name='tmp.pnf-name-forUrl' value=\"`'networkId-providerId-' +\n                                                   $tmp.aai.connectivity.access-provider-id + '-clientId-' +\n                                                   $tmp.aai.connectivity.access-client-id + '-topologyId-' +\n                                                   $tmp.aai.connectivity.access-topology-id + '-nodeId-' +\n                                                   $tmp.aai.connectivity.access-node-id`\" />\n",
        "comments": "",
        "x": 547.75,
        "y": 2392,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "aa3bbb2.a6f0e48",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 292.75,
        "y": 2523,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "bd1da98.2130f58",
                "d91a9773.8b97d8"
            ]
        ]
    },
    {
        "id": "4b46d34a.40e874",
        "type": "comment",
        "name": "Temporary skipping this check - to support multiple instances in one slice",
        "info": "",
        "comments": "",
        "x": 1507.7166748046875,
        "y": 340.8833312988281,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "1d9a3789.c423c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 709.75,
        "y": 563,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "6516a515.9e0ed4",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 269.25,
        "y": 1532,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "f6f3f7dd.ddd42",
                "9ae45b75.53fe1",
                "dbed9630.5fe208",
                "b8630526.556578",
                "42a4fda9.57619c",
                "3738a9bc.2f26e6",
                "d6151d45.cfb988",
                "f1b784f.6be4af8",
                "b54d5a69.762db",
                "aa3bbb2.a6f0e48"
            ]
        ]
    },
    {
        "id": "6bd95e1e.6c91d8",
        "type": "switchNode",
        "name": "switch uni type",
        "xml": "<switch test=\"`$tmp.aai.uni.type`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1299.75,
        "y": 1370,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "92533584.a5f61",
                "18980475.16f3b4",
                "ec63f877.0fd998",
                "c1c9dc9a.d31ec"
            ]
        ]
    },
    {
        "id": "92533584.a5f61",
        "type": "outcome",
        "name": "leaf",
        "xml": "<outcome value='leaf'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1464.75,
        "y": 1352,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "b00f22e0.6a5e"
            ]
        ]
    },
    {
        "id": "18980475.16f3b4",
        "type": "outcome",
        "name": "root",
        "xml": "<outcome value='root'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1467.75,
        "y": 1391,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "52cb104.aabcaf"
            ]
        ]
    },
    {
        "id": "c1c9dc9a.d31ec",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1461.75,
        "y": 1469,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "4eaa272a.ec5048"
            ]
        ]
    },
    {
        "id": "ec63f877.0fd998",
        "type": "outcome",
        "name": "root-secondary",
        "xml": "<outcome value='root-secondary'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1484.75,
        "y": 1432,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "e77dda82.efac78"
            ]
        ]
    },
    {
        "id": "fb2c8aff.5902e",
        "type": "set",
        "name": "unset ethernet-srv-end-points-list",
        "xml": "<set>\n<parameter name='`ethernet-srv-end-points-list.`' value='' />\n<parameter name='`ethernet-srv-end-points-list_length`' value='0' />\n<parameter name='`epidx`' value='0' />",
        "comments": "",
        "x": 2030.75,
        "y": 1465,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "c8ca91d0.91a568",
        "type": "set",
        "name": "set leafOrRootAccess",
        "xml": "<set>\n<parameter name='`leafOrRootAccess`' value='ietf-eth-tran-types:root-secondary' />\n",
        "comments": "",
        "x": 1992.75,
        "y": 1505,
        "z": "111f91bb.269a56",
        "wires": []
    },
    {
        "id": "4eaa272a.ec5048",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1613.75,
        "y": 1490,
        "z": "111f91bb.269a56",
        "wires": [
            []
        ]
    },
    {
        "id": "5e1c0ed5.c69c48",
        "type": "execute",
        "name": "execute RestApiCallNode Create Performance Monitoring Data",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.cll-create-pm-data.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.url + '/restconf/data'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name='dirPath' value=\"/opt/onap/sdnc/restconfapi/yang\" />\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1203.3333740234375,
        "y": 2789.3336181640625,
        "z": "111f91bb.269a56",
        "wires": [
            []
        ]
    },
    {
        "id": "b00f22e0.6a5e",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1599.6666259765625,
        "y": 1348.333251953125,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "eb2c1071.d160d8"
            ]
        ]
    },
    {
        "id": "52cb104.aabcaf",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1601.6666259765625,
        "y": 1386.333251953125,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "3c1d8397.66cfbc"
            ]
        ]
    },
    {
        "id": "e77dda82.efac78",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1644.6666259765625,
        "y": 1433.333251953125,
        "z": "111f91bb.269a56",
        "wires": [
            [
                "c8ca91d0.91a568"
            ]
        ]
    },
    {
        "id": "9a742833.7a10a8",
        "type": "execute",
        "name": "execute RestconfDiscoveryNode establishSubscription",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restconfdiscovery.RestconfDiscoveryNode' method='establishSubscriptionOnly' >\n<parameter name=\"subscriberId\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.url`\" />\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.cll-subscribe-notification.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.url + '/restconf/operations/ietf-subscribed-notifications:establish-subscription'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.password`\" />\n<parameter name=\"dirPath\" value=\"/opt/sdnc/restconfapi/yang/notification\" />\n<!--<parameter name=\"deviceIp\" value=\"192.168.198.6\" />-->\n<!--<parameter name=\"devicePort\" value=\"18181\" />-->\n<parameter name=\"sseConnectURL\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.url + '/restconf/streams/yang-push-json'`\" />\n<parameter name=\"format\" value=\"json\" />\n<parameter name=\"httpMethod\" value=\"post\" />\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"X-ACCESS-TOKEN=x-ik2ps4ikvzupbx0486ft1ebzs7rt85futh9ho6eofy3wjsap7wqktemlqm4bbsmnar3vrtbyrzukbv5itd6m1cftldpjarnyle3sdcqq9hftc4lebz464b5ffxmlbvg9\" />\n<parameter name=\"module\" value=\"GENERIC-RESOURCE-API\" />\n<parameter name=\"rpc\" value=\"cll-vnf-topology-operation-cll-callbackdg-notification\" />\n<parameter name=\"version\" value=\"`$project.version`\" />\n<parameter name=\"mode\" value=\"sync\" />\n<parameter name=\"responsePrefix\" value=\"restapi-result\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1171.3333740234375,
        "y": 2861.33349609375,
        "z": "111f91bb.269a56",
        "wires": [
            []
        ]
    },
    {
        "id": "feb8a80.2e93d58",
        "type": "execute",
        "name": "execute RestconfDiscoveryNode establishPersistentConnection",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restconfdiscovery.RestconfDiscoveryNode' method='establishPersistentSseConnection' >\n<parameter name=\"subscriberId\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.url`\" />\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.cll-subscribe-notification.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.url + '/restconf/operations/ietf-subscribed-notifications:establish-subscription'`\" />\n<parameter name=\"sseConnectURL\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.url + '/restconf/streams/yang-push-json'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.domainConn.password`\" />\n<parameter name=\"dirPath\" value=\"/opt/sdnc/restconfapi/yang/notification\" />\n<parameter name=\"format\" value=\"json\" />\n<parameter name=\"httpMethod\" value=\"get\" />\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"X-ACCESS-TOKEN=x-ik2ps4ikvzupbx0486ft1ebzs7rt85futh9ho6eofy3wjsap7wqktemlqm4bbsmnar3vrtbyrzukbv5itd6m1cftldpjarnyle3sdcqq9hftc4lebz464b5ffxmlbvg9\" />\n<parameter name=\"module\" value=\"GENERIC-RESOURCE-API\" />\n<parameter name=\"rpc\" value=\"cll-vnf-topology-operation-cll-callbackdg-notification\" />\n<parameter name=\"version\" value=\"`$project.version`\" />\n<parameter name=\"mode\" value=\"sync\" />\n<parameter name=\"responsePrefix\" value=\"notification-get-result\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1201.3333740234375,
        "y": 2923.33349609375,
        "z": "111f91bb.269a56",
        "wires": [
            []
        ]
    }
]