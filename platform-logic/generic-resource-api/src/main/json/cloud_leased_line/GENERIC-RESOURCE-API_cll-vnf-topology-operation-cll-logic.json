[
    {
        "id": "7b0a2375.19194c",
        "type": "save",
        "name": "get all-connectivities from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"connectivities\"\n\t    key=\"selflink = 'https://aai.onap:8443/aai/v24/network/connectivities\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.all-connectivities\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 271,
        "y": 341,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "f06c3947.630bf",
                "baa57021.06de88",
                "770d11f9.13541"
            ]
        ]
    },
    {
        "id": "f06c3947.630bf",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 509,
        "y": 309,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "8f09fc1f.1f9e1"
            ]
        ]
    },
    {
        "id": "baa57021.06de88",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 509.490966796875,
        "y": 354.57403564453125,
        "z": "fb45f2fd.f3f61",
        "wires": [
            []
        ]
    },
    {
        "id": "770d11f9.13541",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 507,
        "y": 398,
        "z": "fb45f2fd.f3f61",
        "wires": [
            []
        ]
    },
    {
        "id": "8f09fc1f.1f9e1",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 682,
        "y": 307,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "e755721c.711348"
            ]
        ]
    },
    {
        "id": "15095086.d2123f",
        "type": "for",
        "name": "for connidx in all-connectivities",
        "xml": "<for index='connidx' start='0' end='`$tmp.aai.all-connectivities.connectivity_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 718,
        "y": 528,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "990dc4a9.cfdf28"
            ]
        ]
    },
    {
        "id": "990dc4a9.cfdf28",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 157,
        "y": 624,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "504b7173.9a04",
                "abd234d.58ac848"
            ]
        ]
    },
    {
        "id": "504b7173.9a04",
        "type": "switchNode",
        "name": "switch conn type is mdsc",
        "xml": "<switch test=\"`$tmp.aai.all-connectivities.connectivity[$connidx].vpn-type == 'mdsc' `\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 187,
        "y": 745,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "21e297f1.dc3d08",
                "1c75dc19.23204c"
            ]
        ]
    },
    {
        "id": "21e297f1.dc3d08",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 391,
        "y": 778,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "f10ea601.371e28"
            ]
        ]
    },
    {
        "id": "1c75dc19.23204c",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 393,
        "y": 723,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "eba2e2ab.d5d96"
            ]
        ]
    },
    {
        "id": "f10ea601.371e28",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 543,
        "y": 778,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "7a2fe87b.22223"
            ]
        ]
    },
    {
        "id": "e755721c.711348",
        "type": "switchNode",
        "name": "switch conn list empty?",
        "xml": "<switch test=\"`$tmp.aai.all-connectivities.connectivity_length == 0`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 274,
        "y": 523,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "f98c61eb.311468",
                "f482191d.a1c73"
            ]
        ]
    },
    {
        "id": "f98c61eb.311468",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 499,
        "y": 458,
        "z": "fb45f2fd.f3f61",
        "wires": [
            []
        ]
    },
    {
        "id": "f482191d.a1c73",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 493,
        "y": 528,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "15095086.d2123f"
            ]
        ]
    },
    {
        "id": "f6a19ff.e5e506",
        "type": "comment",
        "name": "ein addi normal",
        "info": "",
        "comments": "",
        "x": 644,
        "y": 457,
        "z": "fb45f2fd.f3f61",
        "wires": []
    },
    {
        "id": "6b9d01c8.8380d",
        "type": "comment",
        "name": "ein addi normal",
        "info": "",
        "comments": "",
        "x": 667,
        "y": 353,
        "z": "fb45f2fd.f3f61",
        "wires": []
    },
    {
        "id": "5b66feaa.e86c28",
        "type": "comment",
        "name": "ein addi normal",
        "info": "",
        "comments": "",
        "x": 662,
        "y": 396,
        "z": "fb45f2fd.f3f61",
        "wires": []
    },
    {
        "id": "d5e8e6d4.6174b",
        "type": "switchNode",
        "name": "switch conn vlan same as curr ll",
        "xml": "<!--<switch test=\"`$tmp.aai.all-connectivities.connectivity[$connidx].cvlan == $tmp.aai.network-route-LEAF.logical-interface-id `\">-->\n<switch test=\"`$tmp.aai.mmrconnectivity.cvlan == $tmp.aai.network-route-LEAF.logical-interface-id `\">\n",
        "comments": "",
        "outputs": 1,
        "x": 236,
        "y": 1432,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "cd252ece.fc6de",
                "60cb2182.fee2"
            ]
        ]
    },
    {
        "id": "cd252ece.fc6de",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 447,
        "y": 1402,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "4f3cf1a8.7050e"
            ]
        ]
    },
    {
        "id": "60cb2182.fee2",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 445,
        "y": 1454,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "cef30c4.ef4cd7"
            ]
        ]
    },
    {
        "id": "eba2e2ab.d5d96",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 548,
        "y": 722,
        "z": "fb45f2fd.f3f61",
        "wires": [
            []
        ]
    },
    {
        "id": "4f3cf1a8.7050e",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 602,
        "y": 1403,
        "z": "fb45f2fd.f3f61",
        "wires": [
            []
        ]
    },
    {
        "id": "cef30c4.ef4cd7",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='connrelidx' start='0' end='`$tmp.aai.mmrconnectivity.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 629,
        "y": 1452,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "d05fb37f.c486c8",
                "1276102f.a824d8"
            ]
        ]
    },
    {
        "id": "d05fb37f.c486c8",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.mmrconnectivity.relationship-list.relationship[$connrelidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 835,
        "y": 1452,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "25263c04.90ef7c"
            ]
        ]
    },
    {
        "id": "25263c04.90ef7c",
        "type": "outcome",
        "name": "UNI",
        "xml": "<outcome value='uni'>\n",
        "comments": "",
        "outputs": 1,
        "x": 999.28564453125,
        "y": 1451.82177734375,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "15768efa.a62941"
            ]
        ]
    },
    {
        "id": "15768efa.a62941",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 197.1171875,
        "y": 1553.34033203125,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "1e97f046.fc5fc8",
                "11d23afb.a558bd"
            ]
        ]
    },
    {
        "id": "d5f57787.9b2fc8",
        "type": "comment",
        "name": "TODO",
        "info": "",
        "comments": "",
        "x": 216,
        "y": 1460,
        "z": "fb45f2fd.f3f61",
        "wires": []
    },
    {
        "id": "3f1e619e.884ab6",
        "type": "switchNode",
        "name": "switch uni.tp-id is ROOT",
        "xml": "<switch test='`$tmp.aai.uni.id == $tmp.ROOT.uni-p-interface-long`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 916,
        "y": 1555,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "b4219e4f.0520e",
                "777497f5.84d998"
            ]
        ]
    },
    {
        "id": "1e97f046.fc5fc8",
        "type": "set",
        "name": "set tmp.uni.id",
        "xml": "<set>\n<parameter name='tmp.uni.id' value='`$tmp.aai.mmrconnectivity.relationship-list.relationship[$connrelidx].relationship-data[0].relationship-value`' />\n",
        "comments": "",
        "x": 370,
        "y": 1549,
        "z": "fb45f2fd.f3f61",
        "wires": []
    },
    {
        "id": "1276102f.a824d8",
        "type": "set",
        "name": "unset tmp.uni.id",
        "xml": "<set>\n<parameter name='tmp.uni.id' value='' />\n",
        "comments": "",
        "x": 828,
        "y": 1402,
        "z": "fb45f2fd.f3f61",
        "wires": []
    },
    {
        "id": "11d23afb.a558bd",
        "type": "save",
        "name": "get uni from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"uni\"\n\t    key=\"uni.id = $tmp.uni.id\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.uni\" >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 373,
        "y": 1596,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "892d20e.12d85e",
                "7da1ee3a.e78cb",
                "58ab5e35.f749d"
            ]
        ]
    },
    {
        "id": "892d20e.12d85e",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 545,
        "y": 1580,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "8ca2de8b.fa6f4"
            ]
        ]
    },
    {
        "id": "7da1ee3a.e78cb",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 545.490966796875,
        "y": 1625.5740356445312,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "889ff.98f506018"
            ]
        ]
    },
    {
        "id": "58ab5e35.f749d",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 546,
        "y": 1666,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "8d5edab7.25bff"
            ]
        ]
    },
    {
        "id": "889ff.98f506018",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value='uni not found' />\n",
        "comments": "",
        "x": 696,
        "y": 1626,
        "z": "fb45f2fd.f3f61",
        "wires": []
    },
    {
        "id": "8d5edab7.25bff",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value='uni not found' />\n",
        "comments": "",
        "x": 693,
        "y": 1665,
        "z": "fb45f2fd.f3f61",
        "wires": []
    },
    {
        "id": "8ca2de8b.fa6f4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 706,
        "y": 1576,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "8429b9e7.1b46b",
                "f62ad7f3.b94538"
            ]
        ]
    },
    {
        "id": "bc37f012.c984b",
        "type": "comment",
        "name": "THIS SHOULD BE RETIRED?",
        "info": "",
        "comments": "",
        "x": 898,
        "y": 1509,
        "z": "fb45f2fd.f3f61",
        "wires": []
    },
    {
        "id": "f7004653.aced4",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 178,
        "y": 78,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "4d6292f9.29a84c"
            ]
        ]
    },
    {
        "id": "4d6292f9.29a84c",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 462.2856903076172,
        "y": 139.23810863494873,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "cb7f429c.c16cd8"
            ]
        ]
    },
    {
        "id": "cb7f429c.c16cd8",
        "type": "method",
        "name": "method cll-vnf-topology-operation-cll-logic",
        "xml": "<method rpc='cll-vnf-topology-operation-cll-logic' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 468.42860412597656,
        "y": 224.00003051757812,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "f9801a6c.b832c"
            ]
        ]
    },
    {
        "id": "f9801a6c.b832c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 778.238037109375,
        "y": 215.66668701171875,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "7b0a2375.19194c",
                "faf609fb.751ba",
                "a41833d1.ac9d88",
                "5bc7dc0.190fca4",
                "287c8e9d.ecd2da"
            ]
        ]
    },
    {
        "id": "dfb8236b.074ec8",
        "type": "set",
        "name": "set middle-man-conn",
        "xml": "<set>\n<parameter name='middle-man-conn.' value='`$tmp.aai.all-connectivities.connectivity[$connidx].`' />\n",
        "comments": "",
        "x": 1418,
        "y": 1597,
        "z": "fb45f2fd.f3f61",
        "wires": []
    },
    {
        "id": "b4219e4f.0520e",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1095,
        "y": 1511,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "71aa028b.bdc3e4"
            ]
        ]
    },
    {
        "id": "777497f5.84d998",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1094,
        "y": 1567,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "aa4430ef.d9e498"
            ]
        ]
    },
    {
        "id": "aa4430ef.d9e498",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1236,
        "y": 1566,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "dfb8236b.074ec8",
                "e041bd52.978d1"
            ]
        ]
    },
    {
        "id": "e041bd52.978d1",
        "type": "set",
        "name": "set found-middle-man",
        "xml": "<set>\n<parameter name='found-middle-man' value=\"true\" />\n",
        "comments": "",
        "x": 1422,
        "y": 1543,
        "z": "fb45f2fd.f3f61",
        "wires": []
    },
    {
        "id": "faf609fb.751ba",
        "type": "set",
        "name": "set found-middle-man",
        "xml": "<set>\n<parameter name='found-middle-man' value=\"false\" />\n",
        "comments": "",
        "x": 1016,
        "y": 152,
        "z": "fb45f2fd.f3f61",
        "wires": []
    },
    {
        "id": "8429b9e7.1b46b",
        "type": "switchNode",
        "name": "switch uni-tp-id-node-part is OTHERSIRE-NODEONLY",
        "xml": "<switch test='`$tmp.uni.pnf-name == $tmp.LEAF.pnf-name-long`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 945,
        "y": 1972,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "967dd77f.a9ddf8",
                "3a04bb6.f5843c4"
            ]
        ]
    },
    {
        "id": "967dd77f.a9ddf8",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1226,
        "y": 1949,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "e6273a1e.a882d8"
            ]
        ]
    },
    {
        "id": "3a04bb6.f5843c4",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1219,
        "y": 2008,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "ad97b1cf.83f91"
            ]
        ]
    },
    {
        "id": "ad97b1cf.83f91",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1361,
        "y": 2007,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "5b517936.cbfa08",
                "311640ea.18d798",
                "1778233a.2c990d",
                "aa0b4226.979d68"
            ]
        ]
    },
    {
        "id": "71aa028b.bdc3e4",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1237,
        "y": 1501,
        "z": "fb45f2fd.f3f61",
        "wires": [
            []
        ]
    },
    {
        "id": "e6273a1e.a882d8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1356,
        "y": 1953,
        "z": "fb45f2fd.f3f61",
        "wires": [
            []
        ]
    },
    {
        "id": "311640ea.18d798",
        "type": "set",
        "name": "set middle-man-conn",
        "xml": "<set>\n<parameter name='middle-man-conn.' value='`$tmp.aai.all-connectivities.connectivity[$connidx].`' />\n",
        "comments": "",
        "x": 1569,
        "y": 2026,
        "z": "fb45f2fd.f3f61",
        "wires": []
    },
    {
        "id": "5b517936.cbfa08",
        "type": "set",
        "name": "set no-pce-call",
        "xml": "<set>\n<parameter name='no-pce-call' value=\"true\" />\n",
        "comments": "",
        "x": 1553,
        "y": 1974,
        "z": "fb45f2fd.f3f61",
        "wires": []
    },
    {
        "id": "a41833d1.ac9d88",
        "type": "set",
        "name": "set no-pce-call",
        "xml": "<set>\n<parameter name='no-pce-call' value=\"false\" />\n",
        "comments": "",
        "x": 993,
        "y": 198,
        "z": "fb45f2fd.f3f61",
        "wires": []
    },
    {
        "id": "663e6db8.3ac154",
        "type": "comment",
        "name": "find the node part of the uni.id (uni-tp-id-node-part)",
        "info": "",
        "comments": "",
        "x": 966,
        "y": 1781,
        "z": "fb45f2fd.f3f61",
        "wires": []
    },
    {
        "id": "f62ad7f3.b94538",
        "type": "execute",
        "name": "execute split id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.aai.uni.id`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-uni-pnfName\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 901,
        "y": 1838,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "a1c99a4f.cc4ba8",
                "b212c5d0.bf7fe"
            ]
        ]
    },
    {
        "id": "b212c5d0.bf7fe",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1124,
        "y": 1824,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "476892d7.bc3d8c"
            ]
        ]
    },
    {
        "id": "a1c99a4f.cc4ba8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1126,
        "y": 1857,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "cb705f2e.381028"
            ]
        ]
    },
    {
        "id": "476892d7.bc3d8c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1272,
        "y": 1817,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "dd2db0f7.6e11c8"
            ]
        ]
    },
    {
        "id": "cb705f2e.381028",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 1269,
        "y": 1854,
        "z": "fb45f2fd.f3f61",
        "wires": []
    },
    {
        "id": "dd2db0f7.6e11c8",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.uni.pnf-name' value=\"`$param-prefix-uni-pnfName[0] + '-' +\n                                                   $param-prefix-uni-pnfName[1] + '-' +\n                                                   $param-prefix-uni-pnfName[2] + '-' +\n                                                   $param-prefix-uni-pnfName[3] + '-' +\n                                                   $param-prefix-uni-pnfName[4] + '-' +\n                                                   $param-prefix-uni-pnfName[5] + '-' +\n                                                   $param-prefix-uni-pnfName[6] + '-' +\n                                                   $param-prefix-uni-pnfName[7] + '-' +\n                                                   $param-prefix-uni-pnfName[8]`\" />\n",
        "comments": "",
        "x": 1449,
        "y": 1817,
        "z": "fb45f2fd.f3f61",
        "wires": []
    },
    {
        "id": "7a2fe87b.22223",
        "type": "switchNode",
        "name": "switch color-aware is ROOT",
        "xml": "<switch test=\"`$tmp.aai.all-connectivities.connectivity[$connidx].color-aware == $tmp.ROOT.uni-p-interface-long`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 789,
        "y": 777,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "173f4814.22298",
                "e05c6609.d62108"
            ]
        ]
    },
    {
        "id": "173f4814.22298",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 989,
        "y": 738,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "c2195b31.7e4bd"
            ]
        ]
    },
    {
        "id": "e05c6609.d62108",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 988,
        "y": 794,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "debff193.d4e6d"
            ]
        ]
    },
    {
        "id": "c2195b31.7e4bd",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1131,
        "y": 728,
        "z": "fb45f2fd.f3f61",
        "wires": [
            []
        ]
    },
    {
        "id": "debff193.d4e6d",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1130,
        "y": 793,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "e8efcfa.5f73cb",
                "c46e249d.aa62a8"
            ]
        ]
    },
    {
        "id": "c46e249d.aa62a8",
        "type": "set",
        "name": "set found-middle-man",
        "xml": "<set>\n<parameter name='found-middle-man' value=\"true\" />\n",
        "comments": "",
        "x": 1341,
        "y": 750,
        "z": "fb45f2fd.f3f61",
        "wires": []
    },
    {
        "id": "e8efcfa.5f73cb",
        "type": "set",
        "name": "set middle-man-conn",
        "xml": "<set>\n<parameter name='middle-man-conn.' value='`$tmp.aai.all-connectivities.connectivity[$connidx].`' />\n",
        "comments": "",
        "x": 1342,
        "y": 802,
        "z": "fb45f2fd.f3f61",
        "wires": []
    },
    {
        "id": "5bc7dc0.190fca4",
        "type": "set",
        "name": "unset tmp.aai.all-connectivities",
        "xml": "<set>\n<parameter name='tmp.aai.all-connectivities.' value=\"\" />\n",
        "comments": "",
        "x": 991,
        "y": 100,
        "z": "fb45f2fd.f3f61",
        "wires": []
    },
    {
        "id": "287c8e9d.ecd2da",
        "type": "set",
        "name": "unset middle-man-conn",
        "xml": "<set>\n<parameter name='middle-man-conn.' value='' />\n",
        "comments": "",
        "x": 957,
        "y": 64,
        "z": "fb45f2fd.f3f61",
        "wires": []
    },
    {
        "id": "5330b6b3.3bf2d8",
        "type": "record",
        "name": "record tmp.pce-src and dst node",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\" />\n<parameter name=\"level\" value=\"info\" />\n<!--<parameter name=\"field1\" value=\"Path computation succeed!\"/>-->\n<!--<parameter name=\"field2\" value=\"`$ccsdkTopo.resp.solutions_length`\"/>-->\n\n<!--<parameter name=\"field1\" value=\"`$tmp.src.domainA.pnf-name`\"/>-->\n<!--<parameter name=\"field2\" value=\"`$tmp.dst.domainB.pnf-name`\"/>-->\n<parameter name=\"field1\" value=\"`$tmp.pce-src-node`\"/>\n<parameter name=\"field2\" value=\"`$tmp.pce-dst-node`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1602,
        "y": 2084,
        "z": "fb45f2fd.f3f61",
        "wires": [
            []
        ]
    },
    {
        "id": "aa0b4226.979d68",
        "type": "execute",
        "name": "execute printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n    <parameter name=\"filename\" value=\"`$filenamebb`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1566,
        "y": 2165,
        "z": "fb45f2fd.f3f61",
        "wires": [
            []
        ]
    },
    {
        "id": "1778233a.2c990d",
        "type": "set",
        "name": "set filename",
        "xml": "<set>\n<parameter name='filenamebb' value=\"`$param-prefix-uni-pnfName[8]`\" />",
        "comments": "",
        "x": 1535,
        "y": 2125,
        "z": "fb45f2fd.f3f61",
        "wires": []
    },
    {
        "id": "abd234d.58ac848",
        "type": "switchNode",
        "name": "switch found-middle-man",
        "xml": "<switch test=\"`$found-middle-man`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 188,
        "y": 911,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "1e2b2b53.734fe5",
                "4e1ac306.8f9a04"
            ]
        ]
    },
    {
        "id": "4e1ac306.8f9a04",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 394,
        "y": 889,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "504b4dff.3f7944"
            ]
        ]
    },
    {
        "id": "1e2b2b53.734fe5",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 392,
        "y": 944,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "e852f499.d7d47"
            ]
        ]
    },
    {
        "id": "504b4dff.3f7944",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 549,
        "y": 888,
        "z": "fb45f2fd.f3f61",
        "wires": [
            []
        ]
    },
    {
        "id": "e852f499.d7d47",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 544,
        "y": 944,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "95ae8b1f.95bdf"
            ]
        ]
    },
    {
        "id": "95ae8b1f.95bdf",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='mmridx' start='0' end='`$middle-man-conn.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 756,
        "y": 947,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "6ca655d7.32b94c",
                "71946c21.27e46c"
            ]
        ]
    },
    {
        "id": "71946c21.27e46c",
        "type": "set",
        "name": "unset tmp.aai.mmrconnectivity",
        "xml": "<set>\n<parameter name='tmp.aai.mmrconnectivity.' value='' />\n",
        "comments": "",
        "x": 978,
        "y": 903,
        "z": "fb45f2fd.f3f61",
        "wires": []
    },
    {
        "id": "6ca655d7.32b94c",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$middle-man-conn.relationship-list.relationship[$mmridx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 962,
        "y": 947,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "89f1fe8.12eb2"
            ]
        ]
    },
    {
        "id": "89f1fe8.12eb2",
        "type": "outcome",
        "name": "connectivity",
        "xml": "<outcome value='connectivity'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1145.28564453125,
        "y": 946.82177734375,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "c43f8d7b.42f328"
            ]
        ]
    },
    {
        "id": "c43f8d7b.42f328",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 173,
        "y": 1052,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "c356b2d1.473de"
            ]
        ]
    },
    {
        "id": "c356b2d1.473de",
        "type": "save",
        "name": "get connectivity from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"connectivity\"\n\t    key=\"connectivity.connectivity-id = $middle-man-conn.relationship-list.relationship[$mmridx].relationship-data[0].relationship-value\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.mmrconnectivity\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 380,
        "y": 1052,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "7d3aad12.e7729c",
                "445bc622.878b58",
                "a630aaa4.2b5c1"
            ]
        ]
    },
    {
        "id": "7d3aad12.e7729c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 601,
        "y": 1025,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "29193430.648e5c"
            ]
        ]
    },
    {
        "id": "57eaf357.b6c024",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 755,
        "y": 1106,
        "z": "fb45f2fd.f3f61",
        "wires": []
    },
    {
        "id": "e9fd4655.c826d",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 751.0623779296875,
        "y": 1061.8597717285156,
        "z": "fb45f2fd.f3f61",
        "wires": []
    },
    {
        "id": "445bc622.878b58",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 588.490966796875,
        "y": 1061.5740356445312,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "e9fd4655.c826d"
            ]
        ]
    },
    {
        "id": "a630aaa4.2b5c1",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 586,
        "y": 1105,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "57eaf357.b6c024"
            ]
        ]
    },
    {
        "id": "29193430.648e5c",
        "type": "switchNode",
        "name": "switch mmrconn type is LEAF",
        "xml": "<switch test=\"`$tmp.aai.mmrconnectivity.vpn-type == 'leaf' `\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 829,
        "y": 1019,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "152b411b.34753f",
                "c764b7cf.a07508"
            ]
        ]
    },
    {
        "id": "c764b7cf.a07508",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1035,
        "y": 997,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "758dd9de.5cdc2"
            ]
        ]
    },
    {
        "id": "152b411b.34753f",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1033,
        "y": 1052,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "eb586f24.4ec9a"
            ]
        ]
    },
    {
        "id": "758dd9de.5cdc2",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1190,
        "y": 996,
        "z": "fb45f2fd.f3f61",
        "wires": [
            []
        ]
    },
    {
        "id": "eb586f24.4ec9a",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1185,
        "y": 1052,
        "z": "fb45f2fd.f3f61",
        "wires": [
            [
                "d5e8e6d4.6174b"
            ]
        ]
    }
]