[
    {
        "id": "ae6ce233.cb49c8",
        "type": "save",
        "name": "get all-connectivities from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"connectivities\"\n\t    key=\"selflink = 'https://aai.onap:8443/aai/v24/network/connectivities\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.all-connectivities\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 342.8833312988281,
        "y": 355,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "ad0ebe6a.108058",
                "e70f7c6d.fdd708",
                "478400c1.aa8de8"
            ]
        ]
    },
    {
        "id": "ad0ebe6a.108058",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 580.8833312988281,
        "y": 323,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "39997c10.b90074"
            ]
        ]
    },
    {
        "id": "e70f7c6d.fdd708",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 581.3742980957031,
        "y": 368.57403564453125,
        "z": "17ebb490.e5413b",
        "wires": [
            []
        ]
    },
    {
        "id": "478400c1.aa8de8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 578.8833312988281,
        "y": 412,
        "z": "17ebb490.e5413b",
        "wires": [
            []
        ]
    },
    {
        "id": "39997c10.b90074",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 753.8833312988281,
        "y": 321,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "aefbd8d9.0d607"
            ]
        ]
    },
    {
        "id": "11206470.526174",
        "type": "for",
        "name": "for connidx in all-connectivities",
        "xml": "<for index='connidx' start='0' end='`$tmp.aai.all-connectivities.connectivity_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 789.8833312988281,
        "y": 542,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "f0aadf36.87aff"
            ]
        ]
    },
    {
        "id": "f0aadf36.87aff",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 228.88333129882812,
        "y": 638,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "a9594d85.e9f878",
                "380d57d7.fea4b"
            ]
        ]
    },
    {
        "id": "a9594d85.e9f878",
        "type": "switchNode",
        "name": "switch conn type is mdsc",
        "xml": "<switch test=\"`$tmp.aai.all-connectivities.connectivity[$connidx].vpn-type == 'mdsc' `\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 258.8833312988281,
        "y": 759,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "cd105cc3.e86598",
                "e73994bf.bcc7a"
            ]
        ]
    },
    {
        "id": "cd105cc3.e86598",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 462.8833312988281,
        "y": 792,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "fb61d765.95738"
            ]
        ]
    },
    {
        "id": "e73994bf.bcc7a",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 464.8833312988281,
        "y": 737,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "87d4935c.7f47b"
            ]
        ]
    },
    {
        "id": "fb61d765.95738",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 614.8833312988281,
        "y": 792,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "fce0046e.17ed4"
            ]
        ]
    },
    {
        "id": "aefbd8d9.0d607",
        "type": "switchNode",
        "name": "switch conn list empty?",
        "xml": "<switch test=\"`$tmp.aai.all-connectivities.connectivity_length == 0`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 345.8833312988281,
        "y": 537,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "226ed271.6fe31e",
                "c192b354.6af6d8"
            ]
        ]
    },
    {
        "id": "226ed271.6fe31e",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 570.8833312988281,
        "y": 472,
        "z": "17ebb490.e5413b",
        "wires": [
            []
        ]
    },
    {
        "id": "c192b354.6af6d8",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 564.8833312988281,
        "y": 542,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "11206470.526174"
            ]
        ]
    },
    {
        "id": "e5434531.84e89",
        "type": "comment",
        "name": "ein addi normal",
        "info": "",
        "comments": "",
        "x": 715.8833312988281,
        "y": 471,
        "z": "17ebb490.e5413b",
        "wires": []
    },
    {
        "id": "faa6b1fb.f35298",
        "type": "comment",
        "name": "ein addi normal",
        "info": "",
        "comments": "",
        "x": 738.8833312988281,
        "y": 367,
        "z": "17ebb490.e5413b",
        "wires": []
    },
    {
        "id": "af480ce1.7cb108",
        "type": "comment",
        "name": "ein addi normal",
        "info": "",
        "comments": "",
        "x": 733.8833312988281,
        "y": 410,
        "z": "17ebb490.e5413b",
        "wires": []
    },
    {
        "id": "b34ecdaf.e57d9",
        "type": "switchNode",
        "name": "switch conn vlan same as curr ll",
        "xml": "<!--<switch test=\"`$tmp.aai.all-connectivities.connectivity[$connidx].cvlan == $tmp.aai.network-route-LEAF.logical-interface-id `\">-->\n<switch test=\"`$tmp.aai.mmrconnectivity.cvlan == $tmp.aai.network-route-LEAF.logical-interface-id `\">\n",
        "comments": "",
        "outputs": 1,
        "x": 307.8833312988281,
        "y": 1446,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "91cd0712.b09c18",
                "b11fe991.358eb"
            ]
        ]
    },
    {
        "id": "91cd0712.b09c18",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 518.8833312988281,
        "y": 1416,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "1f3692a3.acfe3d"
            ]
        ]
    },
    {
        "id": "b11fe991.358eb",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 516.8833312988281,
        "y": 1468,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "234b7ab5.de6a7e"
            ]
        ]
    },
    {
        "id": "87d4935c.7f47b",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 619.8833312988281,
        "y": 736,
        "z": "17ebb490.e5413b",
        "wires": [
            []
        ]
    },
    {
        "id": "1f3692a3.acfe3d",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 673.8833312988281,
        "y": 1417,
        "z": "17ebb490.e5413b",
        "wires": [
            []
        ]
    },
    {
        "id": "234b7ab5.de6a7e",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='connrelidx' start='0' end='`$tmp.aai.mmrconnectivity.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 700.8833312988281,
        "y": 1466,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "b4ee2585.74fbf",
                "ff81000b.fb7c2"
            ]
        ]
    },
    {
        "id": "b4ee2585.74fbf",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.mmrconnectivity.relationship-list.relationship[$connrelidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 906.8833312988281,
        "y": 1466,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "2cc806a4.6e3c9a"
            ]
        ]
    },
    {
        "id": "2cc806a4.6e3c9a",
        "type": "outcome",
        "name": "UNI",
        "xml": "<outcome value='uni'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1071.1689758300781,
        "y": 1465.82177734375,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "38fac4a0.444754"
            ]
        ]
    },
    {
        "id": "38fac4a0.444754",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 269.0005187988281,
        "y": 1567.34033203125,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "825d7520.c89d3",
                "f01e6cc3.227fc"
            ]
        ]
    },
    {
        "id": "3d5ae731.2a14e8",
        "type": "comment",
        "name": "TODO",
        "info": "",
        "comments": "",
        "x": 287.8833312988281,
        "y": 1474,
        "z": "17ebb490.e5413b",
        "wires": []
    },
    {
        "id": "370aae9e.ee24b2",
        "type": "switchNode",
        "name": "switch uni.tp-id is ROOT",
        "xml": "<switch test='`$tmp.aai.uni.id == $tmp.ROOT.uni-p-interface-long`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 987.8833312988281,
        "y": 1569,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "7e154eb9.5d4cc8",
                "afc167b3.ef6778"
            ]
        ]
    },
    {
        "id": "825d7520.c89d3",
        "type": "set",
        "name": "set tmp.uni.id",
        "xml": "<set>\n<parameter name='tmp.uni.id' value='`$tmp.aai.mmrconnectivity.relationship-list.relationship[$connrelidx].relationship-data[0].relationship-value`' />\n",
        "comments": "",
        "x": 441.8833312988281,
        "y": 1563,
        "z": "17ebb490.e5413b",
        "wires": []
    },
    {
        "id": "ff81000b.fb7c2",
        "type": "set",
        "name": "unset tmp.uni.id",
        "xml": "<set>\n<parameter name='tmp.uni.id' value='' />\n",
        "comments": "",
        "x": 899.8833312988281,
        "y": 1416,
        "z": "17ebb490.e5413b",
        "wires": []
    },
    {
        "id": "f01e6cc3.227fc",
        "type": "save",
        "name": "get uni from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"uni\"\n\t    key=\"uni.id = $tmp.uni.id\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.uni\" >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 444.8833312988281,
        "y": 1610,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "ea6303b2.75e68",
                "a6891bca.04787",
                "9b99051a.095eb8"
            ]
        ]
    },
    {
        "id": "ea6303b2.75e68",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 616.8833312988281,
        "y": 1594,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "49a1213f.79c1"
            ]
        ]
    },
    {
        "id": "a6891bca.04787",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 617.3742980957031,
        "y": 1639.5740356445312,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "e29da398.a00668"
            ]
        ]
    },
    {
        "id": "9b99051a.095eb8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 617.8833312988281,
        "y": 1680,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "fe2cb11b.f77b8"
            ]
        ]
    },
    {
        "id": "e29da398.a00668",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value='uni not found' />\n",
        "comments": "",
        "x": 767.8833312988281,
        "y": 1640,
        "z": "17ebb490.e5413b",
        "wires": []
    },
    {
        "id": "fe2cb11b.f77b8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value='uni not found' />\n",
        "comments": "",
        "x": 764.8833312988281,
        "y": 1679,
        "z": "17ebb490.e5413b",
        "wires": []
    },
    {
        "id": "49a1213f.79c1",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 777.8833312988281,
        "y": 1590,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "8ee8b27a.1e548",
                "36182b29.e459c4"
            ]
        ]
    },
    {
        "id": "20dd4097.429e6",
        "type": "comment",
        "name": "THIS SHOULD BE RETIRED?",
        "info": "",
        "comments": "",
        "x": 969.8833312988281,
        "y": 1523,
        "z": "17ebb490.e5413b",
        "wires": []
    },
    {
        "id": "f8a7e147.d035a",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 249.88333129882812,
        "y": 92,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "9c94eec9.5c0dd8"
            ]
        ]
    },
    {
        "id": "9c94eec9.5c0dd8",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 534.1690216064453,
        "y": 153.23810863494873,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "482cf9ba.cfa1a8"
            ]
        ]
    },
    {
        "id": "482cf9ba.cfa1a8",
        "type": "method",
        "name": "method cll-vnf-topology-operation-cll-logic",
        "xml": "<method rpc='cll-vnf-topology-operation-cll-logic' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 540.3119354248047,
        "y": 238.00003051757812,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "c6167e24.8c2b48"
            ]
        ]
    },
    {
        "id": "c6167e24.8c2b48",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 850.1213684082031,
        "y": 229.66668701171875,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "ae6ce233.cb49c8",
                "38523ea0.abfb72",
                "7dfa60b1.017b38",
                "bf82e982.34914",
                "9f305e4b.2c08a8"
            ]
        ]
    },
    {
        "id": "11d67f79.34efb1",
        "type": "set",
        "name": "set middle-man-conn",
        "xml": "<set>\n<parameter name='middle-man-conn.' value='`$tmp.aai.all-connectivities.connectivity[$connidx].`' />\n",
        "comments": "",
        "x": 1489.8833312988281,
        "y": 1611,
        "z": "17ebb490.e5413b",
        "wires": []
    },
    {
        "id": "7e154eb9.5d4cc8",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1166.8833312988281,
        "y": 1525,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "93854e03.17954"
            ]
        ]
    },
    {
        "id": "afc167b3.ef6778",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1165.8833312988281,
        "y": 1581,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "76ae18a3.6c831"
            ]
        ]
    },
    {
        "id": "76ae18a3.6c831",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1307.8833312988281,
        "y": 1580,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "11d67f79.34efb1",
                "1deeeaf.25d7015"
            ]
        ]
    },
    {
        "id": "1deeeaf.25d7015",
        "type": "set",
        "name": "set found-middle-man",
        "xml": "<set>\n<parameter name='found-middle-man' value=\"true\" />\n",
        "comments": "",
        "x": 1493.8833312988281,
        "y": 1557,
        "z": "17ebb490.e5413b",
        "wires": []
    },
    {
        "id": "38523ea0.abfb72",
        "type": "set",
        "name": "set found-middle-man",
        "xml": "<set>\n<parameter name='found-middle-man' value=\"false\" />\n",
        "comments": "",
        "x": 1087.8833312988281,
        "y": 166,
        "z": "17ebb490.e5413b",
        "wires": []
    },
    {
        "id": "8ee8b27a.1e548",
        "type": "switchNode",
        "name": "switch uni-tp-id-node-part is OTHERSIRE-NODEONLY",
        "xml": "<switch test='`$tmp.uni.pnf-name == $tmp.LEAF.pnf-name-long`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1016.8833312988281,
        "y": 1986,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "27dde82a.2f3c2",
                "cd264050.8e9db"
            ]
        ]
    },
    {
        "id": "27dde82a.2f3c2",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1297.8833312988281,
        "y": 1963,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "509e3144.330748"
            ]
        ]
    },
    {
        "id": "cd264050.8e9db",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1290.8833312988281,
        "y": 2022,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "b8b89d47.17e2d8"
            ]
        ]
    },
    {
        "id": "b8b89d47.17e2d8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1432.8833312988281,
        "y": 2021,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "f293ac63.f31218",
                "d839efbf.779a6",
                "92b81e5e.75b818",
                "5bc64c01.f1d944",
                "94ffeddc.43efb"
            ]
        ]
    },
    {
        "id": "93854e03.17954",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1308.8833312988281,
        "y": 1515,
        "z": "17ebb490.e5413b",
        "wires": [
            []
        ]
    },
    {
        "id": "509e3144.330748",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1427.8833312988281,
        "y": 1967,
        "z": "17ebb490.e5413b",
        "wires": [
            []
        ]
    },
    {
        "id": "d839efbf.779a6",
        "type": "set",
        "name": "set middle-man-conn",
        "xml": "<set>\n<parameter name='middle-man-conn.' value='`$tmp.aai.all-connectivities.connectivity[$connidx].`' />\n",
        "comments": "",
        "x": 1640.8833312988281,
        "y": 2040,
        "z": "17ebb490.e5413b",
        "wires": []
    },
    {
        "id": "f293ac63.f31218",
        "type": "set",
        "name": "set no-pce-call",
        "xml": "<set>\n<parameter name='no-pce-call' value=\"true\" />\n",
        "comments": "",
        "x": 1624.8833312988281,
        "y": 1988,
        "z": "17ebb490.e5413b",
        "wires": []
    },
    {
        "id": "7dfa60b1.017b38",
        "type": "set",
        "name": "set no-pce-call",
        "xml": "<set>\n<parameter name='no-pce-call' value=\"false\" />\n",
        "comments": "",
        "x": 1064.8833312988281,
        "y": 212,
        "z": "17ebb490.e5413b",
        "wires": []
    },
    {
        "id": "5ac1fa22.3be604",
        "type": "comment",
        "name": "find the node part of the uni.id (uni-tp-id-node-part)",
        "info": "",
        "comments": "",
        "x": 1037.8833312988281,
        "y": 1795,
        "z": "17ebb490.e5413b",
        "wires": []
    },
    {
        "id": "36182b29.e459c4",
        "type": "execute",
        "name": "execute split id to get pnf-name",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.aai.uni.id`'/>\n<!--<parameter name=\"regex\" value=\"[^-]+$\"/>-->\n<parameter name=\"regex\" value=\"[-]+\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix-uni-pnfName\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 972.8833312988281,
        "y": 1852,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "1e88bba0.df5a0c",
                "cf2a5e36.db8d08"
            ]
        ]
    },
    {
        "id": "cf2a5e36.db8d08",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1195.8833312988281,
        "y": 1838,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "6c1ba065.ca6"
            ]
        ]
    },
    {
        "id": "1e88bba0.df5a0c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1197.8833312988281,
        "y": 1871,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "1fbe5fca.067f6"
            ]
        ]
    },
    {
        "id": "6c1ba065.ca6",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1343.8833312988281,
        "y": 1831,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "1fe3499.6fc8f36"
            ]
        ]
    },
    {
        "id": "1fbe5fca.067f6",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 1340.8833312988281,
        "y": 1868,
        "z": "17ebb490.e5413b",
        "wires": []
    },
    {
        "id": "1fe3499.6fc8f36",
        "type": "set",
        "name": "set pnf-name",
        "xml": "<set>\n<parameter name='tmp.uni.pnf-name' value=\"`$param-prefix-uni-pnfName[0] + '-' +\n                                                   $param-prefix-uni-pnfName[1] + '-' +\n                                                   $param-prefix-uni-pnfName[2] + '-' +\n                                                   $param-prefix-uni-pnfName[3] + '-' +\n                                                   $param-prefix-uni-pnfName[4] + '-' +\n                                                   $param-prefix-uni-pnfName[5] + '-' +\n                                                   $param-prefix-uni-pnfName[6] + '-' +\n                                                   $param-prefix-uni-pnfName[7] + '-' +\n                                                   $param-prefix-uni-pnfName[8]`\" />\n",
        "comments": "",
        "x": 1520.8833312988281,
        "y": 1831,
        "z": "17ebb490.e5413b",
        "wires": []
    },
    {
        "id": "fce0046e.17ed4",
        "type": "switchNode",
        "name": "switch color-aware is ROOT",
        "xml": "<switch test=\"`$tmp.aai.all-connectivities.connectivity[$connidx].color-aware == $tmp.ROOT.uni-p-interface-long`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 860.8833312988281,
        "y": 791,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "b74a4f09.9ed18",
                "14087de4.567de2"
            ]
        ]
    },
    {
        "id": "b74a4f09.9ed18",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1060.8833312988281,
        "y": 752,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "d1c419ac.9685a8"
            ]
        ]
    },
    {
        "id": "14087de4.567de2",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1059.8833312988281,
        "y": 808,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "edcebb95.f9b518"
            ]
        ]
    },
    {
        "id": "d1c419ac.9685a8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1202.8833312988281,
        "y": 742,
        "z": "17ebb490.e5413b",
        "wires": [
            []
        ]
    },
    {
        "id": "edcebb95.f9b518",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1201.8833312988281,
        "y": 807,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "b8f288cf.803b8",
                "f15c072a.39099"
            ]
        ]
    },
    {
        "id": "f15c072a.39099",
        "type": "set",
        "name": "set found-middle-man",
        "xml": "<set>\n<parameter name='found-middle-man' value=\"true\" />\n",
        "comments": "",
        "x": 1412.8833312988281,
        "y": 764,
        "z": "17ebb490.e5413b",
        "wires": []
    },
    {
        "id": "b8f288cf.803b8",
        "type": "set",
        "name": "set middle-man-conn",
        "xml": "<set>\n<parameter name='middle-man-conn.' value='`$tmp.aai.all-connectivities.connectivity[$connidx].`' />\n",
        "comments": "",
        "x": 1413.8833312988281,
        "y": 816,
        "z": "17ebb490.e5413b",
        "wires": []
    },
    {
        "id": "bf82e982.34914",
        "type": "set",
        "name": "unset tmp.aai.all-connectivities",
        "xml": "<set>\n<parameter name='tmp.aai.all-connectivities.' value=\"\" />\n",
        "comments": "",
        "x": 1062.8833312988281,
        "y": 114,
        "z": "17ebb490.e5413b",
        "wires": []
    },
    {
        "id": "9f305e4b.2c08a8",
        "type": "set",
        "name": "unset middle-man-conn",
        "xml": "<set>\n<parameter name='middle-man-conn.' value='' />\n",
        "comments": "",
        "x": 1028.8833312988281,
        "y": 78,
        "z": "17ebb490.e5413b",
        "wires": []
    },
    {
        "id": "1eb5be31.ea0af2",
        "type": "record",
        "name": "record tmp.pce-src and dst node",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\" />\n<parameter name=\"level\" value=\"info\" />\n<!--<parameter name=\"field1\" value=\"Path computation succeed!\"/>-->\n<!--<parameter name=\"field2\" value=\"`$ccsdkTopo.resp.solutions_length`\"/>-->\n\n<!--<parameter name=\"field1\" value=\"`$tmp.src.domainA.pnf-name`\"/>-->\n<!--<parameter name=\"field2\" value=\"`$tmp.dst.domainB.pnf-name`\"/>-->\n<parameter name=\"field1\" value=\"`$tmp.pce-src-node`\"/>\n<parameter name=\"field2\" value=\"`$tmp.pce-dst-node`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1673.8833312988281,
        "y": 2098,
        "z": "17ebb490.e5413b",
        "wires": [
            []
        ]
    },
    {
        "id": "5bc64c01.f1d944",
        "type": "execute",
        "name": "execute printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n    <parameter name=\"filename\" value=\"`$filenamebb`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1637.8833312988281,
        "y": 2179,
        "z": "17ebb490.e5413b",
        "wires": [
            []
        ]
    },
    {
        "id": "92b81e5e.75b818",
        "type": "set",
        "name": "set filename",
        "xml": "<set>\n<parameter name='filenamebb' value=\"`$param-prefix-uni-pnfName[8]`\" />",
        "comments": "",
        "x": 1606.8833312988281,
        "y": 2139,
        "z": "17ebb490.e5413b",
        "wires": []
    },
    {
        "id": "380d57d7.fea4b",
        "type": "switchNode",
        "name": "switch found-middle-man",
        "xml": "<switch test=\"`$found-middle-man`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 259.8833312988281,
        "y": 925,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "d4fb18fc.5f1838",
                "f8995511.35102"
            ]
        ]
    },
    {
        "id": "f8995511.35102",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 465.8833312988281,
        "y": 903,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "2b130822.bbaac8"
            ]
        ]
    },
    {
        "id": "d4fb18fc.5f1838",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 463.8833312988281,
        "y": 958,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "d3e727a3.fb5608"
            ]
        ]
    },
    {
        "id": "2b130822.bbaac8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 620.8833312988281,
        "y": 902,
        "z": "17ebb490.e5413b",
        "wires": [
            []
        ]
    },
    {
        "id": "d3e727a3.fb5608",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 615.8833312988281,
        "y": 958,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "bc564ff1.6fc448",
                "26e6024f.524ade"
            ]
        ]
    },
    {
        "id": "bc564ff1.6fc448",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='mmridx' start='0' end='`$middle-man-conn.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 820.88330078125,
        "y": 933,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "b40c41cb.477e98",
                "98b45503.cbd6b"
            ]
        ]
    },
    {
        "id": "98b45503.cbd6b",
        "type": "set",
        "name": "unset tmp.aai.mmrconnectivity",
        "xml": "<set>\n<parameter name='tmp.aai.mmrconnectivity.' value='' />\n",
        "comments": "",
        "x": 1049.8833312988281,
        "y": 917,
        "z": "17ebb490.e5413b",
        "wires": []
    },
    {
        "id": "b40c41cb.477e98",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$middle-man-conn.relationship-list.relationship[$mmridx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1033.8833312988281,
        "y": 961,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "9eec80ed.6cbdc8"
            ]
        ]
    },
    {
        "id": "9eec80ed.6cbdc8",
        "type": "outcome",
        "name": "connectivity",
        "xml": "<outcome value='connectivity'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1217.1689758300781,
        "y": 960.82177734375,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "ce382b36.485b4"
            ]
        ]
    },
    {
        "id": "ce382b36.485b4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 244.88333129882812,
        "y": 1066,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "46c63945.972b4"
            ]
        ]
    },
    {
        "id": "46c63945.972b4",
        "type": "save",
        "name": "get connectivity from aai",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"connectivity\"\n\t    key=\"connectivity.connectivity-id = $middle-man-conn.relationship-list.relationship[$mmridx].relationship-data[0].relationship-value\"\n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.aai.mmrconnectivity\" >\n",
        "comments": "",
        "outputs": 1,
        "x": 451.8833312988281,
        "y": 1066,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "de8e8eee.d3dd18",
                "50fa2e7f.3ee61",
                "680182f7.2b7684"
            ]
        ]
    },
    {
        "id": "de8e8eee.d3dd18",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 672.8833312988281,
        "y": 1039,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "d92dcdc3.4a7f2"
            ]
        ]
    },
    {
        "id": "f3bd00d1.eaecd",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 826.8833312988281,
        "y": 1120,
        "z": "17ebb490.e5413b",
        "wires": []
    },
    {
        "id": "9ce9cbd5.62a98",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
        "comments": "",
        "x": 822.9457092285156,
        "y": 1075.8597717285156,
        "z": "17ebb490.e5413b",
        "wires": []
    },
    {
        "id": "50fa2e7f.3ee61",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 660.3742980957031,
        "y": 1075.5740356445312,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "9ce9cbd5.62a98"
            ]
        ]
    },
    {
        "id": "680182f7.2b7684",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 657.8833312988281,
        "y": 1119,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "f3bd00d1.eaecd"
            ]
        ]
    },
    {
        "id": "d92dcdc3.4a7f2",
        "type": "switchNode",
        "name": "switch mmrconn type is LEAF",
        "xml": "<switch test=\"`$tmp.aai.mmrconnectivity.vpn-type == 'leaf' `\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 900.8833312988281,
        "y": 1033,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "2e362251.21075e",
                "e383a8c2.7dacf8"
            ]
        ]
    },
    {
        "id": "e383a8c2.7dacf8",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1106.8833312988281,
        "y": 1011,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "6609acc9.62773c"
            ]
        ]
    },
    {
        "id": "2e362251.21075e",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1104.8833312988281,
        "y": 1066,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "3dcdf3fe.a74594"
            ]
        ]
    },
    {
        "id": "6609acc9.62773c",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1261.8833312988281,
        "y": 1010,
        "z": "17ebb490.e5413b",
        "wires": [
            []
        ]
    },
    {
        "id": "3dcdf3fe.a74594",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1256.8833312988281,
        "y": 1066,
        "z": "17ebb490.e5413b",
        "wires": [
            [
                "b34ecdaf.e57d9"
            ]
        ]
    },
    {
        "id": "26e6024f.524ade",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 779,
        "y": 978,
        "z": "17ebb490.e5413b",
        "wires": []
    },
    {
        "id": "94ffeddc.43efb",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 1587,
        "y": 2241,
        "z": "17ebb490.e5413b",
        "wires": []
    }
]