[
  {
    "id":"7ca45b72.02b674",
    "type":"dgstart",
    "name":"DGSTART",
    "outputs":1,
    "x":200,
    "y":152.5,
    "z":"862ed298.34c67",
    "wires":[
      [
        "a578aa11.1457b8"
      ]
    ]
  },
  {
    "id":"a578aa11.1457b8",
    "type":"service-logic",
    "name":"GENERIC-RESOURCE-API ${project.version}",
    "module":"GENERIC-RESOURCE-API",
    "version":"${project.version}",
    "comments":"",
    "xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
    "outputs":1,
    "x":296.2380790710449,
    "y":213.45239067077637,
    "z":"862ed298.34c67",
    "wires":[
      [
        "2e4ecb49.4fb304"
      ]
    ]
  },
  {
    "id":"2e4ecb49.4fb304",
    "type":"method",
    "name":"brg-topology-operation-activate",
    "xml":"<method rpc='brg-topology-operation-activate' mode='sync'>\n",
    "comments":"",
    "outputs":1,
    "x":342.15485763549805,
    "y":248.69044589996338,
    "z":"862ed298.34c67",
    "wires":[
      [
        "a57e9bbb.9e4828"
      ]
    ]
  },
  {
    "id":"a57e9bbb.9e4828",
    "type":"block",
    "name":"block : atomic",
    "xml":"<block atomic=\"true\">",
    "atomic":"true",
    "comments":"",
    "outputs":1,
    "x":250.47619247436523,
    "y":392.0237879753113,
    "z":"862ed298.34c67",
    "wires":[
      [
        "df593324.23b48",
        "148d06ba.a72699",
        "15cc0b7b.f05b85",
        "546333a0.91ec5c",
        "5ccc96c6.1580c8",
        "6b35e255.00322c",
        "f9d9cb1d.a314a8",
        "3794d482.d462fc",
        "b3601577.9dd278",
        "1ef0694.7965097",
        "4fe49db6.710ed4",
        "e5b256f5.b1cce8",
        "fe630901.ebe978",
        "cb813dae.148d9",
        "6f9567d7.ec7dc8",
        "11753209.20d5ee",
        "d3a63961.390228",
        "53cf1cf4.d29134"
      ]
    ]
  },
  {
    "id":"148d06ba.a72699",
    "type":"returnSuccess",
    "name":"return success",
    "xml":"<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
    "comments":"",
    "x":504.00011444091797,
    "y":1559.3814134597778,
    "z":"862ed298.34c67",
    "wires":[

    ]
  },
  {
    "id":"df593324.23b48",
    "type":"set",
    "name":"set output to api handler",
    "xml":"<set>\n<parameter name='allotted-resource-id' value='`$tmp.ar.allotted-resource-id`' />\n<parameter name='brg-object-path' value=\"`$tmp.ar.self-link`\"/>\n<parameter name='service-object-path' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $brg-topology-operation-input.service-information.service-instance-id\n + '/service-data/service-topology/'`\"/>\n \n",
    "comments":"",
    "x":532.7540283203125,
    "y":1523.5039596557617,
    "z":"862ed298.34c67",
    "wires":[

    ]
  },
  {
    "id":"1ef0694.7965097",
    "type":"set",
    "name":"set allotted-resource-oper-status",
    "xml":"<set>\n<parameter name='brg-ar.allotted-resource-data.allotted-resource-oper-status.order-status' value='Active' />\n<parameter name='brg-ar.allotted-resource-data.allotted-resource-oper-status.last-action' value='`$brg-topology-operation-input.request-information.request-action`' />\n<parameter name='brg-ar.allotted-resource-data.allotted-resource-oper-status.last-rpc-action' value='`$brg-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='brg-ar.allotted-resource-data.allotted-resource-oper-status.last-svc-request-id' value='`$brg-topology-operation-input.sdnc-request-header.svc-request-id`' />\n<parameter name='brg-ar.allotted-resource-data.allotted-resource-oper-status.create-timestamp' value='`$tmp.current-time`' />\n",
    "comments":"",
    "x":556.7542190551758,
    "y":772.5514001846313,
    "z":"862ed298.34c67",
    "wires":[

    ]
  },
  {
    "id":"546333a0.91ec5c",
    "type":"set",
    "name":"set tmp.ar.self-link",
    "xml":"<set>\n<parameter name='tmp.ar.self-link' value=\"`'restconf/config/GENERIC-RESOURCE-API:brg-allotted-resources/brg-allotted-resource/'\n + $tmp.ar.allotted-resource-id\n + '/allotted-resource-data/brg-topology/'` \" />\n\n",
    "comments":"",
    "x":512.7380638122559,
    "y":365.83332538604736,
    "z":"862ed298.34c67",
    "wires":[

    ]
  },
  {
    "id":"15cc0b7b.f05b85",
    "type":"set",
    "name":"set tmp.ar.allotted-resource-id,etc",
    "xml":"<set>\n<parameter name='tmp.ar.allotted-resource-id' value='`$brg-topology-operation-input.allotted-resource-information.allotted-resource-id`' />\n<parameter name='tmp.ar.parent-service-instance-id' value='`$brg-topology-operation-input.allotted-resource-information.parent-service-instance-id`' />\n<parameter name='tmp.ar.brg-vnf-id' value='`$brg-topology-operation-input.allotted-resource-data.brg-topology.brg-assignments.brg-vnf-id`' />\n\n\n",
    "comments":"",
    "x":559.9973258972168,
    "y":332.09259128570557,
    "z":"862ed298.34c67",
    "wires":[

    ]
  },
  {
    "id":"5ccc96c6.1580c8",
    "type":"execute",
    "name":"execute Properties",
    "xml":"<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
    "comments":"",
    "outputs":1,
    "x":518.9934196472168,
    "y":401.73152446746826,
    "z":"862ed298.34c67",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"f9d9cb1d.a314a8",
    "type":"execute",
    "name":"execute RestApiCallNode - Get AR by id",
    "xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.ar-url`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='GET' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-ar\" />\n\n",
    "comments":"",
    "outputs":1,
    "x":581.5187530517578,
    "y":562.9594917297363,
    "z":"862ed298.34c67",
    "wires":[
      [
        "604ec1e5.b17c",
        "80d7a663.b9fd58"
      ]
    ]
  },
  {
    "id":"6b35e255.00322c",
    "type":"execute",
    "name":"generate allotted-resource url",
    "xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.brg-allottedresource`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.ar-url\"/>\n    <parameter name=\"target\" value=\"{allotted-resource-id}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.ar.allotted-resource-id`\"/>\n",
    "comments":"",
    "outputs":1,
    "x":547.0648536682129,
    "y":461.5172290802002,
    "z":"862ed298.34c67",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"604ec1e5.b17c",
    "type":"success",
    "name":"success",
    "xml":"<outcome value='success'>\n",
    "comments":"",
    "outputs":1,
    "x":838.8148918151855,
    "y":561.7672522068024,
    "z":"862ed298.34c67",
    "wires":[
      [
        "9fc7f486.6e8728"
      ]
    ]
  },
  {
    "id":"3794d482.d462fc",
    "type":"execute",
    "name":"execute RestApiCallNode - PUT AR by id",
    "xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.brg.templatefile`\" />\n    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.ar-url`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-ar\" />\n\n",
    "comments":"",
    "outputs":1,
    "x":589.5293121337891,
    "y":915.9341316223145,
    "z":"862ed298.34c67",
    "wires":[
      [
        "cb14d559.73ea38",
        "dc728c86.18e46",
        "f24f7a44.fa9868"
      ]
    ]
  },
  {
    "id":"cb14d559.73ea38",
    "type":"not-found",
    "name":"not-found",
    "xml":"<outcome value='not-found'>\n",
    "comments":"",
    "outputs":1,
    "x":1113.8373832702637,
    "y":940.9324235916138,
    "z":"862ed298.34c67",
    "wires":[
      [
        "4f1a6257.1e90dc"
      ]
    ]
  },
  {
    "id":"dc728c86.18e46",
    "type":"failure",
    "name":"failure",
    "xml":"<outcome value='failure'>\n",
    "comments":"",
    "outputs":1,
    "x":1104.8374328613281,
    "y":909.4324493408203,
    "z":"862ed298.34c67",
    "wires":[
      [
        "4f1a6257.1e90dc"
      ]
    ]
  },
  {
    "id":"f24f7a44.fa9868",
    "type":"success",
    "name":"success",
    "xml":"<outcome value='success'>\n",
    "comments":"",
    "outputs":1,
    "x":1108.5874710083008,
    "y":879.7895542159677,
    "z":"862ed298.34c67",
    "wires":[
      [
        "fc0b40a6.c8322"
      ]
    ]
  },
  {
    "id":"4f1a6257.1e90dc",
    "type":"returnFailure",
    "name":"return failure",
    "xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error updating md-sal for brg-allotted-resource\" />\n",
    "comments":"",
    "x":1274.5874710083008,
    "y":910.1824731826782,
    "z":"862ed298.34c67",
    "wires":[

    ]
  },
  {
    "id":"9fc7f486.6e8728",
    "type":"block",
    "name":"block: atomic",
    "xml":"<block atomic=\"true\">\n",
    "atomic":"false",
    "comments":"",
    "outputs":1,
    "x":1019.8148460388184,
    "y":562.2672016620636,
    "z":"862ed298.34c67",
    "wires":[
      [
        "b3f7fcbb.cacda",
        "a23fac13.531f7"
      ]
    ]
  },
  {
    "id":"b3f7fcbb.cacda",
    "type":"switchNode",
    "name":"switch brg length",
    "xml":"<switch test='`$mdsal-ar.brg-allotted-resource_length`'>\n",
    "comments":"",
    "outputs":1,
    "x":1265.6720924377441,
    "y":596.552964925766,
    "z":"862ed298.34c67",
    "wires":[
      [
        "35f809be.750916"
      ]
    ]
  },
  {
    "id":"35f809be.750916",
    "type":"other",
    "name":"outcome 1",
    "xml":"<outcome value='1'>\n",
    "comments":"",
    "outputs":1,
    "x":1456.6720962524414,
    "y":596.5529625415802,
    "z":"862ed298.34c67",
    "wires":[
      [
        "738470b0.e3d3a"
      ]
    ]
  },
  {
    "id":"1057cfb.6123c3",
    "type":"set",
    "name":"set brg-ar from get",
    "xml":"<set>\n<parameter name='brg-ar.' value='$mdsal-ar.brg-allotted-resource[0].' />\n",
    "comments":"",
    "x":1856.5292320251465,
    "y":597.1243867874146,
    "z":"862ed298.34c67",
    "wires":[

    ]
  },
  {
    "id":"738470b0.e3d3a",
    "type":"block",
    "name":"block: atomic",
    "xml":"<block atomic='true'>\n",
    "atomic":"false",
    "comments":"",
    "outputs":1,
    "x":1627.5290794372559,
    "y":597.1244316101074,
    "z":"862ed298.34c67",
    "wires":[
      [
        "1057cfb.6123c3",
        "b64dc780.970328",
        "9d4982d0.3671"
      ]
    ]
  },
  {
    "id":"b64dc780.970328",
    "type":"set",
    "name":"set oper-status",
    "xml":"<set>\n<parameter name='brg-ar.allotted-resource-data.allotted-resource-oper-status.last-action' value='`$brg-ar.allotted-resource-data.allotted-resource-operation-information.request-information.request-action`' />\n<parameter name='brg-ar.allotted-resource-data.allotted-resource-oper-status.last-rpc-action' value='`$brg-ar.allotted-resource-status.rpc-action`' />\n<parameter name='brg-ar.allotted-resource-data.allotted-resource-oper-status.last-svc-request-id' value='`$brg-ar.allotted-resource-data.allotted-resource-operation-information.sdnc-request-header.svc-request-id`' />\n\n",
    "comments":"",
    "x":1854.5294761657715,
    "y":664.5529508590698,
    "z":"862ed298.34c67",
    "wires":[

    ]
  },
  {
    "id":"c99d3ef5.d59f5",
    "type":"comment",
    "name":"GET brg-allotted-resource from mdsal",
    "info":"",
    "comments":"",
    "x":606.8148155212402,
    "y":526.2671926021576,
    "z":"862ed298.34c67",
    "wires":[

    ]
  },
  {
    "id":"9d4982d0.3671",
    "type":"switchNode",
    "name":"switch order-status",
    "xml":"<switch test='`$brg-ar.allotted-resource-data.allotted-resource-oper-status.order-status`'>\n",
    "comments":"",
    "outputs":1,
    "x":1864.52925491333,
    "y":630.1243848800659,
    "z":"862ed298.34c67",
    "wires":[
      [
        "890a6e1c.d1711",
        "c51cac36.4029d"
      ]
    ]
  },
  {
    "id":"890a6e1c.d1711",
    "type":"outcome",
    "name":"outcome Created",
    "xml":"<outcome value='Created'>\n",
    "comments":"",
    "outputs":1,
    "x":2076.1292114257812,
    "y":591.1243848800659,
    "z":"862ed298.34c67",
    "wires":[
      [
        "acca97a1.9e7328"
      ]
    ]
  },
  {
    "id":"c51cac36.4029d",
    "type":"outcome",
    "name":"outcome Other",
    "xml":"<outcome value='Other'>\n",
    "comments":"",
    "outputs":1,
    "x":2101.8435859680176,
    "y":626.552975654602,
    "z":"862ed298.34c67",
    "wires":[
      [
        "acca97a1.9e7328"
      ]
    ]
  },
  {
    "id":"5c12b1cb.7de2f",
    "type":"comment",
    "name":"Set allotted-resource-identifiers",
    "info":"",
    "comments":"",
    "x":562.3386383056641,
    "y":616.8386459350586,
    "z":"862ed298.34c67",
    "wires":[

    ]
  },
  {
    "id":"a23fac13.531f7",
    "type":"set",
    "name":"save backup copy of mdsal-ar for rollback",
    "xml":"<set>\n<parameter name='bk-brg-ar' value='$mdsal-ar.' />\n",
    "comments":"",
    "x":1345.3864250183105,
    "y":562.2672936916351,
    "z":"862ed298.34c67",
    "wires":[

    ]
  },
  {
    "id":"9da3c80.8620838",
    "type":"comment",
    "name":"Create urls for restapi",
    "info":"",
    "comments":"",
    "x":517.9576606750488,
    "y":431.1243562698364,
    "z":"862ed298.34c67",
    "wires":[

    ]
  },
  {
    "id":"fc0b40a6.c8322",
    "type":"block",
    "name":"block",
    "xml":"<block>\n",
    "atomic":"false",
    "comments":"",
    "outputs":1,
    "x":1250.2434387207031,
    "y":875.9817234054208,
    "z":"862ed298.34c67",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"e38a2e2a.966c",
    "type":"comment",
    "name":"TO DO: vnf/put parent",
    "info":"",
    "comments":"",
    "x":520.2433776855469,
    "y":804.6481952667236,
    "z":"862ed298.34c67",
    "wires":[

    ]
  },
  {
    "id":"b3601577.9dd278",
    "type":"execute",
    "name":"execute getTime",
    "xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='setTime' >\n    <parameter name=\"outputPath\" value=\"tmp.current-time\" />\n\n",
    "comments":"",
    "outputs":1,
    "x":504.24338150024414,
    "y":733.9815549850464,
    "z":"862ed298.34c67",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"80d7a663.b9fd58",
    "type":"other",
    "name":"other",
    "xml":"<outcome value='Other'>\n",
    "comments":"",
    "outputs":1,
    "x":838.5766868591309,
    "y":597.9814250469208,
    "z":"862ed298.34c67",
    "wires":[
      [
        "75930022.e7b04"
      ]
    ]
  },
  {
    "id":"75930022.e7b04",
    "type":"block",
    "name":"block: atomic",
    "xml":"<block atomic=\"true\">\n",
    "atomic":"false",
    "comments":"",
    "outputs":1,
    "x":1018.5766372680664,
    "y":598.6479756832123,
    "z":"862ed298.34c67",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"4fe49db6.710ed4",
    "type":"set",
    "name":"set id",
    "xml":"<set>\n<parameter name='brg-ar.allotted-resource-id' value=\"`$tmp.ar.allotted-resource-id` \" />\n<parameter name='brg-ar.allotted-resource-status.action' value=\"`$brg-topology-operation-input.request-information.request-action` \" />\n<parameter name='brg-ar.allotted-resource-status.rpc-name' value=\"brg-topology-operation\" />\n<parameter name='brg-ar.allotted-resource-status.rpc-action' value=\"`$brg-topology-operation-input.sdnc-request-header.svc-action` \" />\n<parameter name='brg-ar.allotted-resource-data.allotted-resource-operation-information.request-information.' value=\"`$brg-topology-operation-input.request-information.` \" />\n<parameter name='brg-ar.allotted-resource-data.allotted-resource-operation-information.sdnc-request-header.' value=\"`$brg-topology-operation-input.sdnc-request-header.` \" />\n<parameter name='brg-ar.allotted-resource-data.allotted-resource-operation-information.service-information.' value=\"`$brg-topology-operation-input.service-information.` \" />\n<parameter name='brg-ar.allotted-resource-data.allotted-resource-operation-information.allotted-resource-information.' value=\"`$brg-topology-operation-input.allotted-resource-information.` \" />\n<parameter name='brg-ar.allotted-resource-data.allotted-resource-operation-information.brg-request-input.' value=\"`$brg-topology-operation-input.brg-request-input.` \" />",
    "comments":"",
    "x":487.24342346191406,
    "y":653.6481666564941,
    "z":"862ed298.34c67",
    "wires":[

    ]
  },
  {
    "id":"acca97a1.9e7328",
    "type":"block",
    "name":"block",
    "xml":"<block>\n",
    "atomic":"false",
    "comments":"",
    "outputs":1,
    "x":2290.5997276306152,
    "y":592.5000190734863,
    "z":"862ed298.34c67",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"e5b256f5.b1cce8",
    "type":"update",
    "name":"update AAI allotted-resource",
    "xml":"<update plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"allotted-resource\" \n\t\tkey=\"customer.global-customer-id = $service-data.service-information.global-customer-id AND\n\t\t\tservice-subscription.service-type = $service-data.service-information.subscription-service-type AND\n\t\t\tservice-instance.service-instance-id = $service-data.service-information.service-instance-id AND\n\t\t\tallotted-resource.id = $tmp.ar.allotted-resource-id\"\n        pfx='pfx' local-only='false' force='false'>\n\t<parameter name=\"operational-status\" value=\"in-service-path\" />\n",
    "comments":"",
    "outputs":1,
    "x":547.8571624755859,
    "y":837.7380628585815,
    "z":"862ed298.34c67",
    "wires":[
      [
        "cddc2d29.84eec",
        "f5df336a.008f2"
      ]
    ]
  },
  {
    "id":"cddc2d29.84eec",
    "type":"failure",
    "name":"failure",
    "xml":"<outcome value='failure'>\n",
    "comments":"",
    "outputs":1,
    "x":803.6190567016602,
    "y":820.6905598640442,
    "z":"862ed298.34c67",
    "wires":[
      [
        "7dbfd50c.378e0c"
      ]
    ]
  },
  {
    "id":"7dbfd50c.378e0c",
    "type":"returnFailure",
    "name":"return failure",
    "xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"AAI failed\" />\n",
    "comments":"",
    "x":970.142936706543,
    "y":832.3096308708191,
    "z":"862ed298.34c67",
    "wires":[

    ]
  },
  {
    "id":"f5df336a.008f2",
    "type":"failure",
    "name":"not-found",
    "xml":"<outcome value='not-found'>\n",
    "comments":"",
    "outputs":1,
    "x":810.7143440246582,
    "y":853.4525275230408,
    "z":"862ed298.34c67",
    "wires":[
      [
        "7dbfd50c.378e0c"
      ]
    ]
  },
  {
    "id":"fe630901.ebe978",
    "type":"execute",
    "name":"execute RestApiCallNode - setup BRG to vgMux vxlan tunnel port",
    "xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.vpp.vxlan-tunnel.templatefile`\" />\n    <parameter name='restapiUrl' value='`$tmp.honeycomb.url + $tmp.vpp-honeycomb-url`' />\n    <parameter name='restapiUser' value='`$prop.honeycomb.user`' />\n    <parameter name='restapiPassword' value='`$prop.honeycomb.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"honeycomb-vnf\" />\n\n",
    "comments":"",
    "outputs":1,
    "x":664.6666564941406,
    "y":1249.166666984558,
    "z":"862ed298.34c67",
    "wires":[
      [
        "c24e108f.00a11",
        "be44e415.f52208",
        "b3d9ad69.551df"
      ]
    ]
  },
  {
    "id":"c24e108f.00a11",
    "type":"not-found",
    "name":"not-found",
    "xml":"<outcome value='not-found'>\n",
    "comments":"",
    "outputs":1,
    "x":998.6414451599121,
    "y":1308.4982789978385,
    "z":"862ed298.34c67",
    "wires":[
      [
        "9f93ed2a.172f9"
      ]
    ]
  },
  {
    "id":"be44e415.f52208",
    "type":"failure",
    "name":"failure",
    "xml":"<outcome value='failure'>\n",
    "comments":"",
    "outputs":1,
    "x":989.6414947509766,
    "y":1276.998304747045,
    "z":"862ed298.34c67",
    "wires":[
      [
        "9f93ed2a.172f9"
      ]
    ]
  },
  {
    "id":"b3d9ad69.551df",
    "type":"success",
    "name":"success",
    "xml":"<outcome value='success'>\n",
    "comments":"",
    "outputs":1,
    "x":993.3915328979492,
    "y":1247.3554096221924,
    "z":"862ed298.34c67",
    "wires":[
      [
        "be1da966.f3fdb8"
      ]
    ]
  },
  {
    "id":"9f93ed2a.172f9",
    "type":"returnFailure",
    "name":"return failure",
    "xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error updating md-sal for brg-allotted-resource\" />\n",
    "comments":"",
    "x":1159.3915328979492,
    "y":1277.748328588903,
    "z":"862ed298.34c67",
    "wires":[

    ]
  },
  {
    "id":"be1da966.f3fdb8",
    "type":"block",
    "name":"block",
    "xml":"<block>\n",
    "atomic":"false",
    "comments":"",
    "outputs":1,
    "x":1135.0475006103516,
    "y":1243.5475788116455,
    "z":"862ed298.34c67",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"cb813dae.148d9",
    "type":"execute",
    "name":"execute RestApiCallNode - setup BRG vxlan bridge domain",
    "xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.vpp.bridge-domain.templatefile`\" />\n    <parameter name='restapiUrl' value=\"`$tmp.honeycomb.url + $tmp.vpp-honeycomb-url + '/v3po:l2' `\" />\n    <parameter name='restapiUser' value='`$prop.honeycomb.user`' />\n    <parameter name='restapiPassword' value='`$prop.honeycomb.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"honeycomb-vnf\" />\n\n",
    "comments":"",
    "outputs":1,
    "x":646.3334197998047,
    "y":1395.833461523056,
    "z":"862ed298.34c67",
    "wires":[
      [
        "fda405ea.32bd38",
        "a0de0f27.22318",
        "713a6065.b61ad"
      ]
    ]
  },
  {
    "id":"fda405ea.32bd38",
    "type":"not-found",
    "name":"not-found",
    "xml":"<outcome value='not-found'>\n",
    "comments":"",
    "outputs":1,
    "x":994.3080577850342,
    "y":1471.4983781799674,
    "z":"862ed298.34c67",
    "wires":[
      [
        "eb0aba4d.33d9b8"
      ]
    ]
  },
  {
    "id":"a0de0f27.22318",
    "type":"failure",
    "name":"failure",
    "xml":"<outcome value='failure'>\n",
    "comments":"",
    "outputs":1,
    "x":985.3081073760986,
    "y":1439.998403929174,
    "z":"862ed298.34c67",
    "wires":[
      [
        "eb0aba4d.33d9b8"
      ]
    ]
  },
  {
    "id":"713a6065.b61ad",
    "type":"success",
    "name":"success",
    "xml":"<outcome value='success'>\n",
    "comments":"",
    "outputs":1,
    "x":989.0581455230713,
    "y":1410.3555088043213,
    "z":"862ed298.34c67",
    "wires":[
      [
        "cf6832af.3d346"
      ]
    ]
  },
  {
    "id":"eb0aba4d.33d9b8",
    "type":"returnFailure",
    "name":"return failure",
    "xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error updating md-sal for brg-allotted-resource\" />\n",
    "comments":"",
    "x":1155.0581455230713,
    "y":1440.7484277710319,
    "z":"862ed298.34c67",
    "wires":[

    ]
  },
  {
    "id":"cf6832af.3d346",
    "type":"block",
    "name":"block",
    "xml":"<block>\n",
    "atomic":"false",
    "comments":"",
    "outputs":1,
    "x":1130.7141132354736,
    "y":1406.5476779937744,
    "z":"862ed298.34c67",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"d3a63961.390228",
    "type":"set",
    "name":"set BRG to vgMUX VXLAN Tunnel Port Props",
    "xml":"<set>\n<parameter name='tmp.tunnel-name' value=\"`'vxlanTun' + $brg-ar.allotted-resource-data.brg-topology.brg-assignments.vbrg-wan-ip` \" />\n<parameter name='tmp.tunnel-dest-ip' value=\"`$brg-ar.allotted-resource-data.allotted-resource-operation-information.brg-request-input.vgmux-lan-ip` \" />\n<parameter name='tmp.tunnel-src-ip' value=\"`$brg-ar.allotted-resource-data.allotted-resource-operation-information.brg-request-input.brg-wan-ip-address` \" />\n<parameter name='tmp.tunnel-vni' value=\"`$brg-ar.allotted-resource-data.allotted-resource-operation-information.brg-request-input.vni` \" />",
    "comments":"",
    "x":600.7778015136719,
    "y":1114.1669263839722,
    "z":"862ed298.34c67",
    "wires":[

    ]
  },
  {
    "id":"11753209.20d5ee",
    "type":"execute",
    "name":"generate full brg-vpp-honeycomb url",
    "xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.vpp-honeycomb`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.vpp-honeycomb-url\"/>\n    <parameter name=\"target\" value=\"{tunnel-name}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.tunnel-name`\"/>\n",
    "comments":"",
    "outputs":1,
    "x":572.4444427490234,
    "y":1169.1667051315308,
    "z":"862ed298.34c67",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"6f9567d7.ec7dc8",
    "type":"execute",
    "name":"generate honeycomb-url to vBRG",
    "xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.honeycomb.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.honeycomb.url\"/>\n    <parameter name=\"target\" value=\"{honeycomb-instance-ip}\"/>\n    <parameter name=\"replacement\" value=\"`$brg-ar.allotted-resource-data.brg-topology.brg-assignments.vbrg-wan-ip`\"/>\n",
    "comments":"",
    "outputs":1,
    "x":564.4444580078125,
    "y":1028.833233833313,
    "z":"862ed298.34c67",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"53cf1cf4.d29134",
    "type":"set",
    "name":"set BRG Bridge Domain Props",
    "xml":"<set>\n<parameter name='tmp.bridge-domain' value=\"bridge-domain-10\" />\n<parameter name='tmp.split-horizon-group' value=\"2\" />",
    "comments":"",
    "x":555.7777557373047,
    "y":1320.8333368301392,
    "z":"862ed298.34c67",
    "wires":[

    ]
  },
  {
    "id":"7968a654.b60c08",
    "type":"comment",
    "name":"TO DO: assign brg-ar.allotted-resource-data.brg-topology.brg-assignments.vbrg-wan-ip",
    "info":"need to quary mdsal-ar and get information assigned in tunnelxconn DG?",
    "comments":"",
    "x":722.0000305175781,
    "y":978.0000286102295,
    "z":"862ed298.34c67",
    "wires":[

    ]
  }
]