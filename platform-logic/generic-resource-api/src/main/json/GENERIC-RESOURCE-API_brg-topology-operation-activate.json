[
  {
    "id":"d9e7e1c2.493d3",
    "type":"dgstart",
    "name":"DGSTART",
    "outputs":1,
    "x":103,
    "y":46,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "9a1b0b6b.996428"
      ]
    ]
  },
  {
    "id":"9a1b0b6b.996428",
    "type":"service-logic",
    "name":"GENERIC-RESOURCE-API ${project.version}",
    "module":"GENERIC-RESOURCE-API",
    "version":"${project.version}",
    "comments":"",
    "xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
    "outputs":1,
    "x":199.23807907104492,
    "y":106.95239067077637,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "1b80fdb3.e51d42"
      ]
    ]
  },
  {
    "id":"1b80fdb3.e51d42",
    "type":"method",
    "name":"brg-topology-operation-activate",
    "xml":"<method rpc='brg-topology-operation-activate' mode='sync'>\n",
    "comments":"",
    "outputs":1,
    "x":245.15485763549805,
    "y":142.19044589996338,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "b9ef2573.e57c88"
      ]
    ]
  },
  {
    "id":"b9ef2573.e57c88",
    "type":"block",
    "name":"block : atomic",
    "xml":"<block atomic=\"true\">",
    "atomic":"true",
    "comments":"",
    "outputs":1,
    "x":140.97620391845703,
    "y":1138.0237922668457,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "b4a1686c.6724e8",
        "377fb8b4.251228",
        "d661220d.d848d",
        "c5c60948.27fc28",
        "c4711874.0ee758",
        "aceb1a27.11b7a8",
        "a5137e71.81a65",
        "5972a9da.16e978",
        "50e72018.6624",
        "b3b13e68.d59bb",
        "ef8d3b6f.8c3c58",
        "531893c6.c405dc",
        "7c4bd318.44ab8c",
        "14b435e1.73803a",
        "b8e9e857.b4d5e8",
        "970b23d4.8d05e",
        "815c3841.72ff98",
        "a9cc06ef.aed3d8",
        "17504c2b.5ecc04",
        "13ddb22.203944e",
        "75aa4c7c.d1f814",
        "173f16cf.2f6b79",
        "5bcb3869.fa6198",
        "60d1bf52.ad3d6",
        "ac82543e.0a2288",
        "4a0f8ea5.474a2",
        "5f66c498.33c76c",
        "eab64b.710229b8",
        "36e0c301.ee8e2c",
        "5f18f40a.7db70c",
        "ecf121e2.af8c8",
        "496f8c72.09c0b4",
        "9e2897fc.bd5fd8",
        "fc322e28.718d1"
      ]
    ]
  },
  {
    "id":"377fb8b4.251228",
    "type":"returnSuccess",
    "name":"return success",
    "xml":"<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
    "comments":"",
    "x":420.00017166137695,
    "y":2417.3817806243896,
    "z":"f97ade34.d219f",
    "wires":[

    ]
  },
  {
    "id":"b4a1686c.6724e8",
    "type":"set",
    "name":"set output to api handler",
    "xml":"<set>\n<parameter name='allotted-resource-id' value='`$tmp.ar.allotted-resource-id`' />\n<parameter name='brg-object-path' value=\"`$tmp.ar.self-link`\"/>\n<parameter name='service-object-path' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $brg-topology-operation-input.service-information.service-instance-id\n + '/service-data/service-topology/'`\"/>\n \n",
    "comments":"",
    "x":448.7540855407715,
    "y":2381.5043268203735,
    "z":"f97ade34.d219f",
    "wires":[

    ]
  },
  {
    "id":"b3b13e68.d59bb",
    "type":"set",
    "name":"set allotted-resource-oper-status",
    "xml":"<set>\n<parameter name='brg-ar.allotted-resource-data.allotted-resource-oper-status.order-status' value='Active' />\n<parameter name='brg-ar.allotted-resource-data.allotted-resource-oper-status.last-action' value='`$brg-topology-operation-input.request-information.request-action`' />\n<parameter name='brg-ar.allotted-resource-data.allotted-resource-oper-status.last-rpc-action' value='`$brg-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='brg-ar.allotted-resource-data.allotted-resource-oper-status.last-svc-request-id' value='`$brg-topology-operation-input.sdnc-request-header.svc-request-id`' />\n<parameter name='brg-ar.allotted-resource-data.allotted-resource-oper-status.create-timestamp' value='`$tmp.current-time`' />\n",
    "comments":"",
    "x":459.7542190551758,
    "y":666.0514001846313,
    "z":"f97ade34.d219f",
    "wires":[

    ]
  },
  {
    "id":"c5c60948.27fc28",
    "type":"set",
    "name":"set tmp.ar.self-link",
    "xml":"<set>\n<parameter name='tmp.ar.self-link' value=\"`'restconf/config/GENERIC-RESOURCE-API:brg-allotted-resources/brg-allotted-resource/'\n + $tmp.ar.allotted-resource-id\n + '/allotted-resource-data/brg-topology/'` \" />\n\n",
    "comments":"",
    "x":415.73806381225586,
    "y":259.33332538604736,
    "z":"f97ade34.d219f",
    "wires":[

    ]
  },
  {
    "id":"d661220d.d848d",
    "type":"set",
    "name":"set tmp.ar.allotted-resource-id,etc",
    "xml":"<set>\n<parameter name='tmp.ar.allotted-resource-id' value='`$brg-topology-operation-input.allotted-resource-information.allotted-resource-id`' />\n<parameter name='tmp.ar.parent-service-instance-id' value='`$brg-topology-operation-input.allotted-resource-information.parent-service-instance-id`' />\n<parameter name='tmp.ar.brg-vnf-id' value='`$brg-topology-operation-input.allotted-resource-data.brg-topology.brg-assignments.brg-vnf-id`' />\n\n\n",
    "comments":"",
    "x":462.9973258972168,
    "y":225.59259128570557,
    "z":"f97ade34.d219f",
    "wires":[

    ]
  },
  {
    "id":"c4711874.0ee758",
    "type":"execute",
    "name":"execute Properties",
    "xml":"<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
    "comments":"",
    "outputs":1,
    "x":421.9934196472168,
    "y":295.23152446746826,
    "z":"f97ade34.d219f",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"a5137e71.81a65",
    "type":"execute",
    "name":"execute RestApiCallNode - Get AR by id",
    "xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.ar-url`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='GET' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-ar\" />\n\n",
    "comments":"",
    "outputs":1,
    "x":484.5187530517578,
    "y":456.4594917297363,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "edb9e1fa.046de",
        "d98ea5a4.989128"
      ]
    ]
  },
  {
    "id":"aceb1a27.11b7a8",
    "type":"execute",
    "name":"generate allotted-resource url",
    "xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.brg-allottedresource`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.ar-url\"/>\n    <parameter name=\"target\" value=\"{allotted-resource-id}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.ar.allotted-resource-id`\"/>\n",
    "comments":"",
    "outputs":1,
    "x":450.0648536682129,
    "y":355.0172290802002,
    "z":"f97ade34.d219f",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"edb9e1fa.046de",
    "type":"success",
    "name":"success",
    "xml":"<outcome value='success'>\n",
    "comments":"",
    "outputs":1,
    "x":741.8148918151855,
    "y":455.26725220680237,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "52d019c0.82c438"
      ]
    ]
  },
  {
    "id":"5972a9da.16e978",
    "type":"execute",
    "name":"execute RestApiCallNode - PUT AR by id",
    "xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.brg.templatefile`\" />\n    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.ar-url`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-ar\" />\n\n",
    "comments":"",
    "outputs":1,
    "x":492.52931213378906,
    "y":809.4341316223145,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "854bd044.7a222",
        "8243312c.4fc6e",
        "a02378bd.a2d368"
      ]
    ]
  },
  {
    "id":"854bd044.7a222",
    "type":"not-found",
    "name":"not-found",
    "xml":"<outcome value='not-found'>\n",
    "comments":"",
    "outputs":1,
    "x":1016.8373832702637,
    "y":834.4324235916138,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "981caf01.1190d"
      ]
    ]
  },
  {
    "id":"8243312c.4fc6e",
    "type":"failure",
    "name":"failure",
    "xml":"<outcome value='failure'>\n",
    "comments":"",
    "outputs":1,
    "x":1007.8374328613281,
    "y":802.9324493408203,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "981caf01.1190d"
      ]
    ]
  },
  {
    "id":"a02378bd.a2d368",
    "type":"success",
    "name":"success",
    "xml":"<outcome value='success'>\n",
    "comments":"",
    "outputs":1,
    "x":1011.5874710083008,
    "y":773.2895542159677,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "9efe8414.91ed18"
      ]
    ]
  },
  {
    "id":"981caf01.1190d",
    "type":"returnFailure",
    "name":"return failure",
    "xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error updating md-sal for brg-allotted-resource\" />\n",
    "comments":"",
    "x":1177.5874710083008,
    "y":803.6824731826782,
    "z":"f97ade34.d219f",
    "wires":[

    ]
  },
  {
    "id":"52d019c0.82c438",
    "type":"block",
    "name":"block: atomic",
    "xml":"<block atomic=\"true\">\n",
    "atomic":"false",
    "comments":"",
    "outputs":1,
    "x":922.8148460388184,
    "y":455.7672016620636,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "515d911f.70f65",
        "388539de.469206"
      ]
    ]
  },
  {
    "id":"515d911f.70f65",
    "type":"switchNode",
    "name":"switch brg length",
    "xml":"<switch test='`$mdsal-ar.brg-allotted-resource_length`'>\n",
    "comments":"",
    "outputs":1,
    "x":1168.6720924377441,
    "y":490.052964925766,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "a34fd934.5de948"
      ]
    ]
  },
  {
    "id":"a34fd934.5de948",
    "type":"other",
    "name":"outcome 1",
    "xml":"<outcome value='1'>\n",
    "comments":"",
    "outputs":1,
    "x":1359.6720962524414,
    "y":490.0529625415802,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "1534773e.2f1e69"
      ]
    ]
  },
  {
    "id":"d1c6c306.93b2a",
    "type":"set",
    "name":"set brg-ar from get",
    "xml":"<set>\n<parameter name='brg-ar.' value='$mdsal-ar.brg-allotted-resource[0].' />\n",
    "comments":"",
    "x":1759.5292320251465,
    "y":490.62438678741455,
    "z":"f97ade34.d219f",
    "wires":[

    ]
  },
  {
    "id":"1534773e.2f1e69",
    "type":"block",
    "name":"block: atomic",
    "xml":"<block atomic='true'>\n",
    "atomic":"false",
    "comments":"",
    "outputs":1,
    "x":1530.5290794372559,
    "y":490.6244316101074,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "d1c6c306.93b2a",
        "2feb6861.c55048",
        "834030e7.c71a9"
      ]
    ]
  },
  {
    "id":"2feb6861.c55048",
    "type":"set",
    "name":"set oper-status",
    "xml":"<set>\n<parameter name='brg-ar.allotted-resource-data.allotted-resource-oper-status.last-action' value='`$brg-ar.allotted-resource-data.allotted-resource-operation-information.request-information.request-action`' />\n<parameter name='brg-ar.allotted-resource-data.allotted-resource-oper-status.last-rpc-action' value='`$brg-ar.allotted-resource-status.rpc-action`' />\n<parameter name='brg-ar.allotted-resource-data.allotted-resource-oper-status.last-svc-request-id' value='`$brg-ar.allotted-resource-data.allotted-resource-operation-information.sdnc-request-header.svc-request-id`' />\n\n",
    "comments":"",
    "x":1757.5294761657715,
    "y":558.0529508590698,
    "z":"f97ade34.d219f",
    "wires":[

    ]
  },
  {
    "id":"2bb45a1f.a94976",
    "type":"comment",
    "name":"GET brg-allotted-resource from mdsal",
    "info":"",
    "comments":"",
    "x":509.81481552124023,
    "y":419.7671926021576,
    "z":"f97ade34.d219f",
    "wires":[

    ]
  },
  {
    "id":"834030e7.c71a9",
    "type":"switchNode",
    "name":"switch order-status",
    "xml":"<switch test='`$brg-ar.allotted-resource-data.allotted-resource-oper-status.order-status`'>\n",
    "comments":"",
    "outputs":1,
    "x":1767.52925491333,
    "y":523.6243848800659,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "930ea57d.0f30f8",
        "4c055a7a.ab9f24"
      ]
    ]
  },
  {
    "id":"930ea57d.0f30f8",
    "type":"outcome",
    "name":"outcome Created",
    "xml":"<outcome value='Created'>\n",
    "comments":"",
    "outputs":1,
    "x":1979.1292114257812,
    "y":484.6243848800659,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "56b9c5ed.fb1fec"
      ]
    ]
  },
  {
    "id":"4c055a7a.ab9f24",
    "type":"outcome",
    "name":"outcome Other",
    "xml":"<outcome value='Other'>\n",
    "comments":"",
    "outputs":1,
    "x":2004.8435859680176,
    "y":520.052975654602,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "56b9c5ed.fb1fec"
      ]
    ]
  },
  {
    "id":"77c5ca77.4678d4",
    "type":"comment",
    "name":"Set allotted-resource-identifiers",
    "info":"",
    "comments":"",
    "x":465.33863830566406,
    "y":510.3386459350586,
    "z":"f97ade34.d219f",
    "wires":[

    ]
  },
  {
    "id":"388539de.469206",
    "type":"set",
    "name":"save backup copy of mdsal-ar for rollback",
    "xml":"<set>\n<parameter name='bk-brg-ar' value='$mdsal-ar.' />\n",
    "comments":"",
    "x":1248.3864250183105,
    "y":455.76729369163513,
    "z":"f97ade34.d219f",
    "wires":[

    ]
  },
  {
    "id":"ddaea4c6.1d9aa8",
    "type":"comment",
    "name":"Create urls for restapi",
    "info":"",
    "comments":"",
    "x":420.9576606750488,
    "y":324.6243562698364,
    "z":"f97ade34.d219f",
    "wires":[

    ]
  },
  {
    "id":"9efe8414.91ed18",
    "type":"block",
    "name":"block",
    "xml":"<block>\n",
    "atomic":"false",
    "comments":"",
    "outputs":1,
    "x":1153.2434387207031,
    "y":769.4817234054208,
    "z":"f97ade34.d219f",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"ff41987d.46ce18",
    "type":"comment",
    "name":"TO DO: vnf/put parent",
    "info":"",
    "comments":"",
    "x":423.2433776855469,
    "y":698.1481952667236,
    "z":"f97ade34.d219f",
    "wires":[

    ]
  },
  {
    "id":"50e72018.6624",
    "type":"execute",
    "name":"execute getTime",
    "xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='setTime' >\n    <parameter name=\"outputPath\" value=\"tmp.current-time\" />\n\n",
    "comments":"",
    "outputs":1,
    "x":407.24338150024414,
    "y":627.4815549850464,
    "z":"f97ade34.d219f",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"d98ea5a4.989128",
    "type":"other",
    "name":"other",
    "xml":"<outcome value='Other'>\n",
    "comments":"",
    "outputs":1,
    "x":741.5766868591309,
    "y":491.4814250469208,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "838280a9.26353"
      ]
    ]
  },
  {
    "id":"838280a9.26353",
    "type":"block",
    "name":"block: atomic",
    "xml":"<block atomic=\"true\">\n",
    "atomic":"false",
    "comments":"",
    "outputs":1,
    "x":921.5766372680664,
    "y":492.1479756832123,
    "z":"f97ade34.d219f",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"ef8d3b6f.8c3c58",
    "type":"set",
    "name":"set id",
    "xml":"<set>\n<parameter name='brg-ar.allotted-resource-id' value=\"`$tmp.ar.allotted-resource-id` \" />\n<parameter name='brg-ar.allotted-resource-status.action' value=\"`$brg-topology-operation-input.request-information.request-action` \" />\n<parameter name='brg-ar.allotted-resource-status.rpc-name' value=\"brg-topology-operation\" />\n<parameter name='brg-ar.allotted-resource-status.rpc-action' value=\"`$brg-topology-operation-input.sdnc-request-header.svc-action` \" />\n<parameter name='brg-ar.allotted-resource-data.allotted-resource-operation-information.request-information.' value=\"`$brg-topology-operation-input.request-information.` \" />\n<parameter name='brg-ar.allotted-resource-data.allotted-resource-operation-information.sdnc-request-header.' value=\"`$brg-topology-operation-input.sdnc-request-header.` \" />\n<parameter name='brg-ar.allotted-resource-data.allotted-resource-operation-information.service-information.' value=\"`$brg-topology-operation-input.service-information.` \" />\n<parameter name='brg-ar.allotted-resource-data.allotted-resource-operation-information.allotted-resource-information.' value=\"`$brg-topology-operation-input.allotted-resource-information.` \" />\n<parameter name='brg-ar.allotted-resource-data.allotted-resource-operation-information.brg-request-input.' value=\"`$brg-topology-operation-input.brg-request-input.` \" />",
    "comments":"",
    "x":390.24342346191406,
    "y":547.1481666564941,
    "z":"f97ade34.d219f",
    "wires":[

    ]
  },
  {
    "id":"56b9c5ed.fb1fec",
    "type":"block",
    "name":"block",
    "xml":"<block>\n",
    "atomic":"false",
    "comments":"",
    "outputs":1,
    "x":2193.5997276306152,
    "y":486.0000190734863,
    "z":"f97ade34.d219f",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"531893c6.c405dc",
    "type":"update",
    "name":"update AAI allotted-resource",
    "xml":"<update plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"allotted-resource\" \n\t\tkey=\"customer.global-customer-id = $service-data.service-information.global-customer-id AND\n\t\t\tservice-subscription.service-type = $service-data.service-information.subscription-service-type AND\n\t\t\tservice-instance.service-instance-id = $service-data.service-information.service-instance-id AND\n\t\t\tallotted-resource.id = $tmp.ar.allotted-resource-id\"\n        pfx='pfx' local-only='false' force='false'>\n\t<parameter name=\"operational-status\" value=\"in-service-path\" />\n",
    "comments":"",
    "outputs":1,
    "x":450.85716247558594,
    "y":731.2380628585815,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "35b2a07f.fbd7b",
        "172a8c52.4cd114"
      ]
    ]
  },
  {
    "id":"35b2a07f.fbd7b",
    "type":"failure",
    "name":"failure",
    "xml":"<outcome value='failure'>\n",
    "comments":"",
    "outputs":1,
    "x":706.6190567016602,
    "y":714.1905598640442,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "22b0ba82.e21336"
      ]
    ]
  },
  {
    "id":"22b0ba82.e21336",
    "type":"returnFailure",
    "name":"return failure",
    "xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"AAI failed\" />\n",
    "comments":"",
    "x":873.142936706543,
    "y":725.8096308708191,
    "z":"f97ade34.d219f",
    "wires":[

    ]
  },
  {
    "id":"172a8c52.4cd114",
    "type":"failure",
    "name":"not-found",
    "xml":"<outcome value='not-found'>\n",
    "comments":"",
    "outputs":1,
    "x":713.7143440246582,
    "y":746.9525275230408,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "22b0ba82.e21336"
      ]
    ]
  },
  {
    "id":"7c4bd318.44ab8c",
    "type":"execute",
    "name":"execute RestApiCallNode - setup BRG to vgMux vxlan tunnel port",
    "xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.vpp.vxlan-tunnel.templatefile`\" />\n    <parameter name='restapiUrl' value='`$tmp.honeycomb.url + $tmp.vpp-honeycomb-url`' />\n    <parameter name='restapiUser' value='`$prop.honeycomb.user`' />\n    <parameter name='restapiPassword' value='`$prop.honeycomb.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"honeycomb-vnf\" />\n\n",
    "comments":"",
    "outputs":1,
    "x":563.0000610351562,
    "y":1300.6668300628662,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "37688fbb.e25e1",
        "ac4b28e5.62c318",
        "12690113.8980bf"
      ]
    ]
  },
  {
    "id":"37688fbb.e25e1",
    "type":"not-found",
    "name":"not-found",
    "xml":"<outcome value='not-found'>\n",
    "comments":"",
    "outputs":1,
    "x":896.9748497009277,
    "y":1359.9984420761466,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "5f4a9e0d.9b39c"
      ]
    ]
  },
  {
    "id":"ac4b28e5.62c318",
    "type":"failure",
    "name":"failure",
    "xml":"<outcome value='failure'>\n",
    "comments":"",
    "outputs":1,
    "x":887.9748992919922,
    "y":1328.4984678253531,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "5f4a9e0d.9b39c"
      ]
    ]
  },
  {
    "id":"12690113.8980bf",
    "type":"success",
    "name":"success",
    "xml":"<outcome value='success'>\n",
    "comments":"",
    "outputs":1,
    "x":891.7249374389648,
    "y":1298.8555727005005,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "2f4610c6.cb40f"
      ]
    ]
  },
  {
    "id":"5f4a9e0d.9b39c",
    "type":"returnFailure",
    "name":"return failure",
    "xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error updating md-sal for brg-allotted-resource\" />\n",
    "comments":"",
    "x":1057.7249374389648,
    "y":1329.248491667211,
    "z":"f97ade34.d219f",
    "wires":[

    ]
  },
  {
    "id":"2f4610c6.cb40f",
    "type":"block",
    "name":"block",
    "xml":"<block>\n",
    "atomic":"false",
    "comments":"",
    "outputs":1,
    "x":1033.3809051513672,
    "y":1295.0477418899536,
    "z":"f97ade34.d219f",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"14b435e1.73803a",
    "type":"execute",
    "name":"execute RestApiCallNode - setup BRG vxlan bridge domain",
    "xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.vpp.bridge-domain.templatefile`\" />\n    <parameter name='restapiUrl' value=\"`$tmp.honeycomb.url + $tmp.vpp-honeycomb-url + '/v3po:l2' `\" />\n    <parameter name='restapiUser' value='`$prop.honeycomb.user`' />\n    <parameter name='restapiPassword' value='`$prop.honeycomb.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"honeycomb-vnf\" />\n\n",
    "comments":"",
    "outputs":1,
    "x":544.6668243408203,
    "y":1447.3336246013641,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "3797ac64.379644",
        "fce58130.bb12a",
        "6c45ae8b.a4da4"
      ]
    ]
  },
  {
    "id":"3797ac64.379644",
    "type":"not-found",
    "name":"not-found",
    "xml":"<outcome value='not-found'>\n",
    "comments":"",
    "outputs":1,
    "x":965.9747314453125,
    "y":1502.9985536560416,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "5e305e58.bfbe4"
      ]
    ]
  },
  {
    "id":"fce58130.bb12a",
    "type":"failure",
    "name":"failure",
    "xml":"<outcome value='failure'>\n",
    "comments":"",
    "outputs":1,
    "x":956.974781036377,
    "y":1471.4985794052482,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "5e305e58.bfbe4"
      ]
    ]
  },
  {
    "id":"6c45ae8b.a4da4",
    "type":"success",
    "name":"success",
    "xml":"<outcome value='success'>\n",
    "comments":"",
    "outputs":1,
    "x":960.7248191833496,
    "y":1441.8556842803955,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "fb3d8268.ba343"
      ]
    ]
  },
  {
    "id":"5e305e58.bfbe4",
    "type":"returnFailure",
    "name":"return failure",
    "xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error updating md-sal for brg-allotted-resource\" />\n",
    "comments":"",
    "x":1126.7248191833496,
    "y":1472.248603247106,
    "z":"f97ade34.d219f",
    "wires":[

    ]
  },
  {
    "id":"fb3d8268.ba343",
    "type":"block",
    "name":"block",
    "xml":"<block>\n",
    "atomic":"false",
    "comments":"",
    "outputs":1,
    "x":1102.380786895752,
    "y":1438.0478534698486,
    "z":"f97ade34.d219f",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"815c3841.72ff98",
    "type":"set",
    "name":"set BRG to vgMUX VXLAN Tunnel Port Props",
    "xml":"<set>\n<parameter name='tmp.tunnel-name' value=\"`'vxlanTun' + $brg-ar.allotted-resource-data.brg-topology.brg-assignments.vbrg-wan-ip` \" />\n<parameter name='tmp.tunnel-dest-ip' value=\"`$brg-ar.allotted-resource-data.brg-topology.brg-assignments.vgmux-lan-ip` \" />\n<parameter name='tmp.tunnel-src-ip' value=\"`$brg-ar.allotted-resource-data.brg-topology.brg-assignments.vbrg-wan-ip` \" />\n<parameter name='tmp.tunnel-vni' value=\"`$brg-ar.allotted-resource-data.allotted-resource-operation-information.brg-request-input.vni` \" />",
    "comments":"",
    "x":499.1112060546875,
    "y":1165.6670894622803,
    "z":"f97ade34.d219f",
    "wires":[

    ]
  },
  {
    "id":"970b23d4.8d05e",
    "type":"execute",
    "name":"generate full brg-vpp-honeycomb url",
    "xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.vpp-honeycomb`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.vpp-honeycomb-url\"/>\n    <parameter name=\"target\" value=\"{tunnel-name}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.tunnel-name`\"/>\n",
    "comments":"",
    "outputs":1,
    "x":470.77784729003906,
    "y":1220.6668682098389,
    "z":"f97ade34.d219f",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"b8e9e857.b4d5e8",
    "type":"execute",
    "name":"generate honeycomb-url to vBRG",
    "xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.honeycomb.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.honeycomb.url\"/>\n    <parameter name=\"target\" value=\"{honeycomb-instance-ip}\"/>\n    <parameter name=\"replacement\" value=\"`$brg-ar.allotted-resource-data.brg-topology.brg-assignments.vbrg-wan-ip`\"/>\n",
    "comments":"",
    "outputs":1,
    "x":461.7778778076172,
    "y":1109.3333940505981,
    "z":"f97ade34.d219f",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"a9cc06ef.aed3d8",
    "type":"set",
    "name":"set BRG Bridge Domain Props",
    "xml":"<set>\n<parameter name='tmp.bridge-domain' value=\"bridge-domain-10\" />\n<parameter name='tmp.split-horizon-group' value=\"2\" />",
    "comments":"",
    "x":454.1111602783203,
    "y":1372.3334999084473,
    "z":"f97ade34.d219f",
    "wires":[

    ]
  },
  {
    "id":"a0257b81.5e78c8",
    "type":"comment",
    "name":"save service data for BRG to md-sal for SO to do GET ",
    "info":"http://c1.vm1.sdnc.simpledemo.openecomp.org:8282/restconf/config/GENERIC-RESOURCE-API:services/service/e565bb6b-de14-4a5c-a992-65a681771a7a/service-data/service-topology/\n\n\nservice-instance-id is of the vBRG (in VNF-API data)",
    "comments":"",
    "x":199.2949981689453,
    "y":1965.7714748382568,
    "z":"f97ade34.d219f",
    "wires":[

    ]
  },
  {
    "id":"13ddb22.203944e",
    "type":"execute",
    "name":"execute RestApiCallNode - Get service-data by vnf-id",
    "xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.vnf-api-url`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='GET' />\n    <parameter name=\"responsePrefix\" value=\"service-data\" />\n\n",
    "comments":"",
    "outputs":1,
    "x":531.5014686584473,
    "y":2092.834963798523,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "855aaba9.6b3aa8",
        "a699d7fa.a36428"
      ]
    ]
  },
  {
    "id":"855aaba9.6b3aa8",
    "type":"success",
    "name":"success",
    "xml":"<outcome value='success'>\n",
    "comments":"",
    "outputs":1,
    "x":820.3213882446289,
    "y":2090.214307308197,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "f2f0f6cf.5680f8"
      ]
    ]
  },
  {
    "id":"f2f0f6cf.5680f8",
    "type":"block",
    "name":"block: atomic",
    "xml":"<block atomic=\"true\">\n",
    "atomic":"false",
    "comments":"",
    "outputs":1,
    "x":1001.3213424682617,
    "y":2090.7142567634583,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "4bd61641.b9f8b8",
        "917b8b10.4cc338"
      ]
    ]
  },
  {
    "id":"4bd61641.b9f8b8",
    "type":"switchNode",
    "name":"switch brg length",
    "xml":"<switch test='`$service-data.service-data_length`'>\n",
    "comments":"",
    "outputs":1,
    "x":1247.1785888671875,
    "y":2125.0000200271606,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "8fd40478.4d0058"
      ]
    ]
  },
  {
    "id":"8fd40478.4d0058",
    "type":"other",
    "name":"outcome 1",
    "xml":"<outcome value='1'>\n",
    "comments":"",
    "outputs":1,
    "x":1438.1785926818848,
    "y":2125.000017642975,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "dfcd0278.2218"
      ]
    ]
  },
  {
    "id":"b0e5cf35.cee86",
    "type":"set",
    "name":"set service-data from get",
    "xml":"<set>\n<parameter name='tmp.service-data.' value='$service-data.service-data[0].' />\n",
    "comments":"",
    "x":1838.0357284545898,
    "y":2125.571441888809,
    "z":"f97ade34.d219f",
    "wires":[

    ]
  },
  {
    "id":"dfcd0278.2218",
    "type":"block",
    "name":"block: atomic",
    "xml":"<block atomic='true'>\n",
    "atomic":"false",
    "comments":"",
    "outputs":1,
    "x":1609.0355758666992,
    "y":2125.571486711502,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "b0e5cf35.cee86",
        "86e0cd73.efb82"
      ]
    ]
  },
  {
    "id":"e935998f.98c578",
    "type":"comment",
    "name":"GET vnf-api service info",
    "info":"",
    "comments":"",
    "x":436.8927230834961,
    "y":2056.142660140991,
    "z":"f97ade34.d219f",
    "wires":[

    ]
  },
  {
    "id":"86e0cd73.efb82",
    "type":"switchNode",
    "name":"switch order-status",
    "xml":"<switch test='`$tmp.service-data.order-status`'>\n",
    "comments":"",
    "outputs":1,
    "x":1821.7499465942383,
    "y":2177.142867088318,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "80a04a27.27e6e8",
        "bd91de80.00dd6"
      ]
    ]
  },
  {
    "id":"80a04a27.27e6e8",
    "type":"outcome",
    "name":"outcome Created",
    "xml":"<outcome value='Created'>\n",
    "comments":"",
    "outputs":1,
    "x":2061.635509490967,
    "y":2141.571415901184,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "e6bcc367.5fb5e"
      ]
    ]
  },
  {
    "id":"bd91de80.00dd6",
    "type":"outcome",
    "name":"outcome Other",
    "xml":"<outcome value='Other'>\n",
    "comments":"",
    "outputs":1,
    "x":2087.349884033203,
    "y":2177.00000667572,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "e6bcc367.5fb5e"
      ]
    ]
  },
  {
    "id":"ead3daba.b613a8",
    "type":"comment",
    "name":"Set service-data",
    "info":"",
    "comments":"",
    "x":410.9879837036133,
    "y":2140.9998531341553,
    "z":"f97ade34.d219f",
    "wires":[

    ]
  },
  {
    "id":"917b8b10.4cc338",
    "type":"set",
    "name":"save backup copy of mdsal-ar for rollback",
    "xml":"<set>\n<parameter name='bk-service-data' value='$service-data.' />\n",
    "comments":"",
    "x":1326.892921447754,
    "y":2090.71434879303,
    "z":"f97ade34.d219f",
    "wires":[

    ]
  },
  {
    "id":"a699d7fa.a36428",
    "type":"other",
    "name":"other",
    "xml":"<outcome value='Other'>\n",
    "comments":"",
    "outputs":1,
    "x":820.0831832885742,
    "y":2126.4284801483154,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "bcb372d0.e3af8"
      ]
    ]
  },
  {
    "id":"bcb372d0.e3af8",
    "type":"block",
    "name":"block: atomic",
    "xml":"<block atomic=\"true\">\n",
    "atomic":"false",
    "comments":"",
    "outputs":1,
    "x":1000.0831336975098,
    "y":2127.095030784607,
    "z":"f97ade34.d219f",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"e6bcc367.5fb5e",
    "type":"block",
    "name":"block",
    "xml":"<block>\n",
    "atomic":"false",
    "comments":"",
    "outputs":1,
    "x":2276.106025695801,
    "y":2142.9470500946045,
    "z":"f97ade34.d219f",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"17504c2b.5ecc04",
    "type":"execute",
    "name":"generate vnf service-info url",
    "xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.vnf-api.service-information`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.vnf-api-url\"/>\n    <parameter name=\"target\" value=\"{vnf-id}\"/>\n    <parameter name=\"replacement\" value=\"`$brg-topology-operation-input.allotted-resource-data.brg-topology.brg-assignments.brg-vnf-id`\"/>\n",
    "comments":"",
    "outputs":1,
    "x":452.3109130859375,
    "y":2014.2635564804077,
    "z":"f97ade34.d219f",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"173f16cf.2f6b79",
    "type":"execute",
    "name":"execute RestApiCallNode - PUT service into service",
    "xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.services.templatefile`\" />\n    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.services-url`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-ar\" />\n\n",
    "comments":"",
    "outputs":1,
    "x":531.5966529846191,
    "y":2269.5020151138306,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "5cf17dae.c40c44",
        "35de11e4.9a122e",
        "95e02b4f.ebd798"
      ]
    ]
  },
  {
    "id":"5cf17dae.c40c44",
    "type":"not-found",
    "name":"not-found",
    "xml":"<outcome value='not-found'>\n",
    "comments":"",
    "outputs":1,
    "x":1037.8095092773438,
    "y":2264.024027824402,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "6d015df7.3af934"
      ]
    ]
  },
  {
    "id":"35de11e4.9a122e",
    "type":"failure",
    "name":"failure",
    "xml":"<outcome value='failure'>\n",
    "comments":"",
    "outputs":1,
    "x":1028.8095588684082,
    "y":2232.5240535736084,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "6d015df7.3af934"
      ]
    ]
  },
  {
    "id":"95e02b4f.ebd798",
    "type":"success",
    "name":"success",
    "xml":"<outcome value='success'>\n",
    "comments":"",
    "outputs":1,
    "x":1032.5595970153809,
    "y":2202.8811584487557,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "90681ac.479fee8"
      ]
    ]
  },
  {
    "id":"6d015df7.3af934",
    "type":"returnFailure",
    "name":"return failure",
    "xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error updating md-sal for brg-allotted-resource\" />\n",
    "comments":"",
    "x":1198.5595970153809,
    "y":2233.2740774154663,
    "z":"f97ade34.d219f",
    "wires":[

    ]
  },
  {
    "id":"90681ac.479fee8",
    "type":"block",
    "name":"block",
    "xml":"<block>\n",
    "atomic":"false",
    "comments":"",
    "outputs":1,
    "x":1174.2155647277832,
    "y":2199.073327638209,
    "z":"f97ade34.d219f",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"75aa4c7c.d1f814",
    "type":"execute",
    "name":"generate services url",
    "xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.services`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.services-url\"/>\n    <parameter name=\"target\" value=\"{service-instance-id}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.service-data.service-information.service-instance-id`\"/>\n",
    "comments":"",
    "outputs":1,
    "x":434.9299964904785,
    "y":2229.0258140563965,
    "z":"f97ade34.d219f",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"5bcb3869.fa6198",
    "type":"get-resource",
    "name":"get-resource IPADDR from dmaap DHCP_MAP ",
    "xml":"<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='IPADDR' key=\"SELECT min(ip_addr) ip from DHCP_MAP where mac_addr = $brg-ar.allotted-resource-data.allotted-resource-operation-information.brg-request-input.brg-wan-mac-address\" pfx=\"tmp.brg-wan-ip\" >\n",
    "comments":"",
    "outputs":1,
    "x":507.85716247558594,
    "y":857.7501087188721,
    "z":"f97ade34.d219f",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"60d1bf52.ad3d6",
    "type":"set",
    "name":"set brg-ar.allotted-resource-data.brg-topology.brg-assignments.vbrg-wan-ip",
    "xml":"<set>\n<parameter name='brg-ar.allotted-resource-data.brg-topology.brg-assignments.vbrg-wan-ip' value='`$tmp.brg-wan-ip.ip`' />\n",
    "comments":"",
    "x":594.0000305175781,
    "y":907.0000267028809,
    "z":"f97ade34.d219f",
    "wires":[

    ]
  },
  {
    "id":"ac82543e.0a2288",
    "type":"set",
    "name":"set tmp.ar.consuming-service-instance-id to find vgmux-lan-ip",
    "xml":"<set>\n<parameter name='tmp.ar.consuming-service-instance-id' value='`$allotted-resource-data.brg-topology.allotted-resource-identifiers.consuming-service-instance-id`' />\n",
    "comments":"",
    "x":554.9999694824219,
    "y":954.9998550415039,
    "z":"f97ade34.d219f",
    "wires":[

    ]
  },
  {
    "id":"4a0f8ea5.474a2",
    "type":"call",
    "name":"call GENERIC-RESOURCE-API:get-vgmux-lan-ip",
    "xml":"<call module='GENERIC-RESOURCE-API' rpc='get-vgmux-lan-ip' mode='sync' >\n",
    "comments":"",
    "outputs":1,
    "x":515.0000152587891,
    "y":1003.3331918716431,
    "z":"f97ade34.d219f",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"5f66c498.33c76c",
    "type":"set",
    "name":"set brg-ar.allotted-resource-data.brg-topology.brg-assignments.vgmux-lan-ip",
    "xml":"<set>\n<parameter name='brg-ar.allotted-resource-data.brg-topology.brg-assignments.vgmux-lan-ip' value='`$tmp.tunnelxconn-ar.allotted-resource-data.tunnelxconn-topology.tunnelxconn-assignments.vgmux-lan-ip`' />\n",
    "comments":"",
    "x":593.3332672119141,
    "y":1056.6665697097778,
    "z":"f97ade34.d219f",
    "wires":[

    ]
  },
  {
    "id":"e5c25a7.36cf4a8",
    "type":"comment",
    "name":"Change to POST and just update service?",
    "info":"",
    "comments":"",
    "x":627.8571662902832,
    "y":2293.928587913513,
    "z":"f97ade34.d219f",
    "wires":[

    ]
  },
  {
    "id":"9e2897fc.bd5fd8",
    "type":"execute",
    "name":"execute RestApiCallNode - setup BRG to vgMux vxlan tunnel port",
    "xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.vpp.vxlan-tunnel.templatefile`\" />\n    <parameter name='restapiUrl' value='`$tmp.honeycomb.url + $tmp.vpp-honeycomb-url`' />\n    <parameter name='restapiUser' value='`$prop.honeycomb.user`' />\n    <parameter name='restapiPassword' value='`$prop.honeycomb.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"honeycomb-vnf\" />\n\n",
    "comments":"",
    "outputs":1,
    "x":571.6666870117188,
    "y":1769.1666793823242,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "d26a8b7a.d9ece8",
        "fbdedf10.5454a",
        "57356d95.5d51a4"
      ]
    ]
  },
  {
    "id":"d26a8b7a.d9ece8",
    "type":"not-found",
    "name":"not-found",
    "xml":"<outcome value='not-found'>\n",
    "comments":"",
    "outputs":1,
    "x":905.6414756774902,
    "y":1828.4982913956046,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "44fec79e.04adb8"
      ]
    ]
  },
  {
    "id":"fbdedf10.5454a",
    "type":"failure",
    "name":"failure",
    "xml":"<outcome value='failure'>\n",
    "comments":"",
    "outputs":1,
    "x":896.6415252685547,
    "y":1796.9983171448112,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "44fec79e.04adb8"
      ]
    ]
  },
  {
    "id":"57356d95.5d51a4",
    "type":"success",
    "name":"success",
    "xml":"<outcome value='success'>\n",
    "comments":"",
    "outputs":1,
    "x":900.3915634155273,
    "y":1767.3554220199585,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "267bd26d.8679be"
      ]
    ]
  },
  {
    "id":"44fec79e.04adb8",
    "type":"returnFailure",
    "name":"return failure",
    "xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error updating md-sal for brg-allotted-resource\" />\n",
    "comments":"",
    "x":1066.3915634155273,
    "y":1797.748340986669,
    "z":"f97ade34.d219f",
    "wires":[

    ]
  },
  {
    "id":"267bd26d.8679be",
    "type":"block",
    "name":"block",
    "xml":"<block>\n",
    "atomic":"false",
    "comments":"",
    "outputs":1,
    "x":1042.0475311279297,
    "y":1763.5475912094116,
    "z":"f97ade34.d219f",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"fc322e28.718d1",
    "type":"execute",
    "name":"execute RestApiCallNode - setup BRG vxlan bridge domain",
    "xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.vpp.bridge-domain.templatefile`\" />\n    <parameter name='restapiUrl' value=\"`$tmp.honeycomb.url + $tmp.vpp-honeycomb-url + '/v3po:l2' `\" />\n    <parameter name='restapiUser' value='`$prop.honeycomb.user`' />\n    <parameter name='restapiPassword' value='`$prop.honeycomb.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"honeycomb-vnf\" />\n\n",
    "comments":"",
    "outputs":1,
    "x":551.6668167114258,
    "y":1875.833604812622,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "2e288f38.66f4a",
        "bb6fb110.a62d",
        "2d9ebec0.87afb2"
      ]
    ]
  },
  {
    "id":"2e288f38.66f4a",
    "type":"not-found",
    "name":"not-found",
    "xml":"<outcome value='not-found'>\n",
    "comments":"",
    "outputs":1,
    "x":896.3081550598145,
    "y":1956.498349569738,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "171f1a40.fd48f6"
      ]
    ]
  },
  {
    "id":"bb6fb110.a62d",
    "type":"failure",
    "name":"failure",
    "xml":"<outcome value='failure'>\n",
    "comments":"",
    "outputs":1,
    "x":887.3082046508789,
    "y":1924.9983753189445,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "171f1a40.fd48f6"
      ]
    ]
  },
  {
    "id":"2d9ebec0.87afb2",
    "type":"success",
    "name":"success",
    "xml":"<outcome value='success'>\n",
    "comments":"",
    "outputs":1,
    "x":891.0582427978516,
    "y":1895.3554801940918,
    "z":"f97ade34.d219f",
    "wires":[
      [
        "8bfdc2b2.d6b66"
      ]
    ]
  },
  {
    "id":"171f1a40.fd48f6",
    "type":"returnFailure",
    "name":"return failure",
    "xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error updating md-sal for brg-allotted-resource\" />\n",
    "comments":"",
    "x":1057.0582427978516,
    "y":1925.7483991608024,
    "z":"f97ade34.d219f",
    "wires":[

    ]
  },
  {
    "id":"8bfdc2b2.d6b66",
    "type":"block",
    "name":"block",
    "xml":"<block>\n",
    "atomic":"false",
    "comments":"",
    "outputs":1,
    "x":1032.714210510254,
    "y":1891.547649383545,
    "z":"f97ade34.d219f",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"ecf121e2.af8c8",
    "type":"set",
    "name":"set vG to vgMUX VXLAN Tunnel Port Props",
    "xml":"<set>\n<parameter name='tmp.tunnel-name' value=\"`'vxlanTun' + $brg-ar.allotted-resource-data.brg-topology.brg-assignments.vg-ip` \" />\n<parameter name='tmp.tunnel-dest-ip' value=\"`$brg-ar.allotted-resource-data.brg-topology.brg-assignments.vgmux-bearer-ip` \" />\n<parameter name='tmp.tunnel-src-ip' value=\"`$brg-ar.allotted-resource-data.brg-topology.brg-assignments.vg-ip` \" />\n<parameter name='tmp.tunnel-vni' value=\"`$brg-ar.allotted-resource-data.allotted-resource-operation-information.brg-request-input.vni` \" />",
    "comments":"",
    "x":501.4445343017578,
    "y":1669.1668691635132,
    "z":"f97ade34.d219f",
    "wires":[

    ]
  },
  {
    "id":"496f8c72.09c0b4",
    "type":"execute",
    "name":"generate full brg-vpp-honeycomb url",
    "xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.vpp-honeycomb`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.vpp-honeycomb-url\"/>\n    <parameter name=\"target\" value=\"{tunnel-name}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.tunnel-name`\"/>\n",
    "comments":"",
    "outputs":1,
    "x":481.1111755371094,
    "y":1724.1666479110718,
    "z":"f97ade34.d219f",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"5f18f40a.7db70c",
    "type":"execute",
    "name":"generate honeycomb-url to vG",
    "xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.honeycomb.url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.honeycomb.url\"/>\n    <parameter name=\"target\" value=\"{honeycomb-instance-ip}\"/>\n    <parameter name=\"replacement\" value=\"`$brg-ar.allotted-resource-data.brg-topology.brg-assignments.vg-ip`\"/>\n",
    "comments":"",
    "outputs":1,
    "x":460.44456481933594,
    "y":1609.499843597412,
    "z":"f97ade34.d219f",
    "wires":[
      [

      ]
    ]
  },
  {
    "id":"eab64b.710229b8",
    "type":"set",
    "name":"set brg-ar.allotted-resource-data.brg-topology.brg-assignments.vg-ip",
    "xml":"<set>\n<parameter name='brg-ar.allotted-resource-data.brg-topology.brg-assignments.vg-ip' value='`$tmp.tunnelxconn-ar.allotted-resource-data.tunnelxconn-topology.tunnelxconn-assignments.vg-ip`' />\n",
    "comments":"",
    "x":570.0000457763672,
    "y":1506.666633605957,
    "z":"f97ade34.d219f",
    "wires":[

    ]
  },
  {
    "id":"36e0c301.ee8e2c",
    "type":"set",
    "name":"set brg-ar.allotted-resource-data.brg-topology.brg-assignments.vgmux-bearer-ip",
    "xml":"<set>\n<parameter name='brg-ar.allotted-resource-data.brg-topology.brg-assignments.vgmux-bearer-ip' value='`$tmp.tunnelxconn-ar.allotted-resource-data.tunnelxconn-topology.tunnelxconn-assignments.vgmux-bearer-ip`' />\n",
    "comments":"",
    "x":608.3333435058594,
    "y":1556.6665630340576,
    "z":"f97ade34.d219f",
    "wires":[

    ]
  },
  {
    "id":"a70320e9.12944",
    "type":"comment",
    "name":"Setup VXLAN Tunnel - vG to vgMUX",
    "info":"",
    "comments":"",
    "x":155,
    "y":1509.999852180481,
    "z":"f97ade34.d219f",
    "wires":[

    ]
  },
  {
    "id":"a334503d.66fee",
    "type":"comment",
    "name":"Setup VXLAN Tunnel - vBRG to vgMUX",
    "info":"",
    "comments":"",
    "x":157.1666717529297,
    "y":860.0001373291016,
    "z":"f97ade34.d219f",
    "wires":[

    ]
  }
]