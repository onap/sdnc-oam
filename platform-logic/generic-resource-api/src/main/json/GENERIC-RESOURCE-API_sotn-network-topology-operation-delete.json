[
  {
    "id": "6fceaf50.2ca8a",
    "type": "dgstart",
    "name": "DGSTART",
    "outputs": 1,
    "x": 97.03125762939453,
    "y": 60.531246185302734,
    "z": "4279d5d.f45972c",
    "wires": [
      [
        "cff1a431.d9d948"
      ]
    ]
  },
  {
    "id": "cff1a431.d9d948",
    "type": "service-logic",
    "name": "GENERIC-RESOURCE-API 1.2.1-SNAPSHOT",
    "module": "GENERIC-RESOURCE-API",
    "version": "1.2.1-SNAPSHOT",
    "comments": "",
    "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='1.2.1-SNAPSHOT'>",
    "outputs": 1,
    "x": 309.0312614440918,
    "y": 132.53126335144043,
    "z": "4279d5d.f45972c",
    "wires": [
      [
        "f4a2f725.1d7778"
      ]
    ]
  },
  {
    "id": "f4a2f725.1d7778",
    "type": "method",
    "name": "method sotn-network-topology-operation-delete",
    "xml": "<method rpc='sotn-network-topology-operation-delete' mode='sync'>\n",
    "comments": "",
    "outputs": 1,
    "x": 297.03137969970703,
    "y": 220.53124618530273,
    "z": "4279d5d.f45972c",
    "wires": [
      [
        "977562d1.fa7af"
      ]
    ]
  },
  {
    "id": "977562d1.fa7af",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 467.47571182250977,
    "y": 282.9757022857666,
    "z": "4279d5d.f45972c",
    "wires": [
      [
        "6af1abf.a866354",
        "18eeced4.574d91",
        "406c5f6.7e479a",
        "10a58dd4.391ce2",
        "60c54ca0.bb3fb4",
        "47c1a26c.4cd8ec",
        "a482b966.7af068"
      ]
    ]
  },
  {
    "id": "6af1abf.a866354",
    "type": "call",
    "name": "call GENERIC-RESOURCE-API:validate-sotn-network-input-parameters",
    "xml": "<call module='GENERIC-RESOURCE-API' rpc='validate-sotn-network-input-parameters' mode='sync' >\n",
    "comments": "",
    "outputs": 1,
    "x": 929.4201583862305,
    "y": 77.53124618530273,
    "z": "4279d5d.f45972c",
    "wires": [
      [
        
      ]
    ]
  },
  {
    "id": "18eeced4.574d91",
    "type": "record",
    "name": "record",
    "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/svclogic.log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"sotn-network-topology-operation-delete\"/>\n<parameter name=\"field3\" value=\"SOTN-Delete\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 742.8089828491211,
    "y": 143.8646183013916,
    "z": "4279d5d.f45972c",
    "wires": [
      [
        
      ]
    ]
  },
  {
    "id": "406c5f6.7e479a",
    "type": "set",
    "name": "set networkId and network-object-path",
    "xml": "<set>\n<parameter name='networkId' value='`$network-topology-operation-input.network-information.network-id`' />\n<parameter name='service-object-path' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $network-topology-operation-input.service-information.service-instance-id\n + '/service-data/service-topology/'` \" />",
    "comments": "",
    "x": 827.4756660461426,
    "y": 391.9555377960205,
    "z": "4279d5d.f45972c",
    "wires": [
      
    ]
  },
  {
    "id": "10a58dd4.391ce2",
    "type": "returnSuccess",
    "name": "return success",
    "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
    "comments": "",
    "x": 756.5869140625,
    "y": 455.5109257698059,
    "z": "4279d5d.f45972c",
    "wires": [
      
    ]
  },
  {
    "id": "47c1a26c.4cd8ec",
    "type": "set",
    "name": "set new network length",
    "xml": "<set>\n\t<parameter name=\"service-data.networks.network_length\" value=\"`$service-data.networks.network_length - 1`\"/>\n\n\t\n",
    "comments": "",
    "x": 786.1083374023438,
    "y": 269.42644786834717,
    "z": "4279d5d.f45972c",
    "wires": [
      
    ]
  },
  {
    "id": "60c54ca0.bb3fb4",
    "type": "set",
    "name": "Remove networks from ServiceData",
    "xml": "<set>\n\t<parameter name=\"service-data.networks.network[$nidx].\" value=\"\"/>\n\n",
    "comments": "",
    "x": 826.732494354248,
    "y": 317.394389629364,
    "z": "4279d5d.f45972c",
    "wires": [
      
    ]
  },
  {
    "id": "a482b966.7af068",
    "type": "delete",
    "name": "delete SOTN VPNInstance configuration in AAI",
    "xml": "<delete plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" resource='configuration' \n        key='configuration.configuration-id = $network-topology-operation-input.network-information.network-id'>\n",
    "comments": "",
    "outputs": 1,
    "x": 864.6638374328613,
    "y": 210.53753185272217,
    "z": "4279d5d.f45972c",
    "wires": [
      [
        
      ]
    ]
  }
]
