[
  {
    "id": "dade7d5.3be378",
    "type": "dgstart",
    "name": "DGSTART",
    "outputs": 1,
    "x": 116.01040649414062,
    "y": 55.999999734573066,
    "z": "1ff7724b.6a5b2e",
    "wires": [
      [
        "88d1057.ae444f8"
      ]
    ]
  },
  {
    "id": "88d1057.ae444f8",
    "type": "service-logic",
    "name": "GENERIC-RESOURCE-API ${project.version}",
    "module": "GENERIC-RESOURCE-API",
    "version": "${project.version}",
    "comments": "",
    "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
    "outputs": 1,
    "x": 328.0104103088379,
    "y": 128.00001690071076,
    "z": "1ff7724b.6a5b2e",
    "wires": [
      [
        "1b879646.8c5f2a"
      ]
    ]
  },
  {
    "id": "1b879646.8c5f2a",
    "type": "method",
    "name": "method sotn-network-topology-operation-delete",
    "xml": "<method rpc='sotn-network-topology-operation-delete' mode='sync'>\n",
    "comments": "",
    "outputs": 1,
    "x": 316.0105285644531,
    "y": 215.99999973457307,
    "z": "1ff7724b.6a5b2e",
    "wires": [
      [
        "84422522.f0dfe8"
      ]
    ]
  },
  {
    "id": "84422522.f0dfe8",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 486.45486068725586,
    "y": 278.44445583503693,
    "z": "1ff7724b.6a5b2e",
    "wires": [
      [
        "8bc679c2.d2e228",
        "3dd9c771.f2d768",
        "81f00f63.ec84b",
        "a13b30bd.b7628",
        "a4092a94.cd0c48",
        "2768fcc.58a2004",
        "8b28cfea.bd23e"
      ]
    ]
  },
  {
    "id": "8bc679c2.d2e228",
    "type": "call",
    "name": "call GENERIC-RESOURCE-API:validate-sotn-network-input-parameters",
    "xml": "<call module='GENERIC-RESOURCE-API' rpc='validate-sotn-network-input-parameters' mode='sync' >\n",
    "comments": "",
    "outputs": 1,
    "x": 948.3993072509766,
    "y": 72.99999973457307,
    "z": "1ff7724b.6a5b2e",
    "wires": [
      [
        
      ]
    ]
  },
  {
    "id": "3dd9c771.f2d768",
    "type": "record",
    "name": "record",
    "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/svclogic.log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"sotn-network-topology-operation-delete\"/>\n<parameter name=\"field3\" value=\"SOTN-Delete\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 761.7881317138672,
    "y": 139.33337185066193,
    "z": "1ff7724b.6a5b2e",
    "wires": [
      [
        
      ]
    ]
  },
  {
    "id": "81f00f63.ec84b",
    "type": "set",
    "name": "set networkId and network-object-path",
    "xml": "<set>\n<parameter name='networkId' value='`$network-topology-operation-input.network-information.network-id`' />\n<parameter name='service-object-path' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $network-topology-operation-input.service-information.service-instance-id\n + '/service-data/service-topology/'` \" />",
    "comments": "",
    "x": 846.4548149108887,
    "y": 387.42429134529084,
    "z": "1ff7724b.6a5b2e",
    "wires": [
      
    ]
  },
  {
    "id": "a13b30bd.b7628",
    "type": "returnSuccess",
    "name": "return success",
    "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
    "comments": "",
    "x": 775.5660629272461,
    "y": 450.97967931907624,
    "z": "1ff7724b.6a5b2e",
    "wires": [
      
    ]
  },
  {
    "id": "2768fcc.58a2004",
    "type": "set",
    "name": "set new network length",
    "xml": "<set>\n\t<parameter name=\"service-data.networks.network_length\" value=\"`$service-data.networks.network_length - 1`\"/>\n\n\t\n",
    "comments": "",
    "x": 805.0874862670898,
    "y": 264.8952014176175,
    "z": "1ff7724b.6a5b2e",
    "wires": [
      
    ]
  },
  {
    "id": "a4092a94.cd0c48",
    "type": "set",
    "name": "Remove networks from ServiceData",
    "xml": "<set>\n\t<parameter name=\"service-data.networks.network[$tmp.nidx].\" value=\"\"/>\n\n",
    "comments": "",
    "x": 845.7116432189941,
    "y": 312.86314317863435,
    "z": "1ff7724b.6a5b2e",
    "wires": [
      
    ]
  },
  {
    "id": "8b28cfea.bd23e",
    "type": "delete",
    "name": "delete SOTN VPNInstance configuration in AAI",
    "xml": "<delete plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" resource='configuration' \n        key='configuration.configuration-id = $network-topology-operation-input.network-information.network-id'>\n",
    "comments": "",
    "outputs": 1,
    "x": 883.6429862976074,
    "y": 206.0062854019925,
    "z": "1ff7724b.6a5b2e",
    "wires": [
      [
        
      ]
    ]
  }
]
