[{"id":"2e507f62.19bb6","type":"for","name":"for resource-accumulator-resolved-data loop","xml":"<for silentFailure='true' index='i' start='0' end='`$jsonContextPrefix.resource-accumulator-resolved-data_length`' >\n","comments":"","outputs":1,"x":588.2539825439453,"y":410.1587429046631,"z":"6aa560e5.85c47","wires":[["5103e61.a16e518"]]},{"id":"93065c5b.0381d","type":"set","name":"set from resource-accumulator-resolved-data","xml":"<set>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].name`' value='`$jsonContextPrefix.resource-accumulator-resolved-data[$i].param-name`'/>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].value`' value='`$jsonContextPrefix.resource-accumulator-resolved-data[$i].param-value`'/>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].resource-resolution-data.capability-name`' value='RA Resolved'/>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].resource-resolution-data.status`' value='SUCCESS'/>\n\n","comments":"","x":1802.2539825439453,"y":461.1587429046631,"z":"6aa560e5.85c47","wires":[]},{"id":"d85544dd.7444d8","type":"for","name":"for capability-data","xml":"<for silentFailure='true' index='i' start='0' end='`$jsonContextPrefix.capability-data_length`' >\n","comments":"","outputs":1,"x":492.9683074951172,"y":735.0158672332764,"z":"6aa560e5.85c47","wires":[["d9aa7add.98f838"]]},{"id":"d9aa7add.98f838","type":"for","name":"for key-mapping","xml":"<for silentFailure='true' index='j' start='0' end='`$jsonContextPrefix.capability-data[$i].key-mapping_length`' >","comments":"","outputs":1,"x":715.9683074951172,"y":735.0158672332764,"z":"6aa560e5.85c47","wires":[["f40c4e87.7662"]]},{"id":"5c20309b.4e988","type":"for","name":"for vnf-parameters-data.param","xml":"<for silentFailure='true' index='cnt' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param_length`' >\n","comments":"","outputs":1,"x":1561.2539825439453,"y":410.1587429046631,"z":"6aa560e5.85c47","wires":[["eddc2b7e.b25dd8"]]},{"id":"5103e61.a16e518","type":"block","name":"block atomic","xml":"<block atomic=\"true\">","atomic":"false","comments":"","outputs":1,"x":867.2539825439453,"y":411.1587429046631,"z":"6aa560e5.85c47","wires":[["4904006a.4a46c","9a71c833.c3ba38","b9f0e559.8a4478"]]},{"id":"eddc2b7e.b25dd8","type":"switchNode","name":"switch input vnf-name","xml":"<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$cnt].name == $jsonContextPrefix.resource-accumulator-resolved-data[$i].param-name`'>\n","comments":"","outputs":1,"x":1819.2539825439453,"y":410.1587429046631,"z":"6aa560e5.85c47","wires":[["6173dec6.c45a8"]]},{"id":"6173dec6.c45a8","type":"not-found","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1999.2539825439453,"y":410.1587429046631,"z":"6aa560e5.85c47","wires":[["42e3ef61.cd65c"]]},{"id":"42e3ef61.cd65c","type":"set","name":"set for existing param name","xml":"<set>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$cnt].value`' \n\tvalue='`$jsonContextPrefix.resource-accumulator-resolved-data[$i].param-value`'/>\n<parameter name='tmp.mso.param.found' value='true' />\n","comments":"","x":2209.2539825439453,"y":411.1587429046631,"z":"6aa560e5.85c47","wires":[]},{"id":"b9f0e559.8a4478","type":"switchNode","name":"switch tmp.mso.param.not-found","xml":"<switch test='`$tmp.mso.param.found`'>\n","comments":"","outputs":1,"x":1109.2539825439453,"y":463.1587429046631,"z":"6aa560e5.85c47","wires":[["c5edd65c.570798"]]},{"id":"c5edd65c.570798","type":"not-found","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1343.2539825439453,"y":462.1587429046631,"z":"6aa560e5.85c47","wires":[["a4895338.9624b"]]},{"id":"4904006a.4a46c","type":"set","name":"set for existing param name","xml":"<set>\n<parameter name='tmp.mso.param.found' value='false' />\n","comments":"","x":1093.2539825439453,"y":352.1587429046631,"z":"6aa560e5.85c47","wires":[]},{"id":"9a71c833.c3ba38","type":"switchNode","name":"switch check length > 0","xml":"<switch test='`$prehighnum &gt; 0`'>\n","comments":"","outputs":1,"x":1085.7539825439453,"y":411.1587429046631,"z":"6aa560e5.85c47","wires":[["461e05f4.4d39bc"]]},{"id":"461e05f4.4d39bc","type":"not-found","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1332.7539825439453,"y":411.1587429046631,"z":"6aa560e5.85c47","wires":[["5c20309b.4e988"]]},{"id":"c8bb45ac.567628","type":"for","name":"for payload","xml":"<for index='k' start='0' end='`$jsonContextPrefix.capability-data[$i].key-mapping[$j].payload_length`' >","comments":"","outputs":1,"x":1790.6825561523438,"y":783.730185508728,"z":"6aa560e5.85c47","wires":[["9188cc48.86d4b"]]},{"id":"341ba0da.79e99","type":"set","name":"set resource-key","xml":"<set>\n\t<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].resource-resolution-data.resource-key[$num].name`' value='`$jsonContextPrefix.capability-data[$i].key-mapping[$j].payload[$k].param-name`'/>\n\t<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].resource-resolution-data.resource-key[$num].value`' value='`$jsonContextPrefix.capability-data[$i].key-mapping[$j].payload[$k].param-value`'/>\n\t\n","comments":"","x":2189.6825561523438,"y":724.730185508728,"z":"6aa560e5.85c47","wires":[]},{"id":"eeff7929.acf308","type":"set","name":"set output-data ","xml":"<set>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].name`' value='`$jsonContextPrefix.capability-data[$i].key-mapping[$j].output-key-mapping[$l].resource-name`'/>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].value`' value='`$jsonContextPrefix.capability-data[$i].key-mapping[$j].output-key-mapping[$l].resource-value`'/>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].resource-resolution-data.capability-name`' value='`$jsonContextPrefix.capability-data[$i].capability-name`'/>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].resource-resolution-data.status`' value='PENDING'/>\n<parameter name='num' value='0' />","comments":"","x":1370.111068725586,"y":625.7302198410034,"z":"6aa560e5.85c47","wires":[]},{"id":"f40c4e87.7662","type":"for","name":"for output-key-mapping","xml":"<for silentFailure='true' index='l' start='0' end='`$jsonContextPrefix.capability-data[$i].key-mapping[$j].output-key-mapping_length`' >","comments":"","outputs":1,"x":950.9683074951172,"y":735.0158672332764,"z":"6aa560e5.85c47","wires":[["84304501.8a30b8"]]},{"id":"84304501.8a30b8","type":"block","name":"block atomic","xml":"<block atomic=\"true\">","atomic":"false","comments":"","outputs":1,"x":1161.9683074951172,"y":735.0158672332764,"z":"6aa560e5.85c47","wires":[["eeff7929.acf308","b624cec6.6ca6d","e9299336.32d1"]]},{"id":"b624cec6.6ca6d","type":"switchNode","name":"switch payload_length","xml":"<switch test=\"`$jsonContextPrefix.capability-data[$i].key-mapping[$j].payload_length == ''`\">\n","comments":"","outputs":1,"x":1397.6825561523438,"y":732.730185508728,"z":"6aa560e5.85c47","wires":[["a6e4d7a5.6d9358","1f7c362b.f32f5a"]]},{"id":"a6e4d7a5.6d9358","type":"outcome","name":"true","xml":"<outcome value='true'>","comments":"","outputs":1,"x":1612.6825561523438,"y":664.730185508728,"z":"6aa560e5.85c47","wires":[[]]},{"id":"1f7c362b.f32f5a","type":"other","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1621.6825561523438,"y":783.730185508728,"z":"6aa560e5.85c47","wires":[["c8bb45ac.567628"]]},{"id":"9188cc48.86d4b","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1967.6825561523438,"y":782.730185508728,"z":"6aa560e5.85c47","wires":[["341ba0da.79e99","6287f81d.480b78","f718b5cf.321da8"]]},{"id":"6287f81d.480b78","type":"set","name":"set length","xml":"<set>\n\t<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].resource-resolution-data.resource-key_length`' value='`$num + 1`'/>\n","comments":"","x":2178.6825561523438,"y":782.730185508728,"z":"6aa560e5.85c47","wires":[]},{"id":"f718b5cf.321da8","type":"set","name":"increment length","xml":"<set>\n\t<parameter name='num' value='`$num + 1`' />\n","comments":"","x":2191.6825561523438,"y":848.730185508728,"z":"6aa560e5.85c47","wires":[]},{"id":"e9299336.32d1","type":"set","name":"highnum++","xml":"<set>\n\t<parameter name='highnum' value='`$highnum + 1`' />\n","comments":"","x":1360.8253784179688,"y":859.0159585475922,"z":"6aa560e5.85c47","wires":[]},{"id":"6bb79aed.6b8014","type":"set","name":"increment length","xml":"<set>\n\t<parameter name='highnum' value='`$highnum + 1`' />\n","comments":"","x":1720.2539825439453,"y":521.1587429046631,"z":"6aa560e5.85c47","wires":[]},{"id":"a4895338.9624b","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1514.2539825439453,"y":461.1587429046631,"z":"6aa560e5.85c47","wires":[["93065c5b.0381d","6bb79aed.6b8014"]]},{"id":"db7d6742.60d0b8","type":"dgstart","name":"DGSTART","outputs":1,"x":151.42858123779297,"y":68.57148170471191,"z":"6aa560e5.85c47","wires":[["aac05aea.529ab8"]]},{"id":"aac05aea.529ab8","type":"service-logic","name":"GENERIC-RESOURCE-API ${project.version}","module":"GENERIC-RESOURCE-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>","outputs":1,"x":427.42858123779297,"y":69.57148170471191,"z":"6aa560e5.85c47","wires":[["c788dc3b.52169"]]},{"id":"c788dc3b.52169","type":"method","name":"self-serve-process-vfmodule-template-ra-response","xml":"<method rpc='self-serve-process-vfmodule-template-ra-response' mode='sync'>\n","comments":"","outputs":1,"x":316.92859649658203,"y":123.32148361206055,"z":"6aa560e5.85c47","wires":[["3f7f456.82182ba"]]},{"id":"3f7f456.82182ba","type":"block","name":"block atomic","xml":"<block atomic=\"true\">\n","atomic":"false","comments":"","outputs":1,"x":247.20236206054688,"y":187.04766273498535,"z":"6aa560e5.85c47","wires":[["a8663f4c.6dc1","2e507f62.19bb6","d85544dd.7444d8","606e195c.551628","56d0bcfa.fdd634"]]},{"id":"a8663f4c.6dc1","type":"switchNode","name":"switch resource-accumulator-resolved-data_length","xml":"<switch test='`$jsonContextPrefix.resource-accumulator-resolved-data_length`'>\n","comments":"","outputs":1,"x":608.0356979370117,"y":260.8929042816162,"z":"6aa560e5.85c47","wires":[["f73172dd.87028"]]},{"id":"f73172dd.87028","type":"not-found","name":"NULL","xml":"<outcome value=''>\n","comments":"","outputs":1,"x":916.6071090698242,"y":260.3214931488037,"z":"6aa560e5.85c47","wires":[["953e9372.9aa27"]]},{"id":"953e9372.9aa27","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"resource-accumulator-resolved-data_length is null\" />\n","comments":"","x":1087.6071472167969,"y":260.8929023742676,"z":"6aa560e5.85c47","wires":[]},{"id":"56d0bcfa.fdd634","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"DONE: self-serve-process-vfmodule-template-ra-response\"/>\n\n","comments":"","outputs":1,"x":424.89284896850586,"y":1053.3928203582764,"z":"6aa560e5.85c47","wires":[[]]},{"id":"606e195c.551628","type":"set","name":"set service-data...param_length","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param_length' \n\tvalue='`$highnum`'/>\n","comments":"","x":514.607177734375,"y":966.2499573230743,"z":"6aa560e5.85c47","wires":[]},{"id":"8b5eee54.80644","type":"comment","name":"Overwrite MSO input with RA response","info":"","comments":"","x":1922.857177734375,"y":365.71429443359375,"z":"6aa560e5.85c47","wires":[]},{"id":"d509dbb8.56c1b8","type":"comment","name":"index=i","info":"","comments":"","x":594.2857055664062,"y":361.4285888671875,"z":"6aa560e5.85c47","wires":[]},{"id":"54ef5d5c.c54284","type":"comment","name":"index=cnt","info":"","comments":"","x":1510.5357055664062,"y":366.4285888671875,"z":"6aa560e5.85c47","wires":[]}]