[{"id":"2df7d5ad.a996d2","type":"dgstart","name":"DGSTART","outputs":1,"x":128,"y":289,"z":"dc39d835.96bdd8","wires":[["32cfd219.1ac396"]]},{"id":"32cfd219.1ac396","type":"service-logic","name":"GENERIC-RESOURCE-API ${project.version}","module":"GENERIC-RESOURCE-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>","outputs":1,"x":226.78570556640625,"y":363.23810386657715,"z":"dc39d835.96bdd8","wires":[["b7a659a2.b86cd"]]},{"id":"b7a659a2.b86cd","type":"method","name":"validate-brg-input","xml":"<method rpc='validate-brg-input' mode='sync'>\n","comments":"","outputs":1,"x":255.67861938476562,"y":434.16669368743896,"z":"dc39d835.96bdd8","wires":[["41e552e1.a4407c"]]},{"id":"41e552e1.a4407c","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":297.7500457763672,"y":707.4434947967529,"z":"dc39d835.96bdd8","wires":[["d73d8f31.4e4d78","39929335.256ed4","eb58928.4059af","ae7d7c34.52484","86acd43a.96ddb"]]},{"id":"d73d8f31.4e4d78","type":"switchNode","name":"switch svc-request-id","xml":"<switch test='`$brg-topology-operation-input.sdnc-request-header.svc-request-id`'>\n","comments":"","outputs":1,"x":632.8095703125,"y":192.09528064727783,"z":"dc39d835.96bdd8","wires":[["28205195.f4b4c6"]]},{"id":"28205195.f4b4c6","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":862.5238554818288,"y":190.09527737753706,"z":"dc39d835.96bdd8","wires":[["3fbfa39d.851dc4"]]},{"id":"3fbfa39d.851dc4","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"sdnc-request-header.svc-request-id is a required input\" />\n","comments":"","x":1013.9523620605469,"y":186.76194381713867,"z":"dc39d835.96bdd8","wires":[]},{"id":"39929335.256ed4","type":"switchNode","name":"switch svc-action","xml":"<switch test='`$brg-topology-operation-input.sdnc-request-header.svc-action`'>\n","comments":"","outputs":1,"x":625.3809204101562,"y":145.66667938232422,"z":"dc39d835.96bdd8","wires":[["24ca7000.682678"]]},{"id":"24ca7000.682678","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":861.0952758789062,"y":147.23810291290283,"z":"dc39d835.96bdd8","wires":[["8817c69.4b47638"]]},{"id":"8817c69.4b47638","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"sdnc-request-header.svc-action is a required input\" />\n","comments":"","x":1011.0952491760254,"y":147.238112449646,"z":"dc39d835.96bdd8","wires":[]},{"id":"509b53b0.695fbc","type":"comment","name":"validate-brg-input - CHANGELOG","info":"3/22: Initial release 1.0.0","comments":"","x":141,"y":193,"z":"dc39d835.96bdd8","wires":[]},{"id":"eb58928.4059af","type":"switchNode","name":"switch svc-action","xml":"<switch test='`$brg-topology-operation-input.sdnc-request-header.svc-action`'>\n","comments":"","outputs":1,"x":537.6666603088379,"y":713.000036239624,"z":"dc39d835.96bdd8","wires":[["e59d6c66.24b1b8","743a49ba.f7959","7c03ca36.9c9e7c","e4d4185e.a7fa78","2eee7744.0f8348","99d1f53c.f197a"]]},{"id":"e59d6c66.24b1b8","type":"other","name":"assign","xml":"<outcome value='assign'>","comments":"","outputs":1,"x":798.7143630981445,"y":548.5714664459229,"z":"dc39d835.96bdd8","wires":[["4b627a3b.c4181c"]]},{"id":"743a49ba.f7959","type":"other","name":"activate","xml":"<outcome value='activate'>","comments":"","outputs":1,"x":818.9999694824219,"y":736.0000305175781,"z":"dc39d835.96bdd8","wires":[["9f7226f9.0b254"]]},{"id":"7c03ca36.9c9e7c","type":"other","name":"deactivate","xml":"<outcome value='deactivate'>","comments":"","outputs":1,"x":825.9999694824219,"y":826.0000305175781,"z":"dc39d835.96bdd8","wires":[["166b6da8.0cb58a"]]},{"id":"e4d4185e.a7fa78","type":"other","name":"unassign","xml":"<outcome value='unassign'>","comments":"","outputs":1,"x":806.9998321533203,"y":993.3333578109741,"z":"dc39d835.96bdd8","wires":[["d9c03934.4c2d6"]]},{"id":"4b627a3b.c4181c","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":997.0238189697266,"y":546.7262649536133,"z":"dc39d835.96bdd8","wires":[["d5de95e6.1f17b8","6025b5b8.e34324","e6c0544b.85286","722bdd7c.a195dc","3ea57e4c.be66ca","71ef08e1.c1af6","da6889a0.cd6af","4f44743a.883524"]]},{"id":"9f7226f9.0b254","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":997.2500152587891,"y":735.750072479248,"z":"dc39d835.96bdd8","wires":[["722bdd7c.a195dc","71ef08e1.c1af6"]]},{"id":"166b6da8.0cb58a","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":998.2500305175781,"y":827.0000743865967,"z":"dc39d835.96bdd8","wires":[["722bdd7c.a195dc","71ef08e1.c1af6"]]},{"id":"d9c03934.4c2d6","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":995.9998931884766,"y":993.8333883285522,"z":"dc39d835.96bdd8","wires":[["722bdd7c.a195dc"]]},{"id":"d5de95e6.1f17b8","type":"switchNode","name":"switch vgmux-bearer-ip","xml":"<switch test='`$brg-topology-operation-input.brg-request-input.vgmux-bearer-ip`'>\n","comments":"","outputs":1,"x":1412.1190185546875,"y":512.2976684570312,"z":"dc39d835.96bdd8","wires":[["8b885207.44625"]]},{"id":"8b885207.44625","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1612.118896484375,"y":518.107177734375,"z":"dc39d835.96bdd8","wires":[["6e682d4f.11086c"]]},{"id":"6e682d4f.11086c","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"brg-topology-operation-input.brg-request-input.vlan-tag is a required input\" />\n","comments":"","x":1821.3095703125,"y":518.107177734375,"z":"dc39d835.96bdd8","wires":[]},{"id":"e6c0544b.85286","type":"switchNode","name":"switch onap-model-information.model-customization-uuid","xml":"<switch test='`$brg-topology-operation-input.allotted-resource-information.onap-model-information.model-customization-uuid`'>\n","comments":"","outputs":1,"x":1518.1073303222656,"y":449.0000972747803,"z":"dc39d835.96bdd8","wires":[["5066256f.f50d44"]]},{"id":"5066256f.f50d44","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1812.1072387695312,"y":450.00003814697266,"z":"dc39d835.96bdd8","wires":[["4548b150.565ed8"]]},{"id":"4548b150.565ed8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"brg-information.onap-model-information.model-customization-uuid is a required input\" />\n","comments":"","x":1959.5357055664062,"y":450.00003814697266,"z":"dc39d835.96bdd8","wires":[]},{"id":"ae7d7c34.52484","type":"returnSuccess","name":"return success","xml":"<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n","comments":"","x":564.3571166992188,"y":1134.4999694824219,"z":"dc39d835.96bdd8","wires":[]},{"id":"6025b5b8.e34324","type":"get-resource","name":"get-resource AR_MODEL","xml":"<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='SELECT * from ALLOTTED_RESOURCE_MODEL WHERE customization_uuid = $brg-topology-operation-input.allotted-resource-information.onap-model-information.model-customization-uuid'\n  pfx='ar-model'>\n\n","comments":"","outputs":1,"x":1390.302146911621,"y":669.2818689346313,"z":"dc39d835.96bdd8","wires":[["a9b64f5d.19e888","814fec12.f3e01"]]},{"id":"d71b9ede.b96fd8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'No alloted resource model found for model customization UUID ' + $brg-topology-operation-input.allotted-resource-information.onap-model-information.model-customization-uuid`\" />\n","comments":"","x":1837.3854637145996,"y":657.4484224319458,"z":"dc39d835.96bdd8","wires":[]},{"id":"a9b64f5d.19e888","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1638.6355438232422,"y":652.8056383132935,"z":"dc39d835.96bdd8","wires":[["d71b9ede.b96fd8"]]},{"id":"814fec12.f3e01","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1632.3855438232422,"y":685.3056383132935,"z":"dc39d835.96bdd8","wires":[["d71b9ede.b96fd8"]]},{"id":"86acd43a.96ddb","type":"switchNode","name":"switch service-instance-id","xml":"<switch test='`$brg-topology-operation-input.service-information.service-instance-id`'>\n","comments":"","outputs":1,"x":632.4285583496094,"y":420.85719299316406,"z":"dc39d835.96bdd8","wires":[["2a109ee3.4321fa"]]},{"id":"2a109ee3.4321fa","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":848.8571472167969,"y":421.85719299316406,"z":"dc39d835.96bdd8","wires":[["bf2f1ed4.8c53c8"]]},{"id":"bf2f1ed4.8c53c8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"service-information.service-instance-id is a required input\" />\n","comments":"","x":1007.2856750488281,"y":420.85719299316406,"z":"dc39d835.96bdd8","wires":[]},{"id":"2eee7744.0f8348","type":"other","name":"create","xml":"<outcome value='create'>","comments":"","outputs":1,"x":805.7777137756348,"y":633.9074087142944,"z":"dc39d835.96bdd8","wires":[["13a4fe65.3387a2"]]},{"id":"13a4fe65.3387a2","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":998.0276031494141,"y":629.9907321929932,"z":"dc39d835.96bdd8","wires":[["722bdd7c.a195dc","71ef08e1.c1af6"]]},{"id":"99d1f53c.f197a","type":"other","name":"delete","xml":"<outcome value='delete'>","comments":"","outputs":1,"x":819.111083984375,"y":910.5739946365356,"z":"dc39d835.96bdd8","wires":[["551a872e.64e668"]]},{"id":"551a872e.64e668","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":995.6111068725586,"y":908.5740489959717,"z":"dc39d835.96bdd8","wires":[["722bdd7c.a195dc","71ef08e1.c1af6"]]},{"id":"722bdd7c.a195dc","type":"switchNode","name":"switch allotted-resource-id","xml":"<switch test='`$brg-topology-operation-input.allotted-resource-information.allotted-resource-id`'>\n","comments":"","outputs":1,"x":1486.2938537597656,"y":199.03967714309692,"z":"dc39d835.96bdd8","wires":[["73c8a311.3f8c9c"]]},{"id":"73c8a311.3f8c9c","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1689.3296146392822,"y":203.8611183166504,"z":"dc39d835.96bdd8","wires":[["3bbeca15.da2a7e"]]},{"id":"3bbeca15.da2a7e","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"allotted-resource-information.allotted-resource-id is a required input\" />\n","comments":"","x":1874.5080833435059,"y":199.1111183166504,"z":"dc39d835.96bdd8","wires":[]},{"id":"3ea57e4c.be66ca","type":"switchNode","name":"switch allotted-resource-type","xml":"<switch test='`$brg-topology-operation-input.allotted-resource-information.allotted-resource-type`'>\n","comments":"","outputs":1,"x":1490.2224349975586,"y":267.98810291290283,"z":"dc39d835.96bdd8","wires":[["a5016867.1b5198"]]},{"id":"a5016867.1b5198","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1685.7578468322754,"y":267.80952644348145,"z":"dc39d835.96bdd8","wires":[["4ca97e80.33e418"]]},{"id":"4ca97e80.33e418","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"allotted-resource-information.allotted-resource-type is a required input\" />\n","comments":"","x":1845.9363174438477,"y":266.80952644348145,"z":"dc39d835.96bdd8","wires":[]},{"id":"71ef08e1.c1af6","type":"switchNode","name":"switch parent-service-instance-id","xml":"<switch test='`$brg-topology-operation-input.allotted-resource-information.parent-service-instance-id`'>\n","comments":"","outputs":1,"x":1505.5796127319336,"y":343.7023983001709,"z":"dc39d835.96bdd8","wires":[["1432cd2c.473a5b"]]},{"id":"1432cd2c.473a5b","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1725.0437355041504,"y":343.3452482223511,"z":"dc39d835.96bdd8","wires":[["de884d35.af1d08"]]},{"id":"de884d35.af1d08","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"allotted-resource-information.parent-service-instance-id is a required input\" />\n","comments":"","x":1876.4722023010254,"y":342.3452482223511,"z":"dc39d835.96bdd8","wires":[]},{"id":"da6889a0.cd6af","type":"switchNode","name":"switch vni","xml":"<switch test='`$brg-topology-operation-input.brg-request-input.vni`'>\n","comments":"","outputs":1,"x":1371,"y":553,"z":"dc39d835.96bdd8","wires":[["16230ed2.d49239"]]},{"id":"16230ed2.d49239","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1610.9998779296875,"y":561.8095703125,"z":"dc39d835.96bdd8","wires":[["ec4e0461.9f79b"]]},{"id":"ec4e0461.9f79b","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"brg-topology-operation-input.brg-request-input.vlan-tag is a required input\" />\n","comments":"","x":1831.1905517578125,"y":559.8095092773438,"z":"dc39d835.96bdd8","wires":[]},{"id":"4f44743a.883524","type":"switchNode","name":"switch brg-wan-ip-address ","xml":"<switch test='`$brg-topology-operation-input.brg-request-input.brg-wan-ip-address `'>\n","comments":"","outputs":1,"x":1419,"y":606,"z":"dc39d835.96bdd8","wires":[["17e8f38e.f05c54"]]},{"id":"17e8f38e.f05c54","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1626.9998779296875,"y":605.8095397949219,"z":"dc39d835.96bdd8","wires":[["3d499d7a.adc12a"]]},{"id":"3d499d7a.adc12a","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"brg-topology-operation-input.brg-request-input.vlan-tag is a required input\" />\n","comments":"","x":1842.1905517578125,"y":601.8095092773438,"z":"dc39d835.96bdd8","wires":[]}]
