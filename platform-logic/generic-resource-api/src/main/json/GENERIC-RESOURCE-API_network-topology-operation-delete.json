[
  {
    "id": "d563afb0.056168",
    "type": "dgstart",
    "name": "DGSTART",
    "outputs": 1,
    "x": 92,
    "y": 121.33333587646484,
    "z": "89eca582.be817",
    "wires": [
      [
        "f7c87a2f.fb9cf"
      ]
    ]
  },
  {
    "id": "f7c87a2f.fb9cf",
    "type": "service-logic",
    "name": "GENERIC-RESOURCE-API ${project.version}",
    "module": "GENERIC-RESOURCE-API",
    "version": "${project.version}",
    "comments": "",
    "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
    "outputs": 1,
    "x": 304.00000381469727,
    "y": 193.33335304260254,
    "z": "89eca582.be817",
    "wires": [
      [
        "37f24cdb.d75cb4"
      ]
    ]
  },
  {
    "id": "37f24cdb.d75cb4",
    "type": "method",
    "name": "method network-topology-operation-delete",
    "xml": "<method rpc='network-topology-operation-delete' mode='sync'>\n",
    "comments": "",
    "outputs": 1,
    "x": 292.0001220703125,
    "y": 281.33333587646484,
    "z": "89eca582.be817",
    "wires": [
      [
        "968f84c1.36e27"
      ]
    ]
  },
  {
    "id": "968f84c1.36e27",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 568.0000305175781,
    "y": 289.3333492279053,
    "z": "89eca582.be817",
    "wires": [
      [
        "ae3d965a.4a7378",
        "b83c4e05.5eb538",
        "fc04e5a4.52eb5",
        "a964f2cc.8cf37",
        "92a504dc.ec13d8",
        "229c0a0d.36236e",
        "5b36b323.b34d7c",
        "6331818b.c6bfc",
        "e6735147.08a6d8"
      ]
    ]
  },
  {
    "id": "ae3d965a.4a7378",
    "type": "call",
    "name": "call GENERIC-RESOURCE-API:validate-network-input-parameters",
    "xml": "<call module='GENERIC-RESOURCE-API' rpc='validate-network-input-parameters' mode='sync' >\n",
    "comments": "",
    "outputs": 1,
    "x": 889,
    "y": 72.33333587646484,
    "z": "89eca582.be817",
    "wires": [
      []
    ]
  },
  {
    "id": "b83c4e05.5eb538",
    "type": "get-resource",
    "name": "get-resource esr-thirdparty-sdnc",
    "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.thirdparty-sdnc-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.esr-thirdparty-sdnc' local-only='false' >\n\n",
    "comments": "",
    "outputs": 1,
    "x": 833,
    "y": 517.3333053588867,
    "z": "89eca582.be817",
    "wires": [
      [
        "3ddcae6d.d600c2",
        "8879d867.b4938",
        "24d0dda7.8f860a"
      ]
    ]
  },
  {
    "id": "3ddcae6d.d600c2",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1071,
    "y": 473.33333587646484,
    "z": "89eca582.be817",
    "wires": [
      [
        "2875c9d1.a679ce"
      ]
    ]
  },
  {
    "id": "8879d867.b4938",
    "type": "not-found",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1075.490966796875,
    "y": 514.9074020385742,
    "z": "89eca582.be817",
    "wires": [
      [
        "2fdf1df8.d37b9a"
      ]
    ]
  },
  {
    "id": "24d0dda7.8f860a",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1068.823974609375,
    "y": 566.2406539916992,
    "z": "89eca582.be817",
    "wires": [
      [
        "d6d9101d.068098"
      ]
    ]
  },
  {
    "id": "2fdf1df8.d37b9a",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Network model is_bound_to_vpn=true but no vpn_binding is present\" />\n\n",
    "comments": "",
    "x": 1251.0623779296875,
    "y": 513.1931076049805,
    "z": "89eca582.be817",
    "wires": []
  },
  {
    "id": "d6d9101d.068098",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Unexpected error retrieving vpn binding\" />\n\n",
    "comments": "",
    "x": 1229.5965576171875,
    "y": 564.6798629760742,
    "z": "89eca582.be817",
    "wires": []
  },
  {
    "id": "fc04e5a4.52eb5",
    "type": "for",
    "name": "for each network-input-parameters",
    "xml": "<for index='idx' start='0' end='`$service-data.networks.network[$tmp.nidx].network-data.network-request-input.network-input-parameters.param_length`' >\n",
    "comments": "",
    "outputs": 1,
    "x": 851,
    "y": 250.33333587646484,
    "z": "89eca582.be817",
    "wires": [
      [
        "21f32325.9d7694"
      ]
    ]
  },
  {
    "id": "21f32325.9d7694",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1132.8333740234375,
    "y": 228.66667938232422,
    "z": "89eca582.be817",
    "wires": [
      [
        "15f7b5bc.24b652",
        "58a03af6.4686fc",
        "83edb691.4ecc08"
      ]
    ]
  },
  {
    "id": "15f7b5bc.24b652",
    "type": "switchNode",
    "name": "switch name",
    "xml": "<switch test=\"`$service-data.networks.network[$tmp.nidx].network-data.network-request-input.network-input-parameters.param[$idx].name == 'name'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1341,
    "y": 189.33333587646484,
    "z": "89eca582.be817",
    "wires": [
      [
        "57533497.32b74c"
      ]
    ]
  },
  {
    "id": "57533497.32b74c",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1528,
    "y": 189.33333587646484,
    "z": "89eca582.be817",
    "wires": [
      [
        "636e0cba.4ad824"
      ]
    ]
  },
  {
    "id": "636e0cba.4ad824",
    "type": "set",
    "name": "set name",
    "xml": "<set>\n<parameter name='prop.l3vpn.name' value='`$service-data.networks.network[$tmp.nidx].network-data.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1696,
    "y": 189.93334197998047,
    "z": "89eca582.be817",
    "wires": []
  },
  {
    "id": "58a03af6.4686fc",
    "type": "switchNode",
    "name": "switch service-type",
    "xml": "<switch test=\"`$service-data.networks.network[$tmp.nidx].network-data.network-request-input.network-input-parameters.param[$idx].name == 'service-type'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1346,
    "y": 243.93331146240234,
    "z": "89eca582.be817",
    "wires": [
      [
        "49b85e52.02df98"
      ]
    ]
  },
  {
    "id": "49b85e52.02df98",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1529.9999389648438,
    "y": 248.93331146240234,
    "z": "89eca582.be817",
    "wires": [
      [
        "8bbe0d91.97e45"
      ]
    ]
  },
  {
    "id": "8bbe0d91.97e45",
    "type": "set",
    "name": "set service-type",
    "xml": "<set>\n<parameter name='prop.l3vpn.service-type' value='`$service-data.networks.network[$tmp.nidx].network-data.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1698.9999389648438,
    "y": 246.93331146240234,
    "z": "89eca582.be817",
    "wires": []
  },
  {
    "id": "2875c9d1.a679ce",
    "type": "set",
    "name": "set controller data",
    "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.url' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].serviceUrl`\" />\n<parameter name='prop.sdncRestApi.templateDir' value='/opt/onap/sdnc/data' />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.user' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.password' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n",
    "comments": "",
    "x": 1257,
    "y": 470.3333053588867,
    "z": "89eca582.be817",
    "wires": []
  },
  {
    "id": "e7464274.0f82b8",
    "type": "execute",
    "name": "execute REST DELETE VPN",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.sdncRestApi.tempDir +'/l3smvpntemplate.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/huawei-ac-net-l3vpn-svc:l3vpn-svc-cfg/vpn-services/vpnservice=' + $prop.l3vpn.name`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\"/>\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\"/>\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"delete\"/>\n<parameter name=\"responsePrefix\" value=\"restapi-result\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
    "comments": "",
    "outputs": 1,
    "x": 1579,
    "y": 685.3333129882812,
    "z": "89eca582.be817",
    "wires": [
      [
        "9b0fa013.788a28",
        "19c42608.424b9a"
      ]
    ]
  },
  {
    "id": "a964f2cc.8cf37",
    "type": "switchNode",
    "name": "switch service-type",
    "xml": "<switch test=\"`$prop.l3vpn.service-type`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 792,
    "y": 621.3333358764648,
    "z": "89eca582.be817",
    "wires": [
      [
        "93ec2320.02d11"
      ]
    ]
  },
  {
    "id": "93ec2320.02d11",
    "type": "outcomeTrue",
    "name": "l3vpn-ipwan",
    "xml": "<outcome value='l3vpn-ipwan'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1049,
    "y": 622.3333129882812,
    "z": "89eca582.be817",
    "wires": [
      [
        "4e922d10.8ba70c"
      ]
    ]
  },
  {
    "id": "92a504dc.ec13d8",
    "type": "switchNode",
    "name": "switch service-data.networks.network_length",
    "xml": "<switch test='`$service-data.networks.network_length`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 831,
    "y": 145.33333587646484,
    "z": "89eca582.be817",
    "wires": [
      [
        "8e028d38.9057d",
        "c340ac4a.71f85"
      ]
    ]
  },
  {
    "id": "8e028d38.9057d",
    "type": "other",
    "name": "outcome Null",
    "xml": "<outcome value=''>\n",
    "comments": "",
    "outputs": 1,
    "x": 1276,
    "y": 71.3333969116211,
    "z": "89eca582.be817",
    "wires": [
      [
        "ac7b7cef.c3a35"
      ]
    ]
  },
  {
    "id": "ac7b7cef.c3a35",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"network-topology-operation-input.network-request-input.network-id not found in service-data\" />\n",
    "comments": "",
    "x": 1466.7774658203125,
    "y": 58.22234344482422,
    "z": "89eca582.be817",
    "wires": []
  },
  {
    "id": "c340ac4a.71f85",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1160.0003662109375,
    "y": 136.33341217041016,
    "z": "89eca582.be817",
    "wires": [
      [
        "8cbfe4b9.2a2368"
      ]
    ]
  },
  {
    "id": "8cbfe4b9.2a2368",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1331.2698974609375,
    "y": 119.88794708251953,
    "z": "89eca582.be817",
    "wires": [
      [
        "7a7f5cb9.3ef364",
        "89dd7f04.eed92"
      ]
    ]
  },
  {
    "id": "7a7f5cb9.3ef364",
    "type": "for",
    "name": "for nidx..service-data.networks.network[]",
    "xml": "<for index='nidx' start='0' end='`$service-data.networks.network_length`' >\n",
    "comments": "",
    "outputs": 1,
    "x": 1629.285888671875,
    "y": 100.76195526123047,
    "z": "89eca582.be817",
    "wires": [
      [
        "b49be6d2.09dbc8"
      ]
    ]
  },
  {
    "id": "89dd7f04.eed92",
    "type": "switchNode",
    "name": "switch tmp.nidx ",
    "xml": "<switch test=\"`$tmp.nidx`\">\n\n",
    "comments": "",
    "outputs": 1,
    "x": 1550.5872802734375,
    "y": 143.7451400756836,
    "z": "89eca582.be817",
    "wires": [
      [
        "ab419b0d.e9521"
      ]
    ]
  },
  {
    "id": "ab419b0d.e9521",
    "type": "outcome",
    "name": "NULL",
    "xml": "<outcome value=''>\n",
    "comments": "",
    "outputs": 1,
    "x": 1751.015869140625,
    "y": 149.3165512084961,
    "z": "89eca582.be817",
    "wires": [
      [
        "8e89ca22.c1f468"
      ]
    ]
  },
  {
    "id": "b49be6d2.09dbc8",
    "type": "switchNode",
    "name": "switch networkid found",
    "xml": "<switch test=\"`$service-data.networks.network[$nidx].network-id == $network-topology-operation-input.network-information.network-id`\">\n\n",
    "comments": "",
    "outputs": 1,
    "x": 1939.7144775390625,
    "y": 99.01204681396484,
    "z": "89eca582.be817",
    "wires": [
      [
        "92fa60c6.e61928"
      ]
    ]
  },
  {
    "id": "8e89ca22.c1f468",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"network-topology-operation-input.network-request-input.network-id not found in service-data\" />\n",
    "comments": "",
    "x": 1922.4443359375,
    "y": 149.45940399169922,
    "z": "89eca582.be817",
    "wires": []
  },
  {
    "id": "92fa60c6.e61928",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2145.666748046875,
    "y": 97.90477752685547,
    "z": "89eca582.be817",
    "wires": [
      [
        "13e93e78.dc98f2"
      ]
    ]
  },
  {
    "id": "13e93e78.dc98f2",
    "type": "set",
    "name": "set tmp.nidx and ctx.network-data",
    "xml": "<set>\n<parameter name='tmp.nidx' value='`$nidx`' />\n<parameter name='ctx.network-data.' value='`$service-data.networks.network[$nidx].`' />\n",
    "comments": "",
    "x": 2384.198486328125,
    "y": 93.65477752685547,
    "z": "89eca582.be817",
    "wires": []
  },
  {
    "id": "229c0a0d.36236e",
    "type": "block",
    "name": "block : saveNetworkData",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "comments": "",
    "outputs": 1,
    "x": 810,
    "y": 711.3333358764648,
    "z": "89eca582.be817",
    "wires": [
      [
        "2f2a571f.f701d8",
        "ad0ac3a3.801d88",
        "3a891d55.fcf27a",
        "4dbcadac.7cacd4"
      ]
    ]
  },
  {
    "id": "5b36b323.b34d7c",
    "type": "returnSuccess",
    "name": "return success",
    "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
    "comments": "",
    "x": 762.6665649414062,
    "y": 929.666618347168,
    "z": "89eca582.be817",
    "wires": []
  },
  {
    "id": "3a891d55.fcf27a",
    "type": "set",
    "name": "copy input to service-data",
    "xml": "<set>\n<parameter name='service-data.networks.network[$tmp.nidx].network-data.sdnc-request-header.' value='`$network-topology-operation-input.sdnc-request-header.`' />\n<parameter name='service-data.networks.network[$tmp.nidx].network-data.request-information.' value='`$network-topology-operation-input.request-information.`' />\n",
    "comments": "",
    "x": 1103.0000076293945,
    "y": 691.6666479110718,
    "z": "89eca582.be817",
    "wires": []
  },
  {
    "id": "2f2a571f.f701d8",
    "type": "set",
    "name": "set networkId",
    "xml": "<set>\n<parameter name='networkId' value='`$network-topology-operation-input.network-information.network-id`' />\n",
    "comments": "",
    "x": 1067.2895622253418,
    "y": 735.3844947814941,
    "z": "89eca582.be817",
    "wires": []
  },
  {
    "id": "ad0ac3a3.801d88",
    "type": "set",
    "name": "set object-path",
    "xml": "<set>\n<parameter name='network-object-path' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $network-topology-operation-input.service-information.service-instance-id\n + '/service-data/networks/network/'\n + $networkId\n + '/network-data/'` \" />\n \n",
    "comments": "",
    "x": 1073.0039291381836,
    "y": 772.5273866653442,
    "z": "89eca582.be817",
    "wires": []
  },
  {
    "id": "4dbcadac.7cacd4",
    "type": "set",
    "name": "set network-level-oper-status",
    "xml": "<set>\n<parameter name='service-data.networks.network[$tmp.nidx].network-data.network-level-oper-status.order-status' value='Deleted' />\n<parameter name='service-data.networks.network[$tmp.nidx].network-data.network-level-oper-status.last-rpc-action' value='`$network-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.networks.network[$tmp.nidx].network-data.network-level-oper-status.last-action' value='`$network-topology-operation-input.request-information.request-action`' />\n",
    "comments": "",
    "x": 1116.9999389648438,
    "y": 819.6666059494019,
    "z": "89eca582.be817",
    "wires": []
  },
  {
    "id": "6331818b.c6bfc",
    "type": "get-resource",
    "name": "get-resource pnf",
    "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $prop.l3vpn.pe1_id AND \n\t\t     depth = '0'\"\n        pfx='tmp.aai.pnf' local-only='false' >\n\n",
    "comments": "",
    "outputs": 1,
    "x": 789,
    "y": 395.2223434448242,
    "z": "89eca582.be817",
    "wires": [
      [
        "2c36397a.e13af6",
        "81511490.7b5318",
        "8ef29169.d30308"
      ]
    ]
  },
  {
    "id": "2c36397a.e13af6",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 983,
    "y": 333.2223434448242,
    "z": "89eca582.be817",
    "wires": [
      [
        "69eaa950.7e3dd"
      ]
    ]
  },
  {
    "id": "81511490.7b5318",
    "type": "not-found",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 992.490966796875,
    "y": 375.79637908935547,
    "z": "89eca582.be817",
    "wires": [
      [
        "a2279b64.597d58"
      ]
    ]
  },
  {
    "id": "8ef29169.d30308",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 985.823974609375,
    "y": 424.1296920776367,
    "z": "89eca582.be817",
    "wires": [
      [
        "48d06926.05169"
      ]
    ]
  },
  {
    "id": "a2279b64.597d58",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
    "comments": "",
    "x": 1178.0623779296875,
    "y": 377.08211517333984,
    "z": "89eca582.be817",
    "wires": []
  },
  {
    "id": "48d06926.05169",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
    "comments": "",
    "x": 1174.5965576171875,
    "y": 427.5688705444336,
    "z": "89eca582.be817",
    "wires": []
  },
  {
    "id": "69eaa950.7e3dd",
    "type": "set",
    "name": "set tmp.thirdparty-sdnc-id",
    "xml": "<set>\n<parameter name='tmp.thirdparty-sdnc-id' value=\"`$tmp.aai.pnf.relationship-list.relationship[0].relationship-data[0].relationship-value`\" />\n",
    "comments": "",
    "x": 1197,
    "y": 329.2223434448242,
    "z": "89eca582.be817",
    "wires": []
  },
  {
    "id": "83edb691.4ecc08",
    "type": "switchNode",
    "name": "switch pe1_id",
    "xml": "<switch test=\"`$service-data.networks.network[$tmp.nidx].network-data.network-request-input.network-input-parameters.param[$idx].name == 'pe1_id'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1348,
    "y": 290.2223434448242,
    "z": "89eca582.be817",
    "wires": [
      [
        "6271005d.f22478"
      ]
    ]
  },
  {
    "id": "6271005d.f22478",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1534,
    "y": 299.2223434448242,
    "z": "89eca582.be817",
    "wires": [
      [
        "170629d3.536056"
      ]
    ]
  },
  {
    "id": "170629d3.536056",
    "type": "set",
    "name": "set pe1_id",
    "xml": "<set>\n<parameter name='prop.l3vpn.pe1_id' value='`$service-data.networks.network[$tmp.nidx].network-data.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1717,
    "y": 303.2223434448242,
    "z": "89eca582.be817",
    "wires": []
  },
  {
    "id": "e6735147.08a6d8",
    "type": "delete",
    "name": "delete underlay configuration in AAI",
    "xml": "<delete plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" resource='configuration' \n        key='configuration.configuration-id = $network-topology-operation-input.network-information.network-id'>\n",
    "comments": "",
    "outputs": 1,
    "x": 820,
    "y": 857.2223434448242,
    "z": "89eca582.be817",
    "wires": [
      []
    ]
  },
  {
    "id": "390c3473.62cfd4",
    "type": "execute",
    "name": "execute RestApiCallNode Get token",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.sdncRestApi.templateDir + '/actokentemplate.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/v2/tokens'`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"token-result\"/>",
    "comments": "",
    "outputs": 1,
    "x": 1602,
    "y": 613,
    "z": "89eca582.be817",
    "wires": [
      [
        "114e384f.cecfb8",
        "a016d52e.8ce4a8"
      ]
    ]
  },
  {
    "id": "114e384f.cecfb8",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1842,
    "y": 576,
    "z": "89eca582.be817",
    "wires": [
      [
        "600363c2.6867f4"
      ]
    ]
  },
  {
    "id": "a016d52e.8ce4a8",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1849.25,
    "y": 642.6428833007812,
    "z": "89eca582.be817",
    "wires": [
      [
        "e5ef3b3f.f1e878"
      ]
    ]
  },
  {
    "id": "e5ef3b3f.f1e878",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing get token rest api\" />\n",
    "comments": "",
    "x": 2030,
    "y": 641.3929443359375,
    "z": "89eca582.be817",
    "wires": []
  },
  {
    "id": "600363c2.6867f4",
    "type": "set",
    "name": "set token-id",
    "xml": "<set>\n<parameter name='prop.sdncRestApi.token_id' value='$token-result.token_id' />\n",
    "comments": "",
    "x": 2027,
    "y": 573,
    "z": "89eca582.be817",
    "wires": []
  },
  {
    "id": "9b0fa013.788a28",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1799,
    "y": 698,
    "z": "89eca582.be817",
    "wires": [
      []
    ]
  },
  {
    "id": "19c42608.424b9a",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1800.25,
    "y": 761.642822265625,
    "z": "89eca582.be817",
    "wires": [
      [
        "6961c23b.26892c"
      ]
    ]
  },
  {
    "id": "6961c23b.26892c",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing 3rd party controller rest api\" />\n",
    "comments": "",
    "x": 1966,
    "y": 764.3929443359375,
    "z": "89eca582.be817",
    "wires": []
  },
  {
    "id": "4e922d10.8ba70c",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1273,
    "y": 624,
    "z": "89eca582.be817",
    "wires": [
      [
        "390c3473.62cfd4",
        "e7464274.0f82b8"
      ]
    ]
  }
]
