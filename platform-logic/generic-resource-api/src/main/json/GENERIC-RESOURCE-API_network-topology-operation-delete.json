[
  {
    "id": "1bc16ce.3c28013",
    "type": "dgstart",
    "name": "DGSTART",
    "outputs": 1,
    "x": 87,
    "y": 114.11099243164062,
    "z": "e87b72fe.07c73",
    "wires": [
      [
        "97da490c.021388"
      ]
    ]
  },
  {
    "id": "97da490c.021388",
    "type": "service-logic",
    "name": "GENERIC-RESOURCE-API ${project.version}",
    "module": "GENERIC-RESOURCE-API",
    "version": "${project.version}",
    "comments": "",
    "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
    "outputs": 1,
    "x": 299.00000381469727,
    "y": 186.11100959777832,
    "z": "e87b72fe.07c73",
    "wires": [
      [
        "3dca7f57.a19ca8"
      ]
    ]
  },
  {
    "id": "3dca7f57.a19ca8",
    "type": "method",
    "name": "method network-topology-operation-delete",
    "xml": "<method rpc='network-topology-operation-delete' mode='sync'>\n",
    "comments": "",
    "outputs": 1,
    "x": 287.0001220703125,
    "y": 274.1109924316406,
    "z": "e87b72fe.07c73",
    "wires": [
      [
        "2917b139.6003be"
      ]
    ]
  },
  {
    "id": "2917b139.6003be",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 563.0000305175781,
    "y": 282.11100578308105,
    "z": "e87b72fe.07c73",
    "wires": [
      [
        "93de9a8e.85cd28",
        "8a99a44.0aea6d8",
        "b9e067fb.af43c8",
        "8f63fe5a.ce23c",
        "6e9a7fc8.6e80c8",
        "4f853de5.1d70d4",
        "80aa2c3b.44b74",
        "c6199aa8.b4cf08",
        "cd746090.90a5a",
        "e9b167f.6457618"
      ]
    ]
  },
  {
    "id": "93de9a8e.85cd28",
    "type": "call",
    "name": "call GENERIC-RESOURCE-API:validate-network-input-parameters",
    "xml": "<call module='GENERIC-RESOURCE-API' rpc='validate-network-input-parameters' mode='sync' >\n",
    "comments": "",
    "outputs": 1,
    "x": 884,
    "y": 65.11099243164062,
    "z": "e87b72fe.07c73",
    "wires": [
      []
    ]
  },
  {
    "id": "8a99a44.0aea6d8",
    "type": "get-resource",
    "name": "get-resource esr-thirdparty-sdnc",
    "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.thirdparty-sdnc-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.esr-thirdparty-sdnc' local-only='false' >\n\n",
    "comments": "",
    "outputs": 1,
    "x": 828,
    "y": 510.1109619140625,
    "z": "e87b72fe.07c73",
    "wires": [
      [
        "3ab5ee96.e1d5ea",
        "5289c8c7.4bcd4",
        "756a44de.032acc"
      ]
    ]
  },
  {
    "id": "3ab5ee96.e1d5ea",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1066,
    "y": 466.1109924316406,
    "z": "e87b72fe.07c73",
    "wires": [
      [
        "e5229a2a.d65d6"
      ]
    ]
  },
  {
    "id": "5289c8c7.4bcd4",
    "type": "not-found",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1070.490966796875,
    "y": 507.68505859375,
    "z": "e87b72fe.07c73",
    "wires": [
      [
        "84a50f20.350108"
      ]
    ]
  },
  {
    "id": "756a44de.032acc",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1063.823974609375,
    "y": 559.018310546875,
    "z": "e87b72fe.07c73",
    "wires": [
      [
        "ad52005e.b9cf1"
      ]
    ]
  },
  {
    "id": "84a50f20.350108",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Network model is_bound_to_vpn=true but no vpn_binding is present\" />\n\n",
    "comments": "",
    "x": 1246.0623779296875,
    "y": 505.97076416015625,
    "z": "e87b72fe.07c73",
    "wires": []
  },
  {
    "id": "ad52005e.b9cf1",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Unexpected error retrieving vpn binding\" />\n\n",
    "comments": "",
    "x": 1224.5965576171875,
    "y": 557.45751953125,
    "z": "e87b72fe.07c73",
    "wires": []
  },
  {
    "id": "b9e067fb.af43c8",
    "type": "for",
    "name": "for each network-input-parameters",
    "xml": "<for index='idx' start='0' end='`$service-data.networks.network[$tmp.nidx].network-data.network-request-input.network-input-parameters.param_length`' >\n",
    "comments": "",
    "outputs": 1,
    "x": 846,
    "y": 243.11099243164062,
    "z": "e87b72fe.07c73",
    "wires": [
      [
        "dba902b2.65b6e"
      ]
    ]
  },
  {
    "id": "dba902b2.65b6e",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1127.8333740234375,
    "y": 221.4443359375,
    "z": "e87b72fe.07c73",
    "wires": [
      [
        "6dbc1962.e67808",
        "a7f93024.722988",
        "84a77140.b8364"
      ]
    ]
  },
  {
    "id": "6dbc1962.e67808",
    "type": "switchNode",
    "name": "switch name",
    "xml": "<switch test=\"`$service-data.networks.network[$tmp.nidx].network-data.network-request-input.network-input-parameters.param[$idx].name == 'name'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1336,
    "y": 182.11099243164062,
    "z": "e87b72fe.07c73",
    "wires": [
      [
        "5945c6d2.51585"
      ]
    ]
  },
  {
    "id": "5945c6d2.51585",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1523,
    "y": 182.11099243164062,
    "z": "e87b72fe.07c73",
    "wires": [
      [
        "7ba84df2.2f3aec"
      ]
    ]
  },
  {
    "id": "7ba84df2.2f3aec",
    "type": "set",
    "name": "set name",
    "xml": "<set>\n<parameter name='prop.l3vpn.name' value='`$service-data.networks.network[$tmp.nidx].network-data.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1691,
    "y": 182.71099853515625,
    "z": "e87b72fe.07c73",
    "wires": []
  },
  {
    "id": "a7f93024.722988",
    "type": "switchNode",
    "name": "switch service-type",
    "xml": "<switch test=\"`$service-data.networks.network[$tmp.nidx].network-data.network-request-input.network-input-parameters.param[$idx].name == 'service-type'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1341,
    "y": 236.71096801757812,
    "z": "e87b72fe.07c73",
    "wires": [
      [
        "24243087.264e7"
      ]
    ]
  },
  {
    "id": "24243087.264e7",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1524.9999389648438,
    "y": 241.71096801757812,
    "z": "e87b72fe.07c73",
    "wires": [
      [
        "4b08822f.ede664"
      ]
    ]
  },
  {
    "id": "4b08822f.ede664",
    "type": "set",
    "name": "set service-type",
    "xml": "<set>\n<parameter name='prop.l3vpn.service-type' value='`$service-data.networks.network[$tmp.nidx].network-data.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1693.9999389648438,
    "y": 239.71096801757812,
    "z": "e87b72fe.07c73",
    "wires": []
  },
  {
    "id": "e5229a2a.d65d6",
    "type": "set",
    "name": "set controller data",
    "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.url' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].serviceUrl`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.user' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.password' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n",
    "comments": "",
    "x": 1252,
    "y": 463.1109619140625,
    "z": "e87b72fe.07c73",
    "wires": []
  },
  {
    "id": "8892b470.2ab318",
    "type": "execute",
    "name": "execute REST DELETE VPN",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir +'/l3smvpntemplate.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/huawei-ac-net-l3vpn-svc:l3vpn-svc-cfg/vpn-services/vpnservice=' + $prop.l3vpn.name`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\"/>\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\"/>\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"delete\"/>\n<parameter name=\"responsePrefix\" value=\"restapi-result\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
    "comments": "",
    "outputs": 1,
    "x": 1574,
    "y": 678.110969543457,
    "z": "e87b72fe.07c73",
    "wires": [
      [
        "6ace128e.38bbf4",
        "e03ea1f6.8ae24"
      ]
    ]
  },
  {
    "id": "8f63fe5a.ce23c",
    "type": "switchNode",
    "name": "switch service-type",
    "xml": "<switch test=\"`$prop.l3vpn.service-type`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 787,
    "y": 614.1109924316406,
    "z": "e87b72fe.07c73",
    "wires": [
      [
        "cf2b0eea.34d2e"
      ]
    ]
  },
  {
    "id": "cf2b0eea.34d2e",
    "type": "outcomeTrue",
    "name": "l3vpn-ipwan",
    "xml": "<outcome value='l3vpn-ipwan'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1044,
    "y": 615.110969543457,
    "z": "e87b72fe.07c73",
    "wires": [
      [
        "46db16ed.796608"
      ]
    ]
  },
  {
    "id": "6e9a7fc8.6e80c8",
    "type": "switchNode",
    "name": "switch service-data.networks.network_length",
    "xml": "<switch test='`$service-data.networks.network_length`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 826,
    "y": 138.11099243164062,
    "z": "e87b72fe.07c73",
    "wires": [
      [
        "53ed314.a330f5",
        "eeed55fd.c22298"
      ]
    ]
  },
  {
    "id": "53ed314.a330f5",
    "type": "other",
    "name": "outcome Null",
    "xml": "<outcome value=''>\n",
    "comments": "",
    "outputs": 1,
    "x": 1271,
    "y": 64.11105346679688,
    "z": "e87b72fe.07c73",
    "wires": [
      [
        "7b50ad9a.577e8c"
      ]
    ]
  },
  {
    "id": "7b50ad9a.577e8c",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"network-topology-operation-input.network-request-input.network-id not found in service-data\" />\n",
    "comments": "",
    "x": 1461.7774658203125,
    "y": 51,
    "z": "e87b72fe.07c73",
    "wires": []
  },
  {
    "id": "eeed55fd.c22298",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1155.0003662109375,
    "y": 129.11106872558594,
    "z": "e87b72fe.07c73",
    "wires": [
      [
        "29041a71.02b546"
      ]
    ]
  },
  {
    "id": "29041a71.02b546",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1326.2698974609375,
    "y": 112.66560363769531,
    "z": "e87b72fe.07c73",
    "wires": [
      [
        "3af5398b.f7aa0e",
        "4821e95f.09e458"
      ]
    ]
  },
  {
    "id": "3af5398b.f7aa0e",
    "type": "for",
    "name": "for nidx..service-data.networks.network[]",
    "xml": "<for index='nidx' start='0' end='`$service-data.networks.network_length`' >\n",
    "comments": "",
    "outputs": 1,
    "x": 1624.285888671875,
    "y": 93.53961181640625,
    "z": "e87b72fe.07c73",
    "wires": [
      [
        "21827fa6.3c3c7"
      ]
    ]
  },
  {
    "id": "4821e95f.09e458",
    "type": "switchNode",
    "name": "switch tmp.nidx ",
    "xml": "<switch test=\"`$tmp.nidx`\">\n\n",
    "comments": "",
    "outputs": 1,
    "x": 1545.5872802734375,
    "y": 136.52279663085938,
    "z": "e87b72fe.07c73",
    "wires": [
      [
        "4af90ffc.0818b"
      ]
    ]
  },
  {
    "id": "4af90ffc.0818b",
    "type": "outcome",
    "name": "NULL",
    "xml": "<outcome value=''>\n",
    "comments": "",
    "outputs": 1,
    "x": 1746.015869140625,
    "y": 142.09420776367188,
    "z": "e87b72fe.07c73",
    "wires": [
      [
        "98ba5173.0d34e"
      ]
    ]
  },
  {
    "id": "21827fa6.3c3c7",
    "type": "switchNode",
    "name": "switch networkid found",
    "xml": "<switch test=\"`$service-data.networks.network[$nidx].network-id == $network-topology-operation-input.network-information.network-id`\">\n\n",
    "comments": "",
    "outputs": 1,
    "x": 1934.7144775390625,
    "y": 91.78970336914062,
    "z": "e87b72fe.07c73",
    "wires": [
      [
        "22099867.c65e3"
      ]
    ]
  },
  {
    "id": "98ba5173.0d34e",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"network-topology-operation-input.network-request-input.network-id not found in service-data\" />\n",
    "comments": "",
    "x": 1917.4443359375,
    "y": 142.237060546875,
    "z": "e87b72fe.07c73",
    "wires": []
  },
  {
    "id": "22099867.c65e3",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2140.666748046875,
    "y": 90.68243408203125,
    "z": "e87b72fe.07c73",
    "wires": [
      [
        "44687f12.3eae5"
      ]
    ]
  },
  {
    "id": "44687f12.3eae5",
    "type": "set",
    "name": "set tmp.nidx and ctx.network-data",
    "xml": "<set>\n<parameter name='tmp.nidx' value='`$nidx`' />\n<parameter name='ctx.network-data.' value='`$service-data.networks.network[$nidx].`' />\n",
    "comments": "",
    "x": 2379.198486328125,
    "y": 86.43243408203125,
    "z": "e87b72fe.07c73",
    "wires": []
  },
  {
    "id": "4f853de5.1d70d4",
    "type": "block",
    "name": "block : saveNetworkData",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "comments": "",
    "outputs": 1,
    "x": 805,
    "y": 704.1109924316406,
    "z": "e87b72fe.07c73",
    "wires": [
      [
        "191edb15.f0a32d",
        "7bfb16ed.b031d8",
        "3a334836.fa7ed",
        "cc07591b.5791f"
      ]
    ]
  },
  {
    "id": "80aa2c3b.44b74",
    "type": "returnSuccess",
    "name": "return success",
    "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
    "comments": "",
    "x": 757.6665649414062,
    "y": 922.4442749023438,
    "z": "e87b72fe.07c73",
    "wires": []
  },
  {
    "id": "3a334836.fa7ed",
    "type": "set",
    "name": "copy input to service-data",
    "xml": "<set>\n<parameter name='service-data.networks.network[$tmp.nidx].network-data.sdnc-request-header.' value='`$network-topology-operation-input.sdnc-request-header.`' />\n<parameter name='service-data.networks.network[$tmp.nidx].network-data.request-information.' value='`$network-topology-operation-input.request-information.`' />\n",
    "comments": "",
    "x": 1098.0000076293945,
    "y": 684.4443044662476,
    "z": "e87b72fe.07c73",
    "wires": []
  },
  {
    "id": "191edb15.f0a32d",
    "type": "set",
    "name": "set networkId",
    "xml": "<set>\n<parameter name='networkId' value='`$network-topology-operation-input.network-information.network-id`' />\n",
    "comments": "",
    "x": 1062.2895622253418,
    "y": 728.1621513366699,
    "z": "e87b72fe.07c73",
    "wires": []
  },
  {
    "id": "7bfb16ed.b031d8",
    "type": "set",
    "name": "set object-path",
    "xml": "<set>\n<parameter name='network-object-path' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $network-topology-operation-input.service-information.service-instance-id\n + '/service-data/networks/network/'\n + $networkId\n + '/network-data/'` \" />\n \n",
    "comments": "",
    "x": 1068.0039291381836,
    "y": 765.30504322052,
    "z": "e87b72fe.07c73",
    "wires": []
  },
  {
    "id": "cc07591b.5791f",
    "type": "set",
    "name": "set network-level-oper-status",
    "xml": "<set>\n<parameter name='service-data.networks.network[$tmp.nidx].network-data.network-level-oper-status.order-status' value='Deleted' />\n<parameter name='service-data.networks.network[$tmp.nidx].network-data.network-level-oper-status.last-rpc-action' value='`$network-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.networks.network[$tmp.nidx].network-data.network-level-oper-status.last-action' value='`$network-topology-operation-input.request-information.request-action`' />\n",
    "comments": "",
    "x": 1111.9999389648438,
    "y": 812.4442625045776,
    "z": "e87b72fe.07c73",
    "wires": []
  },
  {
    "id": "c6199aa8.b4cf08",
    "type": "get-resource",
    "name": "get-resource pnf",
    "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $prop.l3vpn.pe1_id AND \n\t\t     depth = '0'\"\n        pfx='tmp.aai.pnf' local-only='false' >\n\n",
    "comments": "",
    "outputs": 1,
    "x": 784,
    "y": 388,
    "z": "e87b72fe.07c73",
    "wires": [
      [
        "eb78427.8aeffc",
        "9468b1f6.acd4a8",
        "8869b2de.4cd318"
      ]
    ]
  },
  {
    "id": "eb78427.8aeffc",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 978,
    "y": 326,
    "z": "e87b72fe.07c73",
    "wires": [
      [
        "68cda5fa.8580d4"
      ]
    ]
  },
  {
    "id": "9468b1f6.acd4a8",
    "type": "not-found",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 987.490966796875,
    "y": 368.57403564453125,
    "z": "e87b72fe.07c73",
    "wires": [
      [
        "f68a2741.7b13e"
      ]
    ]
  },
  {
    "id": "8869b2de.4cd318",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 980.823974609375,
    "y": 416.9073486328125,
    "z": "e87b72fe.07c73",
    "wires": [
      [
        "ff173828.c81cc"
      ]
    ]
  },
  {
    "id": "f68a2741.7b13e",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
    "comments": "",
    "x": 1173.0623779296875,
    "y": 369.8597717285156,
    "z": "e87b72fe.07c73",
    "wires": []
  },
  {
    "id": "ff173828.c81cc",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
    "comments": "",
    "x": 1169.5965576171875,
    "y": 420.3465270996094,
    "z": "e87b72fe.07c73",
    "wires": []
  },
  {
    "id": "68cda5fa.8580d4",
    "type": "set",
    "name": "set tmp.thirdparty-sdnc-id",
    "xml": "<set>\n<parameter name='tmp.thirdparty-sdnc-id' value=\"`$tmp.aai.pnf.relationship-list.relationship[0].relationship-data[0].relationship-value`\" />\n",
    "comments": "",
    "x": 1192,
    "y": 322,
    "z": "e87b72fe.07c73",
    "wires": []
  },
  {
    "id": "84a77140.b8364",
    "type": "switchNode",
    "name": "switch pe1_id",
    "xml": "<switch test=\"`$service-data.networks.network[$tmp.nidx].network-data.network-request-input.network-input-parameters.param[$idx].name == 'pe1_id'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1343,
    "y": 283,
    "z": "e87b72fe.07c73",
    "wires": [
      [
        "16fa329d.f3dce5"
      ]
    ]
  },
  {
    "id": "16fa329d.f3dce5",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1529,
    "y": 292,
    "z": "e87b72fe.07c73",
    "wires": [
      [
        "b53db17c.0ef078"
      ]
    ]
  },
  {
    "id": "b53db17c.0ef078",
    "type": "set",
    "name": "set pe1_id",
    "xml": "<set>\n<parameter name='prop.l3vpn.pe1_id' value='`$service-data.networks.network[$tmp.nidx].network-data.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1712,
    "y": 296,
    "z": "e87b72fe.07c73",
    "wires": []
  },
  {
    "id": "cd746090.90a5a",
    "type": "delete",
    "name": "delete underlay configuration in AAI",
    "xml": "<delete plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" resource='configuration' \n        key='configuration.configuration-id = $network-topology-operation-input.network-information.network-id'>\n",
    "comments": "",
    "outputs": 1,
    "x": 815,
    "y": 850,
    "z": "e87b72fe.07c73",
    "wires": [
      []
    ]
  },
  {
    "id": "599b3e84.010d1",
    "type": "execute",
    "name": "execute RestApiCallNode Get token",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/actokentemplate.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/v2/tokens'`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"token-result\"/>",
    "comments": "",
    "outputs": 1,
    "x": 1597,
    "y": 605.7776565551758,
    "z": "e87b72fe.07c73",
    "wires": [
      [
        "d3f6644d.349f88",
        "3ae81ceb.b03874"
      ]
    ]
  },
  {
    "id": "d3f6644d.349f88",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1837,
    "y": 568.7776565551758,
    "z": "e87b72fe.07c73",
    "wires": [
      [
        "7b5e645e.7d6674"
      ]
    ]
  },
  {
    "id": "3ae81ceb.b03874",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1844.25,
    "y": 635.420539855957,
    "z": "e87b72fe.07c73",
    "wires": [
      [
        "50b8cd7f.3d5c64"
      ]
    ]
  },
  {
    "id": "50b8cd7f.3d5c64",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing get token rest api\" />\n",
    "comments": "",
    "x": 2025,
    "y": 634.1706008911133,
    "z": "e87b72fe.07c73",
    "wires": []
  },
  {
    "id": "7b5e645e.7d6674",
    "type": "set",
    "name": "set token-id",
    "xml": "<set>\n<parameter name='prop.sdncRestApi.token_id' value='$token-result.token_id' />\n",
    "comments": "",
    "x": 2022,
    "y": 565.7776565551758,
    "z": "e87b72fe.07c73",
    "wires": []
  },
  {
    "id": "6ace128e.38bbf4",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1794,
    "y": 690.7776565551758,
    "z": "e87b72fe.07c73",
    "wires": [
      []
    ]
  },
  {
    "id": "e03ea1f6.8ae24",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1795.25,
    "y": 754.4204788208008,
    "z": "e87b72fe.07c73",
    "wires": [
      [
        "2b054857.56f558"
      ]
    ]
  },
  {
    "id": "2b054857.56f558",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing 3rd party controller rest api\" />\n",
    "comments": "",
    "x": 1961,
    "y": 757.1706008911133,
    "z": "e87b72fe.07c73",
    "wires": []
  },
  {
    "id": "46db16ed.796608",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1268,
    "y": 616.7776565551758,
    "z": "e87b72fe.07c73",
    "wires": [
      [
        "599b3e84.010d1",
        "8892b470.2ab318"
      ]
    ]
  },
  {
    "id": "e9b167f.6457618",
    "type": "execute",
    "name": "execute Properties",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
    "comments": "",
    "outputs": 1,
    "x": 798,
    "y": 564,
    "z": "e87b72fe.07c73",
    "wires": [
      []
    ]
  }
]
