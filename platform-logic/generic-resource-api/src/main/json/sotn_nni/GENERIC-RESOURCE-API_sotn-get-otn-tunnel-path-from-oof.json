[
    {
        "id": "aa75113b.2c42b8",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 136,
        "y": 78,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "ab15dc15.738968"
            ]
        ]
    },
    {
        "id": "ab15dc15.738968",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 261,
        "y": 404.00001525878906,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "a46085e4.dea2f"
            ]
        ]
    },
    {
        "id": "a46085e4.dea2f",
        "type": "method",
        "name": "sotn-get-otn-tunnel-path-from-oof",
        "xml": "<method rpc='sotn-get-otn-tunnel-path-from-oof' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 325.0001220703125,
        "y": 497,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "7d5a0cd3.c6dfbc"
            ]
        ]
    },
    {
        "id": "f51f5245.de05e8",
        "type": "execute",
        "name": "execute RestApiCallNode getPath from OOF",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.oof-getpath.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.restapi.connection-oof-url`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.oof.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.oof.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"otn-oof\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 807.9730834960938,
        "y": 155.99600219726562,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "8059dde9.1ce2e",
                "dd740bdc.617d78"
            ]
        ]
    },
    {
        "id": "8059dde9.1ce2e",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1047.9732246398926,
        "y": 179.9959716796875,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "35b68c0d.85ca94"
            ]
        ]
    },
    {
        "id": "6c823726.8cfc2",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing OOF api\" />\n",
        "comments": "",
        "x": 1186.973258972168,
        "y": 128.99606323242188,
        "z": "5b68e0d.bd97b2",
        "wires": []
    },
    {
        "id": "dd740bdc.617d78",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1046.9730110168457,
        "y": 128.99606227874756,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "6c823726.8cfc2"
            ]
        ]
    },
    {
        "id": "1cad6ca3.0c0a23",
        "type": "comment",
        "name": "OTN tunnel path computation",
        "info": "TODO: check input parameters -- they should be\nthe source and destination of ETH node+tp.",
        "comments": "",
        "x": 779.4768829345703,
        "y": 112.00000190734863,
        "z": "5b68e0d.bd97b2",
        "wires": []
    },
    {
        "id": "500e653c.02a91c",
        "type": "for",
        "name": "for vidx..otn-oof.solutions_length[]",
        "xml": "<for index='vidx' start='0' end='`$otn-oof.solutions_length`' >",
        "comments": "",
        "outputs": 1,
        "x": 798.972900390625,
        "y": 465.2457275390625,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "6dab679f.e9004"
            ]
        ]
    },
    {
        "id": "df52b38a.7717c",
        "type": "comment",
        "name": "Loop through OTN links",
        "info": "",
        "comments": "",
        "x": 882.4732055664062,
        "y": 544.74609375,
        "z": "5b68e0d.bd97b2",
        "wires": []
    },
    {
        "id": "6dab679f.e9004",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 903.5001220703125,
        "y": 656.2864990234375,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "58b38e8f.68cb58",
                "31a7d8e8.5f496"
            ]
        ]
    },
    {
        "id": "58b38e8f.68cb58",
        "type": "get-resource",
        "name": "get-resource cross-link",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"logical-link\" \n\t\tkey=\"logical-link.link-name = $otn-oof.link-name\"\n        pfx='tmp.aai.cross-link' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1170.5001220703125,
        "y": 576.2864685058594,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "a7dfe4ca.7050a8",
                "147899e8.194c7e",
                "bd646a50.9ca6d"
            ]
        ]
    },
    {
        "id": "bd646a50.9ca6d",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1362.0001220703125,
        "y": 521.2864685058594,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "7d949923.feaea8"
            ]
        ]
    },
    {
        "id": "a7dfe4ca.7050a8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1150.0001220703125,
        "y": 1085.2864990234375,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "6604b8e.b3db548"
            ]
        ]
    },
    {
        "id": "147899e8.194c7e",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1144.0001220703125,
        "y": 1135.2864990234375,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "61e58c1.1c151f4"
            ]
        ]
    },
    {
        "id": "6604b8e.b3db548",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 1311.0001220703125,
        "y": 1074.2864990234375,
        "z": "5b68e0d.bd97b2",
        "wires": []
    },
    {
        "id": "61e58c1.1c151f4",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 1309.0001220703125,
        "y": 1130.2864990234375,
        "z": "5b68e0d.bd97b2",
        "wires": []
    },
    {
        "id": "3a661a62.460126",
        "type": "set",
        "name": "set src-ltpId and dst-ltpId",
        "xml": "<set>\n<parameter name='tmp.cross-link.src-ltpId' value=\"`$tmp.aai.cross-link.relationship-list.relationship[0].relationship-data[1].relationship-value`\" />\n<parameter name='tmp.cross-link.dst-ltpId' value=\"`$tmp.aai.cross-link.relationship-list.relationship[1].relationship-data[1].relationship-value`\" />\n\n<parameter name='tmp.src-pnf-name' value=\"`$tmp.aai.cross-link.relationship-list.relationship[0].relationship-data[0].relationship-value`\" />\n<parameter name='tmp.dst-pnf-name' value=\"`$tmp.aai.cross-link.relationship-list.relationship[1].relationship-data[0].relationship-value`\" />\n\n\n",
        "comments": "",
        "x": 2362.5001220703125,
        "y": 440.2864685058594,
        "z": "5b68e0d.bd97b2",
        "wires": []
    },
    {
        "id": "a01c1aa6.b32a",
        "type": "comment",
        "name": "get cross-domain-link information",
        "info": "",
        "comments": "",
        "x": 1171.5001220703125,
        "y": 537.2864685058594,
        "z": "5b68e0d.bd97b2",
        "wires": []
    },
    {
        "id": "31a7d8e8.5f496",
        "type": "set",
        "name": "set otn-oof.link-name",
        "xml": "<set>\n<parameter name='otn-oof.link-name' value='`$otn-oof.solutions[$vidx].link`' />",
        "comments": "",
        "x": 1153.0001220703125,
        "y": 486.2864685058594,
        "z": "5b68e0d.bd97b2",
        "wires": []
    },
    {
        "id": "35b68c0d.85ca94",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1193.0002708435059,
        "y": 177.74145698547363,
        "z": "5b68e0d.bd97b2",
        "wires": [
            []
        ]
    },
    {
        "id": "7d5a0cd3.c6dfbc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 565.9688835144043,
        "y": 423.74163722991943,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "500e653c.02a91c",
                "f51f5245.de05e8"
            ]
        ]
    },
    {
        "id": "40299798.13bc",
        "type": "switchNode",
        "name": "test cross-domain-link role",
        "xml": "<switch test='`$tmp.aai.cross-link.link-role`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1677.5001220703125,
        "y": 521,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "53a2c424.a12b74"
            ]
        ]
    },
    {
        "id": "53a2c424.a12b74",
        "type": "outcome",
        "name": "outcome cross-domain",
        "xml": "<outcome value='cross-domain'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1913.5001220703125,
        "y": 522,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "7c9bf405.132f7c"
            ]
        ]
    },
    {
        "id": "dd179bba.27e578",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 2232.5,
        "y": 999,
        "z": "5b68e0d.bd97b2",
        "wires": []
    },
    {
        "id": "7c9bf405.132f7c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2116.5001220703125,
        "y": 523,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "dd179bba.27e578",
                "51dd454b.e64094",
                "e9ba305b.3f7b08",
                "a736e107.ab857"
            ]
        ]
    },
    {
        "id": "b97c4b80.2182d",
        "type": "comment",
        "name": "setup variables",
        "info": "",
        "comments": "",
        "x": 2331.5,
        "y": 182,
        "z": "5b68e0d.bd97b2",
        "wires": []
    },
    {
        "id": "30082dde.5085da",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2593.0001220703125,
        "y": 490,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "b104de88.84b78"
            ]
        ]
    },
    {
        "id": "a603f43.0659d88",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2590.0001220703125,
        "y": 548,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "8496f5b4.9321e8"
            ]
        ]
    },
    {
        "id": "ed057305.d13bc",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2593.0001220703125,
        "y": 600,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "1dbdbb79.fd0ced"
            ]
        ]
    },
    {
        "id": "8496f5b4.9321e8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 2775.0001220703125,
        "y": 552,
        "z": "5b68e0d.bd97b2",
        "wires": []
    },
    {
        "id": "1dbdbb79.fd0ced",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 2763.0001220703125,
        "y": 603,
        "z": "5b68e0d.bd97b2",
        "wires": []
    },
    {
        "id": "94adb9b9.7a0948",
        "type": "set",
        "name": "set tmp.src-pnf-name",
        "xml": "<set>\n<parameter name='tmp.src-pnf-name' value=\"`$tmp.aai.src-tp.relationship-list.relationship[0].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 2872.5,
        "y": 445,
        "z": "5b68e0d.bd97b2",
        "wires": []
    },
    {
        "id": "a5379b59.d56668",
        "type": "get-resource",
        "name": "get-resource src pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.src-pnf-name\"\n        pfx='tmp.aai.src-pnf' local-only='false' >\n    \n        <!--AND depth = '0'\"-->\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2871.5,
        "y": 488,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "fc1e5cdb.f87da8",
                "c1dbffa0.3a6ef8",
                "e17cdd49.4fcf08"
            ]
        ]
    },
    {
        "id": "fc1e5cdb.f87da8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3067.0001220703125,
        "y": 445,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "372db61f.e21a7a"
            ]
        ]
    },
    {
        "id": "c1dbffa0.3a6ef8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3059.0001220703125,
        "y": 500,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "8f21b6ce.dd76a"
            ]
        ]
    },
    {
        "id": "e17cdd49.4fcf08",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3064.0001220703125,
        "y": 557,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "e804e037.dd4f"
            ]
        ]
    },
    {
        "id": "8f21b6ce.dd76a",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 3227.0001220703125,
        "y": 503,
        "z": "5b68e0d.bd97b2",
        "wires": []
    },
    {
        "id": "e804e037.dd4f",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 3216.0001220703125,
        "y": 558,
        "z": "5b68e0d.bd97b2",
        "wires": []
    },
    {
        "id": "e0784723.78ca28",
        "type": "set",
        "name": "set domain A node ttp-id",
        "xml": "<set>\n<parameter name='tmp.src-ttp-id' value=\"`$tmp.aai.src-pnf.relationship-list.relationship[$vidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 4278.5001220703125,
        "y": 306,
        "z": "5b68e0d.bd97b2",
        "wires": []
    },
    {
        "id": "1b6b3639.216dba",
        "type": "get-resource",
        "name": "get-resource src TTP",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"tunnel-termination-point\" \n\t\tkey=\"tunnel-termination-point.ttp-id = $tmp.src-ttp-id \n\t\tAND depth = '0'\"\n        pfx='tmp.aai.src-ttp' local-only='false' >\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4267.5001220703125,
        "y": 377,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "ac3848e1.acfdf8"
            ]
        ]
    },
    {
        "id": "ac3848e1.acfdf8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4459.0001220703125,
        "y": 374,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "a982c4fa.2154f"
            ]
        ]
    },
    {
        "id": "ebf0e7da.b09cb",
        "type": "set",
        "name": "set domain A node ttp-id",
        "xml": "<set>\n<parameter name='domain-A.ttp-id' value=\"`$tmp.aai.src-ttp.tunnel-tp-id`\" />\n",
        "comments": "",
        "x": 6035.5,
        "y": 431,
        "z": "5b68e0d.bd97b2",
        "wires": []
    },
    {
        "id": "ae40696e.4ae89",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4063.5001220703125,
        "y": 556,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "a860374.60c54c8",
                "f3ee54c1.b5d84"
            ]
        ]
    },
    {
        "id": "577de1c9.7d7528",
        "type": "outcome",
        "name": "tunnel-termination-point",
        "xml": "<outcome value='tunnel-termination-point'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3859.6685791015625,
        "y": 369.48150634765625,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "2ec73e0f.7a316a"
            ]
        ]
    },
    {
        "id": "3f827e10.2f07d2",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='vidx' start='0' end='`$tmp.aai.src-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3426.3826904296875,
        "y": 442.65972900390625,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "7df05538.ae1e24"
            ]
        ]
    },
    {
        "id": "7df05538.ae1e24",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.src-pnf.relationship-list.relationship[$vidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3652.3826904296875,
        "y": 442.65972900390625,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "577de1c9.7d7528",
                "1569d56e.fb5f8b"
            ]
        ]
    },
    {
        "id": "372db61f.e21a7a",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3211.3824462890625,
        "y": 442.6556701660156,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "3f827e10.2f07d2",
                "9cbdf6a0.b391f"
            ]
        ]
    },
    {
        "id": "9cbdf6a0.b391f",
        "type": "set",
        "name": "set domain A node-id and tpn",
        "xml": "<set>\n<parameter name='domain-A.node-id' value=\"`$tmp.aai.src-pnf.pnf-id`\" />\n<parameter name='domain-A.tpn' value='1' />\n",
        "comments": "",
        "x": 3470.5001220703125,
        "y": 353,
        "z": "5b68e0d.bd97b2",
        "wires": []
    },
    {
        "id": "1569d56e.fb5f8b",
        "type": "outcome",
        "name": "network-resource",
        "xml": "<outcome value='network-resource'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3850.5001220703125,
        "y": 555,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "ae40696e.4ae89"
            ]
        ]
    },
    {
        "id": "a860374.60c54c8",
        "type": "set",
        "name": "set domain A network-id",
        "xml": "<set>\n<parameter name='tmp.domain-A.network-id' value=\"`$tmp.aai.src-pnf.relationship-list.relationship[$vidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 4298.5001220703125,
        "y": 486,
        "z": "5b68e0d.bd97b2",
        "wires": []
    },
    {
        "id": "2ec73e0f.7a316a",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4061.5001220703125,
        "y": 365,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "e0784723.78ca28",
                "1b6b3639.216dba"
            ]
        ]
    },
    {
        "id": "f3ee54c1.b5d84",
        "type": "get-resource",
        "name": "get-resource src network-resource",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"network-resource\" \n\t\tkey=\"network-resource.network-id = $tmp.domain-A.network-id \n\t\tAND depth = '0'\"\n        pfx='tmp.aai.src-network-resource' local-only='false' >\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4306.5001220703125,
        "y": 567,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "9ea34049.8c12a8"
            ]
        ]
    },
    {
        "id": "9ea34049.8c12a8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4539.0001220703125,
        "y": 563,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "c512a46.74a5bd8"
            ]
        ]
    },
    {
        "id": "c512a46.74a5bd8",
        "type": "set",
        "name": "set domain A network-id, topo-id, client-id, etc",
        "xml": "<set>\n<parameter name='domain-A.network-id' value=\"`$tmp.aai.src-network-resource.network-id`\" />\n<parameter name='domain-A.provider-id' value=\"`$tmp.aai.src-network-resource.provider-id`\" />\n<parameter name='domain-A.client-id' value=\"`$tmp.aai.src-network-resource.client-id`\" />\n<parameter name='domain-A.te-topo-id' value=\"`$tmp.aai.src-network-resource.te-topo-id`\" />\n<parameter name='domain-A.network-type' value=\"`$tmp.aai.src-network-resource.network-type`\" />\n\n\n",
        "comments": "",
        "x": 4780.5001220703125,
        "y": 557,
        "z": "5b68e0d.bd97b2",
        "wires": []
    },
    {
        "id": "51dd454b.e64094",
        "type": "get-resource",
        "name": "get-resource dst tp",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"p-interface\" \n\t\tkey=\"pnf.pnf-name = $tmp.dst-pnf-name\n\t\t    AND p-interface.interface-name = $tmp.cross-link.dst-ltpId\"\n        pfx='tmp.aai.dst-tp' local-only='false' >\n    \n        <!--AND depth = '0'\"-->\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2313.5001220703125,
        "y": 895,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "a793d2c3.cd625",
                "8024d4d5.2b62d8",
                "765b5b90.f1ecd4"
            ]
        ]
    },
    {
        "id": "a793d2c3.cd625",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2547.0001220703125,
        "y": 856,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "75eb9694.598e48"
            ]
        ]
    },
    {
        "id": "8024d4d5.2b62d8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2544.0001220703125,
        "y": 914,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "612d2397.585244"
            ]
        ]
    },
    {
        "id": "765b5b90.f1ecd4",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2547.0001220703125,
        "y": 966,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "a08bb92f.3f7318"
            ]
        ]
    },
    {
        "id": "a08bb92f.3f7318",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 2717.0001220703125,
        "y": 969,
        "z": "5b68e0d.bd97b2",
        "wires": []
    },
    {
        "id": "612d2397.585244",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 2729.0001220703125,
        "y": 918,
        "z": "5b68e0d.bd97b2",
        "wires": []
    },
    {
        "id": "670f7157.4b83f",
        "type": "get-resource",
        "name": "get-resource dst pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $tmp.dst-pnf-name\"\n        pfx='tmp.aai.dst-pnf' local-only='false' >\n\n        <!--AND depth = '0'\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 2825.5,
        "y": 859,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "3389e479.7caf4c",
                "a22904b1.12c91",
                "3f4df7a2.550db8"
            ]
        ]
    },
    {
        "id": "fbc3aa3e.92a1d",
        "type": "set",
        "name": "set tmp.dst-pnf-name",
        "xml": "<set>\n<parameter name='tmp.dst-pnf-name' value=\"`$tmp.aai.dst-tp.relationship-list.relationship[0].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 2830.5,
        "y": 807,
        "z": "5b68e0d.bd97b2",
        "wires": []
    },
    {
        "id": "3f4df7a2.550db8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3018.0001220703125,
        "y": 923,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "a7bbc350.7f29"
            ]
        ]
    },
    {
        "id": "a22904b1.12c91",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3013.0001220703125,
        "y": 866,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "a788922c.a2883"
            ]
        ]
    },
    {
        "id": "3389e479.7caf4c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3021.0001220703125,
        "y": 811,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "b1d95d9.2f8af2"
            ]
        ]
    },
    {
        "id": "a788922c.a2883",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 3181.0001220703125,
        "y": 869,
        "z": "5b68e0d.bd97b2",
        "wires": []
    },
    {
        "id": "a7bbc350.7f29",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 3170.0001220703125,
        "y": 924,
        "z": "5b68e0d.bd97b2",
        "wires": []
    },
    {
        "id": "b1d95d9.2f8af2",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 3165.3824462890625,
        "y": 808.6556701660156,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "b971a7f5.c553f",
                "861cb0b.d019fd"
            ]
        ]
    },
    {
        "id": "b971a7f5.c553f",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='vidx' start='0' end='`$tmp.aai.dst-pnf.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3380.3826904296875,
        "y": 808.6597290039062,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "ba0c1a8c.88af28"
            ]
        ]
    },
    {
        "id": "ba0c1a8c.88af28",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.dst-pnf.relationship-list.relationship[$vidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3606.3826904296875,
        "y": 808.6597290039062,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "799147c0.a8a33",
                "f903181b.00f37"
            ]
        ]
    },
    {
        "id": "861cb0b.d019fd",
        "type": "set",
        "name": "set domain B node-id and tpn",
        "xml": "<set>\n<parameter name='domain-B.node-id' value=\"`$tmp.aai.dst-pnf.pnf-id`\" />\n<parameter name='domain-B.tpn' value='1' />\n",
        "comments": "",
        "x": 3424.5001220703125,
        "y": 719,
        "z": "5b68e0d.bd97b2",
        "wires": []
    },
    {
        "id": "802f4f2.687563",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4017.5001220703125,
        "y": 922,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "d4d32344.490fe8",
                "1ab02c14.0e8e64"
            ]
        ]
    },
    {
        "id": "799147c0.a8a33",
        "type": "outcome",
        "name": "tunnel-termination-point",
        "xml": "<outcome value='tunnel-termination-point'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3813.6685791015625,
        "y": 735.4815063476562,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "9e4db8b6.012fb"
            ]
        ]
    },
    {
        "id": "f903181b.00f37",
        "type": "outcome",
        "name": "network-resource",
        "xml": "<outcome value='network-resource'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3804.5001220703125,
        "y": 921,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "802f4f2.687563"
            ]
        ]
    },
    {
        "id": "9e4db8b6.012fb",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4015.5001220703125,
        "y": 731,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "99609484.86254",
                "f094147a.c54bb8"
            ]
        ]
    },
    {
        "id": "99609484.86254",
        "type": "set",
        "name": "set domain B node ttp-id",
        "xml": "<set>\n<parameter name='tmp.dst-ttp-id' value=\"`$tmp.aai.dst-pnf.relationship-list.relationship[$vidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 4232.5001220703125,
        "y": 672,
        "z": "5b68e0d.bd97b2",
        "wires": []
    },
    {
        "id": "f094147a.c54bb8",
        "type": "get-resource",
        "name": "get-resource dst TTP",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"tunnel-termination-point\" \n\t\tkey=\"tunnel-termination-point.ttp-id = $tmp.dst-ttp-id \n\t\tAND depth = '0'\"\n        pfx='tmp.aai.dst-ttp' local-only='false' >\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4221.5001220703125,
        "y": 743,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "96cf01de.ff5148"
            ]
        ]
    },
    {
        "id": "96cf01de.ff5148",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4413.0001220703125,
        "y": 740,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "fe418352.84c6"
            ]
        ]
    },
    {
        "id": "d4d32344.490fe8",
        "type": "set",
        "name": "set domain B network-id",
        "xml": "<set>\n<parameter name='tmp.domain-B.network-id' value=\"`$tmp.aai.dst-pnf.relationship-list.relationship[$vidx].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 4252.5001220703125,
        "y": 852,
        "z": "5b68e0d.bd97b2",
        "wires": []
    },
    {
        "id": "1ab02c14.0e8e64",
        "type": "get-resource",
        "name": "get-resource dst network-resource",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"network-resource\" \n\t\tkey=\"network-resource.network-id = $tmp.domain-B.network-id \n\t\tAND depth = '0'\"\n        pfx='tmp.aai.dst-network-resource' local-only='false' >\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4260.5001220703125,
        "y": 933,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "e204fe22.e747c8"
            ]
        ]
    },
    {
        "id": "e204fe22.e747c8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4493.0001220703125,
        "y": 929,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "c2250516.6a88f"
            ]
        ]
    },
    {
        "id": "c2250516.6a88f",
        "type": "set",
        "name": "set domain B network-id, topo-id, client-id, etc",
        "xml": "<set>\n<parameter name='domain-B.network-id' value=\"`$tmp.aai.dst-network-resource.network-id`\" />\n<parameter name='domain-B.provider-id' value=\"`$tmp.aai.dst-network-resource.provider-id`\" />\n<parameter name='domain-B.client-id' value=\"`$tmp.aai.dst-network-resource.client-id`\" />\n<parameter name='domain-B.te-topo-id' value=\"`$tmp.aai.dst-network-resource.te-topo-id`\" />\n<parameter name='domain-B.network-type' value=\"`$tmp.aai.dst-network-resource.network-type`\" />\n\n\n",
        "comments": "",
        "x": 4734.5001220703125,
        "y": 923,
        "z": "5b68e0d.bd97b2",
        "wires": []
    },
    {
        "id": "b104de88.84b78",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2682,
        "y": 366,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "a5379b59.d56668"
            ]
        ]
    },
    {
        "id": "75eb9694.598e48",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2637,
        "y": 744,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "670f7157.4b83f"
            ]
        ]
    },
    {
        "id": "c0faec82.816fb8",
        "type": "switchNode",
        "name": "test $vidx",
        "xml": "<switch test='`$vidx`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1622,
        "y": 602,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "b7d58fe7.9f74b8",
                "dc6562ba.9ee77"
            ]
        ]
    },
    {
        "id": "b7d58fe7.9f74b8",
        "type": "outcome",
        "name": "outcome first",
        "xml": "<outcome value='0'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1787,
        "y": 580,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "197e1ba0.21ad04"
            ]
        ]
    },
    {
        "id": "dc6562ba.9ee77",
        "type": "outcome",
        "name": "outcome last",
        "xml": "<outcome value='`$otn-oof.solutions_length - 1`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1786,
        "y": 641,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "1e901248.1aaca6"
            ]
        ]
    },
    {
        "id": "197e1ba0.21ad04",
        "type": "set",
        "name": "set oofsolutions-first info",
        "xml": "<set>\n<parameter name='tmp.oofsolutions-first-src-pnf-name' value=\"`$tmp.aai.cross-link.relationship-list.relationship[0].relationship-data[0].relationship-value`\" />\n<parameter name='tmp.oofsolutions-first-src-ltpId' value=\"`$tmp.aai.cross-link.relationship-list.relationship[0].relationship-data[1].relationship-value`\" />\n\n\n\n",
        "comments": "",
        "x": 1980,
        "y": 582,
        "z": "5b68e0d.bd97b2",
        "wires": []
    },
    {
        "id": "1e901248.1aaca6",
        "type": "set",
        "name": "set oofsolutions last info",
        "xml": "<set>\n<parameter name='tmp.oofsolutions-last-dst-pnf-name' value=\"`$tmp.aai.cross-link.relationship-list.relationship[1].relationship-data[0].relationship-value`\" />\n<parameter name='tmp.oofsolutions-last-dst-ltpId' value=\"`$tmp.aai.cross-link.relationship-list.relationship[1].relationship-data[1].relationship-value`\" />\n",
        "comments": "",
        "x": 1979,
        "y": 640,
        "z": "5b68e0d.bd97b2",
        "wires": []
    },
    {
        "id": "7d949923.feaea8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1496,
        "y": 523,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "40299798.13bc",
                "ba0dda0.572ad28"
            ]
        ]
    },
    {
        "id": "e9ba305b.3f7b08",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for index='lridx' start='0' end='`$tmp.aai.cross-link.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2266,
        "y": 307,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "5728cf0a.e04c88"
            ]
        ]
    },
    {
        "id": "5728cf0a.e04c88",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.cross-link.relationship-list.relationship[$lridx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2465,
        "y": 304,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "a07b7ba1.16119"
            ]
        ]
    },
    {
        "id": "a07b7ba1.16119",
        "type": "outcome",
        "name": "p-interface",
        "xml": "<outcome value='p-interface'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2642.117431640625,
        "y": 302.34027099609375,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "5430daff.402bcc"
            ]
        ]
    },
    {
        "id": "b3de6391.5ab778",
        "type": "set",
        "name": "set src-ltpId and dst-ltpId",
        "xml": "<set>\n<parameter name='tmp.cross-link.src-ltpId' value=\"`$tmp.aai.cross-link.relationship-list.relationship[$lridx].relationship-data[1].relationship-value`\" />\n<parameter name='tmp.cross-link.dst-ltpId' value=\"`$tmp.aai.cross-link.relationship-list.relationship[$lridx + 1].relationship-data[1].relationship-value`\" />\n\n<parameter name='tmp.src-pnf-name' value=\"`$tmp.aai.cross-link.relationship-list.relationship[$lridx].relationship-data[0].relationship-value`\" />\n<parameter name='tmp.dst-pnf-name' value=\"`$tmp.aai.cross-link.relationship-list.relationship[$lridx + 1].relationship-data[0].relationship-value`\" />\n\n\n",
        "comments": "",
        "x": 2956,
        "y": 246,
        "z": "5b68e0d.bd97b2",
        "wires": []
    },
    {
        "id": "cf93cd1e.3a945",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 2917,
        "y": 309,
        "z": "5b68e0d.bd97b2",
        "wires": []
    },
    {
        "id": "5430daff.402bcc",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2782,
        "y": 287,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "b3de6391.5ab778",
                "cf93cd1e.3a945"
            ]
        ]
    },
    {
        "id": "f1b6891b.494ac",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for index='lridx' start='0' end='`$tmp.aai.cross-link.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1342,
        "y": 890,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "71c25391.1fc4f4"
            ]
        ]
    },
    {
        "id": "71c25391.1fc4f4",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.cross-link.relationship-list.relationship[$lridx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1541,
        "y": 887,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "fb1d0e47.e5d04"
            ]
        ]
    },
    {
        "id": "fb1d0e47.e5d04",
        "type": "outcome",
        "name": "p-interface",
        "xml": "<outcome value='p-interface'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1718.117431640625,
        "y": 885.3402709960938,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "d166e350.8b25f"
            ]
        ]
    },
    {
        "id": "d166e350.8b25f",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1858,
        "y": 870,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "76dcccfc.66809c",
                "c46fae49.1a78a8"
            ]
        ]
    },
    {
        "id": "76dcccfc.66809c",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 1993,
        "y": 892,
        "z": "5b68e0d.bd97b2",
        "wires": []
    },
    {
        "id": "8ebbd23d.9dd4d",
        "type": "switchNode",
        "name": "test $vidx",
        "xml": "<switch test='`$vidx`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1793,
        "y": 730,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "e155bd88.0bc8b",
                "74a1badc.9d6fbc"
            ]
        ]
    },
    {
        "id": "e155bd88.0bc8b",
        "type": "outcome",
        "name": "outcome first",
        "xml": "<outcome value='0'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1958,
        "y": 708,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "f1b6891b.494ac"
            ]
        ]
    },
    {
        "id": "74a1badc.9d6fbc",
        "type": "outcome",
        "name": "outcome last",
        "xml": "<outcome value='`$otn-oof.solutions_length - 1`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1957,
        "y": 769,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "bf04627d.7c822"
            ]
        ]
    },
    {
        "id": "c46fae49.1a78a8",
        "type": "set",
        "name": "set oofsolutions-first info",
        "xml": "<set>\n<parameter name='tmp.oofsolutions-first-src-pnf-name' value=\"`$tmp.aai.cross-link.relationship-list.relationship[$lridx].relationship-data[0].relationship-value`\" />\n<parameter name='tmp.oofsolutions-first-src-ltpId' value=\"`$tmp.aai.cross-link.relationship-list.relationship[$lridx].relationship-data[1].relationship-value`\" />\n\n\n\n",
        "comments": "",
        "x": 2041,
        "y": 847,
        "z": "5b68e0d.bd97b2",
        "wires": []
    },
    {
        "id": "bf04627d.7c822",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for index='lridx' start='0' end='`$tmp.aai.cross-link.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1320,
        "y": 993,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "1e746899.4a1de7"
            ]
        ]
    },
    {
        "id": "1e746899.4a1de7",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.cross-link.relationship-list.relationship[$lridx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1519,
        "y": 990,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "1fda2797.1ef958"
            ]
        ]
    },
    {
        "id": "1fda2797.1ef958",
        "type": "outcome",
        "name": "p-interface",
        "xml": "<outcome value='p-interface'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1696.117431640625,
        "y": 988.3402709960938,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "73e8ef8a.6dee8"
            ]
        ]
    },
    {
        "id": "73e8ef8a.6dee8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1836,
        "y": 973,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "9ff282e5.e46b2",
                "d72292cf.36986"
            ]
        ]
    },
    {
        "id": "9ff282e5.e46b2",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 1971,
        "y": 995,
        "z": "5b68e0d.bd97b2",
        "wires": []
    },
    {
        "id": "d72292cf.36986",
        "type": "set",
        "name": "set oofsolutions last info",
        "xml": "<set>\n<parameter name='tmp.oofsolutions-last-dst-pnf-name' value=\"`$tmp.aai.cross-link.relationship-list.relationship[$lridx + 1].relationship-data[0].relationship-value`\" />\n<parameter name='tmp.oofsolutions-last-dst-ltpId' value=\"`$tmp.aai.cross-link.relationship-list.relationship[$lridx + 1].relationship-data[1].relationship-value`\" />\n",
        "comments": "",
        "x": 2026,
        "y": 949,
        "z": "5b68e0d.bd97b2",
        "wires": []
    },
    {
        "id": "ba0dda0.572ad28",
        "type": "switchNode",
        "name": "switch relationship_length",
        "xml": "<switch test='`length($tmp.aai.cross-link.relationship-list.relationship) == 0`'>",
        "comments": "",
        "outputs": 1,
        "x": 1440,
        "y": 731,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "d7ed588c.061ed8",
                "b66c4a0f.48599"
            ]
        ]
    },
    {
        "id": "d7ed588c.061ed8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1631,
        "y": 698,
        "z": "5b68e0d.bd97b2",
        "wires": [
            []
        ]
    },
    {
        "id": "b66c4a0f.48599",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1632,
        "y": 745,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "8ebbd23d.9dd4d"
            ]
        ]
    },
    {
        "id": "a982c4fa.2154f",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4642,
        "y": 370,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "203d5e77.1749e2"
            ]
        ]
    },
    {
        "id": "7cb92f1c.0d62a8",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='vidx' start='0' end='`$tmp.aai.src-ttp.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 5223,
        "y": 433,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "517c6485.d4072c"
            ]
        ]
    },
    {
        "id": "517c6485.d4072c",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.src-ttp.relationship-list.relationship[$vidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5449,
        "y": 433,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "66fdc763.76b7a8"
            ]
        ]
    },
    {
        "id": "66fdc763.76b7a8",
        "type": "outcome",
        "name": "p-interface",
        "xml": "<outcome value='p-interface'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5643.2861328125,
        "y": 432.82177734375,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "d6464d3a.f940c8"
            ]
        ]
    },
    {
        "id": "d6464d3a.f940c8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5818.1171875,
        "y": 432.34027099609375,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "ebf0e7da.b09cb"
            ]
        ]
    },
    {
        "id": "203d5e77.1749e2",
        "type": "switchNode",
        "name": "switch ttp relationship",
        "xml": "<switch test='`$tmp.aai.src-ttp.relationship-list.relationship_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4840,
        "y": 372,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "6d19c367.9a927c",
                "ad218f76.da61f",
                "4692a096.2a98"
            ]
        ]
    },
    {
        "id": "6d19c367.9a927c",
        "type": "other",
        "name": "Null",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 5023,
        "y": 334,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "13f17017.84d56"
            ]
        ]
    },
    {
        "id": "4692a096.2a98",
        "type": "outcome",
        "name": "length 0",
        "xml": "<outcome value='0'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5033,
        "y": 382,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "13f17017.84d56"
            ]
        ]
    },
    {
        "id": "ad218f76.da61f",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5022,
        "y": 436,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "7cb92f1c.0d62a8"
            ]
        ]
    },
    {
        "id": "13f17017.84d56",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5178,
        "y": 334,
        "z": "5b68e0d.bd97b2",
        "wires": [
            []
        ]
    },
    {
        "id": "fe418352.84c6",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4631,
        "y": 744,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "a04c015d.4f2be"
            ]
        ]
    },
    {
        "id": "491826fa.0106a8",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='vidx' start='0' end='`$tmp.aai.dst-ttp.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 5212,
        "y": 807,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "1943c22a.5a60a6"
            ]
        ]
    },
    {
        "id": "a04c015d.4f2be",
        "type": "switchNode",
        "name": "switch ttp relationship",
        "xml": "<switch test='`$tmp.aai.dst-ttp.relationship-list.relationship_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4829,
        "y": 746,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "d6405c54.6f4518",
                "6576831f.203ff4",
                "863d1cc0.5d8dc8"
            ]
        ]
    },
    {
        "id": "d6405c54.6f4518",
        "type": "other",
        "name": "Null",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 5012,
        "y": 708,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "3eef1226.8c611e"
            ]
        ]
    },
    {
        "id": "863d1cc0.5d8dc8",
        "type": "outcome",
        "name": "length 0",
        "xml": "<outcome value='0'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5022,
        "y": 756,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "3eef1226.8c611e"
            ]
        ]
    },
    {
        "id": "6576831f.203ff4",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5011,
        "y": 810,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "491826fa.0106a8"
            ]
        ]
    },
    {
        "id": "3eef1226.8c611e",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 5167,
        "y": 708,
        "z": "5b68e0d.bd97b2",
        "wires": [
            []
        ]
    },
    {
        "id": "66a31e69.f659b8",
        "type": "set",
        "name": "set domain B node ttp-id",
        "xml": "<set>\n<parameter name='domain-B.ttp-id' value=\"`$tmp.aai.dst-ttp.tunnel-tp-id`\" />\n",
        "comments": "",
        "x": 6024.5,
        "y": 805,
        "z": "5b68e0d.bd97b2",
        "wires": []
    },
    {
        "id": "1943c22a.5a60a6",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.aai.dst-ttp.relationship-list.relationship[$vidx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5438,
        "y": 807,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "d1d6f06f.051f98"
            ]
        ]
    },
    {
        "id": "d1d6f06f.051f98",
        "type": "outcome",
        "name": "p-interface",
        "xml": "<outcome value='p-interface'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5632.2861328125,
        "y": 806.82177734375,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "c6c9b722.1343d8"
            ]
        ]
    },
    {
        "id": "c6c9b722.1343d8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 5807.1171875,
        "y": 806.3402709960938,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "66a31e69.f659b8"
            ]
        ]
    },
    {
        "id": "a736e107.ab857",
        "type": "get-resource",
        "name": "get-resource src tp",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"p-interface\" \n\t\tkey=\"pnf.pnf-name = $tmp.src-pnf-name\n\t\t    AND p-interface.interface-name = $tmp.cross-link.src-ltpId\"\n        pfx='tmp.aai.src-tp' local-only='false' >\n    \n        <!--AND depth = '0'\"-->\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2359.5001220703125,
        "y": 529,
        "z": "5b68e0d.bd97b2",
        "wires": [
            [
                "30082dde.5085da",
                "a603f43.0659d88",
                "ed057305.d13bc"
            ]
        ]
    },
    {
        "id": "85e1ebfe.ba8e78",
        "type": "comment",
        "name": "among all ttps, find the one that has relationship to p-interface (TODO: check node/pnf is the same between this p-interface's pnf and the ttp's pnf)",
        "info": "",
        "comments": "",
        "x": 5703,
        "y": 377,
        "z": "5b68e0d.bd97b2",
        "wires": []
    },
    {
        "id": "1ff536a0.bad579",
        "type": "comment",
        "name": "among all ttps, find the one that has relationship to p-interface (TODO: check node/pnf is the same between this p-interface's pnf and the ttp's pnf)",
        "info": "",
        "comments": "",
        "x": 5697,
        "y": 749,
        "z": "5b68e0d.bd97b2",
        "wires": []
    }
]