[
    {
        "id": "f8944be3.096ab8",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 111,
        "y": 56,
        "z": "9dcfec88.5f292",
        "wires": [
            [
                "68420034.5c6d98"
            ]
        ]
    },
    {
        "id": "68420034.5c6d98",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 242.2856903076172,
        "y": 105.23810863494873,
        "z": "9dcfec88.5f292",
        "wires": [
            [
                "9e33642a.9ab6b8"
            ]
        ]
    },
    {
        "id": "9e33642a.9ab6b8",
        "type": "method",
        "name": "method sotn-vnf-topology-operation-underlay-activate",
        "xml": "<method rpc='sotn-vnf-topology-operation-underlay-activate' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 245.42861938476562,
        "y": 190.00003242492676,
        "z": "9dcfec88.5f292",
        "wires": [
            [
                "f3fc4610.118298"
            ]
        ]
    },
    {
        "id": "f3fc4610.118298",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 395.238037109375,
        "y": 319.6666564941406,
        "z": "9dcfec88.5f292",
        "wires": [
            [
                "321f78ca.ccdc38",
                "47a0d8c5.66ef38",
                "30a9bb6d.ac3de4",
                "470fa21f.c90dac",
                "a9e79f17.0260f",
                "79db1524.d2b97c",
                "47e6b5ed.41cf1c"
            ]
        ]
    },
    {
        "id": "321f78ca.ccdc38",
        "type": "set",
        "name": "set vnf-level-oper-status to Active",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-level-oper-status.order-status' value='Active' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-level-oper-status.last-rpc-action' value='`$vnf-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-level-oper-status.last-action' value='`$vnf-topology-operation-input.request-information.request-action`' />",
        "comments": "",
        "x": 738.3849563598633,
        "y": 556.6705458434299,
        "z": "9dcfec88.5f292",
        "wires": []
    },
    {
        "id": "47a0d8c5.66ef38",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 658.571647644043,
        "y": 682.5970833571628,
        "z": "9dcfec88.5f292",
        "wires": []
    },
    {
        "id": "30a9bb6d.ac3de4",
        "type": "set",
        "name": "set vnf-index and vnf-object-path",
        "xml": "<set>\n<parameter name='vnfId' value='`$vnf-topology-operation-input.vnf-information.vnf-id`' />\n<parameter name=\"vnf-object-path\" value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'  + $vnf-topology-operation-input.service-information.service-instance-id  + '/service-data/vnfs/vnf/'  + $vnf-topology-operation-input.vnf-information.vnf-id  + '/vnf-data/'` \" />",
        "comments": "",
        "x": 744.5716018676758,
        "y": 504.5968001158908,
        "z": "9dcfec88.5f292",
        "wires": []
    },
    {
        "id": "470fa21f.c90dac",
        "type": "switchNode",
        "name": "switch service-data.vnfs.vnf_length",
        "xml": "<switch test='`$service-data.vnfs.vnf_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 753,
        "y": 259,
        "z": "9dcfec88.5f292",
        "wires": [
            [
                "bde1ee44.7683d",
                "2e788e91.c6a1c2",
                "946699e9.3b5b1"
            ]
        ]
    },
    {
        "id": "946699e9.3b5b1",
        "type": "outcome",
        "name": "0",
        "xml": "<outcome value='0'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1145.968994140625,
        "y": 224.96875,
        "z": "9dcfec88.5f292",
        "wires": [
            [
                "5b4e6761.75d918"
            ]
        ]
    },
    {
        "id": "5b4e6761.75d918",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"vnf-topology-operation-input.vnf-request-input.vnf-id not found in service-data\" />\n",
        "comments": "",
        "x": 1300.7778816223145,
        "y": 243.889018535614,
        "z": "9dcfec88.5f292",
        "wires": []
    },
    {
        "id": "bde1ee44.7683d",
        "type": "other",
        "name": "Null",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 1139.0001335144043,
        "y": 264.00007152557373,
        "z": "9dcfec88.5f292",
        "wires": [
            [
                "5b4e6761.75d918"
            ]
        ]
    },
    {
        "id": "2e788e91.c6a1c2",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1132.0005416870117,
        "y": 297.000075340271,
        "z": "9dcfec88.5f292",
        "wires": [
            [
                "ebf17a44.2210a8"
            ]
        ]
    },
    {
        "id": "ebf17a44.2210a8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1279.2700843811035,
        "y": 297.5547204017639,
        "z": "9dcfec88.5f292",
        "wires": [
            [
                "e3ab2fd7.ebbf08"
            ]
        ]
    },
    {
        "id": "e3ab2fd7.ebbf08",
        "type": "for",
        "name": "for vidx..service-data.vnfs.vnf_length[]",
        "xml": "<for index='vidx' start='0' end='`$service-data.vnfs.vnf_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1525.2862014770508,
        "y": 304.42864084243774,
        "z": "9dcfec88.5f292",
        "wires": [
            [
                "18572251.98d83e"
            ]
        ]
    },
    {
        "id": "18572251.98d83e",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1744.6358337402344,
        "y": 303.96872091293335,
        "z": "9dcfec88.5f292",
        "wires": [
            [
                "4a39ea58.7fb184"
            ]
        ]
    },
    {
        "id": "4a39ea58.7fb184",
        "type": "switchNode",
        "name": "switch vnfid found",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vidx].vnf-id == $vnf-topology-operation-input.vnf-information.vnf-id`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1898.715431213379,
        "y": 303.67880296707153,
        "z": "9dcfec88.5f292",
        "wires": [
            [
                "669b0d11.8a0824"
            ]
        ]
    },
    {
        "id": "669b0d11.8a0824",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2109.6675758361816,
        "y": 306.571494102478,
        "z": "9dcfec88.5f292",
        "wires": [
            [
                "e89a8750.1f8e18"
            ]
        ]
    },
    {
        "id": "e89a8750.1f8e18",
        "type": "set",
        "name": "set tmp.vidx and ctx.vnf-data",
        "xml": "<set>\n<parameter name='tmp.vidx' value='`$vidx`' />\n<parameter name='ctx.vnf-data.' value='`$service-data.vnfs.vnf[$vidx].`' />\n",
        "comments": "",
        "x": 2319.199951171875,
        "y": 308.32159423828125,
        "z": "9dcfec88.5f292",
        "wires": []
    },
    {
        "id": "a9e79f17.0260f",
        "type": "save",
        "name": "update AnAI - vnf-instance.orchestration-status",
        "xml": "<update plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"generic-vnf\"   \n\t\tkey=\"generic-vnf.vnf-id = $vnfId\" >\n<parameter name=\"orchestration-status\" value=\"Active\" />\n<parameter name=\"vnf-type\" value=\"some vnf-type\" />",
        "comments": "",
        "outputs": 1,
        "x": 763.9999618530273,
        "y": 623.0103714736179,
        "z": "9dcfec88.5f292",
        "wires": [
            []
        ]
    },
    {
        "id": "79db1524.d2b97c",
        "type": "set",
        "name": "copy input data to service data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.sdnc-request-header.' value='$vnf-topology-operation-input.sdnc-request-header.' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.request-information.' value='$vnf-topology-operation-input.request-information.' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.service-information.' value='$vnf-topology-operation-input.service-information.' />",
        "comments": "",
        "x": 743.0000762939453,
        "y": 454.01033284980804,
        "z": "9dcfec88.5f292",
        "wires": []
    },
    {
        "id": "47e6b5ed.41cf1c",
        "type": "switchNode",
        "name": "switch vnf-level-oper-status",
        "xml": "<switch test='`$service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-level-oper-status.order-status`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 729.7499389648438,
        "y": 359.00390270072967,
        "z": "9dcfec88.5f292",
        "wires": [
            [
                "3e2d00ea.214d9",
                "ed7ee56e.298fc8"
            ]
        ]
    },
    {
        "id": "3e2d00ea.214d9",
        "type": "outcome",
        "name": "outcome Created",
        "xml": "<outcome value='Created'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1109.5833320617676,
        "y": 364.1149909766391,
        "z": "9dcfec88.5f292",
        "wires": [
            [
                "34b25335.603514"
            ]
        ]
    },
    {
        "id": "ed7ee56e.298fc8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1087.583351135254,
        "y": 414.1150024207309,
        "z": "9dcfec88.5f292",
        "wires": [
            [
                "4a64950b.2e4a84"
            ]
        ]
    },
    {
        "id": "4a64950b.2e4a84",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'VNF is not in appropriate state for activate. Current state is ' + $service-data.vnfs.vnf[$tmp.nidx].vnf-data.vnf-level-oper-status.order-status`\" />",
        "comments": "",
        "x": 1247.0831184387207,
        "y": 417.1150014670566,
        "z": "9dcfec88.5f292",
        "wires": []
    },
    {
        "id": "34b25335.603514",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1319.889705657959,
        "y": 375.44016626197845,
        "z": "9dcfec88.5f292",
        "wires": [
            []
        ]
    }
]