[
    {
        "id": "f06d79a.4f13a08",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 120,
        "y": 66,
        "z": "62554968.e321b8",
        "wires": [
            [
                "e698fb0d.22ccb"
            ]
        ]
    },
    {
        "id": "e698fb0d.22ccb",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 251.2856903076172,
        "y": 115.23810863494873,
        "z": "62554968.e321b8",
        "wires": [
            [
                "c77e5b12.74fa8"
            ]
        ]
    },
    {
        "id": "c77e5b12.74fa8",
        "type": "method",
        "name": "method sotn-vf-operation-l2vpn-activate",
        "xml": "<method rpc='sotn-vf-operation-l2vpn-activate' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 254.42861938476562,
        "y": 200.00003242492676,
        "z": "62554968.e321b8",
        "wires": [
            [
                "dc8a4134.633b38"
            ]
        ]
    },
    {
        "id": "dc8a4134.633b38",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 622.2380447387695,
        "y": 414.66666814964265,
        "z": "62554968.e321b8",
        "wires": [
            [
                "6485c0f8.91ce08",
                "a02d1e2f.e50b18",
                "c0d6a6a1.052f28",
                "aff44c8.fd218b",
                "cdefed21.97b52",
                "ef33383b.0eb5c8",
                "6bb0bfe6.f5358"
            ]
        ]
    },
    {
        "id": "6485c0f8.91ce08",
        "type": "set",
        "name": "set vnf-level-oper-status to Active",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-level-oper-status.order-status' value='Active' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-level-oper-status.last-rpc-action' value='`$vnf-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-level-oper-status.last-action' value='`$vnf-topology-operation-input.request-information.request-action`' />",
        "comments": "",
        "x": 1037.3850173950195,
        "y": 601.6705513000488,
        "z": "62554968.e321b8",
        "wires": []
    },
    {
        "id": "a02d1e2f.e50b18",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 957.5717086791992,
        "y": 727.5970888137817,
        "z": "62554968.e321b8",
        "wires": []
    },
    {
        "id": "c0d6a6a1.052f28",
        "type": "set",
        "name": "set vnf-index and vnf-object-path",
        "xml": "<set>\n<parameter name='vnfId' value='`$vnf-topology-operation-input.vnf-information.vnf-id`' />\n<parameter name=\"vnf-object-path\" value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'  + $vnf-topology-operation-input.service-information.service-instance-id  + '/service-data/vnfs/vnf/'  + $vnf-topology-operation-input.vnf-information.vnf-id  + '/vnf-data/'` \" />",
        "comments": "",
        "x": 1043.571662902832,
        "y": 549.5968055725098,
        "z": "62554968.e321b8",
        "wires": []
    },
    {
        "id": "aff44c8.fd218b",
        "type": "switchNode",
        "name": "switch service-data.vnfs.vnf_length",
        "xml": "<switch test='`$service-data.vnfs.vnf_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1052.0000610351562,
        "y": 304.00000545661896,
        "z": "62554968.e321b8",
        "wires": [
            [
                "c419b86f.420228",
                "5e5514b0.5b9124",
                "dab73261.53c13"
            ]
        ]
    },
    {
        "id": "dab73261.53c13",
        "type": "outcome",
        "name": "0",
        "xml": "<outcome value='0'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1310.9689559936523,
        "y": 265.96876499336213,
        "z": "62554968.e321b8",
        "wires": [
            [
                "ac6cfd44.a241c"
            ]
        ]
    },
    {
        "id": "ac6cfd44.a241c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"vnf-topology-operation-input.vnf-request-input.vnf-id not found in service-data\" />\n",
        "comments": "",
        "x": 1465.7778434753418,
        "y": 284.88903352897614,
        "z": "62554968.e321b8",
        "wires": []
    },
    {
        "id": "c419b86f.420228",
        "type": "other",
        "name": "Null",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 1304.0000953674316,
        "y": 305.00008651893586,
        "z": "62554968.e321b8",
        "wires": [
            [
                "ac6cfd44.a241c"
            ]
        ]
    },
    {
        "id": "5e5514b0.5b9124",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1297.000503540039,
        "y": 338.0000903336331,
        "z": "62554968.e321b8",
        "wires": [
            [
                "639a074f.493e98"
            ]
        ]
    },
    {
        "id": "639a074f.493e98",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1444.2700462341309,
        "y": 338.55473539512604,
        "z": "62554968.e321b8",
        "wires": [
            [
                "6fa946fa.ca1978"
            ]
        ]
    },
    {
        "id": "6fa946fa.ca1978",
        "type": "for",
        "name": "for vidx..service-data.vnfs.vnf_length[]",
        "xml": "<for index='vidx' start='0' end='`$service-data.vnfs.vnf_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1690.2861633300781,
        "y": 345.4286558357999,
        "z": "62554968.e321b8",
        "wires": [
            [
                "154eb41a.640b64"
            ]
        ]
    },
    {
        "id": "154eb41a.640b64",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1909.6357955932617,
        "y": 344.9687359062955,
        "z": "62554968.e321b8",
        "wires": [
            [
                "330022d0.830a2e"
            ]
        ]
    },
    {
        "id": "330022d0.830a2e",
        "type": "switchNode",
        "name": "switch vnfid found",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vidx].vnf-id == $vnf-topology-operation-input.vnf-information.vnf-id`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2063.7153930664062,
        "y": 344.67881796043366,
        "z": "62554968.e321b8",
        "wires": [
            [
                "fcbe4c85.417af"
            ]
        ]
    },
    {
        "id": "fcbe4c85.417af",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2239.6675148010254,
        "y": 344.57150003593415,
        "z": "62554968.e321b8",
        "wires": [
            [
                "2fb9529b.c7be6e"
            ]
        ]
    },
    {
        "id": "2fb9529b.c7be6e",
        "type": "set",
        "name": "set tmp.vidx and ctx.vnf-data",
        "xml": "<set>\n<parameter name='tmp.vidx' value='`$vidx`' />\n<parameter name='ctx.vnf-data.' value='`$service-data.vnfs.vnf[$vidx].`' />\n",
        "comments": "",
        "x": 2449.1998901367188,
        "y": 346.3216001717374,
        "z": "62554968.e321b8",
        "wires": []
    },
    {
        "id": "cdefed21.97b52",
        "type": "save",
        "name": "update AnAI - l2vpn.operational-status",
        "xml": "<update plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"connectivity\"   \n\t\tkey=\"connectivity.connectivity-id = $vnfId\" >\n<parameter name=\"operational-status\" value=\"Active\" />",
        "comments": "",
        "outputs": 1,
        "x": 1063.0000228881836,
        "y": 668.0103769302368,
        "z": "62554968.e321b8",
        "wires": [
            []
        ]
    },
    {
        "id": "ef33383b.0eb5c8",
        "type": "set",
        "name": "copy input data to service data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.sdnc-request-header.' value='$vnf-topology-operation-input.sdnc-request-header.' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.request-information.' value='$vnf-topology-operation-input.request-information.' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.service-information.' value='$vnf-topology-operation-input.service-information.' />",
        "comments": "",
        "x": 1042.0001373291016,
        "y": 499.010338306427,
        "z": "62554968.e321b8",
        "wires": []
    },
    {
        "id": "6bb0bfe6.f5358",
        "type": "switchNode",
        "name": "switch vnf-level-oper-status",
        "xml": "<switch test='`$service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-level-oper-status.order-status`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1028.75,
        "y": 404.00390815734863,
        "z": "62554968.e321b8",
        "wires": [
            [
                "5c7bc43a.bb701c",
                "b67194e3.094198"
            ]
        ]
    },
    {
        "id": "5c7bc43a.bb701c",
        "type": "outcome",
        "name": "outcome Created",
        "xml": "<outcome value='Created'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1274.583293914795,
        "y": 405.1150059700012,
        "z": "62554968.e321b8",
        "wires": [
            [
                "914253cd.1c469"
            ]
        ]
    },
    {
        "id": "b67194e3.094198",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1252.5833129882812,
        "y": 455.115017414093,
        "z": "62554968.e321b8",
        "wires": [
            [
                "b6453bfb.a302f"
            ]
        ]
    },
    {
        "id": "b6453bfb.a302f",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'VNF is not in appropriate state for activate. Current state is ' + $service-data.vnfs.vnf[$tmp.nidx].vnf-data.vnf-level-oper-status.order-status`\" />",
        "comments": "",
        "x": 1412.083080291748,
        "y": 458.1150164604187,
        "z": "62554968.e321b8",
        "wires": []
    },
    {
        "id": "914253cd.1c469",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1484.8896675109863,
        "y": 416.4401812553406,
        "z": "62554968.e321b8",
        "wires": [
            []
        ]
    }
]