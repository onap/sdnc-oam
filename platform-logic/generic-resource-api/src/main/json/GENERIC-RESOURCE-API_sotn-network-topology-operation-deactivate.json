[
  {
    "id": "e417c255.55168",
    "type": "dgstart",
    "name": "DGSTART",
    "outputs": 1,
    "x": 97,
    "y": 58.666653633117676,
    "z": "a60e1b2.0e00ee8",
    "wires": [
      [
        "7ab6ef86.3029d"
      ]
    ]
  },
  {
    "id": "7ab6ef86.3029d",
    "type": "service-logic",
    "name": "GENERIC-RESOURCE-API 1.2.1-SNAPSHOT",
    "module": "GENERIC-RESOURCE-API",
    "version": "1.2.1-SNAPSHOT",
    "comments": "",
    "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='1.2.1-SNAPSHOT'>",
    "outputs": 1,
    "x": 253.00000381469727,
    "y": 149.66667556762695,
    "z": "a60e1b2.0e00ee8",
    "wires": [
      [
        "2feb52d2.f795ee"
      ]
    ]
  },
  {
    "id": "2feb52d2.f795ee",
    "type": "method",
    "name": "method sotn-network-topology-operation-deactivate",
    "xml": "<method rpc='sotn-network-topology-operation-deactivate' mode='sync'>\n",
    "comments": "",
    "outputs": 1,
    "x": 241.0001220703125,
    "y": 237.66665840148926,
    "z": "a60e1b2.0e00ee8",
    "wires": [
      [
        "3f213c21.d34564"
      ]
    ]
  },
  {
    "id": "3f213c21.d34564",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 464.0000762939453,
    "y": 309.6667318344116,
    "z": "a60e1b2.0e00ee8",
    "wires": [
      [
        "9aa8fa45.2b1e08",
        "f32a24c6.dffed8",
        "27480d76.5a34a2",
        "ca91a3af.46939",
        "616e31bd.918fb",
        "5b600577.38704c",
        "37e02aa8.77f506",
        "ef74970a.886bc8"
      ]
    ]
  },
  {
    "id": "9aa8fa45.2b1e08",
    "type": "call",
    "name": "call GENERIC-RESOURCE-API:validate-sotn-network-input-parameters",
    "xml": "<call module='GENERIC-RESOURCE-API' rpc='validate-sotn-network-input-parameters' mode='sync' >\n",
    "comments": "",
    "outputs": 1,
    "x": 895.6111450195312,
    "y": 57.99999713897705,
    "z": "a60e1b2.0e00ee8",
    "wires": [
      [
        
      ]
    ]
  },
  {
    "id": "f32a24c6.dffed8",
    "type": "record",
    "name": "record",
    "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/svclogic.log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"sotn-network-topology-operation-activate\"/>\n<parameter name=\"field3\" value=\"SOTN-Deactivate\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 700.03125,
    "y": 101.03125,
    "z": "a60e1b2.0e00ee8",
    "wires": [
      [
        
      ]
    ]
  },
  {
    "id": "616e31bd.918fb",
    "type": "set",
    "name": "set networkId and network-object-path",
    "xml": "<set>\n<parameter name='networkId' value='`$network-topology-operation-input.network-information.network-id`' />\n<parameter name=\"network-object-path\" value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'  + $network-topology-operation-input.service-information.service-instance-id  + '/service-data/networks/network/'  + $network-topology-operation-input.network-information.network-id  + '/network-data/'` \" />",
    "comments": "",
    "x": 791.0312995910645,
    "y": 289.5666913986206,
    "z": "a60e1b2.0e00ee8",
    "wires": [
      
    ]
  },
  {
    "id": "ef74970a.886bc8",
    "type": "returnSuccess",
    "name": "return success",
    "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
    "comments": "",
    "x": 712.8091011047363,
    "y": 479.1221113204956,
    "z": "a60e1b2.0e00ee8",
    "wires": [
      
    ]
  },
  {
    "id": "5b600577.38704c",
    "type": "set",
    "name": "set network-level-oper-status",
    "xml": "<set>\n<parameter name='service-data.networks.network[$nidx].network-data.network-level-oper-status.order-status' value='PendingDelete' />\n<parameter name='service-data.networks.network[$nidx].network-data.network-level-oper-status.last-rpc-action' value='`$network-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.networks.network[$nidx].network-data.network-level-oper-status.last-action' value='`$network-topology-operation-input.request-information.request-action`' />",
    "comments": "",
    "x": 757.9202156066895,
    "y": 350.7888660430908,
    "z": "a60e1b2.0e00ee8",
    "wires": [
      
    ]
  },
  {
    "id": "27480d76.5a34a2",
    "type": "execute",
    "name": "execute Properties",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
    "comments": "",
    "outputs": 1,
    "x": 732.3333549499512,
    "y": 154.03128623962402,
    "z": "a60e1b2.0e00ee8",
    "wires": [
      [
        
      ]
    ]
  },
  {
    "id": "37e02aa8.77f506",
    "type": "update",
    "name": "update SOTN Connectivity status to AAI",
    "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='configuration' \n      key='configuration.configuration-id = $network-topology-operation-input.network-information.network-id' >\n<parameter name='configuration-id' value='`$network-topology-operation-input.network-information.network-id`' />\n<parameter name='operational-status' value='PendingDelete' />",
    "comments": "",
    "outputs": 1,
    "x": 792.1387977600098,
    "y": 410.49205493927,
    "z": "a60e1b2.0e00ee8",
    "wires": [
      [
        
      ]
    ]
  },
  {
    "id": "ca91a3af.46939",
    "type": "set",
    "name": "set network in service-data",
    "xml": "<set>\n<parameter name='service-data.networks.network[$nidx].network-data.sdnc-request-header.' value='`$network-topology-operation-input.sdnc-request-header.`' />\n<parameter name='service-data.networks.network[$nidx].network-data.request-information.' value='`$network-topology-operation-input.request-information.`' />\n<parameter name='service-data.networks.network[$nidx].network-data.service-information.' value='`$network-topology-operation-input.service-information.`' />\n<parameter name='service-data.networks.network[$nidx].network-data.network-information.' value='`$network-topology-operation-input.network-information.`' />",
    "comments": "",
    "x": 754.475772857666,
    "y": 221.34445095062256,
    "z": "a60e1b2.0e00ee8",
    "wires": [
      
    ]
  },
  {
    "id": "80bfe5ee.a7ea98",
    "type": "comment",
    "name": "TODO MP2MP",
    "info": "Current implementation is for P2P connectivity\nFor MP2MP connectivity in future DG needs to be modified",
    "comments": "",
    "x": 979.5069007873535,
    "y": 144.28467750549316,
    "z": "a60e1b2.0e00ee8",
    "wires": [
      
    ]
  }
]
