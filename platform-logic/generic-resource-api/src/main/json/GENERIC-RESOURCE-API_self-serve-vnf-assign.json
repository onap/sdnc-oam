[
    {
        "id": "c2210584.6ba86",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 94,
        "y": 38,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "e02bf53a.60bc28"
            ]
        ]
    },
    {
        "id": "71f71e45.9eb4b",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 124.4761962890625,
        "y": 160.2777862548828,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "8e0dff37.f1fda",
                "bf5590d0.735e",
                "c8a24eb5.bbb1a8",
                "ae8b42f6.b3e8",
                "1b8e6aad.ab83bd",
                "c4d59370.0ee078",
                "e256a400.2e1b6",
                "c156321f.eb487",
                "a7e176e3.0065f8",
                "25e531f1.a875d6"
            ]
        ]
    },
    {
        "id": "8dc57ba6.1c75d",
        "type": "method",
        "name": "method self-serve-vnf-assign",
        "xml": "<method rpc='self-serve-vnf-assign' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 210.76190948486328,
        "y": 92.70635509490967,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "71f71e45.9eb4b"
            ]
        ]
    },
    {
        "id": "e02bf53a.60bc28",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 369.23819732666016,
        "y": 38.19049263000488,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "8dc57ba6.1c75d"
            ]
        ]
    },
    {
        "id": "bf5590d0.735e",
        "type": "switchNode",
        "name": "switch vnf-parameters-data.param_length",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 412.6786575317383,
        "y": 1380.5120058059692,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "45256f81.9dac1"
            ]
        ]
    },
    {
        "id": "45256f81.9dac1",
        "type": "other",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 674.6786880493164,
        "y": 1380.5120058059692,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "e9b6ed29.4456e8"
            ]
        ]
    },
    {
        "id": "9be46088.12e468",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:self-serve-ra-assignment",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='self-serve-vnf-ra-assignment' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1189.9643478393555,
        "y": 1430.0834369659424,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "939ffdeb.3f726"
            ]
        ]
    },
    {
        "id": "17657a62.9ace96",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'Failed to get RA assignments: ' + $error-message`\" />\n",
        "comments": "",
        "x": 1661.6785888671875,
        "y": 1429.6548404693604,
        "z": "8ba3ad87.52de7",
        "wires": []
    },
    {
        "id": "ea05e7c5.b01428",
        "type": "for",
        "name": "foreach vnf-parameters-data.param[]",
        "xml": "<for index='pidx' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 637.8574600219727,
        "y": 1748.0120840072632,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "eecef4a.071f088",
                "9d8f7fef.0ae2d8"
            ]
        ]
    },
    {
        "id": "8e0dff37.f1fda",
        "type": "set",
        "name": "set ss.capability.execution-order[]",
        "xml": "<set>\n<parameter name='ss.capability.execution-order[0]' value='generate-name' />\n<parameter name='ss.capability.execution-order[1]' value='alts-entitlement-assign' />\n<parameter name='ss.capability.execution-order[2]' value='alts-license-assign' />\n<parameter name='ss.capability.execution-order[3]' value='vlan-tag-assign' />\n<parameter name='ss.capability.execution-order[4]' value='eipam-ip-assign' />\n<parameter name='ss.capability.execution-order[5]' value='netbox-ip-assign' />\n<parameter name='ss.capability.execution-order[6]' value='eipam-create-pool\"' />\n<parameter name='ss.capability.execution-order[7]' value='mac-address-assign' />\n<parameter name='ss.capability.execution-order[8]' value='create-vpe-pool' />\n<parameter name='ss.capability.execution-order[9]' value='unresolved-composite-data' />\n<parameter name='ss.capability.execution-order_length' value='10' />\n",
        "comments": "",
        "x": 386.52384185791016,
        "y": 1219.0001401901245,
        "z": "8ba3ad87.52de7",
        "wires": []
    },
    {
        "id": "c8a24eb5.bbb1a8",
        "type": "for",
        "name": "foreach capability[]",
        "xml": "<for index='cidx' start='0' end='`$ss.capability.execution-order_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 341.9286880493164,
        "y": 1488.1191005706787,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "a6a90f31.5ae5e",
                "b8ecd5cc.e6f428",
                "f25aa938.0222c",
                "ea05e7c5.b01428"
            ]
        ]
    },
    {
        "id": "9d8f7fef.0ae2d8",
        "type": "switchNode",
        "name": "switch capability-name",
        "xml": "<switch test='`$ss.capability-name == $tmp.param.capability-name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 942.2502822875977,
        "y": 1793.6548767089844,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "397d2ea3.b0a2a2"
            ]
        ]
    },
    {
        "id": "397d2ea3.b0a2a2",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1205.7502822875977,
        "y": 1793.9048767089844,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "cca486b7.8838e8"
            ]
        ]
    },
    {
        "id": "939ffdeb.3f726",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1507.5356941223145,
        "y": 1429.5120306015015,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "17657a62.9ace96"
            ]
        ]
    },
    {
        "id": "a6a90f31.5ae5e",
        "type": "set",
        "name": "set ss.capability-name",
        "xml": "<set>\n<parameter name='ss.capability-name' value='`$ss.capability.execution-order[$cidx]`' />\n<!--\nss.capability.execution-order[]\n-->",
        "comments": "",
        "x": 598.2857437133789,
        "y": 1488.0715522766113,
        "z": "8ba3ad87.52de7",
        "wires": []
    },
    {
        "id": "eecef4a.071f088",
        "type": "set",
        "name": "tmp.param.capability-name",
        "xml": "<set>\n<parameter name='tmp.param.capability-name' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$pidx].resource-resolution-data.capability-name`' />\n",
        "comments": "",
        "x": 953.607307434082,
        "y": 1748.2620868682861,
        "z": "8ba3ad87.52de7",
        "wires": []
    },
    {
        "id": "f25aa938.0222c",
        "type": "set",
        "name": "set ss.capability.action = assign",
        "xml": "<set>\n<parameter name='ss.capability-action' value='assign' />\n",
        "comments": "",
        "x": 626.999885559082,
        "y": 1534.988136291504,
        "z": "8ba3ad87.52de7",
        "wires": []
    },
    {
        "id": "3e48e71c.7ae0a",
        "type": "set",
        "name": "set capability-dg with 'self-serve-' + capability-name",
        "xml": "<set>\n<parameter name='ss.capability-dg' value=\"`'self-serve-' + $ss.capability.execution-order[$cidx]`\" />\n",
        "comments": "",
        "x": 1130.7619552612305,
        "y": 1682.2143688201904,
        "z": "8ba3ad87.52de7",
        "wires": []
    },
    {
        "id": "b8ecd5cc.e6f428",
        "type": "switchNode",
        "name": "switch ss.capability-name",
        "xml": "<switch test='`$ss.capability-name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 610.2619552612305,
        "y": 1583.964376449585,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "d1599ea.9356c6",
                "7b44bfcc.ba4948",
                "a1c36590.f3c6a"
            ]
        ]
    },
    {
        "id": "d1599ea.9356c6",
        "type": "other",
        "name": "alts-entitlement-assign",
        "xml": "<outcome value='alts-entitlement-assign'>\n",
        "comments": "",
        "outputs": 1,
        "x": 893.012077331543,
        "y": 1584.4643688201904,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "9580a16.efdc0e"
            ]
        ]
    },
    {
        "id": "7b44bfcc.ba4948",
        "type": "other",
        "name": "alts-license-assign",
        "xml": "<outcome value='alts-license-assign'>\n",
        "comments": "",
        "outputs": 1,
        "x": 882.262077331543,
        "y": 1632.2143688201904,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "9580a16.efdc0e"
            ]
        ]
    },
    {
        "id": "a1c36590.f3c6a",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 846.2620391845703,
        "y": 1682.4643592834473,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "3e48e71c.7ae0a"
            ]
        ]
    },
    {
        "id": "9580a16.efdc0e",
        "type": "set",
        "name": "set capability-dg to self-serve-alts-assignment",
        "xml": "<set>\n<parameter name='ss.capability-dg' value='self-serve-alts-assignment' />\n",
        "comments": "",
        "x": 1231.7619552612305,
        "y": 1583.9643688201904,
        "z": "8ba3ad87.52de7",
        "wires": []
    },
    {
        "id": "ae8b42f6.b3e8",
        "type": "set",
        "name": "set sdnc-generated-cloud-resources = true",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.sdnc-generated-cloud-resources' value='true' />\n",
        "comments": "",
        "x": 415.4881362915039,
        "y": 1272.7501487731934,
        "z": "8ba3ad87.52de7",
        "wires": []
    },
    {
        "id": "b7131430.470988",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 671.928539276123,
        "y": 553.4643030166626,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "88ed4530.e136a",
                "27be84c8.ddcbfc",
                "3b7d65de.5a14f2",
                "6e07c610.868d5",
                "6b54bc52.506ebc",
                "ecbf7a47.7ceb08",
                "48719306.6bcdac",
                "a540483b.12ccf",
                "7b3fc950.62cf28"
            ]
        ]
    },
    {
        "id": "88ed4530.e136a",
        "type": "set",
        "name": "set vnf-topology data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.vnf-id'\n value='`$vnf-topology-operation-input.vnf-information.vnf-id`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.vnf-type'\n value='`$vnf-topology-operation-input.vnf-information.vnf-type`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.nf-type'\n value='`$db.vf-model.nf-type`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.nf-role'\n value='`$db.vf-model.nf-role`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.nf-function'\n value='`$db.vf-model.nf-function`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.nf-code'\n value='`$db.vf-model.nf-code`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.tenant'\n value='`$vnf-topology-operation-input.vnf-request-input.tenant`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.aic-cloud-region'\n value='`$vnf-topology-operation-input.vnf-request-input.aic-cloud-region`' />\n \n",
        "comments": "",
        "x": 887.4284820556641,
        "y": 554.523811340332,
        "z": "8ba3ad87.52de7",
        "wires": []
    },
    {
        "id": "cbe4e26e.f21da",
        "type": "set",
        "name": "set vnf-parameters-data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.'\n  value='vnf-topology-operation-input.vnf-request-input.vnf-input-parameters.' />\n",
        "comments": "",
        "x": 1080.9645767211914,
        "y": 1380.3808345794678,
        "z": "8ba3ad87.52de7",
        "wires": []
    },
    {
        "id": "3b7d65de.5a14f2",
        "type": "set",
        "name": "set vnf-level-oper-status to PendingCreate",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-level-oper-status.order-status' value='PendingCreate' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-level-oper-status.last-rpc-action' value='`$vnf-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-level-oper-status.last-action' value='`$vnf-topology-operation-input.request-information.request-action`' />\n",
        "comments": "",
        "x": 952.7184371948242,
        "y": 1128.504020690918,
        "z": "8ba3ad87.52de7",
        "wires": []
    },
    {
        "id": "27be84c8.ddcbfc",
        "type": "set",
        "name": "copy input data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.sdnc-request-header.' \n\tvalue='$vnf-topology-operation-input.sdnc-request-header.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.request-information.' \n\tvalue='$vnf-topology-operation-input.request-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.' \n\tvalue='$vnf-topology-operation-input.service-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-information.' \n\tvalue='$vnf-topology-operation-input.vnf-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-request-input.' \n\tvalue='$vnf-topology-operation-input.vnf-request-input.' />\n",
        "comments": "",
        "x": 870.0953521728516,
        "y": 1078.3096599578857,
        "z": "8ba3ad87.52de7",
        "wires": []
    },
    {
        "id": "ff54b332.703d88",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-invariant-uuid'\n  value='`$db.vf-model.invariant-uuid`' />\n",
        "comments": "",
        "x": 1284.4286727905273,
        "y": 666.8810405731201,
        "z": "8ba3ad87.52de7",
        "wires": []
    },
    {
        "id": "6e07c610.868d5",
        "type": "switchNode",
        "name": "switch input model-invariant-uuid",
        "xml": "<switch test='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-invariant-uuid`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 925.2857475280762,
        "y": 689.7054843902588,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "16c6c6b3.261339",
                "b02a941f.aa2a2"
            ]
        ]
    },
    {
        "id": "16c6c6b3.261339",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 1133.9524192810059,
        "y": 666.8484477996826,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "ff54b332.703d88"
            ]
        ]
    },
    {
        "id": "b02a941f.aa2a2",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1135.381015777588,
        "y": 711.1340389251709,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "23047a6.080e486"
            ]
        ]
    },
    {
        "id": "23047a6.080e486",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-invariant-uuid'\n  value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-invariant-uuid`' />\n",
        "comments": "",
        "x": 1289.6667518615723,
        "y": 710.5626111030579,
        "z": "8ba3ad87.52de7",
        "wires": []
    },
    {
        "id": "41d8df39.825e78",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-uuid'\n  value='`$db.vf-model.uuid`' />\n",
        "comments": "",
        "x": 1285.3809432983398,
        "y": 755.419716835022,
        "z": "8ba3ad87.52de7",
        "wires": []
    },
    {
        "id": "6b54bc52.506ebc",
        "type": "switchNode",
        "name": "switch input model-uuid",
        "xml": "<switch test='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-uuid`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 894.9047660827637,
        "y": 778.2442216873169,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "cd0089ce.7d9e3",
                "cc2377cc.f3194"
            ]
        ]
    },
    {
        "id": "cd0089ce.7d9e3",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 1134.9047393798828,
        "y": 755.3871536254883,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "41d8df39.825e78"
            ]
        ]
    },
    {
        "id": "cc2377cc.f3194",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1136.3333358764648,
        "y": 799.6727447509766,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "28837da2.b41522"
            ]
        ]
    },
    {
        "id": "28837da2.b41522",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-uuid'\n  value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-uuid`' />\n",
        "comments": "",
        "x": 1290.6190719604492,
        "y": 799.1013169288635,
        "z": "8ba3ad87.52de7",
        "wires": []
    },
    {
        "id": "44510800.af91e8",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-version'\n  value='`$db.vf-model.version`' />\n",
        "comments": "",
        "x": 1282.5238761901855,
        "y": 844.2769241333008,
        "z": "8ba3ad87.52de7",
        "wires": []
    },
    {
        "id": "ecbf7a47.7ceb08",
        "type": "switchNode",
        "name": "switch input model-version",
        "xml": "<switch test='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-version`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 906.0476379394531,
        "y": 867.1013689041138,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "a8b34f64.b1b678",
                "d754274c.ecf9c8"
            ]
        ]
    },
    {
        "id": "a8b34f64.b1b678",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 1132.047622680664,
        "y": 844.2443313598633,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "44510800.af91e8"
            ]
        ]
    },
    {
        "id": "d754274c.ecf9c8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1133.476219177246,
        "y": 888.5299224853516,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "5f62a1ee.960198"
            ]
        ]
    },
    {
        "id": "5f62a1ee.960198",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-version'\n  value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-version`' />\n",
        "comments": "",
        "x": 1287.7619552612305,
        "y": 887.9584946632385,
        "z": "8ba3ad87.52de7",
        "wires": []
    },
    {
        "id": "a349c6c5.12b13",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-name'\n  value='`$db.vf-model.name`' />\n",
        "comments": "",
        "x": 1282.5238761901855,
        "y": 931.4197463989258,
        "z": "8ba3ad87.52de7",
        "wires": []
    },
    {
        "id": "48719306.6bcdac",
        "type": "switchNode",
        "name": "switch input model-name",
        "xml": "<switch test='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 901.0476379394531,
        "y": 954.2441911697388,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "c70991a9.c43c78",
                "2a62867.5ff197a"
            ]
        ]
    },
    {
        "id": "c70991a9.c43c78",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 1132.047622680664,
        "y": 931.3871536254883,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "a349c6c5.12b13"
            ]
        ]
    },
    {
        "id": "2a62867.5ff197a",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1133.476219177246,
        "y": 975.6727447509766,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "63f82d72.f37a5c"
            ]
        ]
    },
    {
        "id": "63f82d72.f37a5c",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-name'\n  value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-name`' />\n",
        "comments": "",
        "x": 1287.7619552612305,
        "y": 975.1013169288635,
        "z": "8ba3ad87.52de7",
        "wires": []
    },
    {
        "id": "a540483b.12ccf",
        "type": "set",
        "name": "set vnf-id",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-id'\n   value='`$vnf-topology-operation-input.vnf-information.vnf-id`' />\n",
        "comments": "",
        "x": 851.4047088623047,
        "y": 606.0388488769531,
        "z": "8ba3ad87.52de7",
        "wires": []
    },
    {
        "id": "7b3fc950.62cf28",
        "type": "set",
        "name": "set model-customization-uuid",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-customization-uuid'\n  value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-customization-uuid`' />\n",
        "comments": "",
        "x": 913.8332252502441,
        "y": 1027.0863952636719,
        "z": "8ba3ad87.52de7",
        "wires": []
    },
    {
        "id": "c156321f.eb487",
        "type": "switchNode",
        "name": "switch service-data.vnfs.vnf_length",
        "xml": "<switch test='`$service-data.vnfs.vnf_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 398.08329010009766,
        "y": 240.42850017547607,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "1b5a1d9f.6a28ba",
                "ff923214.2dc808",
                "b72b4cfe.211248"
            ]
        ]
    },
    {
        "id": "1b5a1d9f.6a28ba",
        "type": "other",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 640.2976760864258,
        "y": 178.98793125152588,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "52cd617b.7d1b"
            ]
        ]
    },
    {
        "id": "2ae6dc0a.6be91c",
        "type": "set",
        "name": "set vnf-index=0",
        "xml": "<set>\n<parameter name='vnf-index' value='0' />\n",
        "comments": "",
        "x": 975.583381652832,
        "y": 178.48800563812256,
        "z": "8ba3ad87.52de7",
        "wires": []
    },
    {
        "id": "ff923214.2dc808",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 641.476203918457,
        "y": 300.607120513916,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "c058e20d.d460a"
            ]
        ]
    },
    {
        "id": "cca486b7.8838e8",
        "type": "switchNode",
        "name": "switch resource-resolution-data.status",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$pidx].resource-resolution-data.status`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 477.01221084594727,
        "y": 2050.4722986221313,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "aaebc00c.b72a5",
                "338c1ad2.9f8486",
                "a267f49f.a60c4"
            ]
        ]
    },
    {
        "id": "aaebc00c.b72a5",
        "type": "other",
        "name": "PENDING",
        "xml": "<outcome value='PENDING'>\n",
        "comments": "",
        "outputs": 1,
        "x": 746.3694267272949,
        "y": 2050.472254753113,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "c3cf2b9b.6a0c"
            ]
        ]
    },
    {
        "id": "338c1ad2.9f8486",
        "type": "other",
        "name": "SUCCESS",
        "xml": "<outcome value='SUCCESS'>\n",
        "comments": "",
        "outputs": 1,
        "x": 749.7979164123535,
        "y": 2001.936538696289,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "6e18961d.55c188"
            ]
        ]
    },
    {
        "id": "a267f49f.a60c4",
        "type": "other",
        "name": "FAILED",
        "xml": "<outcome value='FAILED'>\n",
        "comments": "",
        "outputs": 1,
        "x": 739.9052429199219,
        "y": 2101.4365854263306,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "c3cf2b9b.6a0c"
            ]
        ]
    },
    {
        "id": "c3cf2b9b.6a0c",
        "type": "call",
        "name": "call ss.capability-dg",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='`$ss.capability-dg`' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 955.0239753723145,
        "y": 2102.1984367370605,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "ec42b6b9.dbdf3",
                "851c8a58.d7cd5"
            ]
        ]
    },
    {
        "id": "553199b3.73b08",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'Encountered error from capability: '+ $ss.capability-dg + ', with error: '+ $error-message`\" />\n",
        "comments": "",
        "x": 1522.5714149475098,
        "y": 2356.174892425537,
        "z": "8ba3ad87.52de7",
        "wires": []
    },
    {
        "id": "ec42b6b9.dbdf3",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1139.9164848327637,
        "y": 2102.198497772217,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "6ceda655.367df"
            ]
        ]
    },
    {
        "id": "6ceda655.367df",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1303.190601348877,
        "y": 2101.508038520813,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "553199b3.73b08",
                "1df2ff6a.a18e31",
                "e5c92abf.e600c8",
                "30b8a226.f03d9e",
                "29ed7a39.07166e"
            ]
        ]
    },
    {
        "id": "e5c92abf.e600c8",
        "type": "execute",
        "name": "generate ss-vnf url replace service-instance-id",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.ss-vnf-assignments`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.ss-vnf-url\"/>\n    <parameter name=\"target\" value=\"{service-instance-id}\"/>\n    <parameter name=\"replacement\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.service-instance-id`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1626.5236930847168,
        "y": 2155.024598121643,
        "z": "8ba3ad87.52de7",
        "wires": [
            []
        ]
    },
    {
        "id": "29ed7a39.07166e",
        "type": "execute",
        "name": "execute RestApiCallNode - PUT vnf",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.ss.vnf.templatefile`\" />\n    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.ss-vnf-url`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-ss-vnf\" />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1595.9879875183105,
        "y": 2257.8818197250366,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "a37812a9.dd6dc",
                "a34a6f12.651c28",
                "65d92cc4.8147d4"
            ]
        ]
    },
    {
        "id": "a37812a9.dd6dc",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1870.5816535949707,
        "y": 2311.87997341156,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "fcbc81bc.fa62d"
            ]
        ]
    },
    {
        "id": "a34a6f12.651c28",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1863.0102882385254,
        "y": 2258.3799934387207,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "fcbc81bc.fa62d"
            ]
        ]
    },
    {
        "id": "65d92cc4.8147d4",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1866.7602806091309,
        "y": 2204.737091064453,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "d7124c2d.79798"
            ]
        ]
    },
    {
        "id": "d7124c2d.79798",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2043.1305122375488,
        "y": 2204.643572330475,
        "z": "8ba3ad87.52de7",
        "wires": [
            []
        ]
    },
    {
        "id": "fcbc81bc.fa62d",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2065.1426124572754,
        "y": 2258.024248123169,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "fce29bde.77ef4"
            ]
        ]
    },
    {
        "id": "fce29bde.77ef4",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Failed to persist self-serve vnf assignments during assign in MD-SAL\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2283.428379058838,
        "y": 2258.1671113967896,
        "z": "8ba3ad87.52de7",
        "wires": [
            []
        ]
    },
    {
        "id": "1df2ff6a.a18e31",
        "type": "set",
        "name": "set vf data for restapi-call-node",
        "xml": "<set>\n<parameter name='vf.vnf-id'\n    value='`$service-data.vnfs.vnf[$vnf-index].vnf-id`' />\n<parameter name='vf.vnf-data.sdnc-request-header.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.sdnc-request-header.`' />\n<parameter name='vf.vnf-data.request-information.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.request-information.`' />\n<parameter name='vf.vnf-data.service-information.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.`' />\n<parameter name='vf.vnf-data.vnf-information.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-information.`' />\n<parameter name='vf.vnf-data.vnf-topology.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.`' />\n<parameter name='vf.vnf-data.vnf-level-oper-status.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-level-oper-status.`' />\n<parameter name='vf.vnf-data.vnf-request-input.vnf-input-parameters.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-request-input.vnf-input-parameters.`' />\n<parameter name='vf.vnf-data.vnf-request-input.request-version'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-request-input.request-version`' />\n<parameter name='vf.vnf-data.vnf-request-input.vnf-name'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-request-input.vnf-name`' />\n<parameter name='vf.vnf-data.vnf-request-input.tenant'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-request-input.tenant`' />\n<parameter name='vf.vnf-data.vnf-request-input.aic-cloud-region'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-request-input.aic-cloud-region`' />\n<parameter name='vf.vnf-data.vnf-request-input.aic-clli'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-request-input.aic-clli`' />",
        "comments": "",
        "x": 1578.9759941101074,
        "y": 2101.119110107422,
        "z": "8ba3ad87.52de7",
        "wires": []
    },
    {
        "id": "30b8a226.f03d9e",
        "type": "execute",
        "name": "generate ss-vnf url - replace vnf-id",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.ss-vnf-url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.ss-vnf-url\"/>\n    <parameter name=\"target\" value=\"{vnf-id}\"/>\n    <parameter name=\"replacement\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-id`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1590.809398651123,
        "y": 2205.833366394043,
        "z": "8ba3ad87.52de7",
        "wires": [
            []
        ]
    },
    {
        "id": "c4d59370.0ee078",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/ss-vnf-assign.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 313.7816848754883,
        "y": 3308.920946121216,
        "z": "8ba3ad87.52de7",
        "wires": [
            []
        ]
    },
    {
        "id": "7c903fbd.7c4c68",
        "type": "for",
        "name": "foreach vnf-parameters-data.param[]",
        "xml": "<for index='i' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 810.0358200073242,
        "y": 2997.5477294921875,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "fd6b6146.136638"
            ]
        ]
    },
    {
        "id": "fd6b6146.136638",
        "type": "switchNode",
        "name": "switch param[$i].name",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$i].name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1088.7858200073242,
        "y": 2997.047700881958,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "a3e84bac.05e7b"
            ]
        ]
    },
    {
        "id": "a3e84bac.05e7b",
        "type": "other",
        "name": "vnf_name",
        "xml": "<outcome value='vnf_name'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1288.7858352661133,
        "y": 2996.7977294921875,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "ad6fb1d5.9c6c4"
            ]
        ]
    },
    {
        "id": "b70f0bd9.868908",
        "type": "save",
        "name": "update generic-vnf.vnf-name",
        "xml": "<update plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"generic-vnf\"\n\t\tkey=\"generic-vnf.vnf-id = $service-data.vnfs.vnf[$vnf-index].vnf-id \"\n\tpfx=\"tmp.aai.update.vnf\" >\n<parameter name=\"vnf-name\" value='`$tmp.ss.vnf-name`' />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1711.1191101074219,
        "y": 3047.630904197693,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "6f9ed00b.d3042",
                "b51e2b05.8c0a1"
            ]
        ]
    },
    {
        "id": "c8a9dfa9.41b6e",
        "type": "set",
        "name": "set tmp.ss.vnf-name",
        "xml": "<set>\n<parameter name='tmp.ss.vnf-name' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$i].value`' />\n",
        "comments": "",
        "x": 1684.0357627868652,
        "y": 2996.1309814453125,
        "z": "8ba3ad87.52de7",
        "wires": []
    },
    {
        "id": "6c8c3e5f.e28788",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 1649.8690567016602,
        "y": 3150.547571182251,
        "z": "8ba3ad87.52de7",
        "wires": []
    },
    {
        "id": "ad6fb1d5.9c6c4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1455.535831451416,
        "y": 2996.7977294921875,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "c8a9dfa9.41b6e",
                "6c8c3e5f.e28788",
                "b70f0bd9.868908"
            ]
        ]
    },
    {
        "id": "6f9ed00b.d3042",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1929.8690948486328,
        "y": 3047.1308736801147,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "8ede27bb.0b8da"
            ]
        ]
    },
    {
        "id": "b51e2b05.8c0a1",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1936.1191062927246,
        "y": 3098.88090801239,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "4f3a19e2.82e2a"
            ]
        ]
    },
    {
        "id": "1b8e6aad.ab83bd",
        "type": "set",
        "name": "set ss.capability-type = vnf",
        "xml": "<set>\n<parameter name='ss.capability-type' value='vnf' />\n",
        "comments": "",
        "x": 366.39292907714844,
        "y": 1323.5357942581177,
        "z": "8ba3ad87.52de7",
        "wires": []
    },
    {
        "id": "e9b6ed29.4456e8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 839.5356597900391,
        "y": 1380.892903327942,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "cbe4e26e.f21da",
                "9be46088.12e468"
            ]
        ]
    },
    {
        "id": "851c8a58.d7cd5",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1151.5000343322754,
        "y": 2426.7500381469727,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "145901af.97c366"
            ]
        ]
    },
    {
        "id": "145901af.97c366",
        "type": "set",
        "name": "set capability-dg to ASSIGNED",
        "xml": "<set>\n<parameter name='`$ss.capability-dg`' value='ASSIGNED' />\n",
        "comments": "",
        "x": 1377.2500190734863,
        "y": 2426.5000104904175,
        "z": "8ba3ad87.52de7",
        "wires": []
    },
    {
        "id": "4191b05e.8662d8",
        "type": "for",
        "name": "for each existing VNF",
        "xml": "<for index='idx' start='0' end='`$service-data.vnfs.vnf_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 988.5357284545898,
        "y": 300.78579807281494,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "51e8295c.af575"
            ]
        ]
    },
    {
        "id": "51e8295c.af575",
        "type": "switchNode",
        "name": "switch vnf-id: input vs service-data",
        "xml": "<switch test='`$vnf-topology-operation-input.vnf-information.vnf-id == $service-data.vnfs.vnf[$idx].vnf-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1265.821434020996,
        "y": 300.85728549957275,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "4b4b7bc8.252bbc"
            ]
        ]
    },
    {
        "id": "4b4b7bc8.252bbc",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1488.6072006225586,
        "y": 300.4287576675415,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "c653243b.ee75a8"
            ]
        ]
    },
    {
        "id": "c653243b.ee75a8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1621.0714530944824,
        "y": 300.46431827545166,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "9eb3ad98.107c2",
                "f839418.223ce4",
                "a5524b49.39e9"
            ]
        ]
    },
    {
        "id": "9eb3ad98.107c2",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 1788.964241027832,
        "y": 386.4642963409424,
        "z": "8ba3ad87.52de7",
        "wires": []
    },
    {
        "id": "7971ac53.11f984",
        "type": "set",
        "name": "set new vnf_length = 1",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf_length' value='1' />\n",
        "comments": "",
        "x": 999.142951965332,
        "y": 223.82148838043213,
        "z": "8ba3ad87.52de7",
        "wires": []
    },
    {
        "id": "f839418.223ce4",
        "type": "set",
        "name": "set vnf-index = idx",
        "xml": "<set>\n<parameter name='vnf-index' value='`$idx`' />\n",
        "comments": "",
        "x": 1819.5357971191406,
        "y": 343.2499752044678,
        "z": "8ba3ad87.52de7",
        "wires": []
    },
    {
        "id": "6e18961d.55c188",
        "type": "set",
        "name": "set capability-dg to ASSIGNED",
        "xml": "<set>\n<parameter name='`$ss.capability-dg`' value='ASSIGNED' />\n",
        "comments": "",
        "x": 989.5000228881836,
        "y": 2001.416543006897,
        "z": "8ba3ad87.52de7",
        "wires": []
    },
    {
        "id": "522e1797.3ffc4",
        "type": "switchNode",
        "name": "switch tmp.ss.vnf-name",
        "xml": "<switch test='`$tmp.ss.vnf-name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 768.6666412353516,
        "y": 3211.916880607605,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "1457f24e.bf2a5e"
            ]
        ]
    },
    {
        "id": "1457f24e.bf2a5e",
        "type": "other",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 976.9999313354492,
        "y": 3211.9169340133667,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "2e3e9b24.d21234"
            ]
        ]
    },
    {
        "id": "2e3e9b24.d21234",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'generic-vnf not updated because vnf-name param.value is null; '+ $error-message`\" />\n",
        "comments": "",
        "x": 1150.3332443237305,
        "y": 3211.9169340133667,
        "z": "8ba3ad87.52de7",
        "wires": []
    },
    {
        "id": "2fca8c63.472cd4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 524.5000152587891,
        "y": 2997.9167919158936,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "7c903fbd.7c4c68",
                "522e1797.3ffc4"
            ]
        ]
    },
    {
        "id": "8ede27bb.0b8da",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'Failed to update generic-vnf.vnf-name in AnAI with vnf-name=' + $tmp.ss.vnf-name`\" />\n",
        "comments": "",
        "x": 2106.16646194458,
        "y": 3046.9166402816772,
        "z": "8ba3ad87.52de7",
        "wires": []
    },
    {
        "id": "4f3a19e2.82e2a",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'Failed to update generic-vnf.vnf-name because generic-vnf with vnf-name=' + $tmp.ss.vnf-name + ' is not found in AAI'`\" />\n",
        "comments": "",
        "x": 2108.1666259765625,
        "y": 3098.583394050598,
        "z": "8ba3ad87.52de7",
        "wires": []
    },
    {
        "id": "e256a400.2e1b6",
        "type": "set",
        "name": "set is-new-vnf = true",
        "xml": "<set>\n<parameter name='is-new-vnf' value='true' />\n",
        "comments": "",
        "x": 352.3929214477539,
        "y": 160.32144355773926,
        "z": "8ba3ad87.52de7",
        "wires": []
    },
    {
        "id": "a5524b49.39e9",
        "type": "set",
        "name": "set is-new-vnf = false",
        "xml": "<set>\n<parameter name='is-new-vnf' value='false' />\n",
        "comments": "",
        "x": 1827.5714836120605,
        "y": 299.9643201828003,
        "z": "8ba3ad87.52de7",
        "wires": []
    },
    {
        "id": "c058e20d.d460a",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 778.7500228881836,
        "y": 300.2500162124634,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "4191b05e.8662d8",
                "f4690df1.5b47e"
            ]
        ]
    },
    {
        "id": "f4690df1.5b47e",
        "type": "switchNode",
        "name": "switch is-new-vnf",
        "xml": "<switch test='`$is-new-vnf`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 976.2500152587891,
        "y": 386.8214178085327,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "401898b2.946b4"
            ]
        ]
    },
    {
        "id": "401898b2.946b4",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1156.1071701049805,
        "y": 386.39286518096924,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "71aa4361.5f4e24"
            ]
        ]
    },
    {
        "id": "52cd617b.7d1b",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 794.2499923706055,
        "y": 178.99999713897705,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "2ae6dc0a.6be91c",
                "7971ac53.11f984"
            ]
        ]
    },
    {
        "id": "b72b4cfe.211248",
        "type": "other",
        "name": "0",
        "xml": "<outcome value='0'>\n",
        "comments": "",
        "outputs": 1,
        "x": 638.7499923706055,
        "y": 238.74999904632568,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "52cd617b.7d1b"
            ]
        ]
    },
    {
        "id": "a7e176e3.0065f8",
        "type": "switchNode",
        "name": "switch is-new-vnf",
        "xml": "<switch test='`$is-new-vnf`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 340.25000381469727,
        "y": 554.2500057220459,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "70ca9f58.0fa3e8"
            ]
        ]
    },
    {
        "id": "70ca9f58.0fa3e8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 520.1071586608887,
        "y": 553.8214530944824,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "b7131430.470988"
            ]
        ]
    },
    {
        "id": "740593b3.0b06c4",
        "type": "set",
        "name": "set new vnf_length++",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf_length' value='`$service-data.vnfs.vnf_length + 1`' />\n",
        "comments": "",
        "x": 1504,
        "y": 433,
        "z": "8ba3ad87.52de7",
        "wires": []
    },
    {
        "id": "71aa4361.5f4e24",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1301.9999771118164,
        "y": 385.99996185302734,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "740593b3.0b06c4",
                "c6d8b54d.b6884"
            ]
        ]
    },
    {
        "id": "c6d8b54d.b6884",
        "type": "set",
        "name": "set vnf-index = vnf_length",
        "xml": "<set>\n<parameter name='vnf-index' value='`$service-data.vnfs.vnf_length`' />\n",
        "comments": "",
        "x": 1513.4999809265137,
        "y": 385.49996185302734,
        "z": "8ba3ad87.52de7",
        "wires": []
    },
    {
        "id": "25e531f1.a875d6",
        "type": "switchNode",
        "name": "switch self-serve-generate-name == ASSIGNED",
        "xml": "<switch test=\"`$self-serve-generate-name == 'ASSIGNED'`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 442.71429443359375,
        "y": 2589.4285287857056,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "2612d94.88839a6",
                "e568e499.119768"
            ]
        ]
    },
    {
        "id": "2612d94.88839a6",
        "type": "success",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 719.7499542236328,
        "y": 2615.8570976257324,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "23b241b9.0e5dfe"
            ]
        ]
    },
    {
        "id": "e568e499.119768",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 717.8571815490723,
        "y": 2565.6785945892334,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "8384f4aa.8f00c8"
            ]
        ]
    },
    {
        "id": "37e4220a.fc7366",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"`'SS: self-serve-generate-name status: ' + $self-serve-generate-name`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1067.2857627868652,
        "y": 2565.6787672042847,
        "z": "8ba3ad87.52de7",
        "wires": [
            []
        ]
    },
    {
        "id": "8384f4aa.8f00c8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 883.7143058776855,
        "y": 2565.678713117327,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "37e4220a.fc7366",
                "3ea1fcb6.e9272c"
            ]
        ]
    },
    {
        "id": "3ea1fcb6.e9272c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'AAI Put is being skipped because NOT all capability components have SUCCESS status; '+ $error-message`\" />\n",
        "comments": "",
        "x": 1088.5714530944824,
        "y": 2609.1073207855225,
        "z": "8ba3ad87.52de7",
        "wires": []
    },
    {
        "id": "6754f1cd.3121a8",
        "type": "success",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1039.6428184509277,
        "y": 2771.3213834762573,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "2fca8c63.472cd4"
            ]
        ]
    },
    {
        "id": "7da85c68.171724",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1037.7500457763672,
        "y": 2721.1428804397583,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "2667862e.5caba2"
            ]
        ]
    },
    {
        "id": "321e4d9c.2b800a",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"`'SS: self-serve-unresolved-composite-data: ' + $self-serve-unresolved-composite-data`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1387.1786270141602,
        "y": 2721.1430530548096,
        "z": "8ba3ad87.52de7",
        "wires": [
            []
        ]
    },
    {
        "id": "2667862e.5caba2",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1203.6071701049805,
        "y": 2721.142998967852,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "321e4d9c.2b800a",
                "218205d7.340b7a"
            ]
        ]
    },
    {
        "id": "218205d7.340b7a",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'AAI Put is being skipped because NOT all capability components have SUCCESS status; '+ $error-message`\" />\n",
        "comments": "",
        "x": 1408.4643173217773,
        "y": 2764.5716066360474,
        "z": "8ba3ad87.52de7",
        "wires": []
    },
    {
        "id": "23b241b9.0e5dfe",
        "type": "switchNode",
        "name": "switch self-serve-unresolved-composite-data == ASSIGNED or NULL",
        "xml": "<switch test=\"`$self-serve-unresolved-composite-data == 'ASSIGNED' or $self-serve-unresolved-composite-data == ''`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 689.6428833007812,
        "y": 2744.071346282959,
        "z": "8ba3ad87.52de7",
        "wires": [
            [
                "7da85c68.171724",
                "6754f1cd.3121a8"
            ]
        ]
    }
]