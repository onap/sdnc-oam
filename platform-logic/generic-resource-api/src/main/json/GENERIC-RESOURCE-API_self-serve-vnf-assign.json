[
    {
        "id": "4ab7a500.742b84",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 91,
        "y": 42,
        "z": "46985608.45d728",
        "wires": [
            [
                "41557c8.3b7a284"
            ]
        ]
    },
    {
        "id": "ff348586.8270b8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 121.4761962890625,
        "y": 164.2777862548828,
        "z": "46985608.45d728",
        "wires": [
            [
                "cd67af0a.d11ae",
                "f96dad58.53729",
                "7c74e6bd.a00fb8",
                "aee6c595.a3c2e8",
                "3e45c56a.355fba",
                "9470b636.3af698",
                "a48cbf50.8520d",
                "f9268c4a.ab9328",
                "818a22c.a82fbe"
            ]
        ]
    },
    {
        "id": "37b4339e.be9ca4",
        "type": "method",
        "name": "method self-serve-vnf-assign",
        "xml": "<method rpc='self-serve-vnf-assign' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 207.76190948486328,
        "y": 96.70635509490967,
        "z": "46985608.45d728",
        "wires": [
            [
                "ff348586.8270b8"
            ]
        ]
    },
    {
        "id": "41557c8.3b7a284",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 366.23819732666016,
        "y": 42.19049263000488,
        "z": "46985608.45d728",
        "wires": [
            [
                "37b4339e.be9ca4"
            ]
        ]
    },
    {
        "id": "f96dad58.53729",
        "type": "switchNode",
        "name": "switch vnf-parameters-data.param_length",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 409.6786575317383,
        "y": 1384.5120058059692,
        "z": "46985608.45d728",
        "wires": [
            [
                "1a76b7c7.f60c58"
            ]
        ]
    },
    {
        "id": "1a76b7c7.f60c58",
        "type": "other",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 671.6786880493164,
        "y": 1384.5120058059692,
        "z": "46985608.45d728",
        "wires": [
            [
                "8db9b3e7.403cc8"
            ]
        ]
    },
    {
        "id": "4d6ae8ce.a99a2",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:self-serve-ra-assignment",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='self-serve-vnf-ra-assignment' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1186.9643478393555,
        "y": 1434.0834369659424,
        "z": "46985608.45d728",
        "wires": [
            [
                "5f59d54a.3b7624"
            ]
        ]
    },
    {
        "id": "552faac1.e8b50c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'Failed to get RA assignments: ' + $error-message`\" />\n",
        "comments": "",
        "x": 1658.6785888671875,
        "y": 1433.6548404693604,
        "z": "46985608.45d728",
        "wires": []
    },
    {
        "id": "80370664.c86fd",
        "type": "for",
        "name": "foreach vnf-parameters-data.param[]",
        "xml": "<for index='pidx' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 634.8574600219727,
        "y": 1752.0120840072632,
        "z": "46985608.45d728",
        "wires": [
            [
                "8260f760.79336",
                "2346f507.b81d6a"
            ]
        ]
    },
    {
        "id": "cd67af0a.d11ae",
        "type": "set",
        "name": "set ss.capability.execution-order[]",
        "xml": "<set>\n<parameter name='ss.capability.execution-order[0]' value='generate-name' />\n<parameter name='ss.capability.execution-order[1]' value='alts-entitlement-assign' />\n<parameter name='ss.capability.execution-order[2]' value='alts-license-assign' />\n<parameter name='ss.capability.execution-order[3]' value='vlan-tag-assign' />\n<parameter name='ss.capability.execution-order[4]' value='mS-vlan-tag-assign' />\n<parameter name='ss.capability.execution-order[5]' value='eipam-ip-assign' />\n<parameter name='ss.capability.execution-order[6]' value='netbox-ip-assign' />\n<parameter name='ss.capability.execution-order[7]' value='eipam-create-pool\"' />\n<parameter name='ss.capability.execution-order[8]' value='mac-address-assign' />\n<parameter name='ss.capability.execution-order[9]' value='mS-mac-address-assign' />\n<parameter name='ss.capability.execution-order[10]' value='create-vpe-pool' />\n<parameter name='ss.capability.execution-order[11]' value='unresolved-composite-data' />\n<parameter name='ss.capability.execution-order[12]' value='aai-vnf-put' />\n<parameter name='ss.capability.execution-order_length' value='13' />\n",
        "comments": "",
        "x": 383.52384185791016,
        "y": 1223.0001401901245,
        "z": "46985608.45d728",
        "wires": []
    },
    {
        "id": "7c74e6bd.a00fb8",
        "type": "for",
        "name": "foreach capability[]",
        "xml": "<for index='cidx' start='0' end='`$ss.capability.execution-order_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 338.9286880493164,
        "y": 1492.1191005706787,
        "z": "46985608.45d728",
        "wires": [
            [
                "c4f31511.d9287",
                "4357e5bb.501284",
                "80370664.c86fd",
                "ee8b6246.5c29f"
            ]
        ]
    },
    {
        "id": "2346f507.b81d6a",
        "type": "switchNode",
        "name": "switch capability-name",
        "xml": "<switch test='`$ss.capability-name == $tmp.param.capability-name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 939.2502822875977,
        "y": 1797.6548767089844,
        "z": "46985608.45d728",
        "wires": [
            [
                "4293f2a.d82680c"
            ]
        ]
    },
    {
        "id": "4293f2a.d82680c",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1202.7502822875977,
        "y": 1797.9048767089844,
        "z": "46985608.45d728",
        "wires": [
            [
                "e24f05f3.ca0498"
            ]
        ]
    },
    {
        "id": "5f59d54a.3b7624",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1504.5356941223145,
        "y": 1433.5120306015015,
        "z": "46985608.45d728",
        "wires": [
            [
                "552faac1.e8b50c"
            ]
        ]
    },
    {
        "id": "c4f31511.d9287",
        "type": "set",
        "name": "set ss.capability-name",
        "xml": "<set>\n<parameter name='ss.capability-name' value='`$ss.capability.execution-order[$cidx]`' />\n<!--\nss.capability.execution-order[]\n-->",
        "comments": "",
        "x": 595.2857437133789,
        "y": 1492.0715522766113,
        "z": "46985608.45d728",
        "wires": []
    },
    {
        "id": "8260f760.79336",
        "type": "set",
        "name": "tmp.param.capability-name",
        "xml": "<set>\n<parameter name='tmp.param.capability-name' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$pidx].resource-resolution-data.capability-name`' />\n",
        "comments": "",
        "x": 950.607307434082,
        "y": 1752.2620868682861,
        "z": "46985608.45d728",
        "wires": []
    },
    {
        "id": "4357e5bb.501284",
        "type": "set",
        "name": "set ss.capability.action = assign",
        "xml": "<set>\n<parameter name='ss.capability-action' value='assign' />\n",
        "comments": "",
        "x": 623.999885559082,
        "y": 1538.988136291504,
        "z": "46985608.45d728",
        "wires": []
    },
    {
        "id": "ee8b6246.5c29f",
        "type": "set",
        "name": "set capability-dg with 'self-serve-' + capability-name",
        "xml": "<set>\n<parameter name='ss.capability-dg' value=\"`'self-serve-' + $ss.capability.execution-order[$cidx]`\" />\n",
        "comments": "",
        "x": 686.5119781494141,
        "y": 1592.4643802642822,
        "z": "46985608.45d728",
        "wires": []
    },
    {
        "id": "aee6c595.a3c2e8",
        "type": "set",
        "name": "set sdnc-generated-cloud-resources = true",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.sdnc-generated-cloud-resources' value='true' />\n",
        "comments": "",
        "x": 412.4881362915039,
        "y": 1276.7501487731934,
        "z": "46985608.45d728",
        "wires": []
    },
    {
        "id": "9b585f6f.16442",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 668.928539276123,
        "y": 557.4643030166626,
        "z": "46985608.45d728",
        "wires": [
            [
                "a94d8d98.d42658",
                "3cb78e8d.74e962",
                "c8a900f1.9777a8",
                "78095309.0dc25c",
                "be27a7ea.5a181",
                "1b64f08.bab119",
                "2ec1f112.0da5c6",
                "6e55cc0d.b1517c",
                "4f11607d.71a34"
            ]
        ]
    },
    {
        "id": "a94d8d98.d42658",
        "type": "set",
        "name": "set vnf-topology data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.vnf-id'\n value='`$vnf-topology-operation-input.vnf-information.vnf-id`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.vnf-type'\n value='`$vnf-topology-operation-input.vnf-information.vnf-type`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.nf-type'\n value='`$db.vf-model.nf-type`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.nf-role'\n value='`$db.vf-model.nf-role`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.nf-function'\n value='`$db.vf-model.nf-function`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.nf-code'\n value='`$db.vf-model.nf-code`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.tenant'\n value='`$vnf-topology-operation-input.vnf-request-input.tenant`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.aic-cloud-region'\n value='`$vnf-topology-operation-input.vnf-request-input.aic-cloud-region`' />\n \n",
        "comments": "",
        "x": 884.4284820556641,
        "y": 558.523811340332,
        "z": "46985608.45d728",
        "wires": []
    },
    {
        "id": "c4c6fe75.ec2388",
        "type": "set",
        "name": "set vnf-parameters-data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.'\n  value='vnf-topology-operation-input.vnf-request-input.vnf-input-parameters.' />\n",
        "comments": "",
        "x": 1077.9645767211914,
        "y": 1384.3808345794678,
        "z": "46985608.45d728",
        "wires": []
    },
    {
        "id": "c8a900f1.9777a8",
        "type": "set",
        "name": "set vnf-level-oper-status to PendingCreate",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-level-oper-status.order-status' value='PendingCreate' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-level-oper-status.last-rpc-action' value='`$vnf-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-level-oper-status.last-action' value='`$vnf-topology-operation-input.request-information.request-action`' />\n",
        "comments": "",
        "x": 949.7184371948242,
        "y": 1132.504020690918,
        "z": "46985608.45d728",
        "wires": []
    },
    {
        "id": "3cb78e8d.74e962",
        "type": "set",
        "name": "copy input data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.sdnc-request-header.' \n\tvalue='$vnf-topology-operation-input.sdnc-request-header.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.request-information.' \n\tvalue='$vnf-topology-operation-input.request-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.' \n\tvalue='$vnf-topology-operation-input.service-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-information.' \n\tvalue='$vnf-topology-operation-input.vnf-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-request-input.' \n\tvalue='$vnf-topology-operation-input.vnf-request-input.' />\n",
        "comments": "",
        "x": 867.0953521728516,
        "y": 1082.3096599578857,
        "z": "46985608.45d728",
        "wires": []
    },
    {
        "id": "fa0373bc.4d0538",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-invariant-uuid'\n  value='`$db.vf-model.invariant-uuid`' />\n",
        "comments": "",
        "x": 1281.4286727905273,
        "y": 670.8810405731201,
        "z": "46985608.45d728",
        "wires": []
    },
    {
        "id": "78095309.0dc25c",
        "type": "switchNode",
        "name": "switch input model-invariant-uuid",
        "xml": "<switch test='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-invariant-uuid`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 922.2857475280762,
        "y": 693.7054843902588,
        "z": "46985608.45d728",
        "wires": [
            [
                "9bba5aea.a57f48",
                "4552d186.b6ea3"
            ]
        ]
    },
    {
        "id": "9bba5aea.a57f48",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 1130.9524192810059,
        "y": 670.8484477996826,
        "z": "46985608.45d728",
        "wires": [
            [
                "fa0373bc.4d0538"
            ]
        ]
    },
    {
        "id": "4552d186.b6ea3",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1132.381015777588,
        "y": 715.1340389251709,
        "z": "46985608.45d728",
        "wires": [
            [
                "28257c6c.608bec"
            ]
        ]
    },
    {
        "id": "28257c6c.608bec",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-invariant-uuid'\n  value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-invariant-uuid`' />\n",
        "comments": "",
        "x": 1286.6667518615723,
        "y": 714.5626111030579,
        "z": "46985608.45d728",
        "wires": []
    },
    {
        "id": "ad8d3d3c.38aab8",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-uuid'\n  value='`$db.vf-model.uuid`' />\n",
        "comments": "",
        "x": 1282.3809432983398,
        "y": 759.419716835022,
        "z": "46985608.45d728",
        "wires": []
    },
    {
        "id": "be27a7ea.5a181",
        "type": "switchNode",
        "name": "switch input model-uuid",
        "xml": "<switch test='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-uuid`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 891.9047660827637,
        "y": 782.2442216873169,
        "z": "46985608.45d728",
        "wires": [
            [
                "70c0f30c.080ebc",
                "e1067bc0.09616"
            ]
        ]
    },
    {
        "id": "70c0f30c.080ebc",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 1131.9047393798828,
        "y": 759.3871536254883,
        "z": "46985608.45d728",
        "wires": [
            [
                "ad8d3d3c.38aab8"
            ]
        ]
    },
    {
        "id": "e1067bc0.09616",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1133.3333358764648,
        "y": 803.6727447509766,
        "z": "46985608.45d728",
        "wires": [
            [
                "ed31c003.6e5ff8"
            ]
        ]
    },
    {
        "id": "ed31c003.6e5ff8",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-uuid'\n  value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-uuid`' />\n",
        "comments": "",
        "x": 1287.6190719604492,
        "y": 803.1013169288635,
        "z": "46985608.45d728",
        "wires": []
    },
    {
        "id": "ea4c9359.636478",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-version'\n  value='`$db.vf-model.version`' />\n",
        "comments": "",
        "x": 1279.5238761901855,
        "y": 848.2769241333008,
        "z": "46985608.45d728",
        "wires": []
    },
    {
        "id": "1b64f08.bab119",
        "type": "switchNode",
        "name": "switch input model-version",
        "xml": "<switch test='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-version`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 903.0476379394531,
        "y": 871.1013689041138,
        "z": "46985608.45d728",
        "wires": [
            [
                "67f74f68.a2256",
                "12fefdff.fad13a"
            ]
        ]
    },
    {
        "id": "67f74f68.a2256",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 1129.047622680664,
        "y": 848.2443313598633,
        "z": "46985608.45d728",
        "wires": [
            [
                "ea4c9359.636478"
            ]
        ]
    },
    {
        "id": "12fefdff.fad13a",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1130.476219177246,
        "y": 892.5299224853516,
        "z": "46985608.45d728",
        "wires": [
            [
                "f3b92182.211f8"
            ]
        ]
    },
    {
        "id": "f3b92182.211f8",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-version'\n  value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-version`' />\n",
        "comments": "",
        "x": 1284.7619552612305,
        "y": 891.9584946632385,
        "z": "46985608.45d728",
        "wires": []
    },
    {
        "id": "e1b96368.4917",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-name'\n  value='`$db.vf-model.name`' />\n",
        "comments": "",
        "x": 1279.5238761901855,
        "y": 935.4197463989258,
        "z": "46985608.45d728",
        "wires": []
    },
    {
        "id": "2ec1f112.0da5c6",
        "type": "switchNode",
        "name": "switch input model-name",
        "xml": "<switch test='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 898.0476379394531,
        "y": 958.2441911697388,
        "z": "46985608.45d728",
        "wires": [
            [
                "1660517c.cccf6f",
                "ed71187f.5311e"
            ]
        ]
    },
    {
        "id": "1660517c.cccf6f",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 1129.047622680664,
        "y": 935.3871536254883,
        "z": "46985608.45d728",
        "wires": [
            [
                "e1b96368.4917"
            ]
        ]
    },
    {
        "id": "ed71187f.5311e",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1130.476219177246,
        "y": 979.6727447509766,
        "z": "46985608.45d728",
        "wires": [
            [
                "1b3b7bf2.898ee4"
            ]
        ]
    },
    {
        "id": "1b3b7bf2.898ee4",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-name'\n  value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-name`' />\n",
        "comments": "",
        "x": 1284.7619552612305,
        "y": 979.1013169288635,
        "z": "46985608.45d728",
        "wires": []
    },
    {
        "id": "6e55cc0d.b1517c",
        "type": "set",
        "name": "set vnf-id",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-id'\n   value='`$vnf-topology-operation-input.vnf-information.vnf-id`' />\n",
        "comments": "",
        "x": 848.4047088623047,
        "y": 610.0388488769531,
        "z": "46985608.45d728",
        "wires": []
    },
    {
        "id": "4f11607d.71a34",
        "type": "set",
        "name": "set model-customization-uuid",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-customization-uuid'\n  value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-customization-uuid`' />\n",
        "comments": "",
        "x": 910.8332252502441,
        "y": 1031.0863952636719,
        "z": "46985608.45d728",
        "wires": []
    },
    {
        "id": "f9268c4a.ab9328",
        "type": "switchNode",
        "name": "switch service-data.vnfs.vnf_length",
        "xml": "<switch test='`$service-data.vnfs.vnf_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 395.08329010009766,
        "y": 244.42850017547607,
        "z": "46985608.45d728",
        "wires": [
            [
                "eb071fdf.798b28",
                "9f911665.8875c8",
                "80f3305a.6722d8"
            ]
        ]
    },
    {
        "id": "eb071fdf.798b28",
        "type": "other",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 637.2976760864258,
        "y": 182.98793125152588,
        "z": "46985608.45d728",
        "wires": [
            [
                "98b86e0.9a1f69"
            ]
        ]
    },
    {
        "id": "1b8d17c2.822de",
        "type": "set",
        "name": "set vnf-index=0",
        "xml": "<set>\n<parameter name='vnf-index' value='0' />\n",
        "comments": "",
        "x": 972.583381652832,
        "y": 182.48800563812256,
        "z": "46985608.45d728",
        "wires": []
    },
    {
        "id": "9f911665.8875c8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 638.476203918457,
        "y": 304.607120513916,
        "z": "46985608.45d728",
        "wires": [
            [
                "f865c6ab.95d9"
            ]
        ]
    },
    {
        "id": "e24f05f3.ca0498",
        "type": "switchNode",
        "name": "switch resource-resolution-data.status",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$pidx].resource-resolution-data.status`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 474.01221084594727,
        "y": 2054.4722986221313,
        "z": "46985608.45d728",
        "wires": [
            [
                "782e269e.4b3fb",
                "8956ab0b.f8051"
            ]
        ]
    },
    {
        "id": "782e269e.4b3fb",
        "type": "other",
        "name": "PENDING",
        "xml": "<outcome value='PENDING'>\n",
        "comments": "",
        "outputs": 1,
        "x": 743.3694267272949,
        "y": 2054.472254753113,
        "z": "46985608.45d728",
        "wires": [
            [
                "5f47a6e6.b99ea8"
            ]
        ]
    },
    {
        "id": "8956ab0b.f8051",
        "type": "other",
        "name": "FAILED",
        "xml": "<outcome value='FAILED'>\n",
        "comments": "",
        "outputs": 1,
        "x": 736.9052429199219,
        "y": 2105.4365854263306,
        "z": "46985608.45d728",
        "wires": [
            [
                "5f47a6e6.b99ea8"
            ]
        ]
    },
    {
        "id": "5f47a6e6.b99ea8",
        "type": "call",
        "name": "call ss.capability-dg",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='`$ss.capability-dg`' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 952.0239753723145,
        "y": 2106.1984367370605,
        "z": "46985608.45d728",
        "wires": [
            [
                "598559d5.cea1e8"
            ]
        ]
    },
    {
        "id": "4e7061c4.a89b6",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'Encountered error from capability: '+ $ss.capability-dg + ', with error: '+ $error-message`\" />\n",
        "comments": "",
        "x": 1519.5714149475098,
        "y": 2360.174892425537,
        "z": "46985608.45d728",
        "wires": []
    },
    {
        "id": "598559d5.cea1e8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1136.9164848327637,
        "y": 2106.198497772217,
        "z": "46985608.45d728",
        "wires": [
            [
                "ec2a0d97.15565"
            ]
        ]
    },
    {
        "id": "ec2a0d97.15565",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1300.190601348877,
        "y": 2105.508038520813,
        "z": "46985608.45d728",
        "wires": [
            [
                "4e7061c4.a89b6",
                "3dc20fce.5456d8",
                "a95e3cc2.662a38",
                "3d72d3ce.0a1af4",
                "8021d858.4809f8"
            ]
        ]
    },
    {
        "id": "a95e3cc2.662a38",
        "type": "execute",
        "name": "generate ss-vnf url replace service-instance-id",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.ss-vnf-assignments`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.ss-vnf-url\"/>\n    <parameter name=\"target\" value=\"{service-instance-id}\"/>\n    <parameter name=\"replacement\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.service-instance-id`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1623.5236930847168,
        "y": 2159.024598121643,
        "z": "46985608.45d728",
        "wires": [
            []
        ]
    },
    {
        "id": "8021d858.4809f8",
        "type": "execute",
        "name": "execute RestApiCallNode - PUT vnf",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.ss.vnf.templatefile`\" />\n    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.ss-vnf-url`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-ss-vnf\" />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1592.9879875183105,
        "y": 2261.8818197250366,
        "z": "46985608.45d728",
        "wires": [
            [
                "730d5fdb.54ca48",
                "9d70e9bf.a1c8d8"
            ]
        ]
    },
    {
        "id": "730d5fdb.54ca48",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1867.5816535949707,
        "y": 2315.87997341156,
        "z": "46985608.45d728",
        "wires": [
            [
                "9daf4747.49e728"
            ]
        ]
    },
    {
        "id": "9d70e9bf.a1c8d8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1860.0102882385254,
        "y": 2262.3799934387207,
        "z": "46985608.45d728",
        "wires": [
            [
                "9daf4747.49e728"
            ]
        ]
    },
    {
        "id": "3dc20fce.5456d8",
        "type": "set",
        "name": "set vf data for restapi-call-node",
        "xml": "<set>\n<parameter name='vf.vnf-id'\n    value='`$service-data.vnfs.vnf[$vnf-index].vnf-id`' />\n<parameter name='vf.vnf-data.sdnc-request-header.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.sdnc-request-header.`' />\n<parameter name='vf.vnf-data.request-information.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.request-information.`' />\n<parameter name='vf.vnf-data.service-information.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.`' />\n<parameter name='vf.vnf-data.vnf-information.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-information.`' />\n<parameter name='vf.vnf-data.vnf-topology.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.`' />\n<parameter name='vf.vnf-data.vnf-level-oper-status.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-level-oper-status.`' />\n<parameter name='vf.vnf-data.vnf-request-input.vnf-input-parameters.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-request-input.vnf-input-parameters.`' />\n<parameter name='vf.vnf-data.vnf-request-input.request-version'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-request-input.request-version`' />\n<parameter name='vf.vnf-data.vnf-request-input.vnf-name'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-request-input.vnf-name`' />\n<parameter name='vf.vnf-data.vnf-request-input.tenant'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-request-input.tenant`' />\n<parameter name='vf.vnf-data.vnf-request-input.aic-cloud-region'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-request-input.aic-cloud-region`' />\n<parameter name='vf.vnf-data.vnf-request-input.aic-clli'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-request-input.aic-clli`' />",
        "comments": "",
        "x": 1575.9759941101074,
        "y": 2105.119110107422,
        "z": "46985608.45d728",
        "wires": []
    },
    {
        "id": "3d72d3ce.0a1af4",
        "type": "execute",
        "name": "generate ss-vnf url - replace vnf-id",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.ss-vnf-url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.ss-vnf-url\"/>\n    <parameter name=\"target\" value=\"{vnf-id}\"/>\n    <parameter name=\"replacement\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-id`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1587.809398651123,
        "y": 2209.833366394043,
        "z": "46985608.45d728",
        "wires": [
            []
        ]
    },
    {
        "id": "9470b636.3af698",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/ss-vnf-assign.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 339.35311126708984,
        "y": 2554.349449157715,
        "z": "46985608.45d728",
        "wires": [
            []
        ]
    },
    {
        "id": "3e45c56a.355fba",
        "type": "set",
        "name": "set ss.capability-type = vnf",
        "xml": "<set>\n<parameter name='ss.capability-type' value='vnf' />\n",
        "comments": "",
        "x": 363.39292907714844,
        "y": 1327.5357942581177,
        "z": "46985608.45d728",
        "wires": []
    },
    {
        "id": "8db9b3e7.403cc8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 836.5356597900391,
        "y": 1384.892903327942,
        "z": "46985608.45d728",
        "wires": [
            [
                "c4c6fe75.ec2388",
                "4d6ae8ce.a99a2"
            ]
        ]
    },
    {
        "id": "8252aebc.5df44",
        "type": "for",
        "name": "for each existing VNF",
        "xml": "<for index='idx' start='0' end='`$service-data.vnfs.vnf_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 985.5357284545898,
        "y": 304.78579807281494,
        "z": "46985608.45d728",
        "wires": [
            [
                "5cfbf2.554b941"
            ]
        ]
    },
    {
        "id": "5cfbf2.554b941",
        "type": "switchNode",
        "name": "switch vnf-id: input vs service-data",
        "xml": "<switch test='`$vnf-topology-operation-input.vnf-information.vnf-id == $service-data.vnfs.vnf[$idx].vnf-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1262.821434020996,
        "y": 304.85728549957275,
        "z": "46985608.45d728",
        "wires": [
            [
                "2128570f.c158f"
            ]
        ]
    },
    {
        "id": "2128570f.c158f",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1485.6072006225586,
        "y": 304.4287576675415,
        "z": "46985608.45d728",
        "wires": [
            [
                "eb37f3e2.ce392"
            ]
        ]
    },
    {
        "id": "eb37f3e2.ce392",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1618.0714530944824,
        "y": 304.46431827545166,
        "z": "46985608.45d728",
        "wires": [
            [
                "52f1ea82.cb4e34",
                "432297ea.ffb6e",
                "349806c9.e96892"
            ]
        ]
    },
    {
        "id": "52f1ea82.cb4e34",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 1785.964241027832,
        "y": 390.4642963409424,
        "z": "46985608.45d728",
        "wires": []
    },
    {
        "id": "550b07af.2d8658",
        "type": "set",
        "name": "set new vnf_length = 1",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf_length' value='1' />\n",
        "comments": "",
        "x": 996.142951965332,
        "y": 227.82148838043213,
        "z": "46985608.45d728",
        "wires": []
    },
    {
        "id": "432297ea.ffb6e",
        "type": "set",
        "name": "set vnf-index = idx",
        "xml": "<set>\n<parameter name='vnf-index' value='`$idx`' />\n",
        "comments": "",
        "x": 1816.5357971191406,
        "y": 347.2499752044678,
        "z": "46985608.45d728",
        "wires": []
    },
    {
        "id": "a48cbf50.8520d",
        "type": "set",
        "name": "set is-new-vnf = true",
        "xml": "<set>\n<parameter name='is-new-vnf' value='true' />\n",
        "comments": "",
        "x": 349.3929214477539,
        "y": 164.32144355773926,
        "z": "46985608.45d728",
        "wires": []
    },
    {
        "id": "349806c9.e96892",
        "type": "set",
        "name": "set is-new-vnf = false",
        "xml": "<set>\n<parameter name='is-new-vnf' value='false' />\n",
        "comments": "",
        "x": 1824.5714836120605,
        "y": 303.9643201828003,
        "z": "46985608.45d728",
        "wires": []
    },
    {
        "id": "f865c6ab.95d9",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 775.7500228881836,
        "y": 304.2500162124634,
        "z": "46985608.45d728",
        "wires": [
            [
                "8252aebc.5df44",
                "5f2b6eec.7ce8f8"
            ]
        ]
    },
    {
        "id": "5f2b6eec.7ce8f8",
        "type": "switchNode",
        "name": "switch is-new-vnf",
        "xml": "<switch test='`$is-new-vnf`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 973.2500152587891,
        "y": 390.8214178085327,
        "z": "46985608.45d728",
        "wires": [
            [
                "13b8df2d.2675e1"
            ]
        ]
    },
    {
        "id": "13b8df2d.2675e1",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1153.1071701049805,
        "y": 390.39286518096924,
        "z": "46985608.45d728",
        "wires": [
            [
                "e518d754.42ca68"
            ]
        ]
    },
    {
        "id": "98b86e0.9a1f69",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 791.2499923706055,
        "y": 182.99999713897705,
        "z": "46985608.45d728",
        "wires": [
            [
                "1b8d17c2.822de",
                "550b07af.2d8658"
            ]
        ]
    },
    {
        "id": "80f3305a.6722d8",
        "type": "other",
        "name": "0",
        "xml": "<outcome value='0'>\n",
        "comments": "",
        "outputs": 1,
        "x": 635.7499923706055,
        "y": 242.74999904632568,
        "z": "46985608.45d728",
        "wires": [
            [
                "98b86e0.9a1f69"
            ]
        ]
    },
    {
        "id": "818a22c.a82fbe",
        "type": "switchNode",
        "name": "switch is-new-vnf",
        "xml": "<switch test='`$is-new-vnf`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 337.25000381469727,
        "y": 558.2500057220459,
        "z": "46985608.45d728",
        "wires": [
            [
                "57fdfbd7.0bb994"
            ]
        ]
    },
    {
        "id": "57fdfbd7.0bb994",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 517.1071586608887,
        "y": 557.8214530944824,
        "z": "46985608.45d728",
        "wires": [
            [
                "9b585f6f.16442"
            ]
        ]
    },
    {
        "id": "699a17c5.2f4418",
        "type": "set",
        "name": "set new vnf_length++",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf_length' value='`$service-data.vnfs.vnf_length + 1`' />\n",
        "comments": "",
        "x": 1501,
        "y": 437,
        "z": "46985608.45d728",
        "wires": []
    },
    {
        "id": "e518d754.42ca68",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1298.9999771118164,
        "y": 389.99996185302734,
        "z": "46985608.45d728",
        "wires": [
            [
                "699a17c5.2f4418",
                "4e889749.bdf14"
            ]
        ]
    },
    {
        "id": "4e889749.bdf14",
        "type": "set",
        "name": "set vnf-index = vnf_length",
        "xml": "<set>\n<parameter name='vnf-index' value='`$service-data.vnfs.vnf_length`' />\n",
        "comments": "",
        "x": 1510.4999809265137,
        "y": 389.49996185302734,
        "z": "46985608.45d728",
        "wires": []
    },
    {
        "id": "9daf4747.49e728",
        "type": "set",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Failed to persist self-serve vnf assignments during assign in MD-SAL\" />",
        "comments": "",
        "x": 2079.928611755371,
        "y": 2261.25,
        "z": "46985608.45d728",
        "wires": []
    }
]