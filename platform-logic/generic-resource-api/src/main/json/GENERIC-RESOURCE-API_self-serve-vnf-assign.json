[
  {
    "id": "d69b4aac.647588",
    "type": "dgstart",
    "name": "DGSTART",
    "outputs": 1,
    "x": 121.66666412353516,
    "y": 59.999996185302734,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "2849e3b8.45bb9c"
      ]
    ]
  },
  {
    "id": "853836ae.79c2a8",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic='true'>",
    "atomic": "true",
    "comments": "",
    "outputs": 1,
    "x": 152.14286041259766,
    "y": 182.27778244018555,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "57aa1f79.ff47b",
        "fdd51c96.2d89",
        "5ac18b5f.1d7c44",
        "29496a14.3d5ef6",
        "cf3af1fb.cae0d",
        "2989260.b2650da",
        "442acc2c.485fa4",
        "595e6289.903d8c",
        "2e34ccd3.bb5994"
      ]
    ]
  },
  {
    "id": "8eef5a36.786b28",
    "type": "method",
    "name": "method self-serve-vnf-assign",
    "xml": "<method rpc='self-serve-vnf-assign' mode='sync'>\n",
    "comments": "",
    "outputs": 1,
    "x": 238.42857360839844,
    "y": 114.7063512802124,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "853836ae.79c2a8"
      ]
    ]
  },
  {
    "id": "2849e3b8.45bb9c",
    "type": "service-logic",
    "name": "GENERIC-RESOURCE-API ${project.version}",
    "module": "GENERIC-RESOURCE-API",
    "version": "${project.version}",
    "comments": "",
    "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
    "outputs": 1,
    "x": 396.9048614501953,
    "y": 60.19048881530762,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "8eef5a36.786b28"
      ]
    ]
  },
  {
    "id": "fdd51c96.2d89",
    "type": "switchNode",
    "name": "switch vnf-parameters-data.param_length",
    "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param_length`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 440.34532165527344,
    "y": 1402.512001991272,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "60e3d6fb.cf4158"
      ]
    ]
  },
  {
    "id": "60e3d6fb.cf4158",
    "type": "other",
    "name": "NULL",
    "xml": "<outcome value=''>\n",
    "comments": "",
    "outputs": 1,
    "x": 702.3453521728516,
    "y": 1402.512001991272,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "d6105627.c8e418"
      ]
    ]
  },
  {
    "id": "b53240df.c07bf",
    "type": "call",
    "name": "call GENERIC-RESOURCE-API:self-serve-ra-assignment",
    "xml": "<call module='GENERIC-RESOURCE-API' rpc='self-serve-vnf-ra-assignment' mode='sync' >\n",
    "comments": "",
    "outputs": 1,
    "x": 1217.6310119628906,
    "y": 1452.0834331512451,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "2e191127.f108ee"
      ]
    ]
  },
  {
    "id": "5891962b.ba3ee8",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'Failed to get RA assignments: ' + $error-message`\" />\n",
    "comments": "",
    "x": 1689.3452529907227,
    "y": 1451.654836654663,
    "z": "2539c931.d4e596",
    "wires": []
  },
  {
    "id": "6efb148b.cf375c",
    "type": "for",
    "name": "foreach vnf-parameters-data.param[]",
    "xml": "<for index='pidx' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param_length`' >\n",
    "comments": "",
    "outputs": 1,
    "x": 665.5241241455078,
    "y": 1770.012080192566,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "65887e2e.f61d8",
        "52e1b29f.bb361c"
      ]
    ]
  },
  {
    "id": "57aa1f79.ff47b",
    "type": "set",
    "name": "set ss.capability.execution-order[]",
    "xml": "<set>\n<parameter name='ss.capability.execution-order[0]' value='generate-name' />\n<parameter name='ss.capability.execution-order[1]' value='alts-entitlement-assign' />\n<parameter name='ss.capability.execution-order[2]' value='alts-license-assign' />\n<parameter name='ss.capability.execution-order[3]' value='vlan-tag-assign' />\n<parameter name='ss.capability.execution-order[4]' value='mS-vlan-tag-assign' />\n<parameter name='ss.capability.execution-order[5]' value='eipam-ip-assignment' />\n<parameter name='ss.capability.execution-order[6]' value='eipam-create-pool' />\n<parameter name='ss.capability.execution-order[7]' value='netbox-ip-assign' />\n<parameter name='ss.capability.execution-order[8]' value='mac-address-assign' />\n<parameter name='ss.capability.execution-order[9]' value='mS-mac-address-assign' />\n<parameter name='ss.capability.execution-order[10]' value='create-vpe-pool' />\n<parameter name='ss.capability.execution-order[11]' value='unresolved-composite-data' />\n<parameter name='ss.capability.execution-order[12]' value='aai-vnf-put' />\n<parameter name='ss.capability.execution-order_length' value='13' />\n",
    "comments": "",
    "x": 414.1905059814453,
    "y": 1241.0001363754272,
    "z": "2539c931.d4e596",
    "wires": []
  },
  {
    "id": "5ac18b5f.1d7c44",
    "type": "for",
    "name": "foreach capability[]",
    "xml": "<for index='cidx' start='0' end='`$ss.capability.execution-order_length`' >\n",
    "comments": "",
    "outputs": 1,
    "x": 369.59535217285156,
    "y": 1510.1190967559814,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "38b7eff2.abaa",
        "d79a38d7.5d4d98",
        "6efb148b.cf375c",
        "13e94191.0506de"
      ]
    ]
  },
  {
    "id": "52e1b29f.bb361c",
    "type": "switchNode",
    "name": "switch capability-name",
    "xml": "<switch test='`$ss.capability-name == $tmp.param.capability-name`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 969.9169464111328,
    "y": 1815.654872894287,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "e9beff60.c1b47"
      ]
    ]
  },
  {
    "id": "e9beff60.c1b47",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1233.4169464111328,
    "y": 1815.904872894287,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "5bdd6d8.cb05594"
      ]
    ]
  },
  {
    "id": "2e191127.f108ee",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1535.2023582458496,
    "y": 1451.5120267868042,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "5891962b.ba3ee8"
      ]
    ]
  },
  {
    "id": "38b7eff2.abaa",
    "type": "set",
    "name": "set ss.capability-name",
    "xml": "<set>\n<parameter name='ss.capability-name' value='`$ss.capability.execution-order[$cidx]`' />\n<!--\nss.capability.execution-order[]\n-->",
    "comments": "",
    "x": 625.9524078369141,
    "y": 1510.071548461914,
    "z": "2539c931.d4e596",
    "wires": []
  },
  {
    "id": "65887e2e.f61d8",
    "type": "set",
    "name": "tmp.param.capability-name",
    "xml": "<set>\n<parameter name='tmp.param.capability-name' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$pidx].resource-resolution-data.capability-name`' />\n",
    "comments": "",
    "x": 981.2739715576172,
    "y": 1770.2620830535889,
    "z": "2539c931.d4e596",
    "wires": []
  },
  {
    "id": "d79a38d7.5d4d98",
    "type": "set",
    "name": "set ss.capability-action = assign",
    "xml": "<set>\n<parameter name='ss.capability-action' value='assign' />\n",
    "comments": "",
    "x": 654.6665496826172,
    "y": 1556.9881324768066,
    "z": "2539c931.d4e596",
    "wires": []
  },
  {
    "id": "13e94191.0506de",
    "type": "set",
    "name": "set capability-dg with 'self-serve-' + capability-name",
    "xml": "<set>\n<parameter name='ss.capability-dg' value=\"`'self-serve-' + $ss.capability.execution-order[$cidx]`\" />\n",
    "comments": "",
    "x": 717.1786422729492,
    "y": 1610.464376449585,
    "z": "2539c931.d4e596",
    "wires": []
  },
  {
    "id": "29496a14.3d5ef6",
    "type": "set",
    "name": "set sdnc-generated-cloud-resources = true",
    "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.sdnc-generated-cloud-resources' value='true' />\n",
    "comments": "",
    "x": 443.15480041503906,
    "y": 1294.750144958496,
    "z": "2539c931.d4e596",
    "wires": []
  },
  {
    "id": "8cef310a.fddca",
    "type": "block",
    "name": "block",
    "xml": "<block>",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 699.5952033996582,
    "y": 575.4642992019653,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "cb0b24ee.fbda78",
        "4678e991.fe0228",
        "891158b7.7641c8",
        "19bb5ed9.08b021",
        "6dc3189.4dc75e8",
        "7f0c1909.1cc738",
        "29aed783.5eada8",
        "b2f7bf66.a949e",
        "2cb1cef8.ac7872"
      ]
    ]
  },
  {
    "id": "cb0b24ee.fbda78",
    "type": "set",
    "name": "set vnf-topology data",
    "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.vnf-id'\n value='`$vnf-topology-operation-input.vnf-information.vnf-id`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.vnf-type'\n value='`$vnf-topology-operation-input.vnf-information.vnf-type`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.nf-type'\n value='`$db.vf-model.nf-type`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.nf-role'\n value='`$db.vf-model.nf-role`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.nf-function'\n value='`$db.vf-model.nf-function`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.nf-code'\n value='`$db.vf-model.nf-code`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.tenant'\n value='`$vnf-topology-operation-input.vnf-request-input.tenant`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.aic-cloud-region'\n value='`$vnf-topology-operation-input.vnf-request-input.aic-cloud-region`' />\n \n",
    "comments": "",
    "x": 915.0951461791992,
    "y": 576.5238075256348,
    "z": "2539c931.d4e596",
    "wires": []
  },
  {
    "id": "8d586e30.441d2",
    "type": "set",
    "name": "set vnf-parameters-data",
    "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.'\n  value='vnf-topology-operation-input.vnf-request-input.vnf-input-parameters.' />\n",
    "comments": "",
    "x": 1108.6312408447266,
    "y": 1402.3808307647705,
    "z": "2539c931.d4e596",
    "wires": []
  },
  {
    "id": "891158b7.7641c8",
    "type": "set",
    "name": "set vnf-level-oper-status to PendingCreate",
    "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-level-oper-status.order-status' value='PendingCreate' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-level-oper-status.last-rpc-action' value='`$vnf-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-level-oper-status.last-action' value='`$vnf-topology-operation-input.request-information.request-action`' />\n",
    "comments": "",
    "x": 980.3851013183594,
    "y": 1150.5040168762207,
    "z": "2539c931.d4e596",
    "wires": []
  },
  {
    "id": "4678e991.fe0228",
    "type": "set",
    "name": "copy input data",
    "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.sdnc-request-header.' \n\tvalue='$vnf-topology-operation-input.sdnc-request-header.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.request-information.' \n\tvalue='$vnf-topology-operation-input.request-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.' \n\tvalue='$vnf-topology-operation-input.service-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-information.' \n\tvalue='$vnf-topology-operation-input.vnf-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-request-input.' \n\tvalue='$vnf-topology-operation-input.vnf-request-input.' />\n",
    "comments": "",
    "x": 897.7620162963867,
    "y": 1100.3096561431885,
    "z": "2539c931.d4e596",
    "wires": []
  },
  {
    "id": "f2f46e9c.cd6da",
    "type": "set",
    "name": "set from DB",
    "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-invariant-uuid'\n  value='`$db.vf-model.invariant-uuid`' />\n",
    "comments": "",
    "x": 1312.0953369140625,
    "y": 688.8810367584229,
    "z": "2539c931.d4e596",
    "wires": []
  },
  {
    "id": "19bb5ed9.08b021",
    "type": "switchNode",
    "name": "switch input model-invariant-uuid",
    "xml": "<switch test='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-invariant-uuid`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 952.9524116516113,
    "y": 711.7054805755615,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "59da9427.77060c",
        "e199643e.d97208"
      ]
    ]
  },
  {
    "id": "59da9427.77060c",
    "type": "outcome",
    "name": "NULL",
    "xml": "<outcome value=''>",
    "comments": "",
    "outputs": 1,
    "x": 1161.619083404541,
    "y": 688.8484439849854,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "f2f46e9c.cd6da"
      ]
    ]
  },
  {
    "id": "e199643e.d97208",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1163.047679901123,
    "y": 733.1340351104736,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "e42ceacb.598138"
      ]
    ]
  },
  {
    "id": "e42ceacb.598138",
    "type": "set",
    "name": "set from input",
    "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-invariant-uuid'\n  value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-invariant-uuid`' />\n",
    "comments": "",
    "x": 1317.3334159851074,
    "y": 732.5626072883606,
    "z": "2539c931.d4e596",
    "wires": []
  },
  {
    "id": "29f5b35d.29bc7c",
    "type": "set",
    "name": "set from DB",
    "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-uuid'\n  value='`$db.vf-model.uuid`' />\n",
    "comments": "",
    "x": 1313.047607421875,
    "y": 777.4197130203247,
    "z": "2539c931.d4e596",
    "wires": []
  },
  {
    "id": "6dc3189.4dc75e8",
    "type": "switchNode",
    "name": "switch input model-uuid",
    "xml": "<switch test='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-uuid`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 922.5714302062988,
    "y": 800.2442178726196,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "8c03daa9.ef0868",
        "8ef01a18.f777c8"
      ]
    ]
  },
  {
    "id": "8c03daa9.ef0868",
    "type": "outcome",
    "name": "NULL",
    "xml": "<outcome value=''>",
    "comments": "",
    "outputs": 1,
    "x": 1162.571403503418,
    "y": 777.387149810791,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "29f5b35d.29bc7c"
      ]
    ]
  },
  {
    "id": "8ef01a18.f777c8",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1164,
    "y": 821.6727409362793,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "8f583b38.b3ca88"
      ]
    ]
  },
  {
    "id": "8f583b38.b3ca88",
    "type": "set",
    "name": "set from input",
    "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-uuid'\n  value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-uuid`' />\n",
    "comments": "",
    "x": 1318.2857360839844,
    "y": 821.1013131141663,
    "z": "2539c931.d4e596",
    "wires": []
  },
  {
    "id": "8ecfcd2a.b444f",
    "type": "set",
    "name": "set from DB",
    "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-version'\n  value='`$db.vf-model.version`' />\n",
    "comments": "",
    "x": 1310.1905403137207,
    "y": 866.2769203186035,
    "z": "2539c931.d4e596",
    "wires": []
  },
  {
    "id": "7f0c1909.1cc738",
    "type": "switchNode",
    "name": "switch input model-version",
    "xml": "<switch test='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-version`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 933.7143020629883,
    "y": 889.1013650894165,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "70b1cafe.70c534",
        "e0d33652.2c6678"
      ]
    ]
  },
  {
    "id": "70b1cafe.70c534",
    "type": "outcome",
    "name": "NULL",
    "xml": "<outcome value=''>",
    "comments": "",
    "outputs": 1,
    "x": 1159.7142868041992,
    "y": 866.244327545166,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "8ecfcd2a.b444f"
      ]
    ]
  },
  {
    "id": "e0d33652.2c6678",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1161.1428833007812,
    "y": 910.5299186706543,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "b303ac7b.e45d2"
      ]
    ]
  },
  {
    "id": "b303ac7b.e45d2",
    "type": "set",
    "name": "set from input",
    "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-version'\n  value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-version`' />\n",
    "comments": "",
    "x": 1315.4286193847656,
    "y": 909.9584908485413,
    "z": "2539c931.d4e596",
    "wires": []
  },
  {
    "id": "a0c9d49b.ad59b8",
    "type": "set",
    "name": "set from DB",
    "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-name'\n  value='`$db.vf-model.name`' />\n",
    "comments": "",
    "x": 1310.1905403137207,
    "y": 953.4197425842285,
    "z": "2539c931.d4e596",
    "wires": []
  },
  {
    "id": "29aed783.5eada8",
    "type": "switchNode",
    "name": "switch input model-name",
    "xml": "<switch test='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-name`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 928.7143020629883,
    "y": 976.2441873550415,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "e66234a9.911278",
        "adbe9c1f.f9c78"
      ]
    ]
  },
  {
    "id": "e66234a9.911278",
    "type": "outcome",
    "name": "NULL",
    "xml": "<outcome value=''>",
    "comments": "",
    "outputs": 1,
    "x": 1159.7142868041992,
    "y": 953.387149810791,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "a0c9d49b.ad59b8"
      ]
    ]
  },
  {
    "id": "adbe9c1f.f9c78",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1161.1428833007812,
    "y": 997.6727409362793,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "df7a880.bcfde78"
      ]
    ]
  },
  {
    "id": "df7a880.bcfde78",
    "type": "set",
    "name": "set from input",
    "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-name'\n  value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-name`' />\n",
    "comments": "",
    "x": 1315.4286193847656,
    "y": 997.1013131141663,
    "z": "2539c931.d4e596",
    "wires": []
  },
  {
    "id": "b2f7bf66.a949e",
    "type": "set",
    "name": "set vnf-id",
    "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-id'\n   value='`$vnf-topology-operation-input.vnf-information.vnf-id`' />\n",
    "comments": "",
    "x": 879.0713729858398,
    "y": 628.0388450622559,
    "z": "2539c931.d4e596",
    "wires": []
  },
  {
    "id": "2cb1cef8.ac7872",
    "type": "set",
    "name": "set model-customization-uuid",
    "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-customization-uuid'\n  value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-customization-uuid`' />\n",
    "comments": "",
    "x": 941.4998893737793,
    "y": 1049.0863914489746,
    "z": "2539c931.d4e596",
    "wires": []
  },
  {
    "id": "595e6289.903d8c",
    "type": "switchNode",
    "name": "switch service-data.vnfs.vnf_length",
    "xml": "<switch test='`$service-data.vnfs.vnf_length`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 425.7499542236328,
    "y": 262.4284963607788,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "18255159.e40b7f",
        "772fa4ef.017aac",
        "1c932b60.e73ca5"
      ]
    ]
  },
  {
    "id": "18255159.e40b7f",
    "type": "other",
    "name": "NULL",
    "xml": "<outcome value=''>\n",
    "comments": "",
    "outputs": 1,
    "x": 667.9643402099609,
    "y": 200.9879274368286,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "92b4b346.1e12f"
      ]
    ]
  },
  {
    "id": "548cf92c.4ba008",
    "type": "set",
    "name": "set vnf-index=0",
    "xml": "<set>\n<parameter name='vnf-index' value='0' />\n",
    "comments": "",
    "x": 1003.2500457763672,
    "y": 200.4880018234253,
    "z": "2539c931.d4e596",
    "wires": []
  },
  {
    "id": "772fa4ef.017aac",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 669.1428680419922,
    "y": 322.60711669921875,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "7437693b.b40168"
      ]
    ]
  },
  {
    "id": "5bdd6d8.cb05594",
    "type": "switchNode",
    "name": "switch resource-resolution-data.status",
    "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$pidx].resource-resolution-data.status`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 504.6788749694824,
    "y": 2072.472294807434,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "87166833.ca4098",
        "68489653.550b68"
      ]
    ]
  },
  {
    "id": "87166833.ca4098",
    "type": "other",
    "name": "PENDING",
    "xml": "<outcome value='PENDING'>\n",
    "comments": "",
    "outputs": 1,
    "x": 774.0360908508301,
    "y": 2072.4722509384155,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "a28cc088.525e6"
      ]
    ]
  },
  {
    "id": "68489653.550b68",
    "type": "other",
    "name": "FAILED",
    "xml": "<outcome value='FAILED'>\n",
    "comments": "",
    "outputs": 1,
    "x": 767.571907043457,
    "y": 2123.4365816116333,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "a28cc088.525e6"
      ]
    ]
  },
  {
    "id": "a28cc088.525e6",
    "type": "call",
    "name": "call ss.capability-dg",
    "xml": "<call module='GENERIC-RESOURCE-API' rpc='`$ss.capability-dg`' mode='sync' >\n",
    "comments": "",
    "outputs": 1,
    "x": 982.6906394958496,
    "y": 2124.1984329223633,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "82a3fc61.8f2e5"
      ]
    ]
  },
  {
    "id": "71a33c12.b5a3d4",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'Encountered error from capability: '+ $ss.capability-dg + ', with error: '+ $error-message`\" />\n",
    "comments": "",
    "x": 1550.238079071045,
    "y": 2378.17488861084,
    "z": "2539c931.d4e596",
    "wires": []
  },
  {
    "id": "82a3fc61.8f2e5",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1167.5831489562988,
    "y": 2124.1984939575195,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "1db677fa.c5f998"
      ]
    ]
  },
  {
    "id": "1db677fa.c5f998",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic='true'>",
    "atomic": "true",
    "comments": "",
    "outputs": 1,
    "x": 1330.857265472412,
    "y": 2123.5080347061157,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "71a33c12.b5a3d4",
        "e1fec547.7327d8",
        "c36d6a8.879dc98",
        "32c8d030.41dd8",
        "c0352a22.0df598"
      ]
    ]
  },
  {
    "id": "c36d6a8.879dc98",
    "type": "execute",
    "name": "generate ss-vnf url replace service-instance-id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.ss-vnf-assignments`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.ss-vnf-url\"/>\n    <parameter name=\"target\" value=\"{service-instance-id}\"/>\n    <parameter name=\"replacement\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.service-instance-id`\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 1654.190357208252,
    "y": 2177.024594306946,
    "z": "2539c931.d4e596",
    "wires": [
      []
    ]
  },
  {
    "id": "c0352a22.0df598",
    "type": "execute",
    "name": "execute RestApiCallNode - PUT vnf",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.ss.vnf.templatefile`\" />\n    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.ss-vnf-url`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-ss-vnf\" />\n\n",
    "comments": "",
    "outputs": 1,
    "x": 1623.6546516418457,
    "y": 2279.8818159103394,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "9f3adb33.27f9d8",
        "d80b620b.99918"
      ]
    ]
  },
  {
    "id": "9f3adb33.27f9d8",
    "type": "not-found",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1898.2483177185059,
    "y": 2333.879969596863,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "b1619288.dfed9"
      ]
    ]
  },
  {
    "id": "d80b620b.99918",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1890.6769523620605,
    "y": 2280.3799896240234,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "b1619288.dfed9"
      ]
    ]
  },
  {
    "id": "e1fec547.7327d8",
    "type": "set",
    "name": "set vf data for restapi-call-node",
    "xml": "<set>\n<parameter name='vf.vnf-id'\n    value='`$service-data.vnfs.vnf[$vnf-index].vnf-id`' />\n<parameter name='vf.vnf-data.sdnc-request-header.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.sdnc-request-header.`' />\n<parameter name='vf.vnf-data.request-information.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.request-information.`' />\n<parameter name='vf.vnf-data.service-information.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.`' />\n<parameter name='vf.vnf-data.vnf-information.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-information.`' />\n<parameter name='vf.vnf-data.vnf-topology.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.`' />\n<parameter name='vf.vnf-data.vnf-level-oper-status.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-level-oper-status.`' />\n<parameter name='vf.vnf-data.vnf-request-input.vnf-input-parameters.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-request-input.vnf-input-parameters.`' />\n<parameter name='vf.vnf-data.vnf-request-input.request-version'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-request-input.request-version`' />\n<parameter name='vf.vnf-data.vnf-request-input.vnf-name'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-request-input.vnf-name`' />\n<parameter name='vf.vnf-data.vnf-request-input.tenant'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-request-input.tenant`' />\n<parameter name='vf.vnf-data.vnf-request-input.aic-cloud-region'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-request-input.aic-cloud-region`' />\n<parameter name='vf.vnf-data.vnf-request-input.aic-clli'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-request-input.aic-clli`' />",
    "comments": "",
    "x": 1606.6426582336426,
    "y": 2123.1191062927246,
    "z": "2539c931.d4e596",
    "wires": []
  },
  {
    "id": "32c8d030.41dd8",
    "type": "execute",
    "name": "generate ss-vnf url - replace vnf-id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.ss-vnf-url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.ss-vnf-url\"/>\n    <parameter name=\"target\" value=\"{vnf-id}\"/>\n    <parameter name=\"replacement\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-id`\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 1618.4760627746582,
    "y": 2227.8333625793457,
    "z": "2539c931.d4e596",
    "wires": [
      []
    ]
  },
  {
    "id": "2989260.b2650da",
    "type": "execute",
    "name": "printContext",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/ss-vnf-assign.log' />\n",
    "comments": "",
    "outputs": 1,
    "x": 370.019775390625,
    "y": 2572.3494453430176,
    "z": "2539c931.d4e596",
    "wires": [
      []
    ]
  },
  {
    "id": "cf3af1fb.cae0d",
    "type": "set",
    "name": "set ss.capability-type = vnf",
    "xml": "<set>\n<parameter name='ss.capability-type' value='vnf' />\n",
    "comments": "",
    "x": 394.0595932006836,
    "y": 1345.5357904434204,
    "z": "2539c931.d4e596",
    "wires": []
  },
  {
    "id": "d6105627.c8e418",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic='true'>",
    "atomic": "true",
    "comments": "",
    "outputs": 1,
    "x": 867.2023239135742,
    "y": 1402.8928995132446,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "8d586e30.441d2",
        "b53240df.c07bf"
      ]
    ]
  },
  {
    "id": "727eaad0.1e6e64",
    "type": "for",
    "name": "for each existing VNF",
    "xml": "<for index='idx' start='0' end='`$service-data.vnfs.vnf_length`' >\n",
    "comments": "",
    "outputs": 1,
    "x": 1016.202392578125,
    "y": 322.7857942581177,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "f9213ecd.2658a"
      ]
    ]
  },
  {
    "id": "f9213ecd.2658a",
    "type": "switchNode",
    "name": "switch vnf-id: input vs service-data",
    "xml": "<switch test='`$vnf-topology-operation-input.vnf-information.vnf-id == $service-data.vnfs.vnf[$idx].vnf-id`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1293.4880981445312,
    "y": 322.8572816848755,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "6fc117d2.eaa0b8"
      ]
    ]
  },
  {
    "id": "6fc117d2.eaa0b8",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1516.2738647460938,
    "y": 322.42875385284424,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "f035c4cb.688108"
      ]
    ]
  },
  {
    "id": "f035c4cb.688108",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1648.7381172180176,
    "y": 322.4643144607544,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "ddc53ec7.8a8ad",
        "a4bfc95d.69a428",
        "99a6f232.c02bc"
      ]
    ]
  },
  {
    "id": "ddc53ec7.8a8ad",
    "type": "break",
    "name": "break",
    "xml": "<break>\n",
    "comments": "",
    "x": 1816.6309051513672,
    "y": 408.4642925262451,
    "z": "2539c931.d4e596",
    "wires": []
  },
  {
    "id": "4d1804cd.00019c",
    "type": "set",
    "name": "set new vnf_length = 1",
    "xml": "<set>\n<parameter name='service-data.vnfs.vnf_length' value='1' />\n",
    "comments": "",
    "x": 1026.8096160888672,
    "y": 245.82148456573486,
    "z": "2539c931.d4e596",
    "wires": []
  },
  {
    "id": "a4bfc95d.69a428",
    "type": "set",
    "name": "set vnf-index = idx",
    "xml": "<set>\n<parameter name='vnf-index' value='`$idx`' />\n",
    "comments": "",
    "x": 1847.2024612426758,
    "y": 365.2499713897705,
    "z": "2539c931.d4e596",
    "wires": []
  },
  {
    "id": "442acc2c.485fa4",
    "type": "set",
    "name": "set is-new-vnf = true",
    "xml": "<set>\n<parameter name='is-new-vnf' value='true' />\n",
    "comments": "",
    "x": 380.05958557128906,
    "y": 182.321439743042,
    "z": "2539c931.d4e596",
    "wires": []
  },
  {
    "id": "99a6f232.c02bc",
    "type": "set",
    "name": "set is-new-vnf = false",
    "xml": "<set>\n<parameter name='is-new-vnf' value='false' />\n",
    "comments": "",
    "x": 1855.2381477355957,
    "y": 321.964316368103,
    "z": "2539c931.d4e596",
    "wires": []
  },
  {
    "id": "7437693b.b40168",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 806.4166870117188,
    "y": 322.2500123977661,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "727eaad0.1e6e64",
        "fb374db8.2b8eb"
      ]
    ]
  },
  {
    "id": "fb374db8.2b8eb",
    "type": "switchNode",
    "name": "switch is-new-vnf",
    "xml": "<switch test='`$is-new-vnf`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1003.9166793823242,
    "y": 408.82141399383545,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "e7bfcf3d.b7f14"
      ]
    ]
  },
  {
    "id": "e7bfcf3d.b7f14",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1183.7738342285156,
    "y": 408.392861366272,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "aecd914d.44c7b"
      ]
    ]
  },
  {
    "id": "92b4b346.1e12f",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 821.9166564941406,
    "y": 200.99999332427979,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "548cf92c.4ba008",
        "4d1804cd.00019c"
      ]
    ]
  },
  {
    "id": "1c932b60.e73ca5",
    "type": "other",
    "name": "0",
    "xml": "<outcome value='0'>\n",
    "comments": "",
    "outputs": 1,
    "x": 666.4166564941406,
    "y": 260.7499952316284,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "92b4b346.1e12f"
      ]
    ]
  },
  {
    "id": "2e34ccd3.bb5994",
    "type": "switchNode",
    "name": "switch is-new-vnf",
    "xml": "<switch test='`$is-new-vnf`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 367.9166679382324,
    "y": 576.2500019073486,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "1c1e89f5.887da6"
      ]
    ]
  },
  {
    "id": "1c1e89f5.887da6",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 547.7738227844238,
    "y": 575.8214492797852,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "8cef310a.fddca"
      ]
    ]
  },
  {
    "id": "535721ac.1a29a",
    "type": "set",
    "name": "set new vnf_length++",
    "xml": "<set>\n<parameter name='service-data.vnfs.vnf_length' value='`$service-data.vnfs.vnf_length + 1`' />\n",
    "comments": "",
    "x": 1531.6666641235352,
    "y": 454.99999618530273,
    "z": "2539c931.d4e596",
    "wires": []
  },
  {
    "id": "aecd914d.44c7b",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1329.6666412353516,
    "y": 407.9999580383301,
    "z": "2539c931.d4e596",
    "wires": [
      [
        "535721ac.1a29a",
        "189baa3c.c7d166"
      ]
    ]
  },
  {
    "id": "189baa3c.c7d166",
    "type": "set",
    "name": "set vnf-index = vnf_length",
    "xml": "<set>\n<parameter name='vnf-index' value='`$service-data.vnfs.vnf_length`' />\n",
    "comments": "",
    "x": 1541.1666450500488,
    "y": 407.4999580383301,
    "z": "2539c931.d4e596",
    "wires": []
  },
  {
    "id": "b1619288.dfed9",
    "type": "set",
    "name": "set error-message",
    "xml": "<set>\n<parameter name=\"error-message\" value=\"Failed to persist self-serve vnf assignments during assign in MD-SAL\" />",
    "comments": "",
    "x": 2110.5952758789062,
    "y": 2279.2499961853027,
    "z": "2539c931.d4e596",
    "wires": []
  }
]
