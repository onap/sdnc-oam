[{"id":"b0b96588.229f48","type":"dgstart","name":"DGSTART","outputs":1,"x":142.5,"y":46.25,"z":"a47d3f62.0db2a","wires":[["e90fc91d.4cb818"]]},{"id":"1514d1ed.4c979e","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":172.9761962890625,"y":168.5277862548828,"z":"a47d3f62.0db2a","wires":[["7b27a78e.ba8dc8","80ae9411.82a148","25697284.5cbf8e","13a7d2a7.9e0a2d","796ecfd8.ad192","1e8fbb14.957dd5","8a4e3013.de936","326845e9.15749a","15906be0.23cf64","574274d.1ac608c"]]},{"id":"6b266014.a5448","type":"method","name":"method self-serve-vnf-assign","xml":"<method rpc='self-serve-vnf-assign' mode='sync'>\n","comments":"","outputs":1,"x":259.2619094848633,"y":100.95635509490967,"z":"a47d3f62.0db2a","wires":[["1514d1ed.4c979e"]]},{"id":"e90fc91d.4cb818","type":"service-logic","name":"GENERIC-RESOURCE-API ${project.version}","module":"GENERIC-RESOURCE-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>","outputs":1,"x":417.73819732666016,"y":46.44049263000488,"z":"a47d3f62.0db2a","wires":[["6b266014.a5448"]]},{"id":"80ae9411.82a148","type":"switchNode","name":"switch vnf-parameters-data.param_length","xml":"<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param_length`'>\n","comments":"","outputs":1,"x":461.1786575317383,"y":1388.7620058059692,"z":"a47d3f62.0db2a","wires":[["63678a61.0670d4"]]},{"id":"63678a61.0670d4","type":"other","name":"NULL","xml":"<outcome value=''>\n","comments":"","outputs":1,"x":723.1786880493164,"y":1388.7620058059692,"z":"a47d3f62.0db2a","wires":[["451745db.c8b2dc"]]},{"id":"220cb46a.85a42c","type":"call","name":"call GENERIC-RESOURCE-API:self-serve-ra-assignment","xml":"<call module='GENERIC-RESOURCE-API' rpc='self-serve-vnf-ra-assignment' mode='sync' >\n","comments":"","outputs":1,"x":1238.4643478393555,"y":1438.3334369659424,"z":"a47d3f62.0db2a","wires":[["73d82327.4c165c"]]},{"id":"a26b7aab.bc2f18","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'Failed to get RA assignments: ' + $error-message`\" />\n","comments":"","x":1710.1785888671875,"y":1437.9048404693604,"z":"a47d3f62.0db2a","wires":[]},{"id":"14838ac6.319735","type":"for","name":"foreach vnf-parameters-data.param[]","xml":"<for index='pidx' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param_length`' >\n","comments":"","outputs":1,"x":686.3574600219727,"y":1756.2620840072632,"z":"a47d3f62.0db2a","wires":[["b75f8daf.b163f","616a141.af79fec"]]},{"id":"7b27a78e.ba8dc8","type":"set","name":"set ss.capability.execution-order[]","xml":"<set>\n<parameter name='ss.capability.execution-order[0]' value='generate-name' />\n<parameter name='ss.capability.execution-order[1]' value='alts-entitlement-assign' />\n<parameter name='ss.capability.execution-order[2]' value='alts-license-assign' />\n<parameter name='ss.capability.execution-order[3]' value='vlan-tag-assign' />\n<parameter name='ss.capability.execution-order[4]' value='eipam-ip-assign' />\n<parameter name='ss.capability.execution-order[5]' value='eipam-create-pool\"' />\n<parameter name='ss.capability.execution-order[6]' value='mac-address-assign' />\n<parameter name='ss.capability.execution-order[7]' value='create-vpe-pool' />\n<parameter name='ss.capability.execution-order[8]' value='unresolved-composite-data' />\n<parameter name='ss.capability.execution-order_length' value='9' />\n","comments":"","x":435.02384185791016,"y":1227.2501401901245,"z":"a47d3f62.0db2a","wires":[]},{"id":"25697284.5cbf8e","type":"for","name":"foreach capability[]","xml":"<for index='cidx' start='0' end='`$ss.capability.execution-order_length`' >\n","comments":"","outputs":1,"x":390.4286880493164,"y":1496.3691005706787,"z":"a47d3f62.0db2a","wires":[["2c03690.5bf2198","689e80c6.f5962","49b693f1.c7362c","14838ac6.319735"]]},{"id":"616a141.af79fec","type":"switchNode","name":"switch capability-name","xml":"<switch test='`$ss.capability-name == $tmp.param.capability-name`'>\n","comments":"","outputs":1,"x":990.7502822875977,"y":1801.9048767089844,"z":"a47d3f62.0db2a","wires":[["29d63c92.b13e14"]]},{"id":"29d63c92.b13e14","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1254.2502822875977,"y":1802.1548767089844,"z":"a47d3f62.0db2a","wires":[["bc5fb402.9e3c18"]]},{"id":"73d82327.4c165c","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1556.0356941223145,"y":1437.7620306015015,"z":"a47d3f62.0db2a","wires":[["a26b7aab.bc2f18"]]},{"id":"2c03690.5bf2198","type":"set","name":"set ss.capability-name","xml":"<set>\n<parameter name='ss.capability-name' value='`$ss.capability.execution-order[$cidx]`' />\n<!--\nss.capability.execution-order[]\n-->","comments":"","x":646.7857437133789,"y":1496.3215522766113,"z":"a47d3f62.0db2a","wires":[]},{"id":"b75f8daf.b163f","type":"set","name":"tmp.param.capability-name","xml":"<set>\n<parameter name='tmp.param.capability-name' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$pidx].resource-resolution-data.capability-name`' />\n","comments":"","x":1002.107307434082,"y":1756.5120868682861,"z":"a47d3f62.0db2a","wires":[]},{"id":"49b693f1.c7362c","type":"set","name":"set ss.capability.action = assign","xml":"<set>\n<parameter name='ss.capability-action' value='assign' />\n","comments":"","x":675.499885559082,"y":1543.238136291504,"z":"a47d3f62.0db2a","wires":[]},{"id":"5a2f26a9.cbeda8","type":"set","name":"set capability-dg with 'self-serve-' + capability-name","xml":"<set>\n<parameter name='ss.capability-dg' value=\"`'self-serve-' + $ss.capability.execution-order[$cidx]`\" />\n","comments":"","x":1179.2619552612305,"y":1690.4643688201904,"z":"a47d3f62.0db2a","wires":[]},{"id":"689e80c6.f5962","type":"switchNode","name":"switch ss.capability-name","xml":"<switch test='`$ss.capability-name`'>\n","comments":"","outputs":1,"x":658.7619552612305,"y":1592.214376449585,"z":"a47d3f62.0db2a","wires":[["4eea8376.d97c2c","b908a428.6a8ed8","d0be0742.b21258"]]},{"id":"4eea8376.d97c2c","type":"other","name":"alts-entitlement-assign","xml":"<outcome value='alts-entitlement-assign'>\n","comments":"","outputs":1,"x":941.512077331543,"y":1592.7143688201904,"z":"a47d3f62.0db2a","wires":[["9880d30d.acfe4"]]},{"id":"b908a428.6a8ed8","type":"other","name":"alts-license-assign","xml":"<outcome value='alts-license-assign'>\n","comments":"","outputs":1,"x":930.762077331543,"y":1640.4643688201904,"z":"a47d3f62.0db2a","wires":[["9880d30d.acfe4"]]},{"id":"d0be0742.b21258","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":894.7620391845703,"y":1690.7143592834473,"z":"a47d3f62.0db2a","wires":[["5a2f26a9.cbeda8"]]},{"id":"9880d30d.acfe4","type":"set","name":"set capability-dg to self-serve-alts-assignment","xml":"<set>\n<parameter name='ss.capability-dg' value='self-serve-alts-assignment' />\n","comments":"","x":1280.2619552612305,"y":1592.2143688201904,"z":"a47d3f62.0db2a","wires":[]},{"id":"13a7d2a7.9e0a2d","type":"set","name":"set sdnc-generated-cloud-resources = true","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.sdnc-generated-cloud-resources' value='true' />\n","comments":"","x":463.9881362915039,"y":1281.0001487731934,"z":"a47d3f62.0db2a","wires":[]},{"id":"9e98c03e.e81b8","type":"block","name":"block","xml":"<block>","atomic":"false","comments":"","outputs":1,"x":720.428539276123,"y":561.7143030166626,"z":"a47d3f62.0db2a","wires":[["86c51bf7.a16728","4d067e36.b96bd","17269762.5ea849","c820210.4d230e","1ce6e283.bfbe5d","74ecb476.0b143c","578440a1.1ac38","1728506c.9c203","1400bb2c.323765"]]},{"id":"86c51bf7.a16728","type":"set","name":"set vnf-topology data","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.vnf-id'\n value='`$vnf-topology-operation-input.vnf-information.vnf-id`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.vnf-type'\n value='`$vnf-topology-operation-input.vnf-information.vnf-type`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.nf-type'\n value='`$db.vf-model.nf-type`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.nf-role'\n value='`$db.vf-model.nf-role`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.nf-function'\n value='`$db.vf-model.nf-function`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.nf-code'\n value='`$db.vf-model.nf-code`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.tenant'\n value='`$vnf-topology-operation-input.vnf-request-input.tenant`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.aic-cloud-region'\n value='`$vnf-topology-operation-input.vnf-request-input.aic-cloud-region`' />\n \n","comments":"","x":935.9284820556641,"y":562.773811340332,"z":"a47d3f62.0db2a","wires":[]},{"id":"e543e5f2.e32d38","type":"set","name":"set vnf-parameters-data","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.'\n  value='vnf-topology-operation-input.vnf-request-input.vnf-input-parameters.' />\n","comments":"","x":1129.4645767211914,"y":1388.6308345794678,"z":"a47d3f62.0db2a","wires":[]},{"id":"17269762.5ea849","type":"set","name":"set vnf-level-oper-status to PendingCreate","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-level-oper-status.order-status' value='PendingCreate' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-level-oper-status.last-rpc-action' value='`$vnf-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-level-oper-status.last-action' value='`$vnf-topology-operation-input.request-information.request-action`' />\n","comments":"","x":1001.2184371948242,"y":1136.754020690918,"z":"a47d3f62.0db2a","wires":[]},{"id":"4d067e36.b96bd","type":"set","name":"copy input data","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.sdnc-request-header.' \n\tvalue='$vnf-topology-operation-input.sdnc-request-header.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.request-information.' \n\tvalue='$vnf-topology-operation-input.request-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.' \n\tvalue='$vnf-topology-operation-input.service-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-information.' \n\tvalue='$vnf-topology-operation-input.vnf-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-request-input.' \n\tvalue='$vnf-topology-operation-input.vnf-request-input.' />\n","comments":"","x":918.5953521728516,"y":1086.5596599578857,"z":"a47d3f62.0db2a","wires":[]},{"id":"5d74706f.90119","type":"set","name":"set from DB","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-invariant-uuid'\n  value='`$db.vf-model.invariant-uuid`' />\n","comments":"","x":1332.9286727905273,"y":675.1310405731201,"z":"a47d3f62.0db2a","wires":[]},{"id":"c820210.4d230e","type":"switchNode","name":"switch input model-invariant-uuid","xml":"<switch test='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-invariant-uuid`'>\n","comments":"","outputs":1,"x":973.7857475280762,"y":697.9554843902588,"z":"a47d3f62.0db2a","wires":[["b9245b9c.3ecc98","9b989b17.260bb8"]]},{"id":"b9245b9c.3ecc98","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1182.4524192810059,"y":675.0984477996826,"z":"a47d3f62.0db2a","wires":[["5d74706f.90119"]]},{"id":"9b989b17.260bb8","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1183.881015777588,"y":719.3840389251709,"z":"a47d3f62.0db2a","wires":[["673b70f8.38a61"]]},{"id":"673b70f8.38a61","type":"set","name":"set from input","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-invariant-uuid'\n  value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-invariant-uuid`' />\n","comments":"","x":1338.1667518615723,"y":718.8126111030579,"z":"a47d3f62.0db2a","wires":[]},{"id":"3b9bd317.7be8dc","type":"set","name":"set from DB","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-uuid'\n  value='`$db.vf-model.uuid`' />\n","comments":"","x":1333.8809432983398,"y":763.669716835022,"z":"a47d3f62.0db2a","wires":[]},{"id":"1ce6e283.bfbe5d","type":"switchNode","name":"switch input model-uuid","xml":"<switch test='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-uuid`'>\n","comments":"","outputs":1,"x":943.4047660827637,"y":786.4942216873169,"z":"a47d3f62.0db2a","wires":[["e64d40cc.f329","fa3552c6.1d4ac"]]},{"id":"e64d40cc.f329","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1183.4047393798828,"y":763.6371536254883,"z":"a47d3f62.0db2a","wires":[["3b9bd317.7be8dc"]]},{"id":"fa3552c6.1d4ac","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1184.8333358764648,"y":807.9227447509766,"z":"a47d3f62.0db2a","wires":[["cef60287.97713"]]},{"id":"cef60287.97713","type":"set","name":"set from input","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-uuid'\n  value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-uuid`' />\n","comments":"","x":1339.1190719604492,"y":807.3513169288635,"z":"a47d3f62.0db2a","wires":[]},{"id":"8fa2366.cacb1c8","type":"set","name":"set from DB","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-version'\n  value='`$db.vf-model.version`' />\n","comments":"","x":1331.0238761901855,"y":852.5269241333008,"z":"a47d3f62.0db2a","wires":[]},{"id":"74ecb476.0b143c","type":"switchNode","name":"switch input model-version","xml":"<switch test='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-version`'>\n","comments":"","outputs":1,"x":954.5476379394531,"y":875.3513689041138,"z":"a47d3f62.0db2a","wires":[["5b83f3e8.984ebc","7461e31a.fbf8bc"]]},{"id":"5b83f3e8.984ebc","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1180.547622680664,"y":852.4943313598633,"z":"a47d3f62.0db2a","wires":[["8fa2366.cacb1c8"]]},{"id":"7461e31a.fbf8bc","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1181.976219177246,"y":896.7799224853516,"z":"a47d3f62.0db2a","wires":[["2cdf59a1.805126"]]},{"id":"2cdf59a1.805126","type":"set","name":"set from input","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-version'\n  value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-version`' />\n","comments":"","x":1336.2619552612305,"y":896.2084946632385,"z":"a47d3f62.0db2a","wires":[]},{"id":"f2ffca70.21e538","type":"set","name":"set from DB","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-name'\n  value='`$db.vf-model.name`' />\n","comments":"","x":1331.0238761901855,"y":939.6697463989258,"z":"a47d3f62.0db2a","wires":[]},{"id":"578440a1.1ac38","type":"switchNode","name":"switch input model-name","xml":"<switch test='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-name`'>\n","comments":"","outputs":1,"x":949.5476379394531,"y":962.4941911697388,"z":"a47d3f62.0db2a","wires":[["45b802b6.259d6c","7394350e.76bcec"]]},{"id":"45b802b6.259d6c","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1180.547622680664,"y":939.6371536254883,"z":"a47d3f62.0db2a","wires":[["f2ffca70.21e538"]]},{"id":"7394350e.76bcec","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1181.976219177246,"y":983.9227447509766,"z":"a47d3f62.0db2a","wires":[["93da4ccc.16b56"]]},{"id":"93da4ccc.16b56","type":"set","name":"set from input","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-name'\n  value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-name`' />\n","comments":"","x":1336.2619552612305,"y":983.3513169288635,"z":"a47d3f62.0db2a","wires":[]},{"id":"1728506c.9c203","type":"set","name":"set vnf-id","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-id'\n   value='`$vnf-topology-operation-input.vnf-information.vnf-id`' />\n","comments":"","x":899.9047088623047,"y":614.2888488769531,"z":"a47d3f62.0db2a","wires":[]},{"id":"1400bb2c.323765","type":"set","name":"set model-customization-uuid","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-customization-uuid'\n  value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-customization-uuid`' />\n","comments":"","x":962.3332252502441,"y":1035.3363952636719,"z":"a47d3f62.0db2a","wires":[]},{"id":"326845e9.15749a","type":"switchNode","name":"switch service-data.vnfs.vnf_length","xml":"<switch test='`$service-data.vnfs.vnf_length`'>\n","comments":"","outputs":1,"x":446.58329010009766,"y":248.67850017547607,"z":"a47d3f62.0db2a","wires":[["dfa50f80.31a11","393306bc.2d4d9a","380e8ac4.4fe806"]]},{"id":"dfa50f80.31a11","type":"other","name":"NULL","xml":"<outcome value=''>\n","comments":"","outputs":1,"x":688.7976760864258,"y":187.23793125152588,"z":"a47d3f62.0db2a","wires":[["32deb3a2.50313c"]]},{"id":"7bff0459.171e4c","type":"set","name":"set vnf-index=0","xml":"<set>\n<parameter name='vnf-index' value='0' />\n","comments":"","x":1024.083381652832,"y":186.73800563812256,"z":"a47d3f62.0db2a","wires":[]},{"id":"393306bc.2d4d9a","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":689.976203918457,"y":308.857120513916,"z":"a47d3f62.0db2a","wires":[["21bb1e8e.d3c9a2"]]},{"id":"bc5fb402.9e3c18","type":"switchNode","name":"switch resource-resolution-data.status","xml":"<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$pidx].resource-resolution-data.status`'>\n","comments":"","outputs":1,"x":525.5122108459473,"y":2058.7222986221313,"z":"a47d3f62.0db2a","wires":[["83a70f8.89ae6f","99909353.18ed6","695fcfa4.a0172"]]},{"id":"83a70f8.89ae6f","type":"other","name":"PENDING","xml":"<outcome value='PENDING'>\n","comments":"","outputs":1,"x":794.8694267272949,"y":2058.722254753113,"z":"a47d3f62.0db2a","wires":[["c1e48e20.efc4d"]]},{"id":"99909353.18ed6","type":"other","name":"SUCCESS","xml":"<outcome value='SUCCESS'>\n","comments":"","outputs":1,"x":798.2979164123535,"y":2010.186538696289,"z":"a47d3f62.0db2a","wires":[["4b6bc0ee.44eac"]]},{"id":"695fcfa4.a0172","type":"other","name":"FAILED","xml":"<outcome value='FAILED'>\n","comments":"","outputs":1,"x":788.4052429199219,"y":2109.6865854263306,"z":"a47d3f62.0db2a","wires":[["c1e48e20.efc4d"]]},{"id":"c1e48e20.efc4d","type":"call","name":"call ss.capability-dg","xml":"<call module='GENERIC-RESOURCE-API' rpc='`$ss.capability-dg`' mode='sync' >\n","comments":"","outputs":1,"x":1003.5239753723145,"y":2110.4484367370605,"z":"a47d3f62.0db2a","wires":[["1575afdc.e8231","48d48b0b.9b7ee4"]]},{"id":"28de7c64.1baa14","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'Encountered error from capability: '+ $ss.capability-dg + ', with error: '+ $error-message`\" />\n","comments":"","x":1571.0714149475098,"y":2364.424892425537,"z":"a47d3f62.0db2a","wires":[]},{"id":"1575afdc.e8231","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1188.4164848327637,"y":2110.448497772217,"z":"a47d3f62.0db2a","wires":[["9c3b5da5.9473a"]]},{"id":"9c3b5da5.9473a","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1351.690601348877,"y":2109.758038520813,"z":"a47d3f62.0db2a","wires":[["28de7c64.1baa14","5fadc36e.101b7c","2edac9b3.9fc286","4db4623.d5e639c","db1dc49b.785d58"]]},{"id":"2edac9b3.9fc286","type":"execute","name":"generate ss-vnf url replace service-instance-id","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.ss-vnf-assignments`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.ss-vnf-url\"/>\n    <parameter name=\"target\" value=\"{service-instance-id}\"/>\n    <parameter name=\"replacement\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.service-instance-id`\"/>\n","comments":"","outputs":1,"x":1675.0236930847168,"y":2163.274598121643,"z":"a47d3f62.0db2a","wires":[[]]},{"id":"db1dc49b.785d58","type":"execute","name":"execute RestApiCallNode - PUT vnf","xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.ss.vnf.templatefile`\" />\n    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.ss-vnf-url`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-ss-vnf\" />\n\n","comments":"","outputs":1,"x":1644.4879875183105,"y":2266.1318197250366,"z":"a47d3f62.0db2a","wires":[["6bcc6185.dd18f","2c2d6146.b2bf7e","e7baf82a.d9d548"]]},{"id":"6bcc6185.dd18f","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1919.0816535949707,"y":2320.12997341156,"z":"a47d3f62.0db2a","wires":[["a87af8d7.91b3f8"]]},{"id":"2c2d6146.b2bf7e","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1911.5102882385254,"y":2266.6299934387207,"z":"a47d3f62.0db2a","wires":[["a87af8d7.91b3f8"]]},{"id":"e7baf82a.d9d548","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":1915.2602806091309,"y":2212.987091064453,"z":"a47d3f62.0db2a","wires":[["a92b899d.04d118"]]},{"id":"a92b899d.04d118","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":2091.630512237549,"y":2212.893572330475,"z":"a47d3f62.0db2a","wires":[[]]},{"id":"a87af8d7.91b3f8","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":2113.6426124572754,"y":2266.274248123169,"z":"a47d3f62.0db2a","wires":[["ae1e1153.3000a"]]},{"id":"ae1e1153.3000a","type":"configure","name":"set error-message","xml":"<set>\n<parameter name=\"error-message\" value=\"Failed to persist self-serve vnf assignments during assign in MD-SAL\" />\n","comments":"","outputs":1,"x":2331.928379058838,"y":2266.4171113967896,"z":"a47d3f62.0db2a","wires":[[]]},{"id":"5fadc36e.101b7c","type":"set","name":"set vf data for restapi-call-node","xml":"<set>\n<parameter name='vf.vnf-id'\n    value='`$service-data.vnfs.vnf[$vnf-index].vnf-id`' />\n<parameter name='vf.vnf-data.sdnc-request-header.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.sdnc-request-header.`' />\n<parameter name='vf.vnf-data.request-information.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.request-information.`' />\n<parameter name='vf.vnf-data.service-information.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.`' />\n<parameter name='vf.vnf-data.vnf-information.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-information.`' />\n<parameter name='vf.vnf-data.vnf-topology.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.`' />\n<parameter name='vf.vnf-data.vnf-level-oper-status.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-level-oper-status.`' />\n<parameter name='vf.vnf-data.vnf-request-input.vnf-input-parameters.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-request-input.vnf-input-parameters.`' />\n<parameter name='vf.vnf-data.vnf-request-input.request-version'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-request-input.request-version`' />\n<parameter name='vf.vnf-data.vnf-request-input.vnf-name'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-request-input.vnf-name`' />\n<parameter name='vf.vnf-data.vnf-request-input.tenant'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-request-input.tenant`' />\n<parameter name='vf.vnf-data.vnf-request-input.aic-cloud-region'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-request-input.aic-cloud-region`' />\n<parameter name='vf.vnf-data.vnf-request-input.aic-clli'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-request-input.aic-clli`' />","comments":"","x":1627.4759941101074,"y":2109.369110107422,"z":"a47d3f62.0db2a","wires":[]},{"id":"4db4623.d5e639c","type":"execute","name":"generate ss-vnf url - replace vnf-id","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.ss-vnf-url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.ss-vnf-url\"/>\n    <parameter name=\"target\" value=\"{vnf-id}\"/>\n    <parameter name=\"replacement\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-id`\"/>\n","comments":"","outputs":1,"x":1639.309398651123,"y":2214.083366394043,"z":"a47d3f62.0db2a","wires":[[]]},{"id":"1e8fbb14.957dd5","type":"execute","name":"printContext","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/ss-vnf-assign.log' />\n","comments":"","outputs":1,"x":362.2816848754883,"y":3317.170946121216,"z":"a47d3f62.0db2a","wires":[[]]},{"id":"875bd0b4.df5c","type":"for","name":"foreach vnf-parameters-data.param[]","xml":"<for index='i' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param_length`' >\n","comments":"","outputs":1,"x":858.5358200073242,"y":3005.7977294921875,"z":"a47d3f62.0db2a","wires":[["2a050b6.e7060f4"]]},{"id":"2a050b6.e7060f4","type":"switchNode","name":"switch param[$i].name","xml":"<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$i].name`'>\n","comments":"","outputs":1,"x":1137.2858200073242,"y":3005.297700881958,"z":"a47d3f62.0db2a","wires":[["f47fbb0e.df1e88"]]},{"id":"f47fbb0e.df1e88","type":"other","name":"vnf_name","xml":"<outcome value='vnf_name'>\n","comments":"","outputs":1,"x":1337.2858352661133,"y":3005.0477294921875,"z":"a47d3f62.0db2a","wires":[["5dbfb083.b9606"]]},{"id":"2e791445.a4035c","type":"save","name":"update generic-vnf.vnf-name","xml":"<update plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"generic-vnf\"\n\t\tkey=\"generic-vnf.vnf-id = $service-data.vnfs.vnf[$vnf-index].vnf-id \"\n\tpfx=\"tmp.aai.update.vnf\" >\n<parameter name=\"vnf-name\" value='`$tmp.ss.vnf-name`' />\n\n","comments":"","outputs":1,"x":1759.6191101074219,"y":3055.880904197693,"z":"a47d3f62.0db2a","wires":[["bd7d2fe0.b68fb","5ba61c06.ee5304"]]},{"id":"56e25424.f8ca1c","type":"set","name":"set tmp.ss.vnf-name","xml":"<set>\n<parameter name='tmp.ss.vnf-name' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$i].value`' />\n","comments":"","x":1732.5357627868652,"y":3004.3809814453125,"z":"a47d3f62.0db2a","wires":[]},{"id":"f23e2f70.045a1","type":"break","name":"break","xml":"<break>\n","comments":"","x":1698.3690567016602,"y":3158.797571182251,"z":"a47d3f62.0db2a","wires":[]},{"id":"5dbfb083.b9606","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1504.035831451416,"y":3005.0477294921875,"z":"a47d3f62.0db2a","wires":[["56e25424.f8ca1c","f23e2f70.045a1","2e791445.a4035c"]]},{"id":"bd7d2fe0.b68fb","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1978.3690948486328,"y":3055.3808736801147,"z":"a47d3f62.0db2a","wires":[["666e99a.b660b68"]]},{"id":"5ba61c06.ee5304","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1984.6191062927246,"y":3107.13090801239,"z":"a47d3f62.0db2a","wires":[["8bd36bfb.9ea288"]]},{"id":"796ecfd8.ad192","type":"set","name":"set ss.capability-type = vnf","xml":"<set>\n<parameter name='ss.capability-type' value='vnf' />\n","comments":"","x":414.89292907714844,"y":1331.7857942581177,"z":"a47d3f62.0db2a","wires":[]},{"id":"451745db.c8b2dc","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":888.0356597900391,"y":1389.142903327942,"z":"a47d3f62.0db2a","wires":[["e543e5f2.e32d38","220cb46a.85a42c"]]},{"id":"48d48b0b.9b7ee4","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":1200.0000343322754,"y":2435.0000381469727,"z":"a47d3f62.0db2a","wires":[["df8ea433.364878"]]},{"id":"df8ea433.364878","type":"set","name":"set capability-dg to ASSIGNED","xml":"<set>\n<parameter name='`$ss.capability-dg`' value='ASSIGNED' />\n","comments":"","x":1425.7500190734863,"y":2434.7500104904175,"z":"a47d3f62.0db2a","wires":[]},{"id":"ef4a1f4a.908b2","type":"for","name":"for each existing VNF","xml":"<for index='idx' start='0' end='`$service-data.vnfs.vnf_length`' >\n","comments":"","outputs":1,"x":1037.0357284545898,"y":309.03579807281494,"z":"a47d3f62.0db2a","wires":[["ff270dd8.c9dc7"]]},{"id":"ff270dd8.c9dc7","type":"switchNode","name":"switch vnf-id: input vs service-data","xml":"<switch test='`$vnf-topology-operation-input.vnf-information.vnf-id == $service-data.vnfs.vnf[$idx].vnf-id`'>\n","comments":"","outputs":1,"x":1314.321434020996,"y":309.10728549957275,"z":"a47d3f62.0db2a","wires":[["55ebd166.33405"]]},{"id":"55ebd166.33405","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1537.1072006225586,"y":308.6787576675415,"z":"a47d3f62.0db2a","wires":[["6806b14.a8f845"]]},{"id":"6806b14.a8f845","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1669.5714530944824,"y":308.71431827545166,"z":"a47d3f62.0db2a","wires":[["99d81dc8.57193","7326f640.324808","d315c462.672bf8"]]},{"id":"99d81dc8.57193","type":"break","name":"break","xml":"<break>\n","comments":"","x":1837.464241027832,"y":394.7142963409424,"z":"a47d3f62.0db2a","wires":[]},{"id":"2dfd6f3f.b7eec","type":"set","name":"set new vnf_length = 1","xml":"<set>\n<parameter name='service-data.vnfs.vnf_length' value='1' />\n","comments":"","x":1047.642951965332,"y":232.07148838043213,"z":"a47d3f62.0db2a","wires":[]},{"id":"7326f640.324808","type":"set","name":"set vnf-index = idx","xml":"<set>\n<parameter name='vnf-index' value='`$idx`' />\n","comments":"","x":1868.0357971191406,"y":351.4999752044678,"z":"a47d3f62.0db2a","wires":[]},{"id":"4b6bc0ee.44eac","type":"set","name":"set capability-dg to ASSIGNED","xml":"<set>\n<parameter name='`$ss.capability-dg`' value='ASSIGNED' />\n","comments":"","x":1038.0000228881836,"y":2009.666543006897,"z":"a47d3f62.0db2a","wires":[]},{"id":"14fdb51a.9d237b","type":"switchNode","name":"switch tmp.ss.vnf-name","xml":"<switch test='`$tmp.ss.vnf-name`'>\n","comments":"","outputs":1,"x":817.1666412353516,"y":3220.166880607605,"z":"a47d3f62.0db2a","wires":[["47de36e9.927748"]]},{"id":"47de36e9.927748","type":"other","name":"NULL","xml":"<outcome value=''>\n","comments":"","outputs":1,"x":1025.4999313354492,"y":3220.1669340133667,"z":"a47d3f62.0db2a","wires":[["de2efbc5.075dd8"]]},{"id":"de2efbc5.075dd8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'generic-vnf not updated because vnf-name param.value is null; '+ $error-message`\" />\n","comments":"","x":1198.8332443237305,"y":3220.1669340133667,"z":"a47d3f62.0db2a","wires":[]},{"id":"992c0810.0b6c48","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":573.0000152587891,"y":3006.1667919158936,"z":"a47d3f62.0db2a","wires":[["875bd0b4.df5c","14fdb51a.9d237b"]]},{"id":"666e99a.b660b68","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'Failed to update generic-vnf.vnf-name in AnAI with vnf-name=' + $tmp.ss.vnf-name`\" />\n","comments":"","x":2154.66646194458,"y":3055.1666402816772,"z":"a47d3f62.0db2a","wires":[]},{"id":"8bd36bfb.9ea288","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'Failed to update generic-vnf.vnf-name because generic-vnf with vnf-name=' + $tmp.ss.vnf-name + ' is not found in AAI'`\" />\n","comments":"","x":2156.6666259765625,"y":3106.833394050598,"z":"a47d3f62.0db2a","wires":[]},{"id":"8a4e3013.de936","type":"set","name":"set is-new-vnf = true","xml":"<set>\n<parameter name='is-new-vnf' value='true' />\n","comments":"","x":400.8929214477539,"y":168.57144355773926,"z":"a47d3f62.0db2a","wires":[]},{"id":"d315c462.672bf8","type":"set","name":"set is-new-vnf = false","xml":"<set>\n<parameter name='is-new-vnf' value='false' />\n","comments":"","x":1876.0714836120605,"y":308.2143201828003,"z":"a47d3f62.0db2a","wires":[]},{"id":"21bb1e8e.d3c9a2","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":827.2500228881836,"y":308.5000162124634,"z":"a47d3f62.0db2a","wires":[["ef4a1f4a.908b2","f5b48b2f.928b28"]]},{"id":"f5b48b2f.928b28","type":"switchNode","name":"switch is-new-vnf","xml":"<switch test='`$is-new-vnf`'>\n","comments":"","outputs":1,"x":1024.750015258789,"y":395.0714178085327,"z":"a47d3f62.0db2a","wires":[["59f7b302.99346c"]]},{"id":"59f7b302.99346c","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1204.6071701049805,"y":394.64286518096924,"z":"a47d3f62.0db2a","wires":[["cb7228e9.c3b608"]]},{"id":"32deb3a2.50313c","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":842.7499923706055,"y":187.24999713897705,"z":"a47d3f62.0db2a","wires":[["7bff0459.171e4c","2dfd6f3f.b7eec"]]},{"id":"380e8ac4.4fe806","type":"other","name":"0","xml":"<outcome value='0'>\n","comments":"","outputs":1,"x":687.2499923706055,"y":246.99999904632568,"z":"a47d3f62.0db2a","wires":[["32deb3a2.50313c"]]},{"id":"15906be0.23cf64","type":"switchNode","name":"switch is-new-vnf","xml":"<switch test='`$is-new-vnf`'>\n","comments":"","outputs":1,"x":388.75000381469727,"y":562.5000057220459,"z":"a47d3f62.0db2a","wires":[["c442a590.9cb608"]]},{"id":"c442a590.9cb608","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":568.6071586608887,"y":562.0714530944824,"z":"a47d3f62.0db2a","wires":[["9e98c03e.e81b8"]]},{"id":"2b3368f9.1b3888","type":"set","name":"set new vnf_length++","xml":"<set>\n<parameter name='service-data.vnfs.vnf_length' value='`$service-data.vnfs.vnf_length + 1`' />\n","comments":"","x":1552.5,"y":441.25,"z":"a47d3f62.0db2a","wires":[]},{"id":"cb7228e9.c3b608","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1350.4999771118164,"y":394.24996185302734,"z":"a47d3f62.0db2a","wires":[["2b3368f9.1b3888","af062a27.b8c7e8"]]},{"id":"af062a27.b8c7e8","type":"set","name":"set vnf-index = vnf_length","xml":"<set>\n<parameter name='vnf-index' value='`$service-data.vnfs.vnf_length`' />\n","comments":"","x":1561.9999809265137,"y":393.74996185302734,"z":"a47d3f62.0db2a","wires":[]},{"id":"574274d.1ac608c","type":"switchNode","name":"switch self-serve-generate-name == ASSIGNED","xml":"<switch test=\"`$self-serve-generate-name == 'ASSIGNED'`\">\n","comments":"","outputs":1,"x":491.21429443359375,"y":2597.6785287857056,"z":"a47d3f62.0db2a","wires":[["9d0fc53f.b5f228","4c3d2164.0dd89"]]},{"id":"9d0fc53f.b5f228","type":"success","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":768.2499542236328,"y":2624.1070976257324,"z":"a47d3f62.0db2a","wires":[["4f301fb0.3f124"]]},{"id":"4c3d2164.0dd89","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":766.3571815490723,"y":2573.9285945892334,"z":"a47d3f62.0db2a","wires":[["98f98654.967378"]]},{"id":"397fc91b.0a2766","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"`'SS: self-serve-generate-name status: ' + $self-serve-generate-name`\"/>","comments":"","outputs":1,"x":1115.7857627868652,"y":2573.9287672042847,"z":"a47d3f62.0db2a","wires":[[]]},{"id":"98f98654.967378","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":932.2143058776855,"y":2573.928713117327,"z":"a47d3f62.0db2a","wires":[["397fc91b.0a2766","73893e1f.6bae3"]]},{"id":"73893e1f.6bae3","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'AAI Put is being skipped because NOT all capability components have SUCCESS status; '+ $error-message`\" />\n","comments":"","x":1137.0714530944824,"y":2617.3573207855225,"z":"a47d3f62.0db2a","wires":[]},{"id":"8fa8f758.5db488","type":"success","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1088.1428184509277,"y":2779.5713834762573,"z":"a47d3f62.0db2a","wires":[["992c0810.0b6c48"]]},{"id":"7fc34b4c.c5b9b4","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1086.2500457763672,"y":2729.3928804397583,"z":"a47d3f62.0db2a","wires":[["f8c43567.d4b9a8"]]},{"id":"b1b00e7f.817be","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"`'SS: self-serve-unresolved-composite-data: ' + $self-serve-unresolved-composite-data`\"/>","comments":"","outputs":1,"x":1435.6786270141602,"y":2729.3930530548096,"z":"a47d3f62.0db2a","wires":[[]]},{"id":"f8c43567.d4b9a8","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1252.1071701049805,"y":2729.392998967852,"z":"a47d3f62.0db2a","wires":[["b1b00e7f.817be","e43776b3.667168"]]},{"id":"e43776b3.667168","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'AAI Put is being skipped because NOT all capability components have SUCCESS status; '+ $error-message`\" />\n","comments":"","x":1456.9643173217773,"y":2772.8216066360474,"z":"a47d3f62.0db2a","wires":[]},{"id":"4f301fb0.3f124","type":"switchNode","name":"switch self-serve-unresolved-composite-data == ASSIGNED or NULL","xml":"<switch test=\"`$self-serve-unresolved-composite-data == 'ASSIGNED' or $self-serve-unresolved-composite-data == ''`\">\n","comments":"","outputs":1,"x":738.1428833007812,"y":2752.321346282959,"z":"a47d3f62.0db2a","wires":[["7fc34b4c.c5b9b4","8fa8f758.5db488"]]}]