[{"id":"3634132b.aae9cc","type":"dgstart","name":"DGSTART","outputs":1,"x":111.42857360839844,"y":85.27079892158508,"z":"4bbef54d.3c199c","wires":[["b811bd8c.58626"]]},{"id":"b811bd8c.58626","type":"service-logic","name":"GENERIC-RESOURCE-API ${project.version}","module":"GENERIC-RESOURCE-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>","outputs":1,"x":226.7142791748047,"y":124.8422462940216,"z":"4bbef54d.3c199c","wires":[["903f1211.d11ba"]]},{"id":"903f1211.d11ba","type":"method","name":"method vf-module-topology-operation-unassign","xml":"<method rpc='vf-module-topology-operation-unassign' mode='sync'>\n","comments":"","outputs":1,"x":233.52387237548828,"y":165.27079510688782,"z":"4bbef54d.3c199c","wires":[["3e241fed.dce8d"]]},{"id":"4bbac542.26042c","type":"comment","name":"vf-module-topology-operation-unassign","info":"","comments":"","x":505.77342987060547,"y":32.85714268684387,"z":"4bbef54d.3c199c","wires":[]},{"id":"7d0a0f77.67fe3","type":"switchNode","name":"switch request-action","xml":"<switch test='`$vf-module-topology-operation-input.request-information.request-action`'>\n","comments":"","outputs":1,"x":514.9523849487305,"y":264.1279366016388,"z":"4bbef54d.3c199c","wires":[["858f056.ea102f8","69293fca.60217"]]},{"id":"858f056.ea102f8","type":"outcome","name":"DeleteVfModuleInstance","xml":"<outcome value='DeleteVfModuleInstance'>\n","comments":"","outputs":1,"x":777,"y":241.270822763443,"z":"4bbef54d.3c199c","wires":[["bd986f3d.05e4d"]]},{"id":"69293fca.60217","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":720.6666450500488,"y":286.65181183815,"z":"4bbef54d.3c199c","wires":[["4b2c39f.c1425c8"]]},{"id":"bd986f3d.05e4d","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":966.8571643829346,"y":241.27085423469543,"z":"4bbef54d.3c199c","wires":[[]]},{"id":"4b2c39f.c1425c8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"If svc-action is 'deactivate' then request-action must be 'DeleteVfModuleInstance'\" />\n","comments":"","x":985.6666526794434,"y":286.9851243495941,"z":"4bbef54d.3c199c","wires":[]},{"id":"3e241fed.dce8d","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":134.76190948486328,"y":548.6040890216827,"z":"4bbef54d.3c199c","wires":[["7d0a0f77.67fe3","4fda8279.7e1a2c","54011fb9.04278","dd0c290.fa2dfd8","cf3cb3a4.71148","c7d85a41.4cf3c8","3700f1e7.c7a0de","d32fc0f1.b0335","face273e.1dbef8","3cafd812.76e3b8","ea148e30.283d3","12418747.0556a9","177346be.1e3b89","7391d4c.0a61d2c","9e6f1a75.404bf8"]]},{"id":"54011fb9.04278","type":"switchNode","name":"switch service-data.vnfs.vnf_length","xml":"<switch test='`$service-data.vnfs.vnf_length`'>\n","comments":"","outputs":1,"x":561.4285583496094,"y":408.60411190986633,"z":"4bbef54d.3c199c","wires":[["2f8b9c68.d88264","801d20e1.503d5"]]},{"id":"2f8b9c68.d88264","type":"other","name":"NULL","xml":"<outcome value=''>\n","comments":"","outputs":1,"x":802.1428298950195,"y":385.7468521595001,"z":"4bbef54d.3c199c","wires":[["9a288953.c31b18"]]},{"id":"801d20e1.503d5","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":801.904670715332,"y":426.6993706226349,"z":"4bbef54d.3c199c","wires":[["b9fd5234.dea25"]]},{"id":"9a288953.c31b18","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"There are no VNFs defined in MD-SAL\" />\n","comments":"","x":968.8094444274902,"y":385.0326073169708,"z":"4bbef54d.3c199c","wires":[]},{"id":"b9fd5234.dea25","type":"for","name":"for each vnf","xml":"<for index='idx' start='0' end='`$service-data.vnfs.vnf_length`' >\n","comments":"","outputs":1,"x":964.1428146362305,"y":426.36598896980286,"z":"4bbef54d.3c199c","wires":[["37afdfcf.8df9b"]]},{"id":"37afdfcf.8df9b","type":"switchNode","name":"switch service data vnf == input vnf","xml":"<switch test='`$service-data.vnfs.vnf[$idx].vnf-id == $vf-module-topology-operation-input.vnf-information.vnf-id`'>\n","comments":"","outputs":1,"x":1215.47603225708,"y":426.0326759815216,"z":"4bbef54d.3c199c","wires":[["4d313f64.53af3"]]},{"id":"4d313f64.53af3","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1445.4761238098145,"y":425.36602997779846,"z":"4bbef54d.3c199c","wires":[["743dde83.7b049"]]},{"id":"4fda8279.7e1a2c","type":"set","name":"set vnf-index to -1","xml":"<set>\n<parameter name='vnf-index' value='-1' />\n","comments":"","x":510.47618103027344,"y":340.0326111316681,"z":"4bbef54d.3c199c","wires":[]},{"id":"955acb16.2e9198","type":"set","name":"set vnf-index to idx","xml":"<set>\n<parameter name='vnf-index' value='`$idx`' />\n","comments":"","x":1767.1427612304688,"y":396.36598801612854,"z":"4bbef54d.3c199c","wires":[]},{"id":"dd0c290.fa2dfd8","type":"switchNode","name":"switch vnf-index","xml":"<switch test='`$vnf-index`'>\n","comments":"","outputs":1,"x":500.47618865966797,"y":476.69930768013,"z":"4bbef54d.3c199c","wires":[["7a7787fa.85d6c8"]]},{"id":"7a7787fa.85d6c8","type":"outcome","name":"-1","xml":"<outcome value='-1'>\n","comments":"","outputs":1,"x":678.8095741271973,"y":476.03268361091614,"z":"4bbef54d.3c199c","wires":[["b1e4fb77.0ad6d8"]]},{"id":"b1e4fb77.0ad6d8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unable to find VNF ID ' + $vf-module-topology-operation-input.vnf-information.vnf-id + ' in MD-SAL'`\" />\n","comments":"","x":838.8094825744629,"y":475.3659870624542,"z":"4bbef54d.3c199c","wires":[]},{"id":"743dde83.7b049","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1593.809585571289,"y":424.2857286930084,"z":"4bbef54d.3c199c","wires":[["955acb16.2e9198","227b40bb.b89e1"]]},{"id":"227b40bb.b89e1","type":"break","name":"break","xml":"<break>\n","comments":"","x":1728.8095512390137,"y":445.95231461524963,"z":"4bbef54d.3c199c","wires":[]},{"id":"c7d85a41.4cf3c8","type":"switchNode","name":"switch service-data...vf-module_length","xml":"<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length`'>\n","comments":"","outputs":1,"x":574.7618713378906,"y":598.6041367053986,"z":"4bbef54d.3c199c","wires":[["1d3ba2f9.4d00cd","b4ccb8c5.aa3838"]]},{"id":"1d3ba2f9.4d00cd","type":"other","name":"NULL","xml":"<outcome value=''>\n","comments":"","outputs":1,"x":825.4761810302734,"y":577.4135401248932,"z":"4bbef54d.3c199c","wires":[["f4f84ccb.bce1a"]]},{"id":"b4ccb8c5.aa3838","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":825.2380218505859,"y":618.366058588028,"z":"4bbef54d.3c199c","wires":[["f90e4678.074348"]]},{"id":"f4f84ccb.bce1a","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'There are no VF modules defined in MD-SAL for VNF ' + $vf-module-topology-operation-input.vnf-information.vnf-id`\" />\n","comments":"","x":992.1427955627441,"y":576.6992952823639,"z":"4bbef54d.3c199c","wires":[]},{"id":"f90e4678.074348","type":"for","name":"for each vf-module","xml":"<for index='idx' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length`' >\n","comments":"","outputs":1,"x":987.4761657714844,"y":618.0326769351959,"z":"4bbef54d.3c199c","wires":[["7b6c52f9.40101c"]]},{"id":"7b6c52f9.40101c","type":"switchNode","name":"switch service data vf-module == input vf-module","xml":"<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-id == $vf-module-topology-operation-input.vf-module-information.vf-module-id`'>\n","comments":"","outputs":1,"x":1293.809326171875,"y":617.6994125843048,"z":"4bbef54d.3c199c","wires":[["63e22dc4.06f384"]]},{"id":"63e22dc4.06f384","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1563.8093795776367,"y":615.3660175800323,"z":"4bbef54d.3c199c","wires":[["84f0d1b4.6509b"]]},{"id":"cf3cb3a4.71148","type":"set","name":"set vf-module-index to -1","xml":"<set>\n<parameter name='vf-module-index' value='-1' />\n","comments":"","x":530.4761657714844,"y":533.3659737110138,"z":"4bbef54d.3c199c","wires":[]},{"id":"feddd314.78bc1","type":"set","name":"set vf-module-index to idx","xml":"<set>\n<parameter name='vf-module-index' value='`$idx`' />\n","comments":"","x":1893.809471130371,"y":586.3659965991974,"z":"4bbef54d.3c199c","wires":[]},{"id":"3700f1e7.c7a0de","type":"switchNode","name":"switch vf-module-index","xml":"<switch test='`$vf-module-index`'>\n","comments":"","outputs":1,"x":522.1428489685059,"y":670.0326864719391,"z":"4bbef54d.3c199c","wires":[["30d75429.dce6dc"]]},{"id":"30d75429.dce6dc","type":"outcome","name":"-1","xml":"<outcome value='-1'>\n","comments":"","outputs":1,"x":700.4762344360352,"y":669.3660624027252,"z":"4bbef54d.3c199c","wires":[["dc3fcd3f.7fb5a"]]},{"id":"dc3fcd3f.7fb5a","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unable to find VF module ID ' + $vf-module-topology-operation-input.vf-module-information.vf-module-id + ' in MD-SAL'`\" />\n","comments":"","x":860.4761428833008,"y":668.6993658542633,"z":"4bbef54d.3c199c","wires":[]},{"id":"84f0d1b4.6509b","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1697.142921447754,"y":614.2857573032379,"z":"4bbef54d.3c199c","wires":[["feddd314.78bc1","bb579fe6.15d06"]]},{"id":"bb579fe6.15d06","type":"break","name":"break","xml":"<break>\n","comments":"","x":1832.1428871154785,"y":635.9523432254791,"z":"4bbef54d.3c199c","wires":[]},{"id":"d32fc0f1.b0335","type":"switchNode","name":"switch order-status","xml":"<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-level-oper-status.order-status`'>\n","comments":"","outputs":1,"x":511.42855072021484,"y":738.6041233539581,"z":"4bbef54d.3c199c","wires":[["a6a4bb26.1f3248","3d378319.cd568c"]]},{"id":"a6a4bb26.1f3248","type":"outcome","name":"Created","xml":"<outcome value='Created'>\n","comments":"","outputs":1,"x":689.7619361877441,"y":713.604165315628,"z":"4bbef54d.3c199c","wires":[["586d3384.e6473c"]]},{"id":"3d378319.cd568c","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":686.428539276123,"y":758.6041061878204,"z":"4bbef54d.3c199c","wires":[["9f24bb12.d8e6c8"]]},{"id":"586d3384.e6473c","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Order status must not be Created\" />\n","comments":"","x":858.0951766967773,"y":713.6040947437286,"z":"4bbef54d.3c199c","wires":[]},{"id":"9f24bb12.d8e6c8","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":861.4285507202148,"y":758.2707817554474,"z":"4bbef54d.3c199c","wires":[[]]},{"id":"3cafd812.76e3b8","type":"update","name":"update EIPAM_IP_ASSIGNMENTS to PENDING_DELETE...","xml":"<update plugin=\"org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource\" resource=\"SQL\"\nkey=\"UPDATE EIPAM_IP_ASSIGNMENTS set status = $tmp.status WHERE info = $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-topology-identifier.vf-module-id\" >","comments":"","outputs":1,"x":638.0952758789062,"y":855.2707741260529,"z":"4bbef54d.3c199c","wires":[["29a4dd2c.571cc2"]]},{"id":"face273e.1dbef8","type":"set","name":"set status variable","xml":"<set>\n<parameter name='tmp.status' value=\"`'PENDING_DELETE_' + $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-topology-identifier.vf-module-id`\" />\n","comments":"","x":508.0952453613281,"y":808.6041061878204,"z":"4bbef54d.3c199c","wires":[]},{"id":"29a4dd2c.571cc2","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":943.0951843261719,"y":853.6040737628937,"z":"4bbef54d.3c199c","wires":[["7b359e3e.4af98"]]},{"id":"7b359e3e.4af98","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error updating EIPAM_IP_ASSIGNMENTS table\" />\n","comments":"","x":1133.0952110290527,"y":853.4138090610504,"z":"4bbef54d.3c199c","wires":[]},{"id":"7391d4c.0a61d2c","type":"execute","name":"execute EIPAM unassign IP addresses","xml":"<execute plugin=\"com.att.sdnctl.sli.plugin.eipam.EIPAMPlugin\" method=\"unassignIPAddress\">\n<parameter name=\"deleteEIPAM_status\" value=\"`$tmp.status`\" />\n","comments":"","outputs":1,"x":571.4285736083984,"y":950.2707951068878,"z":"4bbef54d.3c199c","wires":[["f775a31f.14032"]]},{"id":"f775a31f.14032","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":808.0951995849609,"y":950.2707378864288,"z":"4bbef54d.3c199c","wires":[["fbea9023.f0a21"]]},{"id":"fbea9023.f0a21","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error in EIPAM unassign IP address\" />\n","comments":"","x":998.0952262878418,"y":950.0804731845856,"z":"4bbef54d.3c199c","wires":[]},{"id":"ea148e30.283d3","type":"for","name":"for each vm-type","xml":"<for silentFailure='true' index='vm-type-index' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm_length`' >\n","comments":"","outputs":1,"x":503.09523010253906,"y":995.2707560062408,"z":"4bbef54d.3c199c","wires":[["dd94f1e3.ff795"]]},{"id":"dd94f1e3.ff795","type":"for","name":"for each vm","xml":"<for silentFailure='true' index='vm-index' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-count`' >\n","comments":"","outputs":1,"x":698.0952606201172,"y":994.6037638187408,"z":"4bbef54d.3c199c","wires":[["ec57ffa3.2de6d"]]},{"id":"5d88eeac.72f3c","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1446.4289016723633,"y":992.9364054203033,"z":"4bbef54d.3c199c","wires":[["6706540e.3756bc"]]},{"id":"cd37cc6b.08ecc","type":"comment","name":"Not a failure","info":"","comments":"","x":1769.7619552612305,"y":991.2702276706696,"z":"4bbef54d.3c199c","wires":[]},{"id":"6706540e.3756bc","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"GENERIC-RESOURCE-API.vf-module-topology-operation-assign:REQID\"/>\n<parameter name=\"field3\" value=\"`$vf-module-topology-operation-input.sdnc-request-header.svc-request-id`\"/>\n<parameter name=\"field4\" value=\"Failed to insert VIPR_CONFIGURATION record\"/>\n","comments":"","outputs":1,"x":1592.4288368225098,"y":992.9370386600494,"z":"4bbef54d.3c199c","wires":[[]]},{"id":"ec57ffa3.2de6d","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":866.428653717041,"y":993.6036083698273,"z":"4bbef54d.3c199c","wires":[["6b0a27e8.69d2a8"]]},{"id":"6b0a27e8.69d2a8","type":"delete","name":"delete any records in VIPR_CONFIGURATION","xml":"<delete plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='DELETE from VIPR_CONFIGURATION WHERE vnf_id = $service-data.vnfs.vnf[$vnf-index].vnf-id\n     AND ecomp_service_instance_id = $service-data.service-information.service-instance-id\n     AND vm_name = $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vm-name[$vm-index]' >","comments":"","outputs":1,"x":1153.0953674316406,"y":993.2710382938385,"z":"4bbef54d.3c199c","wires":[["5d88eeac.72f3c"]]},{"id":"e25e36f2.2bb898","type":"for","name":"for each vf module","xml":"<for index='idx' start='`$vf-module-index + 1`' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length`' >\n","comments":"","outputs":1,"x":1079.2696990966797,"y":1083.6039497852325,"z":"4bbef54d.3c199c","wires":[["50854db5.0c09d4"]]},{"id":"54369fbe.68bda","type":"comment","name":"Remove VF Module from service data","info":"","comments":"","x":458.09519958496094,"y":1038.8423902988434,"z":"4bbef54d.3c199c","wires":[]},{"id":"50854db5.0c09d4","type":"set","name":"move vf module to remove one","xml":"<set>\n\t<parameter name=\"tmpidx\" value=\"`$idx - 1`\"/>\n\t<parameter name=\"service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmpidx].\" value=\"$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].\" />\n\t\n","comments":"","x":1322.8608322143555,"y":1082.6279156208038,"z":"4bbef54d.3c199c","wires":[]},{"id":"12418747.0556a9","type":"switchNode","name":"switch vf-module_length","xml":"<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length`'>\n","comments":"","outputs":1,"x":525.5276184082031,"y":1094.9456207752228,"z":"4bbef54d.3c199c","wires":[["96160dc8.1f5f6","66823801.7689b8"]]},{"id":"96160dc8.1f5f6","type":"outcome","name":"1","xml":"<outcome value='1'>\n","comments":"","outputs":1,"x":720.8609848022461,"y":1045.8502275943756,"z":"4bbef54d.3c199c","wires":[["12a46b54.143dd5"]]},{"id":"12a46b54.143dd5","type":"set","name":"Remove vf modules","xml":"<set>\n\t<parameter name=\"service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.\" value=\"\"/>\n\n","comments":"","x":892.8607559204102,"y":1045.8503468036652,"z":"4bbef54d.3c199c","wires":[]},{"id":"66823801.7689b8","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":719.5277404785156,"y":1140.6120369434357,"z":"4bbef54d.3c199c","wires":[["2bcfe8b8.486238"]]},{"id":"e9f7f8ad.ae21a8","type":"set","name":"set new vf module length","xml":"<set>\n\t<parameter name=\"service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length\" value=\"`$lastidx`\"/>\n\n\t\n","comments":"","x":1098.1572341918945,"y":1211.326426744461,"z":"4bbef54d.3c199c","wires":[]},{"id":"74efe5f4.b4841c","type":"set","name":"Remove the last vf module in the list","xml":"<set>\n\t<parameter name=\"service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$lastidx].\" value=\"\"/>\n","comments":"","x":1133.8608474731445,"y":1167.4375641345978,"z":"4bbef54d.3c199c","wires":[]},{"id":"2bcfe8b8.486238","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":876.7656707763672,"y":1139.850038766861,"z":"4bbef54d.3c199c","wires":[["e25e36f2.2bb898","74efe5f4.b4841c","e9f7f8ad.ae21a8","97e35dd8.d7e27"]]},{"id":"177346be.1e3b89","type":"returnSuccess","name":"return success","xml":"<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n","comments":"","x":498.09523010253906,"y":1271.4612438678741,"z":"4bbef54d.3c199c","wires":[]},{"id":"9e6f1a75.404bf8","type":"set","name":"set service-type","xml":"<set>\n<parameter name='service-data.service-information.service-type' value='`$service-data.service-information.subscription-service-type`' />\n","comments":"EIPAM plug-in needs this attribute set with this name","x":499.7618865966797,"y":901.1904366016388,"z":"4bbef54d.3c199c","wires":[]},{"id":"97e35dd8.d7e27","type":"set","name":"set lastidx","xml":"<set>\n<parameter name='lastidx' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length - 1`' />\n","comments":"EIPAM plug-in needs this attribute set with this name","x":1052.000015258789,"y":1123.8422634601593,"z":"4bbef54d.3c199c","wires":[]}]
