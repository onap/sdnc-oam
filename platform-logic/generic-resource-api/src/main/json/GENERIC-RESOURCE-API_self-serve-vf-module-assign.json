[{"id":"3560e515.54c98a","type":"dgstart","name":"DGSTART","outputs":1,"x":92.5,"y":37.5,"z":"a1447ddc.1baaf","wires":[["70c13e37.da2a2"]]},{"id":"403234e5.5ff69c","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":128.69049072265625,"y":152.34921646118164,"z":"a1447ddc.1baaf","wires":[["6175d91c.80a228","22313775.627058","4ac1cccf.0fbdf4","5f632565.5703cc","48c02c45.2af764","1debefb9.6eb29","1b7280ea.37dc5f","b1c04da3.0bbee","61714731.eb3998"]]},{"id":"b6f03bb7.965918","type":"method","name":"method self-serve-vf-module-assign","xml":"<method rpc='self-serve-vf-module-assign' mode='sync'>\n","comments":"","outputs":1,"x":209.26190948486328,"y":92.20635509490967,"z":"a1447ddc.1baaf","wires":[["403234e5.5ff69c"]]},{"id":"70c13e37.da2a2","type":"service-logic","name":"GENERIC-RESOURCE-API ${project.version}","module":"GENERIC-RESOURCE-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>","outputs":1,"x":367.73819732666016,"y":37.69049263000488,"z":"a1447ddc.1baaf","wires":[["b6f03bb7.965918"]]},{"id":"22313775.627058","type":"switchNode","name":"switch vf-module-parameters.param_length","xml":"<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param_length`'>\n","comments":"","outputs":1,"x":443.7500305175781,"y":1354.8691635131836,"z":"a1447ddc.1baaf","wires":[["f52f2d81.7f35b"]]},{"id":"f52f2d81.7f35b","type":"other","name":"NULL","xml":"<outcome value=''>\n","comments":"","outputs":1,"x":703.7500610351562,"y":1354.8691635131836,"z":"a1447ddc.1baaf","wires":[["9eaaad06.c49f4"]]},{"id":"a2c86795.41e7b8","type":"call","name":"call GENERIC-RESOURCE-API:self-serve-vfmodule-ra-assignment","xml":"<call module='GENERIC-RESOURCE-API' rpc='self-serve-vfmodule-ra-assignment' mode='sync' >\n","comments":"","outputs":1,"x":1245.4643096923828,"y":1402.1549139022827,"z":"a1447ddc.1baaf","wires":[["23b5a1bc.c2aeae"]]},{"id":"a1932a98.076d38","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'Failed to get RA assignments: ' + $error-message`\" />\n","comments":"","x":1726.1785507202148,"y":1401.7263174057007,"z":"a1447ddc.1baaf","wires":[]},{"id":"7932bb94.260364","type":"for","name":"foreach vf-module-parameters.param[]","xml":"<for index='pidx' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param_length`' >\n","comments":"","outputs":1,"x":717.6073913574219,"y":1780.7620267868042,"z":"a1447ddc.1baaf","wires":[["c92ff5c8.4909a8","8cf53757.b98dc8"]]},{"id":"6175d91c.80a228","type":"set","name":"set ss.capability.execution-order[]","xml":"<set>\n<parameter name='ss.capability.execution-order[0]' value='generate-name' />\n<parameter name='ss.capability.execution-order[1]' value='alts-entitlement-assign' />\n<parameter name='ss.capability.execution-order[2]' value='alts-license-assign' />\n<parameter name='ss.capability.execution-order[3]' value='vlan-tag-assign' />\n<parameter name='ss.capability.execution-order[4]' value='eipam-ip-assign' />\n<parameter name='ss.capability.execution-order[5]' value='eipam-create-pool\"' />\n<parameter name='ss.capability.execution-order[6]' value='mac-address-assign' />\n<parameter name='ss.capability.execution-order[7]' value='create-vpe-pool' />\n<parameter name='ss.capability.execution-order[8]' value='unresolved-composite-data' />\n<parameter name='ss.capability.execution-order_length' value='9' />\n","comments":"","x":415.91666412353516,"y":1216.9286432266235,"z":"a1447ddc.1baaf","wires":[]},{"id":"4ac1cccf.0fbdf4","type":"for","name":"foreach capability-order[]","xml":"<for index='cidx' start='0' end='`$ss.capability.execution-order_length`' >\n","comments":"","outputs":1,"x":384.6786193847656,"y":1520.8690433502197,"z":"a1447ddc.1baaf","wires":[["c84bbb7a.0d8378","b065b955.288328","761ccae1.c8c314","7932bb94.260364"]]},{"id":"c92ff5c8.4909a8","type":"switchNode","name":"switch capability-name param vs. execution","xml":"<switch test='`$ss.capability-name == $tmp.param.capability-name`'>\n","comments":"","outputs":1,"x":1084.0002136230469,"y":1826.4048194885254,"z":"a1447ddc.1baaf","wires":[["95873838.1ada78"]]},{"id":"95873838.1ada78","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1347.5002136230469,"y":1826.6548194885254,"z":"a1447ddc.1baaf","wires":[["125e2acd.452975"]]},{"id":"23b5a1bc.c2aeae","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1572.0356559753418,"y":1401.5835075378418,"z":"a1447ddc.1baaf","wires":[["a1932a98.076d38"]]},{"id":"c84bbb7a.0d8378","type":"set","name":"set ss.capability-name","xml":"<set>\n<parameter name='ss.capability-name' value='`$ss.capability.execution-order[$cidx]`' />\n\n<!--\nss.capability.execution-order\n-->","comments":"","x":676.0356750488281,"y":1520.8214950561523,"z":"a1447ddc.1baaf","wires":[]},{"id":"8cf53757.b98dc8","type":"set","name":"tmp.param.capability-name","xml":"<set>\n<parameter name='tmp.param.capability-name' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.capability-name`' />\n","comments":"","x":1033.3572387695312,"y":1781.0120296478271,"z":"a1447ddc.1baaf","wires":[]},{"id":"761ccae1.c8c314","type":"set","name":"set ss.capability.action = assign","xml":"<set>\n<parameter name='ss.capability-action' value='assign' />\n","comments":"","x":706.7498168945312,"y":1567.738079071045,"z":"a1447ddc.1baaf","wires":[]},{"id":"7a2cad24.827b84","type":"set","name":"set capability-dg with 'self-serve-' + capability-name","xml":"<set>\n<parameter name='ss.capability-dg' value=\"`'self-serve-' + $ss.capability.execution-order[$cidx]`\" />\n","comments":"","x":1210.5118865966797,"y":1714.9643115997314,"z":"a1447ddc.1baaf","wires":[]},{"id":"b065b955.288328","type":"switchNode","name":"switch ss.capability-name","xml":"<switch test='`$ss.capability-name`'>\n","comments":"","outputs":1,"x":690.0118865966797,"y":1616.714319229126,"z":"a1447ddc.1baaf","wires":[["d589a10f.56259","d6f310d8.7ba42","b20bfee0.7f91"]]},{"id":"d589a10f.56259","type":"other","name":"alts-entitlement-assign","xml":"<outcome value='alts-entitlement-assign'>\n","comments":"","outputs":1,"x":972.7620086669922,"y":1617.2143115997314,"z":"a1447ddc.1baaf","wires":[["f3917c17.f9b9d"]]},{"id":"d6f310d8.7ba42","type":"other","name":"alts-license-assign","xml":"<outcome value='alts-license-assign'>\n","comments":"","outputs":1,"x":962.0120086669922,"y":1664.9643115997314,"z":"a1447ddc.1baaf","wires":[["f3917c17.f9b9d"]]},{"id":"b20bfee0.7f91","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":926.0119705200195,"y":1715.2143020629883,"z":"a1447ddc.1baaf","wires":[["7a2cad24.827b84"]]},{"id":"f3917c17.f9b9d","type":"set","name":"set capability-dg to self-serve-alts-assignment","xml":"<set>\n<parameter name='ss.capability-dg' value='self-serve-alts-assignment' />\n","comments":"","x":1311.5118865966797,"y":1616.7143115997314,"z":"a1447ddc.1baaf","wires":[]},{"id":"208a43c2.0e1adc","type":"set","name":"set sdnc-generated-cloud-resources = true","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.sdnc-generated-cloud-resources' \n\tvalue='true' />\n","comments":"","x":1037.452392578125,"y":1103.3573188781738,"z":"a1447ddc.1baaf","wires":[]},{"id":"125e2acd.452975","type":"switchNode","name":"switch resource-resolution-data.status","xml":"<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.status`'>\n","comments":"","outputs":1,"x":475.0121765136719,"y":2239.4723148345947,"z":"a1447ddc.1baaf","wires":[["5afbede0.2e5544","30979fb2.cc18a","bb92d52.d88da28"]]},{"id":"5afbede0.2e5544","type":"other","name":"PENDING","xml":"<outcome value='PENDING'>\n","comments":"","outputs":1,"x":744.3693923950195,"y":2239.472270965576,"z":"a1447ddc.1baaf","wires":[["dcf4c9cf.035d78"]]},{"id":"30979fb2.cc18a","type":"other","name":"SUCCESS","xml":"<outcome value='SUCCESS'>\n","comments":"","outputs":1,"x":747.7978820800781,"y":2190.9365549087524,"z":"a1447ddc.1baaf","wires":[["12260e8d.8fd3c1"]]},{"id":"bb92d52.d88da28","type":"other","name":"FAILED","xml":"<outcome value='FAILED'>\n","comments":"","outputs":1,"x":737.9052085876465,"y":2290.436601638794,"z":"a1447ddc.1baaf","wires":[["dcf4c9cf.035d78"]]},{"id":"dcf4c9cf.035d78","type":"call","name":"call ss.capability-dg","xml":"<call module='GENERIC-RESOURCE-API' rpc='`$ss.capability-dg`' mode='sync' >\n","comments":"","outputs":1,"x":953.0239410400391,"y":2291.198452949524,"z":"a1447ddc.1baaf","wires":[["129c459b.19b80a","a5a5795e.0fdfd8"]]},{"id":"3da967a9.06f7a8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'Encountered error from capability: '+ $ss.capability-dg + ', with error: '+ $error-message`\" />\n","comments":"","x":1530.5715065002441,"y":2699.1750926971436,"z":"a1447ddc.1baaf","wires":[]},{"id":"129c459b.19b80a","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1148.9165229797363,"y":2345.198519706726,"z":"a1447ddc.1baaf","wires":[["165a93a8.65436c"]]},{"id":"165a93a8.65436c","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1312.1906394958496,"y":2344.5080604553223,"z":"a1447ddc.1baaf","wires":[["3da967a9.06f7a8","2753423d.a3875e","43819fdb.e95ef","b2d88241.cc91f","310af886.0bf138","86f5aff8.0a00c"]]},{"id":"2753423d.a3875e","type":"execute","name":"execute RestApiCallNode - PUT vf-module","xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.ss.vfmodule.templatefile`\" />\n    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.ss-vfmodule-url`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-ss-vfmodule\" />\n\n","comments":"","outputs":1,"x":1627.738079071045,"y":2600.882019996643,"z":"a1447ddc.1baaf","wires":[["abef3b2b.025c98","6985b2c8.f2f7bc","65c63d4e.d39434"]]},{"id":"abef3b2b.025c98","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1902.331745147705,"y":2654.8801736831665,"z":"a1447ddc.1baaf","wires":[["a54a9d48.c66c8"]]},{"id":"6985b2c8.f2f7bc","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1894.7603797912598,"y":2601.380193710327,"z":"a1447ddc.1baaf","wires":[["a54a9d48.c66c8"]]},{"id":"65c63d4e.d39434","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":1898.5103721618652,"y":2547.7372913360596,"z":"a1447ddc.1baaf","wires":[["6fb122d8.ceb48c"]]},{"id":"6fb122d8.ceb48c","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":2074.880603790283,"y":2547.6437726020813,"z":"a1447ddc.1baaf","wires":[[]]},{"id":"a54a9d48.c66c8","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":2096.8927040100098,"y":2601.0244483947754,"z":"a1447ddc.1baaf","wires":[["4b2a8851.25ac88"]]},{"id":"4b2a8851.25ac88","type":"configure","name":"set error-message","xml":"<set>\n<parameter name=\"error-message\" value=\"Failed to persist self-serve vf-module assignments during assign in MD-SAL\" />\n","comments":"","outputs":1,"x":2315.1784706115723,"y":2601.167311668396,"z":"a1447ddc.1baaf","wires":[[]]},{"id":"1b7280ea.37dc5f","type":"execute","name":"printContext","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/ss-vf-assign.log' />\n","comments":"","outputs":1,"x":341.54361724853516,"y":4025.90918636322,"z":"a1447ddc.1baaf","wires":[[]]},{"id":"5f632565.5703cc","type":"switchNode","name":"switch vf-module_length","xml":"<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length`'>\n","comments":"","outputs":1,"x":381.7022895812988,"y":271.7619981765747,"z":"a1447ddc.1baaf","wires":[["b758ef1f.14be1","5ba4ce6.5287c3","f1296022.df39e"]]},{"id":"b758ef1f.14be1","type":"other","name":"NULL","xml":"<outcome value=''>\n","comments":"","outputs":1,"x":594.3332595825195,"y":201.15478897094727,"z":"a1447ddc.1baaf","wires":[["15568bd1.4655e4"]]},{"id":"4f3bc7f9.cc1898","type":"set","name":"set vf-module-index=0","xml":"<set>\n<parameter name='vf-module-index' value='0' />\n","comments":"","x":933.4522895812988,"y":212.0715742111206,"z":"a1447ddc.1baaf","wires":[]},{"id":"5ba4ce6.5287c3","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":593.5118522644043,"y":339.9406490325928,"z":"a1447ddc.1baaf","wires":[["286a7c53.0dbc64"]]},{"id":"dfd62a4a.a5a6a8","type":"set","name":"set vf-module-id","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-id'\n   value='`$vf-module-topology-operation-input.vf-module-information.vf-module-id`' />\n","comments":"","x":949.7379302978516,"y":494.1816177368164,"z":"a1447ddc.1baaf","wires":[]},{"id":"d95df464.79fc48","type":"set","name":"set vf-module-parameters","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.'\n  value='vf-module-topology-operation-input.vf-module-request-input.vf-module-input-parameters.' />\n","comments":"","x":1114.4285278320312,"y":1354.0244059562683,"z":"a1447ddc.1baaf","wires":[]},{"id":"ec68163d.860598","type":"set","name":"set order-status to PendingCreate","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-level-oper-status.order-status'\n  value='PendingCreate' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-level-oper-status.last-rpc-action'\n  value='`$vf-module-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-level-oper-status.last-action'\n  value='`$vf-module-topology-operation-input.sdnc-request-header.request-action`' />\n","comments":"","x":1010.0121002197266,"y":1056.0448169708252,"z":"a1447ddc.1baaf","wires":[]},{"id":"43819fdb.e95ef","type":"set","name":"set vf data for restapi-call-node","xml":"<set>\n<parameter name='vf.vf-module-id'\n    value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-id`' />\n<parameter name='vf.vf-module-data.sdnc-request-header.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.sdnc-request-header.`' />\n<parameter name='vf.vf-module-data.request-information.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.request-information.`' />\n<parameter name='vf.vf-module-data.service-information.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.service-information.`' />\n<parameter name='vf.vf-module-data.vnf-information.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vnf-information.`' />\n<parameter name='vf.vf-module-data.vf-module-information.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-information.`' />\n<parameter name='vf.vf-module-data.vf-module-topology.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.`' />\n<parameter name='vf.vf-module-data.vf-module-level-oper-status.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-level-oper-status.`' />\n<parameter name='vf.vf-module-data.vf-module-request-input.vf-module-input-parameters.'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-request-input.vf-module-input-parameters.`' />\n<parameter name='vf.vf-module-data.vf-module-request-input.request-version'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-request-input.request-version`' />\n<parameter name='vf.vf-module-data.vf-module-request-input.vf-module-name'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-request-input.vf-module-name`' />\n<parameter name='vf.vf-module-data.vf-module-request-input.tenant'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-request-input.tenant`' />\n<parameter name='vf.vf-module-data.vf-module-request-input.aic-cloud-region'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-request-input.aic-cloud-region`' />\n<parameter name='vf.vf-module-data.vf-module-request-input.aic-clli'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-request-input.aic-clli`' />","comments":"","x":1589.2501029968262,"y":2345.0000371932983,"z":"a1447ddc.1baaf","wires":[]},{"id":"b2d88241.cc91f","type":"execute","name":"generate ss-vfmodule url replace service-instance-id","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.ss-vfmodule-assignments`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.ss-vfmodule-url\"/>\n    <parameter name=\"target\" value=\"{service-instance-id}\"/>\n    <parameter name=\"replacement\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.service-information.service-instance-id`\"/>\n","comments":"","outputs":1,"x":1655.5000495910645,"y":2393.000082015991,"z":"a1447ddc.1baaf","wires":[[]]},{"id":"310af886.0bf138","type":"execute","name":"generate ss-vfmodule url - replace vnf-id","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.ss-vfmodule-url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.ss-vfmodule-url\"/>\n    <parameter name=\"target\" value=\"{vnf-id}\"/>\n    <parameter name=\"replacement\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vnf-information.vnf-id`\"/>\n","comments":"","outputs":1,"x":1619.7857475280762,"y":2441.0589990615845,"z":"a1447ddc.1baaf","wires":[[]]},{"id":"86f5aff8.0a00c","type":"execute","name":"generate ss-vfmodule url - replace vf-module-id","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.ss-vfmodule-url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.ss-vfmodule-url\"/>\n    <parameter name=\"target\" value=\"{vf-module-id}\"/>\n    <parameter name=\"replacement\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-id`\"/>\n","comments":"","outputs":1,"x":1641.7264213562012,"y":2490.975499153137,"z":"a1447ddc.1baaf","wires":[[]]},{"id":"802f4199.221d9","type":"for","name":"for i in vf-module-parameters.param[]","xml":"<for index='i' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param_length`' >\n","comments":"","outputs":1,"x":1144.8215103149414,"y":3482.250153541565,"z":"a1447ddc.1baaf","wires":[["63bbdf3.ba3e92"]]},{"id":"63bbdf3.ba3e92","type":"switchNode","name":"switch param[$i].name","xml":"<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$i].name`'>\n","comments":"","outputs":1,"x":1423.5715103149414,"y":3482.7501249313354,"z":"a1447ddc.1baaf","wires":[["f2c0e742.0e6348"]]},{"id":"3d984290.7ab9be","type":"save","name":"save VNFC object","xml":"<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"vnfc\" \n\t\tkey=\"vnfc.vnfc-name = $tmp.ss.vnfc-name\" >\n\t<parameter name=\"nfc-function\" value=\"`$tmp.ss.nfc-function`\" />\n\t<parameter name=\"nfc-naming-code\" value=\"`$tmp.ss.nfc-naming-code`\" />\n\t<parameter name=\"orchestration-status\" value=\"pending-create\" />","comments":"","outputs":1,"x":2346.6788787841797,"y":3712.2860794067383,"z":"a1447ddc.1baaf","wires":[["854ac898.930b48"]]},{"id":"f6d62d80.b5987","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":861.6786270141602,"y":3399.071201324463,"z":"a1447ddc.1baaf","wires":[["802f4199.221d9","24c71d4a.b584e2","6c9147d0.5fe2f8"]]},{"id":"854ac898.930b48","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2523.4288635253906,"y":3711.78604888916,"z":"a1447ddc.1baaf","wires":[["69c887d6.9b5348"]]},{"id":"f2c0e742.0e6348","type":"other","name":"vnfc-name","xml":"<outcome value='vnfc-name'>\n<!--\n<outcome value='vmxvre_name_0'>\n-->\n","comments":"","outputs":1,"x":1628.1072387695312,"y":3483.2501068115234,"z":"a1447ddc.1baaf","wires":[["262e2f9.8717ed"]]},{"id":"c5bffeb9.14b6f","type":"switchNode","name":"switch: resource-key[].name","xml":"<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$i].resource-resolution-data.resource-key[$kidx].name`'>\n","comments":"","outputs":1,"x":2094.357452392578,"y":3585.3220615386963,"z":"a1447ddc.1baaf","wires":[["812edad6.13e978","74178c18.aed7c4"]]},{"id":"812edad6.13e978","type":"outcome","name":"nfc-function","xml":"<outcome value='nfc-function'>\n","comments":"","outputs":1,"x":2324.663101196289,"y":3633.8219709396362,"z":"a1447ddc.1baaf","wires":[["c973f219.41108"]]},{"id":"c973f219.41108","type":"set","name":"set tmp.ss.nfc-function","xml":"<set>\n<parameter name='tmp.ss.nfc-function' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$i].resource-resolution-data.resource-key[$kidx].value`' />\n","comments":"","x":2535.163101196289,"y":3633.5719709396362,"z":"a1447ddc.1baaf","wires":[]},{"id":"4c5fac31.d6e484","type":"for","name":"for kidx in resource-key_length","xml":"<for index=\"kidx\" start=\"0\" end=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$i].resource-resolution-data.resource-key_length`\">","comments":"","outputs":1,"x":1809.2185516357422,"y":3585.182762145996,"z":"a1447ddc.1baaf","wires":[["c5bffeb9.14b6f"]]},{"id":"74178c18.aed7c4","type":"outcome","name":"nfc-naming-code","xml":"<outcome value='nfc-naming-code'>\n<!--\n<outcome value='NFC_NAMING_CODE'>\n-->\n","comments":"","outputs":1,"x":2340.80171585083,"y":3584.8220434188843,"z":"a1447ddc.1baaf","wires":[["b4ec70ef.8ec99"]]},{"id":"b4ec70ef.8ec99","type":"set","name":"set tmp.ss.nfc-naming-code","xml":"<set>\n<parameter name='tmp.ss.nfc-naming-code' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$i].resource-resolution-data.resource-key[$kidx].value`' />\n","comments":"","x":2579.912666320801,"y":3584.9330854415894,"z":"a1447ddc.1baaf","wires":[]},{"id":"24c71d4a.b584e2","type":"set","name":"set tmp.ss.nfc-naming-code, nfc-function, vnf-name = null","xml":"<set>\n<parameter name='tmp.ss.nfc-naming-code' value='' />\n<parameter name='tmp.ss.nfc-function' value='' />\n<parameter name='tmp.ss.vnfc-name' value='' />\n","comments":"","x":1210.0195693969727,"y":3398.9684133529663,"z":"a1447ddc.1baaf","wires":[]},{"id":"a404bb90.d05e78","type":"break","name":"break","xml":"<break>\n","comments":"","x":1926.9644317626953,"y":3528.535895347595,"z":"a1447ddc.1baaf","wires":[]},{"id":"262e2f9.8717ed","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1769.8215599060059,"y":3482.8216800689697,"z":"a1447ddc.1baaf","wires":[["2ca06e6a.58e632","a404bb90.d05e78"]]},{"id":"2ca06e6a.58e632","type":"set","name":"set tmp.ss.vnfc-name","xml":"<set>\n<parameter name='tmp.ss.vnfc-name' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$i].value`' />\n","comments":"","x":1973.9643325805664,"y":3482.82168674469,"z":"a1447ddc.1baaf","wires":[]},{"id":"48c02c45.2af764","type":"set","name":"set ss.capability-type = vf-module","xml":"<set>\n<parameter name='ss.capability-type' value='vf-module' />\n","comments":"","x":416.8214569091797,"y":1173.9286012649536,"z":"a1447ddc.1baaf","wires":[]},{"id":"9eaaad06.c49f4","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":879.107153756278,"y":1354.749975476946,"z":"a1447ddc.1baaf","wires":[["d95df464.79fc48","a2c86795.41e7b8"]]},{"id":"a5a5795e.0fdfd8","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":1152.2500915527344,"y":2291.500045776367,"z":"a1447ddc.1baaf","wires":[["e93974be.fb0998"]]},{"id":"e93974be.fb0998","type":"set","name":"set capability-dg to ASSIGNED","xml":"<set>\n<parameter name='`$ss.capability-dg`' value='ASSIGNED' />\n","comments":"","x":1378.0000762939453,"y":2291.250018119812,"z":"a1447ddc.1baaf","wires":[]},{"id":"1debefb9.6eb29","type":"switchNode","name":"switch self-serve-generate-name == ASSIGNED","xml":"<switch test=\"`$self-serve-generate-name == 'ASSIGNED'`\">\n","comments":"","outputs":1,"x":449.5,"y":2859.75,"z":"a1447ddc.1baaf","wires":[["717a357f.ca120c","e2958e1c.63763"]]},{"id":"717a357f.ca120c","type":"success","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":734.2499542236328,"y":2884.7499980926514,"z":"a1447ddc.1baaf","wires":[["2f2598c9.3bca08"]]},{"id":"6c9147d0.5fe2f8","type":"switchNode","name":"switch tmp.ss.vnfc-name != null","xml":"<switch test=\"`$tmp.ss.vnfc-name != ''`\">\n","comments":"","outputs":1,"x":1128.0000762939453,"y":3585.75000667572,"z":"a1447ddc.1baaf","wires":[["1df4e001.bd26c","85198951.816258"]]},{"id":"8b1364a3.1a14f8","type":"switchNode","name":"switch tmp.ss.vnfc-name && nfc-function != null","xml":"<switch test=\"`$tmp.ss.nfc-naming-code != '' and $tmp.ss.nfc-function != ''`\">\n","comments":"","outputs":1,"x":1861.6786193847656,"y":3712.2857913970947,"z":"a1447ddc.1baaf","wires":[["162ae374.daed9d","2aa9bfaa.32c2d"]]},{"id":"1df4e001.bd26c","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1363.5000457763672,"y":3585.999917984009,"z":"a1447ddc.1baaf","wires":[["7ca55b40.817d94"]]},{"id":"162ae374.daed9d","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2146.928642272949,"y":3712.535834312439,"z":"a1447ddc.1baaf","wires":[["3d984290.7ab9be"]]},{"id":"e2958e1c.63763","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":732.3571815490723,"y":2834.5714950561523,"z":"a1447ddc.1baaf","wires":[["7ada8395.66332c"]]},{"id":"b68e8e50.8a80e","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"`'SS: self-serve-generate-name status: ' + $self-serve-generate-name`\"/>","comments":"","outputs":1,"x":1081.7857627868652,"y":2834.5716676712036,"z":"a1447ddc.1baaf","wires":[[]]},{"id":"7ada8395.66332c","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":898.2143058776855,"y":2834.571613584246,"z":"a1447ddc.1baaf","wires":[["b68e8e50.8a80e","315e6329.e71c3c"]]},{"id":"315e6329.e71c3c","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'AAI Put is being skipped because NOT all capability components have SUCCESS status; '+ $error-message`\" />\n","comments":"","x":1103.0714530944824,"y":2878.0002212524414,"z":"a1447ddc.1baaf","wires":[]},{"id":"36d24104.b53f7e","type":"call","name":"call self-serve-aai-vfmodule-put","xml":"<call module='GENERIC-RESOURCE-API' rpc='self-serve-aai-vfmodule-put' mode='sync' >\n","comments":"","outputs":1,"x":1809.9643249511719,"y":3832.381055831909,"z":"a1447ddc.1baaf","wires":[["c4c4e4d8.5cb1c8"]]},{"id":"12260e8d.8fd3c1","type":"set","name":"set capability-dg to ASSIGNED","xml":"<set>\n<parameter name='`$ss.capability-dg`' value='ASSIGNED' />\n","comments":"","x":989.7500457763672,"y":2191.1665811538696,"z":"a1447ddc.1baaf","wires":[]},{"id":"ada601a5.8a40a","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'vnfc object not updated because param.value of vnfc-name is null; '+ $error-message`\" />\n","comments":"","x":2298.6785278320312,"y":3770.61900806427,"z":"a1447ddc.1baaf","wires":[]},{"id":"c4c4e4d8.5cb1c8","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2032.34521484375,"y":3832.285635948181,"z":"a1447ddc.1baaf","wires":[["39f87abf.ed25d6"]]},{"id":"39f87abf.ed25d6","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'generic-vnf and vf-module not updated; '+ $error-message`\" />\n","comments":"","x":2202.34521484375,"y":3831.619132041931,"z":"a1447ddc.1baaf","wires":[]},{"id":"69c887d6.9b5348","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"Failed to save vnfc object in AAI\" />\n","comments":"","x":2699.0120010375977,"y":3711.2860021591187,"z":"a1447ddc.1baaf","wires":[]},{"id":"2aa9bfaa.32c2d","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":2147.3453102111816,"y":3771.28600025177,"z":"a1447ddc.1baaf","wires":[["ada601a5.8a40a"]]},{"id":"b1c04da3.0bbee","type":"set","name":"set is-new-vfmodule = true","xml":"<set>\n<parameter name='is-new-vfmodule' value='true' />\n","comments":"","x":388.5239715576172,"y":152.17872047424316,"z":"a1447ddc.1baaf","wires":[]},{"id":"6b6c11c5.bbcc5","type":"for","name":"for each existing VF module","xml":"<for index='idx' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length`' >\n","comments":"","outputs":1,"x":952.3452301025391,"y":339.6309871673584,"z":"a1447ddc.1baaf","wires":[["45969b2a.6b64b4"]]},{"id":"45969b2a.6b64b4","type":"switchNode","name":"switch vf-module-id: input vs service-data","xml":"<switch test='`$vf-module-topology-operation-input.vf-module-information.vf-module-id == $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-id`'>\n","comments":"","outputs":1,"x":1263.4643630981445,"y":340.20240211486816,"z":"a1447ddc.1baaf","wires":[["fb49eccc.f39ab"]]},{"id":"fb49eccc.f39ab","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1517.3333930969238,"y":340.02385902404785,"z":"a1447ddc.1baaf","wires":[["5b21c603.229ee8"]]},{"id":"575f26c9.68a1f8","type":"set","name":"set is-new-vfmodule = false","xml":"<set>\n<parameter name='is-new-vfmodule' value='false' />\n","comments":"","x":1889.5001335144043,"y":339.2857475280762,"z":"a1447ddc.1baaf","wires":[]},{"id":"5b21c603.229ee8","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1658.7501373291016,"y":339.5357437133789,"z":"a1447ddc.1baaf","wires":[["575f26c9.68a1f8","3271f964.6c61a6","61ab060.a0d1efc"]]},{"id":"3271f964.6c61a6","type":"break","name":"break","xml":"<break>\n","comments":"","x":1826.6429252624512,"y":425.53572177886963,"z":"a1447ddc.1baaf","wires":[]},{"id":"61ab060.a0d1efc","type":"set","name":"set vf-module-index = idx","xml":"<set>\n<parameter name='vf-module-index' value='`$idx`' />\n","comments":"","x":1882.4644470214844,"y":382.57140254974365,"z":"a1447ddc.1baaf","wires":[]},{"id":"892cfa62.321a88","type":"set","name":"set new vf-module_length = vf-module-index + 1","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length' value='`$vf-module-index + 1`' />\n","comments":"","x":1014.8097114562988,"y":253.3930025100708,"z":"a1447ddc.1baaf","wires":[]},{"id":"286a7c53.0dbc64","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":730.6667671203613,"y":340.3215112686157,"z":"a1447ddc.1baaf","wires":[["c463b747.cd19a8","6b6c11c5.bbcc5"]]},{"id":"c42f064a.cdd3c8","type":"set","name":"set new vf-module_length++","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length' \n\tvalue='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length + 1`' />\n","comments":"","x":1499.916790008545,"y":452.0715160369873,"z":"a1447ddc.1baaf","wires":[]},{"id":"c463b747.cd19a8","type":"switchNode","name":"switch is-new-vfmodule","xml":"<switch test='`$is-new-vfmodule`'>\n","comments":"","outputs":1,"x":938.1667633056641,"y":409.8928909301758,"z":"a1447ddc.1baaf","wires":[["123ca523.aacc6b"]]},{"id":"123ca523.aacc6b","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1136.0239181518555,"y":409.4643383026123,"z":"a1447ddc.1baaf","wires":[["f4d13fa0.d9dfe"]]},{"id":"15568bd1.4655e4","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":737.1667633056641,"y":232.82150554656982,"z":"a1447ddc.1baaf","wires":[["892cfa62.321a88","4f3bc7f9.cc1898"]]},{"id":"f1296022.df39e","type":"other","name":"0","xml":"<outcome value='0'>\n","comments":"","outputs":1,"x":595.5,"y":271.25,"z":"a1447ddc.1baaf","wires":[["15568bd1.4655e4"]]},{"id":"61714731.eb3998","type":"switchNode","name":"switch is-new-vfmodule","xml":"<switch test='`$is-new-vfmodule`'>\n","comments":"","outputs":1,"x":381.25,"y":495,"z":"a1447ddc.1baaf","wires":[["6dde9203.b0507c"]]},{"id":"6dde9203.b0507c","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":579.1071548461914,"y":494.5714473724365,"z":"a1447ddc.1baaf","wires":[["771aa93b.561358"]]},{"id":"1d3ab61a.e18f5a","type":"set","name":"Copy vf-module-topology data","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-topology-identifier.vf-module-id' \n    value='`$vf-module-topology-operation-input.vf-module-information.vf-module-id`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-topology-identifier.vf-module-name' \n    value='`$vf-module-topology-operation-input.vf-module-request-input.vf-module-name`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-topology-identifier.vf-module-type' \n    value='`$vf-module-topology-operation-input.vf-module-information.vf-module-type`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.tenant' \n    value='`$vf-module-topology-operation-input.vf-module-request-input.tenant`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.aic-cloud-region' \n    value='`$vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.aic-clli'\n    value='`$vf-module-topology-operation-input.vf-module-request-input.aic-clli`' />","comments":"","x":995.0000152587891,"y":540.0000696182251,"z":"a1447ddc.1baaf","wires":[]},{"id":"ca9fe248.88f72","type":"set","name":"set from DB","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.onap-model-information.model-invariant-uuid'\n  value='`$db.vf-module-model.invariant-uuid`' />\n","comments":"","x":1360.011775970459,"y":592.443510055542,"z":"a1447ddc.1baaf","wires":[]},{"id":"912e5e00.2ffd3","type":"switchNode","name":"switch input model-invariant-uuid","xml":"<switch test='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-invariant-uuid`'>\n","comments":"","outputs":1,"x":1003.8688507080078,"y":615.2679538726807,"z":"a1447ddc.1baaf","wires":[["1f0bf384.3cfa7c","34632141.e1364e"]]},{"id":"1f0bf384.3cfa7c","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1209.5355224609375,"y":592.4109172821045,"z":"a1447ddc.1baaf","wires":[["ca9fe248.88f72"]]},{"id":"34632141.e1364e","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1210.9641189575195,"y":636.6965084075928,"z":"a1447ddc.1baaf","wires":[["b26573bb.feb6c"]]},{"id":"b26573bb.feb6c","type":"set","name":"set from input","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.onap-model-information.model-invariant-uuid'\n  value='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-invariant-uuid`' />\n","comments":"","x":1365.249855041504,"y":636.1250805854797,"z":"a1447ddc.1baaf","wires":[]},{"id":"b7d78e8f.3cf72","type":"set","name":"set from DB","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.onap-model-information.model-uuid'\n  value='`$db.vf-module-model.uuid`' />\n","comments":"","x":1360.9640464782715,"y":680.9821863174438,"z":"a1447ddc.1baaf","wires":[]},{"id":"31b701d0.46d05e","type":"switchNode","name":"switch input model-uuid","xml":"<switch test='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-uuid`'>\n","comments":"","outputs":1,"x":976.4878692626953,"y":703.8066911697388,"z":"a1447ddc.1baaf","wires":[["1ddbea64.7c38e6","4bbbc5b5.84966c"]]},{"id":"1ddbea64.7c38e6","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1210.4878425598145,"y":680.9496231079102,"z":"a1447ddc.1baaf","wires":[["b7d78e8f.3cf72"]]},{"id":"4bbbc5b5.84966c","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1211.9164390563965,"y":725.2352142333984,"z":"a1447ddc.1baaf","wires":[["f955a171.cd5f1"]]},{"id":"f955a171.cd5f1","type":"set","name":"set from input","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.onap-model-information.model-uuid'\n  value='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-uuid`' />\n","comments":"","x":1366.2021751403809,"y":724.6637864112854,"z":"a1447ddc.1baaf","wires":[]},{"id":"aaeae203.515b6","type":"set","name":"set from DB","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.onap-model-information.model-version'\n  value='`$db.vf-module-model.version`' />\n","comments":"","x":1358.1069793701172,"y":769.8393936157227,"z":"a1447ddc.1baaf","wires":[]},{"id":"38e5d316.76192c","type":"switchNode","name":"switch input model-version","xml":"<switch test='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-version`'>\n","comments":"","outputs":1,"x":984.6307411193848,"y":792.6638383865356,"z":"a1447ddc.1baaf","wires":[["d6205c9d.2aac","d18f0ce3.6531f"]]},{"id":"d6205c9d.2aac","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1207.6307258605957,"y":769.8068008422852,"z":"a1447ddc.1baaf","wires":[["aaeae203.515b6"]]},{"id":"d18f0ce3.6531f","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1209.0593223571777,"y":814.0923919677734,"z":"a1447ddc.1baaf","wires":[["8e07d522.c43898"]]},{"id":"8e07d522.c43898","type":"set","name":"set from input","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.onap-model-information.model-version'\n  value='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-version`' />\n","comments":"","x":1363.345058441162,"y":813.5209641456604,"z":"a1447ddc.1baaf","wires":[]},{"id":"1997e93d.cc3677","type":"set","name":"set from DB","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.onap-model-information.model-name'\n  value='`$db.vf-module-model.name`' />\n","comments":"","x":1358.1069793701172,"y":856.9822158813477,"z":"a1447ddc.1baaf","wires":[]},{"id":"c0bb4f1d.bf76d","type":"switchNode","name":"switch input model-name","xml":"<switch test='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-name`'>\n","comments":"","outputs":1,"x":979.6307411193848,"y":879.8066606521606,"z":"a1447ddc.1baaf","wires":[["44a8e6d8.ab32b8","d6832860.ddc3b8"]]},{"id":"44a8e6d8.ab32b8","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1207.6307258605957,"y":856.9496231079102,"z":"a1447ddc.1baaf","wires":[["1997e93d.cc3677"]]},{"id":"d6832860.ddc3b8","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1209.0593223571777,"y":901.2352142333984,"z":"a1447ddc.1baaf","wires":[["8e86e3c7.3bf47"]]},{"id":"8e86e3c7.3bf47","type":"set","name":"set from input","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.onap-model-information.model-name'\n  value='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-name`' />\n","comments":"","x":1363.345058441162,"y":900.6637864112854,"z":"a1447ddc.1baaf","wires":[]},{"id":"b0cee3eb.0748c","type":"set","name":"set model-customization-uuid","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.onap-model-information.model-customization-uuid'\n  value='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-customization-uuid`' />\n","comments":"","x":993.0830993652344,"y":953.7441453933716,"z":"a1447ddc.1baaf","wires":[]},{"id":"bbf33715.8b52f8","type":"set","name":"copy input data","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.sdnc-request-header.'\n   value='$vf-module-topology-operation-input.sdnc-request-header.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.request-information.'\n   value='$vf-module-topology-operation-input.request-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.service-information.'\n   value='$vf-module-topology-operation-input.service-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vnf-information.'\n   value='$vf-module-topology-operation-input.vnf-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-information.'\n   value='$vf-module-topology-operation-input.vf-module-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-request-input.' \n    value='$vf-module-topology-operation-input.vf-module-request-input.' />","comments":"","x":951.7381744384766,"y":1008.4288482666016,"z":"a1447ddc.1baaf","wires":[]},{"id":"771aa93b.561358","type":"block","name":"block","xml":"<block>","atomic":"false","comments":"","outputs":1,"x":735.2024154663086,"y":494.3491916656494,"z":"a1447ddc.1baaf","wires":[["912e5e00.2ffd3","31b701d0.46d05e","38e5d316.76192c","c0bb4f1d.bf76d","b0cee3eb.0748c","bbf33715.8b52f8","1d3ab61a.e18f5a","dfd62a4a.a5a6a8","ec68163d.860598","208a43c2.0e1adc"]]},{"id":"9cca684a.cb85c8","type":"set","name":"set vf-module-index = vf-module_length","xml":"<set>\n<parameter name='vf-module-index' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length`' />\n","comments":"","x":1532.5000190734863,"y":408.25000762939453,"z":"a1447ddc.1baaf","wires":[]},{"id":"f4d13fa0.d9dfe","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1279.0000190734863,"y":409.00000762939453,"z":"a1447ddc.1baaf","wires":[["9cca684a.cb85c8","c42f064a.cdd3c8"]]},{"id":"ed2436d.8afa0c8","type":"success","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1102.9999656677246,"y":3270.5000371932983,"z":"a1447ddc.1baaf","wires":[["f6d62d80.b5987"]]},{"id":"4ce50370.4b324c","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1101.107192993164,"y":3220.3215341567993,"z":"a1447ddc.1baaf","wires":[["ff80399e.60d2b8"]]},{"id":"dc91f5c6.0f3388","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"`'SS: self-serve-unresolved-composite-data: ' + $self-serve-unresolved-composite-data`\"/>","comments":"","outputs":1,"x":1450.535774230957,"y":3220.3217067718506,"z":"a1447ddc.1baaf","wires":[[]]},{"id":"ff80399e.60d2b8","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1266.9643173217773,"y":3220.321652684893,"z":"a1447ddc.1baaf","wires":[["dc91f5c6.0f3388","8fd1491d.594388"]]},{"id":"8fd1491d.594388","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'AAI Put is being skipped because NOT all capability components have SUCCESS status; '+ $error-message`\" />\n","comments":"","x":1471.8214645385742,"y":3263.7502603530884,"z":"a1447ddc.1baaf","wires":[]},{"id":"2f2598c9.3bca08","type":"switchNode","name":"switch self-serve-unresolved-composite-data == ASSIGNED or NULL","xml":"<switch test=\"`$self-serve-unresolved-composite-data == 'ASSIGNED' or $self-serve-unresolved-composite-data == ''`\">\n","comments":"","outputs":1,"x":753.0000305175781,"y":3243.25,"z":"a1447ddc.1baaf","wires":[["4ce50370.4b324c","ed2436d.8afa0c8"]]},{"id":"7ca55b40.817d94","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1541.9285278320312,"y":3586.285789489746,"z":"a1447ddc.1baaf","wires":[["4c5fac31.d6e484","8b1364a3.1a14f8","36d24104.b53f7e"]]},{"id":"85198951.816258","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1367.1428146362305,"y":3928.571466445923,"z":"a1447ddc.1baaf","wires":[["971ad69f.2bddc8"]]},{"id":"971ad69f.2bddc8","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"`'SS: vnfc-name: ' + $tmp.ss.vnfc-name`\"/>","comments":"","outputs":1,"x":1517.142822265625,"y":3928.571533203125,"z":"a1447ddc.1baaf","wires":[[]]}]