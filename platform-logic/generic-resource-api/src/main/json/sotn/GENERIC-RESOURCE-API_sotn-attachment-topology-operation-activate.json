[
    {
        "id": "49360ce9.79a294",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 303,
        "y": 36,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "59ab08f.05d12f8"
            ]
        ]
    },
    {
        "id": "59ab08f.05d12f8",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 197.00000381469727,
        "y": 108.0000171661377,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "2fe16d21.e6f002"
            ]
        ]
    },
    {
        "id": "2fe16d21.e6f002",
        "type": "method",
        "name": "sotn-attachment-topology-operation-activate",
        "xml": "<method rpc='sotn-attachment-topology-operation-activate' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 185.0001220703125,
        "y": 196,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "bb4f7a1d.63caf8"
            ]
        ]
    },
    {
        "id": "bb4f7a1d.63caf8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 201.0001220703125,
        "y": 751.0002446174622,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "937f2a0c.7fb688",
                "56abdb83.00d314",
                "2b0fa4ae.852d3c",
                "fe7f6840.fc9368",
                "1eb813de.3a5c5c",
                "812b7e20.62803",
                "4969535.65439ac",
                "d5bed6db.bd6ac8",
                "11d70762.5048a9",
                "c82e3a42.2edbf8",
                "a976cde1.3938a",
                "5d113e0d.abf2d",
                "8eb29ae6.3811c8",
                "e1bddfc4.bdf0e",
                "450cd37e.b56d3c",
                "4bbf582c.a5cad8",
                "13862d43.78faf3",
                "e43dfbf7.b298e8",
                "60f68499.78fd4c",
                "d90103eb.842a7"
            ]
        ]
    },
    {
        "id": "937f2a0c.7fb688",
        "type": "set",
        "name": "set tmp.ar.allotted-resource-id,etc",
        "xml": "<set>\n<parameter name='tmp.ar.allotted-resource-id' value='`$connection-attachment-topology-operation-input.allotted-resource-information.allotted-resource-id`' />\n<parameter name='tmp.ar.parent-service-instance-id' value='`$connection-attachment-topology-operation-input.allotted-resource-information.parent-service-instance-id`' />\n\n\n",
        "comments": "",
        "x": 597.9935607910156,
        "y": 149.9934868812561,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "2a5b40a1.ff67b",
        "type": "comment",
        "name": "set tmp ar-id to fetch resource from MDSAL",
        "info": "",
        "comments": "",
        "x": 612.4537506103516,
        "y": 103.02528285980225,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "56abdb83.00d314",
        "type": "set",
        "name": "set tmp.ar.self-link",
        "xml": "<set>\n<parameter name='tmp.ar.self-link' value=\"`'restconf/config/GENERIC-RESOURCE-API:connection-attachment-allotted-resources/connection-attachment-allotted-resource/'\n + $tmp.ar.allotted-resource-id\n + '/allotted-resource-data/connection-attachment-topology/'` \" />\n\n",
        "comments": "",
        "x": 551.9934997558594,
        "y": 242.99349212646484,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "1eb813de.3a5c5c",
        "type": "execute",
        "name": "execute Properties",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
        "comments": "",
        "outputs": 1,
        "x": 558.2553901672363,
        "y": 330.6602210998535,
        "z": "84ad80ac.b3f87",
        "wires": [
            []
        ]
    },
    {
        "id": "2b0fa4ae.852d3c",
        "type": "execute",
        "name": "generate allotted-resource tmp.ar-url",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.connection-attachment-allottedresource`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.ar-url\"/>\n    <parameter name=\"target\" value=\"{allotted-resource-id}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.ar.allotted-resource-id`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 605.2554473876953,
        "y": 418.6602249145508,
        "z": "84ad80ac.b3f87",
        "wires": [
            []
        ]
    },
    {
        "id": "f7f4a00.880a86",
        "type": "comment",
        "name": "GET connection-attachment-allotted-resource from mdsal",
        "info": "",
        "comments": "",
        "x": 637.3082580566406,
        "y": 538.5386590957642,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "f032f215.ac8dd",
        "type": "comment",
        "name": "Used for setting output to API Handler",
        "info": "",
        "comments": "",
        "x": 591.493408203125,
        "y": 198.993501663208,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "7c8bfa8.31bc604",
        "type": "comment",
        "name": "Obtain different URL, template location etc",
        "info": "For saving resource information to MDSAL & for AAI",
        "comments": "",
        "x": 609.4933738708496,
        "y": 284.8823823928833,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "c85b38a2.4efc88",
        "type": "comment",
        "name": "Used to Get AR by id to MDSAL, same as self-link",
        "info": "",
        "comments": "",
        "x": 635.4933929443359,
        "y": 371.8823413848877,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "680e06d1.9cf218",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1111.6667919158936,
        "y": 566.9999847412109,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "63877d79.bc72c4"
            ]
        ]
    },
    {
        "id": "63877d79.bc72c4",
        "type": "block",
        "name": "block: atomic",
        "xml": "<block atomic=\"true\">\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1255.6668701171875,
        "y": 524.4999027252197,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "60db4ead.c4ad7"
            ]
        ]
    },
    {
        "id": "60db4ead.c4ad7",
        "type": "switchNode",
        "name": "switch cr length",
        "xml": "<switch test='`$mdsal-ar.connection-attachment-allotted-resource_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1424.5242938995361,
        "y": 522.1190738677979,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "563cac53.2638c4",
                "d3ddd504.9405c8"
            ]
        ]
    },
    {
        "id": "563cac53.2638c4",
        "type": "other",
        "name": "outcome 1",
        "xml": "<outcome value='1'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1579.8574295043945,
        "y": 494.1189889907837,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "a3abb764.895aa8"
            ]
        ]
    },
    {
        "id": "a3abb764.895aa8",
        "type": "block",
        "name": "block: atomic",
        "xml": "<block atomic='true'>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1738.381233215332,
        "y": 492.02383613586426,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "21aa9aef.952a36",
                "d38a0889.8bf868",
                "342268d6.7cba18"
            ]
        ]
    },
    {
        "id": "211dc95f.561666",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"404\" />\n    <parameter name=\"error-message\" value=\"Error: Connection attachment resource not exist\" />\n    \n",
        "comments": "",
        "x": 1678.5191650390625,
        "y": 599.0660705566406,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "cc3dc454.429718",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1103.5185947418213,
        "y": 602.0660696029663,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "1fa4f8e6.614a17"
            ]
        ]
    },
    {
        "id": "1fa4f8e6.614a17",
        "type": "block",
        "name": "block: atomic",
        "xml": "<block atomic=\"true\">\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1283.5185451507568,
        "y": 602.7326202392578,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "211dc95f.561666"
            ]
        ]
    },
    {
        "id": "d3ddd504.9405c8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1571.185432434082,
        "y": 553.3993635177612,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "211dc95f.561666"
            ]
        ]
    },
    {
        "id": "21aa9aef.952a36",
        "type": "set",
        "name": "set connection-attachment-ar from get",
        "xml": "<set>\n<parameter name='connection-attachment-ar.' value='$mdsal-ar.connection-attachment-allotted-resource[0].' />\n",
        "comments": "",
        "x": 1985.4446868896484,
        "y": 465.00008821487427,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "342268d6.7cba18",
        "type": "set",
        "name": "set oper-status",
        "xml": "<set>\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.last-action' value='`$connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.request-information.request-action`' />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.last-rpc-action' value='`$connection-attachment-ar.allotted-resource-status.rpc-action`' />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.last-svc-request-id' value='`$connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.sdnc-request-header.svc-request-id`' />\n\n",
        "comments": "",
        "x": 1919.4447174072266,
        "y": 538.4285907745361,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "d38a0889.8bf868",
        "type": "switchNode",
        "name": "switch order-status",
        "xml": "<switch test='`$connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.order-status`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1929.4444961547852,
        "y": 504.0000247955322,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "e81f8a90.2d5098",
                "ea00a276.c3f3f",
                "c215a122.bf9b1"
            ]
        ]
    },
    {
        "id": "e81f8a90.2d5098",
        "type": "outcome",
        "name": "outcome Created",
        "xml": "<outcome value='Created'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2165.044578552246,
        "y": 498.0000557899475,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "21667073.95294"
            ]
        ]
    },
    {
        "id": "c215a122.bf9b1",
        "type": "outcome",
        "name": "outcome Other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2158.759078979492,
        "y": 578.4286904335022,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "b87232d2.aca"
            ]
        ]
    },
    {
        "id": "21667073.95294",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2323.515251159668,
        "y": 498.37571144104004,
        "z": "84ad80ac.b3f87",
        "wires": [
            []
        ]
    },
    {
        "id": "b87232d2.aca",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" \n    value=\"`'Existing connection-attachment-allotted-resource with order status of ' + $connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.order-status + '.'`\" />\n",
        "comments": "",
        "x": 2334.666893005371,
        "y": 577.0000896453857,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "427754e0.a64f4c",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:sotn-get-saved-ar-param",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='sotn-get-saved-ar-param' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 822.303050994873,
        "y": 649.4936046600342,
        "z": "84ad80ac.b3f87",
        "wires": [
            []
        ]
    },
    {
        "id": "812b7e20.62803",
        "type": "block",
        "name": "block: atomic",
        "xml": "<block atomic=\"true\">\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 516.3091506958008,
        "y": 650.4999752044678,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "427754e0.a64f4c"
            ]
        ]
    },
    {
        "id": "6000c6c.c98cd38",
        "type": "comment",
        "name": "GET parent-service-data from mdsal to check existence of other End point",
        "info": "",
        "comments": "",
        "x": 689.5003662109375,
        "y": 684.5317525863647,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "e4a226c0.118dd8",
        "type": "for",
        "name": "for pidx..mdsal-psd.service-data.provided-allotted-resources.provided-allotted-resource[]",
        "xml": "<for index='pidx' start='0' end='`$mdsal-psd.service-data.provided-allotted-resources.provided-allotted-resource_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1595.1851959228516,
        "y": 848.0042300224304,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "7a917891.fd8518"
            ]
        ]
    },
    {
        "id": "fe7f6840.fc9368",
        "type": "switchNode",
        "name": "switch mdsal-psd.service-data.provided-allotted-resources_length",
        "xml": "<switch test='`$mdsal-psd.service-data.provided-allotted-resources.provided-allotted-resource_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 679.1842193603516,
        "y": 955.7182664871216,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "a0965ced.f64bd",
                "96ab8378.326d8",
                "97aa057f.87ce58"
            ]
        ]
    },
    {
        "id": "a0965ced.f64bd",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1007.3272399902344,
        "y": 1028.5755405426025,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "6f63e6d3.467898"
            ]
        ]
    },
    {
        "id": "21f9a101.17652e",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1191.454502105713,
        "y": 887.7015495300293,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "e4a226c0.118dd8",
                "297fd585.bad35a"
            ]
        ]
    },
    {
        "id": "7a917891.fd8518",
        "type": "switchNode",
        "name": "switch allotted-resource-id",
        "xml": "<switch test=\"`$mdsal-psd.service-data.provided-allotted-resources.provided-allotted-resource[$pidx].allotted-resource-id == $tmp.ar.allotted-resource-id`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2035.2965240478516,
        "y": 845.0040321350098,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "5ca8bbfc.7aee54",
                "a75d4c08.89883"
            ]
        ]
    },
    {
        "id": "5ca8bbfc.7aee54",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2208.1067390441895,
        "y": 816.4686470031738,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "3e7ccfac.ffb2f"
            ]
        ]
    },
    {
        "id": "e82d4a0a.f0a988",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2356.8672103881836,
        "y": 873.3257341384888,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "b24f5648.5424d8"
            ]
        ]
    },
    {
        "id": "b24f5648.5424d8",
        "type": "set",
        "name": "set tmp.pidx and ptx.consumed-ar",
        "xml": "<set>\n<parameter name='tmp.pidx' value='`$pidx`' />\n<parameter name='tmp.provided-ar.' value='`$mdsal-psd.service-data.provided-allotted-resources.provided-allotted-resource[$pidx].`' />\n<parameter name='tmp.found-in-ar' value='true' />\n<parameter name='tmp.ep-available' value='true' />",
        "comments": "",
        "x": 2591.724636077881,
        "y": 871.8972663879395,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "99bf27b.2c74dd8",
        "type": "comment",
        "name": "Check existence of other AR in parent service data",
        "info": "Check if other allotted resource is available.",
        "comments": "",
        "x": 612.4625358581543,
        "y": 849.8929615020752,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "96ab8378.326d8",
        "type": "other",
        "name": "outcome 1",
        "xml": "<outcome value='1'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1021.9797096252441,
        "y": 967.6772241592407,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "7a87d5fe.592e5c"
            ]
        ]
    },
    {
        "id": "6f63e6d3.467898",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"404\" />\n    <parameter name=\"error-message\" value=\"Error: End points not available\" />\n    \n",
        "comments": "",
        "x": 1166.9795875549316,
        "y": 1027.67746925354,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "97aa057f.87ce58",
        "type": "other",
        "name": "outcome 2",
        "xml": "<outcome value='2'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1016.9795227050781,
        "y": 888.6772499084473,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "21f9a101.17652e"
            ]
        ]
    },
    {
        "id": "3e7ccfac.ffb2f",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2366.0909538269043,
        "y": 815.6773900985718,
        "z": "84ad80ac.b3f87",
        "wires": [
            []
        ]
    },
    {
        "id": "a75d4c08.89883",
        "type": "outcomeTrue",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2215.0905952453613,
        "y": 872.6772499084473,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "e82d4a0a.f0a988"
            ]
        ]
    },
    {
        "id": "297fd585.bad35a",
        "type": "switchNode",
        "name": "switch tmp.found-in-ar",
        "xml": "<switch test='`$tmp.found-in-ar`'>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1403.9794998168945,
        "y": 941.4550676345825,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "f6d398f0.1a6508"
            ]
        ]
    },
    {
        "id": "f6d398f0.1a6508",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1574.97953414917,
        "y": 942.5662889480591,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "43cd8b1c.3ae384"
            ]
        ]
    },
    {
        "id": "43cd8b1c.3ae384",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1723.9796295166016,
        "y": 942.5662879943848,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "375098ae.b28138",
                "39c4578f.3b85f8"
            ]
        ]
    },
    {
        "id": "63d0792.1a7a588",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2470.097454071045,
        "y": 958.7951421737671,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "3498c4e1.2097dc"
            ]
        ]
    },
    {
        "id": "5d61e0d0.8fe7d",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2461.9492568969727,
        "y": 993.8612270355225,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "9ae0561.7b919a8"
            ]
        ]
    },
    {
        "id": "58812dfb.a78ed4",
        "type": "switchNode",
        "name": "switch mdsal-psd.service-data.networks_length",
        "xml": "<switch test='`$mdsal-psd.service-data.networks.network_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1467.313003540039,
        "y": 1042.899908065796,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "9825debb.169dd",
                "ce47345e.aeedf8"
            ]
        ]
    },
    {
        "id": "ce47345e.aeedf8",
        "type": "other",
        "name": "outcome 1",
        "xml": "<outcome value='1'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1731.3128509521484,
        "y": 1022.7886543273926,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "5e62a90c.2e3848"
            ]
        ]
    },
    {
        "id": "9825debb.169dd",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1721.3129119873047,
        "y": 1070.788625717163,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "17ada1a2.9b306e"
            ]
        ]
    },
    {
        "id": "17ada1a2.9b306e",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"404\" />\n    <parameter name=\"error-message\" value=\"Error: Incorrect state found more then 1 network\" />\n    \n",
        "comments": "",
        "x": 1859.9652557373047,
        "y": 1072.890386581421,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "955a9e38.08703",
        "type": "set",
        "name": "set tmp.network.",
        "xml": "<set>\n<parameter name='tmp.network.' value='`$mdsal-psd.service-data.networks.network[0].`' />\n\n\n",
        "comments": "",
        "x": 2092.757709503174,
        "y": 1023.7888240814209,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "7a87d5fe.592e5c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1189.4240188598633,
        "y": 966.7884912490845,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "58812dfb.a78ed4"
            ]
        ]
    },
    {
        "id": "5e62a90c.2e3848",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1890.0906219482422,
        "y": 1025.7884883880615,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "955a9e38.08703",
                "73e0b4d8.e5340c"
            ]
        ]
    },
    {
        "id": "73e0b4d8.e5340c",
        "type": "for",
        "name": "for nidx..tmp.network.network-data.network-request-input.network...[]",
        "xml": "<for index='nidx' start='0' end='`$tmp.network.network-data.network-request-input.network-input-parameters.param_length`' >",
        "comments": "",
        "outputs": 1,
        "x": 2253.090660095215,
        "y": 1071.7886428833008,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "265e2220.50c94e"
            ]
        ]
    },
    {
        "id": "265e2220.50c94e",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2299.646728515625,
        "y": 1302.7884521484375,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "11f397cd.f9d138",
                "70b20c13.40e2d4",
                "d57afd16.fac71",
                "14509e58.1b3072",
                "b5832b18.10aa78",
                "29a72274.e70abe",
                "7fe2f326.5cadcc",
                "cc4b737d.932ef",
                "de72c43c.2613b8",
                "c7ebef63.f3659"
            ]
        ]
    },
    {
        "id": "11f397cd.f9d138",
        "type": "switchNode",
        "name": "switch access-node-id",
        "xml": "<switch test=\"`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].name == 'access-node-id'`\">",
        "comments": "",
        "outputs": 1,
        "x": 2576.1569442749023,
        "y": 1144.7991995811462,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "9b0c3760.c97518"
            ]
        ]
    },
    {
        "id": "9b0c3760.c97518",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2765.1565704345703,
        "y": 1146.7990641593933,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "286fed4f.2845d2"
            ]
        ]
    },
    {
        "id": "286fed4f.2845d2",
        "type": "set",
        "name": "set tmp.found-in-network tmp.ep-available",
        "xml": "<set>\n<parameter name='tmp.found-in-network' value='true' />\n<parameter name='tmp.ep-available' value='true' />",
        "comments": "",
        "x": 3018.1567459106445,
        "y": 1146.3991103172302,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "70b20c13.40e2d4",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 2550.146396636963,
        "y": 1518.7884907722473,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "5d113e0d.abf2d",
        "type": "switchNode",
        "name": "switch tmp.ep-available",
        "xml": "<switch test='`$tmp.ep-available`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 542.3128204345703,
        "y": 1151.232801437378,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "19634d0b.419f93",
                "34df260.ba817da"
            ]
        ]
    },
    {
        "id": "34df260.ba817da",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 760.9795398712158,
        "y": 1200.5661582946777,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "e54b12a4.25ccd"
            ]
        ]
    },
    {
        "id": "19634d0b.419f93",
        "type": "outcomeTrue",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 765.8683414459229,
        "y": 1109.566219329834,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "2d23c3ef.231c5c"
            ]
        ]
    },
    {
        "id": "2d23c3ef.231c5c",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 912.8683376312256,
        "y": 1111.4550323486328,
        "z": "84ad80ac.b3f87",
        "wires": [
            []
        ]
    },
    {
        "id": "e54b12a4.25ccd",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 931.0906276702881,
        "y": 1198.5661163330078,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "ad63aaa.8516f58",
                "69574b63.bb2d34",
                "deb3994f.af61d8"
            ]
        ]
    },
    {
        "id": "ad63aaa.8516f58",
        "type": "switchNode",
        "name": "switch tmp.found-in-ar",
        "xml": "<switch test='`$tmp.found-in-ar`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1157.2016410827637,
        "y": 1165.5661163330078,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "1625b8dd.f0acc7",
                "3269ac54.56b314"
            ]
        ]
    },
    {
        "id": "1625b8dd.f0acc7",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1352.6460876464844,
        "y": 1143.566177368164,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "7076c5d7.f312dc"
            ]
        ]
    },
    {
        "id": "3269ac54.56b314",
        "type": "outcomeTrue",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1349.64599609375,
        "y": 1191.566162109375,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "102e05ac.6de2ca"
            ]
        ]
    },
    {
        "id": "7076c5d7.f312dc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1540.2017517089844,
        "y": 1140.566177368164,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "cb8b249d.be6228"
            ]
        ]
    },
    {
        "id": "102e05ac.6de2ca",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1537.20166015625,
        "y": 1190.566162109375,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "44529fbd.ff5d6"
            ]
        ]
    },
    {
        "id": "ee9fd7a5.9b9e38",
        "type": "comment",
        "name": "GET connection-attachment-ar to store AR data from mdsal",
        "info": "",
        "comments": "",
        "x": 2034.972713470459,
        "y": 416.50394773483276,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "8a5d5d61.062dc",
        "type": "comment",
        "name": "Set source end point",
        "info": "",
        "comments": "",
        "x": 524.4726104736328,
        "y": 505.2539677619934,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "4969535.65439ac",
        "type": "set",
        "name": "set tmp.ar.parent-service-instance-id",
        "xml": "<set>\n<parameter name='tmp.ar.parent-service-instance-id' value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.parent-service-instance-id` \" />\n\n",
        "comments": "",
        "x": 589.9688262939453,
        "y": 725.0000905990601,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "1bfacd1.1b42833",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 949.9689788818359,
        "y": 796.0000772476196,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "646d326d.b259ac"
            ]
        ]
    },
    {
        "id": "7a630eff.8baef",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 941.8207817077637,
        "y": 831.066162109375,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "ea32232a.16569"
            ]
        ]
    },
    {
        "id": "ea32232a.16569",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"404\" />\n    <parameter name=\"error-message\" value=\"Error: Parent service data not available\" />\n    \n",
        "comments": "",
        "x": 1087.9695625305176,
        "y": 830.3335733413696,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "646d326d.b259ac",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1080.9690742492676,
        "y": 796.0001382827759,
        "z": "84ad80ac.b3f87",
        "wires": [
            []
        ]
    },
    {
        "id": "9ae0561.7b919a8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"404\" />\n    <parameter name=\"error-message\" value=\"Error: SOTN provided attachment resource not found\" />\n    \n",
        "comments": "",
        "x": 2611.969306945801,
        "y": 994.00026512146,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "3498c4e1.2097dc",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2596.9694290161133,
        "y": 961.0002498626709,
        "z": "84ad80ac.b3f87",
        "wires": [
            []
        ]
    },
    {
        "id": "d5bed6db.bd6ac8",
        "type": "set",
        "name": "set tmp.found-in-ar tmp.found-in-network tmp.ep-available to false",
        "xml": "<set>\n<parameter name='tmp.found-in-ar' value='false' />\n<parameter name='tmp.found-in-network' value='false' />\n<parameter name='tmp.ep-available' value='false' />",
        "comments": "",
        "x": 675.9687652587891,
        "y": 898.0000648498535,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "dcd01285.57b42",
        "type": "comment",
        "name": "If other EP exists set destination end point",
        "info": "Check if other allotted resource is available.",
        "comments": "",
        "x": 578.4686431884766,
        "y": 1065.0000133514404,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "8938b0f7.36ee8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1332.9688873291016,
        "y": 1403.0002946853638,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "5a38d86a.82e798",
                "a86b96d7.7a56e8",
                "c15dcd71.38c9b",
                "ae4aa3d4.45898",
                "1136084c.ac53e8",
                "52e54c73.741934",
                "80ef621.91227a",
                "394aa721.4c02c8"
            ]
        ]
    },
    {
        "id": "5a38d86a.82e798",
        "type": "switchNode",
        "name": "switch access-node-id",
        "xml": "<switch test=\"`$tmp.ep.parameters.param[$idx].name == 'access-node-id'`\">",
        "comments": "",
        "outputs": 1,
        "x": 1575.4791889190674,
        "y": 1273.010691165924,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "46c34be.be590b4"
            ]
        ]
    },
    {
        "id": "a86b96d7.7a56e8",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 1548.4691410064697,
        "y": 1578.0006546974182,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "c15dcd71.38c9b",
        "type": "switchNode",
        "name": "switch access-ltp-id",
        "xml": "<switch test=\"`$tmp.ep.parameters.param[$idx].name == 'access-ltp-id'`\">",
        "comments": "",
        "outputs": 1,
        "x": 1566.9690189361572,
        "y": 1316.7782225608826,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "ece8bbbd.785448"
            ]
        ]
    },
    {
        "id": "ae4aa3d4.45898",
        "type": "switchNode",
        "name": "switch clientSignal",
        "xml": "<switch test=\"`$tmp.ep.parameters.param[$idx].name == 'clientSignal'`\">",
        "comments": "",
        "outputs": 1,
        "x": 1560.9690570831299,
        "y": 1362.778269290924,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "71815818.060298"
            ]
        ]
    },
    {
        "id": "1136084c.ac53e8",
        "type": "switchNode",
        "name": "switch cVLAN",
        "xml": "<switch test=\"`$tmp.ep.parameters.param[$idx].name == 'cVLAN'`\">",
        "comments": "",
        "outputs": 1,
        "x": 1544.9585590362549,
        "y": 1401.767771244049,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "29b8cec9.4b8752"
            ]
        ]
    },
    {
        "id": "46c34be.be590b4",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1753.1911029815674,
        "y": 1273.6670632362366,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "f1877b5.0e63c88"
            ]
        ]
    },
    {
        "id": "f1877b5.0e63c88",
        "type": "set",
        "name": "set dst-access-node-id",
        "xml": "<set>\n<parameter name='prop.remote.connection-attachment.access-node-id' value='`$tmp.ep.parameters.param[$idx].value`' />",
        "comments": "",
        "x": 1928.1911029815674,
        "y": 1273.267038345337,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "ece8bbbd.785448",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1748.6809711456299,
        "y": 1316.434519290924,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "104d5eba.e81151"
            ]
        ]
    },
    {
        "id": "71815818.060298",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1748.6809711456299,
        "y": 1362.434519290924,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "a2bd8c17.c58b4"
            ]
        ]
    },
    {
        "id": "29b8cec9.4b8752",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1748.6704730987549,
        "y": 1401.4241433143616,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "ab38ebd9.f5f798"
            ]
        ]
    },
    {
        "id": "69574b63.bb2d34",
        "type": "for",
        "name": "for idx..tmp.ep.parameters[]",
        "xml": "<for index='idx' start='0' end='`$tmp.ep.parameters.param_length`'>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1185.96875,
        "y": 1291,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "8938b0f7.36ee8"
            ]
        ]
    },
    {
        "id": "cb8b249d.be6228",
        "type": "set",
        "name": "set tmp.ep.parameters",
        "xml": "<set>\n<parameter name='tmp.ep.parameters.' value='`$mdsal-other-ar.connection-attachment-allotted-resource[0].allotted-resource-data.allotted-resource-operation-information.connection-attachment-request-input.`' />\n",
        "comments": "",
        "x": 1751.9688053131104,
        "y": 1140.0000743865967,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "44529fbd.ff5d6",
        "type": "set",
        "name": "set tmp.ep.parameters",
        "xml": "<set>\n<parameter name='tmp.ep.parameters.' value='`$tmp.network.network-data.network-request-input.network-input-parameters.`' />\n",
        "comments": "",
        "x": 1748.968713760376,
        "y": 1186.0000591278076,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "104d5eba.e81151",
        "type": "set",
        "name": "set dst-access-node-id",
        "xml": "<set>\n<parameter name='prop.remote.connection-attachment.access-ltp-id' value='`$tmp.ep.parameters.param[$idx].value`' />",
        "comments": "",
        "x": 1925.9689350128174,
        "y": 1316.0003151893616,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "a2bd8c17.c58b4",
        "type": "set",
        "name": "set dst-clientSignal",
        "xml": "<set>\n<parameter name='prop.remote.connection-attachment.clientSignal' value='`$tmp.ep.parameters.param[$idx].value`' />",
        "comments": "",
        "x": 1919.9689350128174,
        "y": 1360.0003151893616,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "ab38ebd9.f5f798",
        "type": "set",
        "name": "set dst-cVLAN",
        "xml": "<set>\n<parameter name='prop.remote.connection-attachment.cVLAN' value='`$tmp.ep.parameters.param[$idx].value`' />",
        "comments": "",
        "x": 1910.9689350128174,
        "y": 1399.0003151893616,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "55888f54.ee638",
        "type": "comment",
        "name": "Get controller info and send request",
        "info": "",
        "comments": "",
        "x": 1778.4686851501465,
        "y": 1859.000153541565,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "a23a4fc7.bd1c1",
        "type": "execute",
        "name": "execute RestconfApiCallNode Create ethernet Service",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restconfapicall.RestconfApiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/ietf-eth-tran-service:etht-svc'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"patch\"/>\n<parameter name='dirPath' value=\"/opt/sdnc/restapi/yang\" />\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1857.5,
        "y": 2180,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "f85c5d2c.26264",
                "5042b658.ed48d8"
            ]
        ]
    },
    {
        "id": "f85c5d2c.26264",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2134,
        "y": 2200,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "ba374d43.f2a5b"
            ]
        ]
    },
    {
        "id": "ba374d43.f2a5b",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2291.5,
        "y": 2200,
        "z": "84ad80ac.b3f87",
        "wires": [
            []
        ]
    },
    {
        "id": "563e25b1.a5131c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create vpn rest api\" />\n",
        "comments": "",
        "x": 2288,
        "y": 2160,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "5042b658.ed48d8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2130,
        "y": 2160,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "563e25b1.a5131c"
            ]
        ]
    },
    {
        "id": "2bbdf75a.9a0288",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 764.7311744689941,
        "y": 2093.9537086486816,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "455946e6.e0c728"
            ]
        ]
    },
    {
        "id": "455946e6.e0c728",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"AAI failed\" />\n",
        "comments": "",
        "x": 931.2549953460693,
        "y": 2120.5727157592773,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "ebdf57a8.cc96d8",
        "type": "failure",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 766.8264026641846,
        "y": 2141.715551376343,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "455946e6.e0c728"
            ]
        ]
    },
    {
        "id": "d9837564.ca5ac8",
        "type": "comment",
        "name": "Save Resource to AAI",
        "info": "",
        "comments": "",
        "x": 524.2786960601807,
        "y": 2071.3028717041016,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "e43dfbf7.b298e8",
        "type": "set",
        "name": "set output to api handler",
        "xml": "<set>\n<parameter name='allotted-resource-id' value='`$tmp.ar.allotted-resource-id`' />\n<parameter name='connection-attachment-object-path' value=\"`$tmp.ar.self-link`\"/>\n<parameter name='service-object-path' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $connection-attachment-topology-operation-input.service-information.service-instance-id\n + '/service-data/service-topology/'`\"/>\n \n",
        "comments": "",
        "x": 553.5465145111084,
        "y": 2003.8283529281616,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "d90103eb.842a7",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 513.9596862792969,
        "y": 2189.4441413879395,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "13862d43.78faf3",
        "type": "execute",
        "name": "execute RestApiCallNode - PUT AR by id",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.sotn-attachment.templatefile`\" />\n    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.ar-url`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-ar\" />",
        "comments": "",
        "outputs": 1,
        "x": 606.2785968780518,
        "y": 1928.4692058563232,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "6fbeac21.a0a5f4",
                "f6fb6250.cc8b3",
                "a1e76941.b78308"
            ]
        ]
    },
    {
        "id": "6fbeac21.a0a5f4",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 860.9200191497803,
        "y": 1972.8006000518799,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "5e47450.bf2dbbc"
            ]
        ]
    },
    {
        "id": "f6fb6250.cc8b3",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 862.9200420379639,
        "y": 1931.3005641922355,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "5e47450.bf2dbbc"
            ]
        ]
    },
    {
        "id": "a1e76941.b78308",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 866.6701259613037,
        "y": 1882.6577167510986,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "7f4babc.0734454"
            ]
        ]
    },
    {
        "id": "5e47450.bf2dbbc",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error updating md-sal for connection-attachment-allotted-resource\" />\n",
        "comments": "",
        "x": 1021.67014503479,
        "y": 1951.050630569458,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "7f4babc.0734454",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 994.3260707855225,
        "y": 1884.8498849868774,
        "z": "84ad80ac.b3f87",
        "wires": [
            []
        ]
    },
    {
        "id": "8eb29ae6.3811c8",
        "type": "set",
        "name": "set ar-data",
        "xml": "<set>\n<parameter name='connection-attachment-ar.allotted-resource-status.action' value=\"`$connection-attachment-topology-operation-input.request-information.request-action` \" />\n<parameter name='connection-attachment-ar.allotted-resource-status.rpc-name' value=\"connection-attachment-topology-operation\" />\n<parameter name='connection-attachment-ar.allotted-resource-status.rpc-action' value=\"`$connection-attachment-topology-operation-input.sdnc-request-header.svc-action` \" />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.request-information.' value=\"`$connection-attachment-topology-operation-input.request-information.` \" />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.sdnc-request-header.' value=\"`$connection-attachment-topology-operation-input.sdnc-request-header.` \" />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.service-information.' value=\"`$connection-attachment-topology-operation-input.service-information.` \" />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-operation-information.allotted-resource-information.' value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.` \" />",
        "comments": "",
        "x": 508.4922122955322,
        "y": 1762.8501069545746,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "450cd37e.b56d3c",
        "type": "execute",
        "name": "execute getTime",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='setTime' >\n    <parameter name=\"outputPath\" value=\"tmp.current-time\" />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 525.77805519104,
        "y": 1835.4697046279907,
        "z": "84ad80ac.b3f87",
        "wires": [
            []
        ]
    },
    {
        "id": "4bbf582c.a5cad8",
        "type": "set",
        "name": "set allotted-resource-oper-status",
        "xml": "<set>\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.order-status' value='Active' />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.last-action' value='`$connection-attachment-topology-operation-input.request-information.request-action`' />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.last-rpc-action' value='`$connection-attachment-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.last-svc-request-id' value='`$connection-attachment-topology-operation-input.sdnc-request-header.svc-request-id`' />\n<parameter name='connection-attachment-ar.allotted-resource-data.allotted-resource-oper-status.create-timestamp' value='`$tmp.current-time`' />\n",
        "comments": "",
        "x": 575.7651348114014,
        "y": 1872.4207849502563,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "e1bddfc4.bdf0e",
        "type": "set",
        "name": "set model-data",
        "xml": "<set>\n<parameter name='connection-attachment-ar.allotted-resource-data.connection-attachment-topology.onap-model-information.' value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.onap-model-information.` \" />",
        "comments": "",
        "x": 522.3337535858154,
        "y": 1802.024757385254,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "3f15bc93.392354",
        "type": "comment",
        "name": "Prepare data for allotted-resource addition to MDSAL",
        "info": "This will add to allotted-resource which is present inside service.",
        "comments": "",
        "x": 621.1670932769775,
        "y": 1712.0247094631195,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "5abb5e03.73565",
        "type": "comment",
        "name": "Add to allotted-resources in mdsal",
        "info": "",
        "comments": "",
        "x": 562.746919631958,
        "y": 1679.4380111694336,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "60f68499.78fd4c",
        "type": "update",
        "name": "update AAI allotted-resource",
        "xml": "<update plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"allotted-resource\" \n\t\tkey=\"customer.global-customer-id = $connection-attachment-topology-operation-input.service-information.global-customer-id AND\n\t\t\tservice-subscription.service-type = $connection-attachment-topology-operation-input.service-information.subscription-service-type AND\n\t\t\tservice-instance.service-instance-id = $connection-attachment-topology-operation-input.service-information.service-instance-id AND\n\t\t\tallotted-resource.id = $tmp.ar.allotted-resource-id\"\n        pfx='pfx' local-only='false' force='false'>\n\t<parameter name=\"description\" value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.allotted-resource-type`\" />\n\t<parameter name=\"selflink\" value=\"`$tmp.ar.self-link`\" />\n\t<parameter name=\"model-invariant-id\" value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.onap-model-information.model-invariant-uuid`\" />\n\t<parameter name=\"model-version-id\" value=\"`$connection-attachment-topology-operation-input.allotted-resource-information.onap-model-information.model-uuid`\" />\n\t<parameter name=\"operational-status\" value=\"Active\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 565.2230968475342,
        "y": 2119.7550144195557,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "2bbdf75a.9a0288",
                "ebdf57a8.cc96d8"
            ]
        ]
    },
    {
        "id": "ba7ae3af.8aa84",
        "type": "execute",
        "name": "execute RestApiCallNode getPath from OOF",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.oof-getpath.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.restapi.connection-oof-url`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.oof.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.oof.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"oof\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1373.973056793213,
        "y": 1682.2546663284302,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "954b5e77.bb751",
                "26db3fe5.c4524"
            ]
        ]
    },
    {
        "id": "954b5e77.bb751",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1613.9731979370117,
        "y": 1706.254635810852,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "3d7f6075.2d005"
            ]
        ]
    },
    {
        "id": "c7cd0fe6.5b08f",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing OOF api\" />\n",
        "comments": "",
        "x": 1752.973232269287,
        "y": 1655.2547273635864,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "26db3fe5.c4524",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1612.9729843139648,
        "y": 1655.254726409912,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "c7cd0fe6.5b08f"
            ]
        ]
    },
    {
        "id": "8d8f244a.6859c8",
        "type": "comment",
        "name": "Get VPNs from OOF",
        "info": "",
        "comments": "",
        "x": 1345.4768562316895,
        "y": 1638.2586660385132,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "c13f90b8.d901d",
        "type": "for",
        "name": "for vidx..oof.vpns_length[]",
        "xml": "<for index='vidx' start='0' end='`$oof.vpns_length`' >",
        "comments": "",
        "outputs": 1,
        "x": 1313.972900390625,
        "y": 1764.50439453125,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "8bfb17e8.90d2d8"
            ]
        ]
    },
    {
        "id": "1c45922d.7ecb7e",
        "type": "comment",
        "name": "Loop through VPN and configure them",
        "info": "",
        "comments": "",
        "x": 1345.4732284545898,
        "y": 1888.0047721862793,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "d57afd16.fac71",
        "type": "switchNode",
        "name": "switch name",
        "xml": "<switch test=\"`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].name == 'name'`\">\n                \n",
        "comments": "",
        "outputs": 1,
        "x": 2553.757080078125,
        "y": 1236.121826171875,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "228797.cff5986a"
            ]
        ]
    },
    {
        "id": "228797.cff5986a",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2742.757049560547,
        "y": 1236.121811389923,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "c57c58bd.0aa098"
            ]
        ]
    },
    {
        "id": "c57c58bd.0aa098",
        "type": "set",
        "name": "set etht-svc-name & bandwidth-profile-name",
        "xml": "<set>\n<parameter name='ietf-eth-tran-service:etht-svc.etht-svc-instances[0].etht-svc-name' value='`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].value`' />\n<parameter name='ietf-eth-tran-service:etht-svc.globals.etht-svc-bandwidth-profiles[0].bandwidth-profile-name' value='`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].value`' />\n<parameter name='ietf-eth-tran-service:etht-svc.etht-svc-instances[0].etht-svc-access-ports[0].ingress-egress-bandwidth-profile-name' value='`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].value`' />\n<parameter name='ietf-eth-tran-service:etht-svc.etht-svc-instances[0].etht-svc-access-ports[1].ingress-egress-bandwidth-profile-name' value='`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].value`' />",
        "comments": "",
        "x": 2983.75736618042,
        "y": 1235.7218661308289,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "14509e58.1b3072",
        "type": "switchNode",
        "name": "switch description",
        "xml": "<switch test=\"`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].name == 'description'`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 2566.5969581604004,
        "y": 1271.1219210624695,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "978b0183.981d3"
            ]
        ]
    },
    {
        "id": "978b0183.981d3",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2741.597023010254,
        "y": 1273.1219067573547,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "bbb5ebe7.1aba98"
            ]
        ]
    },
    {
        "id": "bbb5ebe7.1aba98",
        "type": "set",
        "name": "set etht-svc-descr",
        "xml": "<set>\n<parameter name='prop.global.sotn.etht-svc-descr' value='`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].value`' />\n",
        "comments": "",
        "x": 2897.9303398132324,
        "y": 1270.5829815864563,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "b5832b18.10aa78",
        "type": "switchNode",
        "name": "switch tenantId",
        "xml": "<switch test=\"`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].name == 'tenantId'`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 2561.979221343994,
        "y": 1304.4553112983704,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "bdaf2380.a7a2d"
            ]
        ]
    },
    {
        "id": "bdaf2380.a7a2d",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2739.9792251586914,
        "y": 1308.4551892280579,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "b584afd1.c84a6"
            ]
        ]
    },
    {
        "id": "b584afd1.c84a6",
        "type": "set",
        "name": "set tenantId",
        "xml": "<set>\n<parameter name='prop.global.sotn.tenantId' value='`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].value`' />\n",
        "comments": "",
        "x": 2877.9794120788574,
        "y": 1305.0551648139954,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "7fe2f326.5cadcc",
        "type": "switchNode",
        "name": "switch cir",
        "xml": "<switch test=\"`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].name == 'cir'`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 2544.818820953369,
        "y": 1377.4552664756775,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "ae28ba35.c4e3e8"
            ]
        ]
    },
    {
        "id": "ae28ba35.c4e3e8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2739.8188858032227,
        "y": 1378.4552664756775,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "1b4f39a4.ff7a26"
            ]
        ]
    },
    {
        "id": "1b4f39a4.ff7a26",
        "type": "set",
        "name": "set cir",
        "xml": "<set>\n<parameter name='ietf-eth-tran-service:etht-svc.globals.etht-svc-bandwidth-profiles[0].CIR' value='`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].value`' />\n",
        "comments": "",
        "x": 2864.15238571167,
        "y": 1376.916341304779,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "29a72274.e70abe",
        "type": "switchNode",
        "name": "switch vpnType",
        "xml": "<switch test=\"`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].name == 'vpnType'`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 2559.127109527588,
        "y": 1340.232976436615,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "63044468.ed6d4c"
            ]
        ]
    },
    {
        "id": "63044468.ed6d4c",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2741.127296447754,
        "y": 1343.232961177826,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "f2362026.0e03d"
            ]
        ]
    },
    {
        "id": "f2362026.0e03d",
        "type": "set",
        "name": "set vpnType",
        "xml": "<set>\n<parameter name='prop.global.sotn.vpnType' value='`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].value`' />\n",
        "comments": "",
        "x": 2877.461040496826,
        "y": 1339.6942028999329,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "cc4b737d.932ef",
        "type": "switchNode",
        "name": "switch eir",
        "xml": "<switch test=\"`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].name == 'eir'`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 2540.1091651916504,
        "y": 1411.1531739234924,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "ea72b229.90aae"
            ]
        ]
    },
    {
        "id": "ea72b229.90aae",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2740.1094131469727,
        "y": 1414.1531128883362,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "a84ff11d.72039"
            ]
        ]
    },
    {
        "id": "a84ff11d.72039",
        "type": "set",
        "name": "set eir",
        "xml": "<set>\n<parameter name='ietf-eth-tran-service:etht-svc.globals.etht-svc-bandwidth-profiles[0].EIR' value='`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].value`' />\n",
        "comments": "",
        "x": 2863.4430351257324,
        "y": 1413.6141724586487,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "de72c43c.2613b8",
        "type": "switchNode",
        "name": "switch colorAware",
        "xml": "<switch test=\"`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].name == 'colorAware'`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 2565.109775543213,
        "y": 1445.1530528068542,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "4c9c89e1.d508b8"
            ]
        ]
    },
    {
        "id": "4c9c89e1.d508b8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2736.1095962524414,
        "y": 1451.1529912948608,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "44fb992f.238bd8"
            ]
        ]
    },
    {
        "id": "44fb992f.238bd8",
        "type": "set",
        "name": "set colorAware",
        "xml": "<set>\n<parameter name='ietf-eth-tran-service:etht-svc.globals.etht-svc-bandwidth-profiles[0].color-aware' value='`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].value`' />\n",
        "comments": "",
        "x": 2884.44291305542,
        "y": 1451.6142039299011,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "c7ebef63.f3659",
        "type": "switchNode",
        "name": "switch couplingFlag",
        "xml": "<switch test=\"`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].name == 'couplingFlag'`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 2567.1097145080566,
        "y": 1481.1531147956848,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "8f6fea62.b93658"
            ]
        ]
    },
    {
        "id": "8f6fea62.b93658",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2739.1095962524414,
        "y": 1490.1530842781067,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "368ca7d0.552538"
            ]
        ]
    },
    {
        "id": "368ca7d0.552538",
        "type": "set",
        "name": "set couplingFlag",
        "xml": "<set>\n<parameter name='ietf-eth-tran-service:etht-svc.globals.etht-svc-bandwidth-profiles[0].coupling-flag' value='`$tmp.network.network-data.network-request-input.network-input-parameters.param[$nidx].value`' />\n",
        "comments": "",
        "x": 2892.44291305542,
        "y": 1490.6142048835754,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "f72b275d.a55498",
        "type": "comment",
        "name": "Check if other EP exists in SOTNConnectionResource",
        "info": "",
        "comments": "",
        "x": 2683.8126220703125,
        "y": 1088.7884521484375,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "694434c.c0c18cc",
        "type": "comment",
        "name": "Get other global parameters from network",
        "info": "",
        "comments": "",
        "x": 2619.8123779296875,
        "y": 1174.7884521484375,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "52e54c73.741934",
        "type": "switchNode",
        "name": "switch access-provider-id",
        "xml": "<switch test=\"`$tmp.ep.parameters.param[$idx].name == 'access-provider-id'`\">",
        "comments": "",
        "outputs": 1,
        "x": 1582.5348529815674,
        "y": 1447.2329812049866,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "e45fac42.04d47"
            ]
        ]
    },
    {
        "id": "e45fac42.04d47",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1769.5348529815674,
        "y": 1443.2329812049866,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "fb7c0d2e.1c33d"
            ]
        ]
    },
    {
        "id": "fb7c0d2e.1c33d",
        "type": "set",
        "name": "set access-provider-id",
        "xml": "<set>\n<parameter name='prop.remote.connection-attachment.access-provider-id' value='`$tmp.ep.parameters.param[$idx].value`' />\n",
        "comments": "",
        "x": 1937.5348529815674,
        "y": 1443.8329873085022,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "80ef621.91227a",
        "type": "switchNode",
        "name": "switch access-client-id",
        "xml": "<switch test=\"`$tmp.ep.parameters.param[$idx].name == 'access-client-id'`\">",
        "comments": "",
        "outputs": 1,
        "x": 1573.5348682403564,
        "y": 1490.2434296607971,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "9aa6f123.ef332"
            ]
        ]
    },
    {
        "id": "9aa6f123.ef332",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1760.5348682403564,
        "y": 1486.2434296607971,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "888b6219.8a628"
            ]
        ]
    },
    {
        "id": "888b6219.8a628",
        "type": "set",
        "name": "set access-client-id",
        "xml": "<set>\n<parameter name='prop.remote.connection-attachment.access-client-id' value='`$tmp.ep.parameters.param[$idx].value`' />\n",
        "comments": "",
        "x": 1928.5348682403564,
        "y": 1486.8434357643127,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "394aa721.4c02c8",
        "type": "switchNode",
        "name": "switch access-topology-id",
        "xml": "<switch test=\"`$tmp.ep.parameters.param[$idx].name == 'access-topology-id'`\">",
        "comments": "",
        "outputs": 1,
        "x": 1586.534812927246,
        "y": 1532.2434606552124,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "d014ebc4.4a31c8"
            ]
        ]
    },
    {
        "id": "d014ebc4.4a31c8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1773.534812927246,
        "y": 1528.2434606552124,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "549f1584.b325bc"
            ]
        ]
    },
    {
        "id": "549f1584.b325bc",
        "type": "set",
        "name": "set access-topology-id",
        "xml": "<set>\n<parameter name='prop.remote.connection-attachment.access-topology-id' value='`$tmp.ep.parameters.param[$idx].value`' />\n",
        "comments": "",
        "x": 1941.534812927246,
        "y": 1528.843466758728,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "8bfb17e8.90d2d8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1482.0902099609375,
        "y": 1838.344482421875,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "24a5e3f8.1a4b5c",
                "ae5efcf0.defb8",
                "b30c8ef0.cc5f4",
                "f0bd2fd8.6b673",
                "4aa5e06c.97694",
                "139439e4.396b66",
                "1be0591a.c73007",
                "7412dff0.4635a",
                "83c6266e.4569a8",
                "c8755610.52f538",
                "880422d0.726e6",
                "a23a4fc7.bd1c1",
                "716bfd7b.d865c4"
            ]
        ]
    },
    {
        "id": "f64c426b.c798",
        "type": "set",
        "name": "set controller data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.url' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.user' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.password' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n",
        "comments": "",
        "x": 2184,
        "y": 1900,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "7412dff0.4635a",
        "type": "get-resource",
        "name": "get-resource esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.thirdparty-sdnc-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.esr-thirdparty-sdnc' local-only='false' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1788,
        "y": 1940,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "83848dfa.802ff",
                "1b1679f0.1b4866",
                "5a41047b.3e47ec"
            ]
        ]
    },
    {
        "id": "83848dfa.802ff",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2014,
        "y": 1900,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "f64c426b.c798"
            ]
        ]
    },
    {
        "id": "1b1679f0.1b4866",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2018,
        "y": 1940,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "141085d3.63cd6a"
            ]
        ]
    },
    {
        "id": "5a41047b.3e47ec",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2010,
        "y": 1980,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "bec9e226.59cca"
            ]
        ]
    },
    {
        "id": "141085d3.63cd6a",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
        "comments": "",
        "x": 2168,
        "y": 1940,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "bec9e226.59cca",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
        "comments": "",
        "x": 2168,
        "y": 1980,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "1be0591a.c73007",
        "type": "get-resource",
        "name": "get-resource pnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $oof.vpn.access-node-id \n\t\tAND depth = '0'\"\n        pfx='tmp.aai.pnf' local-only='false' >\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1740.534683227539,
        "y": 1811.6772294044495,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "bc132eb8.84591",
                "1feefeff.888931",
                "e4f66301.9064d"
            ]
        ]
    },
    {
        "id": "bc132eb8.84591",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1922.5347290039062,
        "y": 1756.677339553833,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "11ffd9a4.b0d466"
            ]
        ]
    },
    {
        "id": "1feefeff.888931",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1923.0256309509277,
        "y": 1794.2514362335205,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "66753b41.e667e4"
            ]
        ]
    },
    {
        "id": "e4f66301.9064d",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1914.358642578125,
        "y": 1827.5848112106323,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "472bdf88.0d754"
            ]
        ]
    },
    {
        "id": "66753b41.e667e4",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 2070.597255706787,
        "y": 1793.5373249053955,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "472bdf88.0d754",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n",
        "comments": "",
        "x": 2068.1312866210938,
        "y": 1827.023959159851,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "11ffd9a4.b0d466",
        "type": "set",
        "name": "set tmp.thirdparty-sdnc-id",
        "xml": "<set>\n<parameter name='tmp.thirdparty-sdnc-id' value=\"`$tmp.aai.pnf.relationship-list.relationship[0].relationship-data[0].relationship-value`\" />\n",
        "comments": "",
        "x": 2107.5347290039062,
        "y": 1755.6774616241455,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "5a4d0aea.1db464",
        "type": "comment",
        "name": "get domain controller information",
        "info": "",
        "comments": "",
        "x": 1776.538475036621,
        "y": 1767.6811847686768,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "83c6266e.4569a8",
        "type": "set",
        "name": "set oof.vpn",
        "xml": "<set>\n<parameter name='oof.vpn.' value='`$oof.vpns[$vidx].`' />",
        "comments": "",
        "x": 1752.534683227539,
        "y": 1732.7883129119873,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "ae5efcf0.defb8",
        "type": "save",
        "name": "save VPN resource in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding' \n      key='vpn-binding.vpn-id = $tmp.vpnName' >\n<parameter name='vpn-id' value='`$tmp.vpnName`' />\n<parameter name='vpn-name' value='`$tmp.vpnName`' />\n<parameter name='access-provider-id' value='`$oof.vpn.access-provider-id`' />\n<parameter name='access-client-id' value='`$oof.vpn.access-client-id`' />\n<parameter name='access-topology-id' value='`$oof.vpn.access-topology-id`' />\n<parameter name='src-access-node-id' value='`$oof.vpn.access-node-id`' />\n<parameter name='src-access-ltp-id' value='`$oof.vpn.src-access-ltp-id`' />\n<parameter name='dst-access-node-id' value='`$oof.vpn.access-node-id`' />\n<parameter name='dst-access-ltp-id' value='`$oof.vpn.dst-access-ltp-id`' />\n<parameter name='vpn-type' value='`$prop.global.sotn.vpnType`' />\n<parameter name='operational-status' value='Created' />\n<parameter name='model-customization-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-customization-uuid`' />\n<parameter name='model-invariant-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-invariant-uuid`' />\n<parameter name='model-version-id' value='`$network-topology-operation-input.network-information.onap-model-information.model-uuid`' />",
        "comments": "",
        "outputs": 1,
        "x": 1769.5,
        "y": 2300,
        "z": "84ad80ac.b3f87",
        "wires": [
            []
        ]
    },
    {
        "id": "b30c8ef0.cc5f4",
        "type": "set",
        "name": "set tmp.vpnName",
        "xml": "<set>\n<parameter name='tmp.vpnName' value=\"`$oof.vpn.access-node-id + '-' + $ietf-eth-tran-service:etht-svc.etht-svc-instances[0].etht-svc-name`\" />",
        "comments": "",
        "x": 1743.5,
        "y": 2260,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "f0bd2fd8.6b673",
        "type": "save",
        "name": "save connectivity relationship in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding:relationship-list' \n      key='vpn-binding.vpn-id = $tmp.vpnName' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"connectivity\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/connectivities/connectivity/' + $mdsal-psd.service-data.networks.network[0].network-id`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"connectivity.connectivity-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$mdsal-psd.service-data.networks.network[0].network-id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1800,
        "y": 2340,
        "z": "84ad80ac.b3f87",
        "wires": [
            []
        ]
    },
    {
        "id": "13cf781b.b256b8",
        "type": "comment",
        "name": "save vpn and its relation to AAI",
        "info": "",
        "comments": "",
        "x": 1781.5,
        "y": 2220,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "24a5e3f8.1a4b5c",
        "type": "set",
        "name": "set src-ltpId dst-ltpId",
        "xml": "<set>\n<parameter name='src-ltpId' value=\"`'nodeId-' + $oof.vpn.access-node-id + '-ltpId-' + $oof.vpn.src-access-ltp-id`\" />\n<parameter name='dst-ltpId' value=\"`'nodeId-' + $oof.vpn.access-node-id + '-ltpId-' + $oof.vpn.dst-access-ltp-id`\" />",
        "comments": "",
        "x": 1751.5,
        "y": 2380,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "4aa5e06c.97694",
        "type": "save",
        "name": "save srcLTP relationship in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding:relationship-list' \n      key='vpn-binding.vpn-id = $tmp.vpnName' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"p-interface\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/pnfs/pnf/' + $oof.vpn.access-node-id + '/p-interfaces/p-interface/' + $src-ltpId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"p-interface.interface-name\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$src-ltpId`\" />\n\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1785.5,
        "y": 2420,
        "z": "84ad80ac.b3f87",
        "wires": [
            []
        ]
    },
    {
        "id": "139439e4.396b66",
        "type": "save",
        "name": "save dstLTP relationship in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vpn-binding:relationship-list' \n      key='vpn-binding.vpn-id = $tmp.vpnName' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"p-interface\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/pnfs/pnf/' + $oof.vpn.access-node-id + '/p-interfaces/p-interface/' + $dst-ltpId`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"p-interface.interface-name\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$dst-ltpId`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1785.5,
        "y": 2460,
        "z": "84ad80ac.b3f87",
        "wires": [
            []
        ]
    },
    {
        "id": "11d70762.5048a9",
        "type": "execute",
        "name": "execute RestApiCallNode - get-resource connection-attachment-allotted-resource",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.ar-url`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='GET' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-ar\" />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 732.0039367675781,
        "y": 585.0039119720459,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "680e06d1.9cf218",
                "cc3dc454.429718"
            ]
        ]
    },
    {
        "id": "c82e3a42.2edbf8",
        "type": "execute",
        "name": "execute RestApiCallNode - get-resource parent service data",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.ar-url-psd`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='GET' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-psd\" />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 659.0040893554688,
        "y": 812.004075050354,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "1bfacd1.1b42833",
                "7a630eff.8baef"
            ]
        ]
    },
    {
        "id": "a976cde1.3938a",
        "type": "execute",
        "name": "get parent-service-data url",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"/restconf/config/GENERIC-RESOURCE-API:services/service/{service-instance-id}/service-data\"/>\n    <parameter name=\"outputPath\" value=\"tmp.ar-url-psd\"/>\n    <parameter name=\"target\" value=\"{service-instance-id}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.ar.parent-service-instance-id`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 559.0039978027344,
        "y": 775.0039081573486,
        "z": "84ad80ac.b3f87",
        "wires": [
            []
        ]
    },
    {
        "id": "375098ae.b28138",
        "type": "execute",
        "name": "generate tmp.ar-other-url-connection",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.connection-attachment-allottedresource`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.ar-other-url-connection\"/>\n    <parameter name=\"target\" value=\"{allotted-resource-id}\"/>\n    <parameter name=\"replacement\" value=\"`$tmp.provided-ar.allotted-resource-id`\"/>\n    \n\n",
        "comments": "",
        "outputs": 1,
        "x": 1973.0003509521484,
        "y": 931.3334693908691,
        "z": "84ad80ac.b3f87",
        "wires": [
            []
        ]
    },
    {
        "id": "39c4578f.3b85f8",
        "type": "execute",
        "name": "execute RestApiCallNode - get-resource connection-attachment-allotted-resource",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.ar-other-url-connection`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='GET' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-other-ar\" />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2110.000991821289,
        "y": 973.8333339691162,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "63d0792.1a7a588",
                "5d61e0d0.8fe7d"
            ]
        ]
    },
    {
        "id": "3d7f6075.2d005",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1735.0002708435059,
        "y": 1697.0001192092896,
        "z": "84ad80ac.b3f87",
        "wires": [
            []
        ]
    },
    {
        "id": "deb3994f.af61d8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1111.9688835144043,
        "y": 1722.0003032684326,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "ba7ae3af.8aa84",
                "c13f90b8.d901d"
            ]
        ]
    },
    {
        "id": "ea00a276.c3f3f",
        "type": "outcome",
        "name": "outcome PendingDelete",
        "xml": "<outcome value='PendingDelete'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2186.0313415527344,
        "y": 537.0312976837158,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "c6085983.c163b8"
            ]
        ]
    },
    {
        "id": "c6085983.c163b8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2370.031352996826,
        "y": 533.0312976837158,
        "z": "84ad80ac.b3f87",
        "wires": [
            []
        ]
    },
    {
        "id": "880422d0.726e6",
        "type": "set",
        "name": "set attachment_param",
        "xml": "<set>\n<parameter name='ietf-eth-tran-service:etht-svc.etht-svc-instances[0].access-provider-id' value='`$oof.vpn.access-provider-id`' />\n<parameter name='ietf-eth-tran-service:etht-svc.etht-svc-instances[0].access-client-id' value='`$oof.vpn.access-client-id`' />\n<parameter name='ietf-eth-tran-service:etht-svc.etht-svc-instances[0].access-topology-id' value='`$oof.vpn.access-topology-id`' />\n<parameter name='ietf-eth-tran-service:etht-svc.etht-svc-instances[0].etht-svc-access-ports[0].access-node-id' value='`$oof.vpn.access-node-id`' />\n<parameter name='ietf-eth-tran-service:etht-svc.etht-svc-instances[0].etht-svc-access-ports[0].access-ltp-id' value='`$oof.vpn.src-access-ltp-id`' />\n<parameter name='ietf-eth-tran-service:etht-svc.etht-svc-instances[0].etht-svc-access-ports[1].access-node-id' value='`$oof.vpn.access-node-id`' />\n<parameter name='ietf-eth-tran-service:etht-svc.etht-svc-instances[0].etht-svc-access-ports[1].access-ltp-id' value='`$oof.vpn.dst-access-ltp-id`' />\n",
        "comments": "",
        "x": 1758,
        "y": 2140,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "c8755610.52f538",
        "type": "set",
        "name": "set sotn_value",
        "xml": "<set>\n<parameter name='ietf-eth-tran-service:etht-svc.globals.etht-svc-bandwidth-profiles[0].bandwidth-profile-type' value='ietf-eth-tran-types:mef-10-bwp' />\n<parameter name='ietf-eth-tran-service:etht-svc.etht-svc-instances[0].etht-svc-type' value='ietf-eth-tran-types:p2p-svc' />\n<parameter name='ietf-eth-tran-service:etht-svc.etht-svc-instances[0].admin-status' value='ietf-te-types:tunnel-state-up' />\n<parameter name='ietf-eth-tran-service:etht-svc.etht-svc-instances[0].etht-svc-access-ports[0].access-port-id' value='0' />\n<parameter name='ietf-eth-tran-service:etht-svc.etht-svc-instances[0].etht-svc-access-ports[0].service-classification-type' value='ietf-eth-tran-types:port-classification' />\n<parameter name='ietf-eth-tran-service:etht-svc.etht-svc-instances[0].etht-svc-access-ports[1].access-port-id' value='1' />\n<parameter name='ietf-eth-tran-service:etht-svc.etht-svc-instances[0].etht-svc-access-ports[1].service-classification-type' value='ietf-eth-tran-types:port-classification' />",
        "comments": "",
        "x": 1733.5,
        "y": 2100,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "716bfd7b.d865c4",
        "type": "execute",
        "name": "execute RestApiCallNode Get token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/actokentemplate.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/v2/tokens'`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"token-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1800.5,
        "y": 2040,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "8e1efd22.f1cb2",
                "34e19f3.8f1806"
            ]
        ]
    },
    {
        "id": "8e1efd22.f1cb2",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2054,
        "y": 2020,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "946756b6.02f5d8"
            ]
        ]
    },
    {
        "id": "34e19f3.8f1806",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2050,
        "y": 2060,
        "z": "84ad80ac.b3f87",
        "wires": [
            [
                "f089b903.8b2f68"
            ]
        ]
    },
    {
        "id": "f089b903.8b2f68",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing get token rest api\" />\n",
        "comments": "",
        "x": 2208,
        "y": 2060,
        "z": "84ad80ac.b3f87",
        "wires": []
    },
    {
        "id": "946756b6.02f5d8",
        "type": "set",
        "name": "set  token-id",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.token_id' value='`$token-result.data.token_id`' />\n",
        "comments": "",
        "x": 2204.5,
        "y": 2020,
        "z": "84ad80ac.b3f87",
        "wires": []
    }
]
