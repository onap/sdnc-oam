[{"id":"83eb3584.636598","type":"dgstart","name":"DGSTART","outputs":1,"x":121.25,"y":52.5,"z":"d64d71f4.2505a","wires":[["d1c40dc0.981c"]]},{"id":"d1c40dc0.981c","type":"service-logic","name":"GENERIC-RESOURCE-API ${project.version}","module":"GENERIC-RESOURCE-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>","outputs":1,"x":397.25,"y":53.5,"z":"d64d71f4.2505a","wires":[["1c880935.80aa77"]]},{"id":"1c880935.80aa77","type":"method","name":"self-serve-vfmodule-ra-assignment","xml":"<method rpc='self-serve-vfmodule-ra-assignment' mode='sync'>\n","comments":"","outputs":1,"x":748.25,"y":53.5,"z":"d64d71f4.2505a","wires":[["ffd64a38.3947f8"]]},{"id":"ffd64a38.3947f8","type":"block","name":"block atomic","xml":"<block atomic=\"true\">\n","atomic":"false","comments":"","outputs":1,"x":133.75,"y":135.5,"z":"d64d71f4.2505a","wires":[["ef03c8a1.ff14c8","b8224a6b.e416b8","5d862679.cda4e8","4cbda7a7.f7ebe8","5174feae.2ee36","d8649df9.d3929","b6c97e6b.a0e99","35183a29.291a06","bd735e70.63002","43e97d79.aa8c94","c7adf75b.5424d8","9e6ab38f.aa2ca","bffd9817.b24028","f4359972.440fb8","94c3056d.2f14a8"]]},{"id":"b8224a6b.e416b8","type":"set","name":"set","xml":"<set>\n   <parameter name=\"request-id\" value=\"`$tmp.return.generate.vnf-se-serv-uuid`\"/>\n   <parameter name=\"resource-type\" value=\"`$vf-module-topology-operation-input.vf-module-information.vf-module-type`\" />  \n   <parameter name=\"resource-id\" value=\"`$vf-module-topology-operation-input.vf-module-information.vf-module-id`\" />   \n   <parameter name=\"action-name\" value=\"resource-assignment-action\"/> \n   <parameter name=\"responsePrefix\" value=\"sriovAssign\" />\n","comments":"","x":318.25,"y":181.5,"z":"d64d71f4.2505a","wires":[]},{"id":"3bd6d10c.bbf58e","type":"outcome","name":"true","xml":"<outcome value='true'>","comments":"","outputs":1,"x":594.4642486572266,"y":533.9642963409424,"z":"d64d71f4.2505a","wires":[["2c569757.4f7808"]]},{"id":"4cbda7a7.f7ebe8","type":"for","name":"for vf-module-topology-operation-input","xml":"<for silentFailure='true' index='i' start='0' end='`$vf-module-topology-operation-input.vf-module-request-input.vf-module-input-parameters.param_length`' >","comments":"","outputs":1,"x":417.96431732177734,"y":399.2143135070801,"z":"d64d71f4.2505a","wires":[["8036fd78.9c6aa"]]},{"id":"8bd51f50.dbaff","type":"set","name":"set tmp.sdnc-model-name","xml":"<set>\n<parameter name='tmp.sdnc-model-name' value='`$vf-module-topology-operation-input.vf-module-request-input.vf-module-input-parameters.param[$i].value`' />\n","comments":"","x":1164.678565979004,"y":331.6428813934326,"z":"d64d71f4.2505a","wires":[]},{"id":"4e6a3a1c.33d514","type":"outcome","name":"sdnc_model_name","xml":"<outcome value='sdnc_model_name'>\n","comments":"","outputs":1,"x":910.6785659790039,"y":331.6428813934326,"z":"d64d71f4.2505a","wires":[["8bd51f50.dbaff"]]},{"id":"8036fd78.9c6aa","type":"switchNode","name":"switch","xml":"<switch test='`$vf-module-topology-operation-input.vf-module-request-input.vf-module-input-parameters.param[$i].name`'>\n\n","comments":"","outputs":1,"x":672.6785659790039,"y":398.6428813934326,"z":"d64d71f4.2505a","wires":[["4e6a3a1c.33d514","6f8b3780.39dba8","86f9e2d9.210ef","5ed0c037.be854"]]},{"id":"6f8b3780.39dba8","type":"outcome","name":"sdnc_model_version","xml":"<outcome value='sdnc_model_version'>\n","comments":"","outputs":1,"x":913.6785659790039,"y":377.6428813934326,"z":"d64d71f4.2505a","wires":[["7626fec9.55e7a"]]},{"id":"86f9e2d9.210ef","type":"outcome","name":"vf_module_label","xml":"<outcome value='vf_module_label'>\n","comments":"","outputs":1,"x":898.6785659790039,"y":426.6428813934326,"z":"d64d71f4.2505a","wires":[["38ee4557.921a3a"]]},{"id":"7626fec9.55e7a","type":"set","name":"set tmp.sdnc-model-version","xml":"<set>\n<parameter name='tmp.sdnc-model-version' value='`$vf-module-topology-operation-input.vf-module-request-input.vf-module-input-parameters.param[$i].value`' />\n\n","comments":"","x":1168.678565979004,"y":377.6428813934326,"z":"d64d71f4.2505a","wires":[]},{"id":"38ee4557.921a3a","type":"set","name":"set tmp.vf-module-label","xml":"<set>\n<parameter name='tmp.vf-module-label' value='`$vf-module-topology-operation-input.vf-module-request-input.vf-module-input-parameters.param[$i].value`' />\n\n","comments":"","x":1150.678565979004,"y":426.6428813934326,"z":"d64d71f4.2505a","wires":[]},{"id":"b97771ef.1b6a8","type":"set","name":"set name-value other JsonString","xml":"<set>\n<parameter name=\"tmp.config-name-value-other-payload\" value=\"`$tmp.config-name-value-other-payload + '&quot;' + $vf-module-topology-operation-input.vf-module-request-input.vf-module-input-parameters.param[$i].name + '&quot;:&quot;' + $vf-module-topology-operation-input.vf-module-request-input.vf-module-input-parameters.param[$i].value + '&quot;,'`\"/>\n\n","comments":"","x":1168.678565979004,"y":477.6428813934326,"z":"d64d71f4.2505a","wires":[]},{"id":"5ed0c037.be854","type":"outcome","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":870.6785659790039,"y":477.6428813934326,"z":"d64d71f4.2505a","wires":[["b97771ef.1b6a8"]]},{"id":"5174feae.2ee36","type":"set","name":"set configAssignment JsonString","xml":"<set>\n\t<parameter name=\"tmp.config-name-value-payload4\" value=\"`$tmp.config-name-value-other-payload + '&quot;service-instance-id&quot;:&quot;' + $vf-module-topology-operation-input.service-information.service-instance-id + '&quot;,'`\"/>\n\t<parameter name=\"tmp.config-name-value-payload5\" value=\"`$tmp.config-name-value-payload4 + '&quot;vnf-id&quot;:&quot;' + $vf-module-topology-operation-input.vnf-information.vnf-id + '&quot;,'`\"/>\n\t<parameter name=\"tmp.config-name-value-payload6\" value=\"`$tmp.config-name-value-payload5 + '&quot;vf-module-model-customization-uuid&quot;:&quot;' + $vf-module-topology-operation-input.vf-module-information.onap-model-information.model-customization-uuid + '&quot;,'`\"/>\n\t<parameter name=\"tmp.config-name-value-payload7\" value=\"`$tmp.config-name-value-payload6 + '&quot;vnf-model-customization-uuid&quot;:&quot;' + $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-information.onap-model-information.model-customization-uuid + '&quot;,'`\"/>\n\t<parameter name=\"tmp.config-name-value-payload8\" value=\"`$tmp.config-name-value-payload7 + '&quot;vf-module-id&quot;:&quot;' + $vf-module-topology-operation-input.vf-module-information.vf-module-id + '&quot;,'`\"/>\n\t<parameter name=\"tmp.config-name-value-payload9\" value=\"`$tmp.config-name-value-payload8 + '&quot;aic-cloud-region&quot;:&quot;' + $vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region + '&quot;'`\"/>\n\t<parameter name=\"tmp.config-name-value-payload91\" value=\"`'{' + $tmp.config-name-value-payload9 + '}'`\" />\n\t\n","comments":"","x":389.25,"y":691.5,"z":"d64d71f4.2505a","wires":[]},{"id":"d8649df9.d3929","type":"execute","name":"execute ConfigAssignment","xml":"<execute plugin='org.onap.ccsdk.config.assignment.service.ConfigAssignmentNode' method='process'>\n\t<parameter name=\"request-id\" value='`$request-id`' />\n\t<parameter name=\"resource-id\" value='`$resource-id`' />         \n\t<parameter name=\"resource-type\" value='`$resource-type`' />\n\t<parameter name=\"action-name\" value='`$action-name`' />\n\t<parameter name=\"template-names\" value=\"`'[&quot;' + $tmp.vf-module-label + '&quot;]'`\" />\n\t<parameter name=\"service-template-name\" value='`$tmp.sdnc-model-name`' />\n\t<parameter name=\"service-template-version\" value='`$tmp.sdnc-model-version`' />\n\t<parameter name='input-data' value='`$tmp.config-name-value-payload91`' />\n\t<parameter name=\"prifix\" value=\"sriovAssign\" />","comments":"","outputs":1,"x":383.5832977294922,"y":869.4999723434448,"z":"d64d71f4.2505a","wires":[["e513cccd.0fb49","62574755.8d02d8"]]},{"id":"e513cccd.0fb49","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":573.5832977294922,"y":845.4999723434448,"z":"d64d71f4.2505a","wires":[["643b1fc.cc237e"]]},{"id":"643b1fc.cc237e","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error from ConfigAssignmentNode\" />\n","comments":"","x":771.5832977294922,"y":845.4999723434448,"z":"d64d71f4.2505a","wires":[]},{"id":"35183a29.291a06","type":"for","name":"for resource-accumulator-resolved-data loop","xml":"<for silentFailure='true' index='i' start='0' end='`$jsonContextPrefix.resource-accumulator-resolved-data_length`' >\n","comments":"","outputs":1,"x":436.25001525878906,"y":1136.8333473205566,"z":"d64d71f4.2505a","wires":[["bdd24bd9.898e08"]]},{"id":"3886482a.d004c8","type":"set","name":"set from resource-accumulator-resolved-data","xml":"<set>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].name`' value='`$jsonContextPrefix.resource-accumulator-resolved-data[$i].param-name`'/>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].value`' value='`$jsonContextPrefix.resource-accumulator-resolved-data[$i].param-value`'/>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].resource-resolution-data.capability-name`' value='RA Resolved'/>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].resource-resolution-data.status`' value='SUCCESS'/>\n\n","comments":"","x":1650.250015258789,"y":1187.8333473205566,"z":"d64d71f4.2505a","wires":[]},{"id":"bd735e70.63002","type":"for","name":"for capability-data","xml":"<for silentFailure='true' index='i' start='0' end='`$jsonContextPrefix.capability-data_length`' >\n","comments":"","outputs":1,"x":355.25001525878906,"y":1399.8333473205566,"z":"d64d71f4.2505a","wires":[["1be8ded5.660511"]]},{"id":"1be8ded5.660511","type":"for","name":"for key-mapping","xml":"<for silentFailure='true' index='j' start='0' end='`$jsonContextPrefix.capability-data[$i].key-mapping_length`' >","comments":"","outputs":1,"x":578.2500152587891,"y":1399.8333473205566,"z":"d64d71f4.2505a","wires":[["e6f5f92.a1f8f08"]]},{"id":"b6c97e6b.a0e99","type":"execute","name":"execute jsonStringToCtx","xml":"<execute plugin=\"org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils\" method=\"jsonStringToCtx\">\n\t<parameter name=\"source\" value=\"`'sriovAssign.mashed-data.' + $tmp.vf-module-label`\" />\n\t<parameter name=\"outputPath\" value=\"jsonContextPrefix\" />\n\t<parameter name=\"isEscaped\" value=\"false\" />\n\n","comments":"","outputs":1,"x":380.25001525878906,"y":1057.8333473205566,"z":"d64d71f4.2505a","wires":[[]]},{"id":"ef03c8a1.ff14c8","type":"execute","name":"execute generateUUID","xml":" <execute plugin=\"org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils\" method=\"generateUUID\" > \n <parameter name=\"ctx-destination\" value=\"tmp.return.generate.vnf-se-serv-uuid\" /> \n ","comments":"","outputs":1,"x":363.25,"y":135.5,"z":"d64d71f4.2505a","wires":[["4ba70d0.5eaf3f4"]]},{"id":"4ba70d0.5eaf3f4","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":568.25,"y":135.5,"z":"d64d71f4.2505a","wires":[["f15273ba.e4ccf"]]},{"id":"f15273ba.e4ccf","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"generateUUID is failed\" />\n","comments":"","x":732.25,"y":134.5,"z":"d64d71f4.2505a","wires":[]},{"id":"a23caf97.dd75a","type":"for","name":"for vnf-parameters-data.param","xml":"<for silentFailure='true' index='cnt' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param_length`' >\n","comments":"","outputs":1,"x":1409.250015258789,"y":1136.8333473205566,"z":"d64d71f4.2505a","wires":[["d072867f.af17a8"]]},{"id":"bdd24bd9.898e08","type":"block","name":"block atomic","xml":"<block atomic=\"true\">","atomic":"false","comments":"","outputs":1,"x":715.2500152587891,"y":1137.8333473205566,"z":"d64d71f4.2505a","wires":[["9a2a1dac.b088","245adfb0.abd75","aaaf5cde.bcba6"]]},{"id":"5d862679.cda4e8","type":"switchNode","name":"switch vf-parameters-data.param_length","xml":"<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param_length`'>\n","comments":"","outputs":1,"x":435.25,"y":236.5,"z":"d64d71f4.2505a","wires":[["b713b448.f4d8b8","7c50cac9.4fd584"]]},{"id":"b713b448.f4d8b8","type":"outcome","name":"null","xml":"<outcome value=''>","comments":"","outputs":1,"x":698.3928833007812,"y":204.35715293884277,"z":"d64d71f4.2505a","wires":[["c0a33e08.da9ce"]]},{"id":"7c50cac9.4fd584","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":697.3928833007812,"y":268.3571529388428,"z":"d64d71f4.2505a","wires":[["53104be0.6c8084"]]},{"id":"c0a33e08.da9ce","type":"set","name":"set pre service param len as 0","xml":"<set>\n   <parameter name='highnum' value='0' />\n   <parameter name='prehighnum' value='0'/>\n","comments":"","x":911.3928833007812,"y":204.35715293884277,"z":"d64d71f4.2505a","wires":[]},{"id":"53104be0.6c8084","type":"set","name":"set pre service param len","xml":"<set>\n   <parameter name='highnum' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param_length`' />\n   <parameter name='prehighnum' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param_length`' />","comments":"","x":896.3928833007812,"y":268.3571529388428,"z":"d64d71f4.2505a","wires":[]},{"id":"d072867f.af17a8","type":"switchNode","name":"switch input vnf-name","xml":"<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$cnt].name == $jsonContextPrefix.resource-accumulator-resolved-data[$i].param-name`'>\n","comments":"","outputs":1,"x":1667.250015258789,"y":1136.8333473205566,"z":"d64d71f4.2505a","wires":[["ed697e54.d13fe"]]},{"id":"ed697e54.d13fe","type":"not-found","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1847.250015258789,"y":1136.8333473205566,"z":"d64d71f4.2505a","wires":[["5253daf.8524e24"]]},{"id":"5253daf.8524e24","type":"set","name":"set for existing param name","xml":"<set>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$cnt].value`' value='`$jsonContextPrefix.resource-accumulator-resolved-data[$i].param-value`'/>\n<parameter name='tmp.mso.param.found' value='true' />\n","comments":"","x":2057.250015258789,"y":1137.8333473205566,"z":"d64d71f4.2505a","wires":[]},{"id":"aaaf5cde.bcba6","type":"switchNode","name":"switch tmp.mso.param.not-found","xml":"<switch test='`$tmp.mso.param.found`'>\n","comments":"","outputs":1,"x":957.2500152587891,"y":1189.8333473205566,"z":"d64d71f4.2505a","wires":[["5fec017a.f95fb"]]},{"id":"5fec017a.f95fb","type":"not-found","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1191.250015258789,"y":1188.8333473205566,"z":"d64d71f4.2505a","wires":[["d34da95a.b5de98"]]},{"id":"9a2a1dac.b088","type":"set","name":"set for existing param name","xml":"<set>\n<parameter name='tmp.mso.param.found' value='false' />\n","comments":"","x":941.2500152587891,"y":1078.8333473205566,"z":"d64d71f4.2505a","wires":[]},{"id":"245adfb0.abd75","type":"switchNode","name":"switch check length > 0","xml":"<switch test='`$prehighnum &gt; 0`'>\n","comments":"","outputs":1,"x":933.7500152587891,"y":1137.8333473205566,"z":"d64d71f4.2505a","wires":[["868c71ff.81c13"]]},{"id":"868c71ff.81c13","type":"not-found","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1180.750015258789,"y":1137.8333473205566,"z":"d64d71f4.2505a","wires":[["a23caf97.dd75a"]]},{"id":"7407bfe8.27801","type":"for","name":"for payload","xml":"<for index='k' start='0' end='`$jsonContextPrefix.capability-data[$i].key-mapping[$j].payload_length`' >","comments":"","outputs":1,"x":1627.250015258789,"y":1451.8333473205566,"z":"d64d71f4.2505a","wires":[["a55901ea.de196"]]},{"id":"477f56a8.2964e8","type":"set","name":"set resource-key","xml":"<set>\n\t<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].resource-resolution-data.resource-key[$num].name`' value='`$jsonContextPrefix.capability-data[$i].key-mapping[$j].payload[$k].param-name`'/>\n\t<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].resource-resolution-data.resource-key[$num].value`' value='`$jsonContextPrefix.capability-data[$i].key-mapping[$j].payload[$k].param-value`'/>\n\t\n","comments":"","x":2026.250015258789,"y":1392.8333473205566,"z":"d64d71f4.2505a","wires":[]},{"id":"dff927e4.b927a8","type":"set","name":"set output-data ","xml":"<set>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].name`' value='`$jsonContextPrefix.capability-data[$i].key-mapping[$j].output-key-mapping[$l].resource-name`'/>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].value`' value='`$jsonContextPrefix.capability-data[$i].key-mapping[$j].output-key-mapping[$l].resource-value`'/>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].resource-resolution-data.capability-name`' value='`$jsonContextPrefix.capability-data[$i].capability-name`'/>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].resource-resolution-data.status`' value='PENDING'/>\n<parameter name='num' value='0' />","comments":"","x":1205.250015258789,"y":1353.8333473205566,"z":"d64d71f4.2505a","wires":[]},{"id":"e6f5f92.a1f8f08","type":"for","name":"for output-key-mapping","xml":"<for silentFailure='true' index='l' start='0' end='`$jsonContextPrefix.capability-data[$i].key-mapping[$j].output-key-mapping_length`' >","comments":"","outputs":1,"x":813.2500152587891,"y":1400.8333473205566,"z":"d64d71f4.2505a","wires":[["c4847a99.613d08"]]},{"id":"c4847a99.613d08","type":"block","name":"block atomic","xml":"<block atomic=\"true\">","atomic":"false","comments":"","outputs":1,"x":1008.2500152587891,"y":1399.8333473205566,"z":"d64d71f4.2505a","wires":[["dff927e4.b927a8","d708f5a0.7b1588","3b5810ed.04647","b9edb73a.e3ffc8"]]},{"id":"3b5810ed.04647","type":"set","name":"set length","xml":"<set>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param_length`' value='`$highnum + 1`'/>\n\n","comments":"","x":1204.250015258789,"y":1451.8333473205566,"z":"d64d71f4.2505a","wires":[]},{"id":"62574755.8d02d8","type":"failure","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":578.5832977294922,"y":907.4999723434448,"z":"d64d71f4.2505a","wires":[["643b1fc.cc237e"]]},{"id":"d708f5a0.7b1588","type":"switchNode","name":"switch payload_length","xml":"<switch test=\"`$jsonContextPrefix.capability-data[$i].key-mapping[$j].payload_length == ''`\">\n","comments":"","outputs":1,"x":1234.250015258789,"y":1400.8333473205566,"z":"d64d71f4.2505a","wires":[["8f1dc823.58d558","99c3f6b2.9f2ed8"]]},{"id":"8f1dc823.58d558","type":"outcome","name":"true","xml":"<outcome value='true'>","comments":"","outputs":1,"x":1449.250015258789,"y":1332.8333473205566,"z":"d64d71f4.2505a","wires":[[]]},{"id":"99c3f6b2.9f2ed8","type":"other","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1458.250015258789,"y":1451.8333473205566,"z":"d64d71f4.2505a","wires":[["7407bfe8.27801"]]},{"id":"43e97d79.aa8c94","type":"switchNode","name":"switch: model info == NULL","xml":"<switch test=\"`$tmp.sdnc-model-name == '' or $tmp.sdnc-model-version == '' or $tmp.vf-module-label == ''`\">\n","comments":"","outputs":1,"x":383.03570556640625,"y":534.1071863174438,"z":"d64d71f4.2505a","wires":[["3bd6d10c.bbf58e"]]},{"id":"ffe8a21e.9ec8d","type":"get-resource","name":"get VF_MODEL.sdnc_model_name","xml":"<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='SELECT * from VF_MODEL WHERE customization_uuid = $vf-module-topology-operation-input.vnf-information.onap-model-information.model-customization-uuid'\n  pfx='db1.vf-model'>\n\n","comments":"","outputs":1,"x":1061.1785354614258,"y":534.964297413826,"z":"d64d71f4.2505a","wires":[["c4ce67f5.c980d8","bf86e1cb.561b4","585c6f98.47d6"]]},{"id":"c4ce67f5.c980d8","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1304.3927536010742,"y":535.3451566696167,"z":"d64d71f4.2505a","wires":[["8a3b4d7b.30aa8"]]},{"id":"8a3b4d7b.30aa8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error reading VF_MODEL table\" />\n","comments":"","x":1485.392734527588,"y":535.4880638122559,"z":"d64d71f4.2505a","wires":[]},{"id":"64943eb6.c116a","type":"get-resource","name":"get VF_MODULE_MODEL.vf-module-label","xml":"<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='SELECT vf_module_label from VF_MODULE_MODEL WHERE customization_uuid = $vf-module-topology-operation-input.vf-module-information.onap-model-information.model-customization-uuid \n  \tAND vf_module_label is not null'\n  pfx='db1.vf-module-model'>\n\n","comments":"","outputs":1,"x":1082.630874633789,"y":663.8095798492432,"z":"d64d71f4.2505a","wires":[["7a35fd40.2d3034","7d5a1873.ae41f8","7d81de0a.38718"]]},{"id":"7a35fd40.2d3034","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1361.4164581298828,"y":664.1904038190842,"z":"d64d71f4.2505a","wires":[["b85cbcbc.9f92d"]]},{"id":"b85cbcbc.9f92d","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error reading VF_MODULE_MODEL table\" />\n","comments":"","x":1536.416389465332,"y":664.3333042860031,"z":"d64d71f4.2505a","wires":[]},{"id":"7d5a1873.ae41f8","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":1371.6308822631836,"y":743.595287322998,"z":"d64d71f4.2505a","wires":[["699d20c5.17d4e"]]},{"id":"2c569757.4f7808","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":769.9880294799805,"y":534.3452922105789,"z":"d64d71f4.2505a","wires":[["ffe8a21e.9ec8d","64943eb6.c116a"]]},{"id":"f2237083.9bb43","type":"set","name":"set sdnc-model-name, sdnc-model-version","xml":"<set>\n<parameter name='tmp.sdnc-model-name' value='`$db1.vf-model.sdnc-model-name`' />\n<parameter name='tmp.sdnc-model-version' value='`$db1.vf-model.sdnc-model-version`' />\n\n\n\n","comments":"","x":1583.67866897583,"y":615.464334487915,"z":"d64d71f4.2505a","wires":[]},{"id":"bf86e1cb.561b4","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":1312.2501411437988,"y":615.7500095367432,"z":"d64d71f4.2505a","wires":[["f2237083.9bb43"]]},{"id":"699d20c5.17d4e","type":"set","name":"set vf-module-label","xml":"<set>\n<parameter name='tmp.vf-module-label' value='`$db1.vf-module-model.vf-module-label`' />\n\n\n\n","comments":"","x":1576.071434020996,"y":745.1786003112793,"z":"d64d71f4.2505a","wires":[]},{"id":"a55901ea.de196","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1804.250015258789,"y":1450.8333473205566,"z":"d64d71f4.2505a","wires":[["477f56a8.2964e8","c3ead4f1.968628","31a41aa0.8cccc6"]]},{"id":"c3ead4f1.968628","type":"set","name":"set length","xml":"<set>\n\t<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].resource-resolution-data.resource-key_length`' value='`$num + 1`'/>\n","comments":"","x":2015.250015258789,"y":1450.8333473205566,"z":"d64d71f4.2505a","wires":[]},{"id":"585c6f98.47d6","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1315.0000190734863,"y":575.0000076293945,"z":"d64d71f4.2505a","wires":[["d444ba8a.ff33d8"]]},{"id":"d444ba8a.ff33d8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'No VF_MODEL found with customization_uuid = ' + $vf-module-topology-operation-input.vnf-information.onap-model-information.model-customization-uuid`\" />","comments":"","x":1486.2500228881836,"y":573.7500085830688,"z":"d64d71f4.2505a","wires":[]},{"id":"7d81de0a.38718","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1372.5,"y":705,"z":"d64d71f4.2505a","wires":[["1023d51.10a782b"]]},{"id":"1023d51.10a782b","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'vf_module_label not found in VF_MODULE_MODEL WHERE customization_uuid = ' + $vf-module-topology-operation-input.vf-module-information.onap-model-information.model-customization-uuid`\" />","comments":"","x":1543.7500038146973,"y":703.7500009536743,"z":"d64d71f4.2505a","wires":[]},{"id":"31a41aa0.8cccc6","type":"set","name":"increment length","xml":"<set>\n\t<parameter name='num' value='`$num + 1`' />\n","comments":"","x":2028.250015258789,"y":1516.8333473205566,"z":"d64d71f4.2505a","wires":[]},{"id":"b9edb73a.e3ffc8","type":"set","name":"increment length","xml":"<set>\n\t<parameter name='highnum' value='`$highnum + 1`' />\n","comments":"","x":1221.250015258789,"y":1522.8333473205566,"z":"d64d71f4.2505a","wires":[]},{"id":"bdf12ea7.d23ff","type":"set","name":"increment length","xml":"<set>\n\t<parameter name='highnum' value='`$highnum + 1`' />\n","comments":"","x":1568.250015258789,"y":1247.8333473205566,"z":"d64d71f4.2505a","wires":[]},{"id":"d34da95a.b5de98","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1362.250015258789,"y":1187.8333473205566,"z":"d64d71f4.2505a","wires":[["3886482a.d004c8","bdf12ea7.d23ff"]]},{"id":"c7adf75b.5424d8","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"BEFORE ConfigAssignmentNode\"/>\n\n","comments":"","outputs":1,"x":327.9166603088379,"y":797.5000104904175,"z":"d64d71f4.2505a","wires":[[]]},{"id":"9e6ab38f.aa2ca","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"AFTER ConfigAssignmentNode\"/>\n\n","comments":"","outputs":1,"x":324.5833282470703,"y":952.500018119812,"z":"d64d71f4.2505a","wires":[[]]},{"id":"f4359972.440fb8","type":"execute","name":"printContext","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='`$pathname`' />\n","comments":"","outputs":1,"x":337.5,"y":1675.0000133514404,"z":"d64d71f4.2505a","wires":[[]]},{"id":"bffd9817.b24028","type":"set","name":"set pathname","xml":"<set>\n<parameter name='pathname' \n\tvalue=\"`'/var/tmp/ss-vfmodule-ra-assignment-' + \n\t$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-information.vf-module-id + '.log'`\" />\n","comments":"","x":343.75,"y":1622.5000114440918,"z":"d64d71f4.2505a","wires":[]},{"id":"94c3056d.2f14a8","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"DONE: vfmodule-ra-assignment\"/>\n\n","comments":"","outputs":1,"x":322.25000381469727,"y":1573.7500190734863,"z":"d64d71f4.2505a","wires":[[]]}]