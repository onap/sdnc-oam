[
  {
    "id": "473dab42.aca73c",
    "type": "dgstart",
    "name": "DGSTART",
    "outputs": 1,
    "x": 118.4284896850586,
    "y": 52.57147741317749,
    "z": "6712495d.afc568",
    "wires": [
      [
        "2074db3a.e80f8c"
      ]
    ]
  },
  {
    "id": "b2cd9f92.cc9cd8",
    "type": "method",
    "name": "method self-serve-netbox-ip-assignment",
    "xml": "<method rpc='self-serve-netbox-ip-assignment' mode='sync'>\n",
    "comments": "",
    "outputs": 1,
    "x": 254.2142105102539,
    "y": 109.6984658241272,
    "z": "6712495d.afc568",
    "wires": [
      [
        "8b52ad89.ae4fe"
      ]
    ]
  },
  {
    "id": "8b52ad89.ae4fe",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "comments": "",
    "outputs": 1,
    "x": 147.74993133544922,
    "y": 196.000084400177,
    "z": "6712495d.afc568",
    "wires": [
      [
        "4ef0c4f9.4def6c",
        "ac70a04c.16d2d",
        "a5d1d904.948298"
      ]
    ]
  },
  {
    "id": "2074db3a.e80f8c",
    "type": "service-logic",
    "name": "GENERIC-RESOURCE-API ${project.version}",
    "module": "GENERIC-RESOURCE-API",
    "version": "${project.version}",
    "comments": "",
    "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
    "outputs": 1,
    "x": 391.28563690185547,
    "y": 52.00004434585571,
    "z": "6712495d.afc568",
    "wires": [
      [
        "b2cd9f92.cc9cd8"
      ]
    ]
  },
  {
    "id": "4ef0c4f9.4def6c",
    "type": "switchNode",
    "name": "switch: ss.capability-name",
    "xml": "<switch test='`$ss.capability-name`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 382.1784973144531,
    "y": 197.32148218154907,
    "z": "6712495d.afc568",
    "wires": [
      [
        "537146fa.18a8e"
      ]
    ]
  },
  {
    "id": "537146fa.18a8e",
    "type": "outcome",
    "name": "NULL",
    "xml": "<outcome value=''>",
    "outputs": 1,
    "x": 607.1785202026367,
    "y": 197.8214807510376,
    "z": "6712495d.afc568",
    "wires": [
      [
        "8291e48e.8ed39"
      ]
    ]
  },
  {
    "id": "8291e48e.8ed39",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status=\"failure\">\n\t<parameter name=\"ack-final\" value=\"Y\" />\n\t<parameter name=\"error-code\" value=\"500\"/>\n\t<parameter name=\"error-message\" value=\"ss.capability-name is null\" />\n",
    "comments": "",
    "x": 767.0951919555664,
    "y": 197.9325795173645,
    "z": "6712495d.afc568",
    "wires": []
  },
  {
    "id": "ac70a04c.16d2d",
    "type": "switchNode",
    "name": "switch: ss.capability-action",
    "xml": "<switch test='`$ss.capability-action`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 385.4284896850586,
    "y": 273.3214774131775,
    "z": "6712495d.afc568",
    "wires": [
      [
        "83293e19.ada428",
        "52aebe79.dfadf8"
      ]
    ]
  },
  {
    "id": "83293e19.ada428",
    "type": "outcome",
    "name": "NULL",
    "xml": "<outcome value=''>",
    "comments": "",
    "outputs": 1,
    "x": 608.9284896850586,
    "y": 273.5714774131775,
    "z": "6712495d.afc568",
    "wires": [
      [
        "9addebc5.0afa48"
      ]
    ]
  },
  {
    "id": "9addebc5.0afa48",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status=\"failure\">\n\t<parameter name=\"ack-final\" value=\"Y\" />\n\t<parameter name=\"error-code\" value=\"500\"/>\n\t<parameter name=\"error-message\" value=\"ss.capability-action is null\" />\n",
    "comments": "",
    "x": 768.8451614379883,
    "y": 273.6825761795044,
    "z": "6712495d.afc568",
    "wires": []
  },
  {
    "id": "4b3a226f.9592b4",
    "type": "outcome",
    "name": "unassign",
    "xml": "<outcome value='unassign'>",
    "comments": "",
    "outputs": 1,
    "x": 466.6548080444336,
    "y": 1569.8331961631775,
    "z": "6712495d.afc568",
    "wires": [
      [
        "f193a384.b90d28"
      ]
    ]
  },
  {
    "id": "c736ec.072eb118",
    "type": "call",
    "name": "call self-service-capability-param-resolution",
    "xml": "<call module='GENERIC-RESOURCE-API' rpc='self-service-capability-param-resolution' mode='sync' >\n",
    "comments": "",
    "outputs": 1,
    "x": 909.84521484375,
    "y": 320.82147216796875,
    "z": "6712495d.afc568",
    "wires": [
      [
        "7b5fdf04.1b2aa8"
      ]
    ]
  },
  {
    "id": "7b5fdf04.1b2aa8",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1161.0951347351074,
    "y": 320.8214807510376,
    "z": "6712495d.afc568",
    "wires": [
      [
        "148e7cf9.202493"
      ]
    ]
  },
  {
    "id": "148e7cf9.202493",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status=\"failure\">\n\t<parameter name=\"ack-final\" value=\"Y\" />\n\t<parameter name=\"error-code\" value=\"500\"/>\n\t<parameter name=\"error-message\" value=\"`'Not all assignments are resolved' + $error-message`\" />\n",
    "comments": "",
    "x": 1319.845115661621,
    "y": 320.82147693634033,
    "z": "6712495d.afc568",
    "wires": []
  },
  {
    "id": "1bd89451.12111c",
    "type": "set",
    "name": "set tmp.ss.param.capability-name",
    "xml": "<set>\n<parameter name='tmp.ss.param.capability-name' \n\tvalue='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.capability-name`' />\n",
    "comments": "",
    "x": 1318.9918594360352,
    "y": 390.6032009124756,
    "z": "6712495d.afc568",
    "wires": []
  },
  {
    "id": "832628eb.8eb438",
    "type": "for",
    "name": "for pidx in param_length",
    "xml": "<for index=\"pidx\" start=\"0\" end=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param_length`\">",
    "comments": "",
    "outputs": 1,
    "x": 1029.2060852050781,
    "y": 390.6746711730957,
    "z": "6712495d.afc568",
    "wires": [
      [
        "40ccfc5b.406e8c",
        "1bd89451.12111c",
        "178b8ad2.a05e0d"
      ]
    ]
  },
  {
    "id": "40ccfc5b.406e8c",
    "type": "switchNode",
    "name": "switch: capability-name - ss vs param",
    "xml": "<switch test='`$tmp.ss.param.capability-name == $ss.capability-name`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1332.0673217773438,
    "y": 471.95245361328125,
    "z": "6712495d.afc568",
    "wires": [
      [
        "4982ddb0.0236d4"
      ]
    ]
  },
  {
    "id": "4982ddb0.0236d4",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1570.8173294067383,
    "y": 471.70245361328125,
    "z": "6712495d.afc568",
    "wires": [
      [
        "94ce3ff2.aae79"
      ]
    ]
  },
  {
    "id": "5cfaa26e.a6026c",
    "type": "switchNode",
    "name": "switch: resource-key[].name",
    "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.resource-key[$kidx].name`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1142.2067108154297,
    "y": 853.3296613693237,
    "z": "6712495d.afc568",
    "wires": [
      [
        "d43b2d2c.f6a46",
        "ed16954b.e1b94",
        "4ed91a46.8b9de4",
        "f1b6fcc3.0e032",
        "80559cdc.5f353"
      ]
    ]
  },
  {
    "id": "ed16954b.e1b94",
    "type": "outcome",
    "name": "service-instance-id",
    "xml": "<outcome value='service-instance-id'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1413.5956192016602,
    "y": 852.8018798828125,
    "z": "6712495d.afc568",
    "wires": [
      [
        "a7e76e49.33d468"
      ]
    ]
  },
  {
    "id": "a7e76e49.33d468",
    "type": "set",
    "name": "set tmp.ss.service-instance-id",
    "xml": "<set>\n<parameter name='tmp.ss.service-instance-id' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.resource-key[$kidx].value`' />\n",
    "comments": "",
    "x": 1679.8456192016602,
    "y": 852.5518798828125,
    "z": "6712495d.afc568",
    "wires": []
  },
  {
    "id": "62f3b302.da7644",
    "type": "set",
    "name": "set service-data...param[].value = ip-address",
    "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].value' \n\tvalue='`$self_serve_netbox_ip_assignement.ip-address`' />\n",
    "comments": "",
    "x": 1945.151023864746,
    "y": 1365.6510062217712,
    "z": "6712495d.afc568",
    "wires": []
  },
  {
    "id": "e0455451.806808",
    "type": "for",
    "name": "for pidx in param_length",
    "xml": "<for index=\"pidx\" start=\"0\" end=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param_length`\">",
    "comments": "",
    "outputs": 1,
    "x": 921.4760971069336,
    "y": 1364.583562374115,
    "z": "6712495d.afc568",
    "wires": [
      [
        "fa5ce90d.33341"
      ]
    ]
  },
  {
    "id": "fa5ce90d.33341",
    "type": "switchNode",
    "name": "switch: param[].name",
    "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].name`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1167.253807067871,
    "y": 1364.3335013389587,
    "z": "6712495d.afc568",
    "wires": [
      [
        "335d889f.3da9f"
      ]
    ]
  },
  {
    "id": "3f48f03.410629",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1675.2619972229004,
    "y": 1366.5122122764587,
    "z": "6712495d.afc568",
    "wires": [
      [
        "62f3b302.da7644",
        "ef971da3.6754a8"
      ]
    ]
  },
  {
    "id": "8bbeb28d.ba5438",
    "type": "update",
    "name": "get-resource NETBOX_IP_ASSIGNMENTS",
    "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n\tkey='SELECT * from NETBOX_IP_ASSIGNMENTS \n\t\tWHERE external_key = $tmp.ss.external-key\n\t\tAND service_instance_id = $tmp.ss.service-instance-id\" >",
    "comments": "",
    "outputs": 1,
    "x": 942.1388778686523,
    "y": 1568.65460729599,
    "z": "6712495d.afc568",
    "wires": [
      [
        "53addfc.75b9b2",
        "3a61fac6.673116"
      ]
    ]
  },
  {
    "id": "53addfc.75b9b2",
    "type": "not-found",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1236.7262153625488,
    "y": 1569.6546404361725,
    "z": "6712495d.afc568",
    "wires": [
      [
        "412d020c.777414"
      ]
    ]
  },
  {
    "id": "412d020c.777414",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1406.8690240042552,
    "y": 1570.083218233926,
    "z": "6712495d.afc568",
    "wires": [
      []
    ]
  },
  {
    "id": "3a61fac6.673116",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1233.4403610229492,
    "y": 1617.3689532279968,
    "z": "6712495d.afc568",
    "wires": [
      [
        "cdcdb892.07456"
      ]
    ]
  },
  {
    "id": "f193a384.b90d28",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 635.9761734008789,
    "y": 1570.2975516319275,
    "z": "6712495d.afc568",
    "wires": [
      [
        "8bbeb28d.ba5438",
        "57025873.decef8"
      ]
    ]
  },
  {
    "id": "9ef21e68.c1ce9",
    "type": "for",
    "name": "for kidx in resource-key_length",
    "xml": "<for index=\"kidx\" start=\"0\" end=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.resource-key_length`\">",
    "comments": "",
    "outputs": 1,
    "x": 859.0677947998047,
    "y": 851.1907453536987,
    "z": "6712495d.afc568",
    "wires": [
      [
        "5cfaa26e.a6026c"
      ]
    ]
  },
  {
    "id": "97f622a9.60c0d8",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 794.464111328125,
    "y": 390.7976379394531,
    "z": "6712495d.afc568",
    "wires": [
      [
        "832628eb.8eb438",
        "50d46175.d904d"
      ]
    ]
  },
  {
    "id": "a5d1d904.948298",
    "type": "execute",
    "name": "printContext",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/ss.eipam.log' />\n",
    "comments": "",
    "outputs": 1,
    "x": 341.6784896850586,
    "y": 346.5714774131775,
    "z": "6712495d.afc568",
    "wires": [
      []
    ]
  },
  {
    "id": "7c222aa7.9a7ba4",
    "type": "update",
    "name": "update NETBOX_IP_ASSIGNMENTS to PENDING_DELETE...",
    "xml": "<update plugin=\"org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource\" resource=\"SQL\"\n\tkey=\"UPDATE NETBOX_IP_ASSIGNMENTS set ip_status = $tmp.status \n\t\tWHERE external_key = $tmp.ss.external-key\n\t\tAND service_instance_id = $tmp.ss.service-instance-id\" >",
    "comments": "",
    "outputs": 1,
    "x": 1765.0358505249023,
    "y": 1660.33331823349,
    "z": "6712495d.afc568",
    "wires": [
      [
        "8dee35a3.7c535"
      ]
    ]
  },
  {
    "id": "566834fd.12cdbc",
    "type": "set",
    "name": "set status = PENDING_DELETE",
    "xml": "<set>\n<parameter name='tmp.status' value=\"PENDING_DELETE\" />\n",
    "comments": "",
    "x": 1674.9523544311523,
    "y": 1618.666570186615,
    "z": "6712495d.afc568",
    "wires": []
  },
  {
    "id": "8dee35a3.7c535",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2072.702308654785,
    "y": 1660.9166417121887,
    "z": "6712495d.afc568",
    "wires": [
      [
        "b6dc4f1a.e2afc8"
      ]
    ]
  },
  {
    "id": "b6dc4f1a.e2afc8",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Error updating NETBOX_IP_ASSIGNMENTS table to unassign ip with external_key=' + $tmp.ss.external-key + ' and service_instance_id=' + $tmp.ss.service-instance-id`\" />\n",
    "comments": "",
    "x": 2251.7025985717773,
    "y": 1660.7262625694275,
    "z": "6712495d.afc568",
    "wires": []
  },
  {
    "id": "b67b1f88.3ef18",
    "type": "execute",
    "name": "execute Netbox unassign IP addresses",
    "xml": "<execute plugin=\"org.onap.ccsdk.sli.adaptors.netbox.api.NetboxClient\" method=\"unassignIpAddress\">\n<parameter name=\"service_instance_id\" value=\"`$tmp.ss.service-instance-id`\" />\n<parameter name=\"external_key\" value=\"`$tmp.ss.external_key`\" />",
    "comments": "",
    "outputs": 1,
    "x": 1695.0357284545898,
    "y": 1706.5833792686462,
    "z": "6712495d.afc568",
    "wires": [
      [
        "5130c95b.f141c"
      ]
    ]
  },
  {
    "id": "5130c95b.f141c",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1938.368995666504,
    "y": 1706.5833287239075,
    "z": "6712495d.afc568",
    "wires": [
      [
        "f3a174d6.21be"
      ]
    ]
  },
  {
    "id": "f3a174d6.21be",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Error in NetboxClient#unassignIPAddress with external-key='+ $tmp.ss.external-key`\" />\n",
    "comments": "",
    "x": 2100.3690223693848,
    "y": 1706.3930640220642,
    "z": "6712495d.afc568",
    "wires": []
  },
  {
    "id": "cdcdb892.07456",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1415.6547622680664,
    "y": 1618.0831980705261,
    "z": "6712495d.afc568",
    "wires": [
      [
        "566834fd.12cdbc",
        "7c222aa7.9a7ba4",
        "b67b1f88.3ef18"
      ]
    ]
  },
  {
    "id": "50d46175.d904d",
    "type": "record",
    "name": "record",
    "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"`'SS: pidx: ' + $pidx`\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 976.2697143554688,
    "y": 506.9920959472656,
    "z": "6712495d.afc568",
    "wires": [
      []
    ]
  },
  {
    "id": "d43b2d2c.f6a46",
    "type": "outcome",
    "name": "vf-module-id",
    "xml": "<outcome value='vf-module-id'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1395.4286270141602,
    "y": 899.0518188476562,
    "z": "6712495d.afc568",
    "wires": [
      [
        "3fe736fc.98b5fa"
      ]
    ]
  },
  {
    "id": "3fe736fc.98b5fa",
    "type": "set",
    "name": "set tmp.ss.vf-module-id",
    "xml": "<set>\n<parameter name='tmp.ss.vf-module-id' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.resource-key[$kidx].value`' />\n",
    "comments": "",
    "x": 1661.4287490844727,
    "y": 899.0518188476562,
    "z": "6712495d.afc568",
    "wires": []
  },
  {
    "id": "57025873.decef8",
    "type": "for",
    "name": "for pidx in param_length",
    "xml": "<for index=\"pidx\" start=\"0\" end=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param_length`\">",
    "comments": "",
    "outputs": 1,
    "x": 903.4047470092773,
    "y": 1808.904586315155,
    "z": "6712495d.afc568",
    "wires": [
      [
        "99147b8d.606798"
      ]
    ]
  },
  {
    "id": "99147b8d.606798",
    "type": "switchNode",
    "name": "switch: param[].name",
    "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].name`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1151.4047470092773,
    "y": 1808.654586315155,
    "z": "6712495d.afc568",
    "wires": [
      [
        "3a39bb31.e461cc"
      ]
    ]
  },
  {
    "id": "3a39bb31.e461cc",
    "type": "outcome",
    "name": "ip-address",
    "xml": "<outcome value='ip-address'>",
    "comments": "",
    "outputs": 1,
    "x": 1395.9404983520508,
    "y": 1808.8331599235535,
    "z": "6712495d.afc568",
    "wires": [
      [
        "637165f3.f6d60c"
      ]
    ]
  },
  {
    "id": "637165f3.f6d60c",
    "type": "set",
    "name": "set resource-resolution-data.status = DELETED",
    "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.status' \n\tvalue='DELETED' />\n",
    "comments": "",
    "x": 1718.1191024780273,
    "y": 1809.0475516319275,
    "z": "6712495d.afc568",
    "wires": []
  },
  {
    "id": "4ed91a46.8b9de4",
    "type": "outcome",
    "name": "prefix-id",
    "xml": "<outcome value='prefix-id'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1384.4842910766602,
    "y": 943.3018493652344,
    "z": "6712495d.afc568",
    "wires": [
      [
        "f11a7bd5.30734"
      ]
    ]
  },
  {
    "id": "f11a7bd5.30734",
    "type": "set",
    "name": "set prefix-id",
    "xml": "<set>\n<parameter name='tmp.ss.prefix-id' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.resource-key[$kidx].value`' />\n",
    "comments": "",
    "x": 1630.9842910766602,
    "y": 943.5518188476562,
    "z": "6712495d.afc568",
    "wires": []
  },
  {
    "id": "8130aa01.cb247",
    "type": "execute",
    "name": "execute NetboxClient assignIpAddress",
    "xml": "<execute plugin=\"org.onap.ccsdk.sli.adaptors.netbox.api.NetboxClient\" method=\"assignIpAddress\">\n<parameter name=\"service_instance_id\" value=\"`$tmp.ss.service-instance-id`\" />\n<parameter name=\"vf_module_id\" value=\"`$tmp.ss.vf-module-id`\" />\n<parameter name=\"prefix_id\" value=\"`$tmp.ss.prefix-id`\" />\n<parameter name=\"resource_name\" value=\"`$tmp.ss.param.name`\" />\n<parameter name=\"external_key\" value=\"`$tmp.ss.external_key`\" />",
    "comments": "",
    "outputs": 1,
    "x": 939.7143783569336,
    "y": 1227.82159948349,
    "z": "6712495d.afc568",
    "wires": [
      [
        "b4b32727.77b15"
      ]
    ]
  },
  {
    "id": "b4b32727.77b15",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1256.7143783569336,
    "y": 1229.8215384483337,
    "z": "6712495d.afc568",
    "wires": [
      [
        "3273dad2.9c691e"
      ]
    ]
  },
  {
    "id": "3273dad2.9c691e",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic='true'>",
    "atomic": "true",
    "comments": "",
    "outputs": 1,
    "x": 1464.7143783569336,
    "y": 1233.8215384483337,
    "z": "6712495d.afc568",
    "wires": [
      [
        "20c47ed9.7ff2b2",
        "844ea8ed.4f72"
      ]
    ]
  },
  {
    "id": "20c47ed9.7ff2b2",
    "type": "set",
    "name": "set resource-resolution-data.status = FAILED",
    "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.status' value='FAILED' />\n",
    "comments": "",
    "x": 1781.7144393920898,
    "y": 1237.8215079307556,
    "z": "6712495d.afc568",
    "wires": []
  },
  {
    "id": "844ea8ed.4f72",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
    "comments": "",
    "x": 1683.3808822631836,
    "y": 1291.7103934288025,
    "z": "6712495d.afc568",
    "wires": []
  },
  {
    "id": "ef971da3.6754a8",
    "type": "set",
    "name": "set resource-resolution-data.status = SUCCESS",
    "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.status' \n\tvalue='SUCCESS' />\n",
    "comments": "",
    "x": 1966.511962890625,
    "y": 1423.51220703125,
    "z": "6712495d.afc568",
    "wires": []
  },
  {
    "id": "f1b6fcc3.0e032",
    "type": "outcome",
    "name": "ip-address-id",
    "xml": "<outcome value='ip-address-id'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1398.3654403686523,
    "y": 988.1589231491089,
    "z": "6712495d.afc568",
    "wires": [
      [
        "e70ab761.299118"
      ]
    ]
  },
  {
    "id": "e70ab761.299118",
    "type": "set",
    "name": "ip-address-id",
    "xml": "<set>\n<parameter name='tmp.ss.ip-address-id' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.resource-key[$kidx].value`' />\n",
    "comments": "",
    "x": 1633.3653182983398,
    "y": 988.1589841842651,
    "z": "6712495d.afc568",
    "wires": []
  },
  {
    "id": "80559cdc.5f353",
    "type": "outcome",
    "name": "external_key",
    "xml": "<outcome value='external_key'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1385.9844589233398,
    "y": 1033.8732175827026,
    "z": "6712495d.afc568",
    "wires": [
      [
        "e4b5b3b1.f0104"
      ]
    ]
  },
  {
    "id": "e4b5b3b1.f0104",
    "type": "set",
    "name": "set external-key",
    "xml": "<set>\n<parameter name='tmp.ss.external-key' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.resource-key[$kidx].value`' />\n",
    "comments": "",
    "x": 1634.5558700561523,
    "y": 1033.873278617859,
    "z": "6712495d.afc568",
    "wires": []
  },
  {
    "id": "335d889f.3da9f",
    "type": "outcome",
    "name": "tmp.ss.param.name",
    "xml": "<outcome value='`$tmp.ss.param.name`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1452.5239486694336,
    "y": 1365.619206905365,
    "z": "6712495d.afc568",
    "wires": [
      [
        "3f48f03.410629"
      ]
    ]
  },
  {
    "id": "178b8ad2.a05e0d",
    "type": "set",
    "name": "set tmp.ss.param.name",
    "xml": "<set>\n<parameter name='tmp.ss.param.name' \n\tvalue='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].name`' />\n",
    "comments": "",
    "x": 1290.7778015136719,
    "y": 430.79368591308594,
    "z": "6712495d.afc568",
    "wires": []
  },
  {
    "id": "94ce3ff2.aae79",
    "type": "switchNode",
    "name": "switch: resource-resolution-data.status",
    "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.status`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 214.7140121459961,
    "y": 828.0953421592712,
    "z": "6712495d.afc568",
    "wires": [
      [
        "4722c3e1.f89824",
        "a8353421.52a568"
      ]
    ]
  },
  {
    "id": "4722c3e1.f89824",
    "type": "not-found",
    "name": "FAILED",
    "xml": "<outcome value='FAILED'>\n",
    "comments": "",
    "outputs": 1,
    "x": 446.14281463623047,
    "y": 824.0953879356384,
    "z": "6712495d.afc568",
    "wires": [
      [
        "4a938180.f9e53"
      ]
    ]
  },
  {
    "id": "a8353421.52a568",
    "type": "success",
    "name": "PENDING",
    "xml": "<outcome value='PENDING'>\n",
    "comments": "",
    "outputs": 1,
    "x": 452.856990814209,
    "y": 875.8097159862518,
    "z": "6712495d.afc568",
    "wires": [
      [
        "4a938180.f9e53"
      ]
    ]
  },
  {
    "id": "4a938180.f9e53",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 607.5713119506836,
    "y": 848.0954031944275,
    "z": "6712495d.afc568",
    "wires": [
      [
        "9ef21e68.c1ce9",
        "43d4e3.f3ffb31c"
      ]
    ]
  },
  {
    "id": "ac586a41.04cb2",
    "type": "outcome",
    "name": "assign",
    "xml": "<outcome value='assign'>",
    "comments": "",
    "outputs": 1,
    "x": 438.7617416381836,
    "y": 1225.904851436615,
    "z": "6712495d.afc568",
    "wires": [
      [
        "36fb34ef.0b2abc"
      ]
    ]
  },
  {
    "id": "52aebe79.dfadf8",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "comments": "",
    "outputs": 1,
    "x": 618.428466796875,
    "y": 346.82147216796875,
    "z": "6712495d.afc568",
    "wires": [
      [
        "97f622a9.60c0d8",
        "c736ec.072eb118"
      ]
    ]
  },
  {
    "id": "43d4e3.f3ffb31c",
    "type": "switchNode",
    "name": "switch: ss.capability-action",
    "xml": "<switch test='`$ss.capability-action`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 202.7617416381836,
    "y": 1223.904851436615,
    "z": "6712495d.afc568",
    "wires": [
      [
        "ac586a41.04cb2",
        "4b3a226f.9592b4"
      ]
    ]
  },
  {
    "id": "36fb34ef.0b2abc",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic='true'>",
    "atomic": "true",
    "comments": "",
    "outputs": 1,
    "x": 614.1903915405273,
    "y": 1226.7620902061462,
    "z": "6712495d.afc568",
    "wires": [
      [
        "8130aa01.cb247",
        "e0455451.806808"
      ]
    ]
  }
]