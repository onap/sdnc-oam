[
  {
    "id": "16434d54.ed2623",
    "type": "dgstart",
    "name": "DGSTART",
    "outputs": 1,
    "x": 119.00390625,
    "y": 54.00390625,
    "z": "e1197598.e19d88",
    "wires": [
      [
        "2405c02a.b511b"
      ]
    ]
  },
  {
    "id": "2405c02a.b511b",
    "type": "service-logic",
    "name": "GENERIC-RESOURCE-API ${project.version}",
    "module": "GENERIC-RESOURCE-API",
    "version": "${project.version}",
    "comments": "",
    "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
    "outputs": 1,
    "x": 331.00391006469727,
    "y": 126.0039234161377,
    "z": "e1197598.e19d88",
    "wires": [
      [
        "57a7aa96.552214"
      ]
    ]
  },
  {
    "id": "57a7aa96.552214",
    "type": "method",
    "name": "method sdwan-network-topology-operation-delete",
    "xml": "<method rpc='sdwan-network-topology-operation-delete' mode='sync'>\n",
    "comments": "",
    "outputs": 1,
    "x": 319.0040283203125,
    "y": 214.00390625,
    "z": "e1197598.e19d88",
    "wires": [
      [
        "143b26be.1b4569"
      ]
    ]
  },
  {
    "id": "143b26be.1b4569",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 489.44836044311523,
    "y": 276.44836235046387,
    "z": "e1197598.e19d88",
    "wires": [
      [
        "562848d7.41e4c8",
        "59bbd8d6.78d208",
        "6c3e0fcd.7bef",
        "358f6dc3.63de32",
        "d740b485.fa2068",
        "5120c39b.5dfdac",
        "28dcbe3c.830122"
      ]
    ]
  },
  {
    "id": "562848d7.41e4c8",
    "type": "call",
    "name": "call GENERIC-RESOURCE-API:validate-sdwan-network-input-parameters",
    "xml": "<call module='GENERIC-RESOURCE-API' rpc='validate-sdwan-network-input-parameters' mode='sync' >\n",
    "comments": "",
    "outputs": 1,
    "x": 970.3928146362305,
    "y": 71.00391006469727,
    "z": "e1197598.e19d88",
    "wires": [
      []
    ]
  },
  {
    "id": "59bbd8d6.78d208",
    "type": "record",
    "name": "record",
    "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/svclogic.log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"sdwan-network-topology-operation-delete\"/>\n<parameter name=\"field3\" value=\"SDWAN-Delete\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 764.7816314697266,
    "y": 137.33727836608887,
    "z": "e1197598.e19d88",
    "wires": [
      []
    ]
  },
  {
    "id": "6c3e0fcd.7bef",
    "type": "set",
    "name": "set networkId and network-object-path",
    "xml": "<set>\n<parameter name='networkId' value='`$network-topology-operation-input.network-information.network-id`' />\n<parameter name='service-object-path' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $network-topology-operation-input.service-information.service-instance-id\n + '/service-data/service-topology/'` \" />",
    "comments": "",
    "x": 849.448314666748,
    "y": 385.4281978607178,
    "z": "e1197598.e19d88",
    "wires": []
  },
  {
    "id": "358f6dc3.63de32",
    "type": "returnSuccess",
    "name": "return success",
    "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
    "comments": "",
    "x": 778.5595626831055,
    "y": 448.9835858345032,
    "z": "e1197598.e19d88",
    "wires": []
  },
  {
    "id": "5120c39b.5dfdac",
    "type": "set",
    "name": "set new network length",
    "xml": "<set>\n\t<parameter name=\"service-data.networks.network_length\" value=\"`$service-data.networks.network_length - 1`\"/>\n\n\t\n",
    "comments": "",
    "x": 808.0809860229492,
    "y": 262.89910793304443,
    "z": "e1197598.e19d88",
    "wires": []
  },
  {
    "id": "d740b485.fa2068",
    "type": "set",
    "name": "Remove networks from ServiceData",
    "xml": "<set>\n\t<parameter name=\"service-data.networks.network[$tmp.nidx].\" value=\"\"/>\n\n",
    "comments": "",
    "x": 848.7051429748535,
    "y": 310.8670496940613,
    "z": "e1197598.e19d88",
    "wires": []
  },
  {
    "id": "28dcbe3c.830122",
    "type": "delete",
    "name": "delete SDWAN VPNInstance connectivity in AAI",
    "xml": "<delete plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" resource='sdwan-vpn' \n        key='sdwan-vpn.id = $network-topology-operation-input.network-information.network-id'>\n",
    "comments": "",
    "outputs": 1,
    "x": 886.6364860534668,
    "y": 204.01019191741943,
    "z": "e1197598.e19d88",
    "wires": [
      []
    ]
  }
]
