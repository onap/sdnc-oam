[
    {
        "id": "1dfeb3dd.1c381c",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 119.75,
        "y": 180.00012969970703,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "64cbb377.7c0bf4"
            ]
        ]
    },
    {
        "id": "64cbb377.7c0bf4",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 412.74940490722656,
        "y": 180.0000295639038,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "520c0a59.153664"
            ]
        ]
    },
    {
        "id": "520c0a59.153664",
        "type": "method",
        "name": "method:bbs-access-connectivity-vnf-topology-operation-create-huawei",
        "xml": "<method rpc='bbs-access-connectivity-vnf-topology-operation-create-huawei' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 410.74940490722656,
        "y": 376.0000696182251,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "acdb8fbc.c4c32"
            ]
        ]
    },
    {
        "id": "acdb8fbc.c4c32",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 817.7496185302734,
        "y": 377.0000696182251,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "92311e7.928946",
                "7b2360fe.45f79",
                "f70f044f.f4216",
                "148d0ddb.c1c5d2",
                "ab8a01b3.157068",
                "4fe300f9.717bd",
                "14ca751b.b082bb",
                "677aa3bb.4d4e74"
            ]
        ]
    },
    {
        "id": "92311e7.928946",
        "type": "execute",
        "name": "excute:readProperties",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1249.7498779296875,
        "y": 266.1111755371094,
        "z": "f70766ca.3cc678",
        "wires": [
            []
        ]
    },
    {
        "id": "7b2360fe.45f79",
        "type": "call",
        "name": "call:validate-bbs-vnf-input-parameters",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='validate-bbs-vnf-input-parameters' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1330.749755859375,
        "y": 54,
        "z": "f70766ca.3cc678",
        "wires": [
            []
        ]
    },
    {
        "id": "677aa3bb.4d4e74",
        "type": "execute",
        "name": "execute:createAccessConnectivityService",
        "xml": "<execute plugin=\"org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode\" method=\"sendRequest\">\n    <parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/bbs-access-connectivity-create.json'`\" />\n    <parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/ws/rest/1002/FanOpenAPI/ActiveOnt'`\" />\n    <parameter name=\"contentType\" value=\"application/json\"/>\n    <parameter name=\"httpMethod\" value=\"post\"/>\n    <parameter name=\"responsePrefix\" value=\"service-result\"/>\n    <parameter name=\"customHttpHeaders\" value=\"`'X-Auth-Token=' + $prop.sdncRestApi.token_id`\"/>\n    <parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n    <parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n    <parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n    <parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n    \n       <!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/ws/rest/1002/FanOpenAPI/ActiveOnt'`\" />-->",
        "comments": "",
        "outputs": 1,
        "x": 1309.4008178710938,
        "y": 824.9608383178711,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "6c10e0e6.d236f8",
                "11f064a9.56fa43"
            ]
        ]
    },
    {
        "id": "6c10e0e6.d236f8",
        "type": "outcome",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1653.733585357666,
        "y": 916.9607381820679,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "65f44139.642dd"
            ]
        ]
    },
    {
        "id": "11f064a9.56fa43",
        "type": "outcome",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1645.64306640625,
        "y": 825.1426010131836,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "f0c20005.cbb8"
            ]
        ]
    },
    {
        "id": "14ca751b.b082bb",
        "type": "execute",
        "name": "execute:querryTokenID",
        "xml": " <execute plugin=\"org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode\" method=\"sendRequest\">\n    <parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/bbs-token-template.json'`\"/>\n    <parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url+'/rest/plat/smapp/v1/oauth/token'`\"/>\n    <parameter name=\"format\" value=\"json\"/>\n    <parameter name=\"httpMethod\" value=\"put\"/>\n    <parameter name=\"responsePrefix\" value=\"token-result\"/>\n    <parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n    <parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n    <parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n    <parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n\n\n    <!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url+'/rest/plat/smapp/v1/oauth/token'`\"/>-->",
        "comments": "",
        "outputs": 1,
        "x": 1243.97216796875,
        "y": 628.5557861328125,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "41d71aa5.903454",
                "e6e0653b.c6ad58"
            ]
        ]
    },
    {
        "id": "e6e0653b.c6ad58",
        "type": "outcome",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1531.9169921875,
        "y": 628.2502002716064,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "84b8bff2.0e32c8"
            ]
        ]
    },
    {
        "id": "41d71aa5.903454",
        "type": "outcome",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1530.1900024414062,
        "y": 701.6138753890991,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "d82a2a82.f5e938"
            ]
        ]
    },
    {
        "id": "38fd0525.aa8892",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"error-code\" value=\"500\" />\n<parameter name=\"error-message\" value=\"Error executing queryTokenID,vaule is null\" />\n",
        "comments": "",
        "x": 2151.030807495117,
        "y": 695.1595993041992,
        "z": "f70766ca.3cc678",
        "wires": []
    },
    {
        "id": "9abe0e72.caaf3",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 1934.7502174377441,
        "y": 697.0004110336304,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "38fd0525.aa8892"
            ]
        ]
    },
    {
        "id": "84b8bff2.0e32c8",
        "type": "switchNode",
        "name": "switch:token ",
        "xml": "<switch test='`$token-result.accessSession`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1745.7500495910645,
        "y": 627.0001859664917,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "9abe0e72.caaf3",
                "9fff6487.f8195"
            ]
        ]
    },
    {
        "id": "9fff6487.f8195",
        "type": "outcome",
        "name": "Other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1932.750057220459,
        "y": 626.0001831054688,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "216dd074.c9033"
            ]
        ]
    },
    {
        "id": "216dd074.c9033",
        "type": "set",
        "name": "set:token-id",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.token_id' value='`$token-result.accessSession`' />\n",
        "comments": "",
        "x": 2143.2500648498535,
        "y": 626.2501840591431,
        "z": "f70766ca.3cc678",
        "wires": []
    },
    {
        "id": "f70f044f.f4216",
        "type": "set",
        "name": "set:variables",
        "xml": "<set>\n<parameter name='vnf-input-parameters.' value='`$vnf-topology-operation-input.vnf-request-input.vnf-input-parameters.`' />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.url' value='https://172.30.0.55:26335' />\n<parameter name='prop.bbs.HsiPackage' value='50M' />\n<parameter name='prop.bbs.HsiType' value='IPoE' />\n",
        "comments": "",
        "x": 1208.7503967285156,
        "y": 166.00025749206543,
        "z": "f70766ca.3cc678",
        "wires": []
    },
    {
        "id": "8c8f9f2c.a4f258",
        "type": "record",
        "name": "log file",
        "xml": " <record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n    <parameter name=\"file\" value=\"/opt/oak/logx.txt\" />\n    <parameter name=\"field1\" value=\"__TIMESTAMP__\" />\n    <parameter name=\"field2\" value=\"`$prop.bbs.remote_id`\" />\n    <parameter name=\"field3\" value=\"`$prop.bbs.ONTSN`\" />\n    <parameter name=\"field4\" value=\"`$prop.bbs.CVLAN`\" />\n    <parameter name=\"field5\" value=\"`$prop.bbs.SVLAN`\" />\n    <parameter name=\"field6\" value=\"`$prop.bbs.HsiPackage`\" />\n    <parameter name=\"field7\" value=\"`$prop.bbs.HsiType`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1198.7502746582031,
        "y": 459.00019550323486,
        "z": "f70766ca.3cc678",
        "wires": [
            []
        ]
    },
    {
        "id": "8b12d898.3d72d",
        "type": "record",
        "name": "log file",
        "xml": " <record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n    <parameter name=\"file\" value=\"/opt/oak/logx.txt\" />\n    <parameter name=\"field1\" value=\"createAccessConnectivityService success!\" />\n    <parameter name=\"field2\" value=\"`$service-result.accessE2Eservice.serviceID`\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 2471.7500400543213,
        "y": 986.0003020167351,
        "z": "f70766ca.3cc678",
        "wires": [
            []
        ]
    },
    {
        "id": "65f44139.642dd",
        "type": "switchNode",
        "name": "switch:service-result",
        "xml": "<switch test=\"`$service-result.errors.error[0].error-message`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 1888.7497062683105,
        "y": 916.0000333786011,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "c071ccac.1342c8",
                "bd77dc7e.818a8"
            ]
        ]
    },
    {
        "id": "c071ccac.1342c8",
        "type": "outcome",
        "name": "Other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2109.750011444092,
        "y": 838.0002164840698,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "5358758f.0d5684"
            ]
        ]
    },
    {
        "id": "bd77dc7e.818a8",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 2110.7496337890625,
        "y": 914.0000152587891,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "5c433db5.e1230c"
            ]
        ]
    },
    {
        "id": "25985c98.53ae4c",
        "type": "record",
        "name": "log error",
        "xml": " <record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n    <parameter name=\"file\" value=\"/opt/oak/logx.txt\" />\n    <parameter name=\"field1\" value=\"createAccessConnectivityService falied!\" />\n    <parameter name=\"field2\" value=\"`$service-result.errors.error[0].error-info.error-code`\" />\n    <parameter name=\"field3\" value=\"`$service-result.errors.error[0].error-message`\" />\n    <parameter name=\"field4\" value=\"`$service-result.errors.error[0].error-tag`\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 2647.7500381469727,
        "y": 876.0002098083496,
        "z": "f70766ca.3cc678",
        "wires": [
            []
        ]
    },
    {
        "id": "ab8a01b3.157068",
        "type": "for",
        "name": "for:vnf-input-paramters",
        "xml": "<for index='idx' start='0' end='`$vnf-input-parameters.param_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1273.2501220703125,
        "y": 369.00017261505127,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "d22ff9a3.fbfbb"
            ]
        ]
    },
    {
        "id": "cb807928.2112c8",
        "type": "switchNode",
        "name": "switch:remote_id",
        "xml": "<switch test=\"`$vnf-input-parameters.param[$idx].name == 'remote_id'`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 1814.2502479553223,
        "y": 170.000226020813,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "d4e1d576.c2d6f8"
            ]
        ]
    },
    {
        "id": "d4e1d576.c2d6f8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2017.2501678466797,
        "y": 170.0001974105835,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "7927b5c0.d398f4"
            ]
        ]
    },
    {
        "id": "5e2c004f.b53818",
        "type": "set",
        "name": "set:remote_id",
        "xml": "<set>\n<parameter name='prop.bbs.remote_id' value='`$vnf-input-parameters.param[$idx].value`' />\n",
        "comments": "",
        "x": 2735.2499237060547,
        "y": 168.60020351409912,
        "z": "f70766ca.3cc678",
        "wires": []
    },
    {
        "id": "d22ff9a3.fbfbb",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1528.2504196166992,
        "y": 370.00021171569824,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "cb807928.2112c8",
                "2616fb50.5f93e4",
                "2be8fa1f.fcef86",
                "52dab55c.8b17dc"
            ]
        ]
    },
    {
        "id": "2616fb50.5f93e4",
        "type": "switchNode",
        "name": "switch:ONTSN",
        "xml": "<switch test=\"`$vnf-input-parameters.param[$idx].name == 'ONTSN'`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 1814.1020431518555,
        "y": 231.00022792816162,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "1175216.ae444df"
            ]
        ]
    },
    {
        "id": "1175216.ae444df",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2016.1019458770752,
        "y": 231.00029182434082,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "5561709c.b3df8"
            ]
        ]
    },
    {
        "id": "41a1bcbb.4edd5c",
        "type": "set",
        "name": "set:ONTSN",
        "xml": "<set>\n<parameter name='prop.bbs.ONTSN' value='`$vnf-input-parameters.param[$idx].value`' />\n",
        "comments": "",
        "x": 2734.1022300720215,
        "y": 230.60026836395264,
        "z": "f70766ca.3cc678",
        "wires": []
    },
    {
        "id": "2be8fa1f.fcef86",
        "type": "switchNode",
        "name": "switch:CVLAN",
        "xml": "<switch test=\"`$vnf-input-parameters.param[$idx].name == 'CVLAN'`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 1814.1021156311035,
        "y": 291.0002775192261,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "430ccce0.a19a7c"
            ]
        ]
    },
    {
        "id": "430ccce0.a19a7c",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2016.1019744873047,
        "y": 291.00028896331787,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "5fa318d2.3cda"
            ]
        ]
    },
    {
        "id": "23ae22e3.22418e",
        "type": "set",
        "name": "set:CVLAN",
        "xml": "<set>\n<parameter name='prop.bbs.CVLAN' value='`$vnf-input-parameters.param[$idx].value`' />\n",
        "comments": "",
        "x": 2732.1019744873047,
        "y": 291.60026454925537,
        "z": "f70766ca.3cc678",
        "wires": []
    },
    {
        "id": "52dab55c.8b17dc",
        "type": "switchNode",
        "name": "switch:SVLAN",
        "xml": "<switch test=\"`$vnf-input-parameters.param[$idx].name == 'serviceID'`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 1811.102123260498,
        "y": 367.222544670105,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "d9dc9da4.a45018"
            ]
        ]
    },
    {
        "id": "d9dc9da4.a45018",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2019.1020078659058,
        "y": 366.22254276275635,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "96fa65e7.f61a1"
            ]
        ]
    },
    {
        "id": "762a30f5.19315",
        "type": "set",
        "name": "set:SVLAN",
        "xml": "<set>\n<parameter name='prop.bbs.SVLAN' value='`$vnf-input-parameters.param[$idx].value`' />\n",
        "comments": "",
        "x": 2738.1019744873047,
        "y": 365.82255458831787,
        "z": "f70766ca.3cc678",
        "wires": []
    },
    {
        "id": "7927b5c0.d398f4",
        "type": "switchNode",
        "name": "switch:remote_id value",
        "xml": "<switch test='`$vnf-input-parameters.param[$idx].value`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2262.2501678466797,
        "y": 169.00022792816162,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "25b5ca63.22e58e",
                "7f9a22df.b3546c"
            ]
        ]
    },
    {
        "id": "7f9a22df.b3546c",
        "type": "outcome",
        "name": "Other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2550.2501678466797,
        "y": 168.00022792816162,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "5e2c004f.b53818"
            ]
        ]
    },
    {
        "id": "25b5ca63.22e58e",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 2548.250576019287,
        "y": 99.00020694732666,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "efd50227.ac304"
            ]
        ]
    },
    {
        "id": "5561709c.b3df8",
        "type": "switchNode",
        "name": "switch:ONTSN value",
        "xml": "<switch test='`$vnf-input-parameters.param[$idx].value`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2262.2501678466797,
        "y": 231.00022792816162,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "25b5ca63.22e58e",
                "63df4639.d0b868"
            ]
        ]
    },
    {
        "id": "63df4639.d0b868",
        "type": "outcome",
        "name": "Other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2552.2501678466797,
        "y": 231.00022792816162,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "41a1bcbb.4edd5c"
            ]
        ]
    },
    {
        "id": "5fa318d2.3cda",
        "type": "switchNode",
        "name": "switch:CVLAN value",
        "xml": "<switch test='`$vnf-input-parameters.param[$idx].value`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2265.2501678466797,
        "y": 292.0002279281616,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "25b5ca63.22e58e",
                "20955e4d.c0a422"
            ]
        ]
    },
    {
        "id": "20955e4d.c0a422",
        "type": "outcome",
        "name": "Other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2553.2501678466797,
        "y": 291.0002279281616,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "23ae22e3.22418e"
            ]
        ]
    },
    {
        "id": "96fa65e7.f61a1",
        "type": "switchNode",
        "name": "switch:SVLAN value",
        "xml": "<switch test='`$vnf-input-parameters.param[$idx].value`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2266.2501678466797,
        "y": 366.0002279281616,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "25b5ca63.22e58e",
                "9fbec5d2.cbbe08"
            ]
        ]
    },
    {
        "id": "9fbec5d2.cbbe08",
        "type": "outcome",
        "name": "Other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2556.2501678466797,
        "y": 367.0002279281616,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "762a30f5.19315"
            ]
        ]
    },
    {
        "id": "148d0ddb.c1c5d2",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />",
        "comments": "",
        "x": 1181.8052062988281,
        "y": 1410.7781105041504,
        "z": "f70766ca.3cc678",
        "wires": []
    },
    {
        "id": "5c433db5.e1230c",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2268.9162635803223,
        "y": 914.9999904632568,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "4538034.6a1697c"
            ]
        ]
    },
    {
        "id": "5358758f.0d5684",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"error-code\" value=\"500\" />\n<parameter name=\"error-message\" value=\"`'Error createAccessConnectivityService return: '+$service-result.errors.error[0].error-message`\" />",
        "comments": "",
        "x": 2296.2496795654297,
        "y": 838.0000534057617,
        "z": "f70766ca.3cc678",
        "wires": []
    },
    {
        "id": "efd50227.ac304",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"error-code\" value=\"500\" />\n<parameter name=\"error-message\" value=\"`$vnf-input-parameters.param[$idx].name  +' value is null, please check it.'`\" />\n",
        "comments": "",
        "x": 2731.2496643066406,
        "y": 99.00003147125244,
        "z": "f70766ca.3cc678",
        "wires": []
    },
    {
        "id": "d82a2a82.f5e938",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"error-code\" value=\"500\" />\n<parameter name=\"error-message\" value=\"Error failed to call queryTokenID\" />\n",
        "comments": "",
        "x": 1730.5055389404297,
        "y": 702.0284957885742,
        "z": "f70766ca.3cc678",
        "wires": []
    },
    {
        "id": "f0c20005.cbb8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"error-code\" value=\"500\" />\n<parameter name=\"error-message\" value=\"Error failed to call  createAccessConnectivityService\" />\n",
        "comments": "",
        "x": 1860.1422576904297,
        "y": 824.8467025756836,
        "z": "f70766ca.3cc678",
        "wires": []
    },
    {
        "id": "5e38308f.370118",
        "type": "save",
        "name": "save:generic-vnf",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" resource=\"generic-vnf\" key=\"generic-vnf.vnf-id = $vnf-id\" >\n<parameter name= \"vnf-id\" value = \"`$vnf-id`\"/>\n<parameter name=  \"vnf-name\" value = \"`$vnf-name`\"/>\n<parameter name=  \"vnf-type\" value = \"AccessConnectivity\"/>\n<parameter name=  \"service-id\" value = \"`$vnf-topology-operation-input.service-information.service-id`\"/>\n<parameter name=  \"prov-status\" value = \"ACTIVE\"/>\n<parameter name=  \"orchestration-status\" value = \"Active\"/>\n<parameter name=  \"is-closed-loop-disabled\" value = \"false\" />\n<parameter name=  \"model-invariant-id\" value = \"`$vnf-topology-operation-input.vnf-information.onap-model-information.model-invariant-uuid`\"/>\n<parameter name=  \"model-version-id\" value = \"`$vnf-topology-operation-input.vnf-information.onap-model-information.model-uuid`\"/>\n<parameter name=  \"model-customization-id\" value = \"`$vnf-topology-operation-input.vnf-information.onap-model-information.model-customization-uuid`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1506.283203125,
        "y": 1264.0321044921875,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "6773274d.45a418",
                "cfe6b7ff.d9f358",
                "fafcc8c3.49e96"
            ]
        ]
    },
    {
        "id": "6773274d.45a418",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1741.5050678253174,
        "y": 1137.9208545684814,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "a8a66d.ee4ae19"
            ]
        ]
    },
    {
        "id": "cfe6b7ff.d9f358",
        "type": "failure",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1752.4808864593506,
        "y": 1197.9367108345032,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "2eb6f04a.49f0a"
            ]
        ]
    },
    {
        "id": "a8a66d.ee4ae19",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Failure calling AAI to save generic-vnf\" />\n",
        "comments": "",
        "x": 1977.6476154327393,
        "y": 1137.4923195838928,
        "z": "f70766ca.3cc678",
        "wires": []
    },
    {
        "id": "2eb6f04a.49f0a",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"generic-vnf instance does not exist in AAI\" />\n",
        "comments": "",
        "x": 1972.528413772583,
        "y": 1198.413025379181,
        "z": "f70766ca.3cc678",
        "wires": []
    },
    {
        "id": "fafcc8c3.49e96",
        "type": "outcome",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1746.0916919708252,
        "y": 1263.0631909370422,
        "z": "f70766ca.3cc678",
        "wires": [
            []
        ]
    },
    {
        "id": "f142de1d.601888",
        "type": "record",
        "name": "log file",
        "xml": " <record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n    <parameter name=\"file\" value=\"/opt/oak/logx.txt\" />\n    <parameter name=\"field1\" value=\"save generic-vnf success!\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 1954.0919456481934,
        "y": 1261.063320159912,
        "z": "f70766ca.3cc678",
        "wires": [
            []
        ]
    },
    {
        "id": "717695ed.d653b4",
        "type": "save",
        "name": "save:metadata",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" resource=\"service-instance:metadata\"\n key=\"service-instance.service-instance-id = $vnf-topology-operation-input.service-information.service-id  \n\tAND customer.global-customer-id = $vnf-topology-operation-input.service-information.global-customer-id\n\t  AND service-subscription.service-type = $vnf-topology-operation-input.service-information.subscription-service-type\n\t  AND service-instance.service-instance-id =  $vnf-topology-operation-input.service-information.service-instance-id\"  force=\"true\" pfx=\"tmp.AnAI-data\"\n    >\n    <parameter name=\"metadata.metadatum[0].metaname\" value=\"remote-id\" />\n    <parameter name=\"metadata.metadatum[0].metaval\" value=\"`$prop.bbs.remote_id`\" />\n    <parameter name=\"metadata.metadatum[1].metaname\" value=\"controller-service-id\" />\n    <parameter name=\"metadata.metadatum[1].metaval\" value=\"`$prop.bbs.serviceID`\" />\n    <parameter name=\"metadata.metadatum[2].metaname\" value=\"cvlan\" />\n    <parameter name=\"metadata.metadatum[2].metaval\" value=\"`$prop.bbs.CVLAN`\" />\n    <parameter name=\"metadata.metadatum[3].metaname\" value=\"svlan\" />\n    <parameter name=\"metadata.metadatum[3].metaval\" value=\"`$prop.bbs.SVLAN`\" />\n    <parameter name=\"metadata.metadatum[4].metaname\" value=\"expected-ont-id\" />\n    <parameter name=\"metadata.metadatum[4].metaval\" value=\"`$prop.bbs.ONTSN`\" />\n    <!--<parameter name=\"metadata.metadatum[5].metaname\" value=\"rgw-mac-address\" />-->\n    <!--<parameter name=\"metadata.metadatum[5].metaval\" value=\"`$prop.bbs.mac`\" />-->",
        "comments": "",
        "outputs": 1,
        "x": 1486.782470703125,
        "y": 1434.0318603515625,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "90f289c9.afda58",
                "490b0a19.59868c",
                "63ec1381.7af084"
            ]
        ]
    },
    {
        "id": "90f289c9.afda58",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1717.2580490112305,
        "y": 1360.3965287208557,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "e039528f.e88268"
            ]
        ]
    },
    {
        "id": "490b0a19.59868c",
        "type": "failure",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1729.2342109680176,
        "y": 1430.412462234497,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "8c5a3cb9.2f5608"
            ]
        ]
    },
    {
        "id": "e039528f.e88268",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Failure calling AAI to save metadatum\" />\n",
        "comments": "",
        "x": 1957.4008445739746,
        "y": 1358.9680304527283,
        "z": "f70766ca.3cc678",
        "wires": []
    },
    {
        "id": "8c5a3cb9.2f5608",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"metadatum instance does not exist in AAI\" />\n",
        "comments": "",
        "x": 1954.281744003296,
        "y": 1429.8886985778809,
        "z": "f70766ca.3cc678",
        "wires": []
    },
    {
        "id": "63ec1381.7af084",
        "type": "outcome",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1723.8449211120605,
        "y": 1500.5389018058777,
        "z": "f70766ca.3cc678",
        "wires": [
            []
        ]
    },
    {
        "id": "78cc77f3.b1e2f8",
        "type": "record",
        "name": "log file",
        "xml": " <record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n    <parameter name=\"file\" value=\"/opt/oak/logx.txt\" />\n    <parameter name=\"field1\" value=\"save metadatum success!\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 1934.8449211120605,
        "y": 1500.5389018058777,
        "z": "f70766ca.3cc678",
        "wires": [
            []
        ]
    },
    {
        "id": "4fe300f9.717bd",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1200.4168128967285,
        "y": 1140.0006484985352,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "5e38308f.370118",
                "717695ed.d653b4",
                "b8fc79ed.565",
                "f65c3b6d.d69a38",
                "f01db867.d36098",
                "8fa4935d.532fd"
            ]
        ]
    },
    {
        "id": "b8fc79ed.565",
        "type": "set",
        "name": "set:variables",
        "xml": "<set>\n<parameter name='vnf-id' value=\"`$prop.random-data-list[3]`\"/>\n<parameter name='vnf-name' value=\"`'vnf-'+$prop.random-data-list[4]`\"/>\n\n\n\n<!--<set>-->\n<!--<parameter name='vnf-id' value=\"123456789\"/>-->\n<!--<parameter name='vnf-name' value=\"vnf_name\"/>-->",
        "comments": "",
        "x": 1489.4172821044922,
        "y": 1144.333641052246,
        "z": "f70766ca.3cc678",
        "wires": []
    },
    {
        "id": "f65c3b6d.d69a38",
        "type": "execute",
        "name": "execute:generate",
        "xml": " <execute plugin=\"org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils\" method=\"generateUUID\">\n    <parameter name=\"ctx-destination\" value=\"prop.random-data\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1509.7817077636719,
        "y": 1060.0316162109375,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "48ab2a4c.2a241c"
            ]
        ]
    },
    {
        "id": "48ab2a4c.2a241c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1745.781421661377,
        "y": 1064.0315780639648,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "fdd1ef38.730528"
            ]
        ]
    },
    {
        "id": "fdd1ef38.730528",
        "type": "execute",
        "name": "execute",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n    <parameter name=\"ctx_memory_result_key\" value=\"prop.random-data-list\"/>\n    <parameter name=\"original_string\" value=\"`$prop.random-data`\"/>\n    <parameter name=\"regex\" value=\"-\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1932.7814769744873,
        "y": 1063.0314865112305,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "2eaae9b6.ab1ec6"
            ]
        ]
    },
    {
        "id": "97bc6eeb.c32ca8",
        "type": "record",
        "name": "log file",
        "xml": " <record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n    <parameter name=\"file\" value=\"/opt/oak/logx.txt\" />\n    <parameter name=\"field1\" value=\"`$prop.random-data`\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 2264.781539916992,
        "y": 1061.0315475463867,
        "z": "f70766ca.3cc678",
        "wires": [
            []
        ]
    },
    {
        "id": "2eaae9b6.ab1ec6",
        "type": "outcome",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2099.781415939331,
        "y": 1062.0315170288086,
        "z": "f70766ca.3cc678",
        "wires": [
            []
        ]
    },
    {
        "id": "4538034.6a1697c",
        "type": "set",
        "name": "set:variables",
        "xml": "<set>\n<parameter name='prop.bbs.serviceID' value=\"`$service-result.accessE2Eservice.serviceID`\"/>\n",
        "comments": "",
        "x": 2482.78129196167,
        "y": 914.0314292907715,
        "z": "f70766ca.3cc678",
        "wires": []
    },
    {
        "id": "adcd38ea.8cbb8",
        "type": "set",
        "name": "set:variables",
        "xml": "<set>\n<parameter name='prop.bbs.serviceID' value=\"HSI20190330\"/>\n\n",
        "comments": "",
        "x": 1179.0831298828125,
        "y": 903.333381652832,
        "z": "f70766ca.3cc678",
        "wires": []
    },
    {
        "id": "f01db867.d36098",
        "type": "save",
        "name": "save:relationship",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" resource=\"service-instance:relationship-list\" \n      key=\"service-instance.service-instance-id =  $vnf-topology-operation-input.service-information.service-id\n         AND customer.global-customer-id = $vnf-topology-operation-input.service-information.global-customer-id\n         AND service-subscription.service-type =  $vnf-topology-operation-input.service-information.subscription-service-type \n         AND service-instance.service-instance-id =  $vnf-topology-operation-input.service-information.service-instance-id\" force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"generic-vnf\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/generic-vnfs/generic-vnf/' + $vnf-id`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"generic-vnf.vnf-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$vnf-id`\" />\n ",
        "comments": "",
        "outputs": 1,
        "x": 1493.25,
        "y": 1619.0312519073486,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "afb1797d.cb3048",
                "eb0ddaae.dc5158",
                "7a2e5f09.7f4db8"
            ]
        ]
    },
    {
        "id": "afb1797d.cb3048",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1744.25,
        "y": 1572.0312519073486,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "7b869183.1a645"
            ]
        ]
    },
    {
        "id": "eb0ddaae.dc5158",
        "type": "failure",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1756.226161956787,
        "y": 1642.04718542099,
        "z": "f70766ca.3cc678",
        "wires": [
            [
                "38d0b39a.587ff4"
            ]
        ]
    },
    {
        "id": "7b869183.1a645",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Failure calling AAI to save metadatum\" />\n",
        "comments": "",
        "x": 1984.3927955627441,
        "y": 1570.6027536392212,
        "z": "f70766ca.3cc678",
        "wires": []
    },
    {
        "id": "38d0b39a.587ff4",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"metadatum instance does not exist in AAI\" />\n",
        "comments": "",
        "x": 1981.2736949920654,
        "y": 1641.5234217643738,
        "z": "f70766ca.3cc678",
        "wires": []
    },
    {
        "id": "7a2e5f09.7f4db8",
        "type": "outcome",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1750.83687210083,
        "y": 1712.1736249923706,
        "z": "f70766ca.3cc678",
        "wires": [
            []
        ]
    },
    {
        "id": "8fa4935d.532fd",
        "type": "record",
        "name": "log file",
        "xml": " <record plugin='org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder'>\n    <parameter name='logger' value='message-log'/>\n        <parameter name='field1' value='`$vnf-id`'/>\n        <parameter name='field2' value='`$vnf-name`'/>\n\n\n\n <!--<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">-->\n <!--   <parameter name=\"file\" value=\"/root/logx.txt\" />-->\n <!--   <parameter name=\"field1\" value=\"deleteAccessConnectivityService success!\" />-->\n <!--       <parameter name=\"field2\" value='`$topology.networks.network[0].network-types`' />-->\n    ",
        "comments": "",
        "outputs": 1,
        "x": 1485.75,
        "y": 1202.75,
        "z": "f70766ca.3cc678",
        "wires": [
            []
        ]
    }
]