[
    {
        "id": "1d6261af.026296",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 106.75,
        "y": 146.00012969970703,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "4f356558.c09824"
            ]
        ]
    },
    {
        "id": "4f356558.c09824",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 399.74940490722656,
        "y": 146.0000295639038,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "f6fdf774.8bb96"
            ]
        ]
    },
    {
        "id": "f6fdf774.8bb96",
        "type": "method",
        "name": "method:bbs-access-connectivity-vnf-topology-operation-create-huawei",
        "xml": "<method rpc='bbs-access-connectivity-vnf-topology-operation-create-huawei' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 397.74940490722656,
        "y": 342.0000696182251,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "f3bcfb95.a6758"
            ]
        ]
    },
    {
        "id": "f3bcfb95.a6758",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 804.7496185302734,
        "y": 343.0000696182251,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "3a2b8179.f5c316",
                "f43916c0.05b38",
                "5819ae74.c281a",
                "f4291e2e.795f3",
                "bdcb838b.2c793",
                "2efe0fba.b3123",
                "48d2f628.580118",
                "f603acaf.f2ab88"
            ]
        ]
    },
    {
        "id": "3a2b8179.f5c316",
        "type": "execute",
        "name": "excute:readProperties",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1236.7498779296875,
        "y": 232.11117553710938,
        "z": "e0329916.b170f8",
        "wires": [
            []
        ]
    },
    {
        "id": "f43916c0.05b38",
        "type": "call",
        "name": "call:validate-bbs-vnf-input-parameters",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='validate-bbs-vnf-input-parameters' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1317.749755859375,
        "y": 20,
        "z": "e0329916.b170f8",
        "wires": [
            []
        ]
    },
    {
        "id": "f603acaf.f2ab88",
        "type": "execute",
        "name": "execute:createAccessConnectivityService",
        "xml": "<execute plugin=\"org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode\" method=\"sendRequest\">\n    <parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/bbs-access-connectivity-create.json'`\" />\n    <parameter name=\"restapiUrl\" value=\"`'http://159.138.58.209:30335/ws/rest/1002/FanOpenAPI/ActiveOnt'`\" />\n    <parameter name=\"contentType\" value=\"application/json\"/>\n    <parameter name=\"httpMethod\" value=\"post\"/>\n    <parameter name=\"responsePrefix\" value=\"service-result\"/>\n    <parameter name=\"customHttpHeaders\" value=\"`'X-Auth-Token=' + $prop.sdncRestApi.token_id`\"/>\n    <parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n    <parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n    <parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n    <parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n    \n       <!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/ws/rest/1002/FanOpenAPI/ActiveOnt'`\" />-->",
        "comments": "",
        "outputs": 1,
        "x": 1295.4008178710938,
        "y": 792.9608383178711,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "60f74c55.fe6e34",
                "d4535369.b036"
            ]
        ]
    },
    {
        "id": "60f74c55.fe6e34",
        "type": "outcome",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1640.733585357666,
        "y": 882.9607381820679,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "15628a38.6513e6"
            ]
        ]
    },
    {
        "id": "d4535369.b036",
        "type": "outcome",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1632.64306640625,
        "y": 791.1426010131836,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "3377addc.d013aa"
            ]
        ]
    },
    {
        "id": "2efe0fba.b3123",
        "type": "execute",
        "name": "execute:querryTokenID",
        "xml": " <execute plugin=\"org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode\" method=\"sendRequest\">\n    <parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/bbs-token-template.json'`\"/>\n    <parameter name=\"restapiUrl\" value=\"`'http://159.138.58.209:30335/rest/plat/smapp/v1/oauth/token'`\"/>\n    <parameter name=\"format\" value=\"json\"/>\n    <parameter name=\"httpMethod\" value=\"put\"/>\n    <parameter name=\"responsePrefix\" value=\"token-result\"/>\n    <parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n    <parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n    <parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n    <parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n\n\n    <!--<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url+'/rest/plat/smapp/v1/oauth/token'`\"/>-->",
        "comments": "",
        "outputs": 1,
        "x": 1230.97216796875,
        "y": 594.5557861328125,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "f9c0e434.ab18e",
                "ecb05dd5.09d378"
            ]
        ]
    },
    {
        "id": "ecb05dd5.09d378",
        "type": "outcome",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1518.9169921875,
        "y": 594.2502002716064,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "f290b563.afea"
            ]
        ]
    },
    {
        "id": "f9c0e434.ab18e",
        "type": "outcome",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1517.1900024414062,
        "y": 667.6138753890991,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "50dc0542.4371cc"
            ]
        ]
    },
    {
        "id": "369cde33.b9c072",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"error-code\" value=\"500\" />\n<parameter name=\"error-message\" value=\"Error executing queryTokenID,vaule is null\" />\n",
        "comments": "",
        "x": 2138.030807495117,
        "y": 661.1595993041992,
        "z": "e0329916.b170f8",
        "wires": []
    },
    {
        "id": "1422e405.e818ac",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 1921.7502174377441,
        "y": 663.0004110336304,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "369cde33.b9c072"
            ]
        ]
    },
    {
        "id": "f290b563.afea",
        "type": "switchNode",
        "name": "switch:token ",
        "xml": "<switch test='`$token-result.accessSession`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1732.7500495910645,
        "y": 593.0001859664917,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "1422e405.e818ac",
                "e2811aac.af4e88"
            ]
        ]
    },
    {
        "id": "e2811aac.af4e88",
        "type": "outcome",
        "name": "Other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1919.750057220459,
        "y": 592.0001831054688,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "83e041e2.11968"
            ]
        ]
    },
    {
        "id": "83e041e2.11968",
        "type": "set",
        "name": "set:token-id",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.token_id' value='`$token-result.accessSession`' />\n",
        "comments": "",
        "x": 2130.2500648498535,
        "y": 592.2501840591431,
        "z": "e0329916.b170f8",
        "wires": []
    },
    {
        "id": "5819ae74.c281a",
        "type": "set",
        "name": "set:variables",
        "xml": "<set>\n<parameter name='vnf-input-parameters.' value='`$vnf-topology-operation-input.vnf-request-input.vnf-input-parameters.`' />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.url' value='https://172.30.0.55:26335' />\n<parameter name='prop.bbs.HsiPackage' value='50M' />\n<parameter name='prop.bbs.HsiType' value='IPoE' />\n",
        "comments": "",
        "x": 1195.7503967285156,
        "y": 132.00025749206543,
        "z": "e0329916.b170f8",
        "wires": []
    },
    {
        "id": "424a1338.c6c804",
        "type": "record",
        "name": "log file",
        "xml": " <record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n    <parameter name=\"file\" value=\"/opt/oak/logx.txt\" />\n    <parameter name=\"field1\" value=\"__TIMESTAMP__\" />\n    <parameter name=\"field2\" value=\"`$prop.bbs.remote_id`\" />\n    <parameter name=\"field3\" value=\"`$prop.bbs.ONTSN`\" />\n    <parameter name=\"field4\" value=\"`$prop.bbs.CVLAN`\" />\n    <parameter name=\"field5\" value=\"`$prop.bbs.SVLAN`\" />\n    <parameter name=\"field6\" value=\"`$prop.bbs.HsiPackage`\" />\n    <parameter name=\"field7\" value=\"`$prop.bbs.HsiType`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1185.7502746582031,
        "y": 425.00019550323486,
        "z": "e0329916.b170f8",
        "wires": [
            []
        ]
    },
    {
        "id": "2c82d829.e0ab68",
        "type": "record",
        "name": "log file",
        "xml": " <record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n    <parameter name=\"file\" value=\"/opt/oak/logx.txt\" />\n    <parameter name=\"field1\" value=\"createAccessConnectivityService success!\" />\n    <parameter name=\"field2\" value=\"`$service-result.accessE2Eservice.serviceID`\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 2458.7500400543213,
        "y": 952.0003020167351,
        "z": "e0329916.b170f8",
        "wires": [
            []
        ]
    },
    {
        "id": "15628a38.6513e6",
        "type": "switchNode",
        "name": "switch:service-result",
        "xml": "<switch test=\"`$service-result.errors.error[0].error-message`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 1875.7497062683105,
        "y": 882.0000333786011,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "f5141e0a.b112f8",
                "f195f6a2.69ce68"
            ]
        ]
    },
    {
        "id": "f5141e0a.b112f8",
        "type": "outcome",
        "name": "Other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2096.750011444092,
        "y": 804.0002164840698,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "8275b3aa.8d1378"
            ]
        ]
    },
    {
        "id": "f195f6a2.69ce68",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 2097.7496337890625,
        "y": 880.0000152587891,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "917abc23.c0d878"
            ]
        ]
    },
    {
        "id": "ffd1d599.c71c18",
        "type": "record",
        "name": "log error",
        "xml": " <record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n    <parameter name=\"file\" value=\"/opt/oak/logx.txt\" />\n    <parameter name=\"field1\" value=\"createAccessConnectivityService falied!\" />\n    <parameter name=\"field2\" value=\"`$service-result.errors.error[0].error-info.error-code`\" />\n    <parameter name=\"field3\" value=\"`$service-result.errors.error[0].error-message`\" />\n    <parameter name=\"field4\" value=\"`$service-result.errors.error[0].error-tag`\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 2634.7500381469727,
        "y": 842.0002098083496,
        "z": "e0329916.b170f8",
        "wires": [
            []
        ]
    },
    {
        "id": "bdcb838b.2c793",
        "type": "for",
        "name": "for:vnf-input-paramters",
        "xml": "<for index='idx' start='0' end='`$vnf-input-parameters.param_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1260.2501220703125,
        "y": 335.00017261505127,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "a466675f.e223b"
            ]
        ]
    },
    {
        "id": "6ab8eedc.cb66a8",
        "type": "switchNode",
        "name": "switch:remote_id",
        "xml": "<switch test=\"`$vnf-input-parameters.param[$idx].name == 'remote_id'`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 1801.2502479553223,
        "y": 136.000226020813,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "fb671302.f08a28"
            ]
        ]
    },
    {
        "id": "fb671302.f08a28",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2004.2501678466797,
        "y": 136.0001974105835,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "5ca67ab9.1ce66c"
            ]
        ]
    },
    {
        "id": "2257c990.31ddd6",
        "type": "set",
        "name": "set:remote_id",
        "xml": "<set>\n<parameter name='prop.bbs.remote_id' value='`$vnf-input-parameters.param[$idx].value`' />\n",
        "comments": "",
        "x": 2722.2499237060547,
        "y": 134.60020351409912,
        "z": "e0329916.b170f8",
        "wires": []
    },
    {
        "id": "a466675f.e223b",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1515.2504196166992,
        "y": 336.00021171569824,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "6ab8eedc.cb66a8",
                "ad025760.15512",
                "931e8201.e0a528",
                "1021a2a7.9d963d"
            ]
        ]
    },
    {
        "id": "ad025760.15512",
        "type": "switchNode",
        "name": "switch:ONTSN",
        "xml": "<switch test=\"`$vnf-input-parameters.param[$idx].name == 'ONTSN'`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 1801.1020431518555,
        "y": 197.00022792816162,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "f93e9a17.ed77c"
            ]
        ]
    },
    {
        "id": "f93e9a17.ed77c",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2003.1019458770752,
        "y": 197.00029182434082,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "4c4d0595.c8d74c"
            ]
        ]
    },
    {
        "id": "9de6cf9d.95e438",
        "type": "set",
        "name": "set:ONTSN",
        "xml": "<set>\n<parameter name='prop.bbs.ONTSN' value='`$vnf-input-parameters.param[$idx].value`' />\n",
        "comments": "",
        "x": 2721.1022300720215,
        "y": 196.60026836395264,
        "z": "e0329916.b170f8",
        "wires": []
    },
    {
        "id": "931e8201.e0a528",
        "type": "switchNode",
        "name": "switch:CVLAN",
        "xml": "<switch test=\"`$vnf-input-parameters.param[$idx].name == 'CVLAN'`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 1801.1021156311035,
        "y": 257.0002775192261,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "45aee947.1f79f"
            ]
        ]
    },
    {
        "id": "45aee947.1f79f",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2003.1019744873047,
        "y": 257.00028896331787,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "f12f75d1.378e7"
            ]
        ]
    },
    {
        "id": "b328ff7b.de2178",
        "type": "set",
        "name": "set:CVLAN",
        "xml": "<set>\n<parameter name='prop.bbs.CVLAN' value='`$vnf-input-parameters.param[$idx].value`' />\n",
        "comments": "",
        "x": 2719.1019744873047,
        "y": 257.60026454925537,
        "z": "e0329916.b170f8",
        "wires": []
    },
    {
        "id": "1021a2a7.9d963d",
        "type": "switchNode",
        "name": "switch:SVLAN",
        "xml": "<switch test=\"`$vnf-input-parameters.param[$idx].name == 'SVLAN'`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 1798.102123260498,
        "y": 333.222544670105,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "a0cd6bfe.37df4"
            ]
        ]
    },
    {
        "id": "a0cd6bfe.37df4",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2006.1020078659058,
        "y": 332.22254276275635,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "b2009bd.404af68"
            ]
        ]
    },
    {
        "id": "fd36dd78.cdefd",
        "type": "set",
        "name": "set:SVLAN",
        "xml": "<set>\n<parameter name='prop.bbs.SVLAN' value='`$vnf-input-parameters.param[$idx].value`' />\n",
        "comments": "",
        "x": 2725.1019744873047,
        "y": 331.82255458831787,
        "z": "e0329916.b170f8",
        "wires": []
    },
    {
        "id": "5ca67ab9.1ce66c",
        "type": "switchNode",
        "name": "switch:remote_id value",
        "xml": "<switch test='`$vnf-input-parameters.param[$idx].value`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2249.2501678466797,
        "y": 135.00022792816162,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "9dd975e7.7bf628",
                "9c64fed9.d1167"
            ]
        ]
    },
    {
        "id": "9c64fed9.d1167",
        "type": "outcome",
        "name": "Other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2537.2501678466797,
        "y": 134.00022792816162,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "2257c990.31ddd6"
            ]
        ]
    },
    {
        "id": "9dd975e7.7bf628",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 2535.250576019287,
        "y": 65.00020694732666,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "e7c90529.4dc4f8"
            ]
        ]
    },
    {
        "id": "4c4d0595.c8d74c",
        "type": "switchNode",
        "name": "switch:ONTSN value",
        "xml": "<switch test='`$vnf-input-parameters.param[$idx].value`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2249.2501678466797,
        "y": 197.00022792816162,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "9dd975e7.7bf628",
                "923642af.93bc88"
            ]
        ]
    },
    {
        "id": "923642af.93bc88",
        "type": "outcome",
        "name": "Other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2539.2501678466797,
        "y": 197.00022792816162,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "9de6cf9d.95e438"
            ]
        ]
    },
    {
        "id": "f12f75d1.378e7",
        "type": "switchNode",
        "name": "switch:CVLAN value",
        "xml": "<switch test='`$vnf-input-parameters.param[$idx].value`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2252.2501678466797,
        "y": 258.0002279281616,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "9dd975e7.7bf628",
                "f56650c5.51ce2"
            ]
        ]
    },
    {
        "id": "f56650c5.51ce2",
        "type": "outcome",
        "name": "Other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2540.2501678466797,
        "y": 257.0002279281616,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "b328ff7b.de2178"
            ]
        ]
    },
    {
        "id": "b2009bd.404af68",
        "type": "switchNode",
        "name": "switch:SVLAN value",
        "xml": "<switch test='`$vnf-input-parameters.param[$idx].value`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2253.2501678466797,
        "y": 332.0002279281616,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "9dd975e7.7bf628",
                "b2fcbca3.42bad"
            ]
        ]
    },
    {
        "id": "b2fcbca3.42bad",
        "type": "outcome",
        "name": "Other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2543.2501678466797,
        "y": 333.0002279281616,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "fd36dd78.cdefd"
            ]
        ]
    },
    {
        "id": "f4291e2e.795f3",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />",
        "comments": "",
        "x": 1168.8052062988281,
        "y": 1376.7781105041504,
        "z": "e0329916.b170f8",
        "wires": []
    },
    {
        "id": "917abc23.c0d878",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2255.9162635803223,
        "y": 880.9999904632568,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "c2dbfb5a.03777"
            ]
        ]
    },
    {
        "id": "8275b3aa.8d1378",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"error-code\" value=\"500\" />\n<parameter name=\"error-message\" value=\"`'Error createAccessConnectivityService return: '+$service-result.errors.error[0].error-message`\" />",
        "comments": "",
        "x": 2283.2496795654297,
        "y": 804.0000534057617,
        "z": "e0329916.b170f8",
        "wires": []
    },
    {
        "id": "e7c90529.4dc4f8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"error-code\" value=\"500\" />\n<parameter name=\"error-message\" value=\"`$vnf-input-parameters.param[$idx].name  +' value is null, please check it.'`\" />\n",
        "comments": "",
        "x": 2718.2496643066406,
        "y": 65.00003147125244,
        "z": "e0329916.b170f8",
        "wires": []
    },
    {
        "id": "50dc0542.4371cc",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"error-code\" value=\"500\" />\n<parameter name=\"error-message\" value=\"Error failed to call queryTokenID\" />\n",
        "comments": "",
        "x": 1717.5055389404297,
        "y": 668.0284957885742,
        "z": "e0329916.b170f8",
        "wires": []
    },
    {
        "id": "3377addc.d013aa",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"error-code\" value=\"500\" />\n<parameter name=\"error-message\" value=\"Error failed to call  createAccessConnectivityService\" />\n",
        "comments": "",
        "x": 1847.1422576904297,
        "y": 790.8467025756836,
        "z": "e0329916.b170f8",
        "wires": []
    },
    {
        "id": "c2ab02c3.18a528",
        "type": "save",
        "name": "save:generic-vnf",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" resource=\"generic-vnf\" key=\"generic-vnf.vnf-id = $vnf-id\" >\n<parameter name= \"vnf-id\" value = \"`$vnf-id`\"/>\n<parameter name=  \"vnf-name\" value = \"`$vnf-name`\"/>\n<parameter name=  \"vnf-type\" value = \"AccessConnectivity\"/>\n<parameter name=  \"service-id\" value = \"`$vnf-topology-operation-input.service-information.service-id`\"/>\n<parameter name=  \"prov-status\" value = \"ACTIVE\"/>\n<parameter name=  \"orchestration-status\" value = \"Active\"/>\n<parameter name=  \"is-closed-loop-disabled\" value = \"false\" />\n<parameter name=  \"model-invariant-id\" value = \"`$vnf-topology-operation-input.vnf-information.onap-model-information.model-invariant-uuid`\"/>\n<parameter name=  \"model-version-id\" value = \"`$vnf-topology-operation-input.vnf-information.onap-model-information.model-uuid`\"/>\n<parameter name=  \"model-customization-id\" value = \"`$vnf-topology-operation-input.vnf-information.onap-model-information.model-customization-uuid`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1492.2832126617432,
        "y": 1232.032096862793,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "7b50f775.bd98f8",
                "57259626.7849c",
                "e87076a5.810bc8"
            ]
        ]
    },
    {
        "id": "7b50f775.bd98f8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1728.5050678253174,
        "y": 1103.9208545684814,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "929e3be2.0040b8"
            ]
        ]
    },
    {
        "id": "57259626.7849c",
        "type": "failure",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1739.4808864593506,
        "y": 1163.9367108345032,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "4d0490a4.dc1d78"
            ]
        ]
    },
    {
        "id": "929e3be2.0040b8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Failure calling AAI to save generic-vnf\" />\n",
        "comments": "",
        "x": 1964.6476154327393,
        "y": 1103.4923195838928,
        "z": "e0329916.b170f8",
        "wires": []
    },
    {
        "id": "4d0490a4.dc1d78",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"generic-vnf instance does not exist in AAI\" />\n",
        "comments": "",
        "x": 1959.528413772583,
        "y": 1164.413025379181,
        "z": "e0329916.b170f8",
        "wires": []
    },
    {
        "id": "e87076a5.810bc8",
        "type": "outcome",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1733.0916919708252,
        "y": 1229.0631909370422,
        "z": "e0329916.b170f8",
        "wires": [
            []
        ]
    },
    {
        "id": "f68ce26b.06d55",
        "type": "record",
        "name": "log file",
        "xml": " <record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n    <parameter name=\"file\" value=\"/opt/oak/logx.txt\" />\n    <parameter name=\"field1\" value=\"save generic-vnf success!\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 1941.0919456481934,
        "y": 1227.063320159912,
        "z": "e0329916.b170f8",
        "wires": [
            []
        ]
    },
    {
        "id": "ac883442.28d84",
        "type": "save",
        "name": "save:metadata",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" resource=\"service-instance:metadata\"\n key=\"service-instance.service-instance-id = $vnf-topology-operation-input.service-information.service-id  \n\tAND customer.global-customer-id = $vnf-topology-operation-input.service-information.global-customer-id\n\t  AND service-subscription.service-type = $vnf-topology-operation-input.service-information.subscription-service-type\n\t  AND service-instance.service-instance-id =  $vnf-topology-operation-input.service-information.service-instance-id\"  force=\"true\" pfx=\"tmp.AnAI-data\"\n    >\n    <parameter name=\"metadata.metadatum[0].metaname\" value=\"remote-id\" />\n    <parameter name=\"metadata.metadatum[0].metaval\" value=\"`$prop.bbs.remote_id`\" />\n    <parameter name=\"metadata.metadatum[1].metaname\" value=\"controller-service-id\" />\n    <parameter name=\"metadata.metadatum[1].metaval\" value=\"`$prop.bbs.serviceID`\" />\n    <parameter name=\"metadata.metadatum[2].metaname\" value=\"cvlan\" />\n    <parameter name=\"metadata.metadatum[2].metaval\" value=\"`$prop.bbs.CVLAN`\" />\n    <parameter name=\"metadata.metadatum[3].metaname\" value=\"svlan\" />\n    <parameter name=\"metadata.metadatum[3].metaval\" value=\"`$prop.bbs.SVLAN`\" />\n    <parameter name=\"metadata.metadatum[4].metaname\" value=\"expected-ont-id\" />\n    <parameter name=\"metadata.metadatum[4].metaval\" value=\"`$prop.bbs.ONTSN`\" />\n    <!--<parameter name=\"metadata.metadatum[5].metaname\" value=\"rgw-mac-address\" />-->\n    <!--<parameter name=\"metadata.metadatum[5].metaval\" value=\"`$prop.bbs.mac`\" />-->",
        "comments": "",
        "outputs": 1,
        "x": 1473.7825393676758,
        "y": 1395.031925201416,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "eafd77cb.b8397",
                "1f25a38e.70d264",
                "7db9333e.87da9c"
            ]
        ]
    },
    {
        "id": "eafd77cb.b8397",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1704.2580490112305,
        "y": 1326.3965287208557,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "f5714bd.89e15b8"
            ]
        ]
    },
    {
        "id": "1f25a38e.70d264",
        "type": "failure",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1716.2342109680176,
        "y": 1396.412462234497,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "2a90de57.54b0d2"
            ]
        ]
    },
    {
        "id": "f5714bd.89e15b8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Failure calling AAI to save metadatum\" />\n",
        "comments": "",
        "x": 1944.4008445739746,
        "y": 1324.9680304527283,
        "z": "e0329916.b170f8",
        "wires": []
    },
    {
        "id": "2a90de57.54b0d2",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"metadatum instance does not exist in AAI\" />\n",
        "comments": "",
        "x": 1941.281744003296,
        "y": 1395.8886985778809,
        "z": "e0329916.b170f8",
        "wires": []
    },
    {
        "id": "7db9333e.87da9c",
        "type": "outcome",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1710.8449211120605,
        "y": 1466.5389018058777,
        "z": "e0329916.b170f8",
        "wires": [
            []
        ]
    },
    {
        "id": "223cf7d5.348cb8",
        "type": "record",
        "name": "log file",
        "xml": " <record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n    <parameter name=\"file\" value=\"/opt/oak/logx.txt\" />\n    <parameter name=\"field1\" value=\"save metadatum success!\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 1921.8449211120605,
        "y": 1466.5389018058777,
        "z": "e0329916.b170f8",
        "wires": [
            []
        ]
    },
    {
        "id": "48d2f628.580118",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1187.4168128967285,
        "y": 1106.0006484985352,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "c2ab02c3.18a528",
                "ac883442.28d84",
                "b153daf9.f98aa",
                "74332c3b.90a3c4",
                "e193ec3.bce899"
            ]
        ]
    },
    {
        "id": "b153daf9.f98aa",
        "type": "set",
        "name": "set:variables",
        "xml": "<set>\n<parameter name='vnf-id' value=\"`$prop.random-data-list[3]`\"/>\n<parameter name='vnf-name' value=\"`'vnf-'+$prop.random-data-list[4]`\"/>\n",
        "comments": "",
        "x": 1476.4172821044922,
        "y": 1110.333641052246,
        "z": "e0329916.b170f8",
        "wires": []
    },
    {
        "id": "74332c3b.90a3c4",
        "type": "execute",
        "name": "execute:generate",
        "xml": " <execute plugin=\"org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils\" method=\"generateUUID\">\n    <parameter name=\"ctx-destination\" value=\"prop.random-data\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1496.7817077636719,
        "y": 1026.0316162109375,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "5f8abaa7.bb84f4"
            ]
        ]
    },
    {
        "id": "5f8abaa7.bb84f4",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1732.781421661377,
        "y": 1030.0315780639648,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "d24b114c.00fb78"
            ]
        ]
    },
    {
        "id": "d24b114c.00fb78",
        "type": "execute",
        "name": "execute",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n    <parameter name=\"ctx_memory_result_key\" value=\"prop.random-data-list\"/>\n    <parameter name=\"original_string\" value=\"`$prop.random-data`\"/>\n    <parameter name=\"regex\" value=\"-\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1919.7814769744873,
        "y": 1029.0314865112305,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "c28eecff.183408"
            ]
        ]
    },
    {
        "id": "bd5c3172.606e3",
        "type": "record",
        "name": "log file",
        "xml": " <record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n    <parameter name=\"file\" value=\"/opt/oak/logx.txt\" />\n    <parameter name=\"field1\" value=\"`$prop.random-data`\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 2251.781539916992,
        "y": 1027.0315475463867,
        "z": "e0329916.b170f8",
        "wires": [
            []
        ]
    },
    {
        "id": "c28eecff.183408",
        "type": "outcome",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2086.781415939331,
        "y": 1028.0315170288086,
        "z": "e0329916.b170f8",
        "wires": [
            []
        ]
    },
    {
        "id": "c2dbfb5a.03777",
        "type": "set",
        "name": "set:variables",
        "xml": "<set>\n<parameter name='prop.bbs.serviceID' value=\"`$service-result.accessE2Eservice.serviceID`\"/>\n",
        "comments": "",
        "x": 2469.78129196167,
        "y": 880.0314292907715,
        "z": "e0329916.b170f8",
        "wires": []
    },
    {
        "id": "80452a04.8e8ca8",
        "type": "set",
        "name": "set:variables",
        "xml": "<set>\n<parameter name='prop.bbs.serviceID' value=\"HSI20190330\"/>\n\n",
        "comments": "",
        "x": 1166.0831298828125,
        "y": 869.333381652832,
        "z": "e0329916.b170f8",
        "wires": []
    },
    {
        "id": "e193ec3.bce899",
        "type": "save",
        "name": "save:relationship",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" resource=\"service-instance:relationship-list\" \n      key=\"service-instance.service-instance-id =  $vnf-topology-operation-input.service-information.service-id\n         AND customer.global-customer-id = $vnf-topology-operation-input.service-information.global-customer-id\n         AND service-subscription.service-type =  $vnf-topology-operation-input.service-information.subscription-service-type \n         AND service-instance.service-instance-id =  $vnf-topology-operation-input.service-information.service-instance-id\" force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"generic-vnf\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/generic-vnfs/generic-vnf/' + $vnf-id`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"generic-vnf.vnf-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$vnf-id`\" />\n ",
        "comments": "",
        "outputs": 1,
        "x": 1480.25,
        "y": 1585.0312519073486,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "8b7cfe7c.bb05c",
                "605adc34.dc45b4",
                "c57b41f2.edd368"
            ]
        ]
    },
    {
        "id": "8b7cfe7c.bb05c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1731.25,
        "y": 1538.0312519073486,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "11122765.99c301"
            ]
        ]
    },
    {
        "id": "605adc34.dc45b4",
        "type": "failure",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1743.226161956787,
        "y": 1608.04718542099,
        "z": "e0329916.b170f8",
        "wires": [
            [
                "8cd2a407.0333e"
            ]
        ]
    },
    {
        "id": "11122765.99c301",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Failure calling AAI to save metadatum\" />\n",
        "comments": "",
        "x": 1971.3927955627441,
        "y": 1536.6027536392212,
        "z": "e0329916.b170f8",
        "wires": []
    },
    {
        "id": "8cd2a407.0333e",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"metadatum instance does not exist in AAI\" />\n",
        "comments": "",
        "x": 1968.2736949920654,
        "y": 1607.5234217643738,
        "z": "e0329916.b170f8",
        "wires": []
    },
    {
        "id": "c57b41f2.edd368",
        "type": "outcome",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1737.83687210083,
        "y": 1678.1736249923706,
        "z": "e0329916.b170f8",
        "wires": [
            []
        ]
    }
]