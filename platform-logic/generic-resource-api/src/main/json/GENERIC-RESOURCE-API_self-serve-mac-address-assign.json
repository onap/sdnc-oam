[
    {
        "id": "7b3db2b.16a914c",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 111,
        "y": 34,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "722a79fa.ee98a8"
            ]
        ]
    },
    {
        "id": "722a79fa.ee98a8",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 369.9403991699219,
        "y": 34.32145690917969,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "7bdb539a.4e997c"
            ]
        ]
    },
    {
        "id": "7bdb539a.4e997c",
        "type": "method",
        "name": "method self-serve-mac-address-assign",
        "xml": "<method rpc='self-serve-mac-address-assign' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 722,
        "y": 35,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "b7d5ae1c.27c7f"
            ]
        ]
    },
    {
        "id": "b7d5ae1c.27c7f",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 111,
        "y": 89,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "f32b01d.959fe",
                "188b9fef.4e6a1",
                "5cb1f10c.2bf088",
                "a0e7cbd7.aa0c78",
                "81728a4c.575408",
                "46b1ac07.04040c",
                "48725b1e.f26bb4",
                "e9c063b8.f3fb18",
                "1e311aa8.b5db05"
            ]
        ]
    },
    {
        "id": "ddda0b39.003b2",
        "type": "comment",
        "name": "Validate inputs",
        "info": "ss.capability-action should be \"ASSIGN\" or \"\"UNASSIGN\"",
        "comments": "",
        "x": 240,
        "y": 128,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "e9c063b8.f3fb18",
        "type": "switchNode",
        "name": "switch ss.capability-action (ASSIGN | UNASSIGN)",
        "xml": "<switch test='`$ss.capability-action`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 332,
        "y": 2079,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "22932efc.96ddd2",
                "2bef6dfc.593592"
            ]
        ]
    },
    {
        "id": "22932efc.96ddd2",
        "type": "outcome",
        "name": "ASSIGN",
        "xml": "<outcome value='ASSIGN'>",
        "comments": "",
        "outputs": 1,
        "x": 269.25006103515625,
        "y": 2129.75,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "8b185ab9.cef45"
            ]
        ]
    },
    {
        "id": "2bef6dfc.593592",
        "type": "outcome",
        "name": "UNASSIGN",
        "xml": "<outcome value='UNASSIGN'>",
        "comments": "",
        "outputs": 1,
        "x": 277,
        "y": 3187,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "c4cdc2fe.75772"
            ]
        ]
    },
    {
        "id": "8b185ab9.cef45",
        "type": "block",
        "name": "block:atomic",
        "xml": "<block atomic=\"true\">\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 329,
        "y": 2227,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "1cbf83ce.6fd96c",
                "b2bdf447.c207c",
                "964b8c29.bf00b8"
            ]
        ]
    },
    {
        "id": "1cbf83ce.6fd96c",
        "type": "get-resource",
        "name": "get hostname from map table",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL' \nkey=\"select * FROM VPE_MAC_ADDRESS_TO_HOSTNAME_MAPPING WHERE HOSTNAME= $tmp.hostname\" pfx='tmp.map'>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 578,
        "y": 2227,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "a2ca1b80.01b34"
            ]
        ]
    },
    {
        "id": "b2bdf447.c207c",
        "type": "switchNode",
        "name": "switch hostname exists",
        "xml": "<switch test=\"`$tmp.map.hostname`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 562,
        "y": 2333,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "9c793e6f.08fbd8",
                "7bd7486c.3fac4",
                "7b3e1088.744e7",
                "b37eb6ee.9d9b7"
            ]
        ]
    },
    {
        "id": "7bd7486c.3fac4",
        "type": "outcome",
        "name": "outcome Null",
        "xml": "<outcome value='null'>\n",
        "comments": "",
        "outputs": 1,
        "x": 800.5,
        "y": 2352,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "6082ab09.7da05c"
            ]
        ]
    },
    {
        "id": "9c793e6f.08fbd8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 789.5,
        "y": 2312,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "6082ab09.7da05c"
            ]
        ]
    },
    {
        "id": "e3977c74.5a06d8",
        "type": "get-resource",
        "name": "get-resource MIN Val",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL' \nkey=\"SELECT MIN(pool.id) as pool_id, pool.mac_address FROM VPE_MAC_ADDRESS_POOL pool WHERE NOT EXISTS(SELECT ID FROM VPE_MAC_ADDRESS_TO_HOSTNAME_MAPPING map where pool.ID = map.ID)\" pfx='tmp.availid'>\n\n<!--\ntmp.availid.mac_address is the mac_address we need to have finally.\n-->\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1275,
        "y": 2270,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "5b6e46a4.15d6c8"
            ]
        ]
    },
    {
        "id": "7b3e1088.744e7",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 780.5,
        "y": 2392,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "12f06794.3cccd"
            ]
        ]
    },
    {
        "id": "6082ab09.7da05c",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1049.5,
        "y": 2310,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "e3977c74.5a06d8",
                "bbb30cb3.20aaf",
                "5dde5db.d378da4"
            ]
        ]
    },
    {
        "id": "bbb30cb3.20aaf",
        "type": "save",
        "name": "save",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource\" \nresource=\"SQL\" \nkey=\"INSERT INTO VPE_MAC_ADDRESS_TO_HOSTNAME_MAPPING ( id , hostname , assigned_user, assigned_date ) VALUES ( $tmp.availid.pool-id , $tmp.hostname , 'SDNC' , NOW())\" \nforce='true' pfx='save_val'>\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1229.5,
        "y": 2310,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "5b6e46a4.15d6c8"
            ]
        ]
    },
    {
        "id": "12f06794.3cccd",
        "type": "get-resource",
        "name": "get-Hostname : tmp.mac_address",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL' \nkey=\"SELECT pool.mac_address FROM VPE_MAC_ADDRESS_TO_HOSTNAME_MAPPING map, VPE_MAC_ADDRESS_POOL pool WHERE pool.ID = map.ID AND map.HOSTNAME = $tmp.hostname\" pfx=\"tmp.mac-address\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1047,
        "y": 2392,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "4ecab657.7eb6b"
            ]
        ]
    },
    {
        "id": "b37eb6ee.9d9b7",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 780.5,
        "y": 2272,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "6082ab09.7da05c"
            ]
        ]
    },
    {
        "id": "5dde5db.d378da4",
        "type": "set",
        "name": "set tmp.mac_address",
        "xml": "<set>\n<parameter name=\"tmp.mac-address.mac-address\" value=\"`$tmp.availid.mac-address`\" />\n",
        "comments": "",
        "x": 1276.5,
        "y": 2350,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "67c352d4.f2ba3c",
        "type": "comment",
        "name": "SQL hostname and mac address",
        "info": "",
        "comments": "",
        "x": 388.5,
        "y": 2181,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "4ecab657.7eb6b",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1280.5,
        "y": 2392,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "53838908.a977d"
            ]
        ]
    },
    {
        "id": "5b6e46a4.15d6c8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1444.5,
        "y": 2310,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "53838908.a977d"
            ]
        ]
    },
    {
        "id": "bac47969.c95e9",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='406' />\n<parameter name='error-message' value='Failed to insert into VPE_MAC_ADDRESS_TO_HOSTNAME_MAPPING' />\n",
        "comments": "",
        "x": 1726.5,
        "y": 2354,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "22640dee.10e3ca",
        "type": "comment",
        "name": "Call self-service-capability-param-resolution DG to resolve all resource-keys",
        "info": "",
        "comments": "",
        "x": 423,
        "y": 491,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "f32b01d.959fe",
        "type": "switchNode",
        "name": "switch ss.capability-name",
        "xml": "<switch test=\"`$ss.capability-name`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 277,
        "y": 171,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "dea84652.e6b318",
                "87691bd0.ee014",
                "9100f4c8.68c2e8",
                "c248349.697d948"
            ]
        ]
    },
    {
        "id": "dea84652.e6b318",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 551,
        "y": 144,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "b15ff9d7.9a3c1"
            ]
        ]
    },
    {
        "id": "87691bd0.ee014",
        "type": "outcome",
        "name": "null",
        "xml": "<outcome value='null'>\n",
        "comments": "",
        "outputs": 1,
        "x": 541,
        "y": 184,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "b15ff9d7.9a3c1"
            ]
        ]
    },
    {
        "id": "9100f4c8.68c2e8",
        "type": "other",
        "name": "mac-address-assign ",
        "xml": "<outcome value='mac-address-assign'>\n",
        "comments": "",
        "outputs": 1,
        "x": 583,
        "y": 225,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "6f33d7d2.1ff818"
            ]
        ]
    },
    {
        "id": "1fcf9155.035647",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='401' />\n<parameter name='error-message' value='ss.capability-name is not set' />\n",
        "comments": "",
        "x": 853,
        "y": 180,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "c248349.697d948",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 544,
        "y": 104,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "b15ff9d7.9a3c1"
            ]
        ]
    },
    {
        "id": "6f33d7d2.1ff818",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"com.att.sdnctl.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mac-address-assign: ss.capability-name is mac-address-assign\"/>",
        "comments": "",
        "outputs": 1,
        "x": 752,
        "y": 225,
        "z": "79c4dcde.151f74",
        "wires": [
            []
        ]
    },
    {
        "id": "188b9fef.4e6a1",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 235,
        "y": 537,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "b6717fcb.f01288",
                "bb06b386.8e2478",
                "b95886d5.e932"
            ]
        ]
    },
    {
        "id": "bb06b386.8e2478",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mac-address-assign: call self-service-capability-param-resolution DG\"/>",
        "comments": "",
        "outputs": 1,
        "x": 262,
        "y": 596,
        "z": "79c4dcde.151f74",
        "wires": [
            []
        ]
    },
    {
        "id": "b6717fcb.f01288",
        "type": "set",
        "name": "set variables for calling capability-param-resolution",
        "xml": "<set>\n<!--<parameter name='generate-unique-name-input.index-table-name' value='VM_NAME_INDEX' />-->",
        "comments": "",
        "x": 398.6904296875,
        "y": 640.3095703125,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "b95886d5.e932",
        "type": "call",
        "name": "call GR-API:self-serve-capability-param-resolution",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='self-serve-capability-param-resolution' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 395.023681640625,
        "y": 686.976318359375,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "553519e.fe13668",
                "bdbbd9e5.28642"
            ]
        ]
    },
    {
        "id": "553519e.fe13668",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 709.7379760742188,
        "y": 663.83349609375,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "ab23ec9f.544cd8"
            ]
        ]
    },
    {
        "id": "bdbbd9e5.28642",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 713.0713259379067,
        "y": 715.5001392364502,
        "z": "79c4dcde.151f74",
        "wires": [
            []
        ]
    },
    {
        "id": "b6f606b3.379d2",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='402' />\n<parameter name='error-message' value='Failure calling self-service-capability-param-resolution' />\n",
        "comments": "",
        "x": 996,
        "y": 686,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "b4a562b3.6cf2",
        "type": "comment",
        "name": "If MAC address assign was success, set output",
        "info": "parameters.param.resource-resolution-data.status to SUCCESS \nor FAILED depending on the SqlResource outcome",
        "comments": "",
        "x": 641,
        "y": 2447,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "964b8c29.bf00b8",
        "type": "switchNode",
        "name": "switch tmp.mac_address",
        "xml": "<switch test=\"`$tmp.mac-address.mac-address`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 568,
        "y": 2497,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "36850663.0d746a",
                "f93f2718.007a1",
                "7e4aa79f.ee1fd8"
            ]
        ]
    },
    {
        "id": "36850663.0d746a",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 765,
        "y": 2495,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "75c48b23.e37de4"
            ]
        ]
    },
    {
        "id": "f93f2718.007a1",
        "type": "outcome",
        "name": "outcome Null",
        "xml": "<outcome value='null'>\n",
        "comments": "",
        "outputs": 1,
        "x": 776,
        "y": 2535,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "75c48b23.e37de4"
            ]
        ]
    },
    {
        "id": "7e4aa79f.ee1fd8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 756,
        "y": 2575,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "385bd99d.9d7cfe"
            ]
        ]
    },
    {
        "id": "a2ca1b80.01b34",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 778,
        "y": 2227,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "1901da34.2587de"
            ]
        ]
    },
    {
        "id": "3e155c31.bc775c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='405' />\n<parameter name='error-message' value='Unable to access VPE_MAC_ADDRESS_TO_HOSTNAME_MAPPING' />\n",
        "comments": "",
        "x": 1056.5,
        "y": 2272,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "7381c11d.1d7698",
        "type": "comment",
        "name": "Get next available ID",
        "info": "",
        "comments": "",
        "x": 1270,
        "y": 2223,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "244fa4d9.2f420c",
        "type": "comment",
        "name": "Loop thru vf-module-params for first match with ss.capability-name",
        "info": "Loop thru service-data.vnfs.vnf[].vnf-data.vf-modules.vf-module[].vf-module-data.vf-module-topology.vf-module-parameters.param_length \nto find the FIRST occurrence of resource-resolution-data.capability-name=$ss.capability-name",
        "comments": "",
        "x": 395,
        "y": 811,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "b6393e49.ffd1b8",
        "type": "for",
        "name": "for each vf-module-parameters",
        "xml": "<for index='vf-module-param-index' start='0' end='`$tmp.vf-module-parameters-length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 364,
        "y": 953,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "ea03c473.c1c2f",
                "42d7c2fc.34b0ec"
            ]
        ]
    },
    {
        "id": "42d7c2fc.34b0ec",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mac-address-assign: vf-module-param-index\"/>\n<parameter name=\"field3\" value='`$vf-module-param-index`'/>",
        "comments": "",
        "outputs": 1,
        "x": 577,
        "y": 953,
        "z": "79c4dcde.151f74",
        "wires": [
            []
        ]
    },
    {
        "id": "ea03c473.c1c2f",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 346,
        "y": 1002,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "df53b68b.6e9ab",
                "14a66a1b.462eae"
            ]
        ]
    },
    {
        "id": "5cb1f10c.2bf088",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 234,
        "y": 857,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "7bcbb724.38cb58",
                "b6393e49.ffd1b8"
            ]
        ]
    },
    {
        "id": "7bcbb724.38cb58",
        "type": "set",
        "name": "set vf-module-parameters-length",
        "xml": "<set>\n<parameter name='tmp.vf-module-parameters-length' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param_length`' />\n",
        "comments": "",
        "x": 371,
        "y": 909,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "df53b68b.6e9ab",
        "type": "set",
        "name": "set vfModuleParamsCapabilityName",
        "xml": "<set>\n<parameter name='vfModuleParamsCapabilityName' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vf-module-param-index].resource-resolution-data.capability-name`'  />\n",
        "comments": "",
        "x": 458,
        "y": 1045,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "14a66a1b.462eae",
        "type": "switchNode",
        "name": "switch compare vfModuleParamsCapabilityName and ss.capability-name",
        "xml": "<switch test=\"`$ss.capability-name == $vfModuleParamsCapabilityName`\">",
        "comments": "",
        "outputs": 1,
        "x": 569,
        "y": 1091,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "8667f599.216ea",
                "dd592add.a79168"
            ]
        ]
    },
    {
        "id": "a0e7cbd7.aa0c78",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/self-serv-mac-address-assign.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 165,
        "y": 3748,
        "z": "79c4dcde.151f74",
        "wires": [
            []
        ]
    },
    {
        "id": "81728a4c.575408",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vf-module-parameters-index].resource-resolution-data.status`\" value='SUCCESS'  />",
        "comments": "",
        "x": 172,
        "y": 3803,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "f0f51d16.559f48",
        "type": "comment",
        "name": "Loop thru vf-module-params for first match with ss.capability-name",
        "info": "Loop thru service-data.vnfs.vnf[].vnf-data.vf-modules.vf-module[].vf-module-data.vf-module-topology.vf-module-parameters.param_length \nto find the FIRST occurrence of resource-resolution-data.capability-name=$ss.capability-name",
        "comments": "",
        "x": 861,
        "y": 1046,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "8667f599.216ea",
        "type": "outcome",
        "name": "outcome:ss.capability-name match",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 468,
        "y": 1139,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "e1f12455.b89928"
            ]
        ]
    },
    {
        "id": "dd592add.a79168",
        "type": "other",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 378,
        "y": 1180,
        "z": "79c4dcde.151f74",
        "wires": [
            []
        ]
    },
    {
        "id": "27d76d2.8fc6c12",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mac-address-assign: Found ss.capability-name MATCH\"/>",
        "comments": "",
        "outputs": 1,
        "x": 814,
        "y": 1139,
        "z": "79c4dcde.151f74",
        "wires": [
            []
        ]
    },
    {
        "id": "e1f12455.b89928",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 682,
        "y": 1139,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "27d76d2.8fc6c12",
                "89f1badd.aab03",
                "2895f95.030ce86"
            ]
        ]
    },
    {
        "id": "f9e99981.6f75a",
        "type": "comment",
        "name": "Break the loop",
        "info": "",
        "comments": "",
        "x": 704,
        "y": 1233,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "89f1badd.aab03",
        "type": "set",
        "name": "set resource-resolution-data",
        "xml": "<set>\n<parameter name='tmp.resource-resolution-data.' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vf-module-param-index].resource-resolution-data.`'  />\n",
        "comments": "",
        "x": 750,
        "y": 1187,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "48725b1e.f26bb4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 246,
        "y": 1528,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "80868c75.dfbb6",
                "c8049951.6c3498",
                "489490ac.5987f"
            ]
        ]
    },
    {
        "id": "fe3507b.b7e70f8",
        "type": "comment",
        "name": "Resolve hostname",
        "info": "service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters[$vf-module-params-index].param.resource-resolution-data.resource-key[$key-index].value \nwhere its corresponding resource-key[$key-index].name=vnf-name",
        "comments": "",
        "x": 234,
        "y": 1484,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "80868c75.dfbb6",
        "type": "set",
        "name": "set resource-key-length",
        "xml": "<set>\n<parameter name='tmp.resource-key-length' value='`$tmp.resource-resolution-data.resource-key_length`' />\n",
        "comments": "",
        "x": 320,
        "y": 1574,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "c8049951.6c3498",
        "type": "for",
        "name": "for each resource-resolution-data.resource-key",
        "xml": "<for index='key-index' start='0' end='`$tmp.resource-resolution-data.resource-key_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 393,
        "y": 1619,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "f83cd8e.7e8a728",
                "7f7a1b7b.df5804"
            ]
        ]
    },
    {
        "id": "7f7a1b7b.df5804",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mac-address-assign: key-index\"/>\n<parameter name=\"field3\" value='`$key-index`'/>",
        "comments": "",
        "outputs": 1,
        "x": 660,
        "y": 1619,
        "z": "79c4dcde.151f74",
        "wires": [
            []
        ]
    },
    {
        "id": "f83cd8e.7e8a728",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 323,
        "y": 1668,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "76d2d19d.4c1f68"
            ]
        ]
    },
    {
        "id": "76d2d19d.4c1f68",
        "type": "switchNode",
        "name": "switch compare resource-key.name and \"vnf-name\"",
        "xml": "<switch test=\"`$tmp.resource-resolution-data.resource-key[$key-index].name == 'vnf-name'`\">",
        "comments": "",
        "outputs": 1,
        "x": 492,
        "y": 1715,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "6f9eef6b.1b76b",
                "abcbec45.dae73"
            ]
        ]
    },
    {
        "id": "6f9eef6b.1b76b",
        "type": "outcome",
        "name": "outcome:found vnf-name resource key",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 469,
        "y": 1762,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "ee3cf2a8.37536"
            ]
        ]
    },
    {
        "id": "abcbec45.dae73",
        "type": "other",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 369,
        "y": 1803,
        "z": "79c4dcde.151f74",
        "wires": [
            []
        ]
    },
    {
        "id": "ee3cf2a8.37536",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 685,
        "y": 1762,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "6000bcf7.22066c",
                "dc8d5223.f469d8",
                "d14bad56.e3a97"
            ]
        ]
    },
    {
        "id": "6000bcf7.22066c",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mac-address-assign: Found resource-resolution-data.name = vnf-name\"/>",
        "comments": "",
        "outputs": 1,
        "x": 817,
        "y": 1762,
        "z": "79c4dcde.151f74",
        "wires": [
            []
        ]
    },
    {
        "id": "dc8d5223.f469d8",
        "type": "set",
        "name": "set hostname",
        "xml": "<set>\n<parameter name='tmp.hostname' value='`$tmp.resource-resolution-data.resource-key[$key-index].value`'  />\n",
        "comments": "",
        "x": 711,
        "y": 1810,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "489490ac.5987f",
        "type": "switchNode",
        "name": "switch validate resolved hostname",
        "xml": "<switch test=\"`$tmp.hostname`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 363,
        "y": 1921,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "4e567960.877258",
                "9bac31a3.d241b"
            ]
        ]
    },
    {
        "id": "4e567960.877258",
        "type": "outcome",
        "name": "null",
        "xml": "<outcome value='null'>\n",
        "comments": "",
        "outputs": 1,
        "x": 596,
        "y": 1901,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "c1e2450e.9ab788"
            ]
        ]
    },
    {
        "id": "9bac31a3.d241b",
        "type": "other",
        "name": "blank",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 598,
        "y": 1941,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "c1e2450e.9ab788"
            ]
        ]
    },
    {
        "id": "1a5a80ca.68dab7",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='403' />\n<parameter name='error-message' value='hostname is not set' />\n",
        "comments": "",
        "x": 883,
        "y": 1961,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "a12685e3.9f9a98",
        "type": "comment",
        "name": "Set resource-resolution-data.status based on successful value assignement",
        "info": "Set service-data.vnfs.vnf[].vnf-data.vf-modules.vf-module[].vf-module-data.vf-module-topology.vf-module-parameters.param.resource-resolution-data.status\n to SUCCESS or FAILED depending on the SqlResource outcome",
        "comments": "",
        "x": 1143,
        "y": 2446,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "2f76749a.2b83b4",
        "type": "set",
        "name": "set resource-resolution-data.status to SUCCESS",
        "xml": "<set>\n<parameter name=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vf-module-parameters-index].resource-resolution-data.status`\" value='SUCCESS'  />\n",
        "comments": "",
        "x": 1011,
        "y": 3124,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "3f416124.1e15c6",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='405' />\n<parameter name='error-message' value='tmp.mac_address not set' />\n",
        "comments": "",
        "x": 1073,
        "y": 2566,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "75c48b23.e37de4",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 930,
        "y": 2527,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "3f416124.1e15c6",
                "1ff13884.4c2d17",
                "f7617ae2.7df4d8"
            ]
        ]
    },
    {
        "id": "3741be1b.15fc72",
        "type": "comment",
        "name": "Find vf-module-parameters.name = vmxvpfe_sriov41_*",
        "info": "Once those hardcoded names are found, set assigned mac-address to .value \nfor those 4 .names to the resolved mac-address.  Donâ€™t set status to success until .values are set. ",
        "comments": "",
        "x": 1008,
        "y": 2728,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "6998db76.d8596c",
        "type": "comment",
        "name": "Set address for vf-module-parameters to resolved MAC Address",
        "info": "",
        "comments": "",
        "x": 1038,
        "y": 2685,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "385bd99d.9d7cfe",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 819,
        "y": 2629,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "95d963db.2ca348",
                "2f76749a.2b83b4"
            ]
        ]
    },
    {
        "id": "95d963db.2ca348",
        "type": "for",
        "name": "for each vf-module-parameters",
        "xml": "<for index='vf-module-param-index' start='0' end='`$tmp.vf-module-parameters-length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 940,
        "y": 2781,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "33aef370.8e201c",
                "d8ab3c37.8ebc18"
            ]
        ]
    },
    {
        "id": "d8ab3c37.8ebc18",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mac-address-assign: vf-module-param-index\"/>\n<parameter name=\"field3\" value='`$vf-module-param-index`'/>",
        "comments": "",
        "outputs": 1,
        "x": 1152,
        "y": 2781,
        "z": "79c4dcde.151f74",
        "wires": [
            []
        ]
    },
    {
        "id": "33aef370.8e201c",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 924,
        "y": 2830,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "e1067dc2.b7ce18"
            ]
        ]
    },
    {
        "id": "1d349e54.52f84a",
        "type": "set",
        "name": "set mac-address-assign test data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param_length' value='5' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[0].name' value='vmxvpfe_sriov41_0_port_mac' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[0].value' value='somevalue' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.status' value='PENDING' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.capability-name' value='mac-address-assign' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key_length' value='1' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key[0].name' value='vnf-name' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key[0].value' value='vnfname' />\n\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[1].name' value='vmxvpfe_sriov41_1_port_mac' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[1].value' value='somevalue' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.status' value='PENDING' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.capability-name' value='mac-address-assign' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key_length' value='1' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key[0].name' value='vnf-name' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key[0].value' value='vnfname' />\n\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[2].name' value='vmxvpfe_sriov41_3_port_mac' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[2].value' value='somevalue' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[2].resource-resolution-data.status' value='PENDING' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[2].resource-resolution-data.capability-name' value='mac-address-assign' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[2].resource-resolution-data.resource-key_length' value='1' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[2].resource-resolution-data.resource-key[0].name' value='vnf-name' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[2].resource-resolution-data.resource-key[0].value' value='vnfname' />\n\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[3].name' value='vmxvpfe_sriov41_4_port_mac' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[3].value' value='somevalue' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[3].resource-resolution-data.status' value='PENDING' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[3].resource-resolution-data.capability-name' value='mac-address-assign' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[3].resource-resolution-data.resource-key_length' value='1' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[3].resource-resolution-data.resource-key[0].name' value='vnf-name' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[3].resource-resolution-data.resource-key[0].value' value='vnfname' />",
        "comments": "",
        "x": 791,
        "y": 574,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "df22b093.43a4d8",
        "type": "comment",
        "name": "Set temporary test data * TEST-ONLY *",
        "info": "",
        "comments": "",
        "x": 806,
        "y": 533,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "a1c3aa1f.631768",
        "type": "set",
        "name": "set create-vpe-pool test data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[4].name' value='create-vpe-pool' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[4].value' value='somestatus' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[4].resource-resolution-data.status' value='PENDING' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[4].resource-resolution-data.capability-name' value='create-vpe-pool' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[4].resource-resolution-data.resource-key_length' value='19' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[4].resource-resolution-data.resource-key[0].name' value='vpe_name' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[4].resource-resolution-data.resource-key[0].value' value='vpe_name' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[4].resource-resolution-data.resource-key[1].name' value='ipv4_oam_address' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[4].resource-resolution-data.resource-key[1].value' value='ipv4_oam_address' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[4].resource-resolution-data.resource-key[2].name' value='loopback0' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[4].resource-resolution-data.resource-key[2].value' value='loopback0' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[4].resource-resolution-data.resource-key[3].name' value='provisioning_status' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[4].resource-resolution-data.resource-key[3].value' value='provisioning_status' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[4].resource-resolution-data.resource-key[4].name' value='aic_site_id' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[4].resource-resolution-data.resource-key[4].value' value='aic_site_id' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[4].resource-resolution-data.resource-key[5].name' value='avaiablity_zone' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[4].resource-resolution-data.resource-key[5].value' value='avaiablity_zone' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[4].resource-resolution-data.resource-key[6].name' value='vlan_id_outer' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[4].resource-resolution-data.resource-key[6].value' value='vlan_id_outer' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[4].resource-resolution-data.resource-key[7].name' value='vendor' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[4].resource-resolution-data.resource-key[7].value' value='vendor' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[4].resource-resolution-data.resource-key[8].name' value='physical_intf_name' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[4].resource-resolution-data.resource-key[8].value' value='physical_intf_name' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[4].resource-resolution-data.resource-key[9].name' value='phyiscal_intf_speed' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[4].resource-resolution-data.resource-key[9].value' value='phyiscal_intf_speed' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[4].resource-resolution-data.resource-key[10].name' value='phyiscal_intf_units' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[4].resource-resolution-data.resource-key[10].value' value='phyiscal_intf_units' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[4].resource-resolution-data.resource-key[11].name' value='vpe_uuid' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[4].resource-resolution-data.resource-key[11].value' value='vpe_uuid' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[4].resource-resolution-data.resource-key[12].name' value='vpe_id' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[4].resource-resolution-data.resource-key[12].value' value='vpe_id' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[4].resource-resolution-data.resource-key[13].name' value='image_filename' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[4].resource-resolution-data.resource-key[13].value' value='image_filename' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[4].resource-resolution-data.resource-key[14].name' value='as_number' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[4].resource-resolution-data.resource-key[14].value' value='as_number' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[4].resource-resolution-data.resource-key[15].name' value='loopback5000' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[4].resource-resolution-data.resource-key[15].value' value='loopback5000' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[4].resource-resolution-data.resource-key[16].name' value='loopback10' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[4].resource-resolution-data.resource-key[16].value' value='loopback10' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[4].resource-resolution-data.resource-key[17].name' value='aic_version' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[4].resource-resolution-data.resource-key[17].value' value='aic_version' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[4].resource-resolution-data.resource-key[18].name' value='vpe_capacity' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[4].resource-resolution-data.resource-key[18].value' value='vpe_capacity' />\n",
        "comments": "",
        "x": 778,
        "y": 615,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "2895f95.030ce86",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 683,
        "y": 1275,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "d14bad56.e3a97",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mac-address-assign: resolved hostname: \"/>\n<parameter name=\"field3\" value='`$tmp.hostname`'/>",
        "comments": "",
        "outputs": 1,
        "x": 689,
        "y": 1856,
        "z": "79c4dcde.151f74",
        "wires": [
            []
        ]
    },
    {
        "id": "46b1ac07.04040c",
        "type": "switchNode",
        "name": "switch ss.capability-action",
        "xml": "<switch test=\"`$ss.capability-action`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 274,
        "y": 290,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "fa52f336.c892e8",
                "4524de5f.8c7d28",
                "270b2726.356e6",
                "74e5990a.ea8258",
                "1cf1b5aa.7b40da"
            ]
        ]
    },
    {
        "id": "fa52f336.c892e8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 540,
        "y": 273,
        "z": "79c4dcde.151f74",
        "wires": [
            []
        ]
    },
    {
        "id": "4524de5f.8c7d28",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 547,
        "y": 313,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "dfd0d6f3.9529f"
            ]
        ]
    },
    {
        "id": "270b2726.356e6",
        "type": "outcome",
        "name": "null",
        "xml": "<outcome value='null'>\n",
        "comments": "",
        "outputs": 1,
        "x": 537,
        "y": 353,
        "z": "79c4dcde.151f74",
        "wires": [
            []
        ]
    },
    {
        "id": "74e5990a.ea8258",
        "type": "other",
        "name": "ASSIGN ",
        "xml": "<outcome value='ASSIGN'>\n",
        "comments": "",
        "outputs": 1,
        "x": 543,
        "y": 394,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "11245c61.36b96c"
            ]
        ]
    },
    {
        "id": "e9d93e1a.8dbad8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='401' />\n<parameter name='error-message' value='ss.capability-action is not set' />\n",
        "comments": "",
        "x": 863,
        "y": 349,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "1cf1b5aa.7b40da",
        "type": "other",
        "name": "UNASSIGN ",
        "xml": "<outcome value='UNASSIGN'>\n",
        "comments": "",
        "outputs": 1,
        "x": 551,
        "y": 437,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "204b47e4.6ce83"
            ]
        ]
    },
    {
        "id": "11245c61.36b96c",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mac-address-assign: ss.capability-action is ASSIGN\"/>",
        "comments": "",
        "outputs": 1,
        "x": 747,
        "y": 394,
        "z": "79c4dcde.151f74",
        "wires": [
            []
        ]
    },
    {
        "id": "204b47e4.6ce83",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mac-address-assign: ss.capability-action is UNASSIGN\"/>",
        "comments": "",
        "outputs": 1,
        "x": 748,
        "y": 437,
        "z": "79c4dcde.151f74",
        "wires": [
            []
        ]
    },
    {
        "id": "e1067dc2.b7ce18",
        "type": "switchNode",
        "name": "switch vf-module-parameters.param.name",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vf-module-param-index].name`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 1073,
        "y": 2881,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "3ab7fa6a.76762e",
                "2837aaed.d6930e",
                "db0bc1db.6591e8",
                "2928eec7.a6840a"
            ]
        ]
    },
    {
        "id": "3ab7fa6a.76762e",
        "type": "other",
        "name": "vmxvpfe_sriov41_0_port_mac",
        "xml": "<outcome value='vmxvpfe_sriov41_0_port_mac'>",
        "comments": "",
        "outputs": 1,
        "x": 1102,
        "y": 2929,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "3e244c5c.acd454"
            ]
        ]
    },
    {
        "id": "2837aaed.d6930e",
        "type": "other",
        "name": "vmxvpfe_sriov41_1_port_mac",
        "xml": "<outcome value='vmxvpfe_sriov41_1_port_mac'>",
        "comments": "",
        "outputs": 1,
        "x": 1102,
        "y": 2975,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "3e244c5c.acd454"
            ]
        ]
    },
    {
        "id": "db0bc1db.6591e8",
        "type": "other",
        "name": "vmxvpfe_sriov41_3_port_mac",
        "xml": "<outcome value='vmxvpfe_sriov41_3_port_mac'>",
        "comments": "",
        "outputs": 1,
        "x": 1101,
        "y": 3020,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "3e244c5c.acd454"
            ]
        ]
    },
    {
        "id": "2928eec7.a6840a",
        "type": "other",
        "name": "vmxvpfe_sriov41_4_port_mac",
        "xml": "<outcome value='vmxvpfe_sriov41_4_port_mac'>",
        "comments": "",
        "outputs": 1,
        "x": 1099,
        "y": 3066,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "3e244c5c.acd454"
            ]
        ]
    },
    {
        "id": "3e244c5c.acd454",
        "type": "set",
        "name": "set vf-module-parameters.param.value to assigned mac address",
        "xml": "<set>\n<parameter name=\"`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vf-module-param-index].value`\" value=\"`$tmp.mac-address.mac-address`\"  />\n",
        "comments": "",
        "x": 1508,
        "y": 2993,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "3896f610.780a82",
        "type": "delete",
        "name": "delete",
        "xml": "<delete plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL' \nkey='DELETE from VPE_MAC_ADDRESS_TO_HOSTNAME_MAPPING WHERE hostname = $tmp.hostname'>\n",
        "comments": "",
        "outputs": 1,
        "x": 762,
        "y": 3488,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "41e3c659.c4bda8",
                "14d1b5c.99457ca"
            ]
        ]
    },
    {
        "id": "c4cdc2fe.75772",
        "type": "block",
        "name": "block:atomic",
        "xml": "<block atomic=\"true\">\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 318,
        "y": 3280,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "52060e3b.f84528",
                "4b6a08ac.7e91d8"
            ]
        ]
    },
    {
        "id": "93e77d0e.b6347",
        "type": "comment",
        "name": "DELETE from VPE_MAC_ADDRESS_TO_HOSTNAME_MAPPING",
        "info": "",
        "comments": "",
        "x": 475.5,
        "y": 3239,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "52060e3b.f84528",
        "type": "get-resource",
        "name": "get hostname from map table",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL' \nkey=\"select * FROM VPE_MAC_ADDRESS_TO_HOSTNAME_MAPPING WHERE HOSTNAME= $tmp.hostname\" pfx='tmp.map'>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 406,
        "y": 3323,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "5011ad08.9c6f44"
            ]
        ]
    },
    {
        "id": "5011ad08.9c6f44",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 606,
        "y": 3323,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "66a0310.f5e39d"
            ]
        ]
    },
    {
        "id": "4b6a08ac.7e91d8",
        "type": "switchNode",
        "name": "switch hostname exists",
        "xml": "<switch test=\"`$tmp.map.hostname`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 390,
        "y": 3428,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "88f047ec.35cd08",
                "e7acab38.93eee",
                "62ed770e.70ae2",
                "76caa25e.72ecdc"
            ]
        ]
    },
    {
        "id": "76caa25e.72ecdc",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 608.5,
        "y": 3368,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "66a0310.f5e39d"
            ]
        ]
    },
    {
        "id": "88f047ec.35cd08",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 617.5,
        "y": 3408,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "66a0310.f5e39d"
            ]
        ]
    },
    {
        "id": "e7acab38.93eee",
        "type": "outcome",
        "name": "outcome Null",
        "xml": "<outcome value='null'>\n",
        "comments": "",
        "outputs": 1,
        "x": 628.5,
        "y": 3448,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "66a0310.f5e39d"
            ]
        ]
    },
    {
        "id": "62ed770e.70ae2",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 608.5,
        "y": 3488,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "3896f610.780a82"
            ]
        ]
    },
    {
        "id": "b6bba451.a5d3e8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='405' />\n<parameter name='error-message' value='Hostname not found in VPE_MAC_ADDRESS_TO_HOSTNAME_MAPPING on UNASSIGN operation' />\n",
        "comments": "",
        "x": 909,
        "y": 3389,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "e1cf1dc7.b690f",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 932,
        "y": 3552,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "96370836.88ef9"
            ]
        ]
    },
    {
        "id": "14d1b5c.99457ca",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 891,
        "y": 3511,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "e1cf1dc7.b690f"
            ]
        ]
    },
    {
        "id": "41e3c659.c4bda8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 892,
        "y": 3451,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "2c07581.42c3228"
            ]
        ]
    },
    {
        "id": "acb31915.6f33c8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='405' />\n<parameter name='error-message' value='Failure deleting from VPE_MAC_ADDRESS_TO_HOSTNAME_MAPPING on UNASSIGN operation' />\n",
        "comments": "",
        "x": 1173,
        "y": 3493,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "96370836.88ef9",
        "type": "for",
        "name": "for each resource-resolution-data.resource-key",
        "xml": "<for index='key-index' start='0' end='`$tmp.resource-resolution-data.resource-key_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1089,
        "y": 3599,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "74a2b3b3.a1c03c"
            ]
        ]
    },
    {
        "id": "74a2b3b3.a1c03c",
        "type": "set",
        "name": "set vf-module-parameters.param.value to assigned mac address",
        "xml": "<set>\n<parameter name=\"`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vf-module-parameters-index].resource-resolution-data.status`\" value=\"DELETED\"  />\n",
        "comments": "",
        "x": 1192,
        "y": 3645,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "590fe198.9154e8",
        "type": "comment",
        "name": "Check that resource-resolution-data.status is PENDING",
        "info": "",
        "comments": "",
        "x": 353,
        "y": 1343,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "b15ff9d7.9a3c1",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 696,
        "y": 143,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "4826c96c.1ff9a",
                "1fcf9155.035647"
            ]
        ]
    },
    {
        "id": "4826c96c.1ff9a",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mac-address-assign: ss.capability-name is not set\"/>",
        "comments": "",
        "outputs": 1,
        "x": 836,
        "y": 102,
        "z": "79c4dcde.151f74",
        "wires": [
            []
        ]
    },
    {
        "id": "9c475485.4de01",
        "type": "set",
        "name": "set status to FAILED",
        "xml": "<set>\n<parameter name='resource-resolution-data.status' value='FAILED'  />",
        "comments": "",
        "x": 877,
        "y": 140,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "f3b2c664.2dc58",
        "type": "comment",
        "name": "resrouce-resolution-data is not yet set",
        "info": "",
        "comments": "",
        "x": 1135,
        "y": 138,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "dfd0d6f3.9529f",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 696,
        "y": 313,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "3c1237ec.e8508",
                "e9d93e1a.8dbad8"
            ]
        ]
    },
    {
        "id": "3c1237ec.e8508",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mac-address-assign: ss.capability-action is not set\"/>",
        "comments": "",
        "outputs": 1,
        "x": 840,
        "y": 271,
        "z": "79c4dcde.151f74",
        "wires": [
            []
        ]
    },
    {
        "id": "f23ac007.f78d8",
        "type": "set",
        "name": "set status to FAILED",
        "xml": "<set>\n<parameter name='resource-resolution-data.status' value='FAILURE'  />",
        "comments": "",
        "x": 881,
        "y": 309,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "ab23ec9f.544cd8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 836,
        "y": 664,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "bbb25e19.75576",
                "b6f606b3.379d2"
            ]
        ]
    },
    {
        "id": "bbb25e19.75576",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mac-address-assign: Failure calling self-service-capability-param-resolution\"/>",
        "comments": "",
        "outputs": 1,
        "x": 980,
        "y": 643,
        "z": "79c4dcde.151f74",
        "wires": [
            []
        ]
    },
    {
        "id": "ee559ebe.72a07",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mac-address-assign: hostname is not set\"/>",
        "comments": "",
        "outputs": 1,
        "x": 864,
        "y": 1879,
        "z": "79c4dcde.151f74",
        "wires": [
            []
        ]
    },
    {
        "id": "54db7014.b4c078",
        "type": "set",
        "name": "set status to FAILED",
        "xml": "<set>\n<parameter name='$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vf-module-param-index].resource-resolution-data.status' value='FAILED'  />",
        "comments": "",
        "x": 906,
        "y": 1918,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "c1e2450e.9ab788",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 728,
        "y": 1918,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "ee559ebe.72a07",
                "54db7014.b4c078",
                "1a5a80ca.68dab7"
            ]
        ]
    },
    {
        "id": "1e311aa8.b5db05",
        "type": "switchNode",
        "name": "switch tmp.resource-resolution-data = PENDING",
        "xml": "<switch test=\"`$tmp.resource-resolution-data.status == 'PENDING'`\">",
        "comments": "",
        "outputs": 1,
        "x": 345,
        "y": 1401,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "6c8d8704.121a98"
            ]
        ]
    },
    {
        "id": "df09c09a.47719",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 813,
        "y": 1401,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "de049043.5ecd4",
                "ae73d569.da404",
                "6cc693a5.ea118c"
            ]
        ]
    },
    {
        "id": "de049043.5ecd4",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mac-address-assign: reseouce-resolution-data.status is not PENDING\"/>",
        "comments": "",
        "outputs": 1,
        "x": 953,
        "y": 1361,
        "z": "79c4dcde.151f74",
        "wires": [
            []
        ]
    },
    {
        "id": "6cc693a5.ea118c",
        "type": "set",
        "name": "set status to FAILED",
        "xml": "<set>\n<parameter name='$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vf-module-param-index].resource-resolution-data.status' value='FAILED'  />",
        "comments": "",
        "x": 994,
        "y": 1400,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "ae73d569.da404",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='401' />\n<parameter name='error-message' value='reseouce-resolution-data.status is not PENDING' />\n",
        "comments": "",
        "x": 970,
        "y": 1439,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "6c8d8704.121a98",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 649,
        "y": 1401,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "df09c09a.47719"
            ]
        ]
    },
    {
        "id": "f75c37d8.0bea6",
        "type": "comment",
        "name": "Assign / Unassign MAC address in VPE_MAC_ADDRESS_TO_HOSTNAME_MAPPING",
        "info": "",
        "comments": "",
        "x": 437,
        "y": 2028,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "1b82acb5.6564eb",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mac-address-assign: reseouce-resolution-data.status is not PENDING\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1708,
        "y": 2271,
        "z": "79c4dcde.151f74",
        "wires": [
            []
        ]
    },
    {
        "id": "13a4606e.a26088",
        "type": "set",
        "name": "set status to FAILED",
        "xml": "<set>\n<parameter name='$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vf-module-param-index].resource-resolution-data.status' value='FAILED'  />",
        "comments": "",
        "x": 1749,
        "y": 2311,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "53838908.a977d",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1571,
        "y": 2310,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "1b82acb5.6564eb",
                "13a4606e.a26088",
                "bac47969.c95e9"
            ]
        ]
    },
    {
        "id": "f7617ae2.7df4d8",
        "type": "set",
        "name": "set status to FAILED",
        "xml": "<set>\n<parameter name='$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vf-module-param-index].resource-resolution-data.status' value='FAILED'  />",
        "comments": "",
        "x": 1099,
        "y": 2527,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "1ff13884.4c2d17",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mac-address-assign: tmp.mac_address not set\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1058,
        "y": 2488,
        "z": "79c4dcde.151f74",
        "wires": [
            []
        ]
    },
    {
        "id": "bd286ea.4da711",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mac-address-assign: Hostname not found in VPE_MAC_ADDRESS_TO_HOSTNAME_MAPPING on UNASSIGN operation\"/>",
        "comments": "",
        "outputs": 1,
        "x": 893,
        "y": 3309,
        "z": "79c4dcde.151f74",
        "wires": [
            []
        ]
    },
    {
        "id": "8948f92d.f38658",
        "type": "set",
        "name": "set status to FAILED",
        "xml": "<set>\n<parameter name='$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vf-module-param-index].resource-resolution-data.status' value='FAILED'  />",
        "comments": "",
        "x": 934,
        "y": 3348,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "66a0310.f5e39d",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 764,
        "y": 3377,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "bd286ea.4da711",
                "8948f92d.f38658",
                "b6bba451.a5d3e8"
            ]
        ]
    },
    {
        "id": "f47c4e2d.cdfed",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mac-address-assign: Failure deleting from VPE_MAC_ADDRESS_TO_HOSTNAME_MAPPING on UNASSIGN operation\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1155,
        "y": 3412,
        "z": "79c4dcde.151f74",
        "wires": [
            []
        ]
    },
    {
        "id": "7692b063.86ed98",
        "type": "set",
        "name": "set status to FAILED",
        "xml": "<set>\n<parameter name='$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vf-module-param-index].resource-resolution-data.status' value='FAILED'  />",
        "comments": "",
        "x": 1196,
        "y": 3451,
        "z": "79c4dcde.151f74",
        "wires": []
    },
    {
        "id": "2c07581.42c3228",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1024,
        "y": 3451,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "7692b063.86ed98",
                "f47c4e2d.cdfed",
                "acb31915.6f33c8"
            ]
        ]
    },
    {
        "id": "1901da34.2587de",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 902,
        "y": 2227,
        "z": "79c4dcde.151f74",
        "wires": [
            [
                "2501b87c.cdcb38",
                "350b82ae.f02db6",
                "3e155c31.bc775c"
            ]
        ]
    },
    {
        "id": "2501b87c.cdcb38",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mac-address-assign: Unable to access VPE_MAC_ADDRESS_TO_HOSTNAME_MAPPING\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1038,
        "y": 2188,
        "z": "79c4dcde.151f74",
        "wires": [
            []
        ]
    },
    {
        "id": "350b82ae.f02db6",
        "type": "set",
        "name": "set status to FAILED",
        "xml": "<set>\n<parameter name='$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vf-module-param-index].resource-resolution-data.status' value='FAILED'  />",
        "comments": "",
        "x": 1080,
        "y": 2227,
        "z": "79c4dcde.151f74",
        "wires": []
    }
]