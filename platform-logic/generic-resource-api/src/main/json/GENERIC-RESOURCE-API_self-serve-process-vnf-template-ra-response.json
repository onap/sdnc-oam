[{"id":"d6090c0a.e0753","type":"dgstart","name":"DGSTART","outputs":1,"x":121.25,"y":36.25,"z":"82762174.abe83","wires":[["f60513bf.6174"]]},{"id":"f60513bf.6174","type":"service-logic","name":"GENERIC-RESOURCE-API ${project.version}","module":"GENERIC-RESOURCE-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>","outputs":1,"x":397.25,"y":37.25,"z":"82762174.abe83","wires":[["4f2dd461.63980c"]]},{"id":"4f2dd461.63980c","type":"method","name":"self-serve-process-vnf-template-ra-response","xml":"<method rpc='self-serve-process-vnf-template-ra-response' mode='sync'>\n","comments":"","outputs":1,"x":286.75001525878906,"y":91.00000190734863,"z":"82762174.abe83","wires":[["68932e17.3bb2a"]]},{"id":"68932e17.3bb2a","type":"block","name":"block atomic","xml":"<block atomic=\"true\">\n","atomic":"false","comments":"","outputs":1,"x":222.7380599975586,"y":171.86904335021973,"z":"82762174.abe83","wires":[["7eee3cd3.adf7b4","f5ede167.749ad","34309b70.de0e04","f9b3050f.731788","20f44d7b.af9632"]]},{"id":"7eee3cd3.adf7b4","type":"for","name":"for resource-accumulator-resolved-data","xml":"<for silentFailure='true'  index='i' start='0' end='`$jsonContextPrefix.resource-accumulator-resolved-data_length`' >\n","comments":"","outputs":1,"x":537.488037109375,"y":385.1547260284424,"z":"82762174.abe83","wires":[["35fae5cb.4f646a"]]},{"id":"25d03886.9ab038","type":"set","name":"set from resource-accumulator-resolved-data","xml":"<set>\n\t<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$highnum].name`' value='`$jsonContextPrefix.resource-accumulator-resolved-data[$i].param-name`'/>\n\t<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$highnum].value`' value='`$jsonContextPrefix.resource-accumulator-resolved-data[$i].param-value`'/>\n\t<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$highnum].resource-resolution-data.capability-name`' value='RA Resolved'/>\n\t<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$highnum].resource-resolution-data.status`' value='SUCCESS'/>\n","comments":"","x":1806.4880447387695,"y":450.583288192749,"z":"82762174.abe83","wires":[]},{"id":"f5ede167.749ad","type":"for","name":"for capability-data","xml":"<for silentFailure='true' index='i' start='0' end='`$jsonContextPrefix.capability-data_length`' >\n","comments":"","outputs":1,"x":450.3452835083008,"y":694.2975940704346,"z":"82762174.abe83","wires":[["efbc3e4e.04d3c"]]},{"id":"efbc3e4e.04d3c","type":"for","name":"for key-mapping","xml":"<for silentFailure='true' index='j' start='0' end='`$jsonContextPrefix.capability-data[$i].key-mapping_length`' >","comments":"","outputs":1,"x":665.3452835083008,"y":694.2975940704346,"z":"82762174.abe83","wires":[["a57b105d.f7006"]]},{"id":"6175b27f.0affac","type":"for","name":"for vnf-parameters-data.param","xml":"<for silentFailure='true' index='cnt' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param_length`' >\n","comments":"","outputs":1,"x":1529.488037109375,"y":384.1547260284424,"z":"82762174.abe83","wires":[["93a274f.c066b88"]]},{"id":"35fae5cb.4f646a","type":"block","name":"block atomic","xml":"<block atomic=\"true\">","atomic":"false","comments":"","outputs":1,"x":816.488037109375,"y":385.1547260284424,"z":"82762174.abe83","wires":[["da5f0602.8b3b18","f02e2566.844538","a137b478.1330d8"]]},{"id":"93a274f.c066b88","type":"switchNode","name":"switch param[].name: service-data vs resolved-data","xml":"<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$cnt].name == $jsonContextPrefix.resource-accumulator-resolved-data[$i].param-name`'>\n","comments":"","outputs":1,"x":1912.488037109375,"y":384.1547260284424,"z":"82762174.abe83","wires":[["40e6f212.e16f6c"]]},{"id":"40e6f212.e16f6c","type":"not-found","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2222.488037109375,"y":384.1547260284424,"z":"82762174.abe83","wires":[["dac5b948.a12f38"]]},{"id":"a5493932.c14388","type":"set","name":"set param[].value = resolved-data","xml":"<set>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$cnt].value`' value='`$jsonContextPrefix.resource-accumulator-resolved-data[$i].param-value`'/>\n<parameter name='tmp.mso.param.found' value='true' />\n","comments":"","x":2588.488067626953,"y":353.15473079681396,"z":"82762174.abe83","wires":[]},{"id":"a137b478.1330d8","type":"switchNode","name":"switch tmp.mso.param.found","xml":"<switch test='`$tmp.mso.param.found`'>\n","comments":"","outputs":1,"x":1073.488037109375,"y":451.1547260284424,"z":"82762174.abe83","wires":[["809b62f4.2bf5c"]]},{"id":"809b62f4.2bf5c","type":"not-found","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1311.488037109375,"y":451.1547260284424,"z":"82762174.abe83","wires":[["febe6260.562d4"]]},{"id":"da5f0602.8b3b18","type":"set","name":"set tmp.mso.param.found = false","xml":"<set>\n<parameter name='tmp.mso.param.found' value='false' />\n","comments":"","x":1091.238052368164,"y":326.15472984313965,"z":"82762174.abe83","wires":[]},{"id":"f02e2566.844538","type":"switchNode","name":"switch prehighnum > 0","xml":"<switch test='`$prehighnum &gt; 0`'>\n","comments":"","outputs":1,"x":1053.988037109375,"y":385.1547260284424,"z":"82762174.abe83","wires":[["dbaaa27d.ae02d"]]},{"id":"dbaaa27d.ae02d","type":"not-found","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1300.988037109375,"y":385.1547260284424,"z":"82762174.abe83","wires":[["6175b27f.0affac"]]},{"id":"e13da3f1.629a5","type":"for","name":"for payload","xml":"<for silentFailure='true' index='k' start='0' end='`$jsonContextPrefix.capability-data[$i].key-mapping[$j].payload_length`' >","comments":"","outputs":1,"x":1790.3452911376953,"y":719.8690757751465,"z":"82762174.abe83","wires":[["14559e90.eaf311"]]},{"id":"55ead4e7.384f7c","type":"set","name":"set resource-key","xml":"<set>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$highnum].resource-resolution-data.resource-key[$num].name`' value='`$jsonContextPrefix.capability-data[$i].key-mapping[$j].payload[$k].param-name`'/>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$highnum].resource-resolution-data.resource-key[$num].value`' value='`$jsonContextPrefix.capability-data[$i].key-mapping[$j].payload[$k].param-value`'/>\n\n","comments":"","x":2168.34521484375,"y":664.8691024780273,"z":"82762174.abe83","wires":[]},{"id":"4f1cdbf8.b5a114","type":"set","name":"set output-data ","xml":"<set>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$highnum].name`' value='`$jsonContextPrefix.capability-data[$i].key-mapping[$j].output-key-mapping[$l].resource-name`'/>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$highnum].value`' value='`$jsonContextPrefix.capability-data[$i].key-mapping[$j].output-key-mapping[$l].resource-value`'/>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$highnum].resource-resolution-data.capability-name`' value='`$jsonContextPrefix.capability-data[$i].capability-name`'/>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$highnum].resource-resolution-data.status`' value='PENDING'/>\n<parameter name='num' value='0' />","comments":"","x":1351.7737579345703,"y":622.7261741161346,"z":"82762174.abe83","wires":[]},{"id":"a57b105d.f7006","type":"for","name":"for output-key-mapping","xml":"<for silentFailure='true' index='l' start='0' end='`$jsonContextPrefix.capability-data[$i].key-mapping[$j].output-key-mapping_length`' >","comments":"","outputs":1,"x":899.3452835083008,"y":694.2975940704346,"z":"82762174.abe83","wires":[["7b366e85.7fe89"]]},{"id":"7b366e85.7fe89","type":"block","name":"block atomic","xml":"<block atomic=\"true\">","atomic":"false","comments":"","outputs":1,"x":1127.3452835083008,"y":694.2975940704346,"z":"82762174.abe83","wires":[["4f1cdbf8.b5a114","aac50216.6c755","f38e7b6a.1ddc28"]]},{"id":"aac50216.6c755","type":"switchNode","name":"switch payload_length = NULL","xml":"<switch test=\"`$jsonContextPrefix.capability-data[$i].key-mapping[$j].payload_length == ''`\">\n","comments":"","outputs":1,"x":1398.7737579345703,"y":693.7261741161346,"z":"82762174.abe83","wires":[["318068dc.0cf5a8","ebfb92ca.67fc3"]]},{"id":"318068dc.0cf5a8","type":"outcome","name":"true","xml":"<outcome value='true'>","comments":"","outputs":1,"x":1632.7023811340332,"y":662.2262372970581,"z":"82762174.abe83","wires":[[]]},{"id":"ebfb92ca.67fc3","type":"other","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1634.3452911376953,"y":719.8690757751465,"z":"82762174.abe83","wires":[["e13da3f1.629a5"]]},{"id":"7c3030e1.6f6ac","type":"set","name":"set length","xml":"<set>\n\t<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$highnum].resource-resolution-data.resource-key_length`' value='`$num + 1`'/>\n","comments":"","x":2147.3452911376953,"y":718.8690757751465,"z":"82762174.abe83","wires":[]},{"id":"a2fb0d7f.3c324","type":"set","name":"increment length","xml":"<set>\n\t<parameter name='num' value='`$num + 1`' />\n","comments":"","x":2173.916675567627,"y":772.8691272735596,"z":"82762174.abe83","wires":[]},{"id":"f38e7b6a.1ddc28","type":"set","name":"increment length","xml":"<set>\n\t<parameter name='highnum' value='`$highnum + 1`' />\n\n","comments":"","x":1355.2023696899414,"y":773.4404754638672,"z":"82762174.abe83","wires":[]},{"id":"febe6260.562d4","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1488.488037109375,"y":450.1547260284424,"z":"82762174.abe83","wires":[["25d03886.9ab038","a94ea0de.f4e19"]]},{"id":"a94ea0de.f4e19","type":"set","name":"increment length","xml":"<set>\n\t<parameter name='highnum' value='`$highnum + 1`' />\n","comments":"","x":1708.130844116211,"y":514.2618827819824,"z":"82762174.abe83","wires":[]},{"id":"14559e90.eaf311","type":"block","name":"block atomic","xml":"<block atomic=\"true\">","atomic":"false","comments":"","outputs":1,"x":1965.3452911376953,"y":719.8690757751465,"z":"82762174.abe83","wires":[["55ead4e7.384f7c","7c3030e1.6f6ac","a2fb0d7f.3c324"]]},{"id":"34309b70.de0e04","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"DONE: self-serve-process-vnf-template-ra-response\"/>\n\n","comments":"","outputs":1,"x":406.857120513916,"y":947.1428744792938,"z":"82762174.abe83","wires":[[]]},{"id":"f9b3050f.731788","type":"switchNode","name":"switch resource-accumulator-resolved-data_length","xml":"<switch test='`$jsonContextPrefix.resource-accumulator-resolved-data_length`'>\n","comments":"","outputs":1,"x":577.8571166992188,"y":228.5714225769043,"z":"82762174.abe83","wires":[["c36a3cd4.c9a8"]]},{"id":"c36a3cd4.c9a8","type":"not-found","name":"NULL","xml":"<outcome value=''>\n","comments":"","outputs":1,"x":886.4285278320312,"y":228.0000114440918,"z":"82762174.abe83","wires":[["f4d1e67.c040818"]]},{"id":"f4d1e67.c040818","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"resource-accumulator-resolved-data_length is null\" />\n","comments":"","x":1057.428565979004,"y":228.57142066955566,"z":"82762174.abe83","wires":[]},{"id":"934348f8.f445e8","type":"set","name":"set tmp.mso.param.found = true","xml":"<set>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$cnt].value`' value='`$jsonContextPrefix.resource-accumulator-resolved-data[$i].param-value`'/>\n<parameter name='tmp.mso.param.found' value='true' />\n","comments":"","x":2586.2500610351562,"y":410.2500162124634,"z":"82762174.abe83","wires":[]},{"id":"dac5b948.a12f38","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":2362.500030517578,"y":384.00000762939453,"z":"82762174.abe83","wires":[["a5493932.c14388","934348f8.f445e8"]]},{"id":"b48e8695.9725b8","type":"comment","name":"index=cnt","info":"","comments":"","x":1526.25,"y":342.5,"z":"82762174.abe83","wires":[]},{"id":"42c2c025.4ab71","type":"comment","name":"index=i","info":"","comments":"","x":610,"y":337.5,"z":"82762174.abe83","wires":[]},{"id":"20f44d7b.af9632","type":"set","name":"set service-data...param_length","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param_length' \n\tvalue='`$highnum`'/>\n","comments":"","x":496.57144927978516,"y":860.0000114440918,"z":"82762174.abe83","wires":[]}]