[
    {
        "id": "f27e1f9c.d97318",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 136,
        "y": 70,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "673e5ea5.426fa"
            ]
        ]
    },
    {
        "id": "673e5ea5.426fa",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 279.2856903076172,
        "y": 133.09525775909424,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "246f2da4.78363a"
            ]
        ]
    },
    {
        "id": "246f2da4.78363a",
        "type": "method",
        "name": "network-topology-operation-assign",
        "xml": "<method rpc='network-topology-operation-assign' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 254.96437072753906,
        "y": 210.892840385437,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "71b41d61.74a36c"
            ]
        ]
    },
    {
        "id": "71b41d61.74a36c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 214.28572845458984,
        "y": 395.1578025817871,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "9b3f336c.396938",
                "f3aefb27.ac24c",
                "7ef04680.67e908",
                "68cfa21a.ccc8ac",
                "b4d10500.ffd878",
                "3263903c.6b94",
                "84b72e6f.2a5be8"
            ]
        ]
    },
    {
        "id": "9b3f336c.396938",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 503.34532165527344,
        "y": 778.428908675909,
        "z": "f7626759.1f0e48",
        "wires": []
    },
    {
        "id": "b8bc5b09.4e2ab8",
        "type": "switchNode",
        "name": "switch network-request-information.network-name",
        "xml": "<switch test='`$network-topology-operation-input.network-request-input.network-name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1365.5793914794922,
        "y": 698.2224534451962,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "c84914e5.7aee38",
                "fb4cd56.239dc28"
            ]
        ]
    },
    {
        "id": "d624159d.9ccfb",
        "type": "comment",
        "name": "if network-name not populated, generate and call automated flow",
        "info": "",
        "comments": "",
        "x": 1951.9604797363281,
        "y": 621.281824439764,
        "z": "f7626759.1f0e48",
        "wires": []
    },
    {
        "id": "c84914e5.7aee38",
        "type": "other",
        "name": "outcome NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 1796.9844284057617,
        "y": 664.4007714688778,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "57e670f.d12421"
            ]
        ]
    },
    {
        "id": "57e670f.d12421",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1990.317626953125,
        "y": 661.7341164052486,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "cc525306.29c22"
            ]
        ]
    },
    {
        "id": "cc525306.29c22",
        "type": "switchNode",
        "name": "switch network-model.onap-generated-naming",
        "xml": "<switch test='`$network-model.ecomp-generated-naming`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2290.26993560791,
        "y": 660.734105437994,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "2e6a7e9d.a12eea",
                "82c0600b.c20bb8"
            ]
        ]
    },
    {
        "id": "2e6a7e9d.a12eea",
        "type": "other",
        "name": "outcome Y",
        "xml": "<outcome value='Y'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2609.2700386047363,
        "y": 648.7340984344482,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "fdc1e803.4060d"
            ]
        ]
    },
    {
        "id": "fdc1e803.4060d",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">\n",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2778.0200805664062,
        "y": 649.2340869903564,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "4a839017.3f9bc",
                "1c1a2472.491b64",
                "bcaafb19.7c174",
                "ceb9321b.449bc"
            ]
        ]
    },
    {
        "id": "82c0600b.c20bb8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2600.492328643799,
        "y": 681.7340984344482,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "83099d24.9f8a5"
            ]
        ]
    },
    {
        "id": "83099d24.9f8a5",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Network name is required if onap naming is false\" />\n\n",
        "comments": "",
        "x": 2781.992515563965,
        "y": 685.7342141568661,
        "z": "f7626759.1f0e48",
        "wires": []
    },
    {
        "id": "3612a33.9b2ce5c",
        "type": "switchNode",
        "name": "switch network-model.onap-generated-naming",
        "xml": "<switch test='`$network-model.naming-policy`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2770.042922973633,
        "y": 1213.127024024725,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "131de8cd.fc43af",
                "f1190f2c.3cfea",
                "896bb95e.1d0ee",
                "8052cb96.b4d648",
                "ee71d3ca.13f568",
                "c8c8b134.d5e8b"
            ]
        ]
    },
    {
        "id": "f1190f2c.3cfea",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3088.0432891845703,
        "y": 1433.1270688474178,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "b53bf4cc.02b1b8"
            ]
        ]
    },
    {
        "id": "131de8cd.fc43af",
        "type": "other",
        "name": "outcome org.openecomp.policy.naming.SriovProvider.SriovProviderNetwork",
        "xml": "<outcome value='org.openecomp.policy.naming.SriovProvider.SriovProviderNetwork'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3287.154739379883,
        "y": 1359.1271246373653,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "fde0ad46.f25f18"
            ]
        ]
    },
    {
        "id": "b53bf4cc.02b1b8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unknown naming policy = ' \n    + $network-model.naming-policy`\" />\n\n",
        "comments": "",
        "x": 3248.4875507354736,
        "y": 1432.793745368719,
        "z": "f7626759.1f0e48",
        "wires": []
    },
    {
        "id": "ff41cc31.edfee",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3803.0728454589844,
        "y": 1120.210465848446,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "e4d9682e.a6",
                "aaa8419d.3d19c",
                "cc83b5f6.e82358",
                "6d35a068.b2724",
                "96760724.ffe2a",
                "7bfa02d.6ad76fc"
            ]
        ]
    },
    {
        "id": "e4d9682e.a6",
        "type": "set",
        "name": "set nameformat",
        "xml": "<set>\n<parameter name='tmp.network-name-prefix' value='$TenantName_int_$role_net' />\n",
        "comments": "",
        "x": 4315.547813415527,
        "y": 1014.5436511933804,
        "z": "f7626759.1f0e48",
        "wires": []
    },
    {
        "id": "fbae32f0.fd13a8",
        "type": "set",
        "name": "set nameformat",
        "xml": "<set>\n<parameter name='tmp.network-name-prefix' value='$TenantName_$role_net' />\n",
        "comments": "",
        "x": 4313.357772827148,
        "y": 1056.40079459548,
        "z": "f7626759.1f0e48",
        "wires": []
    },
    {
        "id": "fde0ad46.f25f18",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3698.643653869629,
        "y": 1344.8771620690823,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "fbae32f0.fd13a8",
                "aaa8419d.3d19c",
                "cc83b5f6.e82358",
                "6d35a068.b2724",
                "96760724.ffe2a",
                "7bfa02d.6ad76fc"
            ]
        ]
    },
    {
        "id": "896bb95e.1d0ee",
        "type": "other",
        "name": "outcome org.openecomp.policy.naming.ViprProtectedOam.ViprOamProtectedNetwork",
        "xml": "<outcome value='org.openecomp.policy.naming.ViprProtectedOam.ViprOamProtectedNetwork'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3325.9328384399414,
        "y": 1104.460464477539,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "ff41cc31.edfee"
            ]
        ]
    },
    {
        "id": "aaa8419d.3d19c",
        "type": "execute",
        "name": "execute SliStringUtils - replace tenantname",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.network-name-prefix`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.network-name-prefix\"/>\n    <parameter name=\"target\" value=\"$TenantName\"/>\n    <parameter name=\"replacement\" value=\"`$aai.tenant.tenant-name`\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4389.802307128906,
        "y": 1180.067470163107,
        "z": "f7626759.1f0e48",
        "wires": [
            []
        ]
    },
    {
        "id": "cc83b5f6.e82358",
        "type": "execute",
        "name": "execute SliStringUtils - replace role",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.network-name-prefix`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.network-name-prefix\"/>\n    <parameter name=\"target\" value=\"$role\"/>\n    <parameter name=\"replacement\" value=\"`$network-model.network-role`\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4362.802307128906,
        "y": 1215.067470163107,
        "z": "f7626759.1f0e48",
        "wires": [
            []
        ]
    },
    {
        "id": "6d35a068.b2724",
        "type": "get-resource",
        "name": "get-resource NETWORK_INSTANCE_NAME_INDEX",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='SELECT * from NETWORK_INSTANCE_NAME_INDEX WHERE network_instance_name_prefix\n    = $tmp.network-name-prefix'\n  pfx='db.network-name-prefix'>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 4412.469055175781,
        "y": 1251.067470163107,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "17a32744.b869d9"
            ]
        ]
    },
    {
        "id": "96760724.ffe2a",
        "type": "switchNode",
        "name": "switch index-number",
        "xml": "<switch test='`$db.network-name-prefix.index-number`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4318.183395385742,
        "y": 1355.353054612875,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "edca55b7.0140b",
                "e75bfac9.4b861"
            ]
        ]
    },
    {
        "id": "e75bfac9.4b861",
        "type": "other",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 4501.040435791016,
        "y": 1396.7815681397915,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "5f4463af.0577c4"
            ]
        ]
    },
    {
        "id": "edca55b7.0140b",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4502.4689865112305,
        "y": 1312.4958969056606,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "c2dcdcf7.9ad408"
            ]
        ]
    },
    {
        "id": "69bc16b0.e95d1",
        "type": "save",
        "name": "save (insert) name index",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key=\"insert into NETWORK_INSTANCE_NAME_INDEX values ( $tmp.network-name-prefix , 1)\"\n  force='false' pfx='pfx'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4874.255027770996,
        "y": 1419.281955331564,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "1b9834de.3a2dcb"
            ]
        ]
    },
    {
        "id": "5f073250.884cf4",
        "type": "set",
        "name": "increment index number",
        "xml": "<set>\n<parameter name='tmp.index-number' value='`$db.network-name-prefix.index-number+1`' />\n",
        "comments": "",
        "x": 4873.897624969482,
        "y": 1289.6389118134975,
        "z": "f7626759.1f0e48",
        "wires": []
    },
    {
        "id": "5f4463af.0577c4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4659.611980438232,
        "y": 1395.3532119691372,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "39cc1311.b26d34",
                "69bc16b0.e95d1"
            ]
        ]
    },
    {
        "id": "17a32744.b869d9",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4686.754695892334,
        "y": 1249.6388812959194,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "f02ece6c.53274"
            ]
        ]
    },
    {
        "id": "f02ece6c.53274",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error reading the NETWORK_INSTANCE_NAME_INDEX table\" />\n",
        "comments": "",
        "x": 4841.040512084961,
        "y": 1249.6389003694057,
        "z": "f7626759.1f0e48",
        "wires": []
    },
    {
        "id": "39cc1311.b26d34",
        "type": "set",
        "name": "set new index number to 1",
        "xml": "<set>\n<parameter name='tmp.index-number' value='1' />\n",
        "comments": "",
        "x": 4882.469207763672,
        "y": 1373.9245296418667,
        "z": "f7626759.1f0e48",
        "wires": []
    },
    {
        "id": "83e36a29.e04e58",
        "type": "save",
        "name": "save (update) name index",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key=\"update NETWORK_INSTANCE_NAME_INDEX\n       set index_number = $tmp.index-number\n       where network_instance_name_prefix = $db.network-name-prefix.network-instance-name-prefix \"\n  force='false' pfx='pfx'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4881.04056930542,
        "y": 1331.067464441061,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "341561a3.ee33ce"
            ]
        ]
    },
    {
        "id": "c2dcdcf7.9ad408",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4659.611877441406,
        "y": 1311.0673442780972,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "5f073250.884cf4",
                "83e36a29.e04e58"
            ]
        ]
    },
    {
        "id": "341561a3.ee33ce",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5103.897624969482,
        "y": 1331.067464441061,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "9e4a7822.44e668"
            ]
        ]
    },
    {
        "id": "9e4a7822.44e668",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Failed to update SERVICE_INSTANCE_NAME_INDEX table\" />\n",
        "comments": "",
        "x": 5258.183441162109,
        "y": 1331.0674835145473,
        "z": "f7626759.1f0e48",
        "wires": []
    },
    {
        "id": "1b9834de.3a2dcb",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 5102.468925476074,
        "y": 1416.7816768586636,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "7358d2ed.217a8c"
            ]
        ]
    },
    {
        "id": "7358d2ed.217a8c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Failed to insert record into SERVICE_INSTANCE_NAME_INDEX table\" />\n",
        "comments": "",
        "x": 5256.754741668701,
        "y": 1416.78169593215,
        "z": "f7626759.1f0e48",
        "wires": []
    },
    {
        "id": "7bfa02d.6ad76fc",
        "type": "set",
        "name": "set tmp.network-instance-name",
        "xml": "<set>\n<parameter name='tmp.network-instance-name' value=\"`$tmp.network-name-prefix + '_' + $tmp.index-number`\" />\n",
        "comments": "",
        "x": 4355.754192352295,
        "y": 1434.4959779679775,
        "z": "f7626759.1f0e48",
        "wires": []
    },
    {
        "id": "fb4cd56.239dc28",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1777.6138343811035,
        "y": 717.7248501777649,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "5cdb3978.d8bd98"
            ]
        ]
    },
    {
        "id": "f3aefb27.ac24c",
        "type": "get-resource",
        "name": "get-resource tenant",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"tenant\" \n\t\tkey=\"cloud-region.cloud-owner = $prop.cloud-region.cloud-owner AND \n\t\t     cloud-region.cloud-region-id = $network-topology-operation-input.network-request-input.aic-cloud-region AND\n\t\t     tenant.tenant-id = $network-topology-operation-input.network-request-input.tenant\"\n        pfx='aai.tenant' local-only='false' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 551.1653747558594,
        "y": 391.46299585700035,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "904f848e.03d7e8",
                "29978a8d.7757de",
                "25427aba.35dd8e"
            ]
        ]
    },
    {
        "id": "904f848e.03d7e8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 786.7767105102539,
        "y": 395.5740579068661,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "e411b29a.080c8"
            ]
        ]
    },
    {
        "id": "29978a8d.7757de",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 782.1097373962402,
        "y": 428.90737184882164,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "e411b29a.080c8"
            ]
        ]
    },
    {
        "id": "e411b29a.080c8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Tenant not found in AAI\" />\n\n",
        "comments": "",
        "x": 982.9523849487305,
        "y": 403.62962278723717,
        "z": "f7626759.1f0e48",
        "wires": []
    },
    {
        "id": "6e9937dc.ab4648",
        "type": "set",
        "name": "set tmp.network-instance-name",
        "xml": "<set>\n<parameter name='tmp.network-instance-name' value=\"`$network-topology-operation-input.network-request-input.network-name`\" />\n<parameter name='tmp.l3-network.network-name' value=\"`$network-topology-operation-input.network-request-input.network-name`\" />\n",
        "comments": "",
        "x": 2246.085075378418,
        "y": 710.7248662412167,
        "z": "f7626759.1f0e48",
        "wires": []
    },
    {
        "id": "5cdb3978.d8bd98",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1976.132396697998,
        "y": 717.7248196601868,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "6e9937dc.ab4648",
                "e825a0f6.b8dc18"
            ]
        ]
    },
    {
        "id": "beabd13e.11efe8",
        "type": "call",
        "name": "call generate-l3network-network-id",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='generate-l3network-network-id' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1205.2795639038086,
        "y": 482.54109224677086,
        "z": "f7626759.1f0e48",
        "wires": [
            []
        ]
    },
    {
        "id": "25427aba.35dd8e",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 782.2857437133789,
        "y": 364.0000222623348,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "ff829128.f8f2b"
            ]
        ]
    },
    {
        "id": "ff829128.f8f2b",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 974.7857437133789,
        "y": 364.75003084540367,
        "z": "f7626759.1f0e48",
        "wires": [
            []
        ]
    },
    {
        "id": "8052cb96.b4d648",
        "type": "other",
        "name": "outcome oam_vipr_protected_network",
        "xml": "<outcome value='oam_vipr_protected_network'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3180.376640319824,
        "y": 1141.324143409729,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "ff41cc31.edfee"
            ]
        ]
    },
    {
        "id": "ee71d3ca.13f568",
        "type": "other",
        "name": "outcome network_without_route_tags_naming_default",
        "xml": "<outcome value='network_without_route_tags_naming_default'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3227.043312072754,
        "y": 1177.9908113479614,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "ff41cc31.edfee"
            ]
        ]
    },
    {
        "id": "c8c8b134.d5e8b",
        "type": "other",
        "name": "outcome sriov_provider_network",
        "xml": "<outcome value='sriov_provider_network'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3159.710159301758,
        "y": 1392.657508701086,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "fde0ad46.f25f18"
            ]
        ]
    },
    {
        "id": "e2081c6a.f9d938",
        "type": "other",
        "name": "outcome oam_atm_u_landing_network",
        "xml": "<outcome value='oam_atm_u_landing_network'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3173.709831237793,
        "y": 1219.657470703125,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "fde0ad46.f25f18"
            ]
        ]
    },
    {
        "id": "b608a734.591c08",
        "type": "other",
        "name": "outcome oam_atm_p_landing_network",
        "xml": "<outcome value='oam_atm_p_landing_network'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3172.0430068969727,
        "y": 1254.6574726104736,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "fde0ad46.f25f18"
            ]
        ]
    },
    {
        "id": "309e772e.ec79a8",
        "type": "other",
        "name": "outcome oam_aim_landing_network",
        "xml": "<outcome value='oam_aim_landing_network'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3165.3768463134766,
        "y": 1286.3241415023804,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "fde0ad46.f25f18"
            ]
        ]
    },
    {
        "id": "158aa8e.2ac8857",
        "type": "other",
        "name": "outcome network_with_route_tags_naming_default",
        "xml": "<outcome value='network_with_route_tags_naming_default'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3210.3769302368164,
        "y": 1319.6574659347534,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "fde0ad46.f25f18"
            ]
        ]
    },
    {
        "id": "37919e76.a40362",
        "type": "comment",
        "name": "Changelog",
        "info": "1707: Change vpn binding from field to table selection\n1710: Add ipv6 vipr flows\n1806: Separate out to automated vs preload vs vlan tagging",
        "comments": "",
        "x": 348.8571472167969,
        "y": 70.00000667572021,
        "z": "f7626759.1f0e48",
        "wires": []
    },
    {
        "id": "7ef04680.67e908",
        "type": "execute",
        "name": "execute Properties - pull properties file",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
        "comments": "",
        "outputs": 1,
        "x": 613.571533203125,
        "y": 234.71820068359375,
        "z": "f7626759.1f0e48",
        "wires": [
            []
        ]
    },
    {
        "id": "b7d0dba.9d98128",
        "type": "comment",
        "name": "Pre-1806 naming logic",
        "info": "",
        "comments": "",
        "x": 2691.0712890625,
        "y": 1180.8254249989986,
        "z": "f7626759.1f0e48",
        "wires": []
    },
    {
        "id": "4a839017.3f9bc",
        "type": "call",
        "name": "call naming-policy-generate-name",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='naming-policy-generate-name' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3056.1788177490234,
        "y": 687.0039323270321,
        "z": "f7626759.1f0e48",
        "wires": [
            []
        ]
    },
    {
        "id": "1c1a2472.491b64",
        "type": "set",
        "name": "set parameters for generate-unique-name",
        "xml": "<set>\n<parameter name='naming-policy-generate-name-input.policy-instance-name' value='`$network-model.naming-policy`' />\n<parameter name='naming-policy-generate-name-input.context-id' value='`$tmp.l3-network.network-id`' />\n<parameter name='naming-policy-generate-name-input.naming-type' value='NETWORK' />\n<parameter name='naming-policy-generate-name-input.action' value='ASSIGN' />\n<parameter name='naming-policy-generate-name-input.query-parameter' value='`$network-model.customization-uuid`' />\n\n\n",
        "comments": "",
        "x": 3078.9291076660156,
        "y": 649.004013389349,
        "z": "f7626759.1f0e48",
        "wires": []
    },
    {
        "id": "bcaafb19.7c174",
        "type": "set",
        "name": "set network name",
        "xml": "<set>\n<parameter name='tmp.network-instance-name' value='`$naming-policy-generate-name-output.network-name`' />\n<parameter name='tmp.l3-network.network-name' value='`$naming-policy-generate-name-output.network-name`' />\n\n\n\n",
        "comments": "",
        "x": 3005.428871154785,
        "y": 722.0039304196835,
        "z": "f7626759.1f0e48",
        "wires": []
    },
    {
        "id": "e825a0f6.b8dc18",
        "type": "call",
        "name": "call network-topology-operation-assign-from-preload",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='network-topology-operation-assign-from-preload' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2310.2148056030273,
        "y": 745.4324515759945,
        "z": "f7626759.1f0e48",
        "wires": [
            []
        ]
    },
    {
        "id": "ceb9321b.449bc",
        "type": "call",
        "name": "call network-topology-operation-assign-automated",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='network-topology-operation-assign-automated' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3109.341377258301,
        "y": 759.5833495557308,
        "z": "f7626759.1f0e48",
        "wires": [
            []
        ]
    },
    {
        "id": "68cfa21a.ccc8ac",
        "type": "set",
        "name": "set tmp.l3-network.network-id",
        "xml": "<set>\n<parameter name='tmp.l3-network.network-id' value='`$tmp.return.generate-l3network-network-id.uuid`' />\n<parameter name='network-topology-operation-input.network-information.network-id' value='`$tmp.return.generate-l3network-network-id.uuid`' />",
        "comments": "",
        "x": 553.7461700439453,
        "y": 567.2500842511654,
        "z": "f7626759.1f0e48",
        "wires": []
    },
    {
        "id": "b4d10500.ffd878",
        "type": "switchNode",
        "name": "switch network-request-information.network-id",
        "xml": "<switch test='`$network-topology-operation-input.network-information.network-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 603.2500610351562,
        "y": 521.0039370954037,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "4df8cf8b.1e5c5",
                "18c448e9.39f4e7"
            ]
        ]
    },
    {
        "id": "4df8cf8b.1e5c5",
        "type": "other",
        "name": "outcome NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 932.25,
        "y": 484.0039218366146,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "beabd13e.11efe8"
            ]
        ]
    },
    {
        "id": "18c448e9.39f4e7",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 912.8794059753418,
        "y": 523.3280005455017,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "94dc122e.274e2"
            ]
        ]
    },
    {
        "id": "94dc122e.274e2",
        "type": "set",
        "name": "set network-id",
        "xml": "<set>\n<parameter name='tmp.return.generate-l3network-network-id.uuid' value='`$network-topology-operation-input.network-information.network-id`' />\n\n\n\n",
        "comments": "",
        "x": 1135.25,
        "y": 522.7540283203125,
        "z": "f7626759.1f0e48",
        "wires": []
    },
    {
        "id": "dfd8e2c0.78de",
        "type": "comment",
        "name": "if network-instance-group-id populated, follow vlan tagging flow",
        "info": "",
        "comments": "",
        "x": 658.1445465087891,
        "y": 667.2913134992123,
        "z": "f7626759.1f0e48",
        "wires": []
    },
    {
        "id": "3263903c.6b94",
        "type": "switchNode",
        "name": "switch network-request-information.network-instance-group-id",
        "xml": "<switch test='`$network-topology-operation-input.network-information.network-instance-group-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 656.8627166748047,
        "y": 702.1563418805599,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "72caf76f.2434e8",
                "1dcadd0a.e4009b"
            ]
        ]
    },
    {
        "id": "72caf76f.2434e8",
        "type": "other",
        "name": "outcome NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 1039.5732421875,
        "y": 700.148541778326,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "b8bc5b09.4e2ab8"
            ]
        ]
    },
    {
        "id": "1dcadd0a.e4009b",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1020.2026481628418,
        "y": 739.4726204872131,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "31333b50.2b503c"
            ]
        ]
    },
    {
        "id": "31333b50.2b503c",
        "type": "call",
        "name": "call network-topology-operation-assign-vlantagging-instancegroup",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='network-topology-operation-assign-vlantagging-instancegroup' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1421.0737915039062,
        "y": 741.2916396558285,
        "z": "f7626759.1f0e48",
        "wires": [
            []
        ]
    },
    {
        "id": "8adceb6d.b283",
        "type": "comment",
        "name": "if network-name not populated, generate and call automated flow",
        "info": "",
        "comments": "",
        "x": 1968.1310729980469,
        "y": 812.3133433759212,
        "z": "f7626759.1f0e48",
        "wires": []
    },
    {
        "id": "84b72e6f.2a5be8",
        "type": "switchNode",
        "name": "switch input.network-request-input.cloud-owner not null",
        "xml": "<switch test=\"`$input.network-request-input.cloud-owner != ''`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 645,
        "y": 293,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "1c0566f1.42bce1"
            ]
        ]
    },
    {
        "id": "1c0566f1.42bce1",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 942,
        "y": 293,
        "z": "f7626759.1f0e48",
        "wires": [
            [
                "7511de9c.d482d"
            ]
        ]
    },
    {
        "id": "7511de9c.d482d",
        "type": "set",
        "name": "set prop.cloud-region.cloud-owner to input.network-request-input.cloud-owner",
        "xml": "<set>\n<parameter name='prop.cloud-region.cloud-owner' value='`$input.network-request-input.cloud-owner`' />\n",
        "comments": "",
        "x": 1349,
        "y": 294,
        "z": "f7626759.1f0e48",
        "wires": []
    }
]