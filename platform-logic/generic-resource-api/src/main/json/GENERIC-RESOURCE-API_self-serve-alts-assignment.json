[{"id":"538cd7ac.e4e838","type":"dgstart","name":"DGSTART","outputs":1,"x":121.66666412353516,"y":104.33333614189178,"z":"286c7310.cdd10c","wires":[["b6a60d0e.5122b"]]},{"id":"b6a60d0e.5122b","type":"service-logic","name":"GENERIC-RESOURCE-API ${project.version}","module":"GENERIC-RESOURCE-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>","outputs":1,"x":400.66666412353516,"y":107.33333614189178,"z":"286c7310.cdd10c","wires":[["9b40f573.5fac28"]]},{"id":"9b40f573.5fac28","type":"method","name":"self-serve-alts-assignment","xml":"<method rpc='self-serve-alts-assignment' mode='sync'>\n","comments":"","outputs":1,"x":709.6666641235352,"y":108.33333614189178,"z":"286c7310.cdd10c","wires":[["212c8187.a7ba6e"]]},{"id":"212c8187.a7ba6e","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":929.6666641235352,"y":108.33333614189178,"z":"286c7310.cdd10c","wires":[["48f24181.07d54","546451e2.2f0fa"]]},{"id":"48f24181.07d54","type":"switchNode","name":"switch","xml":"<switch test='`$ss.capability-name`'>\n","comments":"","outputs":1,"x":143.66668701171875,"y":726.333358076401,"z":"286c7310.cdd10c","wires":[["820fb9b3.290978","690f53f8.f0534c"]]},{"id":"820fb9b3.290978","type":"outcome","name":"alts-license-assign","xml":"<outcome value='alts-license-assign'>\n","comments":"","outputs":1,"x":397.66668701171875,"y":691.333358076401,"z":"286c7310.cdd10c","wires":[["a9fcb058.2b2ab"]]},{"id":"ea8b54a3.deaa28","type":"comment","name":"ss.capability-name","info":"","comments":"","x":156.66668701171875,"y":681.333358076401,"z":"286c7310.cdd10c","wires":[]},{"id":"690f53f8.f0534c","type":"outcome","name":"alts-entitlement-assign","xml":"<outcome value='alts-entitlement-assign'>\n","comments":"","outputs":1,"x":388.66668701171875,"y":856.333358076401,"z":"286c7310.cdd10c","wires":[["42c048a2.4cfe98"]]},{"id":"951615e6.14c858","type":"outcome","name":"assign","xml":"<outcome value='assign'>\n","comments":"","outputs":1,"x":792.6666793823242,"y":604.3333339691162,"z":"286c7310.cdd10c","wires":[["34ba4208.49815e"]]},{"id":"d55d5ccc.21ddd","type":"comment","name":"ss.capability-action","info":"","comments":"","x":598.6666793823242,"y":643.3333339691162,"z":"286c7310.cdd10c","wires":[]},{"id":"a9fcb058.2b2ab","type":"switchNode","name":"switch","xml":"<switch test='`$ss.capability-action`'>\n","comments":"","outputs":1,"x":591.6666793823242,"y":688.3333339691162,"z":"286c7310.cdd10c","wires":[["951615e6.14c858","55b05be5.bc2944"]]},{"id":"42c048a2.4cfe98","type":"switchNode","name":"switch","xml":"<switch test='`$ss.capability-action`'>\n","comments":"","outputs":1,"x":594.6666793823242,"y":860.3333339691162,"z":"286c7310.cdd10c","wires":[["19d57d07.ba97e3","88fb0f29.e3736"]]},{"id":"d737ce7f.e1949","type":"comment","name":"ss.capability-action","info":"","comments":"","x":600.6666793823242,"y":813.3333339691162,"z":"286c7310.cdd10c","wires":[]},{"id":"19d57d07.ba97e3","type":"outcome","name":"assign","xml":"<outcome value='assign'>\n","comments":"","outputs":1,"x":770.6666793823242,"y":867.3333339691162,"z":"286c7310.cdd10c","wires":[["18dfd4c5.b0971b"]]},{"id":"55b05be5.bc2944","type":"outcome","name":"unassign","xml":"<outcome value='unassign'>\n","comments":"","outputs":1,"x":782.6666793823242,"y":693.3333339691162,"z":"286c7310.cdd10c","wires":[["e89499eb.c02448"]]},{"id":"88fb0f29.e3736","type":"outcome","name":"unassign","xml":"<outcome value='unassign'>\n","comments":"","outputs":1,"x":768.6666793823242,"y":979.3333339691162,"z":"286c7310.cdd10c","wires":[["74e40d87.52a7f4"]]},{"id":"34ba4208.49815e","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":957.6666793823242,"y":605.3333339691162,"z":"286c7310.cdd10c","wires":[["5f671562.c77cac","1657a887.c933a7"]]},{"id":"e89499eb.c02448","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":954.6666793823242,"y":695.3333339691162,"z":"286c7310.cdd10c","wires":[["5f671562.c77cac","2e0c3d6f.800742"]]},{"id":"18dfd4c5.b0971b","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":931.6666793823242,"y":859.3333339691162,"z":"286c7310.cdd10c","wires":[["5f671562.c77cac","302f4895.fbcbd8"]]},{"id":"74e40d87.52a7f4","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":936.6666793823242,"y":977.3333339691162,"z":"286c7310.cdd10c","wires":[["5f671562.c77cac","e8d8c65a.364bb8"]]},{"id":"302f4895.fbcbd8","type":"execute","name":"execute: ALTS | acquireEntitlement","xml":"<execute plugin=\"com.att.sdnctl.sli.plugin.altsTools.AltsTools\" method=\"acquireEntitlement\" >\n\t<parameter name=\"error-prefix\" value=\"alts.error\" />\n\t<parameter name=\"prefix\" value=\"alts.resp\" />\n\t<parameter name=\"assignment-group\" value=\"`$alts.entitlement-assignment-group-uuid`\" />\n\t<parameter name=\"hostname\" value=\"`$alts.vnf-name`\" />\n\t<parameter name=\"vnf-id\" value=\"`$alts.vnf-id`\" />","comments":"","outputs":1,"x":1256.6666793823242,"y":1080.3333339691162,"z":"286c7310.cdd10c","wires":[["23d2ef2a.c5e44","b784e140.74b3c","346610a2.13765","c08c1860.7773e8"]]},{"id":"1657a887.c933a7","type":"execute","name":"execute: ALTS | acquireLicense","xml":"<execute plugin=\"com.att.sdnctl.sli.plugin.altsTools.AltsTools\" method=\"acquireLicense\" >\n\t<parameter name=\"error-prefix\" value=\"alts.error\" />\n\t<parameter name=\"prefix\" value=\"alts.resp\" />\n\t<parameter name=\"assignment-group\" value=\"`$alts.license-assignment-group-uuid`\" />\n\t<parameter name=\"hostname\" value=\"`$alts.vnf-name`\" />\n\t<parameter name=\"vnf-id\" value=\"`$alts.vnf-id`\" />","comments":"","outputs":1,"x":1242.6666793823242,"y":599.3333857329562,"z":"286c7310.cdd10c","wires":[["2b235696.f5cbca","6707d825.519d08","312d7131.c4857e","11bc7499.5addeb"]]},{"id":"2e0c3d6f.800742","type":"execute","name":"execute: ALTS | releaseLicense","xml":"<execute plugin=\"com.att.sdnctl.sli.plugin.altsTools.AltsTools\" method=\"releaseLicense\" >\n\t<parameter name=\"asset-uuid\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$license-key-index].value`\" />\n\t<parameter name=\"error-prefix\" value=\"alts.error\" />\n\t<parameter name=\"prefix\" value=\"alts.resp\" />\n\t<parameter name=\"assignment-group\" value=\"`$alts.license-assignment-group-uuid`\" />\n\t<parameter name=\"hostname\" value=\"`$alts.vnf-name`\" />\n\t<parameter name=\"vnf-id\" value=\"`$alts.vnf-id`\" />","comments":"","outputs":1,"x":1246.6666793823242,"y":831.3333339691162,"z":"286c7310.cdd10c","wires":[["cffb738f.d3e14","182f6475.71abbc","538cfad8.9862e4","f53e9824.4d5f38"]]},{"id":"e8d8c65a.364bb8","type":"execute","name":"execute: ALTS | releaseEntitlement","xml":"<execute plugin=\"com.att.sdnctl.sli.plugin.altsTools.AltsTools\" method=\"releaseEntitlement\" >\n\t<parameter name=\"asset-uuid\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$entitlement-key-index].value`\" />\n\t<parameter name=\"error-prefix\" value=\"alts.error\" />\n\t<parameter name=\"prefix\" value=\"alts.resp\" />\n\t<parameter name=\"assignment-group\" value=\"`$alts.entitlement-assignment-group-uuid`\" />\n\t<parameter name=\"hostname\" value=\"`$alts.vnf-name`\" />\n\t<parameter name=\"vnf-id\" value=\"`$alts.vnf-id`\" />","comments":"","outputs":1,"x":1252.6666793823242,"y":1342.3333339691162,"z":"286c7310.cdd10c","wires":[["8eb7dea7.c2113","a16410b2.8840c","d9970af0.ce0108","1112b9b6.25f546"]]},{"id":"ffa0d472.5ddc98","type":"for","name":"for i","xml":"<for index=\"i\" start=\"0\" end=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param_length`\" >\n","comments":"","outputs":1,"x":1824.6666793823242,"y":222.3333339691162,"z":"286c7310.cdd10c","wires":[["e47e95a0.80af78"]]},{"id":"5f671562.c77cac","type":"switchNode","name":"switch vnf-index","xml":"<switch test='`$vnf-index`'>\n","comments":"","outputs":1,"x":1274.6666793823242,"y":200.3333339691162,"z":"286c7310.cdd10c","wires":[["45934292.a00acc","eb9392d7.fd3c3"]]},{"id":"eb9392d7.fd3c3","type":"outcome","name":"Null","xml":"<outcome value=''>\n","comments":"","outputs":1,"x":1439.6666793823242,"y":179.3333339691162,"z":"286c7310.cdd10c","wires":[["fea279cf.9530a8"]]},{"id":"45934292.a00acc","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1446.6666793823242,"y":255.3333339691162,"z":"286c7310.cdd10c","wires":[["30a8c6cf.85beaa"]]},{"id":"fea279cf.9530a8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value='vnf-index is required' />\n","comments":"","x":1602.6666793823242,"y":179.3333339691162,"z":"286c7310.cdd10c","wires":[]},{"id":"e47e95a0.80af78","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1976.6666793823242,"y":219.3333339691162,"z":"286c7310.cdd10c","wires":[["e270ca03.bda1a8"]]},{"id":"e270ca03.bda1a8","type":"switchNode","name":"switch","xml":"<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$i].resource-resolution-data.capability-name`'>\n","comments":"","outputs":1,"x":2127.666679382324,"y":217.3333339691162,"z":"286c7310.cdd10c","wires":[["52af8672.953498","d5ef0c5e.bd4cc"]]},{"id":"6cf56727.02a0b8","type":"comment","name":"set index of param where capability-name matched","info":"","comments":"","x":2669.666679382324,"y":43.33333396911621,"z":"286c7310.cdd10c","wires":[]},{"id":"52af8672.953498","type":"outcome","name":"alts-license-assign","xml":"<outcome value='alts-license-assign'>\n","comments":"","outputs":1,"x":2387.666679382324,"y":157.3333339691162,"z":"286c7310.cdd10c","wires":[["1cf8bf64.00b6a1"]]},{"id":"1b525450.3e3aec","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":2649.666778564453,"y":229.33333423454314,"z":"286c7310.cdd10c","wires":[["26874fa2.dfa36"]]},{"id":"30a8c6cf.85beaa","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1598.6666793823242,"y":254.3333339691162,"z":"286c7310.cdd10c","wires":[["ffa0d472.5ddc98","23230146.7736de","48988c01.f3fd04","aa39eb6c.c5e868"]]},{"id":"26874fa2.dfa36","type":"set","name":"set","xml":"<set>\n<parameter name='entitlement-param-index' value='`$i`' />\n\n","comments":"","x":2816.666893005371,"y":230.33333423454314,"z":"286c7310.cdd10c","wires":[]},{"id":"aa39eb6c.c5e868","type":"for","name":"for j","xml":"<for index=\"j\" start=\"0\" end=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$param-index].resource-resolution-data.resource-key_length`\" >\n","comments":"","outputs":1,"x":1793.6672439575195,"y":455.3335764678195,"z":"286c7310.cdd10c","wires":[["c6d4b289.240f3"]]},{"id":"c6d4b289.240f3","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1977.6674537658691,"y":458.3335974486545,"z":"286c7310.cdd10c","wires":[["34e115d8.bacada"]]},{"id":"34e115d8.bacada","type":"switchNode","name":"switch","xml":"<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$param-index].resource-resolution-data.resource-key[$j].name`'>\n","comments":"","outputs":1,"x":2177.667308807373,"y":470.33351543266326,"z":"286c7310.cdd10c","wires":[["ba6e0cb6.6cd38","9a7e702.850fb9","1d3892fe.00223d","9a3ea77b.bb92e8"]]},{"id":"ba6e0cb6.6cd38","type":"outcome","name":"vnf-id","xml":"<outcome value='vnf-id'>\n","comments":"","outputs":1,"x":2373.6671447753906,"y":419.3335593016818,"z":"286c7310.cdd10c","wires":[["4129aab8.79d774"]]},{"id":"4129aab8.79d774","type":"set","name":"set alts-vnf-id","xml":"<set>\n<parameter name='alts.vnf-id' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$param-index].resource-resolution-data.resource-key[$j].value`' />\n","comments":"","x":2701.6669883728027,"y":416.3335631163791,"z":"286c7310.cdd10c","wires":[]},{"id":"9a7e702.850fb9","type":"outcome","name":"license-assignment-group-uuid","xml":"<outcome value='license-assignment-group-uuid'>\n","comments":"","outputs":1,"x":2444.667064666748,"y":564.3336108000949,"z":"286c7310.cdd10c","wires":[["a67c843d.786048"]]},{"id":"a67c843d.786048","type":"set","name":"set alts.license-assignment-group-uuid","xml":"<set>\n<parameter name='alts.license-assignment-group-uuid' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$param-index].resource-resolution-data.resource-key[$j].value`' />\n","comments":"","x":2779.666946411133,"y":561.3336279662326,"z":"286c7310.cdd10c","wires":[]},{"id":"1d3892fe.00223d","type":"outcome","name":"entitlement-assignment-group-uuid","xml":"<outcome value='entitlement-assignment-group-uuid'>\n","comments":"","outputs":1,"x":2451.667064666748,"y":613.3336108000949,"z":"286c7310.cdd10c","wires":[["db6298b7.0a6e98"]]},{"id":"db6298b7.0a6e98","type":"set","name":"set alts.entitlement-assignment-group-uuid","xml":"<set>\n<parameter name='alts.entitlement-assignment-group-uuid' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$param-index].resource-resolution-data.resource-key[$j].value`' />\n","comments":"","x":2794.6669387817383,"y":614.3336127074435,"z":"286c7310.cdd10c","wires":[]},{"id":"2b235696.f5cbca","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":1497.6666793823242,"y":548.3333339691162,"z":"286c7310.cdd10c","wires":[["994c2f16.8a1b1"]]},{"id":"6707d825.519d08","type":"failure","name":"failure","xml":"<outcome value=\"failure\">","comments":"","outputs":1,"x":1485.6666793823242,"y":639.3333339691162,"z":"286c7310.cdd10c","wires":[["a63676a3.61d498"]]},{"id":"11bc7499.5addeb","type":"outcome","name":"unsupported-method","xml":"<outcome value=\"unsupported-method\">","comments":"","outputs":1,"x":1528.6666793823242,"y":713.3333339691162,"z":"286c7310.cdd10c","wires":[["5638b6.12ee774c"]]},{"id":"312d7131.c4857e","type":"not-found","name":"not-found","xml":"<outcome value=\"not-found\">","comments":"","outputs":1,"x":1493.6666793823242,"y":678.3333339691162,"z":"286c7310.cdd10c","wires":[["d15f0240.536"]]},{"id":"994c2f16.8a1b1","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1695.6666793823242,"y":551.3333339691162,"z":"286c7310.cdd10c","wires":[["b09f5198.a8e09","c63d2fea.0f0b8"]]},{"id":"b09f5198.a8e09","type":"set","name":"set license-key and status SUCCESS","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$license-key-index].value' value='`$alts.resp.license-key`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$param-index].resource-resolution-data.status' value='SUCCESS' />","comments":"","x":1943.6666793823242,"y":551.3333339691162,"z":"286c7310.cdd10c","wires":[]},{"id":"cffb738f.d3e14","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":1481.6666793823242,"y":779.3333339691162,"z":"286c7310.cdd10c","wires":[["cdf928f9.cabf28"]]},{"id":"d5ef0c5e.bd4cc","type":"outcome","name":"alts-entitlement-assign","xml":"<outcome value='alts-entitlement-assign'>\n","comments":"","outputs":1,"x":2374.666816711426,"y":233.33332183677703,"z":"286c7310.cdd10c","wires":[["1b525450.3e3aec"]]},{"id":"23230146.7736de","type":"for","name":"for k","xml":"<for index=\"k\" start=\"0\" end=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param_length`\" >\n","comments":"","outputs":1,"x":1831.6667404174805,"y":272.3333304198459,"z":"286c7310.cdd10c","wires":[["7693c154.165c8"]]},{"id":"7693c154.165c8","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1982.6669464111328,"y":271.3333437712863,"z":"286c7310.cdd10c","wires":[["ba173b93.aee018"]]},{"id":"ba173b93.aee018","type":"switchNode","name":"switch","xml":"<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$k].name`'>\n","comments":"","outputs":1,"x":2132.667022705078,"y":274.3333304198459,"z":"286c7310.cdd10c","wires":[["c33234f3.fe5878","b13767a2.79ad38"]]},{"id":"c33234f3.fe5878","type":"outcome","name":"license-key","xml":"<outcome value='license-key'>\n","comments":"","outputs":1,"x":2284.666976928711,"y":271.3333437712863,"z":"286c7310.cdd10c","wires":[["41a8f087.f3d15"]]},{"id":"b13767a2.79ad38","type":"outcome","name":"entitlement-key","xml":"<outcome value='entitlement-key'>\n","comments":"","outputs":1,"x":2294.667411804199,"y":312.3333246978,"z":"286c7310.cdd10c","wires":[["528e7d4f.db7234"]]},{"id":"41a8f087.f3d15","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":2454.6667671203613,"y":278.3333380492404,"z":"286c7310.cdd10c","wires":[["a9c985a9.a26578"]]},{"id":"a9c985a9.a26578","type":"set","name":"set license-key-index","xml":"<set>\n<parameter name='license-key-index' value='`$k`' />\n\n","comments":"","x":2643.6670989990234,"y":280.33332279045135,"z":"286c7310.cdd10c","wires":[]},{"id":"8b5c7731.87ead8","type":"comment","name":"set index of param where name=license-key","info":"","comments":"","x":2444.666679382324,"y":117.33333396911621,"z":"286c7310.cdd10c","wires":[]},{"id":"528e7d4f.db7234","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":2447.6668739318848,"y":330.33333995658904,"z":"286c7310.cdd10c","wires":[["ea3ae835.e585b8"]]},{"id":"9aef692e.8c4698","type":"comment","name":"set index of param where name=entitlement-key","info":"","comments":"","x":2428.666862487793,"y":196.3333485396579,"z":"286c7310.cdd10c","wires":[]},{"id":"ea3ae835.e585b8","type":"set","name":"set entitlement-key-index","xml":"<set>\n<parameter name='entitlement-key-index' value='`$k`' />\n\n","comments":"","x":2654.6668853759766,"y":324.3333266051486,"z":"286c7310.cdd10c","wires":[]},{"id":"cdf928f9.cabf28","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1636.6666793823242,"y":777.3333339691162,"z":"286c7310.cdd10c","wires":[["b6e44c24.9fe6e","5068b14e.33c3c"]]},{"id":"a63676a3.61d498","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1697.6666793823242,"y":639.3333339691162,"z":"286c7310.cdd10c","wires":[["53a528f6.3cbc98"]]},{"id":"53a528f6.3cbc98","type":"set","name":"set status FAILED","xml":"<set>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$param-index].resource-resolution-data.status`' value='FAILED' />","comments":"","x":1875.6666793823242,"y":639.3333339691162,"z":"286c7310.cdd10c","wires":[]},{"id":"d15f0240.536","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1697.6666793823242,"y":678.3333339691162,"z":"286c7310.cdd10c","wires":[["315477fc.f96578"]]},{"id":"5638b6.12ee774c","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1699.6666793823242,"y":714.3333339691162,"z":"286c7310.cdd10c","wires":[["dc230fab.264cd"]]},{"id":"315477fc.f96578","type":"set","name":"set status FAILED","xml":"<set>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$param-index].resource-resolution-data.status`' value='FAILED' />","comments":"","x":1872.6666793823242,"y":679.3333339691162,"z":"286c7310.cdd10c","wires":[]},{"id":"dc230fab.264cd","type":"set","name":"set status FAILED","xml":"<set>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$param-index].resource-resolution-data.status`' value='FAILED' />","comments":"","x":1873.6666793823242,"y":716.3333339691162,"z":"286c7310.cdd10c","wires":[]},{"id":"b6e44c24.9fe6e","type":"set","name":"set status DELETED","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$param-index].resource-resolution-data.status' value='DELETED' />","comments":"","x":1861.6666793823242,"y":777.3333339691162,"z":"286c7310.cdd10c","wires":[]},{"id":"182f6475.71abbc","type":"failure","name":"failure","xml":"<outcome value=\"failure\">","comments":"","outputs":1,"x":1481.6666793823242,"y":844.3333339691162,"z":"286c7310.cdd10c","wires":[["15bfa05a.863f2"]]},{"id":"f53e9824.4d5f38","type":"outcome","name":"unsupported-method","xml":"<outcome value=\"unsupported-method\">","comments":"","outputs":1,"x":1524.6666793823242,"y":918.3333339691162,"z":"286c7310.cdd10c","wires":[["e5fc309.50a3dd"]]},{"id":"538cfad8.9862e4","type":"not-found","name":"not-found","xml":"<outcome value=\"not-found\">","comments":"","outputs":1,"x":1489.6666793823242,"y":883.3333339691162,"z":"286c7310.cdd10c","wires":[["8c3ff397.82f37"]]},{"id":"15bfa05a.863f2","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1693.6666793823242,"y":844.3333339691162,"z":"286c7310.cdd10c","wires":[["f496709e.43fbc"]]},{"id":"8c3ff397.82f37","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1693.6666793823242,"y":883.3333339691162,"z":"286c7310.cdd10c","wires":[["f496709e.43fbc"]]},{"id":"e5fc309.50a3dd","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1695.6666793823242,"y":919.3333339691162,"z":"286c7310.cdd10c","wires":[["f496709e.43fbc"]]},{"id":"23d2ef2a.c5e44","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":1514.6666793823242,"y":1005.3333339691162,"z":"286c7310.cdd10c","wires":[["5d069c48.2ab334"]]},{"id":"b784e140.74b3c","type":"failure","name":"failure","xml":"<outcome value=\"failure\">","comments":"","outputs":1,"x":1502.6666793823242,"y":1096.3333339691162,"z":"286c7310.cdd10c","wires":[["8a1f3c9d.c900c"]]},{"id":"c08c1860.7773e8","type":"outcome","name":"unsupported-method","xml":"<outcome value=\"unsupported-method\">","comments":"","outputs":1,"x":1545.6666793823242,"y":1170.3333339691162,"z":"286c7310.cdd10c","wires":[["cef74ef4.62edc"]]},{"id":"346610a2.13765","type":"not-found","name":"not-found","xml":"<outcome value=\"not-found\">","comments":"","outputs":1,"x":1510.6666793823242,"y":1135.3333339691162,"z":"286c7310.cdd10c","wires":[["35807be9.3bb854"]]},{"id":"5d069c48.2ab334","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1712.6666793823242,"y":1008.3333339691162,"z":"286c7310.cdd10c","wires":[["98cc691b.1b1cb8","3729996d.4f1fc6"]]},{"id":"98cc691b.1b1cb8","type":"set","name":"set entitlement-key and status SUCCESS","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$entitlement-key-index].value' value='`$alts.resp.license-key`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$param-index].resource-resolution-data.status' value='SUCCESS' />","comments":"","x":1960.6666793823242,"y":1008.3333339691162,"z":"286c7310.cdd10c","wires":[]},{"id":"8a1f3c9d.c900c","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1714.6666793823242,"y":1096.3333339691162,"z":"286c7310.cdd10c","wires":[["eaeefe30.e1588"]]},{"id":"eaeefe30.e1588","type":"set","name":"set status FAILED","xml":"<set>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$param-index].resource-resolution-data.status`' value='FAILED' />","comments":"","x":1892.6666793823242,"y":1096.3333339691162,"z":"286c7310.cdd10c","wires":[]},{"id":"35807be9.3bb854","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1714.6666793823242,"y":1135.3333339691162,"z":"286c7310.cdd10c","wires":[["5ede0e84.6c397"]]},{"id":"cef74ef4.62edc","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1716.6666793823242,"y":1171.3333339691162,"z":"286c7310.cdd10c","wires":[["bd143db4.1d12c"]]},{"id":"5ede0e84.6c397","type":"set","name":"set status FAILED","xml":"<set>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$param-index].resource-resolution-data.status`' value='FAILED' />","comments":"","x":1889.6666793823242,"y":1136.3333339691162,"z":"286c7310.cdd10c","wires":[]},{"id":"bd143db4.1d12c","type":"set","name":"set status FAILED","xml":"<set>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$param-index].resource-resolution-data.status`' value='FAILED' />","comments":"","x":1890.6666793823242,"y":1173.3333339691162,"z":"286c7310.cdd10c","wires":[]},{"id":"8eb7dea7.c2113","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":1501.6666793823242,"y":1287.3333339691162,"z":"286c7310.cdd10c","wires":[["741ecc3f.a52134"]]},{"id":"741ecc3f.a52134","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1656.6666793823242,"y":1285.3333339691162,"z":"286c7310.cdd10c","wires":[["6efa3ca2.f58dd4","725a4ea7.5a349"]]},{"id":"6efa3ca2.f58dd4","type":"set","name":"set status DELETED","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$param-index].resource-resolution-data.status' value='DELETED' />","comments":"","x":1887.6666793823242,"y":1272.3333339691162,"z":"286c7310.cdd10c","wires":[]},{"id":"a16410b2.8840c","type":"failure","name":"failure","xml":"<outcome value=\"failure\">","comments":"","outputs":1,"x":1501.6666793823242,"y":1352.3333339691162,"z":"286c7310.cdd10c","wires":[["27a345c3.b0e27a"]]},{"id":"1112b9b6.25f546","type":"outcome","name":"unsupported-method","xml":"<outcome value=\"unsupported-method\">","comments":"","outputs":1,"x":1544.6666793823242,"y":1426.3333339691162,"z":"286c7310.cdd10c","wires":[["221f98aa.763e98"]]},{"id":"d9970af0.ce0108","type":"not-found","name":"not-found","xml":"<outcome value=\"not-found\">","comments":"","outputs":1,"x":1509.6666793823242,"y":1391.3333339691162,"z":"286c7310.cdd10c","wires":[["9d83a296.d32f"]]},{"id":"27a345c3.b0e27a","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1713.6666793823242,"y":1352.3333339691162,"z":"286c7310.cdd10c","wires":[["14a1ea70.6334f6"]]},{"id":"9d83a296.d32f","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1713.6666793823242,"y":1391.3333339691162,"z":"286c7310.cdd10c","wires":[["14a1ea70.6334f6"]]},{"id":"221f98aa.763e98","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1715.6666793823242,"y":1427.3333339691162,"z":"286c7310.cdd10c","wires":[["14a1ea70.6334f6"]]},{"id":"c63d2fea.0f0b8","type":"save","name":"save license","xml":"<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"license\"\n\t\tkey=\"generic-vnf.vnf-id = $alts.vnf-id \n\t\t\tAND license.group-uuid = $alts.license-assignment-group-uuid\n\t\t\tAND license.resource-uuid = $alts.resp.license-key\"\n\tpfx=\"tmp.AnAI.license\" >\n<parameter name=\"group-uuid\" value='`$alts.license-assignment-group-uuid`' />\n<parameter name=\"resource-uuid\" value='`$alts.resp.license-key`' />\n\n\n","comments":"","outputs":1,"x":1852.6666793823242,"y":597.3333339691162,"z":"286c7310.cdd10c","wires":[["57607efc.6152","ad59e806.0d76a8"]]},{"id":"5068b14e.33c3c","type":"update","name":"update AAI","xml":"<update plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\nresource=\"license\"\nkey=\"generic-vnf.vnf-id = $alts.vnf-id \"\nforce=\"true\"\nlocal-only=\"false\"\npfx=\"tmp.AnAI-data.vnf\" >\n<parameter name=\"group-uuid\" value='' />\n<parameter name=\"resource-uuid\" value='' />","comments":"","outputs":1,"x":1831.6666793823242,"y":810.3333339691162,"z":"286c7310.cdd10c","wires":[["93df1a0b.5db988","db0cfc0a.61ce9"]]},{"id":"3729996d.4f1fc6","type":"save","name":"save entitlement","xml":"<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"entitlement\"\n\t\tkey=\"generic-vnf.vnf-id = $alts.vnf-id  \n\t\t\tAND entitlement.group-uuid = $alts.entitlement-assignment-group-uuid \n\t\t\tAND entitlement.resource-uuid = $alts.resp.license-key \"\n\tpfx=\"tmp.AnAI.entitlement\" >\n<parameter name=\"group-uuid\" value='`$alts.entitlement-assignment-group-uuid`' />\n<parameter name=\"resource-uuid\" value='`$alts.resp.license-key`' />\n","comments":"","outputs":1,"x":1865.6666793823242,"y":1045.3333339691162,"z":"286c7310.cdd10c","wires":[["303fc7e2.a93c78","2a9836eb.3c164a"]]},{"id":"725a4ea7.5a349","type":"update","name":"update AAI","xml":"<update plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\nresource=\"license\"\nkey=\"generic-vnf.vnf-id = $alts.vnf-id \"\nforce=\"true\"\nlocal-only=\"false\"\npfx=\"tmp.AnAI-data.vnf\" >\n<parameter name=\"group-uuid\" value='' />\n<parameter name=\"resource-uuid\" value='' />","comments":"","outputs":1,"x":1857.6666793823242,"y":1309.3333339691162,"z":"286c7310.cdd10c","wires":[["4ee49bdb.f1c9b4","aa45b607.0bd2d8"]]},{"id":"303fc7e2.a93c78","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2083.666679382324,"y":1044.3333339691162,"z":"286c7310.cdd10c","wires":[["934c1276.49996"]]},{"id":"93df1a0b.5db988","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2061.666679382324,"y":793.3333339691162,"z":"286c7310.cdd10c","wires":[["5fc80ad3.aa6cb4"]]},{"id":"4ee49bdb.f1c9b4","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2099.666679382324,"y":1306.3333339691162,"z":"286c7310.cdd10c","wires":[["b0c1f4fe.15e7d8"]]},{"id":"2a9836eb.3c164a","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":2099.666679382324,"y":1096.3333339691162,"z":"286c7310.cdd10c","wires":[["934c1276.49996"]]},{"id":"db0cfc0a.61ce9","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":2072.666679382324,"y":843.3333339691162,"z":"286c7310.cdd10c","wires":[["5fc80ad3.aa6cb4"]]},{"id":"aa45b607.0bd2d8","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":2111.666679382324,"y":1347.3333339691162,"z":"286c7310.cdd10c","wires":[["b0c1f4fe.15e7d8"]]},{"id":"57607efc.6152","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2051.666679382324,"y":591.3333339691162,"z":"286c7310.cdd10c","wires":[["94104082.a6181"]]},{"id":"ad59e806.0d76a8","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":2064.666679382324,"y":643.3333339691162,"z":"286c7310.cdd10c","wires":[["94104082.a6181"]]},{"id":"94104082.a6181","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n\t<parameter name=\"logger\" value=\"message-log\" />\n\t<parameter name=\"level\" value=\"error\" />\n\t<parameter name=\"field1\" value=\"Error Saving in AAI\" />\n\t<parameter name=\"field2\" value=\"`$tmp.AnAI-data.vnf.error-code`\" />\n\t<parameter name=\"field3\" value=\"`$tmp.AnAI-data.vnf.error-message`\" />\n\t","comments":"","outputs":1,"x":2219.666679382324,"y":693.3333339691162,"z":"286c7310.cdd10c","wires":[[]]},{"id":"5fc80ad3.aa6cb4","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n\t<parameter name=\"logger\" value=\"message-log\" />\n\t<parameter name=\"level\" value=\"error\" />\n\t<parameter name=\"field1\" value=\"Error updating in AAI\" />\n\t<parameter name=\"field2\" value=\"`$tmp.AnAI-data.vnf.error-code`\" />\n\t<parameter name=\"field3\" value=\"`$tmp.AnAI-data.vnf.error-message`\" />\n\t","comments":"","outputs":1,"x":2222.666679382324,"y":819.3333339691162,"z":"286c7310.cdd10c","wires":[[]]},{"id":"934c1276.49996","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n\t<parameter name=\"logger\" value=\"message-log\" />\n\t<parameter name=\"level\" value=\"error\" />\n\t<parameter name=\"field1\" value=\"Error Saving in AAI\" />\n\t<parameter name=\"field2\" value=\"`$tmp.AnAI-data.vnf.error-code`\" />\n\t<parameter name=\"field3\" value=\"`$tmp.AnAI-data.vnf.error-message`\" />\n\t","comments":"","outputs":1,"x":2267.666679382324,"y":1075.3333339691162,"z":"286c7310.cdd10c","wires":[[]]},{"id":"b0c1f4fe.15e7d8","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n\t<parameter name=\"logger\" value=\"message-log\" />\n\t<parameter name=\"level\" value=\"error\" />\n\t<parameter name=\"field1\" value=\"Error updating in AAI\" />\n\t<parameter name=\"field2\" value=\"`$tmp.AnAI-data.vnf.error-code`\" />\n\t<parameter name=\"field3\" value=\"`$tmp.AnAI-data.vnf.error-message`\" />\n\t","comments":"","outputs":1,"x":2277.666679382324,"y":1307.3333339691162,"z":"286c7310.cdd10c","wires":[[]]},{"id":"f496709e.43fbc","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='`$alts.error.error-code`' />\n<parameter name='error-message' value='`$alts.error.error-message`' />\n","comments":"","x":1874.6666793823242,"y":887.3333339691162,"z":"286c7310.cdd10c","wires":[]},{"id":"14a1ea70.6334f6","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='`$alts.error.error-code`' />\n<parameter name='error-message' value='`$alts.error.error-message`' />\n","comments":"","x":1877.6666793823242,"y":1392.3333339691162,"z":"286c7310.cdd10c","wires":[]},{"id":"1cf8bf64.00b6a1","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":2703.2221908569336,"y":139.34375598747283,"z":"286c7310.cdd10c","wires":[["73096ece.dfece"]]},{"id":"73096ece.dfece","type":"set","name":"set","xml":"<set>\n<parameter name='license-param-index' value='`$i`' />\n\n","comments":"","x":2855.2221908569336,"y":139.34375598747283,"z":"286c7310.cdd10c","wires":[]},{"id":"b8d5f942.c9c318","type":"comment","name":"ss.capability-name","info":"","comments":"","x":1794.7779083251953,"y":316.5660155089572,"z":"286c7310.cdd10c","wires":[]},{"id":"48988c01.f3fd04","type":"switchNode","name":"switch","xml":"<switch test='`$ss.capability-name`'>\n","comments":"","outputs":1,"x":1806.7779541015625,"y":352.56604030448943,"z":"286c7310.cdd10c","wires":[["2bc1d7ad.046dc8","daf8b9ea.446278"]]},{"id":"2bc1d7ad.046dc8","type":"outcome","name":"alts-license-assign","xml":"<outcome value='alts-license-assign'>\n","comments":"","outputs":1,"x":1979.7785301208496,"y":330.56602313835174,"z":"286c7310.cdd10c","wires":[["c6a95332.1a9ad"]]},{"id":"daf8b9ea.446278","type":"outcome","name":"alts-entitlement-assign","xml":"<outcome value='alts-entitlement-assign'>\n","comments":"","outputs":1,"x":1981.7780227661133,"y":399.566066053696,"z":"286c7310.cdd10c","wires":[["9e711467.6d1118"]]},{"id":"c6a95332.1a9ad","type":"set","name":"set","xml":"<set>\n<parameter name='param-index' value='`$license-param-index`' />\n\n","comments":"","x":2155.667537689209,"y":338.45487048942596,"z":"286c7310.cdd10c","wires":[]},{"id":"9e711467.6d1118","type":"set","name":"set","xml":"<set>\n<parameter name='param-index' value='`$entitlement-param-index`' />\n\n","comments":"","x":2163.6671981811523,"y":398.45484760124236,"z":"286c7310.cdd10c","wires":[]},{"id":"9a3ea77b.bb92e8","type":"outcome","name":"vnf-name","xml":"<outcome value='vnf_name'>\n","comments":"","outputs":1,"x":2377.555595397949,"y":489.232645300217,"z":"286c7310.cdd10c","wires":[["f80891f0.cb6ff"]]},{"id":"f80891f0.cb6ff","type":"set","name":"set alts.vnf-name","xml":"<set>\n<parameter name='alts.vnf-name' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$param-index].resource-resolution-data.resource-key[$j].value`' />\n","comments":"","x":2705.55574798584,"y":485.2326929839328,"z":"286c7310.cdd10c","wires":[]},{"id":"546451e2.2f0fa","type":"call","name":"call","xml":"<call module='GENERIC-RESOURCE-API' rpc='self-serve-capability-param-resolution' mode='sync' >\n","comments":"","outputs":1,"x":1191.6665725708008,"y":110.34375598747283,"z":"286c7310.cdd10c","wires":[[]]},{"id":"7e527bb9.710cd4","type":"comment","name":"call self-serve-capability-param-resolution","info":"","comments":"","x":1205.6665725708008,"y":65.34374740440398,"z":"286c7310.cdd10c","wires":[]}]