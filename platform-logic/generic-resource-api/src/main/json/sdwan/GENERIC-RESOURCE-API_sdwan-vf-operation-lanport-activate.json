[
    {
        "id": "d9c4f19e.fd2e7",
        "type": "switchNode",
        "name": "switch vf-modules.vf-module_length",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 672.25390625,
        "y": 347.99999046325684,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "cef58dbf.65cb",
                "2919e925.39dec6",
                "e1d6ced2.e1fdf"
            ]
        ]
    },
    {
        "id": "f7e66a22.01e028",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 209.25390243530273,
        "y": 39,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "c86c7fcc.d57a3"
            ]
        ]
    },
    {
        "id": "c86c7fcc.d57a3",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 278.5396041870117,
        "y": 102.23810958862305,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "8a66936c.4ecc5"
            ]
        ]
    },
    {
        "id": "8a66936c.4ecc5",
        "type": "method",
        "name": "method sdwan-vf-operation-lanport-activate",
        "xml": "<method rpc='sdwan-vf-operation-lanport-activate' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 290.25389862060547,
        "y": 196.58634185791016,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "b4cb95ed.cde538"
            ]
        ]
    },
    {
        "id": "b4cb95ed.cde538",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 290.92057037353516,
        "y": 452.666708946228,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "f3bcc30.03c554",
                "ac79d525.fd1fd8",
                "d9c4f19e.fd2e7",
                "1bfdbcc3.c7cd93",
                "6e8941e2.a043c",
                "901afcf1.d22f3",
                "ef04791b.55e268",
                "8364ef5f.25f26",
                "6278217c.89959",
                "760751d.6fd76b",
                "cd4a9b23.d614c8",
                "44113153.ffa83",
                "b05dede5.e0278",
                "45f5fb20.78ea64",
                "b07fc696.74dd68",
                "8fa1111d.08c36",
                "a897b863.5cfc78",
                "9bf6789f.a0ec08",
                "537766b1.131458",
                "8ffe71d6.e37e5",
                "b5fcdf55.56396",
                "695214fd.2c4fdc",
                "188a2b9c.34d5e4"
            ]
        ]
    },
    {
        "id": "ac79d525.fd1fd8",
        "type": "for",
        "name": "for each vnf",
        "xml": "<for index='idx' start='0' end='`$service-data.vnfs.vnf_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 622.2852630615234,
        "y": 276.2691411972046,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "8d9e53be.f0301"
            ]
        ]
    },
    {
        "id": "f3bcc30.03c554",
        "type": "switchNode",
        "name": "switch vnf_length",
        "xml": "<switch test='`$service-data.vnfs.vnf_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 627.2539176940918,
        "y": 215.00001049041748,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "193a9775.d88519"
            ]
        ]
    },
    {
        "id": "193a9775.d88519",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 807.2538986206055,
        "y": 214,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "4b9a0abb.eb1bb4"
            ]
        ]
    },
    {
        "id": "4b9a0abb.eb1bb4",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"vnf-topology-operation-input.vnf-request-input.vnf-id not found in service-data\" />\n",
        "comments": "",
        "x": 956.6826248168945,
        "y": 215.14291763305664,
        "z": "d0c9a483.09f7c8",
        "wires": []
    },
    {
        "id": "8d9e53be.f0301",
        "type": "switchNode",
        "name": "switch this vnf-id == input vnf-id",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$idx].vnf-id == $vf-module-topology-operation-input.vnf-information.vnf-id`\">    \n",
        "comments": "",
        "outputs": 1,
        "x": 845.2539138793945,
        "y": 277.00000619888306,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "835ec48b.329e88"
            ]
        ]
    },
    {
        "id": "835ec48b.329e88",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1060.2538986206055,
        "y": 275,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "38760c6e.34c224"
            ]
        ]
    },
    {
        "id": "38760c6e.34c224",
        "type": "set",
        "name": "set vnf-index",
        "xml": "<set>\n<parameter name='vnf-index' value='`$idx`' />\n",
        "comments": "",
        "x": 1224.2538986206055,
        "y": 270,
        "z": "d0c9a483.09f7c8",
        "wires": []
    },
    {
        "id": "2919e925.39dec6",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 894.2538986206055,
        "y": 382,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "4642ed44.17b144"
            ]
        ]
    },
    {
        "id": "cef58dbf.65cb",
        "type": "outcome",
        "name": "0",
        "xml": "<outcome value='0'>\n",
        "comments": "",
        "outputs": 1,
        "x": 899.2538948059082,
        "y": 328.9999990463257,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "4642ed44.17b144"
            ]
        ]
    },
    {
        "id": "4642ed44.17b144",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"vnf-topology-operation-input.vnf-request-input.vnf-id not found in service-data\" />\n",
        "comments": "",
        "x": 1057.2538986206055,
        "y": 342,
        "z": "d0c9a483.09f7c8",
        "wires": []
    },
    {
        "id": "e1d6ced2.e1fdf",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 894.2538986206055,
        "y": 443,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "1bffa38f.f0c50c"
            ]
        ]
    },
    {
        "id": "3daf6135.38733e",
        "type": "set",
        "name": "set vf-module_length",
        "xml": "<set>\n<parameter name='vf-module-length' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length`' />\n\n",
        "comments": "",
        "x": 1248.2539138793945,
        "y": 441.0000139474869,
        "z": "d0c9a483.09f7c8",
        "wires": []
    },
    {
        "id": "1bffa38f.f0c50c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1055.2539443969727,
        "y": 439.99999141693115,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "3daf6135.38733e",
                "ef25b392.fb9e5"
            ]
        ]
    },
    {
        "id": "ef25b392.fb9e5",
        "type": "for",
        "name": "for each existing vf-index",
        "xml": "<for index='idx' start='0' end='`$vf-module-length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1267.2538833618164,
        "y": 493.99999046325684,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "a5aa4ea3.3a9f8"
            ]
        ]
    },
    {
        "id": "a5aa4ea3.3a9f8",
        "type": "switchNode",
        "name": "switch vf-module-id found",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-id == $vf-module-topology-operation-input.vf-module-information.vf-module-id`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 1510.2538986206055,
        "y": 489,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "291f40c7.f811f"
            ]
        ]
    },
    {
        "id": "291f40c7.f811f",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1708.253927230835,
        "y": 476.0000066757202,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "62bd116.37066f"
            ]
        ]
    },
    {
        "id": "62bd116.37066f",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1860.2538986206055,
        "y": 478,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "fceeafa7.b7652",
                "767f5d19.fe3e84",
                "f1e44e3e.f0b3c"
            ]
        ]
    },
    {
        "id": "fceeafa7.b7652",
        "type": "set",
        "name": "set tmp.vidx and ctx.vnf-data",
        "xml": "<set>\n<parameter name='tmp.vidx' value='`$idx`' />\n<parameter name='ctx.vf-module-data.' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-data.`' />\n",
        "comments": "",
        "x": 2088.2540130615234,
        "y": 420.00000381469727,
        "z": "d0c9a483.09f7c8",
        "wires": []
    },
    {
        "id": "767f5d19.fe3e84",
        "type": "set",
        "name": "set vf-module-request-input.",
        "xml": "<set>\n<parameter name='vf-module-request-input.' value='`$ctx.vf-module-data.vf-module-request-input.`' />\n\n",
        "comments": "",
        "x": 2092.2540130615234,
        "y": 474.00000381469727,
        "z": "d0c9a483.09f7c8",
        "wires": []
    },
    {
        "id": "1bfdbcc3.c7cd93",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 606.2540168762207,
        "y": 2089.501151561737,
        "z": "d0c9a483.09f7c8",
        "wires": []
    },
    {
        "id": "f1e44e3e.f0b3c",
        "type": "call",
        "name": "call sdwan-get-vf-module-lanport-param",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='sdwan-get-vf-module-lanport-param' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2122.7090377807617,
        "y": 525.0104961395264,
        "z": "d0c9a483.09f7c8",
        "wires": [
            []
        ]
    },
    {
        "id": "aa0d1480.7f1978",
        "type": "for",
        "name": "for vf-modules.vf-module_length",
        "xml": "<for index='vfidx' start='0' end='`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1379.5080871582031,
        "y": 553.0040807723999,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "9ed7ce57.d6ce"
            ]
        ]
    },
    {
        "id": "1f605289.f2eb7d",
        "type": "switchNode",
        "name": "switch this deviceName == vf-input",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$pidx].value == $prop.lan.deviceName`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 1450.50830078125,
        "y": 626.0042104721069,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "b123da61.76e8a8"
            ]
        ]
    },
    {
        "id": "9ed7ce57.d6ce",
        "type": "for",
        "name": "for vf-module-input-param length",
        "xml": "<for index='pidx' start='0' end='`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1665.5079345703125,
        "y": 555.0041646957397,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "f599447.9ac3fb8"
            ]
        ]
    },
    {
        "id": "b123da61.76e8a8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1670.5080242156982,
        "y": 627.0042181015015,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "2d7f5405.e9306c"
            ]
        ]
    },
    {
        "id": "2d7f5405.e9306c",
        "type": "for",
        "name": "for vf-modules.vf-module_length",
        "xml": "<for index='pidx' start='0' end='`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1915.5081024169922,
        "y": 627.0041356086731,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "faceb28.d0a9d5"
            ]
        ]
    },
    {
        "id": "faceb28.d0a9d5",
        "type": "switchNode",
        "name": "switch deviceId == input vf-id",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$pidx].name == 'deviceId'`\">\n    \n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2223.5083770751953,
        "y": 610.0041036605835,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "ec659d9d.8002"
            ]
        ]
    },
    {
        "id": "ec659d9d.8002",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2432.508415222168,
        "y": 612.004096031189,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "73ebf520.d1f88c"
            ]
        ]
    },
    {
        "id": "73ebf520.d1f88c",
        "type": "set",
        "name": "set prop.lan.deviceId",
        "xml": "<set>\n<parameter name='prop.lan.deviceId' value='`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$pidx].value`' />\n",
        "comments": "",
        "x": 2609.5083808898926,
        "y": 608.0042867660522,
        "z": "d0c9a483.09f7c8",
        "wires": []
    },
    {
        "id": "6e8941e2.a043c",
        "type": "for",
        "name": "for service-data.vnfs.vnf_length",
        "xml": "<for index='vnfidx' start='0' end='`$service-data.vnfs.vnf_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 633.5078125,
        "y": 420.00404262542725,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "5c633f8a.ecb75"
            ]
        ]
    },
    {
        "id": "415f5cb9.3a6e44",
        "type": "switchNode",
        "name": "switch ActivateSDWANSiteInstance",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.request-information.request-action == 'ActivateSDWANSiteInstance'`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 1270.258186340332,
        "y": 737.0039882659912,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "55fab2c0.18755c"
            ]
        ]
    },
    {
        "id": "ba32492c.0e54c8",
        "type": "for",
        "name": "for vf-modules.vf-module_length",
        "xml": "<for index='vfidx' start='0' end='`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 916.2580261230469,
        "y": 704.0040283203125,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "bd374d2.a7cdcb"
            ]
        ]
    },
    {
        "id": "b07fc696.74dd68",
        "type": "for",
        "name": "for service-data.vnfs.vnf_length",
        "xml": "<for index='vnfidx' start='0' end='`$service-data.vnfs.vnf_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 667.2578811645508,
        "y": 635.0039081573486,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "ba32492c.0e54c8"
            ]
        ]
    },
    {
        "id": "55fab2c0.18755c",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1492.2581024169922,
        "y": 737.0040698051453,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "2d0cb991.e67216"
            ]
        ]
    },
    {
        "id": "2d0cb991.e67216",
        "type": "for",
        "name": "for vf-modules.vf-module_length",
        "xml": "<for index='pidx' start='0' end='`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1573.5081100463867,
        "y": 811.5040712356567,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "f98893a0.de7a4"
            ]
        ]
    },
    {
        "id": "39ba7083.5ed54",
        "type": "switchNode",
        "name": "switch siteId",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$pidx].name == 'siteId'`\">\n    \n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1956.5084686279297,
        "y": 818.5041785240173,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "36c8a445.c6055c"
            ]
        ]
    },
    {
        "id": "36c8a445.c6055c",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2133.508487701416,
        "y": 821.5040187835693,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "cb17586e.80dbb8"
            ]
        ]
    },
    {
        "id": "cafa7b8b.465778",
        "type": "set",
        "name": "set prop.attach.siteId",
        "xml": "<set>\n<parameter name='prop.attach.siteId' value='`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$pidx].value`' />\n",
        "comments": "",
        "x": 2517.5089950561523,
        "y": 795.5040702819824,
        "z": "d0c9a483.09f7c8",
        "wires": []
    },
    {
        "id": "cb17586e.80dbb8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2292.7586784362793,
        "y": 817.0040588378906,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "cafa7b8b.465778",
                "9412ef29.cc029",
                "4b9ca75a.7fc698",
                "2f9763b5.4e87fc"
            ]
        ]
    },
    {
        "id": "8fa1111d.08c36",
        "type": "get-resource",
        "name": "get-resource esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = SDWANController AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.esr-thirdparty-sdnc' local-only='false' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 628.2578277587891,
        "y": 954.5039968490601,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "4a5d401e.8bf8e",
                "1ff4f9b4.f19fb6",
                "8afdb3bf.1d43d"
            ]
        ]
    },
    {
        "id": "4a5d401e.8bf8e",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 872.2578887939453,
        "y": 918.5039968490601,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "ec14c17f.6e2c1"
            ]
        ]
    },
    {
        "id": "1ff4f9b4.f19fb6",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 874.7487716674805,
        "y": 954.0780334472656,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "7501ffb3.13588"
            ]
        ]
    },
    {
        "id": "8afdb3bf.1d43d",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 870.0817794799805,
        "y": 990.4113922119141,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "26b83768.3bb758"
            ]
        ]
    },
    {
        "id": "26b83768.3bb758",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
        "comments": "",
        "x": 1023.8542709350586,
        "y": 987.8504791259766,
        "z": "d0c9a483.09f7c8",
        "wires": []
    },
    {
        "id": "7501ffb3.13588",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
        "comments": "",
        "x": 1020.3201675415039,
        "y": 952.3637208938599,
        "z": "d0c9a483.09f7c8",
        "wires": []
    },
    {
        "id": "ec14c17f.6e2c1",
        "type": "set",
        "name": "set controller data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.url' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.user' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.password' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n",
        "comments": "",
        "x": 1032.757999420166,
        "y": 916.5039367675781,
        "z": "d0c9a483.09f7c8",
        "wires": []
    },
    {
        "id": "a897b863.5cfc78",
        "type": "execute",
        "name": "execute RestApiCallNode Get token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/actokentemplate.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/v2/tokens'`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"token-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>",
        "comments": "",
        "outputs": 1,
        "x": 642.1960601806641,
        "y": 1057.62509059906,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "b99d5bfa.8263b8",
                "3b97c655.fec2fa"
            ]
        ]
    },
    {
        "id": "b99d5bfa.8263b8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 877.1961860656738,
        "y": 1043.6250791549683,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "da99c661.cc9138"
            ]
        ]
    },
    {
        "id": "3b97c655.fec2fa",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 876.4461860656738,
        "y": 1079.2679862976074,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "d1dde0a7.dc9a2"
            ]
        ]
    },
    {
        "id": "d1dde0a7.dc9a2",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing get token rest api\" />\n",
        "comments": "",
        "x": 1025.1961936950684,
        "y": 1080.0180683135986,
        "z": "d0c9a483.09f7c8",
        "wires": []
    },
    {
        "id": "da99c661.cc9138",
        "type": "set",
        "name": "set token-id",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.token_id' value='`$token-result.data.token_id`' />\n",
        "comments": "",
        "x": 1019.1961936950684,
        "y": 1042.6250801086426,
        "z": "d0c9a483.09f7c8",
        "wires": []
    },
    {
        "id": "537766b1.131458",
        "type": "execute",
        "name": "execute RestApiCallNode device port create",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sdlan-port.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/campus/v1/sdwan/net/ports'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"portResp\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 668.28515625,
        "y": 1209.0782289505005,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "8649541f.c916f8",
                "490b0339.21ab4c"
            ]
        ]
    },
    {
        "id": "8649541f.c916f8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 917.2852153778076,
        "y": 1223.0784349441528,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "53d53343.edd9cc"
            ]
        ]
    },
    {
        "id": "490b0339.21ab4c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 917.2852153778076,
        "y": 1185.0782704353333,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "bb7e9ee8.bdde5"
            ]
        ]
    },
    {
        "id": "bb7e9ee8.bdde5",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create device port rest api\" />\n",
        "comments": "",
        "x": 1061.2855491638184,
        "y": 1184.078269958496,
        "z": "d0c9a483.09f7c8",
        "wires": []
    },
    {
        "id": "53d53343.edd9cc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1064.2852268218994,
        "y": 1224.0782737731934,
        "z": "d0c9a483.09f7c8",
        "wires": [
            []
        ]
    },
    {
        "id": "901afcf1.d22f3",
        "type": "set",
        "name": "set prop.lan.devicePortId",
        "xml": "<set>\n<parameter name='prop.lan.devicePortId' value='`$portResp.success[0].id`' />\n",
        "comments": "",
        "x": 610.9424171447754,
        "y": 1262.1794338226318,
        "z": "d0c9a483.09f7c8",
        "wires": []
    },
    {
        "id": "44729f10.35f05",
        "type": "comment",
        "name": "Create port",
        "info": "",
        "comments": "",
        "x": 569.9510955810547,
        "y": 1175.522253036499,
        "z": "d0c9a483.09f7c8",
        "wires": []
    },
    {
        "id": "9bf6789f.a0ec08",
        "type": "call",
        "name": "call sdwan-get-tenant-auth",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='sdwan-get-tenant-auth' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 616.9510955810547,
        "y": 1124.1886892318726,
        "z": "d0c9a483.09f7c8",
        "wires": [
            []
        ]
    },
    {
        "id": "eeb61a62.766e08",
        "type": "execute",
        "name": "execute RestApiCallNode bridge domain create",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sdlan-bridge-domain.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/campus/v1/sdwan/overlay-network/bridge-domains'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"bridgeDomainResp\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1090.9354057312012,
        "y": 1304.188857793808,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "925721ce.9c9c3",
                "4887b469.84db6c"
            ]
        ]
    },
    {
        "id": "925721ce.9c9c3",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1411.935432434082,
        "y": 1321.1891782283783,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "ae68593e.8ba108"
            ]
        ]
    },
    {
        "id": "4887b469.84db6c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1414.935459136963,
        "y": 1286.1889598369598,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "79f2f146.ca204"
            ]
        ]
    },
    {
        "id": "79f2f146.ca204",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create bridge domain rest api\" />\n",
        "comments": "",
        "x": 1617.935848236084,
        "y": 1282.1890671253204,
        "z": "d0c9a483.09f7c8",
        "wires": []
    },
    {
        "id": "ae68593e.8ba108",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1618.9354133605957,
        "y": 1317.1889336109161,
        "z": "d0c9a483.09f7c8",
        "wires": [
            []
        ]
    },
    {
        "id": "ccce6236.dc74f",
        "type": "comment",
        "name": "Create bridge domain",
        "info": "",
        "comments": "",
        "x": 1034.6012992858887,
        "y": 1270.6330835819244,
        "z": "d0c9a483.09f7c8",
        "wires": []
    },
    {
        "id": "ef04791b.55e268",
        "type": "switchNode",
        "name": "switch portSwitch",
        "xml": "<switch test=\"`$prop.lan.portSwitch == 'layer2-port'`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 590.7128715515137,
        "y": 1305.855489730835,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "c3342bc2.390e38"
            ]
        ]
    },
    {
        "id": "c3342bc2.390e38",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 769.7129020690918,
        "y": 1305.966812133789,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "eeb61a62.766e08"
            ]
        ]
    },
    {
        "id": "8364ef5f.25f26",
        "type": "execute",
        "name": "execute split ip and mask",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$prop.lan.ipAddress`'/>\n<parameter name=\"regex\" value=\"/\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"ipandMask\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 615.2578659057617,
        "y": 1405.7540397644043,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "760fe778.7861c8",
                "4e9c561e.4ac8b8"
            ]
        ]
    },
    {
        "id": "4e9c561e.4ac8b8",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 816.257884979248,
        "y": 1383.7540311813354,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "3c0ad409.f6e78c"
            ]
        ]
    },
    {
        "id": "760fe778.7861c8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 816.2578887939453,
        "y": 1424.7540349960327,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "af9e51cb.86f12"
            ]
        ]
    },
    {
        "id": "3c0ad409.f6e78c",
        "type": "set",
        "name": "set ipAddress prefixLength",
        "xml": "<set>\n<parameter name='prop.lan.ip-address' value='`$ipandMask[0]`' />\n<parameter name='prop.lan.prefixLength' value='`$ipandMask[1]`' />",
        "comments": "",
        "x": 1013.2579040527344,
        "y": 1381.7540311813354,
        "z": "d0c9a483.09f7c8",
        "wires": []
    },
    {
        "id": "af9e51cb.86f12",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 971.2578964233398,
        "y": 1421.7540340423584,
        "z": "d0c9a483.09f7c8",
        "wires": []
    },
    {
        "id": "a9e3f075.4494b",
        "type": "comment",
        "name": "Create wan port",
        "info": "",
        "comments": "",
        "x": 588.2677421569824,
        "y": 1358.7640895843506,
        "z": "d0c9a483.09f7c8",
        "wires": []
    },
    {
        "id": "cd240d96.e63a6",
        "type": "comment",
        "name": "TODO: split ip/mask",
        "info": "",
        "comments": "",
        "x": 1012.2675361633301,
        "y": 1343.9343032836914,
        "z": "d0c9a483.09f7c8",
        "wires": []
    },
    {
        "id": "8ffe71d6.e37e5",
        "type": "execute",
        "name": "execute RestApiCallNode IPSubnets create",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sdlan-ip-subnets.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/campus/v1/sdwan/overlay-network/ip-subnets'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"lanPortResp\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 674.0292358398438,
        "y": 1481.8749294281006,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "87d7037c.ae081",
                "b63381ea.1d864"
            ]
        ]
    },
    {
        "id": "b63381ea.1d864",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 943.0292663574219,
        "y": 1468.8749017715454,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "594e98d1.fab688"
            ]
        ]
    },
    {
        "id": "87d7037c.ae081",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 940.029239654541,
        "y": 1503.8751201629639,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "5e9af700.a76ce8"
            ]
        ]
    },
    {
        "id": "594e98d1.fab688",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create device port rest api\" />\n",
        "comments": "",
        "x": 1096.0296478271484,
        "y": 1464.8751277923584,
        "z": "d0c9a483.09f7c8",
        "wires": []
    },
    {
        "id": "5e9af700.a76ce8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1087.0292205810547,
        "y": 1504.8748760223389,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "4982389d.632728"
            ]
        ]
    },
    {
        "id": "4982389d.632728",
        "type": "set",
        "name": "set prop.lan.lanPortId",
        "xml": "<set>\n<parameter name='prop.lan.lanPortId' value='`lanPortResp.success[0].id`' />\n",
        "comments": "",
        "x": 1293.9183235168457,
        "y": 1507.208342552185,
        "z": "d0c9a483.09f7c8",
        "wires": []
    },
    {
        "id": "695214fd.2c4fdc",
        "type": "execute",
        "name": "execute RestApiCallNode create vpn topology",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sdwan-vpn-topology.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/campus/v1/sdwan/overlay-network/' + $prop.vpn1Id + '/topology'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"put\"/>\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 699.5396575927734,
        "y": 1640.333706855774,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "d46aab2e.402878",
                "f79fe60.440a918"
            ]
        ]
    },
    {
        "id": "f79fe60.440a918",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 938.539571762085,
        "y": 1687.333193898201,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "be3a59b0.64c5a8"
            ]
        ]
    },
    {
        "id": "be3a59b0.64c5a8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1108.5395107269287,
        "y": 1690.333193898201,
        "z": "d0c9a483.09f7c8",
        "wires": [
            []
        ]
    },
    {
        "id": "cb1060d7.72a6a",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create vpn topology failed\" />\n",
        "comments": "",
        "x": 1108.5396327972412,
        "y": 1646.333193898201,
        "z": "d0c9a483.09f7c8",
        "wires": []
    },
    {
        "id": "d46aab2e.402878",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 941.5395107269287,
        "y": 1646.333193898201,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "cb1060d7.72a6a"
            ]
        ]
    },
    {
        "id": "b5fcdf55.56396",
        "type": "execute",
        "name": "execute RestApiCallNode create vpn ",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sdwan-vpn.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/campus/v1/sdwan/overlay-network/vpn'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"put\"/>\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 661.538013458252,
        "y": 1571.8328762054443,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "1dcea603.d095ca",
                "286fea94.caec26"
            ]
        ]
    },
    {
        "id": "286fea94.caec26",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 882.5379161834717,
        "y": 1593.8328419923782,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "8857322c.003b2"
            ]
        ]
    },
    {
        "id": "8857322c.003b2",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1052.5378551483154,
        "y": 1596.8328419923782,
        "z": "d0c9a483.09f7c8",
        "wires": [
            []
        ]
    },
    {
        "id": "94eea86a.175328",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create vpn failed\" />\n",
        "comments": "",
        "x": 1052.537977218628,
        "y": 1552.8328419923782,
        "z": "d0c9a483.09f7c8",
        "wires": []
    },
    {
        "id": "1dcea603.d095ca",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 885.5378551483154,
        "y": 1552.8328419923782,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "94eea86a.175328"
            ]
        ]
    },
    {
        "id": "7ec433f0.4a2dec",
        "type": "switchNode",
        "name": "switch ActivateSDWANVpnInstance",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.request-information.request-action == 'ActivateSDWANVpnInstance'`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 1248.5398406982422,
        "y": 858.3332567214966,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "df6b5755.18ea68"
            ]
        ]
    },
    {
        "id": "bd374d2.a7cdcb",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1005.8729438781738,
        "y": 787.3333368301392,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "415f5cb9.3a6e44",
                "7ec433f0.4a2dec"
            ]
        ]
    },
    {
        "id": "df6b5755.18ea68",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1344.2063522338867,
        "y": 932.3333377838135,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "a2c862ed.3d8da"
            ]
        ]
    },
    {
        "id": "a2c862ed.3d8da",
        "type": "for",
        "name": "for vf-modules.vf-module_length",
        "xml": "<for index='pidx' start='0' end='`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1558.4562377929688,
        "y": 933.8333144187927,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "26c3d6b7.9af80a"
            ]
        ]
    },
    {
        "id": "26c3d6b7.9af80a",
        "type": "switchNode",
        "name": "switch vpn-id",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$pidx].name == 'vpn-id'`\">\n    \n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1805.4562759399414,
        "y": 928.8333973884583,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "73c96ff0.116a"
            ]
        ]
    },
    {
        "id": "73c96ff0.116a",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1956.2062301635742,
        "y": 930.3333129882812,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "736b8a4d.4ec784"
            ]
        ]
    },
    {
        "id": "736b8a4d.4ec784",
        "type": "set",
        "name": "set prop.vpn1Id",
        "xml": "<set>\n<parameter name='prop.vpn1Id' value='`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$pidx].value`' />\n",
        "comments": "",
        "x": 2130.2069778442383,
        "y": 930.3333714008331,
        "z": "d0c9a483.09f7c8",
        "wires": []
    },
    {
        "id": "9412ef29.cc029",
        "type": "set",
        "name": "Add sites to list and update length",
        "xml": "<set>\n<parameter name='prop.siteIds[$prop.siteIds_length]' value='`$prop.attach.siteId`' />\n<parameter name='prop.siteIds_length' value='`$prop.siteIds_length + 1`' />\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
        "comments": "",
        "x": 2560.540351867676,
        "y": 836.3333714008331,
        "z": "d0c9a483.09f7c8",
        "wires": []
    },
    {
        "id": "4b9ca75a.7fc698",
        "type": "set",
        "name": "Add site attachement to list and update length",
        "xml": "<set>\n<parameter name='prop.siteAttachements[$prop.siteAttachements_length].siteId' value='`$prop.attach.siteId`' />\n<parameter name='prop.siteAttachements[$prop.siteAttachements_length].roles[0]' value='`$prop.role`' />\n<parameter name='prop.siteAttachements[$prop.siteAttachements_length].roles_length' value='1' />\n<parameter name='prop.siteAttachements_length' value='`$prop.siteAttachements_length + 1`' />\n\n\n\n\n\n\n\n\n\n\n\n\n",
        "comments": "",
        "x": 2591.5402450561523,
        "y": 879.3333377838135,
        "z": "d0c9a483.09f7c8",
        "wires": []
    },
    {
        "id": "6278217c.89959",
        "type": "set",
        "name": "set prop.siteAttachement_length=0",
        "xml": "<set>\n<parameter name='prop.siteAttachements_length' value='0' />\n<parameter name='prop.siteIds_length' value='0' />\n\n\n\n",
        "comments": "",
        "x": 677.5396194458008,
        "y": 584.333330154419,
        "z": "d0c9a483.09f7c8",
        "wires": []
    },
    {
        "id": "f98893a0.de7a4",
        "type": "block",
        "name": "block atomic",
        "xml": "<block atomic=\"true\">\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1790.873275756836,
        "y": 812.3333358764648,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "39ba7083.5ed54",
                "5110ed96.6f1424",
                "c2809bfd.795218"
            ]
        ]
    },
    {
        "id": "5110ed96.6f1424",
        "type": "switchNode",
        "name": "switch role",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$pidx].name == 'role'`\">\n    \n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1953.2062072753906,
        "y": 743.3333349227905,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "1e253f6e.5c04c1"
            ]
        ]
    },
    {
        "id": "1e253f6e.5c04c1",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2116.206211090088,
        "y": 738.3333358764648,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "76558c73.4a9c94"
            ]
        ]
    },
    {
        "id": "76558c73.4a9c94",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2284.206253051758,
        "y": 732.3333339691162,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "7fa808fb.9dfb68",
                "74735438.9332ac",
                "138a0f19.6e1331"
            ]
        ]
    },
    {
        "id": "74735438.9332ac",
        "type": "switchNode",
        "name": "switch sd-wan-edge",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$pidx].value == 'sd-wan-edge'`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2479.206382751465,
        "y": 693.3333253860474,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "201641a0.5890ce"
            ]
        ]
    },
    {
        "id": "7fa808fb.9dfb68",
        "type": "switchNode",
        "name": "switch dsvpn-hub",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$pidx].name == 'dsvpn-hub'`\">\n    \n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2476.2064895629883,
        "y": 748.333340883255,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "f53ab0a6.6d677"
            ]
        ]
    },
    {
        "id": "69b796c5.6fe848",
        "type": "set",
        "name": "set spoke role",
        "xml": "<set>\n<parameter name='prop.role' value=\"spoke\" />\n",
        "comments": "",
        "x": 2809.2065048217773,
        "y": 687.3333711624146,
        "z": "d0c9a483.09f7c8",
        "wires": []
    },
    {
        "id": "861df320.7eae2",
        "type": "set",
        "name": "set hub role",
        "xml": "<set>\n<parameter name='prop.role' value=\"hub\" />\n",
        "comments": "",
        "x": 2808.2062644958496,
        "y": 742.3333549499512,
        "z": "d0c9a483.09f7c8",
        "wires": []
    },
    {
        "id": "201641a0.5890ce",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2649.2063522338867,
        "y": 689,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "69b796c5.6fe848"
            ]
        ]
    },
    {
        "id": "f53ab0a6.6d677",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2653.2063522338867,
        "y": 744,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "861df320.7eae2"
            ]
        ]
    },
    {
        "id": "188a2b9c.34d5e4",
        "type": "update",
        "name": "update SDWAN VPN status to AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='lan-port-config' \n      key='sdwan-vpn.sdwan-vpn-id = $vf-module-topology-operation-input.vf-module-information.vf-module-id' >\n<parameter name='sdwan-vpn-id' value='`$vf-module-topology-operation-input.vf-module-information.vf-module-id`' />\n<parameter name='operational-status' value='Active' />\n<parameter name='lan-port-config-id' value='`$prop.lan-port-config-id`' />",
        "comments": "",
        "outputs": 1,
        "x": 661.5708885192871,
        "y": 2008.031280040741,
        "z": "d0c9a483.09f7c8",
        "wires": [
            []
        ]
    },
    {
        "id": "44113153.ffa83",
        "type": "set",
        "name": "set vf-module-level-oper-status",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-level-oper-status.order-status'  value='Active' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-level-oper-status.last-rpc-action'  value='`$vf-module-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-level-oper-status.last-action'  value='`$vf-module-topology-operation-input.sdnc-request-header.request-action`' />",
        "comments": "",
        "x": 658.2059059143066,
        "y": 1951.1261107651517,
        "z": "d0c9a483.09f7c8",
        "wires": []
    },
    {
        "id": "cd4a9b23.d614c8",
        "type": "set",
        "name": "set vf-module-id and vf-module-object-path",
        "xml": "<set>\n<parameter name='vf-module-object-path' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vf-module-topology-operation-input.service-information.service-instance-id\n + '/service-data/vnfs/vnf/'\n + $service-data.vnfs.vnf[$vnf-index].vnf-id\n + '/vnf-data/vf-modules/vf-module/'\n + $vf-module-topology-operation-input.vf-module-information.vf-module-id\n + '/vf-module-data/vf-module-topology/'`\"/>\n<parameter name='vnf-object-path'\n value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vf-module-topology-operation-input.service-information.service-instance-id\n + '/service-data/vnfs/vnf/'\n + $service-data.vnfs.vnf[$vnf-index].vnf-id\n + '/vnf-data/vnf-topology/'`\"/>\n<parameter name='service-object-path'\n value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vf-module-topology-operation-input.service-information.service-instance-id\n + '/service-data/service-topology/'`\"/>\n",
        "comments": "",
        "x": 692.2059059143066,
        "y": 1902.6261098114774,
        "z": "d0c9a483.09f7c8",
        "wires": []
    },
    {
        "id": "760751d.6fd76b",
        "type": "set",
        "name": "copy input data in service-data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.sdnc-request-header.' value='`$vf-module-topology-operation-input.sdnc-request-header.`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.request-information.' value='`$vf-module-topology-operation-input.request-information.`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.service-information.' value='`$vf-module-topology-operation-input.service-information.`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-information.' value='`$vf-module-topology-operation-input.vf-module-information.`' />\n",
        "comments": "",
        "x": 656.2058601379395,
        "y": 1854.876064300537,
        "z": "d0c9a483.09f7c8",
        "wires": []
    },
    {
        "id": "45f5fb20.78ea64",
        "type": "set",
        "name": "set device PortId to service data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length].name' value='devicePortId' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length].value' value='`$prop.lan.devicePortId`' />\n",
        "comments": "",
        "x": 662.5709266662598,
        "y": 1748.0314636230469,
        "z": "d0c9a483.09f7c8",
        "wires": []
    },
    {
        "id": "b05dede5.e0278",
        "type": "set",
        "name": "set lan PortId to service data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length].name' value='lanPortId' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length].value' value='`$prop.lan.lanPortId`' />\n",
        "comments": "",
        "x": 648.5708503723145,
        "y": 1802.0312767028809,
        "z": "d0c9a483.09f7c8",
        "wires": []
    },
    {
        "id": "2f9763b5.4e87fc",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/svclogic21.log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"prop.attach.siteId\"/>\n<parameter name=\"field3\" value='`$prop.attach.siteId`'/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2485.5709915161133,
        "y": 924.5312805175781,
        "z": "d0c9a483.09f7c8",
        "wires": [
            []
        ]
    },
    {
        "id": "138a0f19.6e1331",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/svclogic22.log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"set spoke role\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2454.571002960205,
        "y": 655.531247138977,
        "z": "d0c9a483.09f7c8",
        "wires": [
            []
        ]
    },
    {
        "id": "c2809bfd.795218",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/svclogic23.log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"param-name\"/>\n<parameter name=\"field3\" value='`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$pidx].name`'/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1948.5708541870117,
        "y": 687.53125,
        "z": "d0c9a483.09f7c8",
        "wires": [
            []
        ]
    },
    {
        "id": "a37e9bab.abd118",
        "type": "comment",
        "name": "**revert the changes",
        "info": "",
        "comments": "",
        "x": 1349.5708808898926,
        "y": 693.0312824249268,
        "z": "d0c9a483.09f7c8",
        "wires": []
    },
    {
        "id": "4a795886.274f28",
        "type": "switchNode",
        "name": "switch vf-modules.vf-module_length",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module_length >= '0'`\">\n\n<!--switch test=\"`$service-data.vnfs.vnf[$i].vnf-data.request-information.request-action == 'ActivateSDWANDeviceInstance'`\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 892.7538909912109,
        "y": 507.25390625,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "779d12ab.8187fc"
            ]
        ]
    },
    {
        "id": "779d12ab.8187fc",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 998.75390625,
        "y": 558.25390625,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "e23c505c.41fa2"
            ]
        ]
    },
    {
        "id": "5c633f8a.ecb75",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 693.0039138793945,
        "y": 468.0039048194885,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "4a795886.274f28"
            ]
        ]
    },
    {
        "id": "e23c505c.41fa2",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1151.003890991211,
        "y": 555.0039281845093,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "aa0d1480.7f1978"
            ]
        ]
    },
    {
        "id": "f599447.9ac3fb8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1894.7539710998535,
        "y": 553.0039119720459,
        "z": "d0c9a483.09f7c8",
        "wires": [
            [
                "1f605289.f2eb7d"
            ]
        ]
    }
]