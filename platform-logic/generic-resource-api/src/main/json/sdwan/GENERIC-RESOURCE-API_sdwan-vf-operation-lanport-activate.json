[
    {
        "id": "449f76b2.35ecd8",
        "type": "switchNode",
        "name": "switch vf-modules.vf-module_length",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 651.00390625,
        "y": 351.99999046325684,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "398bb19.252604e",
                "b6d1d1d8.bb9ed",
                "62a6e293.8703bc"
            ]
        ]
    },
    {
        "id": "3ae00491.8f60fc",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 188.00390243530273,
        "y": 43,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "cd3d997.ba35068"
            ]
        ]
    },
    {
        "id": "cd3d997.ba35068",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 257.2896041870117,
        "y": 106.23810958862305,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "42625ee9.60cf8"
            ]
        ]
    },
    {
        "id": "42625ee9.60cf8",
        "type": "method",
        "name": "method sdwan-vf-operation-lanport-activate",
        "xml": "<method rpc='sdwan-vf-operation-lanport-activate' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 269.00389862060547,
        "y": 200.58634185791016,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "3ec2bae1.a772e6"
            ]
        ]
    },
    {
        "id": "3ec2bae1.a772e6",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 269.67057037353516,
        "y": 456.666708946228,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "788af4bb.4d81cc",
                "1b2b5acf.fbd5d5",
                "449f76b2.35ecd8",
                "9c153d6a.4cf43",
                "46f7cea6.503f1",
                "fcbf2fc7.b018d",
                "505ed63f.24baa8",
                "94404e6f.e8fde",
                "16a0b0ad.e2c3df",
                "e352097b.fa56f8",
                "ea89a3cd.96c6c",
                "b4355150.f8381",
                "23f60fe.f5fa6f",
                "9f914b2c.f63948",
                "3174dd24.ba8ab2",
                "455e901d.d7497",
                "41672a48.274fe4",
                "58693560.f55b6c",
                "69c506db.344ae8",
                "3c1e06fc.eec57a",
                "b87c5ca2.4198d",
                "13f149d1.1db0a6",
                "97edc5d7.68c598",
                "deaed14.de5b43"
            ]
        ]
    },
    {
        "id": "1b2b5acf.fbd5d5",
        "type": "for",
        "name": "for each vnf",
        "xml": "<for index='idx' start='0' end='`$service-data.vnfs.vnf_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 616.0352668762207,
        "y": 222.26914596557617,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "7ea5c9a1.849a58"
            ]
        ]
    },
    {
        "id": "788af4bb.4d81cc",
        "type": "switchNode",
        "name": "switch vnf_length",
        "xml": "<switch test='`$service-data.vnfs.vnf_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 621.0039215087891,
        "y": 161.00001525878906,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "eddbe91d.071158"
            ]
        ]
    },
    {
        "id": "eddbe91d.071158",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 801.0039024353027,
        "y": 160.00000476837158,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "43ffd7ae.190158"
            ]
        ]
    },
    {
        "id": "43ffd7ae.190158",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"vnf-topology-operation-input.vnf-request-input.vnf-id not found in service-data\" />\n",
        "comments": "",
        "x": 950.4326286315918,
        "y": 161.14292240142822,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "7ea5c9a1.849a58",
        "type": "switchNode",
        "name": "switch this vnf-id == input vnf-id",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$idx].vnf-id == $vf-module-topology-operation-input.vnf-information.vnf-id`\">    \n",
        "comments": "",
        "outputs": 1,
        "x": 839.0039176940918,
        "y": 223.00001096725464,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "63b5b6be.7bb648"
            ]
        ]
    },
    {
        "id": "63b5b6be.7bb648",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1054.0039024353027,
        "y": 221.00000476837158,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "395d7249.60aa0e"
            ]
        ]
    },
    {
        "id": "395d7249.60aa0e",
        "type": "set",
        "name": "set vnf-index",
        "xml": "<set>\n<parameter name='vnf-index' value='`$idx`' />\n",
        "comments": "",
        "x": 1218.0039024353027,
        "y": 216.00000476837158,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "b6d1d1d8.bb9ed",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 873.0038986206055,
        "y": 386,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "284a993a.df0816"
            ]
        ]
    },
    {
        "id": "398bb19.252604e",
        "type": "outcome",
        "name": "0",
        "xml": "<outcome value='0'>\n",
        "comments": "",
        "outputs": 1,
        "x": 878.0038948059082,
        "y": 332.9999990463257,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "284a993a.df0816"
            ]
        ]
    },
    {
        "id": "284a993a.df0816",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"vnf-topology-operation-input.vnf-request-input.vnf-id not found in service-data\" />\n",
        "comments": "",
        "x": 1036.0038986206055,
        "y": 346,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "62a6e293.8703bc",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 873.0038986206055,
        "y": 447,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "f366b8b5.961cc8"
            ]
        ]
    },
    {
        "id": "cb04cf04.061eb",
        "type": "set",
        "name": "set vf-module_length",
        "xml": "<set>\n<parameter name='vf-module-length' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length`' />\n\n",
        "comments": "",
        "x": 1227.0039138793945,
        "y": 445.0000139474869,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "f366b8b5.961cc8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1034.0039443969727,
        "y": 443.99999141693115,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "cb04cf04.061eb",
                "19000243.abd3ee"
            ]
        ]
    },
    {
        "id": "19000243.abd3ee",
        "type": "for",
        "name": "for each existing vf-index",
        "xml": "<for index='idx' start='0' end='`$vf-module-length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1246.0038833618164,
        "y": 497.99999046325684,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "7d37972f.257a38"
            ]
        ]
    },
    {
        "id": "7d37972f.257a38",
        "type": "switchNode",
        "name": "switch vf-module-id found",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-id == $vf-module-topology-operation-input.vf-module-information.vf-module-id`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 1489.0038986206055,
        "y": 493,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "377bfea7.613792"
            ]
        ]
    },
    {
        "id": "377bfea7.613792",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1687.003927230835,
        "y": 480.0000066757202,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "18c55aa5.f966a5"
            ]
        ]
    },
    {
        "id": "18c55aa5.f966a5",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1839.0038986206055,
        "y": 482,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "d08221fe.a8a22",
                "f8638c60.50c2c",
                "4e4f3655.251b48"
            ]
        ]
    },
    {
        "id": "d08221fe.a8a22",
        "type": "set",
        "name": "set tmp.vidx and ctx.vnf-data",
        "xml": "<set>\n<parameter name='tmp.vidx' value='`$idx`' />\n<parameter name='ctx.vf-module-data.' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-data.`' />\n",
        "comments": "",
        "x": 2067.0040130615234,
        "y": 424.00000381469727,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "f8638c60.50c2c",
        "type": "set",
        "name": "set vf-module-request-input.",
        "xml": "<set>\n<parameter name='vf-module-request-input.' value='`$ctx.vf-module-data.vf-module-request-input.`' />\n\n",
        "comments": "",
        "x": 2071.0040130615234,
        "y": 478.00000381469727,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "9c153d6a.4cf43",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 585.0040168762207,
        "y": 2093.501151561737,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "4e4f3655.251b48",
        "type": "call",
        "name": "call sdwan-get-vf-module-lanport-param",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='sdwan-get-vf-module-lanport-param' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2101.4590377807617,
        "y": 529.0104961395264,
        "z": "a60b8cc5.55e8f",
        "wires": [
            []
        ]
    },
    {
        "id": "2dd1b5ff.e9de3a",
        "type": "for",
        "name": "for vf-modules.vf-module_length",
        "xml": "<for index='vfidx' start='0' end='`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1358.2580871582031,
        "y": 557.0040807723999,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "afb4aa7c.d42128"
            ]
        ]
    },
    {
        "id": "bc24bdbf.b7fae",
        "type": "switchNode",
        "name": "switch this deviceName == vf-input",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$pidx].value == $prop.lan.deviceName`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 1429.25830078125,
        "y": 630.0042104721069,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "3a56a654.531a3a"
            ]
        ]
    },
    {
        "id": "afb4aa7c.d42128",
        "type": "for",
        "name": "for vf-module-input-param length",
        "xml": "<for index='pidx' start='0' end='`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1644.2579345703125,
        "y": 559.0041646957397,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "258487d9.bf18e8"
            ]
        ]
    },
    {
        "id": "3a56a654.531a3a",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1649.2580242156982,
        "y": 631.0042181015015,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "c2e2f4ae.3e81f8"
            ]
        ]
    },
    {
        "id": "c2e2f4ae.3e81f8",
        "type": "for",
        "name": "for vf-modules.vf-module_length",
        "xml": "<for index='pidx' start='0' end='`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1894.2581024169922,
        "y": 631.0041356086731,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "1b295fc8.1fb94"
            ]
        ]
    },
    {
        "id": "1b295fc8.1fb94",
        "type": "switchNode",
        "name": "switch deviceId == input vf-id",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$pidx].name == 'deviceId'`\">\n    \n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2202.2583770751953,
        "y": 614.0041036605835,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "35a3cdd9.9a70d2"
            ]
        ]
    },
    {
        "id": "35a3cdd9.9a70d2",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2411.258415222168,
        "y": 616.004096031189,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "219f921f.088efe"
            ]
        ]
    },
    {
        "id": "219f921f.088efe",
        "type": "set",
        "name": "set prop.lan.deviceId",
        "xml": "<set>\n<parameter name='prop.lan.deviceId' value='`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$pidx].value`' />\n",
        "comments": "",
        "x": 2588.2583808898926,
        "y": 612.0042867660522,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "46f7cea6.503f1",
        "type": "for",
        "name": "for service-data.vnfs.vnf_length",
        "xml": "<for index='vnfidx' start='0' end='`$service-data.vnfs.vnf_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 612.2578125,
        "y": 424.00404262542725,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "8fd527ce.0b2738"
            ]
        ]
    },
    {
        "id": "daa35d7b.bbc16",
        "type": "switchNode",
        "name": "switch ActivateSDWANSiteInstance",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.request-information.request-action == 'ActivateSDWANSiteInstance'`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 1249.008186340332,
        "y": 741.0039882659912,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "d9309324.f3584"
            ]
        ]
    },
    {
        "id": "7a222fcd.73c1e",
        "type": "for",
        "name": "for vf-modules.vf-module_length",
        "xml": "<for index='vfidx' start='0' end='`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 895.0080261230469,
        "y": 708.0040283203125,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "7ba15821.578698"
            ]
        ]
    },
    {
        "id": "3174dd24.ba8ab2",
        "type": "for",
        "name": "for service-data.vnfs.vnf_length",
        "xml": "<for index='vnfidx' start='0' end='`$service-data.vnfs.vnf_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 646.0078811645508,
        "y": 639.0039081573486,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "7a222fcd.73c1e"
            ]
        ]
    },
    {
        "id": "d9309324.f3584",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1471.0081024169922,
        "y": 741.0040698051453,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "6e42570c.9e97d8"
            ]
        ]
    },
    {
        "id": "6e42570c.9e97d8",
        "type": "for",
        "name": "for vf-modules.vf-module_length",
        "xml": "<for index='pidx' start='0' end='`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1552.2581100463867,
        "y": 815.5040712356567,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "8eb63937.68f308"
            ]
        ]
    },
    {
        "id": "f89ede9f.dfe34",
        "type": "switchNode",
        "name": "switch siteId",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$pidx].name == 'siteId'`\">\n    \n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1935.2584686279297,
        "y": 822.5041785240173,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "69e745ff.0d272c"
            ]
        ]
    },
    {
        "id": "69e745ff.0d272c",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2112.258487701416,
        "y": 825.5040187835693,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "f03a8e8e.83fe2"
            ]
        ]
    },
    {
        "id": "dee78c9f.5dd72",
        "type": "set",
        "name": "set prop.attach.siteId",
        "xml": "<set>\n<parameter name='prop.attach.siteId' value='`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$pidx].value`' />\n",
        "comments": "",
        "x": 2496.2589950561523,
        "y": 799.5040702819824,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "f03a8e8e.83fe2",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2271.5086784362793,
        "y": 821.0040588378906,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "dee78c9f.5dd72",
                "43b17553.c7382c",
                "36d57da.c3bd682",
                "1a9cf10f.4a8b1f"
            ]
        ]
    },
    {
        "id": "9e2a9762.50d9a8",
        "type": "get-resource",
        "name": "get-resource esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = SDWANController AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.esr-thirdparty-sdnc' local-only='false' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1930.0078430175781,
        "y": 1338.5039596557617,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "45a4d258.24544c",
                "cb543421.e8e548",
                "f2ddc8f8.67f5b8"
            ]
        ]
    },
    {
        "id": "45a4d258.24544c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2174.0079040527344,
        "y": 1302.5039596557617,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "73860a6b.6e7a64"
            ]
        ]
    },
    {
        "id": "cb543421.e8e548",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2176.4987869262695,
        "y": 1338.0779962539673,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "57b80d68.fd6804"
            ]
        ]
    },
    {
        "id": "f2ddc8f8.67f5b8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2171.8317947387695,
        "y": 1374.4113550186157,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "114f2452.7c39bc"
            ]
        ]
    },
    {
        "id": "114f2452.7c39bc",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
        "comments": "",
        "x": 2325.6042861938477,
        "y": 1371.8504419326782,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "57b80d68.fd6804",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
        "comments": "",
        "x": 2322.070182800293,
        "y": 1336.3636837005615,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "73860a6b.6e7a64",
        "type": "set",
        "name": "set controller data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.url' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.user' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.password' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n",
        "comments": "",
        "x": 2334.508014678955,
        "y": 1300.5038995742798,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "315d042b.94c54c",
        "type": "execute",
        "name": "execute RestApiCallNode Get token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/actokentemplate.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/v2/tokens'`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"token-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1943.9460754394531,
        "y": 1441.6250534057617,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "277e96cc.23f53a",
                "d503dd86.6b851"
            ]
        ]
    },
    {
        "id": "277e96cc.23f53a",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2178.946201324463,
        "y": 1427.62504196167,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "7b5e2570.2698cc"
            ]
        ]
    },
    {
        "id": "d503dd86.6b851",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2178.196201324463,
        "y": 1463.267949104309,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "198d65d8.c721ba"
            ]
        ]
    },
    {
        "id": "198d65d8.c721ba",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing get token rest api\" />\n",
        "comments": "",
        "x": 2326.9462089538574,
        "y": 1464.0180311203003,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "7b5e2570.2698cc",
        "type": "set",
        "name": "set token-id",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.token_id' value='`$token-result.data.token_id`' />\n",
        "comments": "",
        "x": 2320.9462089538574,
        "y": 1426.6250429153442,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "41672a48.274fe4",
        "type": "execute",
        "name": "execute RestApiCallNode device port create",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sdlan-port.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/campus/v1/sdwan/net/ports'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"portResp\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 647.03515625,
        "y": 1213.0782289505005,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "74d5de9e.64c39",
                "95bf4540.859768"
            ]
        ]
    },
    {
        "id": "74d5de9e.64c39",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 896.0352153778076,
        "y": 1227.0784349441528,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "446d7b16.686f54"
            ]
        ]
    },
    {
        "id": "95bf4540.859768",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 896.0352153778076,
        "y": 1189.0782704353333,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "5b043775.82b438"
            ]
        ]
    },
    {
        "id": "5b043775.82b438",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create device port rest api\" />\n",
        "comments": "",
        "x": 1040.0355491638184,
        "y": 1188.078269958496,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "446d7b16.686f54",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1043.0352268218994,
        "y": 1228.0782737731934,
        "z": "a60b8cc5.55e8f",
        "wires": [
            []
        ]
    },
    {
        "id": "fcbf2fc7.b018d",
        "type": "set",
        "name": "set prop.lan.devicePortId",
        "xml": "<set>\n<parameter name='prop.lan.devicePortId' value='`$portResp.success[0].id`' />\n",
        "comments": "",
        "x": 589.6924171447754,
        "y": 1266.1794338226318,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "b76fce1f.c41d6",
        "type": "comment",
        "name": "Create port",
        "info": "",
        "comments": "",
        "x": 548.7010955810547,
        "y": 1179.522253036499,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "455e901d.d7497",
        "type": "call",
        "name": "call sdwan-get-tenant-auth",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='sdwan-get-tenant-auth' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 595.7010955810547,
        "y": 1128.1886892318726,
        "z": "a60b8cc5.55e8f",
        "wires": [
            []
        ]
    },
    {
        "id": "4fc0e57c.93c3fc",
        "type": "execute",
        "name": "execute RestApiCallNode bridge domain create",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sdlan-bridge-domain.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/campus/v1/sdwan/overlay-network/bridge-domains'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"bridgeDomainResp\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1069.6854057312012,
        "y": 1308.188857793808,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "fe4c3471.1ff888",
                "5d7f5544.360c1c"
            ]
        ]
    },
    {
        "id": "fe4c3471.1ff888",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1390.685432434082,
        "y": 1325.1891782283783,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "ab1e6271.60b9c"
            ]
        ]
    },
    {
        "id": "5d7f5544.360c1c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1393.685459136963,
        "y": 1290.1889598369598,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "cee492db.e0603"
            ]
        ]
    },
    {
        "id": "cee492db.e0603",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create bridge domain rest api\" />\n",
        "comments": "",
        "x": 1596.685848236084,
        "y": 1286.1890671253204,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "ab1e6271.60b9c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1597.6854133605957,
        "y": 1321.1889336109161,
        "z": "a60b8cc5.55e8f",
        "wires": [
            []
        ]
    },
    {
        "id": "e47a1f03.1d40d",
        "type": "comment",
        "name": "Create bridge domain",
        "info": "",
        "comments": "",
        "x": 1013.3512992858887,
        "y": 1274.6330835819244,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "505ed63f.24baa8",
        "type": "switchNode",
        "name": "switch portSwitch",
        "xml": "<switch test=\"`$prop.lan.portSwitch == 'layer2-port'`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 569.4628715515137,
        "y": 1309.855489730835,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "f3a0568f.15eb08"
            ]
        ]
    },
    {
        "id": "f3a0568f.15eb08",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 748.4629020690918,
        "y": 1309.966812133789,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "4fc0e57c.93c3fc"
            ]
        ]
    },
    {
        "id": "94404e6f.e8fde",
        "type": "execute",
        "name": "execute split ip and mask",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$prop.lan.ipAddress`'/>\n<parameter name=\"regex\" value=\"/\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"ipandMask\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 594.0078659057617,
        "y": 1409.7540397644043,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "8f41cbf5.215278",
                "e159f50d.926278"
            ]
        ]
    },
    {
        "id": "e159f50d.926278",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 795.007884979248,
        "y": 1387.7540311813354,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "f5bbd137.51f5f"
            ]
        ]
    },
    {
        "id": "8f41cbf5.215278",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 795.0078887939453,
        "y": 1428.7540349960327,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "b8b52f84.e55ad"
            ]
        ]
    },
    {
        "id": "f5bbd137.51f5f",
        "type": "set",
        "name": "set ipAddress prefixLength",
        "xml": "<set>\n<parameter name='prop.lan.ip-address' value='`$ipandMask[0]`' />\n<parameter name='prop.lan.prefixLength' value='`$ipandMask[1]`' />",
        "comments": "",
        "x": 992.0079040527344,
        "y": 1385.7540311813354,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "b8b52f84.e55ad",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 950.0078964233398,
        "y": 1425.7540340423584,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "9835abaa.deb1b8",
        "type": "comment",
        "name": "Create wan port",
        "info": "",
        "comments": "",
        "x": 567.0177421569824,
        "y": 1362.7640895843506,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "707a08a2.84bfc8",
        "type": "comment",
        "name": "TODO: split ip/mask",
        "info": "",
        "comments": "",
        "x": 991.0175361633301,
        "y": 1347.9343032836914,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "58693560.f55b6c",
        "type": "execute",
        "name": "execute RestApiCallNode IPSubnets create",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sdlan-ip-subnets.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/campus/v1/sdwan/overlay-network/ip-subnets'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"lanPortResp\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 652.7792358398438,
        "y": 1485.8749294281006,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "e01d8566.26a208",
                "b77c647.be67698"
            ]
        ]
    },
    {
        "id": "b77c647.be67698",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 921.7792663574219,
        "y": 1472.8749017715454,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "7b6fdd20.906734"
            ]
        ]
    },
    {
        "id": "e01d8566.26a208",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 918.779239654541,
        "y": 1507.8751201629639,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "a2642272.8a0b"
            ]
        ]
    },
    {
        "id": "7b6fdd20.906734",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create device port rest api\" />\n",
        "comments": "",
        "x": 1074.7796478271484,
        "y": 1468.8751277923584,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "a2642272.8a0b",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1065.7792205810547,
        "y": 1508.8748760223389,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "e06f7472.e95f98"
            ]
        ]
    },
    {
        "id": "e06f7472.e95f98",
        "type": "set",
        "name": "set prop.lan.lanPortId",
        "xml": "<set>\n<parameter name='prop.lan.lanPortId' value='`lanPortResp.success[0].id`' />\n",
        "comments": "",
        "x": 1272.6683235168457,
        "y": 1511.208342552185,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "3c1e06fc.eec57a",
        "type": "execute",
        "name": "execute RestApiCallNode create vpn topology",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sdwan-vpn-topology.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/campus/v1/sdwan/overlay-network/' + $prop.vpn1Id + '/topology'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"put\"/>\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 669.2896881103516,
        "y": 1665.3338165283203,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "5e387a3e.4fd8a4",
                "e4302470.9e4168"
            ]
        ]
    },
    {
        "id": "e4302470.9e4168",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 917.289571762085,
        "y": 1691.333193898201,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "1a5d2b85.cc6d14"
            ]
        ]
    },
    {
        "id": "1a5d2b85.cc6d14",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1087.2895107269287,
        "y": 1694.333193898201,
        "z": "a60b8cc5.55e8f",
        "wires": [
            []
        ]
    },
    {
        "id": "5ab2794a.636098",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create vpn topology failed\" />\n",
        "comments": "",
        "x": 1087.2896327972412,
        "y": 1650.333193898201,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "5e387a3e.4fd8a4",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 920.2895107269287,
        "y": 1650.333193898201,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "5ab2794a.636098"
            ]
        ]
    },
    {
        "id": "69c506db.344ae8",
        "type": "execute",
        "name": "execute RestApiCallNode create vpn ",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sdwan-vpn.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/campus/v1/sdwan/overlay-network/vpn'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"put\"/>\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 640.288013458252,
        "y": 1575.8328762054443,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "e0d8f775.adb548",
                "1307c84a.e256c8"
            ]
        ]
    },
    {
        "id": "1307c84a.e256c8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 861.2879161834717,
        "y": 1597.8328419923782,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "845c9ffd.b87b7"
            ]
        ]
    },
    {
        "id": "845c9ffd.b87b7",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1031.2878551483154,
        "y": 1600.8328419923782,
        "z": "a60b8cc5.55e8f",
        "wires": [
            []
        ]
    },
    {
        "id": "de430292.51fa5",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create vpn failed\" />\n",
        "comments": "",
        "x": 1031.287977218628,
        "y": 1556.8328419923782,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "e0d8f775.adb548",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 864.2878551483154,
        "y": 1556.8328419923782,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "de430292.51fa5"
            ]
        ]
    },
    {
        "id": "8b10096b.8cb7e8",
        "type": "switchNode",
        "name": "switch ActivateSDWANVpnInstance",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.request-information.request-action == 'ActivateSDWANVpnInstance'`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 1227.2898406982422,
        "y": 862.3332567214966,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "43a6f166.ec09e"
            ]
        ]
    },
    {
        "id": "7ba15821.578698",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 984.6229438781738,
        "y": 791.3333368301392,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "daa35d7b.bbc16",
                "8b10096b.8cb7e8"
            ]
        ]
    },
    {
        "id": "43a6f166.ec09e",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1322.9563522338867,
        "y": 936.3333377838135,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "f4ccb599.a134d8"
            ]
        ]
    },
    {
        "id": "f4ccb599.a134d8",
        "type": "for",
        "name": "for vf-modules.vf-module_length",
        "xml": "<for index='pidx' start='0' end='`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1537.2062377929688,
        "y": 937.8333144187927,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "f6720c82.39b5d"
            ]
        ]
    },
    {
        "id": "f6720c82.39b5d",
        "type": "switchNode",
        "name": "switch vpn-id",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$pidx].name == 'vpn-id'`\">\n    \n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1784.2062759399414,
        "y": 932.8333973884583,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "460bb48a.240e2c"
            ]
        ]
    },
    {
        "id": "460bb48a.240e2c",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1934.9562301635742,
        "y": 934.3333129882812,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "ac3fc038.e0007"
            ]
        ]
    },
    {
        "id": "ac3fc038.e0007",
        "type": "set",
        "name": "set prop.vpn1Id",
        "xml": "<set>\n<parameter name='prop.vpn1Id' value='`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$pidx].value`' />\n",
        "comments": "",
        "x": 2108.9569778442383,
        "y": 934.3333714008331,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "43b17553.c7382c",
        "type": "set",
        "name": "Add sites to list and update length",
        "xml": "<set>\n<parameter name='prop.siteIds[$prop.siteIds_length]' value='`$prop.attach.siteId`' />\n<parameter name='prop.siteIds_length' value='`$prop.siteIds_length + 1`' />\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
        "comments": "",
        "x": 2539.290351867676,
        "y": 840.3333714008331,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "36d57da.c3bd682",
        "type": "set",
        "name": "Add site attachement to list and update length",
        "xml": "<set>\n<parameter name='prop.siteAttachements[$prop.siteAttachements_length].siteId' value='`$prop.attach.siteId`' />\n<parameter name='prop.siteAttachements[$prop.siteAttachements_length].roles[0]' value='`$prop.role`' />\n<parameter name='prop.siteAttachements[$prop.siteAttachements_length].roles_length' value='1' />\n<parameter name='prop.siteAttachements_length' value='`$prop.siteAttachements_length + 1`' />\n\n\n\n\n\n\n\n\n\n\n\n\n",
        "comments": "",
        "x": 2570.2902450561523,
        "y": 883.3333377838135,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "16a0b0ad.e2c3df",
        "type": "set",
        "name": "set prop.siteAttachement_length=0",
        "xml": "<set>\n<parameter name='prop.siteAttachements_length' value='0' />\n<parameter name='prop.siteIds_length' value='0' />\n\n\n\n",
        "comments": "",
        "x": 656.2896194458008,
        "y": 588.333330154419,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "8eb63937.68f308",
        "type": "block",
        "name": "block atomic",
        "xml": "<block atomic=\"true\">\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1769.623275756836,
        "y": 816.3333358764648,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "f89ede9f.dfe34",
                "fe16c8cc.020428",
                "9d46cf63.0dcd9"
            ]
        ]
    },
    {
        "id": "fe16c8cc.020428",
        "type": "switchNode",
        "name": "switch role",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$pidx].name == 'role'`\">\n    \n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1931.9562072753906,
        "y": 747.3333349227905,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "7b19ac17.f7b154"
            ]
        ]
    },
    {
        "id": "7b19ac17.f7b154",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2094.956211090088,
        "y": 742.3333358764648,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "5fca6bb6.2ad174"
            ]
        ]
    },
    {
        "id": "5fca6bb6.2ad174",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2262.956253051758,
        "y": 736.3333339691162,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "fa5fdce5.2309f",
                "d71b47e7.ba0928",
                "368fa25d.21f04e"
            ]
        ]
    },
    {
        "id": "d71b47e7.ba0928",
        "type": "switchNode",
        "name": "switch sd-wan-edge",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$pidx].value == 'sd-wan-edge'`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2457.956382751465,
        "y": 697.3333253860474,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "4c9e170f.05bda8"
            ]
        ]
    },
    {
        "id": "fa5fdce5.2309f",
        "type": "switchNode",
        "name": "switch dsvpn-hub",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$pidx].name == 'dsvpn-hub'`\">\n    \n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2454.9564895629883,
        "y": 752.333340883255,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "a41f3558.9efd38"
            ]
        ]
    },
    {
        "id": "8f17f745.17ddb8",
        "type": "set",
        "name": "set spoke role",
        "xml": "<set>\n<parameter name='prop.role' value=\"spoke\" />\n",
        "comments": "",
        "x": 2787.9565048217773,
        "y": 691.3333711624146,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "44a0a864.8cd1d8",
        "type": "set",
        "name": "set hub role",
        "xml": "<set>\n<parameter name='prop.role' value=\"hub\" />\n",
        "comments": "",
        "x": 2786.9562644958496,
        "y": 746.3333549499512,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "4c9e170f.05bda8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2627.9563522338867,
        "y": 693,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "8f17f745.17ddb8"
            ]
        ]
    },
    {
        "id": "a41f3558.9efd38",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2631.9563522338867,
        "y": 748,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "44a0a864.8cd1d8"
            ]
        ]
    },
    {
        "id": "b87c5ca2.4198d",
        "type": "update",
        "name": "update SDWAN VPN status to AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='lan-port-config' \n      key='lan-port-config.lan-port-config-id = $vf-module-topology-operation-input.vf-module-information.vf-module-id' >\n<parameter name='lan-port-config-id' value='`$vf-module-topology-operation-input.vf-module-information.vf-module-id`' />\n<parameter name='operational-status' value='Active' />\n<!--parameter name='lan-port-config-id' value='`$prop.lan-port-config-id`' /-->\n",
        "comments": "",
        "outputs": 1,
        "x": 640.3208885192871,
        "y": 2012.031280040741,
        "z": "a60b8cc5.55e8f",
        "wires": [
            []
        ]
    },
    {
        "id": "b4355150.f8381",
        "type": "set",
        "name": "set vf-module-level-oper-status",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-level-oper-status.order-status'  value='Active' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-level-oper-status.last-rpc-action'  value='`$vf-module-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-level-oper-status.last-action'  value='`$vf-module-topology-operation-input.sdnc-request-header.request-action`' />",
        "comments": "",
        "x": 634.9559097290039,
        "y": 1957.126205444336,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "ea89a3cd.96c6c",
        "type": "set",
        "name": "set vf-module-id and vf-module-object-path",
        "xml": "<set>\n<parameter name='vf-module-object-path' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vf-module-topology-operation-input.service-information.service-instance-id\n + '/service-data/vnfs/vnf/'\n + $service-data.vnfs.vnf[$vnf-index].vnf-id\n + '/vnf-data/vf-modules/vf-module/'\n + $vf-module-topology-operation-input.vf-module-information.vf-module-id\n + '/vf-module-data/vf-module-topology/'`\"/>\n<parameter name='vnf-object-path'\n value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vf-module-topology-operation-input.service-information.service-instance-id\n + '/service-data/vnfs/vnf/'\n + $service-data.vnfs.vnf[$vnf-index].vnf-id\n + '/vnf-data/vnf-topology/'`\"/>\n<parameter name='service-object-path'\n value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vf-module-topology-operation-input.service-information.service-instance-id\n + '/service-data/service-topology/'`\"/>\n",
        "comments": "",
        "x": 670.9559097290039,
        "y": 1910.6261444091797,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "e352097b.fa56f8",
        "type": "set",
        "name": "copy input data in service-data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.sdnc-request-header.' value='`$vf-module-topology-operation-input.sdnc-request-header.`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.request-information.' value='`$vf-module-topology-operation-input.request-information.`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.service-information.' value='`$vf-module-topology-operation-input.service-information.`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-information.' value='`$vf-module-topology-operation-input.vf-module-information.`' />\n",
        "comments": "",
        "x": 634.9558601379395,
        "y": 1858.876064300537,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "9f914b2c.f63948",
        "type": "set",
        "name": "set device PortId to service data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length].name' value='devicePortId' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length].value' value='`$prop.lan.devicePortId`' />\n",
        "comments": "",
        "x": 641.3209266662598,
        "y": 1752.0314636230469,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "23f60fe.f5fa6f",
        "type": "set",
        "name": "set lan PortId to service data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length].name' value='lanPortId' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length].value' value='`$prop.lan.lanPortId`' />\n",
        "comments": "",
        "x": 627.3208503723145,
        "y": 1806.0312767028809,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "1a9cf10f.4a8b1f",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/svclogic21.log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"prop.attach.siteId\"/>\n<parameter name=\"field3\" value='`$prop.attach.siteId`'/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2464.3209915161133,
        "y": 928.5312805175781,
        "z": "a60b8cc5.55e8f",
        "wires": [
            []
        ]
    },
    {
        "id": "368fa25d.21f04e",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/svclogic22.log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"set spoke role\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2433.321002960205,
        "y": 659.531247138977,
        "z": "a60b8cc5.55e8f",
        "wires": [
            []
        ]
    },
    {
        "id": "9d46cf63.0dcd9",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/svclogic23.log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"param-name\"/>\n<parameter name=\"field3\" value='`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$pidx].name`'/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1927.3208541870117,
        "y": 691.53125,
        "z": "a60b8cc5.55e8f",
        "wires": [
            []
        ]
    },
    {
        "id": "62b5eb93.96f0e4",
        "type": "comment",
        "name": "**revert the changes",
        "info": "",
        "comments": "",
        "x": 1328.3208808898926,
        "y": 697.0312824249268,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "4995fb6d.83aaf4",
        "type": "switchNode",
        "name": "switch vf-modules.vf-module_length",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module_length >= '0'`\">\n\n<!--switch test=\"`$service-data.vnfs.vnf[$i].vnf-data.request-information.request-action == 'ActivateSDWANDeviceInstance'`\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 871.5038909912109,
        "y": 511.25390625,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "208d9618.3a993a"
            ]
        ]
    },
    {
        "id": "208d9618.3a993a",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 977.50390625,
        "y": 562.25390625,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "fd503aa4.1469a8"
            ]
        ]
    },
    {
        "id": "8fd527ce.0b2738",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 671.7539138793945,
        "y": 472.0039048194885,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "4995fb6d.83aaf4"
            ]
        ]
    },
    {
        "id": "fd503aa4.1469a8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1129.753890991211,
        "y": 559.0039281845093,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "2dd1b5ff.e9de3a"
            ]
        ]
    },
    {
        "id": "258487d9.bf18e8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1873.5039710998535,
        "y": 557.0039119720459,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "bc24bdbf.b7fae"
            ]
        ]
    },
    {
        "id": "63f09f8.86bc26",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 878.2539176940918,
        "y": 910.7539704740047,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "6c04212d.63f27"
            ]
        ]
    },
    {
        "id": "b3737121.de6a3",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 881.7448844909668,
        "y": 958.328006118536,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "b8053b7f.3dfe58"
            ]
        ]
    },
    {
        "id": "b40d4802.cec768",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 877.0778923034668,
        "y": 999.6613191068172,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "11f26c3c.e24064"
            ]
        ]
    },
    {
        "id": "b8053b7f.3dfe58",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
        "comments": "",
        "x": 1058.3162956237793,
        "y": 946.6137422025204,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "11f26c3c.e24064",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
        "comments": "",
        "x": 1064.8504486083984,
        "y": 995.1005118787289,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "b9f93820.627df8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 880.2539901733398,
        "y": 1053.7540006637573,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "ea0a2431.4fcee8"
            ]
        ]
    },
    {
        "id": "4b6f89c7.7da458",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 872.5039901733398,
        "y": 1107.3968839645386,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "10698363.0892ad"
            ]
        ]
    },
    {
        "id": "ea0a2431.4fcee8",
        "type": "set",
        "name": "set token-id",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.token_id' value='`$token-result.data.token_id`' />\n",
        "comments": "",
        "x": 1030.2539176940918,
        "y": 1054.7539691925049,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "10698363.0892ad",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing get token rest api\" />\n",
        "comments": "",
        "x": 1025.2539901733398,
        "y": 1107.1469449996948,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "6c04212d.63f27",
        "type": "set",
        "name": "set controller data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.url' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.user' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.password' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n",
        "comments": "",
        "x": 1073.7539978027344,
        "y": 905.7539749145508,
        "z": "a60b8cc5.55e8f",
        "wires": []
    },
    {
        "id": "97edc5d7.68c598",
        "type": "execute",
        "name": "execute RestApiCallNode Get token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/actokentemplate.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/v2/tokens'`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"token-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>",
        "comments": "",
        "outputs": 1,
        "x": 631.2539672851562,
        "y": 1076.754077911377,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "b9f93820.627df8",
                "4b6f89c7.7da458"
            ]
        ]
    },
    {
        "id": "13f149d1.1db0a6",
        "type": "get-resource",
        "name": "get-resource esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = 'SDWANController' AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.esr-thirdparty-sdnc' local-only='false' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 616.254035949707,
        "y": 957.7539901733398,
        "z": "a60b8cc5.55e8f",
        "wires": [
            [
                "63f09f8.86bc26",
                "b3737121.de6a3",
                "b40d4802.cec768"
            ]
        ]
    },
    {
        "id": "deaed14.de5b43",
        "type": "execute",
        "name": "execute Properties",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
        "comments": "",
        "outputs": 1,
        "x": 631.00390625,
        "y": 291.50390625,
        "z": "a60b8cc5.55e8f",
        "wires": [
            []
        ]
    }
]