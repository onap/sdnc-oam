[
    {
        "id": "e69423a5.584ae",
        "type": "execute",
        "name": "execute Properties",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
        "comments": "",
        "outputs": 1,
        "x": 849.5312957763672,
        "y": 366.07812881469727,
        "z": "4fee9402.f5c9bc",
        "wires": [
            []
        ]
    },
    {
        "id": "a2e25c17.8e9c",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 130,
        "y": 54.0000057220459,
        "z": "4fee9402.f5c9bc",
        "wires": [
            [
                "3fa8aef8.7e3df2"
            ]
        ]
    },
    {
        "id": "3fa8aef8.7e3df2",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 261.2856903076172,
        "y": 103.23811435699463,
        "z": "4fee9402.f5c9bc",
        "wires": [
            [
                "2162b779.2eb3a8"
            ]
        ]
    },
    {
        "id": "2162b779.2eb3a8",
        "type": "method",
        "name": "method sdwan-vf-operation-wanport-deactivate",
        "xml": "<method rpc='sdwan-vf-operation-wanport-deactivate' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 264.4286193847656,
        "y": 188.00003814697266,
        "z": "4fee9402.f5c9bc",
        "wires": [
            [
                "832591c7.4ef99"
            ]
        ]
    },
    {
        "id": "7df3c0c6.f5b88",
        "type": "for",
        "name": "for each vnf",
        "xml": "<for index='idx' start='0' end='`$service-data.vnfs.vnf_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 834.53125,
        "y": 203.07812213897705,
        "z": "4fee9402.f5c9bc",
        "wires": [
            [
                "112ac69c.661419"
            ]
        ]
    },
    {
        "id": "112ac69c.661419",
        "type": "switchNode",
        "name": "switch this vnf-id == input vnf-id",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$idx].vnf-id == $vf-module-topology-operation-input.vnf-information.vnf-id`\">    \n",
        "comments": "",
        "outputs": 1,
        "x": 1086.5313415527344,
        "y": 201.7447853088379,
        "z": "4fee9402.f5c9bc",
        "wires": [
            [
                "9fb48502.518d68"
            ]
        ]
    },
    {
        "id": "e66ecc6.7152f3",
        "type": "set",
        "name": "set vnf-index",
        "xml": "<set>\n<parameter name='vnf-index' value='`$idx`' />\n",
        "comments": "",
        "x": 1458.1978302001953,
        "y": 203.74478816986084,
        "z": "4fee9402.f5c9bc",
        "wires": []
    },
    {
        "id": "9fb48502.518d68",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1304.864658355713,
        "y": 203.74476718902588,
        "z": "4fee9402.f5c9bc",
        "wires": [
            [
                "e66ecc6.7152f3"
            ]
        ]
    },
    {
        "id": "ff28f3d.3169d1",
        "type": "switchNode",
        "name": "switch vnf_length",
        "xml": "<switch test='`$service-data.vnfs.vnf_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 848.9518432617188,
        "y": 158.5819911956787,
        "z": "4fee9402.f5c9bc",
        "wires": [
            [
                "a6a2da6e.228e08"
            ]
        ]
    },
    {
        "id": "a6a2da6e.228e08",
        "type": "other",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 1035.618522644043,
        "y": 157.9152889251709,
        "z": "4fee9402.f5c9bc",
        "wires": [
            [
                "c0d198d3.426068"
            ]
        ]
    },
    {
        "id": "c0d198d3.426068",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"404\" />\n    <parameter name=\"error-message\" value=\"There are no VNFs in MD-SAL\" />\n",
        "comments": "",
        "x": 1217.2851486206055,
        "y": 157.9152889251709,
        "z": "4fee9402.f5c9bc",
        "wires": []
    },
    {
        "id": "61f42e0f.accb4",
        "type": "for",
        "name": "for each existing vf-index",
        "xml": "<for index='idx' start='0' end='`$vf-module-length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1487.5312576293945,
        "y": 373.0781125728972,
        "z": "4fee9402.f5c9bc",
        "wires": [
            [
                "ce0facb9.acf8f"
            ]
        ]
    },
    {
        "id": "d0cbbcf7.18e0c",
        "type": "switchNode",
        "name": "switch vf-module-id found",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-id == $vf-module-topology-operation-input.vf-module-information.vf-module-id`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 1906.8170928955078,
        "y": 375.6496305465698,
        "z": "4fee9402.f5c9bc",
        "wires": [
            [
                "ada2f692.ece248"
            ]
        ]
    },
    {
        "id": "bd278e04.68d68",
        "type": "set",
        "name": "set vf-module-length",
        "xml": "<set>\n<parameter name='vf-module-length' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length`' />\n\n\n",
        "comments": "",
        "x": 1474.102882385254,
        "y": 336.8559989929199,
        "z": "4fee9402.f5c9bc",
        "wires": []
    },
    {
        "id": "4efb1646.df29b8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1278.4042778015137,
        "y": 350.2368840877898,
        "z": "4fee9402.f5c9bc",
        "wires": [
            [
                "61f42e0f.accb4",
                "bd278e04.68d68",
                "49047f5d.3dde6"
            ]
        ]
    },
    {
        "id": "1c241e5.3b7e6e2",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1134.047233581543,
        "y": 350.3003720943816,
        "z": "4fee9402.f5c9bc",
        "wires": [
            [
                "4efb1646.df29b8"
            ]
        ]
    },
    {
        "id": "8e428583.69a8e8",
        "type": "switchNode",
        "name": "switch vf-modules.vf-module_length",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 898.047215461731,
        "y": 277.3003845214844,
        "z": "4fee9402.f5c9bc",
        "wires": [
            [
                "1c241e5.3b7e6e2",
                "45b16795.1e16b8",
                "5c72c52f.a612dc"
            ]
        ]
    },
    {
        "id": "45b16795.1e16b8",
        "type": "outcome",
        "name": "0",
        "xml": "<outcome value='0'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1139.5312519073486,
        "y": 249.0781135559082,
        "z": "4fee9402.f5c9bc",
        "wires": [
            [
                "b89d0343.04bd1"
            ]
        ]
    },
    {
        "id": "5c72c52f.a612dc",
        "type": "other",
        "name": "Null",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 1141.5624408721924,
        "y": 286.10942459106445,
        "z": "4fee9402.f5c9bc",
        "wires": [
            [
                "b89d0343.04bd1"
            ]
        ]
    },
    {
        "id": "b89d0343.04bd1",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"vf-module-operation-input.vf-module-request-input.vf-id not found in service-data\" />\n",
        "comments": "",
        "x": 1299.3399562835693,
        "y": 266.9983730316162,
        "z": "4fee9402.f5c9bc",
        "wires": []
    },
    {
        "id": "ada2f692.ece248",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2110.53133392334,
        "y": 374.0781369502656,
        "z": "4fee9402.f5c9bc",
        "wires": [
            [
                "8cb3d733.8b9cc8"
            ]
        ]
    },
    {
        "id": "8cb3d733.8b9cc8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1872.8745422363281,
        "y": 476.16428661346436,
        "z": "4fee9402.f5c9bc",
        "wires": [
            [
                "e9572390.a2ce1",
                "7be5423c.87235c",
                "39502de7.a9fc62"
            ]
        ]
    },
    {
        "id": "e9572390.a2ce1",
        "type": "set",
        "name": "set tmp.vidx and ctx.vnf-data",
        "xml": "<set>\n<parameter name='tmp.vidx' value='`$idx`' />\n<parameter name='ctx.vf-module-data.' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-data.`' />\n",
        "comments": "",
        "x": 2114.7612342834473,
        "y": 446.50670051574707,
        "z": "4fee9402.f5c9bc",
        "wires": []
    },
    {
        "id": "7be5423c.87235c",
        "type": "set",
        "name": "set vf-module-request-input.",
        "xml": "<set>\n<parameter name='vf-module-request-input.' value='`$ctx.vf-module-data.vf-module-request-input.`' />\n\n",
        "comments": "",
        "x": 2118.207492828369,
        "y": 491.1643395423889,
        "z": "4fee9402.f5c9bc",
        "wires": []
    },
    {
        "id": "ce0facb9.acf8f",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1695.0313034057617,
        "y": 373.07812118530273,
        "z": "4fee9402.f5c9bc",
        "wires": [
            [
                "d0cbbcf7.18e0c"
            ]
        ]
    },
    {
        "id": "2948d13a.1b821e",
        "type": "comment",
        "name": "Get devices",
        "info": "",
        "comments": "",
        "x": 848.0315361022949,
        "y": 494.0781602859497,
        "z": "4fee9402.f5c9bc",
        "wires": []
    },
    {
        "id": "49047f5d.3dde6",
        "type": "set",
        "name": "set prop.site.deviceId_length",
        "xml": "<set>\n<parameter name='prop.site.deviceId_length' value='0' />\n",
        "comments": "",
        "x": 1500.53125,
        "y": 301.07812213897705,
        "z": "4fee9402.f5c9bc",
        "wires": []
    },
    {
        "id": "832591c7.4ef99",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 405.52733993530273,
        "y": 405.0742197036743,
        "z": "4fee9402.f5c9bc",
        "wires": [
            [
                "ff28f3d.3169d1",
                "7df3c0c6.f5b88",
                "8e428583.69a8e8",
                "e69423a5.584ae",
                "ce0e4f49.1217b",
                "16f0a729.f1f5a9",
                "d2d93614.7c8ad8",
                "2604b323.ea5f4c",
                "9139c857.0718b8",
                "c9d5923c.c3e6a",
                "4a67f6d4.3597f8",
                "7c127312.19825c",
                "1954d3bb.e0ec6c"
            ]
        ]
    },
    {
        "id": "39502de7.a9fc62",
        "type": "call",
        "name": "call sdwan-get-wan-param",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='sdwan-get-wan-param' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2109.5039443969727,
        "y": 538.0039381980896,
        "z": "4fee9402.f5c9bc",
        "wires": [
            []
        ]
    },
    {
        "id": "9139c857.0718b8",
        "type": "get-resource",
        "name": "get-resource esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = SDWANController AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.esr-thirdparty-sdnc' local-only='false' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 893.2539443969727,
        "y": 444.75391960144043,
        "z": "4fee9402.f5c9bc",
        "wires": [
            [
                "679a2fa0.7fa24",
                "db810e5a.69a4a",
                "b796d6f.b8abb28"
            ]
        ]
    },
    {
        "id": "679a2fa0.7fa24",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1125.2540283203125,
        "y": 408.753942489624,
        "z": "4fee9402.f5c9bc",
        "wires": [
            [
                "e1a99634.deb268"
            ]
        ]
    },
    {
        "id": "db810e5a.69a4a",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1127.7449111938477,
        "y": 444.3279790878296,
        "z": "4fee9402.f5c9bc",
        "wires": [
            [
                "363ab1e2.2b5cce"
            ]
        ]
    },
    {
        "id": "b796d6f.b8abb28",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1123.0779190063477,
        "y": 480.661337852478,
        "z": "4fee9402.f5c9bc",
        "wires": [
            [
                "cdf3743a.490b68"
            ]
        ]
    },
    {
        "id": "cdf3743a.490b68",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
        "comments": "",
        "x": 1276.8504104614258,
        "y": 478.1004247665405,
        "z": "4fee9402.f5c9bc",
        "wires": []
    },
    {
        "id": "363ab1e2.2b5cce",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
        "comments": "",
        "x": 1273.316307067871,
        "y": 442.6136665344238,
        "z": "4fee9402.f5c9bc",
        "wires": []
    },
    {
        "id": "e1a99634.deb268",
        "type": "set",
        "name": "set controller data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.url' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.user' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.password' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n",
        "comments": "",
        "x": 1280.7541427612305,
        "y": 407.75383472442627,
        "z": "4fee9402.f5c9bc",
        "wires": []
    },
    {
        "id": "c9d5923c.c3e6a",
        "type": "execute",
        "name": "execute RestApiCallNode Get token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/actokentemplate.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/v2/tokens'`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"token-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>",
        "comments": "",
        "outputs": 1,
        "x": 907.7640762329102,
        "y": 532.4309215545654,
        "z": "4fee9402.f5c9bc",
        "wires": [
            [
                "80be9352.04481",
                "fdeb2c27.d10b4"
            ]
        ]
    },
    {
        "id": "80be9352.04481",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1142.76420211792,
        "y": 518.4309101104736,
        "z": "4fee9402.f5c9bc",
        "wires": [
            [
                "303f14f3.7822fc"
            ]
        ]
    },
    {
        "id": "303f14f3.7822fc",
        "type": "set",
        "name": "set token-id",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.token_id' value='`$token-result.data.token_id`' />\n",
        "comments": "",
        "x": 1284.7642097473145,
        "y": 517.430911064148,
        "z": "4fee9402.f5c9bc",
        "wires": []
    },
    {
        "id": "de3334dd.87a328",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing get token rest api\" />\n",
        "comments": "",
        "x": 1290.7642097473145,
        "y": 554.823899269104,
        "z": "4fee9402.f5c9bc",
        "wires": []
    },
    {
        "id": "fdeb2c27.d10b4",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1142.01420211792,
        "y": 554.0738172531128,
        "z": "4fee9402.f5c9bc",
        "wires": [
            [
                "de3334dd.87a328"
            ]
        ]
    },
    {
        "id": "4a67f6d4.3597f8",
        "type": "call",
        "name": "call sdwan-get-tenant-auth",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='sdwan-get-tenant-auth' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 884.7638244628906,
        "y": 585.7639970779419,
        "z": "4fee9402.f5c9bc",
        "wires": [
            []
        ]
    },
    {
        "id": "2604b323.ea5f4c",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 849.8993644714355,
        "y": 1030.5663061141968,
        "z": "4fee9402.f5c9bc",
        "wires": []
    },
    {
        "id": "4c7ada40.e6d834",
        "type": "update",
        "name": "update SDWAN wan port instance configuration in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='wan-port-config' \n      key='wan-port-config.wan-port-config-id = $vf-module-topology-operation-input.vnf-information.vnf-id' >\n<parameter name=\"wan-port-config-id\" value=\"`$vf-module-topology-operation-input.vnf-information.vnf-id`\" />\n<parameter name='operational-status' value='PendingDelete' />\n<parameter name='model-customization-id' value='`$vf-module-topology-operation-input.vnf-information.onap-model-information.model-customization-uuid`' />\n<parameter name='model-invariant-id' value='`$vf-module-topology-operation-input.vnf-information.onap-model-information.model-invariant-uuid`' />\n<parameter name='model-version-id' value='`$vf-module-topology-operation-input.vnf-information.onap-model-information.model-uuid`' />\n",
        "comments": "",
        "outputs": 1,
        "x": 969.2184829711914,
        "y": 990.3698863983154,
        "z": "4fee9402.f5c9bc",
        "wires": [
            []
        ]
    },
    {
        "id": "ce0e4f49.1217b",
        "type": "set",
        "name": "copy input data to service data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.sdnc-request-header.' value='`$vf-module-topology-operation-input.sdnc-request-header.`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.request-information.' value='`$vf-module-topology-operation-input.request-information.`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.service-information.' value='`$vf-module-topology-operation-input.service-information.`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-information.' value='`$vf-module-topology-operation-input.vf-module-information.`' />\n",
        "comments": "",
        "x": 903.59619140625,
        "y": 864.7630681991577,
        "z": "4fee9402.f5c9bc",
        "wires": []
    },
    {
        "id": "16f0a729.f1f5a9",
        "type": "set",
        "name": "set vf-module-id and vf-module-object-path",
        "xml": "<set>\n<parameter name='vf-module-object-path' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vf-module-topology-operation-input.service-information.service-instance-id\n + '/service-data/vnfs/vnf/'\n + $service-data.vnfs.vnf[$vnf-index].vnf-id\n + '/vnf-data/vf-modules/vf-module/'\n + $vf-module-topology-operation-input.vf-module-information.vf-module-id\n + '/vf-module-data/vf-module-topology/'`\"/>\n<parameter name='vnf-object-path'\n value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vf-module-topology-operation-input.service-information.service-instance-id\n + '/service-data/vnfs/vnf/'\n + $service-data.vnfs.vnf[$vnf-index].vnf-id\n + '/vnf-data/vnf-topology/'`\"/>\n<parameter name='service-object-path'\n value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vf-module-topology-operation-input.service-information.service-instance-id\n + '/service-data/service-topology/'`\"/>\n",
        "comments": "",
        "x": 937.8993911743164,
        "y": 908.5661773681641,
        "z": "4fee9402.f5c9bc",
        "wires": []
    },
    {
        "id": "d2d93614.7c8ad8",
        "type": "set",
        "name": "set vf-module-level-oper-status",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-level-oper-status.order-status'  value='PendingDelete' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-level-oper-status.last-rpc-action'  value='`$vf-module-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-level-oper-status.last-action'  value='`$vf-module-topology-operation-input.sdnc-request-header.request-action`' />",
        "comments": "",
        "x": 904.8993911743164,
        "y": 944.5661773681641,
        "z": "4fee9402.f5c9bc",
        "wires": []
    },
    {
        "id": "1954d3bb.e0ec6c",
        "type": "execute",
        "name": "execute RestApiCallNode device port delete",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sdwan-device-port-del.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/campus/v1/sdwan/net/ports/action/batch-delete'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"portResp\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 952.03125,
        "y": 770.078145980835,
        "z": "4fee9402.f5c9bc",
        "wires": [
            [
                "5763133a.85c38c",
                "e2a71559.3f3e88"
            ]
        ]
    },
    {
        "id": "5763133a.85c38c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1198.031234741211,
        "y": 808.0782346725464,
        "z": "4fee9402.f5c9bc",
        "wires": [
            [
                "c730322d.384d7"
            ]
        ]
    },
    {
        "id": "e2a71559.3f3e88",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1194.0313148498535,
        "y": 762.0781497955322,
        "z": "4fee9402.f5c9bc",
        "wires": [
            [
                "33e8f10d.25726e"
            ]
        ]
    },
    {
        "id": "33e8f10d.25726e",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create vpn rest api\" />\n",
        "comments": "",
        "x": 1335.031406402588,
        "y": 762.0781507492065,
        "z": "4fee9402.f5c9bc",
        "wires": []
    },
    {
        "id": "c730322d.384d7",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1342.0311012268066,
        "y": 806.0781536102295,
        "z": "4fee9402.f5c9bc",
        "wires": [
            []
        ]
    },
    {
        "id": "7c127312.19825c",
        "type": "execute",
        "name": "execute RestApiCallNode wan port delete",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sdwan-wan-port-del.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/campus/v1/sdwan/net/transport-network-ports/action/batch-delete'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"portResp\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 947.0314178466797,
        "y": 664.0781440734863,
        "z": "4fee9402.f5c9bc",
        "wires": [
            [
                "e0828ab7.60a978",
                "3d0c4f43.fce4d"
            ]
        ]
    },
    {
        "id": "e0828ab7.60a978",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1235.0315132141113,
        "y": 696.0781135559082,
        "z": "4fee9402.f5c9bc",
        "wires": [
            [
                "aca8b9c6.d1fb58"
            ]
        ]
    },
    {
        "id": "3d0c4f43.fce4d",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1239.031593322754,
        "y": 632.0781917572021,
        "z": "4fee9402.f5c9bc",
        "wires": [
            [
                "729b835e.b7b53c"
            ]
        ]
    },
    {
        "id": "729b835e.b7b53c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create vpn rest api\" />\n",
        "comments": "",
        "x": 1384.0317649841309,
        "y": 634.0781917572021,
        "z": "4fee9402.f5c9bc",
        "wires": []
    },
    {
        "id": "aca8b9c6.d1fb58",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1391.0313568115234,
        "y": 694.0781135559082,
        "z": "4fee9402.f5c9bc",
        "wires": [
            []
        ]
    }
]