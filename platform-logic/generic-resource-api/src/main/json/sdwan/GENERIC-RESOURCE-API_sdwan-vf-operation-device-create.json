[
    {
        "id": "821566b7.574ec8",
        "type": "switchNode",
        "name": "switch this vnf-id == input vnf-id",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$idx].vnf-id == $vf-module-topology-operation-input.vnf-information.vnf-id`\">    \n",
        "comments": "",
        "outputs": 1,
        "x": 960.8295135498047,
        "y": 110.16277694702148,
        "z": "733e8181.5f952",
        "wires": [
            [
                "eec9f36b.5a0c"
            ]
        ]
    },
    {
        "id": "d40a084a.6f2588",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 233.5,
        "y": 137.99996948242188,
        "z": "733e8181.5f952",
        "wires": [
            [
                "1de29098.ddc80f"
            ]
        ]
    },
    {
        "id": "1de29098.ddc80f",
        "type": "method",
        "name": "sdwan-vf-operation-device-create",
        "xml": "<method rpc='sdwan-vf-operation-device-create' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 232.5,
        "y": 237.99996948242188,
        "z": "733e8181.5f952",
        "wires": [
            [
                "9f992f9c.8a487"
            ]
        ]
    },
    {
        "id": "4c6f670b.c2c6d8",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 119.00000190734863,
        "y": 30.999978065490723,
        "z": "733e8181.5f952",
        "wires": [
            [
                "d40a084a.6f2588"
            ]
        ]
    },
    {
        "id": "9f992f9c.8a487",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 391.49998474121094,
        "y": 353.9999780654907,
        "z": "733e8181.5f952",
        "wires": [
            [
                "d97bdbd.b5a2228",
                "4f2d7d0d.999f74",
                "dee710cd.ca85",
                "d88023f7.7d3a8",
                "3e041f0a.e8cf6",
                "63fc3cae.1a8d64",
                "9e6e94f2.3747e8",
                "7b7141b6.bbc37",
                "c1f5c656.fe94d8",
                "ad218d24.1c31b",
                "9d4bf29.736ea1",
                "d203bc0.a3fc148",
                "4b23d061.6993e",
                "c01de3c9.ac2f7"
            ]
        ]
    },
    {
        "id": "d97bdbd.b5a2228",
        "type": "for",
        "name": "for each vnf",
        "xml": "<for index='idx' start='0' end='`$service-data.vnfs.vnf_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 708.8294219970703,
        "y": 111.49611377716064,
        "z": "733e8181.5f952",
        "wires": [
            [
                "821566b7.574ec8"
            ]
        ]
    },
    {
        "id": "56fa098a.92ab48",
        "type": "set",
        "name": "set vnf-index",
        "xml": "<set>\n<parameter name='vnf-index' value='`$idx`' />\n",
        "comments": "",
        "x": 1332.4960021972656,
        "y": 112.16277980804443,
        "z": "733e8181.5f952",
        "wires": []
    },
    {
        "id": "eec9f36b.5a0c",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1179.1628303527832,
        "y": 112.16275882720947,
        "z": "733e8181.5f952",
        "wires": [
            [
                "56fa098a.92ab48"
            ]
        ]
    },
    {
        "id": "dee710cd.ca85",
        "type": "for",
        "name": "for loop idx - VF input parameters",
        "xml": "<for index=\"idx\" start=\"0\" end=\"`$vf-module-topology-operation-input.vf-module-request-input.vf-module-input-parameters.param_length`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 789.7501602172852,
        "y": 512.6666584014893,
        "z": "733e8181.5f952",
        "wires": [
            [
                "436de4e7.42d0dc"
            ]
        ]
    },
    {
        "id": "436de4e7.42d0dc",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1004.5285034179688,
        "y": 510.2222423553467,
        "z": "733e8181.5f952",
        "wires": [
            [
                "cf7990a6.16db2",
                "7209ebfc.c9a914"
            ]
        ]
    },
    {
        "id": "cf7990a6.16db2",
        "type": "execute",
        "name": "execute split parameterName",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$vf-module-topology-operation-input.vf-module-request-input.vf-module-input-parameters.param[$idx].name`'/>\n<parameter name=\"regex\" value=\"_\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1200.7847061157227,
        "y": 487.97038078308105,
        "z": "733e8181.5f952",
        "wires": [
            []
        ]
    },
    {
        "id": "7209ebfc.c9a914",
        "type": "set",
        "name": "set parameterName",
        "xml": "<set>\n<parameter name=\"`vf-module-topology-operation-input.vf-module-request-input.vf-module-input-parameters.param[$idx].name`\" value='`$param-prefix[$param-prefix_length -1]`'/>\n",
        "comments": "",
        "x": 1170.229133605957,
        "y": 524.9704971313477,
        "z": "733e8181.5f952",
        "wires": []
    },
    {
        "id": "4f2d7d0d.999f74",
        "type": "switchNode",
        "name": "switch vnf_length",
        "xml": "<switch test='`$service-data.vnfs.vnf_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 723.2500152587891,
        "y": 66.9999828338623,
        "z": "733e8181.5f952",
        "wires": [
            [
                "c0e9a069.677ce"
            ]
        ]
    },
    {
        "id": "c0e9a069.677ce",
        "type": "other",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 909.9166946411133,
        "y": 66.33328056335449,
        "z": "733e8181.5f952",
        "wires": [
            [
                "b95a966d.82bf18"
            ]
        ]
    },
    {
        "id": "b95a966d.82bf18",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"404\" />\n    <parameter name=\"error-message\" value=\"There are no VNFs in MD-SAL\" />\n",
        "comments": "",
        "x": 1091.5833206176758,
        "y": 66.33328056335449,
        "z": "733e8181.5f952",
        "wires": []
    },
    {
        "id": "63fc3cae.1a8d64",
        "type": "set",
        "name": "copy input data to service data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-index].vf-module-id' value='`$prop.vf-id`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-index].vf-module-data.sdnc-request-header.' value='`$vf-module-topology-operation-input.sdnc-request-header.`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-index].vf-module-data.request-information.' value='`$vf-module-topology-operation-input.request-information.`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-index].vf-module-data.service-information.' value='`$vf-module-topology-operation-input.service-information.`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-index].vf-module-data.vnf-information.' value='`$vf-module-topology-operation-input.vnf-information.`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-index].vf-module-data.vf-module-information.' value='`$vf-module-topology-operation-input.vf-module-information.`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-index].vf-module-data.vf-module-request-input.' value='`$vf-module-topology-operation-input.vf-module-request-input.`' />\n\n\n",
        "comments": "",
        "x": 774.353141784668,
        "y": 679.4962401390076,
        "z": "733e8181.5f952",
        "wires": []
    },
    {
        "id": "d88023f7.7d3a8",
        "type": "set",
        "name": "set vf-module-request-input.",
        "xml": "<set>\n<parameter name='vf-module-request-input.' value='`$vf-module-topology-operation-input.vf-module-request-input.`' />\n",
        "comments": "",
        "x": 780.6862983703613,
        "y": 575.1542224884033,
        "z": "733e8181.5f952",
        "wires": []
    },
    {
        "id": "3e041f0a.e8cf6",
        "type": "call",
        "name": "call sdwan-get-vf-module-device-param",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='sdwan-get-vf-module-device-param' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 806.6866760253906,
        "y": 631.1544561386108,
        "z": "733e8181.5f952",
        "wires": [
            []
        ]
    },
    {
        "id": "9e6e94f2.3747e8",
        "type": "set",
        "name": "set vf-module-object-path",
        "xml": "<set>\n<parameter name='vf-module-object-path' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vf-module-topology-operation-input.service-information.service-instance-id\n + '/service-data/vnfs/vnf/'\n + $service-data.vnfs.vnf[$vnf-index].vnf-id\n + '/vnf-data/vf-modules/vf-module/'\n + $prop.vf-id\n + '/vf-module-data/vf-module-topology/'`\"/>\n<parameter name='vnf-object-path'\n value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vf-module-topology-operation-input.service-information.service-instance-id\n + '/service-data/vnfs/vnf/'\n + $service-data.vnfs.vnf[$vnf-index].vnf-id\n + '/vnf-data/vnf-topology/'`\"/>\n<parameter name='service-object-path'\n value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vf-module-topology-operation-input.service-information.service-instance-id\n + '/service-data/service-topology/'`\"/>\n",
        "comments": "",
        "x": 769.5000343322754,
        "y": 730.0000853538513,
        "z": "733e8181.5f952",
        "wires": []
    },
    {
        "id": "7b7141b6.bbc37",
        "type": "set",
        "name": "set vf-module-level-oper-status",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-index].vf-module-data.vf-module-level-oper-status.order-status'  value='Created' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-index].vf-module-data.vf-module-level-oper-status.last-rpc-action'  value='`$vf-module-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-index].vf-module-data.vf-module-level-oper-status.last-action'  value='`$vf-module-topology-operation-input.sdnc-request-header.request-action`' />\n",
        "comments": "",
        "x": 777.0001373291016,
        "y": 778.0000495910645,
        "z": "733e8181.5f952",
        "wires": []
    },
    {
        "id": "47b47b46.1004a4",
        "type": "save",
        "name": "save sdwan vpn resource in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='device' \n      key='device.device-id = $prop.vf-id' >\n<parameter name='device-id' value='`$prop.vf-id`' />\n<parameter name='esn' value='`$prop.device.esn`' />\n<parameter name='device-name' value='`$prop.device.name`' />\n<parameter name='description' value='`$prop.device.description`' />\n<parameter name='vendor' value='`$prop.device.vendor`' />\n<parameter name='class' value='`$prop.device.class`' />\n<parameter name='type' value='`$prop.device.deviceModel`' />\n<parameter name='version' value='`$prop.device.version`' />\n<parameter name='system-ip' value='`$prop.device.systemIp`' />\n<parameter name='operational-status' value='Created' />\n<!--parameter name='model-customization-id' value='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-customization-uuid`' />\n<parameter name='model-invariant-id' value='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-invariant-uuid`' />\n<parameter name='model-version-id' value='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-version`' /-->\n<parameter name='selflink' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'  + $vf-module-topology-operation-input.service-information.service-instance-id  + '/service-data/vnfs/vnf/'  + $service-data.vnfs.vnf[$vnf-index].vnf-id  + '/vnf-data/vf-modules/vf-module/' + $prop.vf-id + '/vf-module-data/'` \" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1211.5000534057617,
        "y": 803.499997138977,
        "z": "733e8181.5f952",
        "wires": [
            []
        ]
    },
    {
        "id": "ad218d24.1c31b",
        "type": "save",
        "name": "save service relationship in AAI",
        "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='generic-vnf:relationship-list' \n      key='generic-vnf.vnf-id = $service-data.vnfs.vnf[$vnf-index].vnf-id' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"device\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/devices/device/' + $prop.vf-id`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"device.device-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$prop.vf-id`\" />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 780.4999313354492,
        "y": 871.5000486373901,
        "z": "733e8181.5f952",
        "wires": [
            []
        ]
    },
    {
        "id": "c1f5c656.fe94d8",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 729.2224617004395,
        "y": 917.673891544342,
        "z": "733e8181.5f952",
        "wires": []
    },
    {
        "id": "ee2042d.a4725c",
        "type": "execute",
        "name": "execute generate-vf-id",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.vf-id\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1256.6667785644531,
        "y": 191.3333225250244,
        "z": "733e8181.5f952",
        "wires": [
            []
        ]
    },
    {
        "id": "94013ce4.c8f2",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1009.6663055419922,
        "y": 205.98472499847412,
        "z": "733e8181.5f952",
        "wires": [
            [
                "ee2042d.a4725c",
                "44ea520f.b8273c",
                "5e946bb.6da0294"
            ]
        ]
    },
    {
        "id": "d852a685.8b5388",
        "type": "set",
        "name": "set prop.vf-id",
        "xml": "<set>\n<parameter name='prop.vf-id' value='`$vf-module-topology-operation-input.vf-module-information.vf-module-id`' />\n",
        "comments": "",
        "x": 1215.1981735229492,
        "y": 409.01636028289795,
        "z": "733e8181.5f952",
        "wires": []
    },
    {
        "id": "9bc65daf.8ffd4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1009.1977996826172,
        "y": 362.01609230041504,
        "z": "733e8181.5f952",
        "wires": [
            [
                "d852a685.8b5388",
                "44ea520f.b8273c",
                "3add877f.53e948"
            ]
        ]
    },
    {
        "id": "44ea520f.b8273c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1244.697898864746,
        "y": 286.01611614227295,
        "z": "733e8181.5f952",
        "wires": [
            [
                "d639b932.30bba8",
                "b7475c6f.f625e"
            ]
        ]
    },
    {
        "id": "aa7700aa.d958b",
        "type": "other",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 1706.4121913909912,
        "y": 205.158842086792,
        "z": "733e8181.5f952",
        "wires": [
            [
                "4d5d48ba.9fb6f8"
            ]
        ]
    },
    {
        "id": "4d5d48ba.9fb6f8",
        "type": "set",
        "name": "set vf-index=0",
        "xml": "<set>\n<parameter name='vf-index' value='0' />\n",
        "comments": "",
        "x": 1854.6978397369385,
        "y": 202.15889644622803,
        "z": "733e8181.5f952",
        "wires": []
    },
    {
        "id": "fc5a9a36.e4e8a8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1709.8406887054443,
        "y": 250.44463348388672,
        "z": "733e8181.5f952",
        "wires": [
            [
                "b3607e05.1c87e"
            ]
        ]
    },
    {
        "id": "b3607e05.1c87e",
        "type": "set",
        "name": "set vf-index = vf_length",
        "xml": "<set>\n<parameter name='vf-index' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length`' />\n",
        "comments": "",
        "x": 1893.6984310150146,
        "y": 250.73040199279785,
        "z": "733e8181.5f952",
        "wires": []
    },
    {
        "id": "d639b932.30bba8",
        "type": "set",
        "name": "set new vF_length",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length' value='`$vf-index + 1`' />\n",
        "comments": "",
        "x": 1422.6979026794434,
        "y": 315.0160799026489,
        "z": "733e8181.5f952",
        "wires": []
    },
    {
        "id": "a07c23c6.8cbce",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1659.2693405151367,
        "y": 345.15901470184326,
        "z": "733e8181.5f952",
        "wires": [
            [
                "154c3241.b10d7e"
            ]
        ]
    },
    {
        "id": "154c3241.b10d7e",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'VNF id ' + $service-data.vnfs.vnf[$idx].vnf-id\n      + ' already exists, and has order status ' + $service-data.vnfs.vnf[$idx].vnf-data.vnf-level-oper-status.order-status`\" />\n",
        "comments": "",
        "x": 1797.8406982421875,
        "y": 345.1589756011963,
        "z": "733e8181.5f952",
        "wires": []
    },
    {
        "id": "d9eb631a.ae968",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 858.197380065918,
        "y": 330.01597023010254,
        "z": "733e8181.5f952",
        "wires": [
            [
                "9bc65daf.8ffd4"
            ]
        ]
    },
    {
        "id": "e1c9f8f3.a20e68",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 861.666202545166,
        "y": 269.98473262786865,
        "z": "733e8181.5f952",
        "wires": [
            [
                "94013ce4.c8f2"
            ]
        ]
    },
    {
        "id": "33312416.f4167c",
        "type": "comment",
        "name": "if SO provide vf-id use that else create new",
        "info": "",
        "comments": "",
        "x": 1559.197395324707,
        "y": 166.0159740447998,
        "z": "733e8181.5f952",
        "wires": []
    },
    {
        "id": "d203bc0.a3fc148",
        "type": "switchNode",
        "name": "switch vf-id",
        "xml": "<switch test=\"`$vf-module-topology-operation-input.vf-module-information.vf-module-id`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 720.6661987304688,
        "y": 294.9847412109375,
        "z": "733e8181.5f952",
        "wires": [
            [
                "e1c9f8f3.a20e68",
                "d9eb631a.ae968"
            ]
        ]
    },
    {
        "id": "9d4bf29.736ea1",
        "type": "switchNode",
        "name": "switch vnf-index",
        "xml": "<switch test='`$vnf-index`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 720.5312652587891,
        "y": 160.03124809265137,
        "z": "733e8181.5f952",
        "wires": [
            [
                "3795c167.26037e"
            ]
        ]
    },
    {
        "id": "3795c167.26037e",
        "type": "other",
        "name": "Null",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 882.5313110351562,
        "y": 159.03124713897705,
        "z": "733e8181.5f952",
        "wires": [
            [
                "7ec1ac81.82da14"
            ]
        ]
    },
    {
        "id": "7ec1ac81.82da14",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"vnf id not found in service-data\" />\n",
        "comments": "",
        "x": 1031.7814025878906,
        "y": 156.80912494659424,
        "z": "733e8181.5f952",
        "wires": []
    },
    {
        "id": "b7475c6f.f625e",
        "type": "switchNode",
        "name": "switch vf-modules.vf-module_length",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1484.5312423706055,
        "y": 231.03126335144043,
        "z": "733e8181.5f952",
        "wires": [
            [
                "aa7700aa.d958b",
                "fc5a9a36.e4e8a8"
            ]
        ]
    },
    {
        "id": "32ddfabe.737ed6",
        "type": "switchNode",
        "name": "switch vf-module-id found",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-id == $vf-module-topology-operation-input.vf-module-information.vf-module-id`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 1476.5312423706055,
        "y": 353.5312376022339,
        "z": "733e8181.5f952",
        "wires": [
            [
                "a07c23c6.8cbce"
            ]
        ]
    },
    {
        "id": "3add877f.53e948",
        "type": "for",
        "name": "for each existing vf-index",
        "xml": "<for index='idx' start='0' end='`$vf-index`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1240.5312423706055,
        "y": 357.5312376022339,
        "z": "733e8181.5f952",
        "wires": [
            [
                "32ddfabe.737ed6"
            ]
        ]
    },
    {
        "id": "4b23d061.6993e",
        "type": "set",
        "name": "set prop.sdncCreate=false",
        "xml": "<set>\n<parameter name='prop.sdncCreate' value='false' />\n",
        "comments": "",
        "x": 751.0312423706055,
        "y": 23.031250953674316,
        "z": "733e8181.5f952",
        "wires": []
    },
    {
        "id": "5e946bb.6da0294",
        "type": "set",
        "name": "set prop.sdncCreate=true",
        "xml": "<set>\n<parameter name='prop.sdncCreate' value='true' />\n",
        "comments": "",
        "x": 1270.03125,
        "y": 154.03125,
        "z": "733e8181.5f952",
        "wires": []
    },
    {
        "id": "c01de3c9.ac2f7",
        "type": "switchNode",
        "name": "switch prop.sdncCreate",
        "xml": "<switch test='`$prop.sdncCreate`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 759.031307220459,
        "y": 827.0312786102295,
        "z": "733e8181.5f952",
        "wires": [
            [
                "2469408b.cf17f",
                "dbfa6952.713328"
            ]
        ]
    },
    {
        "id": "dbfa6952.713328",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 974.0313053131104,
        "y": 838.0312786102295,
        "z": "733e8181.5f952",
        "wires": [
            [
                "f9c0e10a.a1e3d"
            ]
        ]
    },
    {
        "id": "2469408b.cf17f",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 977.0313053131104,
        "y": 800.031247138977,
        "z": "733e8181.5f952",
        "wires": [
            [
                "47b47b46.1004a4"
            ]
        ]
    },
    {
        "id": "f9c0e10a.a1e3d",
        "type": "save",
        "name": "update sdwan vpn resource in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='device' \n      key='device.device-id = $prop.vf-id' >\n<parameter name='device-id' value='`$prop.vf-id`' />\n<parameter name='esn' value='`$prop.device.esn`' />\n<parameter name='device-name' value='`$prop.device.name`' />\n<parameter name='description' value='`$prop.device.description`' />\n<parameter name='vendor' value='`$prop.device.vendor`' />\n<parameter name='class' value='`$prop.device.class`' />\n<parameter name='type' value='`$prop.device.deviceModel`' />\n<parameter name='version' value='`$prop.device.version`' />\n<parameter name='system-ip' value='`$prop.device.systemIp`' />\n<parameter name='operational-status' value='Created' />\n<parameter name='model-customization-id' value='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-customization-uuid`' />\n<parameter name='model-invariant-id' value='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-invariant-uuid`' />\n<parameter name='model-version-id' value='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-version`' />\n<parameter name='selflink' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'  + $vf-module-topology-operation-input.service-information.service-instance-id  + '/service-data/vnfs/vnf/'  + $service-data.vnfs.vnf[$vnf-index].vnf-id  + '/vnf-data/vf-modules/vf-module/' + $prop.vf-id + '/vf-module-data/'` \" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1208.03125,
        "y": 844.03125,
        "z": "733e8181.5f952",
        "wires": [
            []
        ]
    }
]