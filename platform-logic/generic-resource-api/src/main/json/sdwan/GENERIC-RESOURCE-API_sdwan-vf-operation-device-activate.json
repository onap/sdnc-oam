[
    {
        "id": "66d617ca.7974e8",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 166.00390625,
        "y": 42.000000953674316,
        "z": "487c8439.e79e0c",
        "wires": [
            [
                "ec960184.8c747"
            ]
        ]
    },
    {
        "id": "ec960184.8c747",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 245.28961181640625,
        "y": 104.23811054229736,
        "z": "487c8439.e79e0c",
        "wires": [
            [
                "b566667e.9703e8"
            ]
        ]
    },
    {
        "id": "b566667e.9703e8",
        "type": "method",
        "name": "method sdwan-vf-operation-device-activate",
        "xml": "<method rpc='sdwan-vf-operation-device-activate' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 257.00390625,
        "y": 198.58634281158447,
        "z": "487c8439.e79e0c",
        "wires": [
            [
                "48de3c23.140fd4"
            ]
        ]
    },
    {
        "id": "48de3c23.140fd4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 243.6705780029297,
        "y": 383.6667146682739,
        "z": "487c8439.e79e0c",
        "wires": [
            [
                "9b8b15e3.9d27d8",
                "22c945bf.bff90a",
                "7a7ac9c1.d1c088",
                "3bb5998d.d31786",
                "6b9873c1.ed3cac",
                "496cf1c2.09334",
                "ab75124f.85f25",
                "b9df134a.f3234",
                "ad243b23.84cc68",
                "d63a100a.4fb85",
                "fba80bcb.537e38",
                "45830f23.d0369",
                "d2ac70a8.01bbc",
                "104a605b.c517a",
                "2b5c22d1.d99c1e",
                "673290e1.c0902",
                "4d09bded.34c944",
                "d9f0bb67.a6d688"
            ]
        ]
    },
    {
        "id": "22c945bf.bff90a",
        "type": "for",
        "name": "for each vnf",
        "xml": "<for index='idx' start='0' end='`$service-data.vnfs.vnf_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 589.035270690918,
        "y": 278.2691421508789,
        "z": "487c8439.e79e0c",
        "wires": [
            [
                "936d4e00.f8f0f"
            ]
        ]
    },
    {
        "id": "9b8b15e3.9d27d8",
        "type": "switchNode",
        "name": "switch vnf_length",
        "xml": "<switch test='`$service-data.vnfs.vnf_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 594.0039253234863,
        "y": 217.0000114440918,
        "z": "487c8439.e79e0c",
        "wires": [
            [
                "e59760b9.c5416"
            ]
        ]
    },
    {
        "id": "e59760b9.c5416",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 774.00390625,
        "y": 216.00000095367432,
        "z": "487c8439.e79e0c",
        "wires": [
            [
                "76bc4811.c948a8"
            ]
        ]
    },
    {
        "id": "76bc4811.c948a8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"vnf-topology-operation-input.vnf-request-input.vnf-id not found in service-data\" />\n",
        "comments": "",
        "x": 923.4326324462891,
        "y": 217.14291858673096,
        "z": "487c8439.e79e0c",
        "wires": []
    },
    {
        "id": "936d4e00.f8f0f",
        "type": "switchNode",
        "name": "switch this vnf-id == input vnf-id",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$idx].vnf-id == $vf-module-topology-operation-input.vnf-information.vnf-id`\">    \n",
        "comments": "",
        "outputs": 1,
        "x": 812.0039215087891,
        "y": 279.0000071525574,
        "z": "487c8439.e79e0c",
        "wires": [
            [
                "70d6072a.9e11d8"
            ]
        ]
    },
    {
        "id": "70d6072a.9e11d8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1027.00390625,
        "y": 277.0000009536743,
        "z": "487c8439.e79e0c",
        "wires": [
            [
                "ea0a9e13.79435"
            ]
        ]
    },
    {
        "id": "ea0a9e13.79435",
        "type": "set",
        "name": "set vnf-index",
        "xml": "<set>\n<parameter name='vnf-index' value='`$idx`' />\n",
        "comments": "",
        "x": 1191.00390625,
        "y": 272.0000009536743,
        "z": "487c8439.e79e0c",
        "wires": []
    },
    {
        "id": "7a7ac9c1.d1c088",
        "type": "switchNode",
        "name": "switch vf-modules.vf-module_length",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 639.0039138793945,
        "y": 349.99999141693115,
        "z": "487c8439.e79e0c",
        "wires": [
            [
                "f88f2a92.99e738",
                "cbbc80b7.cd82",
                "d281c228.3bb21"
            ]
        ]
    },
    {
        "id": "cbbc80b7.cd82",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 861.00390625,
        "y": 384.0000009536743,
        "z": "487c8439.e79e0c",
        "wires": [
            [
                "3e09921b.36399e"
            ]
        ]
    },
    {
        "id": "f88f2a92.99e738",
        "type": "outcome",
        "name": "0",
        "xml": "<outcome value='0'>\n",
        "comments": "",
        "outputs": 1,
        "x": 866.0039024353027,
        "y": 331,
        "z": "487c8439.e79e0c",
        "wires": [
            [
                "3e09921b.36399e"
            ]
        ]
    },
    {
        "id": "3e09921b.36399e",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"vnf-topology-operation-input.vnf-request-input.vnf-id not found in service-data\" />\n",
        "comments": "",
        "x": 1024.00390625,
        "y": 344.0000009536743,
        "z": "487c8439.e79e0c",
        "wires": []
    },
    {
        "id": "d281c228.3bb21",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 861.00390625,
        "y": 445.0000009536743,
        "z": "487c8439.e79e0c",
        "wires": [
            [
                "8e3c57a1.dadbf8"
            ]
        ]
    },
    {
        "id": "8c0936c1.7617c8",
        "type": "set",
        "name": "set vf-module_length",
        "xml": "<set>\n<parameter name='vf-module-length' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length`' />\n\n",
        "comments": "",
        "x": 1215.003921508789,
        "y": 443.0000149011612,
        "z": "487c8439.e79e0c",
        "wires": []
    },
    {
        "id": "8e3c57a1.dadbf8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1022.0039520263672,
        "y": 441.99999237060547,
        "z": "487c8439.e79e0c",
        "wires": [
            [
                "8c0936c1.7617c8",
                "28692055.9016f",
                "a8eb8c24.f4a0f"
            ]
        ]
    },
    {
        "id": "28692055.9016f",
        "type": "for",
        "name": "for each existing vf-index",
        "xml": "<for index='idx' start='0' end='`$vf-module-length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1234.003890991211,
        "y": 495.99999141693115,
        "z": "487c8439.e79e0c",
        "wires": [
            [
                "73f639ab.d244b8"
            ]
        ]
    },
    {
        "id": "73f639ab.d244b8",
        "type": "switchNode",
        "name": "switch vf-module-id found",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-id == $vf-module-topology-operation-input.vf-module-information.vf-module-id`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 1477.00390625,
        "y": 491.0000009536743,
        "z": "487c8439.e79e0c",
        "wires": [
            [
                "fdba254c.4c6898"
            ]
        ]
    },
    {
        "id": "fdba254c.4c6898",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1675.0039348602295,
        "y": 478.00000762939453,
        "z": "487c8439.e79e0c",
        "wires": [
            [
                "e324ecda.ee495"
            ]
        ]
    },
    {
        "id": "e324ecda.ee495",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1827.00390625,
        "y": 480.0000009536743,
        "z": "487c8439.e79e0c",
        "wires": [
            [
                "a7ad0572.bfda18",
                "1d9eaeb3.112c31",
                "96aaf259.9b5e1"
            ]
        ]
    },
    {
        "id": "a7ad0572.bfda18",
        "type": "set",
        "name": "set tmp.vidx and ctx.vf-module-data",
        "xml": "<set>\n<parameter name='tmp.vidx' value='`$idx`' />\n<parameter name='ctx.vf-module-data.' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-data.`' />\n",
        "comments": "",
        "x": 2076.004005432129,
        "y": 474.0000033378601,
        "z": "487c8439.e79e0c",
        "wires": []
    },
    {
        "id": "1d9eaeb3.112c31",
        "type": "set",
        "name": "set vf-module-request-input.",
        "xml": "<set>\n<parameter name='vf-module-request-input.' value='`$ctx.vf-module-data.vf-module-request-input.`' />\n\n",
        "comments": "",
        "x": 2065.004005432129,
        "y": 525.000036239624,
        "z": "487c8439.e79e0c",
        "wires": []
    },
    {
        "id": "96aaf259.9b5e1",
        "type": "call",
        "name": "call sdwan-get-vf-module-device-param",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='sdwan-get-vf-module-device-param' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2096.0042114257812,
        "y": 572.0000371932983,
        "z": "487c8439.e79e0c",
        "wires": [
            []
        ]
    },
    {
        "id": "6b9873c1.ed3cac",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/svclogic.log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"Provided alloted resource length\"/>\n<parameter name=\"field3\" value=\"'parameters length'\"/>\n<parameter name=\"field4\" value='`$vnf-topology-operation-input.vnf-request-input.vnf-input-parameters.param_length`'/>\n\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 554.0039806365967,
        "y": 576.0000066757202,
        "z": "487c8439.e79e0c",
        "wires": [
            []
        ]
    },
    {
        "id": "3bb5998d.d31786",
        "type": "switchNode",
        "name": "switch tmp.vidx ",
        "xml": "<switch test=\"`$tmp.vidx`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 578.0351257324219,
        "y": 523.016074180603,
        "z": "487c8439.e79e0c",
        "wires": [
            [
                "68156871.093ed8"
            ]
        ]
    },
    {
        "id": "68156871.093ed8",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 725.4637680053711,
        "y": 522.5874843597412,
        "z": "487c8439.e79e0c",
        "wires": [
            [
                "749cf44f.03bbfc"
            ]
        ]
    },
    {
        "id": "749cf44f.03bbfc",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"vnf-topology-operation-input.vnf-request-input.vnf-id not found in service-data\" />\n",
        "comments": "",
        "x": 874.8924942016602,
        "y": 523.7304019927979,
        "z": "487c8439.e79e0c",
        "wires": []
    },
    {
        "id": "b9df134a.f3234",
        "type": "execute",
        "name": "execute Properties",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
        "comments": "",
        "outputs": 1,
        "x": 585.0351448059082,
        "y": 625.0160593986511,
        "z": "487c8439.e79e0c",
        "wires": [
            []
        ]
    },
    {
        "id": "fa016c6e.8bda5",
        "type": "comment",
        "name": "make sure this VNF doesn't exist already",
        "info": "",
        "comments": "",
        "x": 1307.4205932617188,
        "y": 1212.2502059936523,
        "z": "487c8439.e79e0c",
        "wires": []
    },
    {
        "id": "2b5c22d1.d99c1e",
        "type": "execute",
        "name": "execute RestApiCallNode Create Devcie Instance",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sdwan-device.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/campus/v3/devices'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"deviceResp\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 673.0080718994141,
        "y": 1216.424148797989,
        "z": "487c8439.e79e0c",
        "wires": [
            [
                "9ca787d1.dfba38",
                "a187483b.9fc538"
            ]
        ]
    },
    {
        "id": "69b97572.5eed5c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1074.6745147705078,
        "y": 1186.3128004074097,
        "z": "487c8439.e79e0c",
        "wires": [
            []
        ]
    },
    {
        "id": "d59ec52f.21c8f8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Activate Device rest api\" />\n",
        "comments": "",
        "x": 1076.1190948486328,
        "y": 1236.868332862854,
        "z": "487c8439.e79e0c",
        "wires": []
    },
    {
        "id": "a187483b.9fc538",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 923.1189384460449,
        "y": 1239.8682870864868,
        "z": "487c8439.e79e0c",
        "wires": [
            [
                "d59ec52f.21c8f8"
            ]
        ]
    },
    {
        "id": "9ca787d1.dfba38",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 922.5634536743164,
        "y": 1183.5349988937378,
        "z": "487c8439.e79e0c",
        "wires": [
            [
                "69b97572.5eed5c"
            ]
        ]
    },
    {
        "id": "104a605b.c517a",
        "type": "call",
        "name": "call sdwan-get-tenant-auth",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='sdwan-get-tenant-auth' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 590.0001373291016,
        "y": 1160.5913829803467,
        "z": "487c8439.e79e0c",
        "wires": [
            []
        ]
    },
    {
        "id": "ab75124f.85f25",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 552.0041103363037,
        "y": 1641.5002851486206,
        "z": "487c8439.e79e0c",
        "wires": []
    },
    {
        "id": "496cf1c2.09334",
        "type": "set",
        "name": "copy input data to service data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.sdnc-request-header.' value='`$vf-module-topology-operation-input.sdnc-request-header.`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.request-information.' value='`$vf-module-topology-operation-input.request-information.`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.service-information.' value='`$vf-module-topology-operation-input.service-information.`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-information.' value='`$vf-module-topology-operation-input.vf-module-information.`' />\n",
        "comments": "",
        "x": 597.3373680114746,
        "y": 1531.8336429595947,
        "z": "487c8439.e79e0c",
        "wires": []
    },
    {
        "id": "5763663a.274778",
        "type": "save",
        "name": "update deviceInstance configuration in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='device' \n      key='device.device-id = $vf-module-topology-operation-input.vf-module-information.vf-module-id' >\n<parameter name='device-id' value='`$vf-module-topology-operation-input.vf-module-information.vf-module-id`' />\n<!--parameter name='device-id' value='`$deviceResp.success[0].id`' /-->\n<parameter name='operational-status' value='Active' />\n",
        "comments": "",
        "outputs": 1,
        "x": 632.6708755493164,
        "y": 1584.722743988037,
        "z": "487c8439.e79e0c",
        "wires": [
            []
        ]
    },
    {
        "id": "fba80bcb.537e38",
        "type": "set",
        "name": "set deviceId to service data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length].name' value=\"deviceId\" />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length].value' value='`$deviceResp.success[0].id`' />\n",
        "comments": "",
        "x": 593.6709938049316,
        "y": 1315.7538223266602,
        "z": "487c8439.e79e0c",
        "wires": []
    },
    {
        "id": "ad243b23.84cc68",
        "type": "set",
        "name": "set vf-module-object-path",
        "xml": "<set>\n<parameter name='vf-module-object-path' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vf-module-topology-operation-input.service-information.service-instance-id\n + '/service-data/vnfs/vnf/'\n + $service-data.vnfs.vnf[$vnf-index].vnf-id\n + '/vnf-data/vf-modules/vf-module/'\n + $vf-module-topology-operation-input.vf-module-information.vf-module-id\n + '/vf-module-data/vf-module-topology/'`\"/>\n<parameter name='vnf-object-path'\n value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vf-module-topology-operation-input.service-information.service-instance-id\n + '/service-data/vnfs/vnf/'\n + $service-data.vnfs.vnf[$vnf-index].vnf-id\n + '/vnf-data/vnf-topology/'`\"/>\n<parameter name='service-object-path'\n value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vf-module-topology-operation-input.service-information.service-instance-id\n + '/service-data/service-topology/'`\"/>\n",
        "comments": "",
        "x": 576.0041046142578,
        "y": 1474.2504119873047,
        "z": "487c8439.e79e0c",
        "wires": []
    },
    {
        "id": "d9f0bb67.a6d688",
        "type": "get-resource",
        "name": "get-resource esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = 'SDWANController' AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.esr-thirdparty-sdnc' local-only='false' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 620.0086822509766,
        "y": 725.8936567306519,
        "z": "487c8439.e79e0c",
        "wires": [
            [
                "24c130a1.06544",
                "1c6d2fc3.9d47f",
                "d711f941.efb278"
            ]
        ]
    },
    {
        "id": "24c130a1.06544",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 865.008659362793,
        "y": 668.8936103284359,
        "z": "487c8439.e79e0c",
        "wires": [
            [
                "e6538e05.e2e95"
            ]
        ]
    },
    {
        "id": "1c6d2fc3.9d47f",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 868.499626159668,
        "y": 716.4676459729671,
        "z": "487c8439.e79e0c",
        "wires": [
            [
                "8c8ed57c.0ce668"
            ]
        ]
    },
    {
        "id": "d711f941.efb278",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 863.832633972168,
        "y": 757.8009589612484,
        "z": "487c8439.e79e0c",
        "wires": [
            [
                "37c7dcba.fd9d34"
            ]
        ]
    },
    {
        "id": "e6538e05.e2e95",
        "type": "set",
        "name": "set controller data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.url' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.user' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.password' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n",
        "comments": "",
        "x": 1062.5087203979492,
        "y": 656.8936103284359,
        "z": "487c8439.e79e0c",
        "wires": []
    },
    {
        "id": "8c8ed57c.0ce668",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
        "comments": "",
        "x": 1045.0710372924805,
        "y": 704.7533820569515,
        "z": "487c8439.e79e0c",
        "wires": []
    },
    {
        "id": "37c7dcba.fd9d34",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
        "comments": "",
        "x": 1051.6051902770996,
        "y": 753.24015173316,
        "z": "487c8439.e79e0c",
        "wires": []
    },
    {
        "id": "4d09bded.34c944",
        "type": "execute",
        "name": "execute RestApiCallNode Get token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/actokentemplate.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/v2/tokens'`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"token-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>",
        "comments": "",
        "outputs": 1,
        "x": 628.008659362793,
        "y": 833.893609046936,
        "z": "487c8439.e79e0c",
        "wires": [
            [
                "68b0f825.949708",
                "3ec68637.c0dbea"
            ]
        ]
    },
    {
        "id": "68b0f825.949708",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 867.008731842041,
        "y": 811.8936405181885,
        "z": "487c8439.e79e0c",
        "wires": [
            [
                "ea7ef978.26d9b8"
            ]
        ]
    },
    {
        "id": "3ec68637.c0dbea",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 859.258731842041,
        "y": 865.5365238189697,
        "z": "487c8439.e79e0c",
        "wires": [
            [
                "6b38fd7f.9697a4"
            ]
        ]
    },
    {
        "id": "ea7ef978.26d9b8",
        "type": "set",
        "name": "set token-id",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.token_id' value='`$token-result.data.token_id`' />\n",
        "comments": "",
        "x": 1017.008659362793,
        "y": 812.893609046936,
        "z": "487c8439.e79e0c",
        "wires": []
    },
    {
        "id": "6b38fd7f.9697a4",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing get token rest api\" />\n",
        "comments": "",
        "x": 1012.008731842041,
        "y": 865.286584854126,
        "z": "487c8439.e79e0c",
        "wires": []
    },
    {
        "id": "d2ac70a8.01bbc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 549.7587051391602,
        "y": 1079.8937320709229,
        "z": "487c8439.e79e0c",
        "wires": [
            [
                "c50d0af9.6eaaa8"
            ]
        ]
    },
    {
        "id": "c50d0af9.6eaaa8",
        "type": "execute",
        "name": "execute RestApiCallNode Create network orchestration",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sdwan-network-orchestration.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/campus/v1/sdwan/net/network-orchestration-resources'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"put\"/>\n<parameter name=\"responsePrefix\" value=\"orchestration-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 868.2587966918945,
        "y": 1082.8938932418823,
        "z": "487c8439.e79e0c",
        "wires": [
            []
        ]
    },
    {
        "id": "673290e1.c0902",
        "type": "get-resource",
        "name": "get-resource service-subscription",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"service-subscription\" \n        key= 'service-subscription.service-type = $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.service-information.subscription-service-type \n        AND customer.global-customer-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.service-information.global-customer-id'\n      force=\"true\" pfx=\"tmp.AnAI-data\">\n",
        "comments": "",
        "outputs": 1,
        "x": 604.0802001953125,
        "y": 984.5722246170044,
        "z": "487c8439.e79e0c",
        "wires": [
            [
                "3dede820.fe1e48",
                "221b4119.4d74ce"
            ]
        ]
    },
    {
        "id": "a417e40c.ac4638",
        "type": "switchNode",
        "name": "switch temp-ub-sub-account-id",
        "xml": "<switch test='`$tmp.AnAI-data.temp-ub-sub-account-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1016.0802917480469,
        "y": 949.3223056793213,
        "z": "487c8439.e79e0c",
        "wires": [
            [
                "d1aef225.461ff",
                "30bdca8a.d90ec6"
            ]
        ]
    },
    {
        "id": "d1aef225.461ff",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 1208.794750213623,
        "y": 923.322338104248,
        "z": "487c8439.e79e0c",
        "wires": [
            [
                "b031c826.3fa048"
            ]
        ]
    },
    {
        "id": "30bdca8a.d90ec6",
        "type": "other",
        "name": "Other",
        "xml": "<outcome value='Other'>",
        "comments": "",
        "outputs": 1,
        "x": 1209.080307006836,
        "y": 978.3223094940186,
        "z": "487c8439.e79e0c",
        "wires": [
            [
                "85a88d68.7da4e"
            ]
        ]
    },
    {
        "id": "927bbae7.3f69d8",
        "type": "set",
        "name": "set prop.tenant-id",
        "xml": "<set>\n<parameter name='prop.tenant-id' value='`$tmp.AnAI-data.temp-ub-sub-account-id`' />\n",
        "comments": "",
        "x": 1456.5088996887207,
        "y": 1063.4651098251343,
        "z": "487c8439.e79e0c",
        "wires": []
    },
    {
        "id": "b031c826.3fa048",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1348.2586479187012,
        "y": 923.6436066627502,
        "z": "487c8439.e79e0c",
        "wires": [
            [
                "e230776c.5a9d58",
                "3aed4c7a.4aaa14",
                "be32cece.2100a",
                "e41ff38c.c7009",
                "93c1362e.aa2c78",
                "a9cddfc0.c31fc",
                "7328f02d.f9128"
            ]
        ]
    },
    {
        "id": "e41ff38c.c7009",
        "type": "set",
        "name": "set prop.customer-id",
        "xml": "<set>\n<parameter name='prop.customer-id' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.service-information.global-customer-id`' />\n",
        "comments": "",
        "x": 1559.901756286621,
        "y": 734.2151670455933,
        "z": "487c8439.e79e0c",
        "wires": []
    },
    {
        "id": "e230776c.5a9d58",
        "type": "execute",
        "name": "execute RestApiCallNode Create tenant",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sdwan-tenant.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/campus/v2/baseservice/tenants'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"tenant-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1618.9015731811523,
        "y": 864.7864580154419,
        "z": "487c8439.e79e0c",
        "wires": [
            []
        ]
    },
    {
        "id": "3aed4c7a.4aaa14",
        "type": "set",
        "name": "set prop.tenant-id",
        "xml": "<set>\n<parameter name='prop.tenant-id' value='`$tenant-result.data.tenantId`' />\n",
        "comments": "",
        "x": 1561.7588653564453,
        "y": 962.6436986923218,
        "z": "487c8439.e79e0c",
        "wires": []
    },
    {
        "id": "be32cece.2100a",
        "type": "execute",
        "name": "execute RestApiCallNode Create tenant auth",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/actokentemplate.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/campus/v2/baseservice/tenants/authorization/' + $prop.tenant-id`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"put\"/>\n<parameter name=\"responsePrefix\" value=\"tenant-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1637.2588348388672,
        "y": 1013.3937277793884,
        "z": "487c8439.e79e0c",
        "wires": [
            []
        ]
    },
    {
        "id": "93c1362e.aa2c78",
        "type": "get-resource",
        "name": "update-resource customer-id in service-subscription",
        "xml": "<update plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"service-subscription\" \n        key= 'service-subscription.service-type = $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.service-information.subscription-service-type \n        AND customer.global-customer-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.service-information.global-customer-id'>\n<parameter name='temp-ub-sub-account-id' value='`$tenant-result.data.tenantId`' />\n<!--parameter name='temp-ub-sub-account-id' value='`$prop.customer-id`' /-->\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1660.1873016357422,
        "y": 915.7865858078003,
        "z": "487c8439.e79e0c",
        "wires": [
            []
        ]
    },
    {
        "id": "3dede820.fe1e48",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 814.5800628662109,
        "y": 957.3182830810547,
        "z": "487c8439.e79e0c",
        "wires": [
            [
                "a417e40c.ac4638"
            ]
        ]
    },
    {
        "id": "221b4119.4d74ce",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 808.2586517333984,
        "y": 1009.5325946807861,
        "z": "487c8439.e79e0c",
        "wires": [
            [
                "13b27219.75f72e"
            ]
        ]
    },
    {
        "id": "13b27219.75f72e",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing get token rest api\" />\n",
        "comments": "",
        "x": 961.0086517333984,
        "y": 1009.2826557159424,
        "z": "487c8439.e79e0c",
        "wires": []
    },
    {
        "id": "85a88d68.7da4e",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1267.7310638427734,
        "y": 1061.4693012237549,
        "z": "487c8439.e79e0c",
        "wires": [
            [
                "927bbae7.3f69d8",
                "cc5300b4.c716d"
            ]
        ]
    },
    {
        "id": "cc5300b4.c716d",
        "type": "execute",
        "name": "execute RestApiCallNode Create tenant auth",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/actokentemplate.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/campus/v2/baseservice/tenants/authorization/' + $prop.tenant-id`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"put\"/>\n<parameter name=\"responsePrefix\" value=\"tenant-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1539.1596603393555,
        "y": 1110.0407037734985,
        "z": "487c8439.e79e0c",
        "wires": [
            []
        ]
    },
    {
        "id": "a9cddfc0.c31fc",
        "type": "set",
        "name": "set prop.userAccount",
        "xml": "<set>\n<parameter name='prop.userAccount' value='`$tmp.userAccountEmail`' />\n<parameter name='prop.userEmail' value='`$tmp.userAccountEmail`' />",
        "comments": "",
        "x": 1571.008659362793,
        "y": 816.889702796936,
        "z": "487c8439.e79e0c",
        "wires": []
    },
    {
        "id": "7328f02d.f9128",
        "type": "execute",
        "name": "execute concat customer-id and @test.com",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='concat' >\n    <parameter name=\"source\" value='`$prop.customer-id`'/>\n    <parameter name=\"outputPath\" value=\"tmp.userAccountEmail\"/>\n    <parameter name=\"target\" value=\"@test.com\"/>\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1635.0125350952148,
        "y": 775.8936452865601,
        "z": "487c8439.e79e0c",
        "wires": [
            []
        ]
    },
    {
        "id": "a8eb8c24.f4a0f",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/svclogic1.log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"vf-module-id-input\"/>\n<parameter name=\"field3\" value='`$vf-module-topology-operation-input.vf-module-information.vf-module-id`'/>\n\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1182.3333740234375,
        "y": 378,
        "z": "487c8439.e79e0c",
        "wires": [
            []
        ]
    },
    {
        "id": "d63a100a.4fb85",
        "type": "set",
        "name": "set vf-module-level-oper-status",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-level-oper-status.order-status'  value='Active' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-level-oper-status.last-rpc-action'  value='`$vf-module-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-level-oper-status.last-action'  value='`$vf-module-topology-operation-input.sdnc-request-header.request-action`' />\n",
        "comments": "",
        "x": 597.0001373291016,
        "y": 1410.3333740234375,
        "z": "487c8439.e79e0c",
        "wires": []
    },
    {
        "id": "45830f23.d0369",
        "type": "set",
        "name": "increment param length",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length + 1`' />\n",
        "comments": "",
        "x": 580.0000553131104,
        "y": 1360.0000801086426,
        "z": "487c8439.e79e0c",
        "wires": []
    }
]