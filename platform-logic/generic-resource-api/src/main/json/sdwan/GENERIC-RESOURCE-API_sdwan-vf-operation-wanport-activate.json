[
    {
        "id": "aa1b72bf.43103",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 394.03125,
        "y": 423.0742139816284,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "7552c12f.99edc",
                "298f83f7.59d8fc",
                "c6091bc8.bb5b78",
                "6d78088c.cbfc88",
                "e1a9bec.bd0de4",
                "a2c6a4a4.2e00b8",
                "c63182d3.fbcc4",
                "409701be.1a03c",
                "9e802733.d722c8",
                "7362e1fa.b1592",
                "46743c8f.b3fd84",
                "8679bf14.4ac1",
                "7f799175.fb047",
                "131a2ffd.3a8e5",
                "92451c4e.ffaad",
                "a7fe1093.6d40a",
                "e9b4c90b.c4ce98",
                "7c031fb.d5948e",
                "e28c61da.26a12",
                "555b730f.2ad3ec",
                "103790c7.a4e84f",
                "726be50f.6f16fc",
                "e2c4dac5.6f39e8",
                "675842c8.f4343c",
                "86ffb9d1.271bf8",
                "7a2f98d7.5ecea8",
                "83739943.858e68",
                "93891afe.aeea78",
                "bc9fd33d.1cf95"
            ]
        ]
    },
    {
        "id": "5ef2c8ad.bc5ff8",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 118.50391006469727,
        "y": 72,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "988b9fb.b96a56"
            ]
        ]
    },
    {
        "id": "988b9fb.b96a56",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 249.78960037231445,
        "y": 121.23810863494873,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "db46e718.9e34f8"
            ]
        ]
    },
    {
        "id": "db46e718.9e34f8",
        "type": "method",
        "name": "method sdwan-vf-operation-wanport-activate",
        "xml": "<method rpc='sdwan-vf-operation-wanport-activate' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 252.9325294494629,
        "y": 206.00003242492676,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "aa1b72bf.43103"
            ]
        ]
    },
    {
        "id": "298f83f7.59d8fc",
        "type": "for",
        "name": "for each vnf",
        "xml": "<for index='idx' start='0' end='`$service-data.vnfs.vnf_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 823.0351600646973,
        "y": 221.07811641693115,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "d5c2444e.40f148"
            ]
        ]
    },
    {
        "id": "d5c2444e.40f148",
        "type": "switchNode",
        "name": "switch this vnf-id == input vnf-id",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$idx].vnf-id == $vf-module-topology-operation-input.vnf-information.vnf-id`\">    \n",
        "comments": "",
        "outputs": 1,
        "x": 1075.0352516174316,
        "y": 219.744779586792,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "2d2f666f.01836a"
            ]
        ]
    },
    {
        "id": "cffa7667.9fa518",
        "type": "set",
        "name": "set vnf-index",
        "xml": "<set>\n<parameter name='vnf-index' value='`$idx`' />\n",
        "comments": "",
        "x": 1446.7017402648926,
        "y": 221.74478244781494,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "2d2f666f.01836a",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1293.3685684204102,
        "y": 221.74476146697998,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "cffa7667.9fa518"
            ]
        ]
    },
    {
        "id": "7552c12f.99edc",
        "type": "switchNode",
        "name": "switch vnf_length",
        "xml": "<switch test='`$service-data.vnfs.vnf_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 837.455753326416,
        "y": 176.5819854736328,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "3a4ab2c5.34288e"
            ]
        ]
    },
    {
        "id": "3a4ab2c5.34288e",
        "type": "other",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 1024.1224327087402,
        "y": 175.915283203125,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "9c32c1a6.b8f8d"
            ]
        ]
    },
    {
        "id": "9c32c1a6.b8f8d",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"404\" />\n    <parameter name=\"error-message\" value=\"There are no VNFs in MD-SAL\" />\n",
        "comments": "",
        "x": 1205.7890586853027,
        "y": 175.915283203125,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "90dd0a6d.b97718",
        "type": "for",
        "name": "for each existing vf-index",
        "xml": "<for index='idx' start='0' end='`$vf-module-length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1476.0351676940918,
        "y": 391.0781068508513,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "6395826d.fca69c"
            ]
        ]
    },
    {
        "id": "9272b53d.a87e88",
        "type": "switchNode",
        "name": "switch vf-module-id found",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-id == $vf-module-topology-operation-input.vf-module-information.vf-module-id`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 1984.3210220336914,
        "y": 358.64962673187256,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "e056b855.39d1d8"
            ]
        ]
    },
    {
        "id": "7e4a72fa.4d4f3c",
        "type": "set",
        "name": "set vf-module-length",
        "xml": "<set>\n<parameter name='vf-module-length' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length`' />\n\n\n",
        "comments": "",
        "x": 1462.6067924499512,
        "y": 354.855993270874,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "f8dd3a29.d23a98",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1266.908187866211,
        "y": 368.2368783657439,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "90dd0a6d.b97718",
                "7e4a72fa.4d4f3c",
                "e9fcde91.f8ee4",
                "15ae932b.8eaafd"
            ]
        ]
    },
    {
        "id": "da9482b8.2c7db",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1122.5511436462402,
        "y": 368.3003663723357,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "f8dd3a29.d23a98"
            ]
        ]
    },
    {
        "id": "c6091bc8.bb5b78",
        "type": "switchNode",
        "name": "switch vf-modules.vf-module_length",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 886.5511255264282,
        "y": 295.3003787994385,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "da9482b8.2c7db",
                "75404cd4.467764",
                "b9120614.fcff58"
            ]
        ]
    },
    {
        "id": "75404cd4.467764",
        "type": "outcome",
        "name": "0",
        "xml": "<outcome value='0'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1128.035161972046,
        "y": 267.0781078338623,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "73c9cf7f.c3fda"
            ]
        ]
    },
    {
        "id": "b9120614.fcff58",
        "type": "other",
        "name": "Null",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 1130.0663509368896,
        "y": 304.10941886901855,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "73c9cf7f.c3fda"
            ]
        ]
    },
    {
        "id": "73c9cf7f.c3fda",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"vf-module-operation-input.vf-module-request-input.vf-id not found in service-data\" />\n",
        "comments": "",
        "x": 1287.8438663482666,
        "y": 284.9983673095703,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "e056b855.39d1d8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2188.0352630615234,
        "y": 357.07813313556835,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "3493694e.e41bb6"
            ]
        ]
    },
    {
        "id": "3493694e.e41bb6",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2358.378559112549,
        "y": 361.164268522989,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "8b2508c0.364288",
                "1dfeb945.730fd7",
                "fe377f26.34769"
            ]
        ]
    },
    {
        "id": "8b2508c0.364288",
        "type": "set",
        "name": "set tmp.vidx and ctx.vnf-data",
        "xml": "<set>\n<parameter name='tmp.vidx' value='`$idx`' />\n<parameter name='ctx.vf-module-data.' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-data.`' />\n",
        "comments": "",
        "x": 2609.2652130126953,
        "y": 331.50668144226074,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "1dfeb945.730fd7",
        "type": "set",
        "name": "set vf-module-request-input.",
        "xml": "<set>\n<parameter name='vf-module-request-input.' value='`$ctx.vf-module-data.vf-module-request-input.`' />\n\n",
        "comments": "",
        "x": 2603.71150970459,
        "y": 376.16432145191357,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "33f87d4b.131732",
        "type": "switchNode",
        "name": "switch ActivateSDWANDeviceInstance",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-data.request-information.request-action == 'ActivateSDWANDeviceInstance'`\">\n    ",
        "comments": "",
        "outputs": 1,
        "x": 1783.5352668762207,
        "y": 457.07813835144043,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "19b41c70.4beab4"
            ]
        ]
    },
    {
        "id": "19b41c70.4beab4",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2012.5350151062012,
        "y": 456.07811546325684,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "1a6abe61.332a02"
            ]
        ]
    },
    {
        "id": "1a6abe61.332a02",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1967.9479293823242,
        "y": 518.0742564201355,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "4f4f0899.d407e8"
            ]
        ]
    },
    {
        "id": "4f4f0899.d407e8",
        "type": "for",
        "name": "for loop didx - Get deviceId from servicedata",
        "xml": "<for index=\"didx\" start=\"0\" end=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length`\">",
        "comments": "",
        "outputs": 1,
        "x": 2249.2816829681396,
        "y": 528.0742769241333,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "3ef068c9.f46d98"
            ]
        ]
    },
    {
        "id": "6395826d.fca69c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1777.5352249145508,
        "y": 362.0781407649629,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "9272b53d.a87e88"
            ]
        ]
    },
    {
        "id": "c29879dc.c33238",
        "type": "comment",
        "name": "Get devices",
        "info": "",
        "comments": "",
        "x": 1775.5351600646973,
        "y": 427.07811641693115,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "e9fcde91.f8ee4",
        "type": "set",
        "name": "set prop.site.deviceId_length",
        "xml": "<set>\n<parameter name='prop.site.deviceId_length' value='0' />\n",
        "comments": "",
        "x": 1489.0351600646973,
        "y": 319.07811641693115,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "6d78088c.cbfc88",
        "type": "execute",
        "name": "execute Properties",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
        "comments": "",
        "outputs": 1,
        "x": 838.0352058410645,
        "y": 384.07812309265137,
        "z": "81e8e679.1e5f48",
        "wires": [
            []
        ]
    },
    {
        "id": "58514bba.536ea4",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2548.281505584717,
        "y": 522.0744781494141,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "6a60b8bf.296158"
            ]
        ]
    },
    {
        "id": "6a60b8bf.296158",
        "type": "switchNode",
        "name": "switch deviceId",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$deviceidx].name == 'deviceId'`\">\n    ",
        "comments": "",
        "outputs": 1,
        "x": 2708.2817611694336,
        "y": 524.0743312835693,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "6bb682b3.a31adc"
            ]
        ]
    },
    {
        "id": "6bb682b3.a31adc",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2860.2819328308105,
        "y": 523.0743312835693,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "6989c0f.96b544"
            ]
        ]
    },
    {
        "id": "6989c0f.96b544",
        "type": "set",
        "name": "set deviceId",
        "xml": "<set>\n<parameter name='prop.site.deviceId[$prop.site.deviceId_length]' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$deviceidx].value`' />\n<parameter name='prop.site.deviceId_length' value='`$prop.site.deviceId_length + 1`' />\n",
        "comments": "",
        "x": 3000.281936645508,
        "y": 522.6742858886719,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "fe377f26.34769",
        "type": "call",
        "name": "call sdwan-get-wan-param",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='sdwan-get-wan-param' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2595.0079612731934,
        "y": 423.00392010761425,
        "z": "81e8e679.1e5f48",
        "wires": [
            []
        ]
    },
    {
        "id": "48f81161.66243",
        "type": "switchNode",
        "name": "switch ActivateSiteInstance",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-data.request-information.request-action == 'ActivateSiteInstance'`\">\n    ",
        "comments": "",
        "outputs": 1,
        "x": 1763.507797241211,
        "y": 565.7539291381836,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "c8d462fc.6ddb3"
            ]
        ]
    },
    {
        "id": "c8d462fc.6ddb3",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2005.5076446533203,
        "y": 596.75390625,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "92bd8825.90b9a8"
            ]
        ]
    },
    {
        "id": "92bd8825.90b9a8",
        "type": "set",
        "name": "set tmp.siteVidx",
        "xml": "<set>\n<parameter name='tmp.siteVidx' value='`$idx`' />\n<parameter name='ctx.site.' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].`' />\n",
        "comments": "",
        "x": 2228.237594604492,
        "y": 624.1824264526367,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "3ef068c9.f46d98",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2451.7578125,
        "y": 617.0039043426514,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "a2711e1c.d6e09",
                "113b21af.23a45e"
            ]
        ]
    },
    {
        "id": "a2711e1c.d6e09",
        "type": "switchNode",
        "name": "switch name (DeviceName)",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$didx].name == 'name'`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 2677.425521850586,
        "y": 618.3374032974243,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "661373f5.be831c"
            ]
        ]
    },
    {
        "id": "661373f5.be831c",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2879.426013946533,
        "y": 612.3374633789062,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "e8b03259.bbcb"
            ]
        ]
    },
    {
        "id": "e8b03259.bbcb",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2697.7590560913086,
        "y": 695.3374328613281,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "4554c798.aa2dd8",
                "bf88a576.7aa2c8"
            ]
        ]
    },
    {
        "id": "4554c798.aa2dd8",
        "type": "switchNode",
        "name": "switch deviceName match",
        "xml": "<switch test=\"`$prop.wan.deviceName == $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$didx].value`\">\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2903.42578125,
        "y": 696.3374967575073,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "8f8b4c45.50538"
            ]
        ]
    },
    {
        "id": "8f8b4c45.50538",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3086.7597618103027,
        "y": 698.3375577926636,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "b9108ee7.e5b06"
            ]
        ]
    },
    {
        "id": "b9108ee7.e5b06",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2986.0917205810547,
        "y": 770.3373403549194,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "4d1bca38.4b9934",
                "ad38b737.99a528",
                "d2df96f9.05ab08"
            ]
        ]
    },
    {
        "id": "ad38b737.99a528",
        "type": "set",
        "name": "set tmp.devicevidx",
        "xml": "<set>\n<parameter name='tmp.devicevidx' value='`$idx`' />\n\n",
        "comments": "",
        "x": 3236.84765625,
        "y": 891.0104351043701,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "26e95066.5bddc",
        "type": "switchNode",
        "name": "switch deviceId",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$deviceidx].name == 'deviceId'`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 3535.515853881836,
        "y": 831.677375793457,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "1f6de92a.592947"
            ]
        ]
    },
    {
        "id": "1f6de92a.592947",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3688.5162239074707,
        "y": 832.6774530410767,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "49ba52e1.34347c"
            ]
        ]
    },
    {
        "id": "49ba52e1.34347c",
        "type": "set",
        "name": "set prop.wan.deviceId",
        "xml": "<set>\n<parameter name='prop.wan.deviceId' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$deviceidx].value`' />\n",
        "comments": "",
        "x": 3857.516830444336,
        "y": 831.2774877548218,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "4d1bca38.4b9934",
        "type": "for",
        "name": "for loop deviceidx - Get deviceId from servicedata",
        "xml": "<for index=\"deviceidx\" start=\"0\" end=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length`\">\n    \n    \n",
        "comments": "",
        "outputs": 1,
        "x": 3279.045753479004,
        "y": 766.0417041778564,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "9729ab27.7939b8"
            ]
        ]
    },
    {
        "id": "9729ab27.7939b8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3356.046485900879,
        "y": 830.0418033599854,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "26e95066.5bddc"
            ]
        ]
    },
    {
        "id": "6cd6d96e.5cd3a8",
        "type": "comment",
        "name": "Get siteId from site resource created for this service",
        "info": "",
        "comments": "",
        "x": 936.7578377723694,
        "y": 440.0039186477661,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "e1a9bec.bd0de4",
        "type": "for",
        "name": "for loop sidx - Get siteId from servicedata",
        "xml": "<for index=\"sidx\" start=\"0\" end=\"`$ctx.site.vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length`\">\n    \n    \n",
        "comments": "",
        "outputs": 1,
        "x": 899.7578353881836,
        "y": 478.6705856323242,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "d8025975.c452c8"
            ]
        ]
    },
    {
        "id": "d8025975.c452c8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1161.7680282592773,
        "y": 479.34741020202637,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "7ae7755a.84d27c"
            ]
        ]
    },
    {
        "id": "7ae7755a.84d27c",
        "type": "switchNode",
        "name": "switch siteId",
        "xml": "<switch test=\"`$ctx.site.vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$sidx].name == 'siteId'`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 1330.7581634521484,
        "y": 479.67071628570557,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "6e34759a.33dd3c"
            ]
        ]
    },
    {
        "id": "6e34759a.33dd3c",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1264.7586250305176,
        "y": 546.6707553863525,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "4cc37cb0.d42884"
            ]
        ]
    },
    {
        "id": "4cc37cb0.d42884",
        "type": "set",
        "name": "set prop.wan.siteId",
        "xml": "<set>\n<parameter name='prop.wan.siteId' value='`$ctx.site.vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$sidx].value`' />\n\n\n",
        "comments": "",
        "x": 1438.7585945129395,
        "y": 543.2706317901611,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "83739943.858e68",
        "type": "get-resource",
        "name": "get-resource esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = SDWANController AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.esr-thirdparty-sdnc' local-only='false' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 807.7578125,
        "y": 654.7539043426514,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "a8fa84ce.eb12f8",
                "d18bc7f4.341358",
                "3bf2ecab.90fcb4"
            ]
        ]
    },
    {
        "id": "a8fa84ce.eb12f8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1039.7578964233398,
        "y": 618.753927230835,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "9b3d8e62.faaef"
            ]
        ]
    },
    {
        "id": "d18bc7f4.341358",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1042.248779296875,
        "y": 654.3279638290405,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "7795db23.93cf44"
            ]
        ]
    },
    {
        "id": "3bf2ecab.90fcb4",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1037.581787109375,
        "y": 690.661322593689,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "dde2f622.170a38"
            ]
        ]
    },
    {
        "id": "dde2f622.170a38",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
        "comments": "",
        "x": 1191.3542785644531,
        "y": 688.1004095077515,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "7795db23.93cf44",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
        "comments": "",
        "x": 1187.8201751708984,
        "y": 652.6136512756348,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "9b3d8e62.faaef",
        "type": "set",
        "name": "set controller data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.url' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.user' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.password' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n",
        "comments": "",
        "x": 1195.2580108642578,
        "y": 617.7538194656372,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "93891afe.aeea78",
        "type": "execute",
        "name": "execute RestApiCallNode Get token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/actokentemplate.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/v2/tokens'`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"token-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>",
        "comments": "",
        "outputs": 1,
        "x": 822.2679443359375,
        "y": 742.4309062957764,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "5c43c4aa.9264cc",
                "33df2014.cd50d"
            ]
        ]
    },
    {
        "id": "5c43c4aa.9264cc",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1057.2680702209473,
        "y": 728.4308948516846,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "28f385cf.49854a"
            ]
        ]
    },
    {
        "id": "28f385cf.49854a",
        "type": "set",
        "name": "set token-id",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.token_id' value='`$token-result.data.token_id`' />\n",
        "comments": "",
        "x": 1199.2680778503418,
        "y": 727.4308958053589,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "112c2ecc.277fc1",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing get token rest api\" />\n",
        "comments": "",
        "x": 1205.2680778503418,
        "y": 764.8238840103149,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "33df2014.cd50d",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1056.5180702209473,
        "y": 764.0738019943237,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "112c2ecc.277fc1"
            ]
        ]
    },
    {
        "id": "bc9fd33d.1cf95",
        "type": "call",
        "name": "call sdwan-get-tenant-auth",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='sdwan-get-tenant-auth' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 797.2676391601562,
        "y": 797.7639751434326,
        "z": "81e8e679.1e5f48",
        "wires": [
            []
        ]
    },
    {
        "id": "addc3c45.8b358",
        "type": "comment",
        "name": "Create port",
        "info": "",
        "comments": "",
        "x": 1084.7578392028809,
        "y": 826.2539043426514,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "7a2f98d7.5ecea8",
        "type": "execute",
        "name": "execute RestApiCallNode device port create",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sdwan-port.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/campus/v1/sdwan/net/ports'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"portResp\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 856.0918731689453,
        "y": 883.8098802566528,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "fd994a2a.92c728",
                "92fe968a.87b558"
            ]
        ]
    },
    {
        "id": "92fe968a.87b558",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1105.091932296753,
        "y": 859.8099217414856,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "3a8360ac.8e93a"
            ]
        ]
    },
    {
        "id": "fd994a2a.92c728",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1153.0919361114502,
        "y": 897.8100881576538,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "c9adde1d.a5805"
            ]
        ]
    },
    {
        "id": "3a8360ac.8e93a",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create device port rest api\" />\n",
        "comments": "",
        "x": 1249.0922660827637,
        "y": 858.8099212646484,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "c9adde1d.a5805",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1300.091947555542,
        "y": 898.8099269866943,
        "z": "81e8e679.1e5f48",
        "wires": [
            []
        ]
    },
    {
        "id": "a2c6a4a4.2e00b8",
        "type": "for",
        "name": "for loop idx - VF-module input parameters",
        "xml": "<for index='idx' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 861.4032020568848,
        "y": 1001.4548950195312,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "925ea7f2.d972f8"
            ]
        ]
    },
    {
        "id": "925ea7f2.d972f8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1105.2991561889648,
        "y": 1000.3768668174744,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "47d44aef.50cf54"
            ]
        ]
    },
    {
        "id": "47d44aef.50cf54",
        "type": "switchNode",
        "name": "switch IPMode",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$idx].name == 'IPMode'`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 1253.4164009094238,
        "y": 1002.3503503799438,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "14cc8583.77380a"
            ]
        ]
    },
    {
        "id": "14cc8583.77380a",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1401.4163856506348,
        "y": 999.3503150939941,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "1dbcdc9e.2ab813"
            ]
        ]
    },
    {
        "id": "1dbcdc9e.2ab813",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1562.4032516479492,
        "y": 1001.2326736450195,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "193e5621.82d8aa",
                "c01114ca.b0a928"
            ]
        ]
    },
    {
        "id": "193e5621.82d8aa",
        "type": "switchNode",
        "name": "switch portType GE match",
        "xml": "<switch test=\"`GE == $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$didx].value`\">\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1764.0699272155762,
        "y": 1002.2327299118042,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "bc174d71.6f73c"
            ]
        ]
    },
    {
        "id": "bc174d71.6f73c",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1949.4041366577148,
        "y": 993.2328510284424,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "b0b3b2d7.c3aed"
            ]
        ]
    },
    {
        "id": "c01114ca.b0a928",
        "type": "switchNode",
        "name": "switch portType LTE match",
        "xml": "<switch test=\"`LTE == $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$didx].value`\">\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1763.4032936096191,
        "y": 1064.232717514038,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "acc83fa1.efe81"
            ]
        ]
    },
    {
        "id": "acc83fa1.efe81",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1964.4033832550049,
        "y": 1068.2326908111572,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "30dfd74d.405928"
            ]
        ]
    },
    {
        "id": "e31d4c6.c361fb",
        "type": "comment",
        "name": "set linkType as Ethernet",
        "info": "",
        "comments": "",
        "x": 2189.4034156799316,
        "y": 946.2327260971069,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "60995785.6141d8",
        "type": "comment",
        "name": "set linkType as Cellular",
        "info": "",
        "comments": "",
        "x": 2200.625476837158,
        "y": 1033.2326751947403,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "86ffb9d1.271bf8",
        "type": "execute",
        "name": "execute RestApiCallNode device port create",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sdwan-port.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/campus/v1/sdwan/net/ports'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"portResp\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 877.5149421691895,
        "y": 1130.7885818481445,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "fa0604ac.0f5bc8",
                "2afd5b9a.0c9054"
            ]
        ]
    },
    {
        "id": "2afd5b9a.0c9054",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1126.515001296997,
        "y": 1106.7886233329773,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "fd5d5c5b.4f78f"
            ]
        ]
    },
    {
        "id": "fa0604ac.0f5bc8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1126.515001296997,
        "y": 1144.7887878417969,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "2654b242.f97d8e"
            ]
        ]
    },
    {
        "id": "fd5d5c5b.4f78f",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create device port rest api\" />\n",
        "comments": "",
        "x": 1270.5153350830078,
        "y": 1105.7886228561401,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "2654b242.f97d8e",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1273.5150127410889,
        "y": 1145.7886266708374,
        "z": "81e8e679.1e5f48",
        "wires": [
            []
        ]
    },
    {
        "id": "b0b3b2d7.c3aed",
        "type": "set",
        "name": "set prop.wan.linkType Ethernet",
        "xml": "<set>\n<parameter name='prop.wan.linkType' value=\"Ethernet\" />\n\n",
        "comments": "",
        "x": 2176.1807975769043,
        "y": 986.6770839691162,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "30dfd74d.405928",
        "type": "set",
        "name": "set prop.wan.linkType Cellular",
        "xml": "<set>\n<parameter name='prop.wan.linkType' value=\"Cellular\" />",
        "comments": "",
        "x": 2186.1808433532715,
        "y": 1066.6770544052124,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "e2c4dac5.6f39e8",
        "type": "execute",
        "name": "execute RestApiCallNode get transport network info",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/campus/v1/sdwan/net/network-orchestration-resources'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"get\"/>\n<parameter name=\"responsePrefix\" value=\"transportNetworksResp\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 908.5352516174316,
        "y": 1220.0782823562622,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "7a45df8a.7903b",
                "36ac3856.141338"
            ]
        ]
    },
    {
        "id": "555b730f.2ad3ec",
        "type": "execute",
        "name": "execute RestApiCallNode wan port create",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sdwan-wan-port.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/campus/v1/sdwan/net/transport-network-ports'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"wanPortResp\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 881.5354232788086,
        "y": 1604.078293800354,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "3f91502c.081fa",
                "6ca447f7.7cb2c8"
            ]
        ]
    },
    {
        "id": "cb6170fa.31a46",
        "type": "set",
        "name": "set prop.wan.transportNetworkId",
        "xml": "<set>\n<parameter name='prop.wan.transportNetworkId' value='`$transportNetworksResp.data.transportNetworks[$tidx].id`' />\n",
        "comments": "",
        "x": 1776.5262603759766,
        "y": 1335.0683436393738,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "409701be.1a03c",
        "type": "execute",
        "name": "execute split ip and mask",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$prop.wan.ipAddress`'/>\n<parameter name=\"regex\" value=\"/\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"ipandMask\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 828.5250358581543,
        "y": 1396.4012417793274,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "33b19903.96b096",
                "f243f0f3.7944c"
            ]
        ]
    },
    {
        "id": "f243f0f3.7944c",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1029.5250549316406,
        "y": 1374.4012331962585,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "f9bdce70.a5d11"
            ]
        ]
    },
    {
        "id": "33b19903.96b096",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1029.525058746338,
        "y": 1415.4012370109558,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "7b17ef62.bca26"
            ]
        ]
    },
    {
        "id": "f9bdce70.a5d11",
        "type": "set",
        "name": "set ipAddress prefixLength",
        "xml": "<set>\n<parameter name='prop.wan.ip-address' value='`$ipandMask[0]`' />\n<parameter name='prop.wan.prefixLength' value='`$ipandMask[1]`' />",
        "comments": "",
        "x": 1226.525074005127,
        "y": 1372.4012331962585,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "7b17ef62.bca26",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 1184.5250663757324,
        "y": 1412.4012360572815,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "5dfad1bf.4368f",
        "type": "switchNode",
        "name": "switch transportNetworkName same",
        "xml": "<switch test=\"`$transportNetworksResp.data.transportNetworks[$tidx].name == $prop.wan.transportNetworkName`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1364.5359382629395,
        "y": 1287.7447051107883,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "2b9a741b.c318cc"
            ]
        ]
    },
    {
        "id": "2b9a741b.c318cc",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1611.5355377197266,
        "y": 1286.744643688202,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "cb6170fa.31a46"
            ]
        ]
    },
    {
        "id": "844b5fe4.d3379",
        "type": "set",
        "name": "set prop.wan.wanPortId",
        "xml": "<set>\n<parameter name='prop.wan.wanPortId' value='`$wanPortResp.success[0].id`' />\n",
        "comments": "",
        "x": 1538.859546661377,
        "y": 1622.735113143921,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "c63182d3.fbcc4",
        "type": "set",
        "name": "set prop.wan.devicePortId",
        "xml": "<set>\n<parameter name='prop.wan.devicePortId' value='`$portResp.success[0].id`' />\n",
        "comments": "",
        "x": 823.526050567627,
        "y": 1176.0681076049805,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "d1467d26.a7bbb",
        "type": "comment",
        "name": "Get network id",
        "info": "",
        "comments": "",
        "x": 1016.5349006652832,
        "y": 1185.411289215088,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "4696daa4.7bc6d4",
        "type": "comment",
        "name": "Create wan port",
        "info": "",
        "comments": "",
        "x": 812.5349235534668,
        "y": 1361.411374092102,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "6ca447f7.7cb2c8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1153.5351524353027,
        "y": 1578.077886581421,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "6062b706.984518"
            ]
        ]
    },
    {
        "id": "3f91502c.081fa",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1151.5350723266602,
        "y": 1625.078049659729,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "9419758e.c47e08"
            ]
        ]
    },
    {
        "id": "9419758e.c47e08",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1320.5350799560547,
        "y": 1625.0778864622116,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "844b5fe4.d3379"
            ]
        ]
    },
    {
        "id": "88101c47.a8c7e",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create wan port rest api\" />\n",
        "comments": "",
        "x": 1492.535488128662,
        "y": 1579.0778856277466,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "36ac3856.141338",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1210.534755706787,
        "y": 1199.0777764320374,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "b8093d9a.685ef"
            ]
        ]
    },
    {
        "id": "7a45df8a.7903b",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1210.5347518920898,
        "y": 1239.077941417694,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "f5cec88.5afd738"
            ]
        ]
    },
    {
        "id": "f5cec88.5afd738",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1354.534767150879,
        "y": 1238.077778339386,
        "z": "81e8e679.1e5f48",
        "wires": [
            []
        ]
    },
    {
        "id": "b8093d9a.685ef",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Get transport network info rest api\" />\n",
        "comments": "",
        "x": 1352.5350875854492,
        "y": 1198.0777764320374,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "86b35264.46fea",
        "type": "comment",
        "name": "TODO: split ip/mask",
        "info": "",
        "comments": "",
        "x": 1225.5347061157227,
        "y": 1334.5815052986145,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "85c6d777.738908",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1114.5355415344238,
        "y": 1286.411331653595,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "5dfad1bf.4368f"
            ]
        ]
    },
    {
        "id": "675842c8.f4343c",
        "type": "for",
        "name": "for loop tidx - Get transportNetwork ID",
        "xml": "<for index=\"tidx\" start=\"0\" end=\"`$transportNetworksResp.data.transportNetworks_length`\">\n    \n    \n",
        "comments": "",
        "outputs": 1,
        "x": 870.5352210998535,
        "y": 1289.411153793335,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "85c6d777.738908"
            ]
        ]
    },
    {
        "id": "6062b706.984518",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1313.5389022827148,
        "y": 1576.5816287994385,
        "z": "81e8e679.1e5f48",
        "wires": [
            []
        ]
    },
    {
        "id": "9e802733.d722c8",
        "type": "for",
        "name": "for loop idx - VF-module input parameters",
        "xml": "<for index='idx' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 871.8372230529785,
        "y": 1481.6666259765625,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "7d8af107.52b1d"
            ]
        ]
    },
    {
        "id": "7d8af107.52b1d",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1115.7331771850586,
        "y": 1480.5885977745056,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "58ac9d77.f3c914"
            ]
        ]
    },
    {
        "id": "58ac9d77.f3c914",
        "type": "switchNode",
        "name": "switch IPMode",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$idx].name == 'IPMode'`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 1263.8504219055176,
        "y": 1482.562081336975,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "463d34c6.f0572c"
            ]
        ]
    },
    {
        "id": "463d34c6.f0572c",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1411.8504066467285,
        "y": 1479.5620460510254,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "f6e7d7b8.9804f8"
            ]
        ]
    },
    {
        "id": "f6e7d7b8.9804f8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1568.8372230529785,
        "y": 1481.4443969726562,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "7986250.a52d3dc",
                "80947f3.e50c28"
            ]
        ]
    },
    {
        "id": "7986250.a52d3dc",
        "type": "switchNode",
        "name": "switch IPMode Static match",
        "xml": "<switch test=\"`Static == $prop.wan.IPMode`\">\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1774.50394821167,
        "y": 1482.4444608688354,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "c5b82352.18946"
            ]
        ]
    },
    {
        "id": "80947f3.e50c28",
        "type": "switchNode",
        "name": "switch IPMode DHCP match",
        "xml": "<switch test=\"`DHCP == $prop.wan.IPMode`\">\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1773.837314605713,
        "y": 1544.4444484710693,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "ca30d3ba.e4aa5"
            ]
        ]
    },
    {
        "id": "8679bf14.4ac1",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 798.4032974243164,
        "y": 2124.5665798187256,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "7362e1fa.b1592",
        "type": "set",
        "name": "set device PortId to service data",
        "xml": "<set>\n<parameter name='$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length].name' value='devicePortId' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length].value' value='`$prop.wan.devicePortId`' />\n",
        "comments": "",
        "x": 858.0597534179688,
        "y": 1779.222749710083,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "726be50f.6f16fc",
        "type": "update",
        "name": "update SDWAN wan port instance configuration in AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='wan-port-config' \n      key='wan-port-config.wan-port-config-id = $vf-module-topology-operation-input.vnf-information.vnf-id' >\n<parameter name=\"wan-port-config-id\" value=\"`$vf-module-topology-operation-input.vnf-information.vnf-id`\" />\n<parameter name='operational-status' value='Active' />\n<parameter name='device-port-id' value='`$prop.wan.devicePortId`' />\n<parameter name='wan-port-id' value='`$prop.wan.wanPortId`' />\n<parameter name='model-customization-id' value='`$vf-module-topology-operation-input.vnf-information.onap-model-information.model-customization-uuid`' />\n<parameter name='model-invariant-id' value='`$vf-module-topology-operation-input.vnf-information.onap-model-information.model-invariant-uuid`' />\n<parameter name='model-version-id' value='`$vf-module-topology-operation-input.vnf-information.onap-model-information.model-uuid`' />\n",
        "comments": "",
        "outputs": 1,
        "x": 925.7223663330078,
        "y": 2090.3707427978516,
        "z": "81e8e679.1e5f48",
        "wires": [
            []
        ]
    },
    {
        "id": "46743c8f.b3fd84",
        "type": "set",
        "name": "set wan portId to service data",
        "xml": "<set>\n<parameter name='$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length].name' value='wanPortId' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length].value' value='`$prop.wan.wanPortId`' />\n",
        "comments": "",
        "x": 864.0687103271484,
        "y": 1869.4818668365479,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "35191a02.d89a16",
        "type": "set",
        "name": "set ipAddress prefixLength",
        "xml": "<set>\n<parameter name='prop.wan.ip-address' value=\"\" />\n<parameter name='prop.wan.prefixLength' value=\"\" />\n<parameter name='prop.wan.providerIpAddress' value=\"\" />\n<parameter name='prop.wan.IpMode' value=\"static\" />\n<parameter name='prop.route.nextHopType' value=\"ip-address\" />\n<parameter name='prop.route.ipAddress' value=\"`$prop.wan.ipAddress`\" />\n\n",
        "comments": "",
        "x": 2158.292377471924,
        "y": 1476.8992538452148,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "103790c7.a4e84f",
        "type": "execute",
        "name": "execute RestApiCallNode underlay route",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sdwan-underlay.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/campus/v1/sdwan/routing-protocol/static/action/batch-delete'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"underlayspokeResp\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 894.6254920959473,
        "y": 1719.8992919921875,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "cb65e9dc.cb7d28",
                "509b7bd.b23cb84"
            ]
        ]
    },
    {
        "id": "cb65e9dc.cb7d28",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1144.6253185272217,
        "y": 1704.8995790481567,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "aae088c9.6e82a8"
            ]
        ]
    },
    {
        "id": "509b7bd.b23cb84",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1146.625638961792,
        "y": 1748.8995885849,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "537341f9.e0df6"
            ]
        ]
    },
    {
        "id": "aae088c9.6e82a8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1290.209774017334,
        "y": 1694.2653658390045,
        "z": "81e8e679.1e5f48",
        "wires": [
            []
        ]
    },
    {
        "id": "537341f9.e0df6",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1291.2095317840576,
        "y": 1741.2653667926788,
        "z": "81e8e679.1e5f48",
        "wires": [
            []
        ]
    },
    {
        "id": "d38fbe54.6487b",
        "type": "set",
        "name": "set ipAddress prefixLength",
        "xml": "<set>\n<parameter name='prop.route.nextHopType' value=\"outbound-interface\" />\n<parameter name='prop.wan.IpMode' value=\"DHCP\" />\n<parameter name='prop.route.ipAddress' value=\"\" />\n",
        "comments": "",
        "x": 2161.7539710998535,
        "y": 1548.0000038146973,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "15ae932b.8eaafd",
        "type": "for",
        "name": "for each existing vf-index",
        "xml": "<for index='idx' start='0' end='`$vf-module-length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1469.5039100646973,
        "y": 430,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "33f87d4b.131732",
                "48f81161.66243"
            ]
        ]
    },
    {
        "id": "113b21af.23a45e",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/svclogic-device-param.log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"'service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$didx].name'\"/>\n<parameter name=\"field3\" value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$didx].name`'/>\n\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2628.8371620178223,
        "y": 578,
        "z": "81e8e679.1e5f48",
        "wires": [
            []
        ]
    },
    {
        "id": "bf88a576.7aa2c8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/svclogic-device-name.log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"'prop.wan.deviceName'\"/>\n<parameter name=\"field3\" value='`$prop.wan.deviceName`'/>\n<parameter name=\"field4\" value=\"'service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$didx].value'\"/>\n<parameter name=\"field5\" value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$didx].value`'/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2880.8371620178223,
        "y": 661,
        "z": "81e8e679.1e5f48",
        "wires": [
            []
        ]
    },
    {
        "id": "d2df96f9.05ab08",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/svclogic-last.log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"'tmp.devicevidx'\"/>\n<parameter name=\"field3\" value='`$tmp.devicevidx`'/>\n\n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 3216.8371620178223,
        "y": 930,
        "z": "81e8e679.1e5f48",
        "wires": [
            []
        ]
    },
    {
        "id": "c5b82352.18946",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1973.5039100646973,
        "y": 1476.6666259765625,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "35191a02.d89a16"
            ]
        ]
    },
    {
        "id": "ca30d3ba.e4aa5",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1970.5039100646973,
        "y": 1554.6666259765625,
        "z": "81e8e679.1e5f48",
        "wires": [
            [
                "d38fbe54.6487b"
            ]
        ]
    },
    {
        "id": "92451c4e.ffaad",
        "type": "set",
        "name": "hardcode device port resp",
        "xml": "<set>\n<parameter name='portResp.success[0].id' value=\"12345\" />\n",
        "comments": "",
        "x": 806.5352172851562,
        "y": 945.5313758850098,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "7f799175.fb047",
        "type": "set",
        "name": "increment wan-port param length",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length + 1`' />\n",
        "comments": "",
        "x": 866.5351791381836,
        "y": 1824.0313453674316,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "131a2ffd.3a8e5",
        "type": "set",
        "name": "increment wan-port param length",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length + 1`' />\n",
        "comments": "",
        "x": 874.5351791381836,
        "y": 1909.0313472747803,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "e9b4c90b.c4ce98",
        "type": "set",
        "name": "set vf-module-id and vf-module-object-path",
        "xml": "<set>\n<parameter name='vf-module-object-path' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vf-module-topology-operation-input.service-information.service-instance-id\n + '/service-data/vnfs/vnf/'\n + $service-data.vnfs.vnf[$vnf-index].vnf-id\n + '/vnf-data/vf-modules/vf-module/'\n + $vf-module-topology-operation-input.vf-module-information.vf-module-id\n + '/vf-module-data/vf-module-topology/'`\"/>\n<parameter name='vnf-object-path'\n value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vf-module-topology-operation-input.service-information.service-instance-id\n + '/service-data/vnfs/vnf/'\n + $service-data.vnfs.vnf[$vnf-index].vnf-id\n + '/vnf-data/vnf-topology/'`\"/>\n<parameter name='service-object-path'\n value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vf-module-topology-operation-input.service-information.service-instance-id\n + '/service-data/service-topology/'`\"/>\n",
        "comments": "",
        "x": 894.0352058410645,
        "y": 2003.0313870636746,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "7c031fb.d5948e",
        "type": "set",
        "name": "set vf-module-level-oper-status",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-level-oper-status.order-status'  value='Active' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-level-oper-status.last-rpc-action'  value='`$vf-module-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-level-oper-status.last-action'  value='`$vf-module-topology-operation-input.sdnc-request-header.request-action`' />",
        "comments": "",
        "x": 860.0352058410645,
        "y": 2051.531388017349,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "a7fe1093.6d40a",
        "type": "set",
        "name": "copy input data in service-data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.sdnc-request-header.' value='`$vf-module-topology-operation-input.sdnc-request-header.`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.request-information.' value='`$vf-module-topology-operation-input.request-information.`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.service-information.' value='`$vf-module-topology-operation-input.service-information.`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-information.' value='`$vf-module-topology-operation-input.vf-module-information.`' />\n",
        "comments": "",
        "x": 858.0351600646973,
        "y": 1955.2813415527344,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "7b8751b7.f6ba8",
        "type": "set",
        "name": "copy input data to service data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.sdnc-request-header.' value='`$vf-module-topology-operation-input.sdnc-request-header.`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.request-information.' value='`$vf-module-topology-operation-input.request-information.`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.service-information.' value='`$vf-module-topology-operation-input.service-information.`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-information.' value='`$vf-module-topology-operation-input.vf-module-information.`' />\n",
        "comments": "",
        "x": 2064.0351600646973,
        "y": 2255.03125,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "5ef5bb05.ba3244",
        "type": "set",
        "name": "set vf-module-id and vf-module-object-path",
        "xml": "<set>\n<parameter name='vf-module-object-path' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vf-module-topology-operation-input.service-information.service-instance-id\n + '/service-data/vnfs/vnf/'\n + $service-data.vnfs.vnf[$vnf-index].vnf-id\n + '/vnf-data/vf-modules/vf-module/'\n + $vf-module-topology-operation-input.vf-module-information.vf-module-id\n + '/vf-module-data/vf-module-topology/'`\"/>\n<parameter name='vnf-object-path'\n value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vf-module-topology-operation-input.service-information.service-instance-id\n + '/service-data/vnfs/vnf/'\n + $service-data.vnfs.vnf[$vnf-index].vnf-id\n + '/vnf-data/vnf-topology/'`\"/>\n<parameter name='service-object-path'\n value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vf-module-topology-operation-input.service-information.service-instance-id\n + '/service-data/service-topology/'`\"/>\n",
        "comments": "",
        "x": 2098.3383598327637,
        "y": 2298.8343591690063,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "7b8dfcbe.827b44",
        "type": "set",
        "name": "set vf-module-level-oper-status",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-level-oper-status.order-status'  value='Active' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-level-oper-status.last-rpc-action'  value='`$vf-module-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-level-oper-status.last-action'  value='`$vf-module-topology-operation-input.sdnc-request-header.request-action`' />",
        "comments": "",
        "x": 2065.338394165039,
        "y": 2337.8344264030457,
        "z": "81e8e679.1e5f48",
        "wires": []
    },
    {
        "id": "e28c61da.26a12",
        "type": "set",
        "name": "hardcode port resp",
        "xml": "<set>\n<parameter name='portResp.success[0].id' value=\"12345\" />\n",
        "comments": "",
        "x": 779.5039901733398,
        "y": 842.3333721160889,
        "z": "81e8e679.1e5f48",
        "wires": []
    }
]