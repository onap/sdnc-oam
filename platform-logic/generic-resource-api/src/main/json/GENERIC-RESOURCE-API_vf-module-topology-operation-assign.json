[
    {
        "id": "7872ac68.b65eec",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 249,
        "y": 77.02430057525635,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "f34605e6.975148"
            ]
        ]
    },
    {
        "id": "f34605e6.975148",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='1-4-2-20181108R1'>",
        "outputs": 1,
        "x": 362.8571357727051,
        "y": 116.83383846282959,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "2d06e3f0.296bd4"
            ]
        ]
    },
    {
        "id": "2d06e3f0.296bd4",
        "type": "method",
        "name": "method vf-module-topology-operation-assign",
        "xml": "<method rpc='vf-module-topology-operation-assign' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 362.42862701416016,
        "y": 157.02430057525635,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "7c702159.676ca8"
            ]
        ]
    },
    {
        "id": "28b5b56e.7bcff2",
        "type": "comment",
        "name": "vf-module-topology-operation-assign",
        "info": "",
        "comments": "",
        "x": 654.3210983276367,
        "y": 20,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "ecc20041.0f739",
        "type": "switchNode",
        "name": "switch request-action",
        "xml": "<switch test='`$vf-module-topology-operation-input.request-information.request-action`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 655.4405212402344,
        "y": 353.7980947494507,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "f05461a8.fe9138",
                "a2a375ce.6aeb28"
            ]
        ]
    },
    {
        "id": "f05461a8.fe9138",
        "type": "outcome",
        "name": "CreateVfModuleInstance",
        "xml": "<outcome value='CreateVfModuleInstance'>\n",
        "comments": "",
        "outputs": 1,
        "x": 926.2381591796875,
        "y": 322.1909704208374,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "9adaa8af.f75ff8"
            ]
        ]
    },
    {
        "id": "a2a375ce.6aeb28",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 861.1547813415527,
        "y": 386.3219738006592,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "2aa4ded6.85660a"
            ]
        ]
    },
    {
        "id": "9adaa8af.f75ff8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1116.095323562622,
        "y": 322.19100189208984,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "dd68304f.b1595",
        "type": "get-resource",
        "name": "get-resource VF_MODULE_MODEL",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='SELECT * from VF_MODULE_MODEL WHERE customization_uuid = $vf-module-topology-operation-input.vf-module-information.onap-model-information.model-customization-uuid'\n  pfx='db.vf-module-model'>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 702.7737884521484,
        "y": 454.94104862213135,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "edcc9122.21f238",
                "ea494d56.7bba88"
            ]
        ]
    },
    {
        "id": "edcc9122.21f238",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 968.5594787597656,
        "y": 435.32187938690186,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "1d7ba63.b5fa65a"
            ]
        ]
    },
    {
        "id": "ea494d56.7bba88",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 977.1309089660645,
        "y": 479.60759258270264,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "f0e59dc9.b120b"
            ]
        ]
    },
    {
        "id": "4cf484bc.a7884c",
        "type": "switchNode",
        "name": "switch service-data.vnfs.vnf_length",
        "xml": "<switch test='`$service-data.vnfs.vnf_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 696.6190414428711,
        "y": 632.2624082565308,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "8d56ad05.7bde08",
                "9c908983.08a4d8"
            ]
        ]
    },
    {
        "id": "8d56ad05.7bde08",
        "type": "other",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 937.3333129882812,
        "y": 608.4051485061646,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "42b7e01b.05af5"
            ]
        ]
    },
    {
        "id": "9c908983.08a4d8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 937.0951538085938,
        "y": 650.3576669692993,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "3296e0c9.1a2b98"
            ]
        ]
    },
    {
        "id": "8f79dbc8.7db7",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 275.19043731689453,
        "y": 3113.92930662632,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "8bd65d57.ca873",
                "95b50dc3.b3eaa8",
                "7f5c1ab.07dc8e4",
                "a4bd46a6.4c7948",
                "9353b6ca.63a",
                "593240f.2e5dfc",
                "61d8eb38.b2fbcc",
                "f4fdf1b2.78014",
                "f28a191d.fa5388",
                "db521c4d.e33a6",
                "d231961.0e5af68",
                "9bd77d1.d57718",
                "6ca4c07c.9e462",
                "14495b22.7cf5b5",
                "e2f0fdd8.9183e",
                "2aec1ab2.b6d76e",
                "a437c406.068398",
                "21272d1e.3423a2",
                "a811953e.3d5df",
                "2836fda6.d1401a",
                "23e29604.8790d2",
                "5c2e76e6.510bc8",
                "39b4f744.d1aa08",
                "9b591072.49f158",
                "91b4e4ba.57d17",
                "31f8df5a.8a883",
                "454e317f.c0b978",
                "28c49fc5.3edea8",
                "e48ab51.bc64748",
                "77f4d187.1b74",
                "3def796f.bfc29e",
                "deb09c65.8dad4",
                "ec7f0c6b.416438",
                "edf9a73a.57dcd8"
            ]
        ]
    },
    {
        "id": "3296e0c9.1a2b98",
        "type": "for",
        "name": "for each vnf",
        "xml": "<for index='idx' start='0' end='`$service-data.vnfs.vnf_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1099.3332977294922,
        "y": 650.0242853164673,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "78a4b0c0.fcef88"
            ]
        ]
    },
    {
        "id": "78a4b0c0.fcef88",
        "type": "switchNode",
        "name": "switch service data vnf == input vnf",
        "xml": "<switch test='`$service-data.vnfs.vnf[$idx].vnf-id == $vf-module-topology-operation-input.vnf-information.vnf-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1350.6665954589844,
        "y": 649.6910133361816,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "f1f9ef3b.2acf08"
            ]
        ]
    },
    {
        "id": "f1f9ef3b.2acf08",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1580.6666069030762,
        "y": 649.0243263244629,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "e41282f8.9e4d28"
            ]
        ]
    },
    {
        "id": "171a0ec3.b9f0f9",
        "type": "set",
        "name": "set vnf-index to -1",
        "xml": "<set>\n<parameter name='vnf-index' value='-1' />\n",
        "comments": "",
        "x": 645.6666641235352,
        "y": 563.6909074783325,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "46d3f516.89cdb4",
        "type": "set",
        "name": "set vnf-index to idx",
        "xml": "<set>\n<parameter name='vnf-index' value='`$idx`' />\n",
        "comments": "",
        "x": 1902.3332443237305,
        "y": 620.024284362793,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "dbb72df2.324d8",
        "type": "switchNode",
        "name": "switch vnf-index",
        "xml": "<switch test='`$vnf-index`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 634.4166870117188,
        "y": 715.8575973510742,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "5d9d0bcb.c03144"
            ]
        ]
    },
    {
        "id": "5d9d0bcb.c03144",
        "type": "outcome",
        "name": "-1",
        "xml": "<outcome value='-1'>\n",
        "comments": "",
        "outputs": 1,
        "x": 812.750072479248,
        "y": 715.1909732818604,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "8f8db71d.d40668"
            ]
        ]
    },
    {
        "id": "8bd65d57.ca873",
        "type": "switchNode",
        "name": "switch vf-module_length",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 652.3333930969238,
        "y": 1330.3578004837036,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "9062c815.7f606",
                "d6e745e.14bf038"
            ]
        ]
    },
    {
        "id": "9062c815.7f606",
        "type": "other",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 909.7143478393555,
        "y": 1297.5005741119385,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "98e2cae1.cca628"
            ]
        ]
    },
    {
        "id": "98e2cae1.cca628",
        "type": "set",
        "name": "set vf-module-index=0",
        "xml": "<set>\n<parameter name='vf-module-index' value='0' />\n",
        "comments": "",
        "x": 1097.3333854675293,
        "y": 1298.1673488616943,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "d6e745e.14bf038",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 910.1428909301758,
        "y": 1361.7864322662354,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "2252efa2.f9dfa"
            ]
        ]
    },
    {
        "id": "e375acbf.43671",
        "type": "set",
        "name": "set vf-module-index = vf-module_length",
        "xml": "<set>\n<parameter name='vf-module-index' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length`' />\n",
        "comments": "",
        "x": 1295.3334312438965,
        "y": 1341.97682762146,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "a5a1bd39.8672f8",
        "type": "for",
        "name": "for each existing VF module",
        "xml": "<for index='idx' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1254.428524017334,
        "y": 1386.072057723999,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "208b49e7.341bbe"
            ]
        ]
    },
    {
        "id": "2252efa2.f9dfa",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1046.8571701049805,
        "y": 1361.7863578796387,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "e375acbf.43671",
                "a5a1bd39.8672f8"
            ]
        ]
    },
    {
        "id": "208b49e7.341bbe",
        "type": "switchNode",
        "name": "switch vf-module-information.vf-module-id == service-data.vnfs.vnf[].vf-modules.vf-module[].vf-module-id",
        "xml": "<switch test='`$vf-module-topology-operation-input.vf-module-information.vf-module-id == $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1758.0476264953613,
        "y": 1385.6434688568115,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "f1aac78f.9b89e8"
            ]
        ]
    },
    {
        "id": "f1aac78f.9b89e8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2200.666675567627,
        "y": 1385.2149200439453,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "6fcc1d57.8f1704"
            ]
        ]
    },
    {
        "id": "bddb095c.4ec56",
        "type": "comment",
        "name": "make sure this VF module doesn't exist already",
        "info": "",
        "comments": "",
        "x": 1784.4999732971191,
        "y": 1340.2709608078003,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "95b50dc3.b3eaa8",
        "type": "set",
        "name": "set new vf-module_length",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length' value='`$vf-module-index + 1`' />\n",
        "comments": "",
        "x": 662.9999732971191,
        "y": 1441.3576555252075,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "7f5c1ab.07dc8e4",
        "type": "set",
        "name": "set vf-module-topology data",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-topology-identifier.vf-module-id' value='`$vf-module-topology-operation-input.vf-module-information.vf-module-id`' />\n<parameter name='tmp.vf-module-topology.vf-module-topology-identifier.vf-module-name' value='`$vf-module-topology-operation-input.vf-module-request-input.vf-module-name`' />\n<parameter name='tmp.vf-module-topology.vf-module-topology-identifier.vf-module-type' value='`$vf-module-topology-operation-input.vf-module-information.vf-module-type`' />\n<parameter name='tmp.vf-module-topology.tenant' value='`$vf-module-topology-operation-input.vf-module-request-input.tenant`' />\n<parameter name='tmp.vf-module-topology.aic-cloud-region' value='`$vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region`' />\n",
        "comments": "",
        "x": 669.4999923706055,
        "y": 1553.857762336731,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "7ed5808d.63808",
        "type": "set",
        "name": "set aic-clli",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.aic-clli'\n   value='`$aai-uid-split[$aai-uid-split_length - 1]`' />\n",
        "comments": "",
        "x": 1430.4522514343262,
        "y": 1713.0956888198853,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "a4bd46a6.4c7948",
        "type": "switchNode",
        "name": "switch aic-clli",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.aic-clli`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 629.4999122619629,
        "y": 1827.0480289459229,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "99bf9bf3.d05c18"
            ]
        ]
    },
    {
        "id": "99bf9bf3.d05c18",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 774.7856025695801,
        "y": 1827.0480976104736,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "971e7a07.63c6a"
            ]
        ]
    },
    {
        "id": "9353b6ca.63a",
        "type": "get-resource",
        "name": "get-resource cloud region",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"cloud-region\" \n\t\tkey=\"cloud-region.cloud-owner = $prop.cloud-region.cloud-owner AND \n\t\t     cloud-region.cloud-region-id = $vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region\"\n        pfx='aai.cloud-region' local-only='false' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 668.3571281433105,
        "y": 1627.1913003921509,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "10d6f1f4.c0e74e",
                "fd4a9ba3.0e5298"
            ]
        ]
    },
    {
        "id": "fd4a9ba3.0e5298",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 882.6033210754395,
        "y": 1645.3421564102173,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "5f521589.22334c"
            ]
        ]
    },
    {
        "id": "10d6f1f4.c0e74e",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 891.5319175720215,
        "y": 1602.6278896331787,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "83002184.a6a7d8"
            ]
        ]
    },
    {
        "id": "e41282f8.9e4d28",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1729.0000686645508,
        "y": 647.9440250396729,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "46d3f516.89cdb4",
                "cc278cd1.3960d"
            ]
        ]
    },
    {
        "id": "cc278cd1.3960d",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 1864.0000343322754,
        "y": 669.6106109619141,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "667c5430.d027fc",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-invariant-uuid'\n  value='`$db.vf-module-model.invariant-uuid`' />\n",
        "comments": "",
        "x": 1043.833251953125,
        "y": 1868.44402217865,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "593240f.2e5dfc",
        "type": "switchNode",
        "name": "switch input model-invariant-uuid",
        "xml": "<switch test='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-invariant-uuid`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 687.6903266906738,
        "y": 1891.2684659957886,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "7b44ecc3.224cec",
                "6ed3a3eb.1c472c"
            ]
        ]
    },
    {
        "id": "7b44ecc3.224cec",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 893.3569984436035,
        "y": 1868.4114294052124,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "667c5430.d027fc"
            ]
        ]
    },
    {
        "id": "6ed3a3eb.1c472c",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 894.7855949401855,
        "y": 1912.6970205307007,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "95ea7bcd.3e929"
            ]
        ]
    },
    {
        "id": "95ea7bcd.3e929",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-invariant-uuid'\n  value='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-invariant-uuid`' />\n",
        "comments": "",
        "x": 1049.07133102417,
        "y": 1912.1255927085876,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "2a418e76.8c18ca",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-uuid'\n  value='`$db.vf-module-model.uuid`' />\n",
        "comments": "",
        "x": 1044.7855224609375,
        "y": 1956.9826984405518,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "61d8eb38.b2fbcc",
        "type": "switchNode",
        "name": "switch input model-uuid",
        "xml": "<switch test='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-uuid`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 660.3093452453613,
        "y": 1979.8072032928467,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "3d931d.a21034e4",
                "27b857b.78b69a8"
            ]
        ]
    },
    {
        "id": "3d931d.a21034e4",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 894.3093185424805,
        "y": 1956.950135231018,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "2a418e76.8c18ca"
            ]
        ]
    },
    {
        "id": "27b857b.78b69a8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 895.7379150390625,
        "y": 2001.2357263565063,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "758a5380.727614"
            ]
        ]
    },
    {
        "id": "758a5380.727614",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-uuid'\n  value='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-uuid`' />\n",
        "comments": "",
        "x": 1050.0236511230469,
        "y": 2000.6642985343933,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "ac19f31f.b5c2e8",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-version'\n  value='`$db.vf-module-model.version`' />\n",
        "comments": "",
        "x": 1041.9284553527832,
        "y": 2045.8399057388306,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "f4fdf1b2.78014",
        "type": "switchNode",
        "name": "switch input model-version",
        "xml": "<switch test='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-version`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 668.4522171020508,
        "y": 2068.6643505096436,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "b9d3dff0.fe1138",
                "5aec923b.8da314"
            ]
        ]
    },
    {
        "id": "b9d3dff0.fe1138",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 891.4522018432617,
        "y": 2045.807312965393,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "ac19f31f.b5c2e8"
            ]
        ]
    },
    {
        "id": "5aec923b.8da314",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 892.8807983398438,
        "y": 2090.0929040908813,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "9898532e.1b4108"
            ]
        ]
    },
    {
        "id": "9898532e.1b4108",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-version'\n  value='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-version`' />\n",
        "comments": "",
        "x": 1047.1665344238281,
        "y": 2089.5214762687683,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "5ffe51b1.280768",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-name'\n  value='`$db.vf-module-model.name`' />\n",
        "comments": "",
        "x": 1041.9284553527832,
        "y": 2132.9827280044556,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "f28a191d.fa5388",
        "type": "switchNode",
        "name": "switch input model-name",
        "xml": "<switch test='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 663.4522171020508,
        "y": 2155.8071727752686,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "5cbb89ac.3c6d",
                "9a544eb6.bb81b"
            ]
        ]
    },
    {
        "id": "5cbb89ac.3c6d",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 891.4522018432617,
        "y": 2132.950135231018,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "5ffe51b1.280768"
            ]
        ]
    },
    {
        "id": "9a544eb6.bb81b",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 892.8807983398438,
        "y": 2177.2357263565063,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "1a8aed6a.9a823b"
            ]
        ]
    },
    {
        "id": "1a8aed6a.9a823b",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-name'\n  value='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-name`' />\n",
        "comments": "",
        "x": 1047.1665344238281,
        "y": 2176.6642985343933,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "db521c4d.e33a6",
        "type": "set",
        "name": "set model-customization-uuid",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-customization-uuid'\n  value='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-customization-uuid`' />\n",
        "comments": "",
        "x": 677.9045524597168,
        "y": 2228.316162109375,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "d231961.0e5af68",
        "type": "set",
        "name": "set vf-module-id",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-id'\n   value='`$vf-module-topology-operation-input.vf-module-information.vf-module-id`' />\n",
        "comments": "",
        "x": 631.0951995849609,
        "y": 1497.0393381118774,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "9bd77d1.d57718",
        "type": "for",
        "name": "for each cloud-region relationship",
        "xml": "<for index='idx' start='0' end='`$aai.cloud-region.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 690.6109428405762,
        "y": 1715.6979837417603,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "6e903bf9.7449b4"
            ]
        ]
    },
    {
        "id": "6e903bf9.7449b4",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$aai.cloud-region.relationship-list.relationship[$idx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 938.2894859313965,
        "y": 1715.4479131698608,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "dcdfd59c.f92a88"
            ]
        ]
    },
    {
        "id": "dcdfd59c.f92a88",
        "type": "outcome",
        "name": "complex",
        "xml": "<outcome value='complex'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1107.753807067871,
        "y": 1714.8407354354858,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "7b9aab8f.0bf5bc"
            ]
        ]
    },
    {
        "id": "689553a4.5b288c",
        "type": "execute",
        "name": "split related-link",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split'>\n   <parameter name='ctx_memory_result_key' value='aai-uid-split' />\n   <parameter name='original_string' value='`$aai.cloud-region.relationship-list.relationship[$idx].related-link`' />\n   <parameter name='regex' value='/' />\n",
        "comments": "",
        "outputs": 1,
        "x": 1447.848964691162,
        "y": 1669.269310951233,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "7b9aab8f.0bf5bc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1267.51566696167,
        "y": 1715.9360990524292,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "689553a4.5b288c",
                "4713fb38.cd58fc",
                "7ed5808d.63808"
            ]
        ]
    },
    {
        "id": "4713fb38.cd58fc",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 1417.5156288146973,
        "y": 1759.269395828247,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "946d19d6.6a0a98",
        "type": "execute",
        "name": "execute PropertiesNode",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
        "comments": "",
        "outputs": 1,
        "x": 668.0476226806641,
        "y": 186.5481081008911,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "a811953e.3d5df",
        "type": "set",
        "name": "set order-status to PendingCreate",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-level-oper-status.order-status'\n  value='PendingCreate' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-level-oper-status.last-rpc-action'\n  value='`$vf-module-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-level-oper-status.last-action'\n  value='`$vf-module-topology-operation-input.sdnc-request-header.request-action`' />\n",
        "comments": "",
        "x": 573.2622375488281,
        "y": 7324.904296875,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "2836fda6.d1401a",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 514.2621269226074,
        "y": 7729.951758384705,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "21272d1e.3423a2",
        "type": "set",
        "name": "copy input data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.sdnc-request-header.'\n   value='$vf-module-topology-operation-input.sdnc-request-header.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.request-information.'\n   value='$vf-module-topology-operation-input.request-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.service-information.'\n   value='$vf-module-topology-operation-input.service-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vnf-information.'\n   value='$vf-module-topology-operation-input.vnf-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-information.'\n   value='$vf-module-topology-operation-input.vf-module-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-request-input.'\n   value='$vf-module-topology-operation-input.vf-module-request-input.' />\n\n",
        "comments": "",
        "x": 529.1192474365234,
        "y": 7181.252753674984,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "a437c406.068398",
        "type": "set",
        "name": "copy vf-module-topology data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.' value='tmp.vf-module-topology.' />\n",
        "comments": "",
        "x": 574.0002517700195,
        "y": 7133.038265645504,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "14495b22.7cf5b5",
        "type": "save",
        "name": "update vf-module",
        "xml": "<update plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"vf-module\"\n   key=\"vf-module.vf-module-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-id\n      AND generic-vnf.vnf-id = $service-data.vnfs.vnf[$vnf-index].vnf-id\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"vf-module-name\" value=\"`$tmp.vf-module-topology.vf-module-topology-identifier.vf-module-name`\" />\n<parameter name=\"model-invariant-id\" value=\"`$tmp.vf-module-topology.onap-model-information.model-invariant-uuid`\" />\n<parameter name=\"model-version-id\" value=\"`$tmp.vf-module-topology.onap-model-information.model-uuid`\" />\n<parameter name=\"model-customization-id\" value=\"`$tmp.vf-module-topology.onap-model-information.model-customization-uuid`\" />\n<parameter name=\"selflink\" value=\"`$vf-module-object-path`\" />\n<parameter name=\"automated-assignment\" value=\"`$automated-assignment`\" />",
        "comments": "",
        "outputs": 1,
        "x": 593.1429786682129,
        "y": 4335.039919495583,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "5501c398.a3febc",
                "d67fa014.ef779"
            ]
        ]
    },
    {
        "id": "5501c398.a3febc",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 768.2146186828613,
        "y": 4303.420541405678,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "7ccc367b.71d728"
            ]
        ]
    },
    {
        "id": "d67fa014.ef779",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 776.7859916687012,
        "y": 4372.039631426334,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "9dc20161.6b31"
            ]
        ]
    },
    {
        "id": "6ca4c07c.9e462",
        "type": "set",
        "name": "set vf-module-object-path",
        "xml": "<set>\n<parameter name='vf-module-object-path'\n value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vf-module-topology-operation-input.service-information.service-instance-id\n + '/service-data/vnfs/vnf/'\n + $service-data.vnfs.vnf[$vnf-index].vnf-id\n + '/vnf-data/vf-modules/vf-module/'\n + $vf-module-topology-operation-input.vf-module-information.vf-module-id\n + '/vf-module-data/vf-module-topology/'`\"/>\n<parameter name='vnf-object-path'\n value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vf-module-topology-operation-input.service-information.service-instance-id\n + '/service-data/vnfs/vnf/'\n + $service-data.vnfs.vnf[$vnf-index].vnf-id\n + '/vnf-data/vnf-topology/'`\"/>\n<parameter name='service-object-path'\n value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vf-module-topology-operation-input.service-information.service-instance-id\n + '/service-data/service-topology/'`\"/>\n",
        "comments": "",
        "x": 616.8097877502441,
        "y": 4210.564148545265,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "90dfd0db.239eb",
        "type": "save",
        "name": "save vf-module relationships",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"vf-module:relationship-list\"\n   key=\"vf-module.vf-module-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-id\n      AND generic-vnf.vnf-id = $service-data.vnfs.vnf[$vnf-index].vnf-id\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"l3-network\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].network-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1386.8335342407227,
        "y": 5893.192313909531,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "8f37e7c.4c07698",
                "1c9ca7b9.f7b4f"
            ]
        ]
    },
    {
        "id": "8f37e7c.4c07698",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1606.666877746582,
        "y": 5864.064058065414,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "62759ffc.9c706"
            ]
        ]
    },
    {
        "id": "1c9ca7b9.f7b4f",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1615.238410949707,
        "y": 5916.683202505112,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "1209863c.9445d2"
            ]
        ]
    },
    {
        "id": "e2f0fdd8.9183e",
        "type": "for",
        "name": "for each vm-type",
        "xml": "<for silentFailure='true' index='vm-type-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 566.5002593994141,
        "y": 5658.5258667469025,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "d86edd1d.e3c52"
            ]
        ]
    },
    {
        "id": "a78e3059.25f76",
        "type": "for",
        "name": "for each vm-network",
        "xml": "<for silentFailure='true' index='network-role-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 963.5002708435059,
        "y": 6077.192698955536,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "c508377d.d054a"
            ]
        ]
    },
    {
        "id": "2aec1ab2.b6d76e",
        "type": "for",
        "name": "for each vm-type",
        "xml": "<for silentFailure='true' index='vm-type-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 540.9287948608398,
        "y": 7025.571922242641,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "a27b0cb1.225938"
            ]
        ]
    },
    {
        "id": "a27b0cb1.225938",
        "type": "for",
        "name": "for each vm",
        "xml": "<for index='vm-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-count`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 735.928825378418,
        "y": 7024.904930055141,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "9b49a831.6862e8"
            ]
        ]
    },
    {
        "id": "5a78a387.28d764",
        "type": "save",
        "name": "save VIPR_CONFIGURATION",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource\" resource=\"SQL\"\nkey=\"INSERT INTO VIPR_CONFIGURATION (vnf_id, vnf_name, ecomp_service_instance_id, vm_name, cloud_region_id, cloud_owner) VALUES ( $service-data.vnfs.vnf[$vnf-index].vnf-id , $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.vnf-name , $service-data.service-information.service-instance-id , $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vm-name[$vm-index] , $tmp.vf-module-topology.aic-cloud-region , $prop.cloud-region.cloud-owner )\" >",
        "comments": "",
        "outputs": 1,
        "x": 1127.5955276489258,
        "y": 7047.57258027792,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "1b3b395b.14195f"
            ]
        ]
    },
    {
        "id": "2e780dbd.a3e0b2",
        "type": "comment",
        "name": "Not a failure",
        "info": "",
        "comments": "",
        "x": 1647.5954284667969,
        "y": 7047.572585046291,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "1b3b395b.14195f",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1337.5955123901367,
        "y": 7047.572730004787,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "ffa45c10.a16e78"
            ]
        ]
    },
    {
        "id": "ffa45c10.a16e78",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"GENERIC-RESOURCE-API.vf-module-topology-operation-assign:REQID\"/>\n<parameter name=\"field3\" value=\"`$vf-module-topology-operation-input.sdnc-request-header.svc-request-id`\"/>\n<parameter name=\"field4\" value=\"Failed to insert VIPR_CONFIGURATION record\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1480.928955078125,
        "y": 7047.572567880154,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "398b01cd.f0bfde",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1510.9290771484375,
        "y": 6998.904281556606,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "dc3126e7.c754a8"
            ]
        ]
    },
    {
        "id": "32b9758c.497c0a",
        "type": "comment",
        "name": "Not a failure",
        "info": "",
        "comments": "",
        "x": 1834.2621307373047,
        "y": 6997.2381038069725,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "dc3126e7.c754a8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"GENERIC-RESOURCE-API.vf-module-topology-operation-assign:REQID\"/>\n<parameter name=\"field3\" value=\"`$vf-module-topology-operation-input.sdnc-request-header.svc-request-id`\"/>\n<parameter name=\"field4\" value=\"Failed to insert VIPR_CONFIGURATION record\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1656.929012298584,
        "y": 6998.904914796352,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "9b49a831.6862e8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 904.2622184753418,
        "y": 7023.904774606228,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "4074fd3c.8617e4",
                "5a78a387.28d764"
            ]
        ]
    },
    {
        "id": "4074fd3c.8617e4",
        "type": "delete",
        "name": "delete any pre-existing records in VIPR_CONFIGURATION",
        "xml": "<delete plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='DELETE from VIPR_CONFIGURATION WHERE vnf_id = $service-data.vnfs.vnf[$vnf-index].vnf-id\n     AND ecomp_service_instance_id = $service-data.service-information.service-instance-id\n     AND vm_name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vm-name[$vm-index]' >",
        "comments": "",
        "outputs": 1,
        "x": 1217.5955429077148,
        "y": 6999.238914430141,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "398b01cd.f0bfde"
            ]
        ]
    },
    {
        "id": "7ccc367b.71d728",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 926.500186920166,
        "y": 4303.191212296486,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "2535a173.a53146",
                "4c71a3fe.330784"
            ]
        ]
    },
    {
        "id": "9dc20161.6b31",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 927.5001029968262,
        "y": 4369.857502520084,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "3f9a1f40.fa243"
            ]
        ]
    },
    {
        "id": "62759ffc.9c706",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1775.1668815612793,
        "y": 5863.858327627182,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "fce61d4f.bf1e48",
                "ea990527.ad4d18"
            ]
        ]
    },
    {
        "id": "1209863c.9445d2",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1770.1668815612793,
        "y": 5916.85817027092,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "61dc1da.5bdf2e4",
                "ea990527.ad4d18"
            ]
        ]
    },
    {
        "id": "a8a70b0c.93ad4",
        "type": "execute",
        "name": "execute RestApiCallNode - get preload-list",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='restapiUrl' value=\"`$prop.controller.url + $prop.restapi.preloadinformation + $vf-module-topology-operation-input.vf-module-request-input.vf-module-name + '/vf-module'`\" />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='GET' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-preload\" />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1136.0833587646484,
        "y": 2440.691065788269,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "32b4f99e.54d9e6",
                "d5a4896.57983f8"
            ]
        ]
    },
    {
        "id": "32b4f99e.54d9e6",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1404.416591644287,
        "y": 2399.024395942688,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "a314f11a.2a6dc"
            ]
        ]
    },
    {
        "id": "d5a4896.57983f8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1402.7499465942383,
        "y": 2474.0245447158813,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "bef305d6.ca6138"
            ]
        ]
    },
    {
        "id": "a314f11a.2a6dc",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1561.0833473205566,
        "y": 2397.3578338623047,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "919f92a6.c6067"
            ]
        ]
    },
    {
        "id": "bef305d6.ca6138",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1557.7499542236328,
        "y": 2474.024386405945,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "80446e98.d07848"
            ]
        ]
    },
    {
        "id": "919f92a6.c6067",
        "type": "switchNode",
        "name": "switch mdsal-preload.response-code",
        "xml": "<switch test='`$mdsal-preload.response-code`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1789.416648864746,
        "y": 2397.3578748703003,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "c31beed3.c1107",
                "f0aa710.011af1"
            ]
        ]
    },
    {
        "id": "c31beed3.c1107",
        "type": "outcome",
        "name": "404 (not found)",
        "xml": "<outcome value='404'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2072.333351135254,
        "y": 2351.9409189224243,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "679a361c.ae1198"
            ]
        ]
    },
    {
        "id": "679a361c.ae1198",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-operation-assign-no-preload",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-operation-assign-no-preload' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2475.2499237060547,
        "y": 2265.274387359619,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "895a3bd2.016858"
            ]
        ]
    },
    {
        "id": "895a3bd2.016858",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2863.999885559082,
        "y": 2266.10826587677,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "1a617b77.fdbf6d"
            ]
        ]
    },
    {
        "id": "f0aa710.011af1",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2038.5833129882812,
        "y": 2416.1077032089233,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "a11cfcd3.1b076"
            ]
        ]
    },
    {
        "id": "80446e98.d07848",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-operation-assign-preload",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-operation-assign-preload' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1921.0832443237305,
        "y": 2475.69113445282,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "e7d883d0.23753"
            ]
        ]
    },
    {
        "id": "e7d883d0.23753",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2276.7501068115234,
        "y": 2474.0247526168823,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "7b747d29.db7324"
            ]
        ]
    },
    {
        "id": "d86edd1d.e3c52",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 757.0003280639648,
        "y": 5659.35910153389,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "a78e3059.25f76",
                "1ab0981f.c3b698"
            ]
        ]
    },
    {
        "id": "1ab0981f.c3b698",
        "type": "for",
        "name": "for each vnfc",
        "xml": "<for silentFailure='true' index='vnfc-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1008.0003776550293,
        "y": 4864.025192737579,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "cb9ac9de.759ae"
            ]
        ]
    },
    {
        "id": "d5186c88.3687a8",
        "type": "save",
        "name": "save vnfc to A&AI",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"vnfc\" \n\tkey=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\" >\n<parameter name=\"vnfc-name\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name`\" />\n<parameter name=\"nfc-naming-code\" value=\"`$tmp.nfc-naming-code`\" />\n<parameter name=\"nfc-function\" value=\"`$tmp.nfc-function`\" />\n<parameter name=\"model-invariant-id\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].invariant-uuid`\" />\n<parameter name=\"model-version-id\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].uuid`\" />\n<parameter name=\"model-customization-id\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].model-customization-uuid`\" />\n<parameter name=\"orchestration-status\" value=\"`PendingCreate`\" />\n<parameter name=\"in-maint\" value=\"true\" />\n<parameter name=\"prov-status\" value=\"`PREPROV`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1734.00044631958,
        "y": 4672.3591232299805,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "3b07d086.8e374",
                "a7b588e4.e5524"
            ]
        ]
    },
    {
        "id": "cb9ac9de.759ae",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1176.3336791992188,
        "y": 4864.692019939423,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "6b7fc084.2c57b8",
                "ff635e72.268478",
                "ffdd32ce.824ea",
                "1bf8860e.858622",
                "3c00fc37.bc30cc",
                "bdc31d14.2e9728"
            ]
        ]
    },
    {
        "id": "3b07d086.8e374",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1925.0004844665527,
        "y": 4624.692457199097,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "7c379368.845b54"
            ]
        ]
    },
    {
        "id": "7c379368.845b54",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2090.1671714782715,
        "y": 4638.820290505886,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "8a399cd0.4b8608",
                "4c71a3fe.330784"
            ]
        ]
    },
    {
        "id": "ffdd32ce.824ea",
        "type": "save",
        "name": "save vnfc relationships",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"vnfc:relationship-list\"\n   key=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"generic-vnf\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/generic-vnfs/generic-vnf/' +\n        $vf-module-topology-operation-input.vnf-information.vnf-id`\" />\n    <parameter name=\"relationship-list.relationship[1].related-to\" value=\"vf-module\" />\n    <parameter name=\"relationship-list.relationship[1].related-link\"\n      value=\"`'/aai/v$/network/generic-vnfs/generic-vnf/' +\n        $vf-module-topology-operation-input.vnf-information.vnf-id +\n        '/vf-modules/vf-module/' +\n        $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1400.9049644470215,
        "y": 4772.978354930878,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "ab3761d1.e1dc",
                "ff3cf374.60eae"
            ]
        ]
    },
    {
        "id": "cf72c835.871b6",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1732.7381553649902,
        "y": 4746.29597902298,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "f24a79b3.722e8",
                "4c71a3fe.330784"
            ]
        ]
    },
    {
        "id": "a7b83015.5e5e",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1732.7382316589355,
        "y": 4799.295737743378,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "a8b08135.74f8f",
                "4c71a3fe.330784"
            ]
        ]
    },
    {
        "id": "ab3761d1.e1dc",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1575.9050407409668,
        "y": 4746.311648845673,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "cf72c835.871b6"
            ]
        ]
    },
    {
        "id": "ff3cf374.60eae",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1584.4765739440918,
        "y": 4798.93079328537,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "a7b83015.5e5e"
            ]
        ]
    },
    {
        "id": "6b7fc084.2c57b8",
        "type": "for",
        "name": "for each vnfc-network-role",
        "xml": "<for silentFailure='true' index='network-role-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1398.3810844421387,
        "y": 5189.834763050079,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "cf5b718.c29c99"
            ]
        ]
    },
    {
        "id": "23e29604.8790d2",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/bgb-vfmoduleb.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 618.9999885559082,
        "y": 2497.73858499527,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "79592b6f.79ea04",
        "type": "for",
        "name": "for each vnfc-subnetwork-role",
        "xml": "<for silentFailure='true' index='subnet-role-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1854.3336219787598,
        "y": 5153.025196552277,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "541f46cc.fa66a"
            ]
        ]
    },
    {
        "id": "541f46cc.fa66a",
        "type": "for",
        "name": "for each vnfc-address-family",
        "xml": "<for silentFailure='true' index='address-family-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2121.666965484619,
        "y": 5152.025684833527,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "182ac7d2.29171"
            ]
        ]
    },
    {
        "id": "104f54fb.2c9dfb",
        "type": "for",
        "name": "for each vnfc-ip-address",
        "xml": "<for silentFailure='true' index='address-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2553.666576385498,
        "y": 5218.691384315491,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "1a9b5a34.963ac6"
            ]
        ]
    },
    {
        "id": "182ac7d2.29171",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2332.666736602783,
        "y": 5152.025141239166,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "58b6e37e.934b94",
                "104f54fb.2c9dfb"
            ]
        ]
    },
    {
        "id": "58b6e37e.934b94",
        "type": "set",
        "name": "set tmp.address-family",
        "xml": "<set>\n<parameter name='tmp.address-family'\n  value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-address-family`' />\n",
        "comments": "",
        "x": 2552.667064666748,
        "y": 5072.025038719177,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "1a9b5a34.963ac6",
        "type": "switchNode",
        "name": "switch address family",
        "xml": "<switch test='`$tmp.address-family`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2792.6666679382324,
        "y": 5217.025206565857,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "80832f37.6706d",
                "49146d4e.4d4b2c"
            ]
        ]
    },
    {
        "id": "80832f37.6706d",
        "type": "outcome",
        "name": "ipv4",
        "xml": "<outcome value='ipv4'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2989.809673309326,
        "y": 5120.596467018127,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "e9687a57.24506"
            ]
        ]
    },
    {
        "id": "49146d4e.4d4b2c",
        "type": "outcome",
        "name": "ipv6",
        "xml": "<outcome value='ipv6'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2987.4287452697754,
        "y": 5300.358498573303,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "d44c8ce3.b389a8"
            ]
        ]
    },
    {
        "id": "1b26dd0a.54e943",
        "type": "comment",
        "name": "Fixed IPs",
        "info": "",
        "comments": "",
        "x": 1871.3336372375488,
        "y": 5114.692573547363,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "6c357e66.834348",
        "type": "save",
        "name": "save l3-interface-ipv4-address-list object to A&AI",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"l3-interface-ipv4-address-list\" \n\tkey=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n\t  AND cp.cp-instance-id = $cp-instance-id\n\t  AND l3-interface-ipv4-address-list.l3-interface-ipv4-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[$address-index].vnfc-ip-address\" >\n<parameter name=\"l3-interface-ipv4-address\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[$address-index].vnfc-ip-address`\" />\n<parameter name=\"l3-interface-ipv4-prefix-length\" value=\"32\" />\n<parameter name=\"is-floating\" value=\"false\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3433.1428031921387,
        "y": 5068.929546991985,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "86bb8c29.46925"
            ]
        ]
    },
    {
        "id": "e9687a57.24506",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3139.809673309326,
        "y": 5120.59638563792,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "6c357e66.834348",
                "d0e50c7a.65a8d8"
            ]
        ]
    },
    {
        "id": "88a18c65.7df3c8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3846.642677307129,
        "y": 5068.914039293926,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "1128fce3.dd708b",
                "abce7bdb.32edf"
            ]
        ]
    },
    {
        "id": "86bb8c29.46925",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3689.8095626831055,
        "y": 5068.929709116619,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "88a18c65.7df3c8"
            ]
        ]
    },
    {
        "id": "d0e50c7a.65a8d8",
        "type": "save",
        "name": "save l3-interface-ipv4-address-list relationships",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"l3-interface-ipv4-address-list:relationship-list\"\n   key=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n\t  AND cp.cp-instance-id = $cp-instance-id\n\t  AND l3-interface-ipv4-address-list.l3-interface-ipv4-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[$address-index].vnfc-ip-address\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"l3-network\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].network-id`\" />\n    <parameter name=\"relationship-list.relationship[1].related-to\" value=\"subnet\" />\n    <parameter name=\"relationship-list.relationship[1].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].network-id +\n        '/subnets/subnet/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].subnet-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3428.1430473327637,
        "y": 5167.262965838116,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "c3e23ed1.ffd728",
                "fd45e600.7f3c78"
            ]
        ]
    },
    {
        "id": "16cd747f.3de414",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3848.309299468994,
        "y": 5138.914010683697,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "e9b022d.c29526",
                "abce7bdb.32edf"
            ]
        ]
    },
    {
        "id": "9adcca24.58c3f",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3848.3093757629395,
        "y": 5191.913769404095,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "6af59c72.392dac",
                "abce7bdb.32edf"
            ]
        ]
    },
    {
        "id": "c3e23ed1.ffd728",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3691.4761848449707,
        "y": 5138.92968050639,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "16cd747f.3de414"
            ]
        ]
    },
    {
        "id": "fd45e600.7f3c78",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3700.0477180480957,
        "y": 5191.548824946087,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "9adcca24.58c3f"
            ]
        ]
    },
    {
        "id": "d160db4b.e3a3b",
        "type": "save",
        "name": "save l3-interface-ipv6-address-list object to A&AI",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"l3-interface-ipv6-address-list\" \n\tkey=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n\t  AND cp.cp-instance-id = $cp-instance-id\n\t  AND l3-interface-ipv6-address-list.l3-interface-ipv6-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[$address-index].vnfc-ip-address\" >\n<parameter name=\"l3-interface-ipv6-address\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[$address-index].vnfc-ip-address`\" />\n<parameter name=\"l3-interface-ipv6-prefix-length\" value=\"128\" />\n<parameter name=\"is-floating\" value=\"false\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3431.9525413513184,
        "y": 5247.977602958679,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "1cc3cf07.63a079"
            ]
        ]
    },
    {
        "id": "d44c8ce3.b389a8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3138.619411468506,
        "y": 5299.644441604614,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "d160db4b.e3a3b",
                "96ae4896.b2a898"
            ]
        ]
    },
    {
        "id": "5c99cdab.78186c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3845.4524154663086,
        "y": 5247.96209526062,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "40785545.1cb574",
                "abce7bdb.32edf"
            ]
        ]
    },
    {
        "id": "1cc3cf07.63a079",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3688.619300842285,
        "y": 5247.977765083313,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "5c99cdab.78186c"
            ]
        ]
    },
    {
        "id": "96ae4896.b2a898",
        "type": "save",
        "name": "save l3-interface-ipv6-address-list relationships",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"l3-interface-ipv6-address-list:relationship-list\"\n   key=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n\t  AND cp.cp-instance-id = $cp-instance-id\n\t  AND l3-interface-ipv6-address-list.l3-interface-ipv6-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[$address-index].vnfc-ip-address\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"l3-network\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].network-id`\" />\n    <parameter name=\"relationship-list.relationship[1].related-to\" value=\"subnet\" />\n    <parameter name=\"relationship-list.relationship[1].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].network-id +\n        '/subnets/subnet/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].subnet-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3426.9527854919434,
        "y": 5346.31102180481,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "973555.c04212a8",
                "f979e4f.d07a518"
            ]
        ]
    },
    {
        "id": "e68dd5e3.74d188",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3847.119037628174,
        "y": 5317.962066650391,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "e8a04ad.d505fb8",
                "abce7bdb.32edf"
            ]
        ]
    },
    {
        "id": "2569fb92.519cf4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3847.119113922119,
        "y": 5370.961825370789,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "2811dc6d.d27fb4",
                "abce7bdb.32edf"
            ]
        ]
    },
    {
        "id": "973555.c04212a8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3690.2859230041504,
        "y": 5317.9777364730835,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "e68dd5e3.74d188"
            ]
        ]
    },
    {
        "id": "f979e4f.d07a518",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3698.8574562072754,
        "y": 5370.596880912781,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "2569fb92.519cf4"
            ]
        ]
    },
    {
        "id": "c508377d.d054a",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1153.3335914611816,
        "y": 6076.692138195038,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "8d08fa57.5146c",
                "90dfd0db.239eb",
                "113f09f6.2ef3e6",
                "f916bf36.9b9e9"
            ]
        ]
    },
    {
        "id": "8e49c519.d37a2",
        "type": "for",
        "name": "for each vnfc",
        "xml": "<for silentFailure='true' index='vnfc-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1801.3337669372559,
        "y": 6199.025886058807,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "a2f1733.473bd1"
            ]
        ]
    },
    {
        "id": "97c7d01.0b52cb",
        "type": "save",
        "name": "save vip-ipv4-address-list object to A&AI",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"vip-ipv4-address-list\" \n\tkey=\"cloud-region.cloud-owner = $prop.cloud-region.cloud-owner\n\t  AND cloud-region.cloud-region-id = $vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region\n\t  AND vip-ipv4-address-list.vip-ipv4-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v4[$ipv4-index]\" >\n<parameter name=\"vip-ipv4-address\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v4[$ipv4-index]`\" />\n<parameter name=\"vip-ipv4-prefix-length\" value=\"32\" />\n<parameter name=\"is-floating\" value=\"false\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1884.3336219787598,
        "y": 6030.358897686005,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "ee1ce5aa.71ab8",
                "11845151.08f7b7"
            ]
        ]
    },
    {
        "id": "113f09f6.2ef3e6",
        "type": "for",
        "name": "for each floating ipv4 address",
        "xml": "<for silentFailure='true' index='ipv4-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v4_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1392.3336143493652,
        "y": 6088.358970165253,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "8966e746.ef04e8"
            ]
        ]
    },
    {
        "id": "8966e746.ef04e8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1618.3336143493652,
        "y": 6086.358970165253,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "97c7d01.0b52cb",
                "470ef40b.98a444",
                "8e49c519.d37a2"
            ]
        ]
    },
    {
        "id": "6b7a4838.9a3908",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2279.8334922790527,
        "y": 6000.343270778656,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "bc3bd0ab.974d7",
                "ea990527.ad4d18"
            ]
        ]
    },
    {
        "id": "4711a6e9.83f7a8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2279.833568572998,
        "y": 6053.343029499054,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "451b6c26.9fc98c",
                "ea990527.ad4d18"
            ]
        ]
    },
    {
        "id": "ee1ce5aa.71ab8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2123.0003776550293,
        "y": 6000.358940601349,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "6b7a4838.9a3908"
            ]
        ]
    },
    {
        "id": "11845151.08f7b7",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2131.5719108581543,
        "y": 6052.978085041046,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "4711a6e9.83f7a8"
            ]
        ]
    },
    {
        "id": "f61a7863.245248",
        "type": "save",
        "name": "save vip-ipv4-address-list relationships",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"vip-ipv4-address-list:relationship-list\"\n   key=\"cloud-region.cloud-owner = $prop.cloud-region.cloud-owner\n\t  AND cloud-region.cloud-region-id = $vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region\n\t  AND vip-ipv4-address-list.vip-ipv4-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v4[$ipv4-index]\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"subnet\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].network-id\n        + '/subnets/subnet/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.ipv4-subnet-id`\" />\n    <parameter name=\"relationship-list.relationship[1].related-to\" value=\"vnfc\" />\n    <parameter name=\"relationship-list.relationship[1].related-link\"\n      value=\"`'/aai/v$/network/vnfcs/vnfc/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2220.000217437744,
        "y": 6143.0255608558655,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "646552fd.aaf504",
                "10158597.f0bf12"
            ]
        ]
    },
    {
        "id": "4a6e8810.ad464",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2623.1664962768555,
        "y": 6115.009903490543,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "eefcae36.b17ab",
                "ea990527.ad4d18"
            ]
        ]
    },
    {
        "id": "a7a4b46c.3b79a8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2623.166572570801,
        "y": 6168.009662210941,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "fa64e991.9a1f5",
                "ea990527.ad4d18"
            ]
        ]
    },
    {
        "id": "646552fd.aaf504",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2466.333381652832,
        "y": 6115.025573313236,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "4a6e8810.ad464"
            ]
        ]
    },
    {
        "id": "10158597.f0bf12",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2474.904914855957,
        "y": 6167.6447177529335,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "a7a4b46c.3b79a8"
            ]
        ]
    },
    {
        "id": "30bd4048.85aab",
        "type": "save",
        "name": "save vip-ipv6-address-list object to A&AI",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"vip-ipv6-address-list\" \n\tkey=\"cloud-region.cloud-owner = $prop.cloud-region.cloud-owner\n\t  AND cloud-region.cloud-region-id = $vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region\n\t  AND vip-ipv6-address-list.vip-ipv6-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v6[$ipv6-index]\" >\n<parameter name=\"vip-ipv6-address\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v6[$ipv6-index]`\" />\n<parameter name=\"vip-ipv6-prefix-length\" value=\"128\" />\n<parameter name=\"is-floating\" value=\"false\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1887.66695022583,
        "y": 6353.691581249237,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "45016640.4ea75",
                "a504da7.1cd8c28"
            ]
        ]
    },
    {
        "id": "f916bf36.9b9e9",
        "type": "for",
        "name": "for each floating ipv6 address",
        "xml": "<for silentFailure='true' index='ipv6-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v6_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1395.6669425964355,
        "y": 6410.691653728485,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "73eb9089.1e6768"
            ]
        ]
    },
    {
        "id": "73eb9089.1e6768",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1621.6669425964355,
        "y": 6409.691653728485,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "30bd4048.85aab",
                "16f5ff4e.7f5e89",
                "cb2bd6d.5812328"
            ]
        ]
    },
    {
        "id": "969f3365.2b5d3",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2283.166820526123,
        "y": 6323.675954341888,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "204e2feb.14703",
                "ea990527.ad4d18"
            ]
        ]
    },
    {
        "id": "6f465c88.d7179c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2283.1668968200684,
        "y": 6376.675713062286,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "f8f933e7.f20698",
                "ea990527.ad4d18"
            ]
        ]
    },
    {
        "id": "45016640.4ea75",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2126.3337059020996,
        "y": 6323.691624164581,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "969f3365.2b5d3"
            ]
        ]
    },
    {
        "id": "a504da7.1cd8c28",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2134.9052391052246,
        "y": 6376.310768604279,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "6f465c88.d7179c"
            ]
        ]
    },
    {
        "id": "a64b499b.9cf05",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2616.5000762939453,
        "y": 6436.676004946232,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "e3dace19.828d2",
                "ea990527.ad4d18"
            ]
        ]
    },
    {
        "id": "efe5f09a.e6548",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2616.5001525878906,
        "y": 6489.67576366663,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "ef07bfec.0da1f8",
                "ea990527.ad4d18"
            ]
        ]
    },
    {
        "id": "fe1052fe.40178",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2459.666961669922,
        "y": 6436.691674768925,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "a64b499b.9cf05"
            ]
        ]
    },
    {
        "id": "c3f44afa.b813b8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2468.238494873047,
        "y": 6489.310819208622,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "efe5f09a.e6548"
            ]
        ]
    },
    {
        "id": "4464b25d.5af9cc",
        "type": "save",
        "name": "save vip-ipv6-address-list relationships",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"vip-ipv6-address-list:relationship-list\"\n   key=\"cloud-region.cloud-owner = $prop.cloud-region.cloud-owner\n\t  AND cloud-region.cloud-region-id = $vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region\n\t  AND vip-ipv6-address-list.vip-ipv6-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v6[$ipv6-index]\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"subnet\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].network-id\n        + '/subnets/subnet/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.ipv6-subnet-id`\" />\n    <parameter name=\"relationship-list.relationship[1].related-to\" value=\"vnfc\" />\n    <parameter name=\"relationship-list.relationship[1].related-link\"\n      value=\"`'/aai/v$/network/vnfcs/vnfc/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2215.3338050842285,
        "y": 6465.358093738556,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "fe1052fe.40178",
                "c3f44afa.b813b8"
            ]
        ]
    },
    {
        "id": "ff635e72.268478",
        "type": "set",
        "name": "set created_flag",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].created_flag' value='true' />\n",
        "comments": "",
        "x": 1378.0002479553223,
        "y": 4712.691877782345,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "8d08fa57.5146c",
        "type": "set",
        "name": "set created-flag",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].created-flag' value='true' />\n",
        "comments": "",
        "x": 1348.6670036315918,
        "y": 5960.6920592188835,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "470ef40b.98a444",
        "type": "set",
        "name": "set created-ipv4-flag",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.created-ipv4-flag' value='true' />\n",
        "comments": "",
        "x": 1821.6669692993164,
        "y": 6088.6921390891075,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "16f5ff4e.7f5e89",
        "type": "set",
        "name": "set created-ipv6-flag",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.created-ipv6-flag' value='true' />\n",
        "comments": "",
        "x": 1827.0003051757812,
        "y": 6414.691742360592,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "a7b588e4.e5524",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1928.0004234313965,
        "y": 4672.692116677761,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "7c379368.845b54"
            ]
        ]
    },
    {
        "id": "5c2e76e6.510bc8",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-vlan-tagging-assign",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-vlan-tagging-assign' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 711.6667823791504,
        "y": 6752.691919803619,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "48206004.a12b28"
            ]
        ]
    },
    {
        "id": "48206004.a12b28",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1056.0001983642578,
        "y": 6752.025414943695,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "57c5867b.48adb8"
            ]
        ]
    },
    {
        "id": "57c5867b.48adb8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1211.000072479248,
        "y": 6752.025210857391,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "11e79e7b.cc628a",
                "acfb55b9.671528"
            ]
        ]
    },
    {
        "id": "11e79e7b.cc628a",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/bgb-vlantaggingfailure.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 1391.7736892700195,
        "y": 6724.763216972351,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "7c702159.676ca8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 349.8928680419922,
        "y": 508.5714416503906,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "946d19d6.6a0a98",
                "ecc20041.0f739",
                "dd68304f.b1595",
                "171a0ec3.b9f0f9",
                "4cf484bc.a7884c",
                "dbb72df2.324d8",
                "ffe819ca.cc196",
                "922e2b1b.eafbe",
                "fbde2bba.19a75"
            ]
        ]
    },
    {
        "id": "28c49fc5.3edea8",
        "type": "switchNode",
        "name": "switch from-preload",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-information.from-preload`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 640.904712677002,
        "y": 2564.1672048568726,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "42aed938.fa1eb",
                "b49d30e8.104ec"
            ]
        ]
    },
    {
        "id": "42aed938.fa1eb",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 812.8094444274902,
        "y": 2541.548225402832,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "ce1e58af.81f21"
            ]
        ]
    },
    {
        "id": "b49d30e8.104ec",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 814.4760971069336,
        "y": 2586.5480642318726,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "85a9c797.6580e8"
            ]
        ]
    },
    {
        "id": "ce1e58af.81f21",
        "type": "set",
        "name": "set automated-assignment to true",
        "xml": "<set>\n<parameter name='automated-assignment' value='true' />\n",
        "comments": "",
        "x": 1027.8094291687012,
        "y": 2539.88139629364,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "85a9c797.6580e8",
        "type": "set",
        "name": "set automated-assignment to false",
        "xml": "<set>\n<parameter name='automated-assignment' value='false' />\n",
        "comments": "",
        "x": 1026.142749786377,
        "y": 2584.8813161849976,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "cb2bd6d.5812328",
        "type": "for",
        "name": "for each vnfc",
        "xml": "<for silentFailure='true' index='vnfc-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1802.4288368225098,
        "y": 6513.572165966034,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "b896e30b.6a6498"
            ]
        ]
    },
    {
        "id": "39b4f744.d1aa08",
        "type": "for",
        "name": "for each vm-type",
        "xml": "<for silentFailure='true' index='vm-type-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 619.6668090820312,
        "y": 3924.358087539673,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "7423fd11.a8fcfc"
            ]
        ]
    },
    {
        "id": "7423fd11.a8fcfc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 810.166877746582,
        "y": 3925.19132232666,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "9b6a9835.232fc8"
            ]
        ]
    },
    {
        "id": "9b6a9835.232fc8",
        "type": "for",
        "name": "for each vm-network",
        "xml": "<for silentFailure='true' index='network-role-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1011.6668090820312,
        "y": 3924.358087539673,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "9cecd679.ef3388"
            ]
        ]
    },
    {
        "id": "9cecd679.ef3388",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1201.500129699707,
        "y": 3923.857526779175,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "eb0c0e40.2cdcc"
            ]
        ]
    },
    {
        "id": "eb0c0e40.2cdcc",
        "type": "get-resource",
        "name": "get-resource VFC_RELATED_NETWORK_ROLE",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='SELECT * from VFC_RELATED_NETWORK_ROLE where vfc_customization_uuid = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].model-customization-uuid\n    and network_role = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].network-role'\n  pfx='db.vnf-related-network-role[]'>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1491.0001029968262,
        "y": 3922.358169555664,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "ab05837.e070d",
                "9ff8f9e4.5e8058"
            ]
        ]
    },
    {
        "id": "ab05837.e070d",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1762.00004196167,
        "y": 3827.024871826172,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "bdae4580.874748"
            ]
        ]
    },
    {
        "id": "bdae4580.874748",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1909.190559387207,
        "y": 3825.57288646698,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "1f16417e.46bb0f",
                "3edae84b.8bd0b8"
            ]
        ]
    },
    {
        "id": "9ff8f9e4.5e8058",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1762.833251953125,
        "y": 4071.6917514801025,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "c23fb4b2.cc909"
            ]
        ]
    },
    {
        "id": "a417e5bc.fac648",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2181.16650390625,
        "y": 4073.6915073394775,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "7afeca60.7850e4",
                "12127ca5.df811b",
                "660eb10c.980988",
                "f53db38a.1f61f8",
                "c8733822.40a648",
                "80b102e3.8f3dc8",
                "27dae1f0.bf91be",
                "f72bef16.cff3f8"
            ]
        ]
    },
    {
        "id": "12127ca5.df811b",
        "type": "for",
        "name": "for each vnf network",
        "xml": "<for silentFailure='true' index='vnf-network-index' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2363.6666831970215,
        "y": 3916.0247554779053,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "ec245686.000d4"
            ]
        ]
    },
    {
        "id": "7afeca60.7850e4",
        "type": "set",
        "name": "set found-related-network to false",
        "xml": "<set>\n<parameter name='found-related-network' value='false' />\n",
        "comments": "",
        "x": 2403.666759490967,
        "y": 3857.6915321350098,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "195e0d6d.fde593",
        "type": "for",
        "name": "for each related network",
        "xml": "<for silentFailure='true' index='related-network-index' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].related-networks.related-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2762.666645050049,
        "y": 3892.6910190582275,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "fab0c33c.f34558"
            ]
        ]
    },
    {
        "id": "ec245686.000d4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2551.6666831970215,
        "y": 3916.0247554779053,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "195e0d6d.fde593",
                "c67c4a35.d98c08"
            ]
        ]
    },
    {
        "id": "fab0c33c.f34558",
        "type": "switchNode",
        "name": "switch network-role matches",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].related-networks.related-network[$related-network-index].network-role\n  == $db.vnf-related-network-role[$db-related-network-index].related-network-role`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3014.666561126709,
        "y": 3892.691095352173,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "6837dfa2.4f9c58"
            ]
        ]
    },
    {
        "id": "c23fb4b2.cc909",
        "type": "for",
        "name": "for each db related-network",
        "xml": "<for index='db-related-network-index' start='0' end='`$db.vnf-related-network-role_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1967.1666259765625,
        "y": 4072.3584995269775,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "a417e5bc.fac648"
            ]
        ]
    },
    {
        "id": "6837dfa2.4f9c58",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3214.666561126709,
        "y": 3890.691095352173,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "3d68ec48.93fed4"
            ]
        ]
    },
    {
        "id": "3d68ec48.93fed4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3368.666561126709,
        "y": 3888.691095352173,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "834a6f83.13448",
                "2a695539.582c62",
                "cd846487.dfb73"
            ]
        ]
    },
    {
        "id": "834a6f83.13448",
        "type": "set",
        "name": "set found-related-network to true",
        "xml": "<set>\n<parameter name='found-related-network' value='true' />\n",
        "comments": "",
        "x": 3600.666721343994,
        "y": 3848.3576793670654,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "2a695539.582c62",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 3523.999897003174,
        "y": 3935.024429321289,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "660eb10c.980988",
        "type": "switchNode",
        "name": "switch found-related-network",
        "xml": "<switch test='`$found-related-network`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2399.166572570801,
        "y": 4016.691640853882,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "5f9a8832.dfc67"
            ]
        ]
    },
    {
        "id": "5f9a8832.dfc67",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2593.166572570801,
        "y": 4014.691640853882,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "321f387a.36c1f8"
            ]
        ]
    },
    {
        "id": "321f387a.36c1f8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2723.166572570801,
        "y": 4014.691640853882,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "68f131a0.fd6748",
                "3edae84b.8bd0b8"
            ]
        ]
    },
    {
        "id": "f53db38a.1f61f8",
        "type": "set",
        "name": "set is-trunked and segmentation-id in vm-network",
        "xml": "<set>\n<parameter name='$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].is-trunked'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$saved-vnf-network-index].is-trunked`' />\n<parameter name='$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].segmentation-id'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$saved-vnf-network-index].segmentation-id`' />\n",
        "comments": "",
        "x": 2461.166572570801,
        "y": 4064.691640853882,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "80b102e3.8f3dc8",
        "type": "switchNode",
        "name": "switch rn-index",
        "xml": "<switch test='`$rn-index`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2349.166572570801,
        "y": 4172.691640853882,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "b2a65c04.ec3778"
            ]
        ]
    },
    {
        "id": "c8733822.40a648",
        "type": "set",
        "name": "set rn-index to related network length",
        "xml": "<set>\n<parameter name='rn-index' value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network_length`' />\n",
        "comments": "",
        "x": 2421.166572570801,
        "y": 4116.691640853882,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "b2a65c04.ec3778",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 2513.166572570801,
        "y": 4172.691640853882,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "ddb3511d.0345e"
            ]
        ]
    },
    {
        "id": "ddb3511d.0345e",
        "type": "set",
        "name": "set rn-index to 0",
        "xml": "<set>\n<parameter name='rn-index' value='0' />\n",
        "comments": "",
        "x": 2673.166572570801,
        "y": 4172.691640853882,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "27dae1f0.bf91be",
        "type": "set",
        "name": "set related-network data",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network[$rn-index].network-id'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$saved-vnf-network-index].related-networks.related-network[$saved-related-network-index].network-id`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network[$rn-index].network-role'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$saved-vnf-network-index].related-networks.related-network[$saved-related-network-index].network-role`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network[$rn-index].vlan-tags.vlan-interface'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$saved-vnf-network-index].related-networks.related-network[$saved-related-network-index].vlan-tags.vlan-interface`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network[$rn-index].vlan-tags.lower-tag-id'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$saved-vnf-network-index].related-networks.related-network[$saved-related-network-index].vlan-tags.lower-tag-id`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network[$rn-index].vlan-tags.upper-tag-id'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$saved-vnf-network-index].related-networks.related-network[$saved-related-network-index].vlan-tags.upper-tag-id`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network[$rn-index].vlan-tags.is-private'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$saved-vnf-network-index].related-networks.related-network[$saved-related-network-index].vlan-tags.is-private`' />\n",
        "comments": "",
        "x": 2373.166572570801,
        "y": 4224.691640853882,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "f72bef16.cff3f8",
        "type": "set",
        "name": "set new related network length",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network_length'\n  value='`$rn-index + 1`' />\n",
        "comments": "",
        "x": 2391.166572570801,
        "y": 4276.691640853882,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "c67c4a35.d98c08",
        "type": "switchNode",
        "name": "switch found-related-network",
        "xml": "<switch test='`$found-related-network`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2775.6666679382324,
        "y": 3940.357879638672,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "53b35d32.05506c"
            ]
        ]
    },
    {
        "id": "53b35d32.05506c",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2972.3335304260254,
        "y": 3940.3582515716553,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "a89909df.9a5c28"
            ]
        ]
    },
    {
        "id": "a89909df.9a5c28",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 3102.3334159851074,
        "y": 3938.691375732422,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "cd846487.dfb73",
        "type": "set",
        "name": "save indexes",
        "xml": "<set>\n<parameter name='saved-vnf-network-index' value='`$vnf-network-index`' />\n<parameter name='saved-related-network-index' value='`$related-network-index`' />\n",
        "comments": "",
        "x": 3542.3336296081543,
        "y": 3890.3582496643066,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "34e29087.91b8e8",
        "type": "execute",
        "name": "generate cp-instance-id",
        "xml": "<execute plugin=\"org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils\" method=\"generateUUID\" >\n<parameter name=\"ctx-destination\" value=\"cp-instance-id\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1831.2381210327148,
        "y": 4919.882302761078,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "adc84086.535da8",
        "type": "save",
        "name": "save cp to A&AI",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"cp\" \n\tkey=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n\t  AND cp.cp-instance-id = $cp-instance-id\" >\n<parameter name=\"cp-instance-id\" value=\"`$cp-instance-id`\" />\n<parameter name=\"port-id\" value=\"0\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1812.90474319458,
        "y": 4986.5488085746765,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "bcd2b265.99ac6",
                "cd731bd2.fda4a"
            ]
        ]
    },
    {
        "id": "bcd2b265.99ac6",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2001.9047241210938,
        "y": 4962.215422093868,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "539acce9.1d8c44"
            ]
        ]
    },
    {
        "id": "539acce9.1d8c44",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2169.0714721679688,
        "y": 4978.009855687618,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "973f3cbe.07b2e",
                "4c71a3fe.330784"
            ]
        ]
    },
    {
        "id": "cd731bd2.fda4a",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2006.9047241210938,
        "y": 5011.881681859493,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "539acce9.1d8c44"
            ]
        ]
    },
    {
        "id": "cf5b718.c29c99",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1607.714443206787,
        "y": 5189.167096614838,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "698cbd58.1c1444",
                "79592b6f.79ea04",
                "34e29087.91b8e8",
                "adc84086.535da8",
                "9c72f5b3.211368",
                "884704e7.e3ae7"
            ]
        ]
    },
    {
        "id": "698cbd58.1c1444",
        "type": "set",
        "name": "set connection point data",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].connection-point.connection-point-id'\n  value='`$cp-instance-id`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].connection-point.port-id'\n  value='0' />\n",
        "comments": "",
        "x": 1843.2382850646973,
        "y": 5064.406378269196,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "d2432794.b8da58",
        "type": "comment",
        "name": "Floating IPs",
        "info": "",
        "comments": "",
        "x": 1404.0001029968262,
        "y": 6046.691496551037,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "9c72f5b3.211368",
        "type": "for",
        "name": "for each vnf-network",
        "xml": "<for index='vnf-network-index' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1827.3332862854004,
        "y": 5460.691872119904,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "64787e26.3cc5b8"
            ]
        ]
    },
    {
        "id": "76bdebe5.9b9afc",
        "type": "save",
        "name": "save cp relationship to l3-network",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"cp:relationship-list\"\n   key=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n     AND cp.cp-instance-id = $cp-instance-id\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"l3-network\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/' +\n        $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].network-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2465.6667671203613,
        "y": 5460.358379840851,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "4bb89406.8bb03c",
                "c4a016bb.12a898"
            ]
        ]
    },
    {
        "id": "545890.7a74b77",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2837.4998054504395,
        "y": 5433.6763281822205,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "9013fe3f.4723",
                "4c71a3fe.330784"
            ]
        ]
    },
    {
        "id": "9759f41d.a25758",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2837.4998817443848,
        "y": 5486.676086902618,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "5b6da306.17c02c",
                "4c71a3fe.330784"
            ]
        ]
    },
    {
        "id": "4bb89406.8bb03c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2680.666690826416,
        "y": 5433.691998004913,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "545890.7a74b77"
            ]
        ]
    },
    {
        "id": "c4a016bb.12a898",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2689.238224029541,
        "y": 5486.311142444611,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "9759f41d.a25758"
            ]
        ]
    },
    {
        "id": "884704e7.e3ae7",
        "type": "for",
        "name": "for each vm-network",
        "xml": "<for silentFailure='true' index='network-role-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1827.333438873291,
        "y": 5621.35822725296,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "6b7a37ff.b301"
            ]
        ]
    },
    {
        "id": "63d27c34.be800c",
        "type": "save",
        "name": "save cp relationship to l3-network and vlan-tag",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"cp:relationship-list\"\n   key=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n     AND cp.cp-instance-id = $cp-instance-id\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"l3-network\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network[$related-network-index].network-id`\" />\n    <parameter name=\"relationship-list.relationship[1].related-to\" value=\"vlan-tag\" />\n    <parameter name=\"relationship-list.relationship[1].related-link\"\n      value=\"`'/aai/v$/network/vlan-tags/vlan-tag/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network[$related-network-index].vlan-tags.vlan-interface`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2747.00044631958,
        "y": 5619.358222484589,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "73e25c42.94a594",
                "623447e2.a05568"
            ]
        ]
    },
    {
        "id": "600d8098.f3a4b8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3153.8334922790527,
        "y": 5592.67552137375,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "6a17cabe.1d57ac",
                "4c71a3fe.330784"
            ]
        ]
    },
    {
        "id": "a0a4ff1a.7e1a1",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3153.833568572998,
        "y": 5645.675280094148,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "182e4059.7a28",
                "4c71a3fe.330784"
            ]
        ]
    },
    {
        "id": "73e25c42.94a594",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2997.0003776550293,
        "y": 5592.691191196443,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "600d8098.f3a4b8"
            ]
        ]
    },
    {
        "id": "623447e2.a05568",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3005.5719108581543,
        "y": 5645.31033563614,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "a0a4ff1a.7e1a1"
            ]
        ]
    },
    {
        "id": "cba3de5.684dca",
        "type": "for",
        "name": "for each related-network",
        "xml": "<for silentFailure='true' index='related-network-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2443.0002784729004,
        "y": 5619.358223438263,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "63d27c34.be800c"
            ]
        ]
    },
    {
        "id": "9b591072.49f158",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-generate-heat-parameters",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-generate-heat-parameters' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 701.3335723876953,
        "y": 6862.358483910561,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "91b4e4ba.57d17",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/bgb-vfmoduleheat.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 522.6669006347656,
        "y": 6910.358586907387,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "31f8df5a.8a883",
        "type": "switchNode",
        "name": "switch input vf-module-name",
        "xml": "<switch test='`$vf-module-topology-operation-input.vf-module-request-input.vf-module-name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 674.0000038146973,
        "y": 2346.191044807434,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "c1d9b89b.438f6",
                "dddbf523.c2e1f8"
            ]
        ]
    },
    {
        "id": "c1d9b89b.438f6",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 896.4999694824219,
        "y": 2268.691004753113,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "679a361c.ae1198"
            ]
        ]
    },
    {
        "id": "dddbf523.c2e1f8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 898.1785697937012,
        "y": 2441.3095893859863,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "a8a70b0c.93ad4"
            ]
        ]
    },
    {
        "id": "cccc04fa.456218",
        "type": "for",
        "name": "for each vnfc-subnet-role",
        "xml": "<for index='subnet-role-index' start='0'\n  end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1431.5001029968262,
        "y": 3141.190721511841,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "8484fba7.e8d3c"
            ]
        ]
    },
    {
        "id": "8484fba7.e8d3c",
        "type": "for",
        "name": "for each vnfc-address-family",
        "xml": "<for index='address-family-index' start='0'\n  end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1679.8333625793457,
        "y": 3141.190721511841,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "fef20f2e.78a91"
            ]
        ]
    },
    {
        "id": "454e317f.c0b978",
        "type": "for",
        "name": "for each vm-type",
        "xml": "<for silentFailure='true' index='vm-type-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 637.3332786560059,
        "y": 2859.52405834198,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "732b54da.7fb5d4"
            ]
        ]
    },
    {
        "id": "732b54da.7fb5d4",
        "type": "for",
        "name": "for each vnfc",
        "xml": "<for silentFailure='true' index='vnfc-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 819.000057220459,
        "y": 2858.191206932068,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "723aae7c.7edbf"
            ]
        ]
    },
    {
        "id": "723aae7c.7edbf",
        "type": "for",
        "name": "for each vnfc-network",
        "xml": "<for silentFailure='true' index='vnfc-network-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1020.1666297912598,
        "y": 2858.023896217346,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "757774ba.10b1dc"
            ]
        ]
    },
    {
        "id": "757774ba.10b1dc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1232.3333015441895,
        "y": 2857.024256706238,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "c4bfc199.e15ad8",
                "6f9e19fe.bf3b2",
                "7fe64b2e.134864",
                "cccc04fa.456218"
            ]
        ]
    },
    {
        "id": "c4bfc199.e15ad8",
        "type": "set",
        "name": "set vnf-network-index to -1",
        "xml": "<set>\n<parameter name='vnf-network-index' value='-1' />\n",
        "comments": "",
        "x": 1444.0000190734863,
        "y": 2810.35747051239,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "6f9e19fe.bf3b2",
        "type": "for",
        "name": "for each vnf-network",
        "xml": "<for index='idx' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1425.6668090820312,
        "y": 2857.0242223739624,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "fca60fe4.bda848"
            ]
        ]
    },
    {
        "id": "fca60fe4.bda848",
        "type": "switchNode",
        "name": "switch network-roles match?",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-network-role\n  == $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$idx].network-role`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1667.3332786560059,
        "y": 2855.357717514038,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "8ce5ab72.9042f"
            ]
        ]
    },
    {
        "id": "8ce5ab72.9042f",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1863.99995803833,
        "y": 2855.357636451721,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "93c67da9.f102d8"
            ]
        ]
    },
    {
        "id": "93c67da9.f102d8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2017.333179473877,
        "y": 2855.357508659363,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "42a643c0.cab94c",
                "6108ea85.c8073c",
                "74aa379b.1efba"
            ]
        ]
    },
    {
        "id": "42a643c0.cab94c",
        "type": "set",
        "name": "set vnf-network-index",
        "xml": "<set>\n<parameter name='vnf-network-index' value='`$idx`' />\n",
        "comments": "",
        "x": 2224.000011444092,
        "y": 2803.6908864974976,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "6108ea85.c8073c",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 2178.999927520752,
        "y": 2893.6908073425293,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "7fe64b2e.134864",
        "type": "switchNode",
        "name": "switch vnf-network-index",
        "xml": "<switch test='`$vnf-network-index`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1437.3333473205566,
        "y": 2917.024224281311,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "d8dbbbb9.d1172"
            ]
        ]
    },
    {
        "id": "d8dbbbb9.d1172",
        "type": "outcome",
        "name": "-1",
        "xml": "<outcome value='-1'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1628.9999885559082,
        "y": 2917.024468421936,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "ce7538de.ca54b"
            ]
        ]
    },
    {
        "id": "ce7538de.ca54b",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1777.333179473877,
        "y": 2915.357508659363,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "d4bf4ec5.c54cf",
                "3edae84b.8bd0b8"
            ]
        ]
    },
    {
        "id": "d6cdd6b6.1f8148",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2468.999897003174,
        "y": 3325.3573598861694,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "76e8ebea.87fcfc",
                "95ed1741.d0971",
                "fae08486.8429a8"
            ]
        ]
    },
    {
        "id": "76e8ebea.87fcfc",
        "type": "for",
        "name": "for each subnet-data",
        "xml": "<for index='subnet-data-index' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2665.666648864746,
        "y": 3280.3572788238525,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "42943f41.fc4228"
            ]
        ]
    },
    {
        "id": "42943f41.fc4228",
        "type": "switchNode",
        "name": "address-families match?",
        "xml": "<switch test='`$tmp.address-family\n  == $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].ip-version`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2892.3332748413086,
        "y": 3280.3572788238525,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "d4ed02bd.ba90d"
            ]
        ]
    },
    {
        "id": "d4ed02bd.ba90d",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3072.333240509033,
        "y": 3280.3576850891113,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "751c83.77298b7c"
            ]
        ]
    },
    {
        "id": "f0f85ff3.74f428",
        "type": "set",
        "name": "set tmp.address-family",
        "xml": "<set>\n<parameter name='tmp.address-family'\n  value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-address-family`' />\n",
        "comments": "",
        "x": 2497.3332328796387,
        "y": 3143.690773010254,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "fef20f2e.78a91",
        "type": "switchNode",
        "name": "switch vnfc-subnet-ip_length",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1942.3335762023926,
        "y": 3140.357808113098,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "19986ec6.28e069",
                "30648a30.7c023e",
                "fb340ed7.399388"
            ]
        ]
    },
    {
        "id": "19986ec6.28e069",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 2144.000087738037,
        "y": 3040.3573513031006,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "90ede046.9c0d5"
            ]
        ]
    },
    {
        "id": "30648a30.7c023e",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2140.4287185668945,
        "y": 3226.309642791748,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "ddb4dd5d.6126e8"
            ]
        ]
    },
    {
        "id": "90ede046.9c0d5",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2275.6666374206543,
        "y": 3063.0240983963013,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "8c2bd353.7fc66",
        "type": "set",
        "name": "set subnet-id to -1",
        "xml": "<set>\n<parameter name='subnet-id' value='-1' />\n",
        "comments": "",
        "x": 3165.6671562194824,
        "y": 3442.0247650146484,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "ddb4dd5d.6126e8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2294.0001335144043,
        "y": 3225.3572750091553,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "f0f85ff3.74f428",
                "d6cdd6b6.1f8148"
            ]
        ]
    },
    {
        "id": "bdb814ee.6757a",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4425.666753768921,
        "y": 3613.691241979599,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "5c18abb5.f1d2bc",
                "906763b2.95534"
            ]
        ]
    },
    {
        "id": "906763b2.95534",
        "type": "execute",
        "name": "execute isInSameSubnet",
        "xml": "<execute plugin=\"com.att.sdnctl.sli.plugin.ipAddressTools.IpAddressTool\" method=\"isInSameSubnet\">\n\t<parameter name=\"firstIPAddr\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].network-start-address`\" />\n\t<parameter name=\"secondIPAddr\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[0].vnfc-ip-address`\" />\n\t<parameter name=\"subnet\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].cidr-mask`\" />\n\t<parameter name=\"ipType\" value=\"`$ip-type`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 4640.6667556762695,
        "y": 3663.690915822983,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "ee306cff.01d308"
            ]
        ]
    },
    {
        "id": "5c18abb5.f1d2bc",
        "type": "switchNode",
        "name": "switch tmp.address-family",
        "xml": "<switch test='`$tmp.address-family`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4642.333911895752,
        "y": 3570.357902288437,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "b96d46cc.c9687",
                "71a7f5e4.9a6784"
            ]
        ]
    },
    {
        "id": "b96d46cc.c9687",
        "type": "outcome",
        "name": "ipv4",
        "xml": "<outcome value='ipv4'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4845.667174021402,
        "y": 3543.6911326249437,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "54071062.01237"
            ]
        ]
    },
    {
        "id": "71a7f5e4.9a6784",
        "type": "outcome",
        "name": "ipv6",
        "xml": "<outcome value='ipv6'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4845.666847229004,
        "y": 3590.3576600551605,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "b2f980f3.a05798"
            ]
        ]
    },
    {
        "id": "54071062.01237",
        "type": "set",
        "name": "set ip-type parameter to IPv4",
        "xml": "<set>\n<parameter name='ip-type' value='IPv4' />\n",
        "comments": "",
        "x": 5042.333660125732,
        "y": 3542.0246064662933,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "b2f980f3.a05798",
        "type": "set",
        "name": "set ip-type parameter to IPv6",
        "xml": "<set>\n<parameter name='ip-type' value='IPv6' />\n",
        "comments": "",
        "x": 5047.33353805542,
        "y": 3590.357679128647,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "afaa26ee.f4f91",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4980.666786193848,
        "y": 3663.357679128647,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "a5024519.54d8f8",
                "3c4dad5a.8e0472"
            ]
        ]
    },
    {
        "id": "a5024519.54d8f8",
        "type": "set",
        "name": "set subnet-id",
        "xml": "<set>\n<parameter name='subnet-id' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].sdnc-subnet-id`' />\n",
        "comments": "",
        "x": 5159.000106811523,
        "y": 3640.024165868759,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "3c4dad5a.8e0472",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 5144.000110626221,
        "y": 3686.691159963608,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "531c1e2.d2063e",
        "type": "switchNode",
        "name": "switch subnet-id",
        "xml": "<switch test='`$subnet-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3157.3330307006836,
        "y": 3603.691499710083,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "7a8174ad.a3f084"
            ]
        ]
    },
    {
        "id": "7a8174ad.a3f084",
        "type": "outcome",
        "name": "-1",
        "xml": "<outcome value='-1'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3313.99959564209,
        "y": 3603.6914348602295,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "864d2186.afd84"
            ]
        ]
    },
    {
        "id": "864d2186.afd84",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3462.3327865600586,
        "y": 3602.0244750976562,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "35be6b02.6604fc",
                "3edae84b.8bd0b8"
            ]
        ]
    },
    {
        "id": "a0b18ef3.2ce32",
        "type": "set",
        "name": "set subnet-id in vnfc-ip-assignments (temp variable)",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].subnet-id' value='`$subnet-id`' />\n",
        "comments": "",
        "x": 3268.9996757507324,
        "y": 3680.3582706451416,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "e48ab51.bc64748",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/bgb-vfmodulec.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 622.3332710266113,
        "y": 3275.357508659363,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "ee306cff.01d308",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4827.333358764648,
        "y": 3663.691404104233,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "afaa26ee.f4f91"
            ]
        ]
    },
    {
        "id": "74aa379b.1efba",
        "type": "set",
        "name": "set network-id",
        "xml": "<set>\n<parameter name='$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].network-id'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$idx].network-id`' />\n",
        "comments": "",
        "x": 2200.666515350342,
        "y": 2848.690969467163,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "1bf8860e.858622",
        "type": "switchNode",
        "name": "switch nfc-naming-code",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].nfc-naming-code`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1398.9999809265137,
        "y": 4463.690697193146,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "615c51d0.af54f8",
                "3bab0e2c.661182"
            ]
        ]
    },
    {
        "id": "615c51d0.af54f8",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 1583.999927520752,
        "y": 4438.690515995026,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "83b3df0b.2565c8"
            ]
        ]
    },
    {
        "id": "3bab0e2c.661182",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1582.095199584961,
        "y": 4485.476343631744,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "3b59636e.ecc054"
            ]
        ]
    },
    {
        "id": "83b3df0b.2565c8",
        "type": "set",
        "name": "set tmp.nfc-naming-code to DEFAULT",
        "xml": "<set>\n<parameter name='tmp.nfc-naming-code' value='DEFAULT' />\n",
        "comments": "",
        "x": 1815.6666984558105,
        "y": 4437.023866176605,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "3b59636e.ecc054",
        "type": "set",
        "name": "set tmp.nfc-naming-code",
        "xml": "<set>\n<parameter name='tmp.nfc-naming-code' value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].nfc-naming-code`' />\n",
        "comments": "",
        "x": 1772.333209991455,
        "y": 4485.357364177704,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "3c00fc37.bc30cc",
        "type": "switchNode",
        "name": "switch nfc-function",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].nfc-function`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1387.3333129882812,
        "y": 4562.023870944977,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "b8123c64.c0de9",
                "e088d679.163d7"
            ]
        ]
    },
    {
        "id": "b8123c64.c0de9",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 1583.9999198913574,
        "y": 4537.023668766022,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "39425d60.08b50a"
            ]
        ]
    },
    {
        "id": "e088d679.163d7",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1582.0951919555664,
        "y": 4583.8094964027405,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "aaa1ddea.d25fb"
            ]
        ]
    },
    {
        "id": "39425d60.08b50a",
        "type": "set",
        "name": "set tmp.nfc-function to DEFAULT",
        "xml": "<set>\n<parameter name='tmp.nfc-function' value='DEFAULT' />\n",
        "comments": "",
        "x": 1795.6667022705078,
        "y": 4535.3568778038025,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "aaa1ddea.d25fb",
        "type": "set",
        "name": "set tmp.nfc-function",
        "xml": "<set>\n<parameter name='tmp.nfc-function' value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].nfc-function`' />\n",
        "comments": "",
        "x": 1753.9998321533203,
        "y": 4583.690538883209,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "64787e26.3cc5b8",
        "type": "switchNode",
        "name": "switch network-roles match?",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-network-role\n  == $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].network-role`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2060.6666297912598,
        "y": 5460.6908984184265,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "aeee1320.420928"
            ]
        ]
    },
    {
        "id": "aeee1320.420928",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2259.000099182129,
        "y": 5460.358053684235,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "76bdebe5.9b9afc"
            ]
        ]
    },
    {
        "id": "6b7a37ff.b301",
        "type": "switchNode",
        "name": "switch network-roles match?",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].network-role\n  == $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].network-role`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2063.999973297119,
        "y": 5620.357346057892,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "4fcbe805.f7ee48"
            ]
        ]
    },
    {
        "id": "4fcbe805.f7ee48",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2262.3334426879883,
        "y": 5620.0245013237,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "cba3de5.684dca"
            ]
        ]
    },
    {
        "id": "a2f1733.473bd1",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1967.3332557678223,
        "y": 6198.6907658576965,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "f61a7863.245248",
                "8061b00.9da8bd"
            ]
        ]
    },
    {
        "id": "b896e30b.6a6498",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1969.0000038146973,
        "y": 6513.690777301788,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "4464b25d.5af9cc",
                "b4b48e55.27575"
            ]
        ]
    },
    {
        "id": "8061b00.9da8bd",
        "type": "for",
        "name": "for each vnfc-network-role",
        "xml": "<for silentFailure='true' index='vnfc-network-role-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2184.000202178955,
        "y": 6257.023936748505,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "2462541f.b8996c"
            ]
        ]
    },
    {
        "id": "cada4aa6.063d48",
        "type": "save",
        "name": "save vip-ipv4-address-list relationship to cp",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"vip-ipv4-address-list:relationship-list\"\n   key=\"cloud-region.cloud-owner = $prop.cloud-region.cloud-owner\n\t  AND cloud-region.cloud-region-id = $vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region\n\t  AND vip-ipv4-address-list.vip-ipv4-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v4[$ipv4-index]\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"cp\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/vnfcs/vnfc/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n        + '/cps/cp/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-role-index].connection-point.connection-point-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2859.0001258850098,
        "y": 6257.023775577545,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "a6721cd3.adcf6",
                "d5f07034.d891a8"
            ]
        ]
    },
    {
        "id": "40fcab42.382adc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3250.8332176208496,
        "y": 6230.341557025909,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "27352406.3d4394",
                "ea990527.ad4d18"
            ]
        ]
    },
    {
        "id": "893cc38b.856b3",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3250.833293914795,
        "y": 6283.341315746307,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "c9761ade.400738",
                "ea990527.ad4d18"
            ]
        ]
    },
    {
        "id": "a6721cd3.adcf6",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3094.000102996826,
        "y": 6230.357226848602,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "40fcab42.382adc"
            ]
        ]
    },
    {
        "id": "d5f07034.d891a8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3102.571636199951,
        "y": 6282.9763712883,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "893cc38b.856b3"
            ]
        ]
    },
    {
        "id": "b4b48e55.27575",
        "type": "for",
        "name": "for each vnfc-network-role",
        "xml": "<for silentFailure='true' index='vnfc-network-role-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2185.6665992736816,
        "y": 6580.357346057892,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "998efd28.9bf8c"
            ]
        ]
    },
    {
        "id": "b58e513e.2f7bb8",
        "type": "save",
        "name": "save vip-ipv6-address-list relationship to cp",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"vip-ipv6-address-list:relationship-list\"\n   key=\"cloud-region.cloud-owner = $prop.cloud-region.cloud-owner\n\t  AND cloud-region.cloud-region-id = $vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region\n\t  AND vip-ipv6-address-list.vip-ipv6-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v6[$ipv6-index]\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"cp\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/vnfcs/vnfc/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n        + '/cps/cp/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-role-index].connection-point.connection-point-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2855.6665534973145,
        "y": 6578.690128803253,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "77561fff.3f4ec8",
                "9a320045.76b4"
            ]
        ]
    },
    {
        "id": "c8031d9e.a27b68",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3247.4996452331543,
        "y": 6552.007910251617,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "d09ce99c.cad668",
                "ea990527.ad4d18"
            ]
        ]
    },
    {
        "id": "b217201c.7d27e",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3247.4997215270996,
        "y": 6605.007668972015,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "55ca8e64.f8d21",
                "ea990527.ad4d18"
            ]
        ]
    },
    {
        "id": "77561fff.3f4ec8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3090.666530609131,
        "y": 6552.02358007431,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "c8031d9e.a27b68"
            ]
        ]
    },
    {
        "id": "9a320045.76b4",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3099.238063812256,
        "y": 6604.642724514008,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "b217201c.7d27e"
            ]
        ]
    },
    {
        "id": "2462541f.b8996c",
        "type": "switchNode",
        "name": "switch network-roles match?",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].network-role\n  == $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-role-index].vnfc-network-role`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2437.3332710266113,
        "y": 6257.023613452911,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "ac6c676b.b65e58"
            ]
        ]
    },
    {
        "id": "ac6c676b.b65e58",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2624.000114440918,
        "y": 6257.024100780487,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "cada4aa6.063d48"
            ]
        ]
    },
    {
        "id": "998efd28.9bf8c",
        "type": "switchNode",
        "name": "switch network-roles match?",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].network-role\n  == $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-role-index].vnfc-network-role`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2433.9998512268066,
        "y": 6578.690353870392,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "a6890841.00ead"
            ]
        ]
    },
    {
        "id": "a6890841.00ead",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2620.6666946411133,
        "y": 6578.6908411979675,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "b58e513e.2f7bb8"
            ]
        ]
    },
    {
        "id": "9f5aae4e.9cc79",
        "type": "comment",
        "name": "SELF-SERVE FORK",
        "info": "",
        "comments": "",
        "x": 803.7142944335938,
        "y": 867.0476245880127,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "9859f6e1.8c3088",
        "type": "comment",
        "name": "First, count the subnets for this address family",
        "info": "",
        "comments": "",
        "x": 2799.0004081726074,
        "y": 3189.9997692108154,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "a043d21f.8fcbf8",
        "type": "for",
        "name": "for each subnet-data",
        "xml": "<for index='subnet-data-index' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3172.333095550537,
        "y": 3485.0002727508545,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "971f840b.3d5cc"
            ]
        ]
    },
    {
        "id": "971f840b.3d5cc",
        "type": "switchNode",
        "name": "address-families match?",
        "xml": "<switch test='`$tmp.address-family\n  == $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].ip-version`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3398.9997215270996,
        "y": 3485.0002727508545,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "2528b94a.2a2746"
            ]
        ]
    },
    {
        "id": "2528b94a.2a2746",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3578.999687194824,
        "y": 3485.0006790161133,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "5e94b6e9.fd6118"
            ]
        ]
    },
    {
        "id": "95ed1741.d0971",
        "type": "set",
        "name": "set af-count to 0",
        "xml": "<set>\n<parameter name='af-count' value='0' />\n",
        "comments": "",
        "x": 2653.9999809265137,
        "y": 3231.6665210723877,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "3a8f4215.da8a5e",
        "type": "set",
        "name": "increment af-count",
        "xml": "<set>\n<parameter name='af-count' value='`$af-count + 1`' />\n",
        "comments": "",
        "x": 3402.3333473205566,
        "y": 3298.3332710266113,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "751c83.77298b7c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3218.9997215270996,
        "y": 3279.9999561309814,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "3a8f4215.da8a5e",
                "bc71ec33.684f9"
            ]
        ]
    },
    {
        "id": "bc71ec33.684f9",
        "type": "set",
        "name": "set subnet-id",
        "xml": "<set>\n<parameter name='subnet-id' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].sdnc-subnet-id`' />\n",
        "comments": "",
        "x": 3383.999767303467,
        "y": 3253.3332691192627,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "fae08486.8429a8",
        "type": "switchNode",
        "name": "switch af-count",
        "xml": "<switch test='`$af-count`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2644.0003929138184,
        "y": 3468.3334379196167,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "24791cf3.3caa64",
                "9384bd0f.ea7c"
            ]
        ]
    },
    {
        "id": "24791cf3.3caa64",
        "type": "outcome",
        "name": "1",
        "xml": "<outcome value='1'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2803.999912261963,
        "y": 3366.666606903076,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "67c4669d.813dc"
            ]
        ]
    },
    {
        "id": "67c4669d.813dc",
        "type": "set",
        "name": "set subnet-id in vnfc-ip-assignments (temp variable)",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].subnet-id'\n  value='`$subnet-id`' />\n",
        "comments": "",
        "x": 3077.3332176208496,
        "y": 3364.9999561309814,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "9384bd0f.ea7c",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2803.999828338623,
        "y": 3568.333526611328,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "7876ba8e.26794c"
            ]
        ]
    },
    {
        "id": "7876ba8e.26794c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2960.6664695739746,
        "y": 3568.3332080841064,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "8c2bd353.7fc66",
                "a043d21f.8fcbf8",
                "531c1e2.d2063e",
                "a0b18ef3.2ce32"
            ]
        ]
    },
    {
        "id": "5e94b6e9.fd6118",
        "type": "switchNode",
        "name": "switch network-start-address",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].network-start-address`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3773.9998664855957,
        "y": 3483.333522796631,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "1d2f6aa6.13eb1d",
                "2ee667cc.d71cd8"
            ]
        ]
    },
    {
        "id": "1d2f6aa6.13eb1d",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 3970.6667137145996,
        "y": 3418.333133459091,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "11cad77c.4e4e99"
            ]
        ]
    },
    {
        "id": "2ee667cc.d71cd8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3963.7621116638184,
        "y": 3552.61904501915,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "a08a98b2.ed9b18"
            ]
        ]
    },
    {
        "id": "a08a98b2.ed9b18",
        "type": "switchNode",
        "name": "switch cidr-mask",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].cidr-mask`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4118.999904632568,
        "y": 3551.666251897812,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "95a08c05.cad1",
                "4ce90335.f07adc"
            ]
        ]
    },
    {
        "id": "95a08c05.cad1",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 4273.999980926514,
        "y": 3481.6665513515472,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "8beb5710.c44f28"
            ]
        ]
    },
    {
        "id": "4ce90335.f07adc",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4277.095777511597,
        "y": 3614.2856385707855,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "bdb814ee.6757a"
            ]
        ]
    },
    {
        "id": "fb340ed7.399388",
        "type": "outcome",
        "name": "0",
        "xml": "<outcome value='0'>",
        "comments": "",
        "outputs": 1,
        "x": 2145.666591644287,
        "y": 3088.3332080841064,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "90ede046.9c0d5"
            ]
        ]
    },
    {
        "id": "11cad77c.4e4e99",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4115.666641235352,
        "y": 3418.332900762558,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "b764291d.46f868",
                "3edae84b.8bd0b8"
            ]
        ]
    },
    {
        "id": "8beb5710.c44f28",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4420.6664962768555,
        "y": 3479.9997680187225,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "7c8accd4.ee4064",
                "3edae84b.8bd0b8"
            ]
        ]
    },
    {
        "id": "bcf9bbfb.105a08",
        "type": "comment",
        "name": "Ignore address families with no addresses",
        "info": "",
        "comments": "",
        "x": 2419.9999656677246,
        "y": 3018.6667041778564,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "bdc31d14.2e9728",
        "type": "switchNode",
        "name": "switch invariant-uuid",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].invariant-uuid`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1390.666805267334,
        "y": 4648.333082199097,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "ff58edcb.89df88",
                "b5c9f5cf.8ceba"
            ]
        ]
    },
    {
        "id": "ff58edcb.89df88",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 1572.3332176208496,
        "y": 4624.999711990356,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "5f65a64e.af523"
            ]
        ]
    },
    {
        "id": "b5c9f5cf.8ceba",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1570.4284896850586,
        "y": 4671.785539627075,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "d5186c88.3687a8"
            ]
        ]
    },
    {
        "id": "5f65a64e.af523",
        "type": "save",
        "name": "save vnfc to A&AI",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"vnfc\" \n\tkey=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\" >\n<parameter name=\"vnfc-name\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name`\" />\n<parameter name=\"nfc-naming-code\" value=\"`$tmp.nfc-naming-code`\" />\n<parameter name=\"nfc-function\" value=\"`$tmp.nfc-function`\" />\n<parameter name=\"orchestration-status\" value=\"`PendingCreate`\" />\n<parameter name=\"in-maint\" value=\"true\" />\n<parameter name=\"prov-status\" value=\"`PREPROV`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1733.999843597412,
        "y": 4626.666704177856,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "3b07d086.8e374",
                "a7b588e4.e5524"
            ]
        ]
    },
    {
        "id": "ffe819ca.cc196",
        "type": "switchNode",
        "name": "switch input cloud-owner",
        "xml": "<switch test='`$vf-module-topology-operation-input.vf-module-request-input.cloud-owner`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 669.7141952514648,
        "y": 256.9047336578369,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "783d84c3.cc12d4",
                "a137eb79.b76fc8"
            ]
        ]
    },
    {
        "id": "783d84c3.cc12d4",
        "type": "other",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 853.0475692749023,
        "y": 226.90472221374512,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "85cf8593.22bb"
            ]
        ]
    },
    {
        "id": "a137eb79.b76fc8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 852.8094749450684,
        "y": 267.85721588134766,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "21122c8c.e6e834"
            ]
        ]
    },
    {
        "id": "85cf8593.22bb",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 988.0475234985352,
        "y": 225.23806190490723,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "21122c8c.e6e834",
        "type": "set",
        "name": "set prop.cloud-region.cloud-owner",
        "xml": "<set>\n<parameter name='prop.cloud-region.cloud-owner' value='`$vf-module-topology-operation-input.vf-module-request-input.cloud-owner`' />\n",
        "comments": "",
        "x": 1069.7141799926758,
        "y": 266.9047431945801,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "922e2b1b.eafbe",
        "type": "call",
        "name": "call self-serve-vf-module-forking-logic",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='self-serve-vf-module-forking-logic' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 701.3015670776367,
        "y": 808.2980642318726,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "fbde2bba.19a75",
        "type": "switchNode",
        "name": "switch ss.self-serve-flag",
        "xml": "<switch test=\"`$ss.self-serve-flag`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 659.4443054199219,
        "y": 1035.2981328964233,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "d7b0b303.890358",
                "cfdcc8f9.d6a9d"
            ]
        ]
    },
    {
        "id": "d7b0b303.890358",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 880.158504486084,
        "y": 1152.869031906128,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "8f79dbc8.7db7"
            ]
        ]
    },
    {
        "id": "cfdcc8f9.d6a9d",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 880.7299575805664,
        "y": 911.7266693115234,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "4f763d7f.09a19c"
            ]
        ]
    },
    {
        "id": "77f4d187.1b74",
        "type": "call",
        "name": "call check for VNF-API-preload and copy",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='gw-vfmodule-update' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 601,
        "y": 7279,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "2aa4ded6.85660a",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1035.2499618530273,
        "y": 385.88027572631836,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "4f28b441.9749fc",
                "7a017950.f825a"
            ]
        ]
    },
    {
        "id": "7a017950.f825a",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"If svc-action is 'assign' then request-action must be 'CreateVfModuleInstance'\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1223.1666450500488,
        "y": 369.51125383377075,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "1d7ba63.b5fa65a",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1137.4522666931152,
        "y": 434.3683695793152,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "e1796bb3.4e3fe",
                "4f28b441.9749fc"
            ]
        ]
    },
    {
        "id": "e1796bb3.4e3fe",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error reading VF_MODULE_MODEL table\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1334.7736701965332,
        "y": 412.9040689468384,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "f0e59dc9.b120b",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1151.7379722595215,
        "y": 479.5112223625183,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "5752792f.72eac8",
                "4f28b441.9749fc"
            ]
        ]
    },
    {
        "id": "5752792f.72eac8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'No model found for VF module customization UUID ' + $vf-module-topology-operation-input.vf-module-information.onap-model-information.model-customization-uuid`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1346.380859375,
        "y": 456.47550868988037,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "42b7e01b.05af5",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1113.345230102539,
        "y": 607.5827035903931,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "c2398eb4.c54de",
                "4f28b441.9749fc"
            ]
        ]
    },
    {
        "id": "c2398eb4.c54de",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"There are no VNFs defined in MD-SAL\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1320.3094863891602,
        "y": 578.6184282302856,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "8f8db71d.d40668",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 977.6309356689453,
        "y": 715.5827035903931,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "8e9b1b02.664798",
                "4f28b441.9749fc"
            ]
        ]
    },
    {
        "id": "8e9b1b02.664798",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Unable to find VNF ID ' + $vf-module-topology-operation-input.vnf-information.vnf-id + ' in MD-SAL'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1179.595230102539,
        "y": 690.9398727416992,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "8e8dcde0.cfa1f",
        "type": "call",
        "name": "call self-serve-vf-module-assign",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='self-serve-vf-module-assign' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1302.5825996398926,
        "y": 824.3562345504761,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "806bfb14.8ca2f8"
            ]
        ]
    },
    {
        "id": "806bfb14.8ca2f8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1522.8801803588867,
        "y": 823.8442659378052,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "45d95e81.1c7478"
            ]
        ]
    },
    {
        "id": "a59017.263aa7e8",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 1252.785285949707,
        "y": 1010.8678770065308,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "f43da97d.7f233",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/ss-vnfend.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 1241.4994812011719,
        "y": 915.3594102859497,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "2078de9.3bdfca2",
        "type": "set",
        "name": "set order-status to PendingCreate",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-level-oper-status.order-status'\n  value='PendingCreate' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-level-oper-status.last-rpc-action'\n  value='`$vf-module-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-level-oper-status.last-action'\n  value='`$vf-module-topology-operation-input.request-information.request-action`' />\n",
        "comments": "",
        "x": 1310.5232429504395,
        "y": 869.3202638626099,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "4f763d7f.09a19c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1051.6187133789062,
        "y": 910.8200960159302,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "8e8dcde0.cfa1f",
                "2078de9.3bdfca2",
                "f43da97d.7f233",
                "a59017.263aa7e8",
                "51120b72.2ae45c"
            ]
        ]
    },
    {
        "id": "42d0ddb5.40f404",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 1951.3809509277344,
        "y": 1098.0472145080566,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "b5e537aa.a0c728",
        "type": "configure",
        "name": "send error to MSO",
        "xml": "<configure activate=\"true\" adaptor=\"com.att.sdnctl.sli.adaptor.mso.MSOAdaptor\" key=\"__READ_FROM_PARAMETERS__\">\n<parameter name=\"notification-url\" value=\"`$vf-module-topology-operation-input.sdnc-request-header.svc-notification-url`\" />\n<parameter name=\"input.ack-final-indicator\" value=\"Y\" />\n<parameter name=\"input.response-code\" value=\"500\" />\n<parameter name=\"input.response-message\" value=\"`$error-message`\" />\n<parameter name=\"input.svc-request-id\" value=\"`$vf-module-topology-operation-input.sdnc-request-header.svc-request-id`\" />\n<parameter name=\"input.service-information.service-type\" value=\"`$vf-module-topology-operation-input.service-information.subscription-service-type`\" />\n<parameter name=\"input.service-information.service-instance-id\" value=\"`$vf-module-topology-operation-input.service-information.service-instance-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1970.7399978637695,
        "y": 1049.8466911315918,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "4f28b441.9749fc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1758.047737121582,
        "y": 1070.9045572280884,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "b5e537aa.a0c728",
                "42d0ddb5.40f404"
            ]
        ]
    },
    {
        "id": "45d95e81.1c7478",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1668.8809051513672,
        "y": 823.2256212234497,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "d6d2f224.70de08",
                "4f28b441.9749fc"
            ]
        ]
    },
    {
        "id": "d6d2f224.70de08",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Failed to create self-serve assignment for vf-module with vf-module-id=' + $vf-module-topology-operation-input.vf-module-information.vf-module-id + ' with error: ' + $error-message`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1866.5596618652344,
        "y": 802.5113306045532,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "51120b72.2ae45c",
        "type": "configure",
        "name": "send success to MSO",
        "xml": "<configure activate=\"true\" adaptor=\"com.att.sdnctl.sli.adaptor.mso.MSOAdaptor\" key=\"__READ_FROM_PARAMETERS__\">\n<parameter name=\"notification-url\" value=\"`$vf-module-topology-operation-input.sdnc-request-header.svc-notification-url`\" />\n<parameter name=\"input.ack-final-indicator\" value=\"Y\" />\n<parameter name=\"input.response-code\" value=\"200\" />\n<parameter name=\"input.svc-request-id\" value=\"`$vf-module-topology-operation-input.sdnc-request-header.svc-request-id`\" />\n<parameter name=\"input.service-information.service-type\" value=\"`$vf-module-topology-operation-input.service-information.subscription-service-type`\" />\n<parameter name=\"input.service-information.service-instance-id\" value=\"`$vf-module-topology-operation-input.service-information.service-instance-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1276.2617721557617,
        "y": 961.5589151382446,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "aaf39c8.3f5d5e",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'VF module id ' + $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-id\n       + ' already exists, and status is ' + $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-data.vf-module-level-oper-status.order-status`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2554.0000228881836,
        "y": 1365.46884059906,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "6fcc1d57.8f1704",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2360.071113586426,
        "y": 1384.933129310608,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "aaf39c8.3f5d5e",
                "99a4d432.0c1b98"
            ]
        ]
    },
    {
        "id": "83002184.a6a7d8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1065.0713424682617,
        "y": 1602.5997714996338,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "1753e79f.94e35",
                "99a4d432.0c1b98"
            ]
        ]
    },
    {
        "id": "5f521589.22334c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1066.7380294799805,
        "y": 1645.9331455230713,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "831f994a.15d4e8",
                "99a4d432.0c1b98"
            ]
        ]
    },
    {
        "id": "1753e79f.94e35",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Cloud region not found in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1269.0000076293945,
        "y": 1579.3855476379395,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "831f994a.15d4e8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error retrieving cloud region from AAI.  Is AAI down?\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1264.416748046875,
        "y": 1627.7188844680786,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "971e7a07.63c6a",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 949.6545562744141,
        "y": 1826.5998239517212,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "40e618aa.0b2688",
                "99a4d432.0c1b98"
            ]
        ]
    },
    {
        "id": "40e618aa.0b2688",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Unable to find aic-clli in AAI for aic-cloud-region ' + $vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1142.3332138061523,
        "y": 1799.3855543136597,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "a6799156.5b06e",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 1915.904640197754,
        "y": 2094.6833505630493,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "8a6a4bac.9ad238",
        "type": "configure",
        "name": "send error to MSO",
        "xml": "<configure activate=\"true\" adaptor=\"com.att.sdnctl.sli.adaptor.mso.MSOAdaptor\" key=\"__READ_FROM_PARAMETERS__\">\n<parameter name=\"notification-url\" value=\"`$vf-module-topology-operation-input.sdnc-request-header.svc-notification-url`\" />\n<parameter name=\"input.ack-final-indicator\" value=\"Y\" />\n<parameter name=\"input.response-code\" value=\"500\" />\n<parameter name=\"input.response-message\" value=\"`$error-message`\" />\n<parameter name=\"input.svc-request-id\" value=\"`$vf-module-topology-operation-input.sdnc-request-header.svc-request-id`\" />\n<parameter name=\"input.service-information.service-type\" value=\"`$vf-module-topology-operation-input.service-information.subscription-service-type`\" />\n<parameter name=\"input.service-information.service-instance-id\" value=\"`$vf-module-topology-operation-input.service-information.service-instance-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1935.263687133789,
        "y": 2046.4828271865845,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "99a4d432.0c1b98",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1762.5714263916016,
        "y": 2067.540693283081,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "8a6a4bac.9ad238",
                "a6799156.5b06e"
            ]
        ]
    },
    {
        "id": "e86ef985.729688",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-assign-rollback",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-assign-rollback' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2858.9999237060547,
        "y": 2565.774224281311,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "e8143cbb.06853",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 2685.427978515625,
        "y": 2652.9170656204224,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "3f11a45b.8fb154",
        "type": "configure",
        "name": "send error to MSO",
        "xml": "<configure activate=\"true\" adaptor=\"com.att.sdnctl.sli.adaptor.mso.MSOAdaptor\" key=\"__READ_FROM_PARAMETERS__\">\n<parameter name=\"notification-url\" value=\"`$vf-module-topology-operation-input.sdnc-request-header.svc-notification-url`\" />\n<parameter name=\"input.ack-final-indicator\" value=\"Y\" />\n<parameter name=\"input.response-code\" value=\"500\" />\n<parameter name=\"input.response-message\" value=\"`$error-message`\" />\n<parameter name=\"input.svc-request-id\" value=\"`$vf-module-topology-operation-input.sdnc-request-header.svc-request-id`\" />\n<parameter name=\"input.service-information.service-type\" value=\"`$vf-module-topology-operation-input.service-information.subscription-service-type`\" />\n<parameter name=\"input.service-information.service-instance-id\" value=\"`$vf-module-topology-operation-input.service-information.service-instance-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2704.7871017456055,
        "y": 2609.7165155410767,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "7b747d29.db7324",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2468.7613983154297,
        "y": 2611.1910247802734,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "3f11a45b.8fb154",
                "e8143cbb.06853",
                "e86ef985.729688"
            ]
        ]
    },
    {
        "id": "1a617b77.fdbf6d",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3037.3332176208496,
        "y": 2266.5243730545044,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "827088b.8c5d0f8",
                "7b747d29.db7324"
            ]
        ]
    },
    {
        "id": "827088b.8c5d0f8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'from-preload flag is true but could not find preload information for VF module name ' + $vf-module-topology-operation-input.vf-module-request-input.vf-module-name`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3236.916458129883,
        "y": 2233.167317390442,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "a11cfcd3.1b076",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2209.2377700805664,
        "y": 2414.1076803207397,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "dff63c1d.f437b",
                "7b747d29.db7324"
            ]
        ]
    },
    {
        "id": "dff63c1d.f437b",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error retrieving preload-information\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2415.2498779296875,
        "y": 2388.7504167556763,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "96e21059.06631",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-assign-rollback",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-assign-rollback' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4281.083396911621,
        "y": 4417.996286392212,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "858fbff7.3edce",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 4107.511451721191,
        "y": 4505.139127731323,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "cb963645.8143f8",
        "type": "configure",
        "name": "send error to MSO",
        "xml": "<configure activate=\"true\" adaptor=\"com.att.sdnctl.sli.adaptor.mso.MSOAdaptor\" key=\"__READ_FROM_PARAMETERS__\">\n<parameter name=\"notification-url\" value=\"`$vf-module-topology-operation-input.sdnc-request-header.svc-notification-url`\" />\n<parameter name=\"input.ack-final-indicator\" value=\"Y\" />\n<parameter name=\"input.response-code\" value=\"500\" />\n<parameter name=\"input.response-message\" value=\"`$error-message`\" />\n<parameter name=\"input.svc-request-id\" value=\"`$vf-module-topology-operation-input.sdnc-request-header.svc-request-id`\" />\n<parameter name=\"input.service-information.service-type\" value=\"`$vf-module-topology-operation-input.service-information.subscription-service-type`\" />\n<parameter name=\"input.service-information.service-instance-id\" value=\"`$vf-module-topology-operation-input.service-information.service-instance-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 4126.870574951172,
        "y": 4461.9385776519775,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "3edae84b.8bd0b8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3890.844871520996,
        "y": 4463.413086891174,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "cb963645.8143f8",
                "858fbff7.3edce",
                "96e21059.06631"
            ]
        ]
    },
    {
        "id": "d4bf4ec5.c54cf",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'VNFC network role '\n      + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-network-role\n      + ' is not found in VNF network list'\n      `\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1977.3333282470703,
        "y": 2897.7189321517944,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "b764291d.46f868",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'SDNC subnet id '\n      + $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].sdnc-subnet-id\n      + ' does not have network-start-address populated'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 4306.916816711426,
        "y": 3373.413009405136,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "7c8accd4.ee4064",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'SDNC subnet id '\n      + $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].sdnc-subnet-id\n      + ' does not have cidr-mask populated'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 4621.916839599609,
        "y": 3450.913016319275,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "35be6b02.6604fc",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Not able to find VNF network subnet that contains address '\n      + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[0].vnfc-ip-address\n      `\" />",
        "comments": "",
        "outputs": 1,
        "x": 3669.416793823242,
        "y": 3570.9130334854126,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "1f16417e.46bb0f",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error reading VFC_RELATED_NETWORK_ROLE table\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2110.1110458374023,
        "y": 3807.4414014816284,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "68f131a0.fd6748",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Unable to find related network '\n      + $db.vnf-related-network-role[$db-related-network-index].related-network-role + ' in vnf-networks'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2917.6111068725586,
        "y": 3992.441149711609,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "8a399cd0.4b8608",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error saving vnfc to AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2293.999954223633,
        "y": 4615.080791473389,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "eff75493.0e779",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-assign-rollback",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-assign-rollback' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3767.0556869506836,
        "y": 5775.08127784729,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "d262fc.8bca4d08",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 3593.483741760254,
        "y": 5862.224119186401,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "cb3e9960.a27ae",
        "type": "configure",
        "name": "send error to MSO",
        "xml": "<configure activate=\"true\" adaptor=\"com.att.sdnctl.sli.adaptor.mso.MSOAdaptor\" key=\"__READ_FROM_PARAMETERS__\">\n<parameter name=\"notification-url\" value=\"`$vf-module-topology-operation-input.sdnc-request-header.svc-notification-url`\" />\n<parameter name=\"input.ack-final-indicator\" value=\"Y\" />\n<parameter name=\"input.response-code\" value=\"500\" />\n<parameter name=\"input.response-message\" value=\"`$error-message`\" />\n<parameter name=\"input.svc-request-id\" value=\"`$vf-module-topology-operation-input.sdnc-request-header.svc-request-id`\" />\n<parameter name=\"input.service-information.service-type\" value=\"`$vf-module-topology-operation-input.service-information.subscription-service-type`\" />\n<parameter name=\"input.service-information.service-instance-id\" value=\"`$vf-module-topology-operation-input.service-information.service-instance-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3612.8428649902344,
        "y": 5819.023569107056,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "4c71a3fe.330784",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3376.8171615600586,
        "y": 5820.498078346252,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "cb3e9960.a27ae",
                "d262fc.8bca4d08",
                "eff75493.0e779"
            ]
        ]
    },
    {
        "id": "f24a79b3.722e8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error updating vnfc relationships in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1931.3413162231445,
        "y": 4728.830004692078,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "a8b08135.74f8f",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Not-found error updating vnfc relationships\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1930.8056373596191,
        "y": 4785.794570922852,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "973f3cbe.07b2e",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error saving cp object to AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2373.3056468963623,
        "y": 4955.080271720886,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "9013fe3f.4723",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error updating cp relationship to l3-network in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3028.305709838867,
        "y": 5407.302526473999,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "5b6da306.17c02c",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error updating cp relationship to l3-network\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3030.805709838867,
        "y": 5469.802529335022,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "6a17cabe.1d57ac",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating cp relationship to l3-network and vlan-tag in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3359.377311706543,
        "y": 5567.302542686462,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "182e4059.7a28",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error updating cp relationship to l3-network and vlan-tag\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3361.877410888672,
        "y": 5629.802543640137,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "1128fce3.dd708b",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error creating l3-interface-ipv4-address-list object in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 4051.223014831543,
        "y": 5038.552498817444,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "e9b022d.c29526",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating l3-interface-ipv4-address-list relationships in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 4048.723014831543,
        "y": 5117.30250453949,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "6af59c72.392dac",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error updating l3-interface-ipv4-address-list relationships\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 4051.2227478027344,
        "y": 5177.30251121521,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "40785545.1cb574",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error creating l3-interface-ipv6-address-list object in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 4054.972755432129,
        "y": 5227.3025159835815,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "e8a04ad.d505fb8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating l3-interface-ipv6-address-list relationships in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 4053.7224884033203,
        "y": 5288.5525188446045,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "2811dc6d.d27fb4",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error updating l3-interface-ipv6-address-list relationships\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 4054.9724884033203,
        "y": 5348.552519798279,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "f1153cc6.802858",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-assign-rollback",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-assign-rollback' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4471.22233581543,
        "y": 5429.802300453186,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "f23d3484.3e5e88",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 4297.650390625,
        "y": 5516.945141792297,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "5b71ce51.a522c",
        "type": "configure",
        "name": "send error to MSO",
        "xml": "<configure activate=\"true\" adaptor=\"com.att.sdnctl.sli.adaptor.mso.MSOAdaptor\" key=\"__READ_FROM_PARAMETERS__\">\n<parameter name=\"notification-url\" value=\"`$vf-module-topology-operation-input.sdnc-request-header.svc-notification-url`\" />\n<parameter name=\"input.ack-final-indicator\" value=\"Y\" />\n<parameter name=\"input.response-code\" value=\"500\" />\n<parameter name=\"input.response-message\" value=\"`$error-message`\" />\n<parameter name=\"input.svc-request-id\" value=\"`$vf-module-topology-operation-input.sdnc-request-header.svc-request-id`\" />\n<parameter name=\"input.service-information.service-type\" value=\"`$vf-module-topology-operation-input.service-information.subscription-service-type`\" />\n<parameter name=\"input.service-information.service-instance-id\" value=\"`$vf-module-topology-operation-input.service-information.service-instance-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 4317.0095138549805,
        "y": 5473.744591712952,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "abce7bdb.32edf",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 4080.9838104248047,
        "y": 5475.219100952148,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "5b71ce51.a522c",
                "f23d3484.3e5e88",
                "f1153cc6.802858"
            ]
        ]
    },
    {
        "id": "a8b65916.79cf48",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-assign-rollback",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-assign-rollback' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3888.4443588256836,
        "y": 6892.996615409851,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "ea444e7c.b9475",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 3714.872413635254,
        "y": 6980.139456748962,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "902d99ed.abde18",
        "type": "configure",
        "name": "send error to MSO",
        "xml": "<configure activate=\"true\" adaptor=\"com.att.sdnctl.sli.adaptor.mso.MSOAdaptor\" key=\"__READ_FROM_PARAMETERS__\">\n<parameter name=\"notification-url\" value=\"`$vf-module-topology-operation-input.sdnc-request-header.svc-notification-url`\" />\n<parameter name=\"input.ack-final-indicator\" value=\"Y\" />\n<parameter name=\"input.response-code\" value=\"500\" />\n<parameter name=\"input.response-message\" value=\"`$error-message`\" />\n<parameter name=\"input.svc-request-id\" value=\"`$vf-module-topology-operation-input.sdnc-request-header.svc-request-id`\" />\n<parameter name=\"input.service-information.service-type\" value=\"`$vf-module-topology-operation-input.service-information.subscription-service-type`\" />\n<parameter name=\"input.service-information.service-instance-id\" value=\"`$vf-module-topology-operation-input.service-information.service-instance-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3734.2315368652344,
        "y": 6936.938906669617,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "ea990527.ad4d18",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3498.2058334350586,
        "y": 6938.4134159088135,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "902d99ed.abde18",
                "ea444e7c.b9475",
                "a8b65916.79cf48"
            ]
        ]
    },
    {
        "id": "55ca8e64.f8d21",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error updating vip-ipv4-address-list relationship to cp\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3438.4446296691895,
        "y": 6577.996911048889,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "d09ce99c.cad668",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating vip-ipv4-address-list relationship to cp in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3432.1949005126953,
        "y": 6514.247445106506,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "c9761ade.400738",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error updating vip-ipv4-address-list relationship to cp\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3443.4446334838867,
        "y": 6265.496890068054,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "27352406.3d4394",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating vip-ipv4-address-list relationship to cp in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3443.4449005126953,
        "y": 6204.24742603302,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "ef07bfec.0da1f8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error updating vip-ipv6-address-list relationships\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2810.944595336914,
        "y": 6465.496901512146,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "e3dace19.828d2",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating vip-ipv6-address-list relationships in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2809.6945877075195,
        "y": 6407.997437477112,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "f8f933e7.f20698",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error saving vip-ipv6-address-list\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2473.4445724487305,
        "y": 6351.7468938827515,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "204e2feb.14703",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error saving vip-ipv6-address-list in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2473.4445724487305,
        "y": 6297.9968910217285,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "fa64e991.9a1f5",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error updating vip-ipv4-address-list relationships\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2819.694591522217,
        "y": 6140.49688243866,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "eefcae36.b17ab",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating vip-ipv4-address-list relationships in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2820.944595336914,
        "y": 6082.996878623962,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "451b6c26.9fc98c",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error saving vip-ipv4-address-list\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2477.1945724487305,
        "y": 6039.246874809265,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "bc3bd0ab.974d7",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error saving vip-ipv4-address-list in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2473.4445724487305,
        "y": 5971.746870994568,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "61dc1da.5bdf2e4",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'No l3-network found in AAI for network ID '\n      + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].network-id`\" />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1970.944538116455,
        "y": 5896.746868133545,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "fce61d4f.bf1e48",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating vf-module relationships in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1972.1945343017578,
        "y": 5837.996860027313,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "2535a173.a53146",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating vf-module in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1123.9999923706055,
        "y": 4268.830568313599,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "3f9a1f40.fa243",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"`'No vf-module found in AAI for vf module ID ' + $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1127.7499923706055,
        "y": 4345.080571174622,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "deb09c65.8dad4",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/bgb-vfmodule.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 501.32337188720703,
        "y": 7547.95954990387,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "3def796f.bfc29e",
        "type": "execute",
        "name": "execute RestApiCallNode - PUT vf-module",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + 'vf-module-assign.json'`\" />\n    <parameter name='restapiUrl' value=\"`$prop.controller.url + $tmp.vf-module.url`\" />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"vf-module-assign\" />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 603.6565017700195,
        "y": 7407.15834903717,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "ada043f1.35892",
                "b93b1468.a44d2"
            ]
        ]
    },
    {
        "id": "ada043f1.35892",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 879.4406814575195,
        "y": 7427.854509353638,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "2a70ac3.5e4ddd4"
            ]
        ]
    },
    {
        "id": "b93b1468.a44d2",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 871.8693161010742,
        "y": 7386.354529380798,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "2a70ac3.5e4ddd4"
            ]
        ]
    },
    {
        "id": "2a70ac3.5e4ddd4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1080.7994270324707,
        "y": 7406.523489952087,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "7bf7b511.9894bc",
                "acfb55b9.671528"
            ]
        ]
    },
    {
        "id": "12b5229d.65fc15",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-assign-rollback",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-assign-rollback' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1831.2997741699219,
        "y": 7526.191658973694,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "85174d5e.17bed8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 1657.7278289794922,
        "y": 7613.334500312805,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    },
    {
        "id": "233f5f44.d9158",
        "type": "configure",
        "name": "send error to MSO",
        "xml": "<configure activate=\"true\" adaptor=\"com.att.sdnctl.sli.adaptor.mso.MSOAdaptor\" key=\"__READ_FROM_PARAMETERS__\">\n<parameter name=\"notification-url\" value=\"`$vf-module-topology-operation-input.sdnc-request-header.svc-notification-url`\" />\n<parameter name=\"input.ack-final-indicator\" value=\"Y\" />\n<parameter name=\"input.response-code\" value=\"500\" />\n<parameter name=\"input.response-message\" value=\"`$error-message`\" />\n<parameter name=\"input.svc-request-id\" value=\"`$vf-module-topology-operation-input.sdnc-request-header.svc-request-id`\" />\n<parameter name=\"input.service-information.service-type\" value=\"`$vf-module-topology-operation-input.service-information.subscription-service-type`\" />\n<parameter name=\"input.service-information.service-instance-id\" value=\"`$vf-module-topology-operation-input.service-information.service-instance-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1677.0869522094727,
        "y": 7570.1339502334595,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "acfb55b9.671528",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1460.3469543457031,
        "y": 7570.715598106384,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            [
                "233f5f44.d9158",
                "85174d5e.17bed8",
                "12b5229d.65fc15"
            ]
        ]
    },
    {
        "id": "7bf7b511.9894bc",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error doing PUT of vf-module\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1285.2998428344727,
        "y": 7379.048503875732,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "ec7f0c6b.416438",
        "type": "configure",
        "name": "send success to MSO",
        "xml": "<configure activate=\"true\" adaptor=\"com.att.sdnctl.sli.adaptor.mso.MSOAdaptor\" key=\"__READ_FROM_PARAMETERS__\">\n<parameter name=\"notification-url\" value=\"`$vf-module-topology-operation-input.sdnc-request-header.svc-notification-url`\" />\n<parameter name=\"input.ack-final-indicator\" value=\"Y\" />\n<parameter name=\"input.response-code\" value=\"200\" />\n<parameter name=\"input.svc-request-id\" value=\"`$vf-module-topology-operation-input.sdnc-request-header.svc-request-id`\" />\n<parameter name=\"input.service-information.service-type\" value=\"`$vf-module-topology-operation-input.service-information.subscription-service-type`\" />\n<parameter name=\"input.service-information.service-instance-id\" value=\"`$vf-module-topology-operation-input.service-information.service-instance-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 532.0615844726562,
        "y": 7593.111638069153,
        "z": "cc4b4d8f.cc8dd8",
        "wires": [
            []
        ]
    },
    {
        "id": "edf9a73a.57dcd8",
        "type": "set",
        "name": "set tmp.ignoreNoPreload to true",
        "xml": "<set>\n<parameter name='tmp.ignoreNoPreload'\n  value='true' />\n",
        "comments": "",
        "x": 577.4285888671875,
        "y": 7238.1431884765625,
        "z": "cc4b4d8f.cc8dd8",
        "wires": []
    }
]