[{"id":"fb139930.a5ac98","type":"dgstart","name":"DGSTART","outputs":1,"x":167.03125,"y":89.03125,"z":"31004b62.477bf4","wires":[["48e0e6f4.30bbf8"]]},{"id":"48e0e6f4.30bbf8","type":"service-logic","name":"GENERIC-RESOURCE-API ${project.version}","module":"GENERIC-RESOURCE-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>","outputs":1,"x":379.03125381469727,"y":161.0312671661377,"z":"31004b62.477bf4","wires":[["78dc56c8.def1a8"]]},{"id":"78dc56c8.def1a8","type":"method","name":"wan-connection-topology-operation-deactivate","xml":"<method rpc='wan-connection-topology-operation-deactivate' mode='sync'>\n","comments":"","outputs":1,"x":367.0313720703125,"y":249.03125,"z":"31004b62.477bf4","wires":[["48439268.1dfbdc"]]},{"id":"467f342d.7d22ac","type":"execute","name":"execute Properties","xml":"<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n","comments":"","outputs":1,"x":754.0315322875977,"y":333.03132152557373,"z":"31004b62.477bf4","wires":[[]]},{"id":"5566030f.560f5c","type":"returnSuccess","name":"return success","xml":"<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n","comments":"","x":354.03126525878906,"y":1198.0314636230469,"z":"31004b62.477bf4","wires":[]},{"id":"48439268.1dfbdc","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":279.5314483642578,"y":690.0313854217529,"z":"31004b62.477bf4","wires":[["41eefa5d.723984","73444414.51ee3c","467f342d.7d22ac","5566030f.560f5c","bfe6e253.51bda"]]},{"id":"41eefa5d.723984","type":"for","name":"for pidx..service-data.networks.network[]","xml":"<for index='pidx' start='0' end='`$service-data.networks.network_length`' >\n","comments":"","outputs":1,"x":917.5316619873047,"y":490.03138399124146,"z":"31004b62.477bf4","wires":[["73275112.eb265"]]},{"id":"73275112.eb265","type":"switchNode","name":"switch network-id","xml":"<switch test=\"`$service-data.networks.network[$pidx].network-id == $network-topology-operation-input.network-information.network-id`\">\n\n","comments":"","outputs":1,"x":968.5315933227539,"y":563.031415939331,"z":"31004b62.477bf4","wires":[["3cb7881c.e77758"]]},{"id":"3cb7881c.e77758","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1150.78169631958,"y":565.0315093994141,"z":"31004b62.477bf4","wires":[["bb475021.956ca"]]},{"id":"bb475021.956ca","type":"set","name":"set tmp.pidx and tmp.network-input-parameters","xml":"<set>\n<parameter name='tmp.pidx' value='`$pidx`' />\n<parameter name='tmp.network.' value='`$service-data.networks.network[$pidx].`' />\n<parameter name='tmp.network-input-parameters' value='`$service-data.networks.network[$pidx].network-data.network-request-input.network-input-parameters`' />\n<parameter name='tmp.found-network-input' value='true' />","comments":"","x":1437.399658203125,"y":549.4603414535522,"z":"31004b62.477bf4","wires":[]},{"id":"73444414.51ee3c","type":"set","name":"set tmp.found-network-input","xml":"<set>\n<parameter name='tmp.found-network-input' value='false' />","comments":"","x":902.5315628051758,"y":415.03142166137695,"z":"31004b62.477bf4","wires":[]},{"id":"7ef8bc93.72d7e4","type":"switchNode","name":"switch found-network-input","xml":"<switch test=\"`$found-network-input`\">\n\n","comments":"","outputs":1,"x":639.5315475463867,"y":900.0315456390381,"z":"31004b62.477bf4","wires":[["879fbfe.6bbb14","1f7a132d.4d9f0d"]]},{"id":"879fbfe.6bbb14","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":871.5316390991211,"y":944.0317440032959,"z":"31004b62.477bf4","wires":[["ea5209e1.dfa278"]]},{"id":"1f7a132d.4d9f0d","type":"outcomeTrue","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":872.2815780639648,"y":902.0316352844238,"z":"31004b62.477bf4","wires":[["1a0d4bfd.22a1c4"]]},{"id":"1a0d4bfd.22a1c4","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"404\" />\n    <parameter name=\"error-message\" value=\"Error: Network input parameters not found\" />\n    \n","comments":"","x":1043.2815780639648,"y":910.0316047668457,"z":"31004b62.477bf4","wires":[]},{"id":"ea5209e1.dfa278","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":609.0314254760742,"y":1056.031530380249,"z":"31004b62.477bf4","wires":[["779b431.149c2bc","ce19c54d.859618","7d3319a2.799358"]]},{"id":"779b431.149c2bc","type":"for","name":"for cidx..tmp.network.network-data.network-topology.network-parameters.network-parameter[]","xml":"<for index='cidx' start='0' end='`$tmp.network.network-data.network-topology.network-parameters.network-parameter_length`' >\n","comments":"","outputs":1,"x":1058.031265258789,"y":1142.0313863754272,"z":"31004b62.477bf4","wires":[["8de9fe3f.ec51c"]]},{"id":"f0ae8659.57b548","type":"switchNode","name":"switch network-parameter-name == 'restapiUrl-deactivate'","xml":"<switch test=\"`$tmp.network.network-data.network-topology.network-parameters.network-parameter[$cxid].network-parameter-name == 'restapiUrl-deactivate'`\">\n","comments":"","outputs":1,"x":1172.0313262939453,"y":1212.0314483642578,"z":"31004b62.477bf4","wires":[["c927c5bf.bcf4e8"]]},{"id":"c927c5bf.bcf4e8","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1445.0314483642578,"y":1211.031406402588,"z":"31004b62.477bf4","wires":[["b3c6953a.75ca08"]]},{"id":"b3c6953a.75ca08","type":"set","name":"set tmp.thirdparty-sdnc-url","xml":"<set>\n<parameter name='tmp.restapiUrl' value='`$tmp.network.network-data.network-topology.network-parameters.network-parameter[$cxid].network-parameter-value`' />\n<parameter name='tmp.restapiUrl-found' value='true' />","comments":"","x":1624.0314102172852,"y":1213.031455039978,"z":"31004b62.477bf4","wires":[]},{"id":"b12f1c0.9e26fe8","type":"execute","name":"execute RestApiCallNode delete wan-connection","xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"restapiUrl\" value=\"`$tmp.restapiUrl + $tmp.actualId`\" />\n<parameter name=\"restapiUser\" value=\"`$tmp.restapiUser`\" />\n<parameter name=\"restapiPassword\" value=\"`$tmp.restapiPassword`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"delete\"/>","comments":"","outputs":1,"x":946.2812957763672,"y":1944.0320014953613,"z":"31004b62.477bf4","wires":[["8e8c53c2.06b4d","e24db978.0e77a8","3690625e.d2f00e"]]},{"id":"60b22039.bfdef","type":"switchNode","name":"switch network-parameter-name == 'restapiUser'","xml":"<switch test=\"`$tmp.network.network-data.network-topology.network-parameters.network-parameter[$cxid].network-parameter-name == 'restapiUser'`\">\n","comments":"","outputs":1,"x":1175.2813186645508,"y":1263.0314235687256,"z":"31004b62.477bf4","wires":[["1a01da0.b6d3826"]]},{"id":"1a01da0.b6d3826","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1441.2814331054688,"y":1265.0315008163452,"z":"31004b62.477bf4","wires":[["3207e040.5bbe9"]]},{"id":"3207e040.5bbe9","type":"set","name":"set tmp.restapiUser","xml":"<set>\n<parameter name='tmp.restapiUser' value='`$tmp.network.network-data.network-topology.network-parameters.network-parameter[$cxid].network-parameter-value`' />\n<parameter name='tmp.restapiUser-found' value='true' />","comments":"","x":1642.2814636230469,"y":1263.0315017700195,"z":"31004b62.477bf4","wires":[]},{"id":"d8d4ce6.c31703","type":"switchNode","name":"switch network-parameter-name == 'restapiPassword'","xml":"<switch test=\"`$tmp.network.network-data.network-topology.network-parameters.network-parameter[$cxid].network-parameter-name == 'restapiPassword'`\">\n","comments":"","outputs":1,"x":1183.2813873291016,"y":1317.031349182129,"z":"31004b62.477bf4","wires":[["65057520.32caac"]]},{"id":"65057520.32caac","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1460.2813987731934,"y":1315.0313816070557,"z":"31004b62.477bf4","wires":[["9b70b8cf.209798"]]},{"id":"9b70b8cf.209798","type":"set","name":"set tmp.restapiPassword","xml":"<set>\n<parameter name='tmp.restapiPassword' value='`$tmp.network.network-data.network-topology.network-parameters.network-parameter[$cxid].network-parameter-value`' />\n<parameter name='tmp.restapiPassword-found' value='true' />","comments":"","x":1661.2814292907715,"y":1313.03138256073,"z":"31004b62.477bf4","wires":[]},{"id":"ce19c54d.859618","type":"set","name":"set paras flags","xml":"<set>\n<parameter name='tmp.restapiUrl-found' value='false' />\n<parameter name='tmp.restapiUser-found' value='false' />\n<parameter name='tmp.restapiPassword-found' value='false' />\n<parameter name='tmp.thirdPartyAdaptorRpc-found' value='false' />\n<parameter name='tmp.actualId-found' value='false' />","comments":"","x":845.0314331054688,"y":1057.0313835144043,"z":"31004b62.477bf4","wires":[]},{"id":"7d3319a2.799358","type":"switchNode","name":"switch thirdPartyAdaptorRpc-found == 'true'","xml":"<switch test=\"`$tmp.thirdPartyAdaptorRpc-found == 'true'`\">\n","comments":"","outputs":1,"x":887.0312652587891,"y":1552.0314292907715,"z":"31004b62.477bf4","wires":[["368277b8.bc08b8","7a07eba8.e04e64"]]},{"id":"8de9fe3f.ec51c","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":829.0312652587891,"y":1323.0312995910645,"z":"31004b62.477bf4","wires":[["f0ae8659.57b548","60b22039.bfdef","d8d4ce6.c31703","48aa5052.ae52c","a4f48d87.24801"]]},{"id":"368277b8.bc08b8","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1149.0312843322754,"y":1514.0313663482666,"z":"31004b62.477bf4","wires":[["96632ba5.c52f68"]]},{"id":"7a07eba8.e04e64","type":"outcomeTrue","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1150.031234741211,"y":1580.031331062317,"z":"31004b62.477bf4","wires":[["6963dd9c.467af4"]]},{"id":"96632ba5.c52f68","type":"call","name":"call thirdPartyAdaptorRpc","xml":"<call module='GENERIC-RESOURCE-API' rpc='`$tmp.thirdPartyAdaptorRpc`' mode='sync' >\n","comments":"","outputs":1,"x":1369.0313262939453,"y":1515.0314254760742,"z":"31004b62.477bf4","wires":[["17b23395.dbf90c","cba3bf5e.954aa","79dd5a51.2f85a4"]]},{"id":"6963dd9c.467af4","type":"switchNode","name":"switch restapiUrl-found == 'true'","xml":"<switch test=\"`$tmp.restapiUrl-found == 'true'`\">\n","comments":"","outputs":1,"x":911.4821548461914,"y":1664.0380754470825,"z":"31004b62.477bf4","wires":[["fcd82e49.da981","f4a968f.a316c98"]]},{"id":"fcd82e49.da981","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1162.4821395874023,"y":1662.0378713607788,"z":"31004b62.477bf4","wires":[["987ecdfc.5e08"]]},{"id":"987ecdfc.5e08","type":"switchNode","name":"switch restapiUser-found == 'true'","xml":"<switch test=\"`$tmp.restapiUser-found == 'true'`\">\n","comments":"","outputs":1,"x":889.4822540283203,"y":1731.2601737976074,"z":"31004b62.477bf4","wires":[["b4729227.6ae8d","58c5c70d.9bf9e8"]]},{"id":"b4729227.6ae8d","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1156.4821472167969,"y":1732.2598867416382,"z":"31004b62.477bf4","wires":[["c42f9d5.758fa6"]]},{"id":"c42f9d5.758fa6","type":"switchNode","name":"switch restapiPassword-found == 'true'","xml":"<switch test=\"`$tmp.restapiPassword-found == 'true'`\">\n","comments":"","outputs":1,"x":904.4821472167969,"y":1801.2600965499878,"z":"31004b62.477bf4","wires":[["8106bd42.342cf","d1647b0a.927598"]]},{"id":"8106bd42.342cf","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1164.4821472167969,"y":1801.2598867416382,"z":"31004b62.477bf4","wires":[["39947653.f85f4a"]]},{"id":"48aa5052.ae52c","type":"switchNode","name":"switch network-parameter-name == 'thirdPartyAdaptorRpc-deactivate'","xml":"<switch test=\"`$tmp.network.network-data.network-topology.network-parameters.network-parameter[$cxid].network-parameter-name == 'thirdPartyAdaptorRpc-deactivate'`\">\n","comments":"","outputs":1,"x":1201.037784576416,"y":1410.037727355957,"z":"31004b62.477bf4","wires":[["c2db7be7.487398"]]},{"id":"c2db7be7.487398","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1512.0380020141602,"y":1414.0376319885254,"z":"31004b62.477bf4","wires":[["1fa513b3.d3816c"]]},{"id":"1fa513b3.d3816c","type":"set","name":"set tmp.thirdPartyAdaptorRpc","xml":"<set>\n<parameter name='tmp.thirdPartyAdaptorRpc' value='`$tmp.network.network-data.network-topology.network-parameters.network-parameter[$cxid].network-parameter-value`' />\n<parameter name='tmp.thirdPartyAdaptorRpc-found' value='true' />","comments":"","x":1707.037956237793,"y":1408.0378227233887,"z":"31004b62.477bf4","wires":[]},{"id":"79dd5a51.2f85a4","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1635.0377197265625,"y":1554.37109375,"z":"31004b62.477bf4","wires":[["4f507407.937bfc"]]},{"id":"cba3bf5e.954aa","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1626.037769317627,"y":1522.8711194992065,"z":"31004b62.477bf4","wires":[["4f507407.937bfc"]]},{"id":"17b23395.dbf90c","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":1629.7878074645996,"y":1493.2282243743539,"z":"31004b62.477bf4","wires":[["93386697.16bc58"]]},{"id":"4f507407.937bfc","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Error calling ' + $tmp.thirdPartyAdaptorRpc`\" />\n","comments":"","x":1792.7878341674805,"y":1539.6211919784546,"z":"31004b62.477bf4","wires":[]},{"id":"93386697.16bc58","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1771.443775177002,"y":1489.420393563807,"z":"31004b62.477bf4","wires":[[]]},{"id":"3690625e.d2f00e","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1276.0377197265625,"y":1979.37109375,"z":"31004b62.477bf4","wires":[["1b7421e5.8ea83e"]]},{"id":"e24db978.0e77a8","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1267.037769317627,"y":1947.8711194992065,"z":"31004b62.477bf4","wires":[["1b7421e5.8ea83e"]]},{"id":"8e8c53c2.06b4d","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":1270.7878074645996,"y":1918.2282243743539,"z":"31004b62.477bf4","wires":[["8097800c.ac74a"]]},{"id":"1b7421e5.8ea83e","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Error calling ' + $tmp.restapiUrl`\" />\n","comments":"","x":1433.7878341674805,"y":1964.6211919784546,"z":"31004b62.477bf4","wires":[]},{"id":"8097800c.ac74a","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1412.443775177002,"y":1914.420393563807,"z":"31004b62.477bf4","wires":[[]]},{"id":"f4a968f.a316c98","type":"outcomeTrue","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1313.704345703125,"y":1629.482177734375,"z":"31004b62.477bf4","wires":[["55dd436d.edcdac"]]},{"id":"55dd436d.edcdac","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"404\" />\n    <parameter name=\"error-message\" value=\"Error: 3rd party controller restapiUrl not found\" />\n    \n","comments":"","x":1484.704345703125,"y":1637.4821472167969,"z":"31004b62.477bf4","wires":[]},{"id":"58c5c70d.9bf9e8","type":"outcomeTrue","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1318.704345703125,"y":1708.482177734375,"z":"31004b62.477bf4","wires":[["8c180413.9d4258"]]},{"id":"8c180413.9d4258","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"404\" />\n    <parameter name=\"error-message\" value=\"Error: 3rd party controller restapiUser not found\" />\n    \n","comments":"","x":1489.704345703125,"y":1716.4821472167969,"z":"31004b62.477bf4","wires":[]},{"id":"d1647b0a.927598","type":"outcomeTrue","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1309.704345703125,"y":1779.482177734375,"z":"31004b62.477bf4","wires":[["b96338ca.66ea18"]]},{"id":"b96338ca.66ea18","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"404\" />\n    <parameter name=\"error-message\" value=\"Error: 3rd party controller restapiPassword not found\" />\n    \n","comments":"","x":1480.704345703125,"y":1787.4821472167969,"z":"31004b62.477bf4","wires":[]},{"id":"a4f48d87.24801","type":"switchNode","name":"switch network-parameter-name == 'actualId'","xml":"<switch test=\"`$tmp.network.network-data.network-topology.network-parameters.network-parameter[$cxid].network-parameter-name == 'actualId'`\">\n","comments":"","outputs":1,"x":1187.0312194824219,"y":1365.0312118530273,"z":"31004b62.477bf4","wires":[["57fdb4d9.05d2cc"]]},{"id":"57fdb4d9.05d2cc","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1464.0312309265137,"y":1363.031244277954,"z":"31004b62.477bf4","wires":[["6c430977.2e1378"]]},{"id":"6c430977.2e1378","type":"set","name":"set tmp.actualId","xml":"<set>\n<parameter name='tmp.actualId' value='`$tmp.network.network-data.network-topology.network-parameters.network-parameter[$cxid].network-parameter-value`' />\n<parameter name='tmp.actualId-found' value='true' />","comments":"","x":1665.0312614440918,"y":1361.0312452316284,"z":"31004b62.477bf4","wires":[]},{"id":"39947653.f85f4a","type":"switchNode","name":"switch actualId-found == 'true'","xml":"<switch test=\"`$tmp.actualId-found == 'true'`\">\n","comments":"","outputs":1,"x":918.2534484863281,"y":1869.4756698608398,"z":"31004b62.477bf4","wires":[["a40d6fae.4775a","fb284461.03b8e8"]]},{"id":"a40d6fae.4775a","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1178.2534484863281,"y":1869.4754600524902,"z":"31004b62.477bf4","wires":[["b12f1c0.9e26fe8"]]},{"id":"fb284461.03b8e8","type":"outcomeTrue","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1323.4756469726562,"y":1847.697751045227,"z":"31004b62.477bf4","wires":[["4f11aa13.b448a4"]]},{"id":"4f11aa13.b448a4","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"404\" />\n    <parameter name=\"error-message\" value=\"Error: Wan Connection actualId not found\" />\n    \n","comments":"","x":1494.4756469726562,"y":1855.697720527649,"z":"31004b62.477bf4","wires":[]},{"id":"b313d1c1.2c37a","type":"execute","name":"execute RestApiCallNode get wan-connection localId","xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sotn_get_zte_template.json' `\" />\n<parameter name=\"restapiUrl\" value=\"http://10.80.80.21:8443/restconf/operations/ZTE-API-ConnectivityService:get-service-details\" />\n<parameter name=\"restapiUser\" value=\"admin\" />\n<parameter name=\"restapiPassword\" value=\"admin\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"restApiResult\"/>","comments":"","outputs":1,"x":852.28125,"y":2180.0351576805115,"z":"31004b62.477bf4","wires":[["8962849f.6c5a68","d7eebf22.fa641","e40980f9.1a89d"]]},{"id":"e40980f9.1a89d","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1182.0376739501953,"y":2215.37424993515,"z":"31004b62.477bf4","wires":[["91ecae46.d5795"]]},{"id":"d7eebf22.fa641","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1173.0377235412598,"y":2183.8742756843567,"z":"31004b62.477bf4","wires":[["91ecae46.d5795"]]},{"id":"8962849f.6c5a68","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":1176.7877616882324,"y":2154.231380559504,"z":"31004b62.477bf4","wires":[["872b8257.fbc9d"]]},{"id":"91ecae46.d5795","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Error calling ' + $tmp.restapiUrl`\" />\n","comments":"","x":1371.787826538086,"y":2278.6242938041687,"z":"31004b62.477bf4","wires":[]},{"id":"bfe6e253.51bda","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":509.03125,"y":2184.0351576805115,"z":"31004b62.477bf4","wires":[["b313d1c1.2c37a","753f179e.1a3cb8","fdc15ea1.aa59e","79499f6e.7527e"]]},{"id":"345bec05.532ec4","type":"set","name":"set localId","xml":"<set>\n<parameter name='localId' value='`$restApiResult.output.normal-service.name[0].value`' />","comments":"","x":1002.7812957763672,"y":2416.0351824760437,"z":"31004b62.477bf4","wires":[]},{"id":"872b8257.fbc9d","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":889.78125,"y":2343.0351576805115,"z":"31004b62.477bf4","wires":[["345bec05.532ec4","10a30ef0.458841"]]},{"id":"10a30ef0.458841","type":"execute","name":"execute RestApiCallNode delete wan-connection","xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sotn_delete_zte_template.json' `\" />\n<parameter name=\"restapiUrl\" value=\"http://10.80.80.21:8443/restconf/operations/ZTE-API-ConnectivityService:delete-connectivity-service\" />\n<parameter name=\"restapiUser\" value=\"admin\" />\n<parameter name=\"restapiPassword\" value=\"admin\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"restApiResult\"/>","comments":"","outputs":1,"x":1130.78125,"y":2489.0351519584656,"z":"31004b62.477bf4","wires":[["a25154e0.87df68","679a24aa.00a63c","353afaed.168f16"]]},{"id":"353afaed.168f16","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1439.78125,"y":2520.0351576805115,"z":"31004b62.477bf4","wires":[["91ecae46.d5795"]]},{"id":"679a24aa.00a63c","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1430.7812995910645,"y":2488.535183429718,"z":"31004b62.477bf4","wires":[["91ecae46.d5795"]]},{"id":"a25154e0.87df68","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":1434.531337738037,"y":2458.8922883048654,"z":"31004b62.477bf4","wires":[["cbd0812b.40bcf"]]},{"id":"cbd0812b.40bcf","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1583.7813148498535,"y":2458.0351519584656,"z":"31004b62.477bf4","wires":[[]]},{"id":"724e66b1.0c1b28","type":"set","name":"set sotnServiceId","xml":"<set>\n<parameter name='sotnServiceId' value='73aa6033-a43e-3162-9bc9-085edc2b5a10' />","comments":"","x":1135.7813034057617,"y":2112.035325050354,"z":"31004b62.477bf4","wires":[]},{"id":"753f179e.1a3cb8","type":"for","name":"for pidx..network-input-parameters[]","xml":"<for index='paidx' start='0' end='`$tmp.network.network-data.network-request-input.network-input-parameters.param_length`' >\n","comments":"","outputs":1,"x":797.0312805175781,"y":2055.035241127014,"z":"31004b62.477bf4","wires":[["84cf10fb.c6987"]]},{"id":"84cf10fb.c6987","type":"switchNode","name":"switch svc-action","xml":"<switch test=\"`$tmp.network.network-data.network-request-input.network-input-parameters.param[$paidx].name == 'localServiceId'`\">\n","comments":"","outputs":1,"x":1069.0312805175781,"y":2062.035241127014,"z":"31004b62.477bf4","wires":[["b5cb211.1443ee"]]},{"id":"b5cb211.1443ee","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1243.0312805175781,"y":2067.035241127014,"z":"31004b62.477bf4","wires":[["6c9015be.54aaec"]]},{"id":"6c9015be.54aaec","type":"set","name":"set localServiceId","xml":"<set>\n<parameter name='localServiceId' value='`$tmp.network.network-data.network-request-input.network-input-parameters.param[$paidx].value`' />\n<parameter name='isLocalIdFound' value='true' />","comments":"","x":1438.0312805175781,"y":2065.035241127014,"z":"31004b62.477bf4","wires":[]},{"id":"fdc15ea1.aa59e","type":"switchNode","name":"switch isLocalIdFound","xml":"<switch test=\"`$isLocalIdFound`\">\n","comments":"","outputs":1,"x":762.2813034057617,"y":2110.0352640151978,"z":"31004b62.477bf4","wires":[["529b0277.481b5c"]]},{"id":"529b0277.481b5c","type":"outcomeTrue","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":957.2812652587891,"y":2110.0352640151978,"z":"31004b62.477bf4","wires":[["724e66b1.0c1b28"]]},{"id":"79499f6e.7527e","type":"set","name":"set isLocalIdFound","xml":"<set>\n<parameter name='isLocalIdFound' value='false' />","comments":"","x":739.28125,"y":2007.0351572036743,"z":"31004b62.477bf4","wires":[]}]