[
    {
        "id": "a77f6699.47796",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 106.75,
        "y": 79.77389526367188,
        "z": "e5a6ac34.a7198",
        "wires": [
            [
                "c640c202.91b41"
            ]
        ]
    },
    {
        "id": "c640c202.91b41",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 414.74964904785156,
        "y": 79.77391719818115,
        "z": "e5a6ac34.a7198",
        "wires": [
            [
                "4e95369f.bf41e"
            ]
        ]
    },
    {
        "id": "4e95369f.bf41e",
        "type": "method",
        "name": "method:bbs-internet-profile-vnf-topology-operation-delete-huawei",
        "xml": "<method rpc='bbs-internet-profile-vnf-topology-operation-delete-huawei' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 412.7496337890625,
        "y": 275.77399349212646,
        "z": "e5a6ac34.a7198",
        "wires": [
            [
                "a33839b0.90a02"
            ]
        ]
    },
    {
        "id": "a33839b0.90a02",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 819.7498626708984,
        "y": 276.77395725250244,
        "z": "e5a6ac34.a7198",
        "wires": [
            [
                "2ed02a5c.5d72ce",
                "c8fbb930.846a4",
                "3956ad31.45a35a",
                "bf1fcd53.ddfe",
                "1fd3f69.1d31e89"
            ]
        ]
    },
    {
        "id": "1fd3f69.1d31e89",
        "type": "execute",
        "name": "execute:DeleteInternetProfileInstance",
        "xml": "<execute plugin=\"org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode\" method=\"sendRequest\">\n    <parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/bbs-internet-profile-operation.json'`\" />\n    <parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/DeleteInternetProfileInstance'`\" />\n    <parameter name=\"contentType\" value=\"application/json\"/>\n    <parameter name=\"httpMethod\" value=\"post\"/>\n    <parameter name=\"responsePrefix\" value=\"service-result\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1208.4009246826172,
        "y": 280.7347803115845,
        "z": "e5a6ac34.a7198",
        "wires": [
            [
                "4123db34.0e7424",
                "888adbdc.266ba8"
            ]
        ]
    },
    {
        "id": "888adbdc.266ba8",
        "type": "outcome",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1509.7339057922363,
        "y": 280.7347803115845,
        "z": "e5a6ac34.a7198",
        "wires": [
            [
                "6237fdd6.7dcb44"
            ]
        ]
    },
    {
        "id": "4123db34.0e7424",
        "type": "outcome",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1518.7338180541992,
        "y": 355.7347822189331,
        "z": "e5a6ac34.a7198",
        "wires": [
            [
                "497cc63b.30848"
            ]
        ]
    },
    {
        "id": "497cc63b.30848",
        "type": "switchNode",
        "name": "switch:service-result",
        "xml": "<switch test=\"`$service-result.errors.error[0].error-message`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 1753.7499389648438,
        "y": 354.7740774154663,
        "z": "e5a6ac34.a7198",
        "wires": [
            [
                "448428e5.a62b48",
                "7cffa4c4.69e0d4"
            ]
        ]
    },
    {
        "id": "6237fdd6.7dcb44",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"error-code\" value=\"500\" />\n<parameter name=\"error-message\" value=\"Error failed to call DeleteInternetProfileInstance\" />\n",
        "comments": "",
        "x": 2018.6675186157227,
        "y": 281.0243282318115,
        "z": "e5a6ac34.a7198",
        "wires": []
    },
    {
        "id": "448428e5.a62b48",
        "type": "outcome",
        "name": "Other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1979.7502784729004,
        "y": 355.7741708755493,
        "z": "e5a6ac34.a7198",
        "wires": [
            [
                "eba25570.9a106"
            ]
        ]
    },
    {
        "id": "7cffa4c4.69e0d4",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 1989.749984741211,
        "y": 441.774037361145,
        "z": "e5a6ac34.a7198",
        "wires": [
            [
                "4fc581b8.3b36a"
            ]
        ]
    },
    {
        "id": "eba25570.9a106",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"error-code\" value=\"500\" />\n<parameter name=\"error-message\" value=\"`'Error DeleteInternetProfileInstance return: '+$service-result.errors.error[0].error-message`\" />\n\n",
        "comments": "",
        "x": 2166.2499465942383,
        "y": 355.7740077972412,
        "z": "e5a6ac34.a7198",
        "wires": []
    },
    {
        "id": "4fc581b8.3b36a",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2147.9166145324707,
        "y": 442.7740125656128,
        "z": "e5a6ac34.a7198",
        "wires": [
            []
        ]
    },
    {
        "id": "2ed02a5c.5d72ce",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 1147.1387634277344,
        "y": 793.6630086898804,
        "z": "e5a6ac34.a7198",
        "wires": []
    },
    {
        "id": "c8fbb930.846a4",
        "type": "call",
        "name": "call:bbs-internet-profile-vnf-topology-operation-common-huawei",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='bbs-internet-profile-vnf-topology-operation-common-huawei' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1320.4169082641602,
        "y": 196.77395057678223,
        "z": "e5a6ac34.a7198",
        "wires": [
            []
        ]
    },
    {
        "id": "dea36b4d.64e4",
        "type": "comment",
        "name": "fetch relationship-list",
        "info": "",
        "comments": "",
        "x": 1127.9205322265625,
        "y": 70,
        "z": "e5a6ac34.a7198",
        "wires": []
    },
    {
        "id": "bf1fcd53.ddfe",
        "type": "for",
        "name": "for relationship data",
        "xml": "<for silentFailure='false' index='rdidx' start='0' end=\"`$aai.service-instance.relationship-list.relationship[$ridx].relationship-data_length`\" >",
        "comments": "",
        "outputs": 1,
        "x": 1160.393009185791,
        "y": 455.75003242492676,
        "z": "e5a6ac34.a7198",
        "wires": [
            [
                "5f6aa36e.f418f4"
            ]
        ]
    },
    {
        "id": "362b4d43.71efaa",
        "type": "switchNode",
        "name": "switch vnf-id",
        "xml": "<switch test='`$aai.service-instance.relationship-list.relationship[$ridx].relationship-data[$rdidx].relationship-key`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1508.6150512695312,
        "y": 455.41671800613403,
        "z": "e5a6ac34.a7198",
        "wires": [
            [
                "dca82cdd.160458"
            ]
        ]
    },
    {
        "id": "dca82cdd.160458",
        "type": "other",
        "name": "generic-vnf.vnf-id",
        "xml": "<outcome value='generic-vnf.vnf-id'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1681.837272644043,
        "y": 455.5277795791626,
        "z": "e5a6ac34.a7198",
        "wires": [
            [
                "48c7c532.f812c4"
            ]
        ]
    },
    {
        "id": "48c7c532.f812c4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1861.0594940185547,
        "y": 523.3055810928345,
        "z": "e5a6ac34.a7198",
        "wires": [
            [
                "dbcb4df4.6dfa68"
            ]
        ]
    },
    {
        "id": "dbcb4df4.6dfa68",
        "type": "update",
        "name": "get AAI generic-vnf",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"generic-vnf\" \n\t\tkey=\"generic-vnf.vnf-id = $aai.service-instance.relationship-list.relationship[$ridx].relationship-data[$rdidx].relationship-value\"\n        pfx='aai.generic-vnf' local-only='false' >",
        "comments": "",
        "outputs": 1,
        "x": 2072.2261810302734,
        "y": 524.3056182861328,
        "z": "e5a6ac34.a7198",
        "wires": [
            [
                "f82b8813.df9498"
            ]
        ]
    },
    {
        "id": "2eceba1e.5f3b96",
        "type": "switchNode",
        "name": "switch vnf-type",
        "xml": "<switch test='`$aai.generic-vnf.vnf-type`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2643.50479888916,
        "y": 530.5278158187866,
        "z": "e5a6ac34.a7198",
        "wires": [
            [
                "49b85927.406f78"
            ]
        ]
    },
    {
        "id": "49b85927.406f78",
        "type": "other",
        "name": "InternetProfile",
        "xml": "<outcome value='InternetProfile'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2837.504554748535,
        "y": 524.5278453826904,
        "z": "e5a6ac34.a7198",
        "wires": [
            [
                "301145e6.198712"
            ]
        ]
    },
    {
        "id": "301145e6.198712",
        "type": "set",
        "name": "set InternetProfile vnf-id",
        "xml": "<set>\n<parameter name='prop.bbs.internetProfileVNFId' value='`$aai.generic-vnf.vnf-id`' />\n",
        "comments": "",
        "x": 3081.504066467285,
        "y": 522.5277700424194,
        "z": "e5a6ac34.a7198",
        "wires": []
    },
    {
        "id": "36ca2449.b1df6c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1340.9482955932617,
        "y": 626.6667156219482,
        "z": "e5a6ac34.a7198",
        "wires": [
            [
                "aa8632c1.a4018"
            ]
        ]
    },
    {
        "id": "f6034493.649d",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1348.9482955932617,
        "y": 686.6667156219482,
        "z": "e5a6ac34.a7198",
        "wires": [
            [
                "aa8632c1.a4018"
            ]
        ]
    },
    {
        "id": "aa8632c1.a4018",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 1556.9482955932617,
        "y": 661.6667156219482,
        "z": "e5a6ac34.a7198",
        "wires": []
    },
    {
        "id": "5f6aa36e.f418f4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1343.7538604736328,
        "y": 455.5833511352539,
        "z": "e5a6ac34.a7198",
        "wires": [
            [
                "362b4d43.71efaa"
            ]
        ]
    },
    {
        "id": "f33b322.9852f5",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2460.5039443969727,
        "y": 531.0278158187866,
        "z": "e5a6ac34.a7198",
        "wires": [
            [
                "2eceba1e.5f3b96"
            ]
        ]
    },
    {
        "id": "f82b8813.df9498",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2257.9483070373535,
        "y": 523.6667051315308,
        "z": "e5a6ac34.a7198",
        "wires": [
            [
                "f33b322.9852f5"
            ]
        ]
    },
    {
        "id": "3956ad31.45a35a",
        "type": "update",
        "name": "deleteResourceAAI",
        "xml": "<delete plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"generic-vnf\" \n\t\tkey=\"generic-vnf.vnf-id = $prop.bbs.internetProfileVNFId\">",
        "comments": "",
        "outputs": 1,
        "x": 1150.9112243652344,
        "y": 626.7129230499268,
        "z": "e5a6ac34.a7198",
        "wires": [
            [
                "36ca2449.b1df6c",
                "f6034493.649d"
            ]
        ]
    },
    {
        "id": "95856666.28972",
        "type": "comment",
        "name": "delete AAI resource",
        "info": "",
        "comments": "",
        "x": 1148.6890716552734,
        "y": 573.3796081542969,
        "z": "e5a6ac34.a7198",
        "wires": []
    }
]