[{"id":"68f16aa4.9d5074","type":"dgstart","name":"DGSTART","outputs":1,"x":140.03125,"y":67.03125,"z":"91bedfe2.922fa","wires":[["4639d122.77e11"]]},{"id":"4639d122.77e11","type":"service-logic","name":"GENERIC-RESOURCE-API ${project.version}","module":"GENERIC-RESOURCE-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>","outputs":1,"x":352.03125381469727,"y":139.0312671661377,"z":"91bedfe2.922fa","wires":[["9a8bcdac.3c216"]]},{"id":"9a8bcdac.3c216","type":"method","name":"wan-connection-topology-operation-activate","xml":"<method rpc='wan-connection-topology-operation-activate' mode='sync'>\n","comments":"","outputs":1,"x":340.0313720703125,"y":227.03125,"z":"91bedfe2.922fa","wires":[["833942ba.a31a1"]]},{"id":"832d0467.9d95b8","type":"execute","name":"execute Properties","xml":"<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n","comments":"","outputs":1,"x":590.0318603515625,"y":415.0314540863037,"z":"91bedfe2.922fa","wires":[[]]},{"id":"64833d18.cd9154","type":"returnSuccess","name":"return success","xml":"<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n","comments":"","x":893.0314712524414,"y":2147.031669616699,"z":"91bedfe2.922fa","wires":[]},{"id":"8af29529.f64618","type":"block","name":"general-activate-block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":734.5315265655518,"y":1862.0314840078354,"z":"91bedfe2.922fa","wires":[["64833d18.cd9154","1391d0e8.4f0b7f","932da35.011766","e9532d4d.6adac"]]},{"id":"932da35.011766","type":"for","name":"for cxid..network-topology-operation-input.network-request-input.network-input-parameters.param[]","xml":"<for index='cxid' start='0' end='`$network-topology-operation-input.network-request-input.network-input-parameters.param_length`' >\n","comments":"","outputs":1,"x":1548.031328201294,"y":1979.0315145254135,"z":"91bedfe2.922fa","wires":[["b3dd1c0f.44ef8"]]},{"id":"e9532d4d.6adac","type":"execute","name":"execute RestApiCallNode Create wan-connection","xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$tmp.templateFileName`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + $tmp.restapiUrl`\" />\n<parameter name=\"restapiUser\" value=\"admin\" />\n<parameter name=\"restapiPassword\" value=\"admin\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"restApi-result\"/>","comments":"","outputs":1,"x":1574.2813835144043,"y":2533.0317014455795,"z":"91bedfe2.922fa","wires":[["87ad771a.5f2f98","3a62b4a9.f47f1c","21dbe6e7.09038a"]]},{"id":"d0a8a99e.fd9dd8","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1873.281753540039,"y":2083.0318565368652,"z":"91bedfe2.922fa","wires":[["5f9a6ac6.788694"]]},{"id":"5f9a6ac6.788694","type":"set","name":"set tmp.templateFileName","xml":"<set>\n<parameter name='tmp.templateFileName' value=\"`$prop.restapi.templateDir + '/' + $network-topology-operation-input.network-request-input.network-input-parameters.param[$cxid].value`\" />\n<parameter name='tmp.templateFileName-found' value='true' />","comments":"","x":2230.2817611694336,"y":2086.031723380089,"z":"91bedfe2.922fa","wires":[]},{"id":"1391d0e8.4f0b7f","type":"set","name":"set paras flags","xml":"<set>\n<parameter name='tmp.restapiUrl-found' value='false' />\n<parameter name='tmp.restapiUser-found' value='false' />\n<parameter name='tmp.restapiPassword-found' value='false' />\n<parameter name='tmp.templateFileName-found' value='false' />\n<parameter name='tmp.thirdPartyAdaptorRpc-found' value='false' />","comments":"","x":1335.0314960479736,"y":1894.0315116643906,"z":"91bedfe2.922fa","wires":[]},{"id":"21dbe6e7.09038a","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1904.0378074645996,"y":2568.370793700218,"z":"91bedfe2.922fa","wires":[["79f8115c.63b98"]]},{"id":"3a62b4a9.f47f1c","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1895.037857055664,"y":2536.8708194494247,"z":"91bedfe2.922fa","wires":[["79f8115c.63b98"]]},{"id":"87ad771a.5f2f98","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":1898.7878952026367,"y":2507.227924324572,"z":"91bedfe2.922fa","wires":[["b4d5e437.520198"]]},{"id":"79f8115c.63b98","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Error calling ' + $tmp.restapiUrl`\" />\n","comments":"","x":2061.7879219055176,"y":2553.620891928673,"z":"91bedfe2.922fa","wires":[]},{"id":"833942ba.a31a1","type":"execute","name":"contains specification","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='contains' emitsOutcome='true' >\n    <parameter name=\"source\" value=\"`$network-topology-operation-input.network-information.onap-model-information.model-name`\"/>\n    <parameter name=\"target\" value=\"specification\"/>\n","comments":"","outputs":1,"x":237.03120040893555,"y":349.03507936000824,"z":"91bedfe2.922fa","wires":[["90439097.f91db","ba76ea27.97e208"]]},{"id":"90439097.f91db","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":473.03123474121094,"y":347.03507125377655,"z":"91bedfe2.922fa","wires":[["c5652ec0.4e003"]]},{"id":"ba76ea27.97e208","type":"outcomeTrue","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":176.03128814697266,"y":572.035244345665,"z":"91bedfe2.922fa","wires":[["b48ade0e.5d05c"]]},{"id":"95a7702b.ecd8f","type":"execute","name":"contains Fc","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='contains' emitsOutcome='true' >\n    <parameter name=\"source\" value=\"`$network-topology-operation-input.network-information.onap-model-information.model-name`\"/>\n    <parameter name=\"target\" value=\"Fc\"/>\n","comments":"","outputs":1,"x":507.03129959106445,"y":656.0351728200912,"z":"91bedfe2.922fa","wires":[["ca7dd575.4d5028","cfcf83f9.ff634"]]},{"id":"cfcf83f9.ff634","type":"outcomeTrue","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":152.03127670288086,"y":1004.0352452993393,"z":"91bedfe2.922fa","wires":[["54e73abd.a5fa04"]]},{"id":"54e73abd.a5fa04","type":"execute","name":"contains Fd","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='contains' emitsOutcome='true' >\n    <parameter name=\"source\" value=\"`$network-topology-operation-input.network-information.onap-model-information.model-name`\"/>\n    <parameter name=\"target\" value=\"Fd\"/>\n","comments":"","outputs":1,"x":361.03126525878906,"y":1000.0352238416672,"z":"91bedfe2.922fa","wires":[["6dde8a2b.ab5074","a5bc5232.0cec4"]]},{"id":"a5bc5232.0cec4","type":"outcomeTrue","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":143.99998092651367,"y":1076.0038818120956,"z":"91bedfe2.922fa","wires":[["b2f72333.5df75"]]},{"id":"b2f72333.5df75","type":"execute","name":"contains FcPort","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='contains' emitsOutcome='true' >\n    <parameter name=\"source\" value=\"`$network-topology-operation-input.network-information.onap-model-information.model-name`\"/>\n    <parameter name=\"target\" value=\"FcPort\"/>\n","comments":"","outputs":1,"x":352.99997329711914,"y":1073.0039104223251,"z":"91bedfe2.922fa","wires":[["11a0c8e2.8d25b7","4866cd3f.747984"]]},{"id":"ca7dd575.4d5028","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":689.0313034057617,"y":657.0351561307907,"z":"91bedfe2.922fa","wires":[["f147fb85.dd0498"]]},{"id":"6dde8a2b.ab5074","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":933.0314331054688,"y":1002.035410284996,"z":"91bedfe2.922fa","wires":[["8af29529.f64618"]]},{"id":"11a0c8e2.8d25b7","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":548.000057220459,"y":1075.003942847252,"z":"91bedfe2.922fa","wires":[["7a00ee87.c5ea2"]]},{"id":"4866cd3f.747984","type":"outcomeTrue","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":105.03140258789062,"y":1317.0355266332626,"z":"91bedfe2.922fa","wires":[["6ee8ce66.1e179"]]},{"id":"6ee8ce66.1e179","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":393.0001029968262,"y":1316.0042842626572,"z":"91bedfe2.922fa","wires":[["803654bf.2906d8"]]},{"id":"c5652ec0.4e003","type":"returnSuccess","name":"return success","xml":"<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n","comments":"","x":737.0585975646973,"y":343.06244599819183,"z":"91bedfe2.922fa","wires":[]},{"id":"803654bf.2906d8","type":"returnSuccess","name":"return success","xml":"<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n","comments":"","x":600.0587425231934,"y":1313.0627368688583,"z":"91bedfe2.922fa","wires":[]},{"id":"7a00ee87.c5ea2","type":"execute","name":"contains sitewan","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='contains' emitsOutcome='true' >\n    <parameter name=\"source\" value=\"`$network-topology-operation-input.network-information.onap-model-information.model-name`\"/>\n    <parameter name=\"target\" value=\"sitewan\"/>\n","comments":"","outputs":1,"x":741.0275611877441,"y":1076.031530737877,"z":"91bedfe2.922fa","wires":[["1f5b2dbc.d6ca22","2f394e71.6f28b2"]]},{"id":"1f5b2dbc.d6ca22","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":936.027645111084,"y":1078.0315631628036,"z":"91bedfe2.922fa","wires":[["8af29529.f64618"]]},{"id":"2f394e71.6f28b2","type":"outcomeTrue","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":489.02745056152344,"y":1230.0313781499863,"z":"91bedfe2.922fa","wires":[["6ee8ce66.1e179"]]},{"id":"11b68612.8f7a2a","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1399.781379699707,"y":843.0351314544678,"z":"91bedfe2.922fa","wires":[["e4c208d0.277478"]]},{"id":"917adf72.a6f24","type":"outcomeTrue","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":928.7814674377441,"y":945.0351947546005,"z":"91bedfe2.922fa","wires":[["8af29529.f64618"]]},{"id":"2cdd0373.9297cc","type":"for","name":"for sIdx..service-data.networks.network[]","xml":"<for index='sIdx' start='0' end='`$service-data.networks.network_length`' >\n","comments":"","outputs":1,"x":2100.0594024658203,"y":604.062762260437,"z":"91bedfe2.922fa","wires":[["a940454d.edb898"]]},{"id":"7f401448.11848c","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2509.0594062805176,"y":644.0628918409348,"z":"91bedfe2.922fa","wires":[["77ad6f46.af5dd"]]},{"id":"4d593807.3e4028","type":"set","name":"set tmp.pidx and tmp.network-input-parameters","xml":"<set>\n<parameter name='tmp.sotnFcPortList[`$sotnFcPortListLength`]' value='`$sIdx`' />","comments":"","x":2958.6787452697754,"y":443.49226903915405,"z":"91bedfe2.922fa","wires":[]},{"id":"a940454d.edb898","type":"execute","name":"contains sotn","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='contains' emitsOutcome='true' >\n    <parameter name=\"source\" value=\"`$service-data.networks.network[$sIdx].network-data.network-information.onap-model-information.model-name`\"/>\n    <parameter name=\"target\" value=\"sotn\"/>\n","comments":"","outputs":1,"x":2346.0593223571777,"y":645.0627735853195,"z":"91bedfe2.922fa","wires":[["7f401448.11848c"]]},{"id":"77ad6f46.af5dd","type":"execute","name":"contains FcPort","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='contains' emitsOutcome='true' >\n    <parameter name=\"source\" value=\"`$service-data.networks.network[$sIdx].network-data.network-information.onap-model-information.model-name`\"/>\n    <parameter name=\"target\" value=\"FcPort\"/>\n","comments":"","outputs":1,"x":2350.059284210205,"y":699.0629585981369,"z":"91bedfe2.922fa","wires":[["8618cc46.29dce"]]},{"id":"b48ade0e.5d05c","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":339.0586624145508,"y":574.0624669790268,"z":"91bedfe2.922fa","wires":[["95a7702b.ecd8f","832d0467.9d95b8"]]},{"id":"8618cc46.29dce","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2518.0592079162598,"y":696.0627983808517,"z":"91bedfe2.922fa","wires":[["462f77d5.773928"]]},{"id":"c80e57ec.42e838","type":"block","name":"find-sotn-fc-port-block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":1733.059181213379,"y":654.0627698898315,"z":"91bedfe2.922fa","wires":[["2cdd0373.9297cc","28cbc14f.a6b6de"]]},{"id":"28cbc14f.a6b6de","type":"set","name":"set sotnFcPortListLength","xml":"<set>\n<parameter name='sotnFcPortListLength' value='0' />","comments":"","x":2016.058853149414,"y":511.0627384185791,"z":"91bedfe2.922fa","wires":[]},{"id":"462f77d5.773928","type":"block","name":"find-OOF-input-block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":2396.5591468811035,"y":750.0626882314682,"z":"91bedfe2.922fa","wires":[["4d593807.3e4028","b26a4eb9.bc9d4"]]},{"id":"b26a4eb9.bc9d4","type":"for","name":"for sIdx..network-input-parameters[]","xml":"<for index='paramIdx' start='0' end='`$service-data.networks.network[$sIdx].network-data.network-request-input.network-input-parameters.param_length`' >\n","comments":"","outputs":1,"x":2934.0589332580566,"y":495.06282663345337,"z":"91bedfe2.922fa","wires":[["d104b219.810a2"]]},{"id":"d104b219.810a2","type":"execute","name":"contains address","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='contains' emitsOutcome='true' >\n    <parameter name=\"source\" value=\"`$service-data.networks.network[$sIdx].network-data.network-request-input.network-input-parameters.param[$paramIdx].name`\"/>\n    <parameter name=\"target\" value=\"address\"/>\n","comments":"","outputs":1,"x":2902.5588417053223,"y":548.0626587867737,"z":"91bedfe2.922fa","wires":[["3e492c3f.161894"]]},{"id":"3e492c3f.161894","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":3084.5589637756348,"y":548.0626587867737,"z":"91bedfe2.922fa","wires":[["b5771a74.040068"]]},{"id":"b7005c52.6156d","type":"set","name":"set sotnFcPortAddress","xml":"<set>\n<parameter name='sotnFcPortAddress' value='`$service-data.networks.network[$sIdx].network-data.network-request-input.network-input-parameters.param[$paramIdx].value`' />","comments":"","x":3142.5604248046875,"y":661.0630855560303,"z":"91bedfe2.922fa","wires":[]},{"id":"b5771a74.040068","type":"block","name":"get-OOF-input-block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":2951.558994293213,"y":606.0628304481506,"z":"91bedfe2.922fa","wires":[["b7005c52.6156d","ac44c155.870b8"]]},{"id":"b7fb6767.077bc8","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":3167.0600395202637,"y":783.0626034736633,"z":"91bedfe2.922fa","wires":[["615d66d5.9b4088"]]},{"id":"ac44c155.870b8","type":"execute","name":"execute RestApiCallNode - get access Tp from OSS","xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='restapiUrl' value=\"`$prop.oss.url + '/oss/inventory?location=' + $sotnFcPortAddress`\"/>\n    <parameter name='format' value='json' />\n    <parameter name='customHttpHeaders' value=\"X-FromAppId=MSO\" />\n    <parameter name='httpMethod' value='GET' />\n    <parameter name=\"responsePrefix\" value=\"temp.oss.accessTPs\" />\n\n","comments":"","outputs":1,"x":3264.0589637756348,"y":720.0625367164612,"z":"91bedfe2.922fa","wires":[["b7fb6767.077bc8"]]},{"id":"615d66d5.9b4088","type":"switchNode","name":"switch temp.oss.accessTPs_length","xml":"<switch test=\"`$temp.oss.accessTPs_length`\">\n","comments":"","outputs":1,"x":3463.0591468811035,"y":782.0625138282776,"z":"91bedfe2.922fa","wires":[["ce9513a6.fa2a1"]]},{"id":"ce9513a6.fa2a1","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":3727.560417175293,"y":781.0627908706665,"z":"91bedfe2.922fa","wires":[["69583000.eedc8"]]},{"id":"5cf3d0.c1599c3","type":"set","name":"set temp.accessTPs_length","xml":"<set>\n<parameter name='temp.accessTPs_length' value='`$temp.accessTPs_length + $temp.oss.accessTPs_length`' />\n\n","comments":"","x":3673.060043334961,"y":1047.058952331543,"z":"91bedfe2.922fa","wires":[]},{"id":"69583000.eedc8","type":"block","name":"copy-accessTPs-block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":3327.8084106445312,"y":870.0582141876221,"z":"91bedfe2.922fa","wires":[["5cf3d0.c1599c3","f5ea2f62.8d115","bd31dd70.98957"]]},{"id":"f5ea2f62.8d115","type":"switchNode","name":"switch temp.accessTPs_length","xml":"<switch test='`$temp.accessTPs_length`'>\n","comments":"","outputs":1,"x":3711.558364868164,"y":872.058051109314,"z":"91bedfe2.922fa","wires":[["35877cdd.9af834","1e60e227.14a41e"]]},{"id":"35877cdd.9af834","type":"other","name":"Null","xml":"<outcome value=''>\n","comments":"","outputs":1,"x":3937.5582160949707,"y":847.0579786300659,"z":"91bedfe2.922fa","wires":[["79e85a70.daad34"]]},{"id":"79e85a70.daad34","type":"set","name":"set tp_length","xml":"<set>\n<parameter name='tp_length' value='0' />","comments":"","x":4124.058052062988,"y":845.0579843814485,"z":"91bedfe2.922fa","wires":[]},{"id":"1e60e227.14a41e","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":3933.5581817626953,"y":902.0580244064331,"z":"91bedfe2.922fa","wires":[["9e2dd7ed.c17c38"]]},{"id":"9e2dd7ed.c17c38","type":"set","name":"set tp_length","xml":"<set>\n<parameter name='tp_length' value='`$temp.accessTPs_length`' />","comments":"","x":4122.308120727539,"y":902.058009147644,"z":"91bedfe2.922fa","wires":[]},{"id":"bd31dd70.98957","type":"for","name":"for each existing temp.oss.accessTPs","xml":"<for index='idx' start='0' end='`$temp.oss.accessTPs_length`' >\n","comments":"","outputs":1,"x":3713.308807373047,"y":970.0581560134888,"z":"91bedfe2.922fa","wires":[["66a013e.97656ec"]]},{"id":"66a013e.97656ec","type":"set","name":"set temp.accessTPs","xml":"<set>\n<parameter name='`temp.accessTPs[$idx + $tp_length].`' value='`$temp.oss.accessTPs[$idx].`' />","comments":"","x":4081.3087005615234,"y":971.0583038330078,"z":"91bedfe2.922fa","wires":[]},{"id":"e4c208d0.277478","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1547.0587539672852,"y":838.0624504089355,"z":"91bedfe2.922fa","wires":[["c80e57ec.42e838","fc9fbee7.497f7"]]},{"id":"ba1677d3.f8c8c8","type":"execute","name":"execute RestApiCallNode getPath from OOF","xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.oof-getpath.templatefile`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.restapi.connection-oof-url`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.oof.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.oof.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"oof\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.openecomp.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />","comments":"","outputs":1,"x":1551.5591850280762,"y":1552.0627818107605,"z":"91bedfe2.922fa","wires":[["5d426596.ead63c","e8e2281e.c12888"]]},{"id":"e8e2281e.c12888","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1880.558837890625,"y":1532.062849521637,"z":"91bedfe2.922fa","wires":[[]]},{"id":"5d426596.ead63c","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":1881.5590515136719,"y":1583.062758922577,"z":"91bedfe2.922fa","wires":[["48f3c354.04cd4c"]]},{"id":"fc9fbee7.497f7","type":"switchNode","name":"switch temp.accessTPs_length","xml":"<switch test=\"`$temp.accessTPs_length >= 2`\">\n\n","comments":"","outputs":1,"x":1613.558650970459,"y":1047.0625962018967,"z":"91bedfe2.922fa","wires":[["d130df9e.8c303"]]},{"id":"d130df9e.8c303","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1845.0589485168457,"y":1046.0624426603317,"z":"91bedfe2.922fa","wires":[["b71c53f5.3fe3b"]]},{"id":"b71c53f5.3fe3b","type":"block","name":"call-oof-block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":1589.0585975646973,"y":1183.0625027418137,"z":"91bedfe2.922fa","wires":[["ba1677d3.f8c8c8","a976d196.bd745","733d49b7.633db8"]]},{"id":"a976d196.bd745","type":"set","name":"set oof input","xml":"<set>\n<parameter name='prop.connection-attachment.access-topology-id' value='`$temp.accessTPs[0].access-topology-id`' />\n<parameter name='prop.connection-attachment.access-client-id' value='`$temp.accessTPs[0].access-client-id`' />\n<parameter name='prop.connection-attachment.access-provider-id' value='`$temp.accessTPs[0].access-provider-id`' />\n<parameter name='prop.connection-attachment.access-node-id' value='`$temp.accessTPs[0].access-node-id`' />\n<parameter name='prop.connection-attachment.access-ltp-id' value='`$temp.accessTPs[0].access-ltp-id`' />\n<parameter name='prop.remote.connection-attachment.access-topology-id' value='`$temp.accessTPs[1].access-topology-id`' />\n<parameter name='prop.remote.connection-attachment.access-client-id' value='`$temp.accessTPs[1].access-client-id`' />\n<parameter name='prop.remote.connection-attachment.access-provider-id' value='`$temp.accessTPs[1].access-provider-id`' />\n<parameter name='prop.remote.connection-attachment.access-node-id' value='`$temp.accessTPs[1].access-node-id`' />\n<parameter name='prop.remote.connection-attachment.access-ltp-id' value='`$temp.accessTPs[1].access-ltp-id`' />","comments":"","x":2105.5587158203125,"y":1053.0625,"z":"91bedfe2.922fa","wires":[]},{"id":"ac70c995.1af6f8","type":"execute","name":"execute RestApiCallNode Create Sotn connectivity Service","xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sotn-api-ConnectivityService.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/operations/ZTE-API-ConnectivityService:create-connectivity-service'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"patch\"/>\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.openecomp.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />","comments":"","outputs":1,"x":2604.694091796875,"y":1909.0313720703125,"z":"91bedfe2.922fa","wires":[["fe14c007.4766","1f23efb1.acfa8"]]},{"id":"fe14c007.4766","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":2942.6939086914062,"y":1939.0314555168152,"z":"91bedfe2.922fa","wires":[["77fdadb2.363454"]]},{"id":"77fdadb2.363454","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":3090.6939086914062,"y":1937.0313334465027,"z":"91bedfe2.922fa","wires":[[]]},{"id":"b2a8d96c.96a628","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create vpn rest api\" />\n","comments":"","x":3072.6939392089844,"y":1884.0313935279846,"z":"91bedfe2.922fa","wires":[]},{"id":"1f23efb1.acfa8","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2933.69384765625,"y":1884.0313935279846,"z":"91bedfe2.922fa","wires":[["b2a8d96c.96a628"]]},{"id":"48f3c354.04cd4c","type":"for","name":"for vidx..oof.vpns_length[]","xml":"<for index='vidx' start='0' end='`$oof.vpns_length`' >","comments":"","outputs":1,"x":2182.697708129883,"y":1597.5348572731018,"z":"91bedfe2.922fa","wires":[["8da1b53d.3f8698"]]},{"id":"8da1b53d.3f8698","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":2295.815071105957,"y":1697.3748722076416,"z":"91bedfe2.922fa","wires":[["e2bd4237.c1ef5","198632cb.6fa54d","ac70c995.1af6f8","b45c504.549f6b"]]},{"id":"61c2a7e.f334258","type":"set","name":"set controller data","xml":"<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.url' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.user' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.password' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n","comments":"","x":2937.259735107422,"y":1761.7080645561218,"z":"91bedfe2.922fa","wires":[]},{"id":"198632cb.6fa54d","type":"get-resource","name":"get-resource esr-thirdparty-sdnc","xml":"<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.thirdparty-sdnc-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.esr-thirdparty-sdnc' local-only='false' >\n\n","comments":"","outputs":1,"x":2553.7596435546875,"y":1798.7080039978027,"z":"91bedfe2.922fa","wires":[["ceb42ab8.7673f8","244c6ee4.3a22c2","45382c1f.420c94"]]},{"id":"ceb42ab8.7673f8","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":2773.759578704834,"y":1762.7079730033875,"z":"91bedfe2.922fa","wires":[["61c2a7e.f334258"]]},{"id":"244c6ee4.3a22c2","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":2783.250518798828,"y":1803.281979084015,"z":"91bedfe2.922fa","wires":[["e4d2a17a.6f57f"]]},{"id":"45382c1f.420c94","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":2778.58349609375,"y":1839.6152920722961,"z":"91bedfe2.922fa","wires":[["aa5d9fdb.59fb9"]]},{"id":"e4d2a17a.6f57f","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n","comments":"","x":2929.8218688964844,"y":1799.5678057670593,"z":"91bedfe2.922fa","wires":[]},{"id":"aa5d9fdb.59fb9","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n","comments":"","x":2933.3561401367188,"y":1841.054440021515,"z":"91bedfe2.922fa","wires":[]},{"id":"e2bd4237.c1ef5","type":"get-resource","name":"get-resource pnf","xml":"<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $oof.vpn.access-node-id \n\t\tAND depth = '0'\"\n        pfx='tmp.aai.pnf' local-only='false' >\n\n\n","comments":"","outputs":1,"x":2499.259536743164,"y":1707.7076478004456,"z":"91bedfe2.922fa","wires":[["4e443c20.39c954","ba91a4a5.6c48e8","54e123e0.23566c"]]},{"id":"4e443c20.39c954","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":2681.2595825195312,"y":1652.707757949829,"z":"91bedfe2.922fa","wires":[["24c24cf3.6a2d84"]]},{"id":"ba91a4a5.6c48e8","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":2681.7504844665527,"y":1690.2818546295166,"z":"91bedfe2.922fa","wires":[["e191088c.e1d868"]]},{"id":"54e123e0.23566c","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":2673.08349609375,"y":1723.6152296066284,"z":"91bedfe2.922fa","wires":[["93475c12.229ca"]]},{"id":"e191088c.e1d868","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n","comments":"","x":2829.322109222412,"y":1689.5677433013916,"z":"91bedfe2.922fa","wires":[]},{"id":"93475c12.229ca","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.connection-attachement.access-node-id`\" />\n\n","comments":"","x":2826.8561401367188,"y":1723.0543775558472,"z":"91bedfe2.922fa","wires":[]},{"id":"24c24cf3.6a2d84","type":"set","name":"set tmp.thirdparty-sdnc-id","xml":"<set>\n<parameter name='tmp.thirdparty-sdnc-id' value=\"`$tmp.aai.pnf.relationship-list.relationship[0].relationship-data[0].relationship-value`\" />\n","comments":"","x":2866.2595825195312,"y":1651.7078800201416,"z":"91bedfe2.922fa","wires":[]},{"id":"b45c504.549f6b","type":"set","name":"set oof.vpn","xml":"<set>\n<parameter name='oof.vpn.' value='`$oof.vpns[$vidx].`' />","comments":"","x":2491.2595291137695,"y":1596.8187198638916,"z":"91bedfe2.922fa","wires":[]},{"id":"79f3f49d.7b094c","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1883.5586395263672,"y":2044.062343597412,"z":"91bedfe2.922fa","wires":[["ce0e254a.b42ad8"]]},{"id":"ce0e254a.b42ad8","type":"get-resource","name":"get-resource esr-thirdparty-sdnc","xml":"<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = `$network-topology-operation-input.network-request-input.network-input-parameters.param[$cxid].value` AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.esr-thirdparty-sdnc' local-only='false' >\n\n","comments":"","outputs":1,"x":2258.559513092041,"y":2038.0622037649155,"z":"91bedfe2.922fa","wires":[["a73413da.0d3fe","432dc6e9.a236a8","94bb6e2e.10811"]]},{"id":"a73413da.0d3fe","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":2520.5593185424805,"y":1982.0620158910751,"z":"91bedfe2.922fa","wires":[["9608e38e.4f87c"]]},{"id":"9608e38e.4f87c","type":"set","name":"set controller data","xml":"<set>\n<parameter name='prop.thirdpartySdnc-found' value='true' />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.url' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.user' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.password' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n","comments":"","x":2718.0593795776367,"y":1970.0620158910751,"z":"91bedfe2.922fa","wires":[]},{"id":"432dc6e9.a236a8","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":2552.0501823425293,"y":2030.6361192464828,"z":"91bedfe2.922fa","wires":[["c9e0c907.d8a728"]]},{"id":"94bb6e2e.10811","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":2547.3831901550293,"y":2071.969432234764,"z":"91bedfe2.922fa","wires":[["c9e0c907.d8a728"]]},{"id":"c9e0c907.d8a728","type":"set","name":"set controller data","xml":"<set>\n<parameter name='prop.thirdpartySdnc-found' value='false' />\n","comments":"","x":2759.0585975646973,"y":2049.062201857567,"z":"91bedfe2.922fa","wires":[]},{"id":"9f6948c5.2a58d8","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1888.5587310791016,"y":2129.062282562256,"z":"91bedfe2.922fa","wires":[["e5fab659.ef7a38"]]},{"id":"e5fab659.ef7a38","type":"set","name":"set tmp.restapiUrl-found","xml":"<set>\n<parameter name='tmp.restapiUrl' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$cxid].value`' />\n<parameter name='tmp.restapiUrl-found' value='true' />","comments":"","x":2221.558645248413,"y":2133.0622762441635,"z":"91bedfe2.922fa","wires":[]},{"id":"84c2d17f.5b55","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":2350.03125,"y":1177.03125,"z":"91bedfe2.922fa","wires":[["bbf97bc1.3d8288","b18e8b0.ea73c78","22727b16.4cf754","16e2b81c.57f1a8","3f2a6e7b.1b7b12","c5be7792.660d98","c4ec6159.c161a","87b2050d.891c48","ea67c8f7.362028","732f1f87.5620a"]]},{"id":"bbf97bc1.3d8288","type":"switchNode","name":"switch name","xml":"<switch test=\"`$tmp.network-input-parameters.param[$paidx].name == 'name'`\">","comments":"","outputs":1,"x":2572.0311965942383,"y":975.0313305854797,"z":"91bedfe2.922fa","wires":[["6b9dc48e.4e73fc"]]},{"id":"6b9dc48e.4e73fc","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2759.0311965942383,"y":971.0313305854797,"z":"91bedfe2.922fa","wires":[["f0790d7f.5f87b"]]},{"id":"f0790d7f.5f87b","type":"set","name":"set name","xml":"<set>\n<parameter name='template.name' value='`$tmp.network-input-parameters.param[$paidx].value`' />\n","comments":"","x":2927.0311965942383,"y":971.6313366889954,"z":"91bedfe2.922fa","wires":[]},{"id":"b18e8b0.ea73c78","type":"switchNode","name":"switch service-type","xml":"<switch test=\"`$tmp.network-input-parameters.param[$paidx].name == 'service-type'`\">","comments":"","outputs":1,"x":2589.541389465332,"y":1036.0312705039978,"z":"91bedfe2.922fa","wires":[["48fae459.c01e7c"]]},{"id":"48fae459.c01e7c","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2776.541389465332,"y":1032.0312705039978,"z":"91bedfe2.922fa","wires":[["265025ce.cf736a"]]},{"id":"265025ce.cf736a","type":"set","name":"set service-type","xml":"<set>\n<parameter name='template.service-type' value='`$tmp.network-input-parameters.param[$paidx].value`' />\n","comments":"","x":2944.541389465332,"y":1032.6312766075134,"z":"91bedfe2.922fa","wires":[]},{"id":"22727b16.4cf754","type":"switchNode","name":"switch total-size","xml":"<switch test=\"`$tmp.network-input-parameters.param[$paidx].name == 'total-size'`\">","comments":"","outputs":1,"x":2583.0039672851562,"y":1092.504071712494,"z":"91bedfe2.922fa","wires":[["cea79a2a.5f4858"]]},{"id":"cea79a2a.5f4858","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2770.0039672851562,"y":1088.504071712494,"z":"91bedfe2.922fa","wires":[["568f3e66.80ef2"]]},{"id":"568f3e66.80ef2","type":"set","name":"set total-size","xml":"<set>\n<parameter name='template.total-size' value='`$tmp.network-input-parameters.param[$paidx].value`' />\n","comments":"","x":2938.0039672851562,"y":1089.1040778160095,"z":"91bedfe2.922fa","wires":[]},{"id":"16e2b81c.57f1a8","type":"switchNode","name":"switch pir","xml":"<switch test=\"`$tmp.network-input-parameters.param[$paidx].name == 'pir'`\">","comments":"","outputs":1,"x":2561.004066467285,"y":1141.5041108131409,"z":"91bedfe2.922fa","wires":[["f0f66054.90f89"]]},{"id":"f0f66054.90f89","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2748.004066467285,"y":1137.5041108131409,"z":"91bedfe2.922fa","wires":[["959c927f.bbb45"]]},{"id":"959c927f.bbb45","type":"set","name":"set pir","xml":"<set>\n<parameter name='template.pir' value='`$tmp.network-input-parameters.param[$paidx].value`' />\n","comments":"","x":2916.004066467285,"y":1138.1041169166565,"z":"91bedfe2.922fa","wires":[]},{"id":"3f2a6e7b.1b7b12","type":"switchNode","name":"switch cbs","xml":"<switch test=\"`$tmp.network-input-parameters.param[$paidx].name == 'cbs'`\">","comments":"","outputs":1,"x":2562.0041007995605,"y":1192.5040354728699,"z":"91bedfe2.922fa","wires":[["8cfdbe1b.f9af7"]]},{"id":"8cfdbe1b.f9af7","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2749.0041007995605,"y":1188.5040354728699,"z":"91bedfe2.922fa","wires":[["8416ac0a.84ba"]]},{"id":"8416ac0a.84ba","type":"set","name":"set cbs","xml":"<set>\n<parameter name='template.cbs' value='`$tmp.network-input-parameters.param[$paidx].value`' />\n","comments":"","x":2917.0041007995605,"y":1189.1040415763855,"z":"91bedfe2.922fa","wires":[]},{"id":"c5be7792.660d98","type":"switchNode","name":"switch pbs","xml":"<switch test=\"`$tmp.network-input-parameters.param[$paidx].name == 'pbs'`\">","comments":"","outputs":1,"x":2558.0041007995605,"y":1247.5040354728699,"z":"91bedfe2.922fa","wires":[["77d48b70.398a54"]]},{"id":"77d48b70.398a54","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2745.0041007995605,"y":1243.5040354728699,"z":"91bedfe2.922fa","wires":[["2292252a.4c72ba"]]},{"id":"2292252a.4c72ba","type":"set","name":"set pbs","xml":"<set>\n<parameter name='template.pbs' value='`$tmp.network-input-parameters.param[$paidx].value`' />\n","comments":"","x":2913.0041007995605,"y":1244.1040415763855,"z":"91bedfe2.922fa","wires":[]},{"id":"c4ec6159.c161a","type":"switchNode","name":"switch couplingFlag","xml":"<switch test=\"`$tmp.network-input-parameters.param[$paidx].name == 'couplingFlag'`\">","comments":"","outputs":1,"x":2588.004249572754,"y":1303.5040373802185,"z":"91bedfe2.922fa","wires":[["7fb12146.f3083"]]},{"id":"7fb12146.f3083","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2775.004249572754,"y":1299.5040373802185,"z":"91bedfe2.922fa","wires":[["8df17862.a1db28"]]},{"id":"8df17862.a1db28","type":"set","name":"set couplingFlag","xml":"<set>\n<parameter name='template.couplingFlag' value='`$tmp.network-input-parameters.param[$paidx].value`' />\n","comments":"","x":2943.004249572754,"y":1300.1040434837341,"z":"91bedfe2.922fa","wires":[]},{"id":"87b2050d.891c48","type":"switchNode","name":"switch colorAware","xml":"<switch test=\"`$tmp.network-input-parameters.param[$paidx].name == 'colorAware'`\">","comments":"","outputs":1,"x":2582.004249572754,"y":1349.5040373802185,"z":"91bedfe2.922fa","wires":[["b4a5d880.33e8a8"]]},{"id":"b4a5d880.33e8a8","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2769.004249572754,"y":1345.5040373802185,"z":"91bedfe2.922fa","wires":[["e6b73f7a.54d"]]},{"id":"e6b73f7a.54d","type":"set","name":"set colorAware","xml":"<set>\n<parameter name='template.colorAware' value='`$tmp.network-input-parameters.param[$paidx].value`' />\n","comments":"","x":2937.004249572754,"y":1346.1040434837341,"z":"91bedfe2.922fa","wires":[]},{"id":"732f1f87.5620a","type":"switchNode","name":"switch diversity-policy","xml":"<switch test=\"`$tmp.network-input-parameters.param[$paidx].name == 'diversity-policy'`\">","comments":"","outputs":1,"x":2590.0044898986816,"y":1440.504102230072,"z":"91bedfe2.922fa","wires":[["6068e7d3.5d3898"]]},{"id":"6068e7d3.5d3898","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2777.0044898986816,"y":1436.504102230072,"z":"91bedfe2.922fa","wires":[["c26ebc65.6b9e6"]]},{"id":"c26ebc65.6b9e6","type":"set","name":"set diversity-policy","xml":"<set>\n<parameter name='template.diversity-policy' value='`$tmp.network-input-parameters.param[$paidx].value`' />\n","comments":"","x":2945.0044898986816,"y":1437.1041083335876,"z":"91bedfe2.922fa","wires":[]},{"id":"ea67c8f7.362028","type":"switchNode","name":"switch route-objective-function","xml":"<switch test=\"`$tmp.network-input-parameters.param[$paidx].name == 'route-objective-function'`\">","comments":"","outputs":1,"x":2619.0043983459473,"y":1389.504102230072,"z":"91bedfe2.922fa","wires":[["e437737b.d7214"]]},{"id":"e437737b.d7214","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2806.0043983459473,"y":1385.504102230072,"z":"91bedfe2.922fa","wires":[["74ef3ea6.f3f81"]]},{"id":"74ef3ea6.f3f81","type":"set","name":"set route-objective-function","xml":"<set>\n<parameter name='template.route-objective-function' value='`$tmp.network-input-parameters.param[$paidx].value`' />\n","comments":"","x":2974.0043983459473,"y":1386.1041083335876,"z":"91bedfe2.922fa","wires":[]},{"id":"733d49b7.633db8","type":"for","name":"for paidx..tmp.network-input-parameters.param_length[]","xml":"<for index='paidx' start='0' end='`$tmp.network-input-parameters.param_length`' >","comments":"","outputs":1,"x":2070.1667861938477,"y":1307.500174999237,"z":"91bedfe2.922fa","wires":[["84c2d17f.5b55"]]},{"id":"1dba7638.703c1a","type":"set","name":"set param","xml":"<set>\n<parameter name='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$cxid].name`' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$cxid].value`' />","comments":"","x":1346.7812843322754,"y":2228.0313358306885,"z":"91bedfe2.922fa","wires":[]},{"id":"f147fb85.dd0498","type":"block","name":"find-sotn-fc-port-block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":927.5313568115234,"y":602.0312833786011,"z":"91bedfe2.922fa","wires":[["fdf3e7e0.be64b8","3fed6fc6.8fcc6","3e95d3f1.93938c"]]},{"id":"fdf3e7e0.be64b8","type":"for","name":"for aidx..network-topology-operation-input.network-request-input.network-input-parameters.param[]","xml":"<for index='aidx' start='0' end='`$network-topology-operation-input.network-request-input.network-input-parameters.param_length`' >\n","comments":"","outputs":1,"x":1003.2813110351562,"y":759.031328201294,"z":"91bedfe2.922fa","wires":[["5f0b9d55.a5e084"]]},{"id":"5f0b9d55.a5e084","type":"execute","name":"contains fcport","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='contains' emitsOutcome='true' >\n    <parameter name=\"source\" value=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$aidx].name`\"/>\n    <parameter name=\"target\" value=\"fcport\"/>\n","comments":"","outputs":1,"x":862.5312728881836,"y":813.0314826965332,"z":"91bedfe2.922fa","wires":[["e4ff4af2.60dc08"]]},{"id":"e4ff4af2.60dc08","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1038.2812614440918,"y":814.0313148498535,"z":"91bedfe2.922fa","wires":[["7f41f04.a42101"]]},{"id":"7f41f04.a42101","type":"set","name":"set needOof","xml":"<set>\n<parameter name='needOof' value='true' />","comments":"","x":1208.281265258789,"y":811.0313014984131,"z":"91bedfe2.922fa","wires":[]},{"id":"3fed6fc6.8fcc6","type":"set","name":"set needOof","xml":"<set>\n<parameter name='needOof' value='false' />","comments":"","x":737.2813110351562,"y":710.0313472747803,"z":"91bedfe2.922fa","wires":[]},{"id":"3e95d3f1.93938c","type":"switchNode","name":"switch needOof","xml":"<switch test=\"`$needOof`\">\n\n","comments":"","outputs":1,"x":722.2812652587891,"y":866.0313014984131,"z":"91bedfe2.922fa","wires":[["917adf72.a6f24","11b68612.8f7a2a"]]},{"id":"a2539fc0.c8e2","type":"execute","name":"contains thirdPartySdncId","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='contains' emitsOutcome='true' >\n    <parameter name=\"source\" value=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$cxid].name`\"/>\n    <parameter name=\"target\" value=\"thirdPartySdncId\"/>\n","comments":"","outputs":1,"x":1579.2854461669922,"y":2035.0314559936523,"z":"91bedfe2.922fa","wires":[["79f3f49d.7b094c","a21a570d.c46eb8"]]},{"id":"20e1d185.90d58e","type":"execute","name":"contains templateFileName","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='contains' emitsOutcome='true' >\n    <parameter name=\"source\" value=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$cxid].name`\"/>\n    <parameter name=\"target\" value=\"templateFileName\"/>\n","comments":"","outputs":1,"x":1582.285385131836,"y":2079.0312423706055,"z":"91bedfe2.922fa","wires":[["d0a8a99e.fd9dd8","2117ee85.1f5b82"]]},{"id":"448efb74.023b24","type":"execute","name":"contains restapiUrl","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='contains' emitsOutcome='true' >\n    <parameter name=\"source\" value=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$cxid].name`\"/>\n    <parameter name=\"target\" value=\"restapiUrl\"/>\n","comments":"","outputs":1,"x":1552.2853164672852,"y":2128.03133392334,"z":"91bedfe2.922fa","wires":[["9f6948c5.2a58d8"]]},{"id":"a21a570d.c46eb8","type":"outcomeTrue","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1386.53125,"y":2083.03125,"z":"91bedfe2.922fa","wires":[["20e1d185.90d58e"]]},{"id":"2117ee85.1f5b82","type":"outcomeTrue","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1375.53125,"y":2133.03125,"z":"91bedfe2.922fa","wires":[["448efb74.023b24"]]},{"id":"b3dd1c0f.44ef8","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":1200.7813034057617,"y":2047.0313968658447,"z":"91bedfe2.922fa","wires":[["a2539fc0.c8e2","1dba7638.703c1a"]]},{"id":"b4d5e437.520198","type":"for","name":"for sIdx..service-data.networks.network[]","xml":"<for index='sIdx' start='0' end='`$service-data.networks.network_length`' >\n","comments":"","outputs":1,"x":2250.531265258789,"y":2503.03125,"z":"91bedfe2.922fa","wires":[["7c336efa.08344"]]},{"id":"7c336efa.08344","type":"switchNode","name":"switch svc-action","xml":"<switch test='`$service-data.networks.network[$sIdx].network-id == $network-topology-operation-input.network-information.network-id`'>\n","comments":"","outputs":1,"x":2541.7816162109375,"y":2498.03125,"z":"91bedfe2.922fa","wires":[["778f9e9e.7a418"]]},{"id":"778f9e9e.7a418","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2708.5321922302246,"y":2496.031280517578,"z":"91bedfe2.922fa","wires":[["a5d233a9.d2394"]]},{"id":"b08020a2.d1212","type":"set","name":"set localServiceId","xml":"<set>\n<parameter name='`$service-data.networks.network[$sIdx].network-data.network-request-input.network-input-parameters.param[$paraIndx].name`' value='localServiceId' />\n<parameter name='`$service-data.networks.network[$sIdx].network-data.network-request-input.network-input-parameters.param[$paraIndx].value`' value='`$restApi-result.output.service.uuid`' />","comments":"","x":3063.0316467285156,"y":2519.031280517578,"z":"91bedfe2.922fa","wires":[]},{"id":"672af35f.38734c","type":"set","name":"set paraIndx","xml":"<set>\n<parameter name='paraIndx' value='`$service-data.networks.network[$sIdx].network-data.network-request-input.network-input-parameters.param_length`' />","comments":"","x":3061.5313987731934,"y":2452.0313720703125,"z":"91bedfe2.922fa","wires":[]},{"id":"a5d233a9.d2394","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":2863.531280517578,"y":2486.0313415527344,"z":"91bedfe2.922fa","wires":[["672af35f.38734c","b08020a2.d1212"]]}]