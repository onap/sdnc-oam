[
  {
    "id": "50195fc6.898bb",
    "type": "comment",
    "name": "sdwan-vnf-topology-operation-device-activate",
    "info": "",
    "comments": "",
    "x": 550.00390625,
    "y": 71.00390625,
    "z": "c21457e5.a6cbc8",
    "wires": []
  },
  {
    "id": "85d78052.fe7cc",
    "type": "service-logic",
    "name": "GENERIC-RESOURCE-API 1.2.1-SNAPSHOT",
    "module": "GENERIC-RESOURCE-API",
    "version": "1.2.1-SNAPSHOT",
    "comments": "",
    "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='1.2.1-SNAPSHOT'>",
    "outputs": 1,
    "x": 229.94481658935547,
    "y": 142.0041732788086,
    "z": "c21457e5.a6cbc8",
    "wires": [
      [
        "323cadd3.27c0d2"
      ]
    ]
  },
  {
    "id": "aaa38f17.f307a",
    "type": "dgstart",
    "name": "DGSTART",
    "outputs": 1,
    "x": 150.65911102294922,
    "y": 79.76606369018555,
    "z": "c21457e5.a6cbc8",
    "wires": [
      [
        "85d78052.fe7cc"
      ]
    ]
  },
  {
    "id": "220347f8.1484e8",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 225.3257827758789,
    "y": 421.43274879455566,
    "z": "c21457e5.a6cbc8",
    "wires": [
      [
        "e6b80f71.25bd4",
        "41d21371.3482cc",
        "ede17b3a.f75148",
        "d7029e79.59672",
        "6ae18188.f2044",
        "f628964.b562168",
        "120defaf.28edc",
        "46c583fa.d0b40c",
        "139f4e2.66d6eb2",
        "a27fb783.ef2f48",
        "bcf0047f.528cc8",
        "981acfda.e23ab",
        "86570f1a.fe5e8",
        "fba2af80.f96de"
      ]
    ]
  },
  {
    "id": "41d21371.3482cc",
    "type": "returnSuccess",
    "name": "return success",
    "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
    "comments": "",
    "x": 624.9925231933594,
    "y": 1066.0995807647705,
    "z": "c21457e5.a6cbc8",
    "wires": []
  },
  {
    "id": "e6b80f71.25bd4",
    "type": "set",
    "name": "set vnf-level-oper-status to Active",
    "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-level-oper-status.order-status' value='Active' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-level-oper-status.last-rpc-action' value='`$vnf-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-level-oper-status.last-action' value='`$vnf-topology-operation-input.request-information.request-action`' />\n",
    "comments": "",
    "x": 706.472583770752,
    "y": 873.4367294311523,
    "z": "c21457e5.a6cbc8",
    "wires": []
  },
  {
    "id": "6ae18188.f2044",
    "type": "set",
    "name": "copy input data to service data",
    "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-id' value='`$vnf-topology-operation-input.vnf-information.vnf-id`' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.sdnc-request-header.' value='`$vnf-topology-operation-input.sdnc-request-header.`' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.request-information.' value='`$vnf-topology-operation-input.request-information.`' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.service-information.' value='`$vnf-topology-operation-input.service-information.`' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-information.' value='`$vnf-topology-operation-input.vnf-information.`' />\n",
    "comments": "",
    "x": 684.3257751464844,
    "y": 929.4329051971436,
    "z": "c21457e5.a6cbc8",
    "wires": []
  },
  {
    "id": "4cad5392.24fc9c",
    "type": "comment",
    "name": "make sure this VNF doesn't exist already",
    "info": "",
    "comments": "",
    "x": 1422.5162811279297,
    "y": 644.9566164016724,
    "z": "c21457e5.a6cbc8",
    "wires": []
  },
  {
    "id": "a27fb783.ef2f48",
    "type": "save",
    "name": "save deviceInstance configuration in AAI",
    "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='device' \n      key='device.id = $vnf-topology-operation-input.vnf-information.vnf-id' >\n<parameter name='id' value='`$vnf-topology-operation-input.vnf-information.vnf-id`' />\n<parameter name='device-id' value='$deviceResp[0].id' />\n<parameter name='operational-status' value='Active' />",
    "comments": "",
    "outputs": 1,
    "x": 708.6592712402344,
    "y": 979.3219051361084,
    "z": "c21457e5.a6cbc8",
    "wires": [
      []
    ]
  },
  {
    "id": "323cadd3.27c0d2",
    "type": "method",
    "name": "method sdwan-vnf-topology-operation-device-activate",
    "xml": "<method rpc='sdwan-vnf-topology-operation-device-activate' mode='sync'>\n",
    "comments": "",
    "outputs": 1,
    "x": 241.65911102294922,
    "y": 236.3524055480957,
    "z": "c21457e5.a6cbc8",
    "wires": [
      [
        "220347f8.1484e8"
      ]
    ]
  },
  {
    "id": "ede17b3a.f75148",
    "type": "set",
    "name": "set vnfId and vnf-object-path",
    "xml": "<set>\n<parameter name='vnfId' value='`$vnf-topology-operation-input.vnf-information.vnf-id`' />\n<parameter name=\"vnf-object-path\" value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'  + $vnf-topology-operation-input.service-information.service-instance-id  + '/service-data/vnfs/vnf/'  + $vnf-topology-operation-input.vnf-information.vnf-id  + '/vnf-data/'` \" />",
    "comments": "",
    "x": 687.6592254638672,
    "y": 822.352541923523,
    "z": "c21457e5.a6cbc8",
    "wires": []
  },
  {
    "id": "fba2af80.f96de",
    "type": "execute",
    "name": "execute RestApiCallNode Create Devcie Instance",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sdwan-device.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/campus/v3/devices'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"put\"/>\n<parameter name=\"responsePrefix\" value=\"deviceResp\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.openecomp.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
    "comments": "",
    "outputs": 1,
    "x": 763.1037368774414,
    "y": 649.1304225921631,
    "z": "c21457e5.a6cbc8",
    "wires": [
      [
        "1a1378b0.178537",
        "d8dd7f14.0ab02"
      ]
    ]
  },
  {
    "id": "86570f1a.fe5e8",
    "type": "execute",
    "name": "execute RestApiCallNode Get token",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/actokentemplate.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/v2/tokens'`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"token-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.openecomp.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>",
    "comments": "",
    "outputs": 1,
    "x": 717.1036605834961,
    "y": 519.1302967071533,
    "z": "c21457e5.a6cbc8",
    "wires": [
      [
        "946c47ae.42bcf8",
        "ddd15567.8fafd8"
      ]
    ]
  },
  {
    "id": "946c47ae.42bcf8",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 949.1036605834961,
    "y": 499.1302967071533,
    "z": "c21457e5.a6cbc8",
    "wires": [
      [
        "8008bf96.00803"
      ]
    ]
  },
  {
    "id": "ddd15567.8fafd8",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 941.3536605834961,
    "y": 540.7731800079346,
    "z": "c21457e5.a6cbc8",
    "wires": [
      [
        "87a9f03d.7da59"
      ]
    ]
  },
  {
    "id": "8008bf96.00803",
    "type": "set",
    "name": "set token-id",
    "xml": "<set>\n<parameter name='prop.sdncRestApi.token_id' value='`$token-result.data.token_id`' />\n",
    "comments": "",
    "x": 1086.103660583496,
    "y": 499.1302967071533,
    "z": "c21457e5.a6cbc8",
    "wires": []
  },
  {
    "id": "87a9f03d.7da59",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1067.437156677246,
    "y": 541.0192127227783,
    "z": "c21457e5.a6cbc8",
    "wires": [
      []
    ]
  },
  {
    "id": "e45b42b8.e6dbb",
    "type": "comment",
    "name": "Do Nothing",
    "info": "",
    "comments": "",
    "x": 1328.9927024841309,
    "y": 341.9080295562744,
    "z": "c21457e5.a6cbc8",
    "wires": []
  },
  {
    "id": "928cde96.7898d",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "comments": "",
    "outputs": 1,
    "x": 1189.7702026367188,
    "y": 619.0192108154297,
    "z": "c21457e5.a6cbc8",
    "wires": [
      []
    ]
  },
  {
    "id": "d1dae5c1.63a508",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Activate Device rest api\" />\n",
    "comments": "",
    "x": 1191.2147827148438,
    "y": 669.574743270874,
    "z": "c21457e5.a6cbc8",
    "wires": []
  },
  {
    "id": "d8dd7f14.0ab02",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1038.2146263122559,
    "y": 672.5746974945068,
    "z": "c21457e5.a6cbc8",
    "wires": [
      [
        "d1dae5c1.63a508"
      ]
    ]
  },
  {
    "id": "1a1378b0.178537",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1037.6591415405273,
    "y": 616.2414093017578,
    "z": "c21457e5.a6cbc8",
    "wires": [
      [
        "928cde96.7898d"
      ]
    ]
  },
  {
    "id": "f628964.b562168",
    "type": "set",
    "name": "set deviceId to service data",
    "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-request-input.vnf-input-parameters.param[$service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-request-input.vnf-input-parameters.param_length].name' value=\"deviceId\" />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-request-input.vnf-input-parameters.param[$service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-request-input.vnf-input-parameters.param_length].value' value='`$deviceResp.success[0].id`' />\n<parameter name='service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-request-input.vnf-input-parameters.param_length' value='`$service-data.vnfs.vnf[$tmp.vidx].vnf-data.vnf-request-input.vnf-input-parameters.param_length + 1`' />\n",
    "comments": "",
    "x": 693.6593780517578,
    "y": 774.3527889251709,
    "z": "c21457e5.a6cbc8",
    "wires": []
  },
  {
    "id": "cdcc0f92.40ff4",
    "type": "comment",
    "name": "URL needs to confirm.",
    "info": "",
    "comments": "",
    "x": 741.6592025756836,
    "y": 591.3525257110596,
    "z": "c21457e5.a6cbc8",
    "wires": []
  },
  {
    "id": "7d88138b.724c0c",
    "type": "comment",
    "name": "AAI resource need to update",
    "info": "",
    "comments": "",
    "x": 1019.6592254638672,
    "y": 933.352541923523,
    "z": "c21457e5.a6cbc8",
    "wires": []
  },
  {
    "id": "981acfda.e23ab",
    "type": "get-resource",
    "name": "get-resource esr-thirdparty-sdnc",
    "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = SDWANController AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.esr-thirdparty-sdnc' local-only='false' >\n\n",
    "comments": "",
    "outputs": 1,
    "x": 711.6593246459961,
    "y": 423.35251808166504,
    "z": "c21457e5.a6cbc8",
    "wires": [
      [
        "d90f92f1.56733",
        "58ca0b39.c48274",
        "871628e8.c20ff8"
      ]
    ]
  },
  {
    "id": "d90f92f1.56733",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 952.6593818664551,
    "y": 348.3524923324585,
    "z": "c21457e5.a6cbc8",
    "wires": [
      [
        "9c017cb1.5ef39"
      ]
    ]
  },
  {
    "id": "9c017cb1.5ef39",
    "type": "set",
    "name": "set controller data",
    "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.url' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.user' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.password' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n",
    "comments": "",
    "x": 1129.159423828125,
    "y": 339.35248136520386,
    "z": "c21457e5.a6cbc8",
    "wires": []
  },
  {
    "id": "58ca0b39.c48274",
    "type": "not-found",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 944.150218963623,
    "y": 396.92654037475586,
    "z": "c21457e5.a6cbc8",
    "wires": [
      [
        "48a5b30d.99482c"
      ]
    ]
  },
  {
    "id": "48a5b30d.99482c",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
    "comments": "",
    "x": 1117.7216300964355,
    "y": 385.21227645874023,
    "z": "c21457e5.a6cbc8",
    "wires": []
  },
  {
    "id": "871628e8.c20ff8",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 936.483226776123,
    "y": 438.2598533630371,
    "z": "c21457e5.a6cbc8",
    "wires": [
      [
        "59c1c9f6.0040b8"
      ]
    ]
  },
  {
    "id": "59c1c9f6.0040b8",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
    "comments": "",
    "x": 1124.2557830810547,
    "y": 433.69904613494873,
    "z": "c21457e5.a6cbc8",
    "wires": []
  },
  {
    "id": "ae195c38.253f4",
    "type": "comment",
    "name": "review and test req",
    "info": "",
    "comments": "",
    "x": 719.6592712402344,
    "y": 739.3526153564453,
    "z": "c21457e5.a6cbc8",
    "wires": []
  },
  {
    "id": "27b3b570.6d32fa",
    "type": "comment",
    "name": "tmp.thirdparty-sdnc-id to be hardcoded here?",
    "info": "",
    "comments": "",
    "x": 709.6633377075195,
    "y": 379.3564691543579,
    "z": "c21457e5.a6cbc8",
    "wires": []
  },
  {
    "id": "bcf0047f.528cc8",
    "type": "save",
    "name": "save service relationship in AAI",
    "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='service-instance:relationship-list' \n      key='service-instance.service-instance-id = $service-data.service-information.service-instance-id \n         AND customer.global-customer-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.global-customer-id \n         AND service-subscription.service-type = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.subscription-service-type' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"device\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/devices/device/' + $vnf-topology-operation-input.vnf-information.vnf-id`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"device.id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$vnf-topology-operation-input.vnf-information.vnf-id`\" />",
    "comments": "",
    "outputs": 1,
    "x": 682.6594467163086,
    "y": 1026.0994539260864,
    "z": "c21457e5.a6cbc8",
    "wires": [
      []
    ]
  },
  {
    "id": "d7029e79.59672",
    "type": "record",
    "name": "record",
    "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/svclogic.log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"Provided alloted resource length\"/>\n<parameter name=\"field3\" value=\"'parameters length'\"/>\n<parameter name=\"field4\" value='`$vnf-topology-operation-input.vnf-request-input.vnf-input-parameters.param_length`'/>\n\n\n\n",
    "comments": "",
    "outputs": 1,
    "x": 656.6591262817383,
    "y": 301.0190849304199,
    "z": "c21457e5.a6cbc8",
    "wires": [
      []
    ]
  },
  {
    "id": "120defaf.28edc",
    "type": "for",
    "name": "for vidx..service-data.vnfs.vnf_length[]",
    "xml": "<for index='vidx' start='0' end='`$service-data.vnfs.vnf_length`' >\n",
    "comments": "",
    "outputs": 1,
    "x": 744.6904144287109,
    "y": 187.0351848602295,
    "z": "c21457e5.a6cbc8",
    "wires": [
      [
        "2fb6d9ed.49aab6"
      ]
    ]
  },
  {
    "id": "2fb6d9ed.49aab6",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 993.0400085449219,
    "y": 187.57525253295898,
    "z": "c21457e5.a6cbc8",
    "wires": [
      [
        "974bf0fe.dc4fc"
      ]
    ]
  },
  {
    "id": "974bf0fe.dc4fc",
    "type": "switchNode",
    "name": "switch vnfid found",
    "xml": "<switch test=\"`$service-data.vnfs.vnf[$vidx].vnf-id == $vnf-topology-operation-input.vnf-information.vnf-id`\">\n\n",
    "comments": "",
    "outputs": 1,
    "x": 1147.1196060180664,
    "y": 187.28533458709717,
    "z": "c21457e5.a6cbc8",
    "wires": [
      [
        "82b55f94.090c5"
      ]
    ]
  },
  {
    "id": "e03d76d9.cc3a98",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1440.7171173095703,
    "y": 188.5856475830078,
    "z": "c21457e5.a6cbc8",
    "wires": [
      [
        "dd0e8d25.544ad",
        "d5fff7a1.3b1048",
        "1fe66a57.7e4926"
      ]
    ]
  },
  {
    "id": "82b55f94.090c5",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1302.0715980529785,
    "y": 188.1780138015747,
    "z": "c21457e5.a6cbc8",
    "wires": [
      [
        "e03d76d9.cc3a98"
      ]
    ]
  },
  {
    "id": "d5fff7a1.3b1048",
    "type": "set",
    "name": "set vnf-request-input.",
    "xml": "<set>\n<parameter name='vnf-request-input.' value='`$ctx.vnf-data.vnf-data.vnf-request-input.`' />\n\n",
    "comments": "",
    "x": 1682.0499725341797,
    "y": 144.58570766448975,
    "z": "c21457e5.a6cbc8",
    "wires": []
  },
  {
    "id": "dd0e8d25.544ad",
    "type": "set",
    "name": "set tmp.vidx and ctx.vnf-data",
    "xml": "<set>\n<parameter name='tmp.vidx' value='`$vidx`' />\n<parameter name='ctx.vnf-data.' value='`$service-data.vnfs.vnf[$vidx].`' />\n",
    "comments": "",
    "x": 1709.6036834716797,
    "y": 97.92807197570801,
    "z": "c21457e5.a6cbc8",
    "wires": []
  },
  {
    "id": "1fe66a57.7e4926",
    "type": "call",
    "name": "call sdwan-get-device-param",
    "xml": "<call module='GENERIC-RESOURCE-API' rpc='sdwan-get-device-param' mode='sync' >\n",
    "comments": "",
    "outputs": 1,
    "x": 1686.6904220581055,
    "y": 207.03517818450928,
    "z": "c21457e5.a6cbc8",
    "wires": [
      []
    ]
  },
  {
    "id": "46c583fa.d0b40c",
    "type": "switchNode",
    "name": "switch tmp.vidx ",
    "xml": "<switch test=\"`$tmp.vidx`\">\n\n",
    "comments": "",
    "outputs": 1,
    "x": 675.690299987793,
    "y": 248.03515625,
    "z": "c21457e5.a6cbc8",
    "wires": [
      [
        "47e07fa8.46bc3"
      ]
    ]
  },
  {
    "id": "47e07fa8.46bc3",
    "type": "outcome",
    "name": "NULL",
    "xml": "<outcome value=''>\n",
    "comments": "",
    "outputs": 1,
    "x": 823.1189422607422,
    "y": 247.60656642913818,
    "z": "c21457e5.a6cbc8",
    "wires": [
      [
        "b8303d6e.293f7"
      ]
    ]
  },
  {
    "id": "b8303d6e.293f7",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"vnf-topology-operation-input.vnf-request-input.vnf-id not found in service-data\" />\n",
    "comments": "",
    "x": 972.5476684570312,
    "y": 248.74948406219482,
    "z": "c21457e5.a6cbc8",
    "wires": []
  },
  {
    "id": "139f4e2.66d6eb2",
    "type": "execute",
    "name": "execute Properties",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
    "comments": "",
    "outputs": 1,
    "x": 670.690299987793,
    "y": 344.03515625,
    "z": "c21457e5.a6cbc8",
    "wires": [
      []
    ]
  }
]
