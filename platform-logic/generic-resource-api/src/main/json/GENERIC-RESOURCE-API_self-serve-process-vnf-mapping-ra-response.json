[{"id":"b3b7b17.a4cf05","type":"switchNode","name":"switch resolution-summary[].status = success AND value = null","xml":"<switch test=\"`$jsonContextPrefix.resolution-summary[$vdns-index].status == 'success' and\n\t\t$jsonContextPrefix.resolution-summary[$vdns-index].value == ''`\">\n","comments":"","outputs":1,"x":1881.7142639160156,"y":732.8571920394897,"z":"4276bad6.5195b4","wires":[["d701bdbd.beb0d","17485c32.a81d94"]]},{"id":"f66d629.78875a","type":"dgstart","name":"DGSTART","outputs":1,"x":176,"y":81.42857360839844,"z":"4276bad6.5195b4","wires":[["8b2dd27a.adc2c"]]},{"id":"8b2dd27a.adc2c","type":"service-logic","name":"GENERIC-RESOURCE-API ${project.version}","module":"GENERIC-RESOURCE-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>","outputs":1,"x":452,"y":82.42857360839844,"z":"4276bad6.5195b4","wires":[["b026238d.9ecac"]]},{"id":"b026238d.9ecac","type":"method","name":"self-self-serve-process-vnf-mapping-ra-response","xml":"<method rpc='self-serve-process-vnf-mapping-ra-response' mode='sync'>\n","comments":"","outputs":1,"x":349.0000305175781,"y":147.42857837677002,"z":"4276bad6.5195b4","wires":[["556d8ea4.6317a"]]},{"id":"556d8ea4.6317a","type":"block","name":"block atomic","xml":"<block atomic=\"true\">\n","atomic":"false","comments":"","outputs":1,"x":287.4880561828613,"y":270.44049644470215,"z":"4276bad6.5195b4","wires":[["288d3750.8f6c98","85050515.7d57b8","beae62cb.256a8","b9daffd4.9aec6","37f8f45b.488b7c"]]},{"id":"288d3750.8f6c98","type":"for","name":"for resolution-summary[]","xml":"<for silentFailure='true'  index='vdns-index' start='0' end='`$jsonContextPrefix.resolution-summary_length`' >\n","comments":"","outputs":1,"x":569.4881134033203,"y":562.0119581222534,"z":"4276bad6.5195b4","wires":[["da8bb3c8.9c1fc"]]},{"id":"d937240e.1da0b8","type":"set","name":" Set resolution-summary[].name to param[].name","xml":"<set>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$highnum].name`' \n\tvalue='`$jsonContextPrefix.resolution-summary[$vdns-index].name`'/>","comments":"","x":1835.9880981445312,"y":644.2619752883911,"z":"4276bad6.5195b4","wires":[]},{"id":"92cd85c1.a2cfb8","type":"for","name":"for vnf-parameters-data.param","xml":"<for silentFailure='true' index='param-index' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param_length`' >\n","comments":"","outputs":1,"x":1472.7381210327148,"y":561.0119733810425,"z":"4276bad6.5195b4","wires":[["cb368506.6b9018"]]},{"id":"da8bb3c8.9c1fc","type":"block","name":"block atomic","xml":"<block atomic=\"true\">","atomic":"false","comments":"","outputs":1,"x":797.488094329834,"y":561.7619743347168,"z":"4276bad6.5195b4","wires":[["4918f3c5.4c6dac","da814a7.c90b7b8","8431c21f.5631e"]]},{"id":"cb368506.6b9018","type":"switchNode","name":"switch param[].name == resolution-summary[].name","xml":"<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$param-index].name == $jsonContextPrefix.resolution-summary[$vdns-index].name`'>\n","comments":"","outputs":1,"x":1876.7381210327148,"y":561.0119733810425,"z":"4276bad6.5195b4","wires":[["1ad83ecf.a600d1"]]},{"id":"1ad83ecf.a600d1","type":"not-found","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2182.738121032715,"y":561.0119733810425,"z":"4276bad6.5195b4","wires":[["d65c017.f3eff"]]},{"id":"abb690b3.913df","type":"set","name":"set param[].value = resolution-summary[].value","xml":"<set>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$param-index].value`' \n\tvalue='`$jsonContextPrefix.resolution-summary[$vdns-index].value`'/>\n","comments":"","x":2610.73823928833,"y":529.2619733810425,"z":"4276bad6.5195b4","wires":[]},{"id":"8431c21f.5631e","type":"switchNode","name":"switch tmp.mso.param.found","xml":"<switch test='`$tmp.mso.param.found`'>\n","comments":"","outputs":1,"x":1043.4880981445312,"y":643.7619752883911,"z":"4276bad6.5195b4","wires":[["d22bec07.6c625"]]},{"id":"d22bec07.6c625","type":"not-found","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1270.9880981445312,"y":643.2619752883911,"z":"4276bad6.5195b4","wires":[["699f9e40.5bd87"]]},{"id":"4918f3c5.4c6dac","type":"set","name":"set tmp.mso.param.found = false","xml":"<set>\n<parameter name='tmp.mso.param.found' value='false' />\n","comments":"","x":1059.4880828857422,"y":484.0119867324829,"z":"4276bad6.5195b4","wires":[]},{"id":"da814a7.c90b7b8","type":"switchNode","name":"switch prehighnum > 0","xml":"<switch test='`$prehighnum &gt; 0`'>\n","comments":"","outputs":1,"x":1023.988094329834,"y":561.7619743347168,"z":"4276bad6.5195b4","wires":[["5791c897.46c6a8"]]},{"id":"5791c897.46c6a8","type":"not-found","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1238.5237464904785,"y":561.5834169387817,"z":"4276bad6.5195b4","wires":[["92cd85c1.a2cfb8"]]},{"id":"699f9e40.5bd87","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1447.9880981445312,"y":643.2619752883911,"z":"4276bad6.5195b4","wires":[["d937240e.1da0b8","232879b6.163346","efacaad4.555498","fd41e789.517c08","b3b7b17.a4cf05","db16c4cc.3b4428"]]},{"id":"232879b6.163346","type":"set","name":"highnum++","xml":"<set>\n\t<parameter name='highnum' value='`$highnum + 1`' />\n","comments":"","x":1705.7499504089355,"y":1098.5596466064453,"z":"4276bad6.5195b4","wires":[]},{"id":"85050515.7d57b8","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"DONE: self-serve-process-vnf-mapping-ra-response\"/>\n\n","comments":"","outputs":1,"x":473.07144927978516,"y":1108.6786251068115,"z":"4276bad6.5195b4","wires":[[]]},{"id":"beae62cb.256a8","type":"switchNode","name":"switch resolution-summary_length","xml":"<switch test='`$jsonContextPrefix.resolution-summary_length`'>\n","comments":"","outputs":1,"x":598.3214263916016,"y":320.3571615219116,"z":"4276bad6.5195b4","wires":[["8f020a50.57ac18"]]},{"id":"8f020a50.57ac18","type":"not-found","name":"NULL","xml":"<outcome value=''>\n","comments":"","outputs":1,"x":841.1785430908203,"y":319.78574657440186,"z":"4276bad6.5195b4","wires":[["bd1e0ff1.684ab"]]},{"id":"bd1e0ff1.684ab","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"resolution-summary is null\" />\n","comments":"","x":1014.3214416503906,"y":319.92859172821045,"z":"4276bad6.5195b4","wires":[]},{"id":"77f1589c.3d8298","type":"comment","name":"vdns-index","info":"","comments":"","x":605.2142868041992,"y":521.2500410079956,"z":"4276bad6.5195b4","wires":[]},{"id":"640806f0.8c75b8","type":"comment","name":"param-index","info":"","comments":"","x":1513.9643096923828,"y":520.2500400543213,"z":"4276bad6.5195b4","wires":[]},{"id":"9182d93d.367368","type":"set","name":"set tmp.mso.param.found = true","xml":"<set>\n<parameter name='tmp.mso.param.found' value='true' />\n","comments":"","x":2551.964309692383,"y":593.5000448226929,"z":"4276bad6.5195b4","wires":[]},{"id":"d65c017.f3eff","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":2320.964309692383,"y":560.5000429153442,"z":"4276bad6.5195b4","wires":[["abb690b3.913df","9182d93d.367368"]]},{"id":"1813a516.38f77b","type":"set","name":"set request-payload","xml":"<set>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$highnum].resource-resolution-data.payload`' \n\tvalue='`$jsonContextPrefix.resolution-summary[$vdns-index].request-payload`'/>\n\n","comments":"","x":1787.2976760864258,"y":1033.69047164917,"z":"4276bad6.5195b4","wires":[]},{"id":"3eae73b2.e92d1c","type":"comment","name":"from RA response","info":"","comments":"","x":636.4642639160156,"y":288.750018119812,"z":"4276bad6.5195b4","wires":[]},{"id":"4df01056.646ae","type":"comment","name":"Overwrite MSO input with RA response","info":"","comments":"","x":2126.4642944335938,"y":501.2500238418579,"z":"4276bad6.5195b4","wires":[]},{"id":"b9daffd4.9aec6","type":"set","name":"set service-data...param_length","xml":"<set>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param_length`' \n\tvalue='`$highnum`'/>\n","comments":"","x":562.2856903076172,"y":1055.5357275009155,"z":"4276bad6.5195b4","wires":[]},{"id":"30ee057c.d6701a","type":"comment","name":"NEW param from RA response","info":"","comments":"","x":1343.9642791748047,"y":610.0000257492065,"z":"4276bad6.5195b4","wires":[]},{"id":"efacaad4.555498","type":"set","name":"set resource-resolution-data.resource-key_length","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$highnum].resource-resolution-data.resource-key_length' \n\tvalue='`$jsonContextPrefix.resolution-summary[$vdns-index].key-identifiers_length`' />\n","comments":"","x":1834.606918334961,"y":957.1825046539307,"z":"4276bad6.5195b4","wires":[]},{"id":"fd41e789.517c08","type":"set","name":" set status, capability-name = dictionary-source","xml":"<set>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$highnum].resource-resolution-data.capability-name`' \n\tvalue='`$jsonContextPrefix.resolution-summary[$vdns-index].dictionary-source`'/>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$highnum].resource-resolution-data.status`' \n\tvalue='`$jsonContextPrefix.resolution-summary[$vdns-index].status`'/>\t","comments":"","x":1828.3216094970703,"y":894.4642705917358,"z":"4276bad6.5195b4","wires":[]},{"id":"d701bdbd.beb0d","type":"not-found","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2233.142776489258,"y":696.7142562866211,"z":"4276bad6.5195b4","wires":[["6ce79210.3b4d9c"]]},{"id":"6ce79210.3b4d9c","type":"set","name":" Set param[].value = success","xml":"<set>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$highnum].value`' \n\tvalue='`$CONSTANT`'/>","comments":"","x":2460.285690307617,"y":697.1428308486938,"z":"4276bad6.5195b4","wires":[]},{"id":"37f8f45b.488b7c","type":"set","name":"set CONSTANT = success","xml":"<set>\n<parameter name='CONSTANT' value='success'/>\n\n","comments":"","x":568.8572082519531,"y":412.8571720123291,"z":"4276bad6.5195b4","wires":[]},{"id":"17485c32.a81d94","type":"not-found","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":2233.857177734375,"y":758.5714111328125,"z":"4276bad6.5195b4","wires":[["418ccfbe.d6722"]]},{"id":"418ccfbe.d6722","type":"set","name":" Set resolution-summary[].value to param[].value","xml":"<set>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$highnum].value`' \n\tvalue='`$jsonContextPrefix.resolution-summary[$vdns-index].value`'/>","comments":"","x":2533.1427841186523,"y":757.714298248291,"z":"4276bad6.5195b4","wires":[]},{"id":"db16c4cc.3b4428","type":"for","name":"for key-identifiers[]","xml":"<for silentFailure='true'  index='kid-index' start='0' end='`$jsonContextPrefix.resolution-summary[$vdns-index].key-identifiers_length`' >\n","comments":"","outputs":1,"x":1729.4286193847656,"y":837.1428146362305,"z":"4276bad6.5195b4","wires":[["24565c97.90a504"]]},{"id":"24565c97.90a504","type":"set","name":"set resource-key[] to key-identifiers[] ","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$highnum].resource-resolution-data.resource-key[$kid-index].name' \n\tvalue='`$jsonContextPrefix.resolution-summary[$vdns-index].key-identifiers[$kid-index].name`'/>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$highnum].resource-resolution-data.resource-key[$kid-index].value' \n\tvalue='`$jsonContextPrefix.resolution-summary[$vdns-index].key-identifiers[$kid-index].value`'/>\n","comments":"","x":2029.1786499023438,"y":837.3928241729736,"z":"4276bad6.5195b4","wires":[]}]