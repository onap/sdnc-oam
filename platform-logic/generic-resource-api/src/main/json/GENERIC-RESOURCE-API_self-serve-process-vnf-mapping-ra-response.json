[{"id":"9b6d371e.c6a5b8","type":"dgstart","name":"DGSTART","outputs":1,"x":97.10714721679688,"y":35.357144355773926,"z":"cc8da33a.a3512","wires":[["7f9c939d.f0fa3c"]]},{"id":"7f9c939d.f0fa3c","type":"service-logic","name":"GENERIC-RESOURCE-API ${project.version}","module":"GENERIC-RESOURCE-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>","outputs":1,"x":373.1071472167969,"y":36.357144355773926,"z":"cc8da33a.a3512","wires":[["3727034d.b6c80c"]]},{"id":"3727034d.b6c80c","type":"method","name":"self-self-serve-process-vnf-mapping-ra-response","xml":"<method rpc='self-serve-process-vnf-mapping-ra-response' mode='sync'>\n","comments":"","outputs":1,"x":270.107177734375,"y":101.35714912414551,"z":"cc8da33a.a3512","wires":[["e0df88c8.a19d48"]]},{"id":"e0df88c8.a19d48","type":"block","name":"block atomic","xml":"<block atomic=\"true\">\n","atomic":"false","comments":"","outputs":1,"x":208.5952033996582,"y":224.36906719207764,"z":"cc8da33a.a3512","wires":[["1a6fb0cb.d8582f","e44bd144.de106","54667cf1.053ed4","7110110c.690ce"]]},{"id":"1a6fb0cb.d8582f","type":"for","name":"for resolution-summary[]","xml":"<for silentFailure='true'  index='vdns-index' start='0' end='`$jsonContextPrefix.resolution-summary_length`' >\n","comments":"","outputs":1,"x":490.5952606201172,"y":515.9405288696289,"z":"cc8da33a.a3512","wires":[["c84e9ab4.fb63b8"]]},{"id":"6216191d.a6c8b8","type":"set","name":" ADD resolution-summary[].name/value to param[]","xml":"<set>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$highnum].name`' \n\tvalue='`$jsonContextPrefix.resolution-summary[$vdns-index].name`'/>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$highnum].value`' \n\tvalue='`$jsonContextPrefix.resolution-summary[$vdns-index].value`'/>","comments":"","x":1723.0952453613281,"y":598.1905460357666,"z":"cc8da33a.a3512","wires":[]},{"id":"f0431561.d17b88","type":"for","name":"for vnf-parameters-data.param","xml":"<for silentFailure='true' index='param-index' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param_length`' >\n","comments":"","outputs":1,"x":1393.8452682495117,"y":514.940544128418,"z":"cc8da33a.a3512","wires":[["f790a097.1441e"]]},{"id":"c84e9ab4.fb63b8","type":"block","name":"block atomic","xml":"<block atomic=\"true\">","atomic":"false","comments":"","outputs":1,"x":718.5952415466309,"y":515.6905450820923,"z":"cc8da33a.a3512","wires":[["1b143473.01604c","3e6e808e.4055b","25045112.d8e58e"]]},{"id":"f790a097.1441e","type":"switchNode","name":"switch param[].name == resolution-summary[].name","xml":"<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$param-index].name == $jsonContextPrefix.resolution-summary[$vdns-index].name`'>\n","comments":"","outputs":1,"x":1797.8452682495117,"y":514.940544128418,"z":"cc8da33a.a3512","wires":[["e152f6a8.7c7ea8"]]},{"id":"e152f6a8.7c7ea8","type":"not-found","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2103.8452682495117,"y":514.940544128418,"z":"cc8da33a.a3512","wires":[["1a4f635d.5cf1ed"]]},{"id":"f2314be8.6e5f98","type":"set","name":"set param[].value = resolution-summary[].value","xml":"<set>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$param-index].value`' \n\tvalue='`$jsonContextPrefix.resolution-summary[$vdns-index].value`'/>\n","comments":"","x":2531.845386505127,"y":483.19054412841797,"z":"cc8da33a.a3512","wires":[]},{"id":"25045112.d8e58e","type":"switchNode","name":"switch tmp.mso.param.found","xml":"<switch test='`$tmp.mso.param.found`'>\n","comments":"","outputs":1,"x":964.5952453613281,"y":597.6905460357666,"z":"cc8da33a.a3512","wires":[["94e253dc.b5579"]]},{"id":"94e253dc.b5579","type":"not-found","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1192.0952453613281,"y":597.1905460357666,"z":"cc8da33a.a3512","wires":[["26faed4e.1937b2"]]},{"id":"1b143473.01604c","type":"set","name":"set tmp.mso.param.found = false","xml":"<set>\n<parameter name='tmp.mso.param.found' value='false' />\n","comments":"","x":980.5952301025391,"y":437.9405574798584,"z":"cc8da33a.a3512","wires":[]},{"id":"3e6e808e.4055b","type":"switchNode","name":"switch prehighnum > 0","xml":"<switch test='`$prehighnum &gt; 0`'>\n","comments":"","outputs":1,"x":945.0952415466309,"y":515.6905450820923,"z":"cc8da33a.a3512","wires":[["dcd8c396.2a136"]]},{"id":"dcd8c396.2a136","type":"not-found","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1159.6308937072754,"y":515.5119876861572,"z":"cc8da33a.a3512","wires":[["f0431561.d17b88"]]},{"id":"26faed4e.1937b2","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1369.0952453613281,"y":597.1905460357666,"z":"cc8da33a.a3512","wires":[["6216191d.a6c8b8","7c581d08.c049e4","be14dceb.d566f","86226715.4e4188","ab22106f.33c1c","2368af4a.13c2e"]]},{"id":"7c581d08.c049e4","type":"set","name":"highnum++","xml":"<set>\n\t<parameter name='highnum' value='`$highnum + 1`' />\n","comments":"","x":1591.1427917480469,"y":903.9167537689209,"z":"cc8da33a.a3512","wires":[]},{"id":"e44bd144.de106","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"DONE: self-serve-process-vnf-mapping-ra-response\"/>\n\n","comments":"","outputs":1,"x":394.17859649658203,"y":1062.607195854187,"z":"cc8da33a.a3512","wires":[[]]},{"id":"54667cf1.053ed4","type":"switchNode","name":"switch resolution-summary_length","xml":"<switch test='`$jsonContextPrefix.resolution-summary_length`'>\n","comments":"","outputs":1,"x":519.4285736083984,"y":274.2857322692871,"z":"cc8da33a.a3512","wires":[["36a8b4bd.a72a1c"]]},{"id":"36a8b4bd.a72a1c","type":"not-found","name":"NULL","xml":"<outcome value=''>\n","comments":"","outputs":1,"x":762.2856903076172,"y":273.71431732177734,"z":"cc8da33a.a3512","wires":[["3a0dd12b.637d2e"]]},{"id":"3a0dd12b.637d2e","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"resolution-summary is null\" />\n","comments":"","x":935.4285888671875,"y":273.85716247558594,"z":"cc8da33a.a3512","wires":[]},{"id":"45a63cd6.8d9584","type":"comment","name":"vdns-index","info":"","comments":"","x":522.3214340209961,"y":475.1786117553711,"z":"cc8da33a.a3512","wires":[]},{"id":"d89f51f0.383af","type":"comment","name":"param-index","info":"","comments":"","x":1431.0714569091797,"y":474.1786108016968,"z":"cc8da33a.a3512","wires":[]},{"id":"1d850d86.e6c312","type":"set","name":"set tmp.mso.param.found = true","xml":"<set>\n<parameter name='tmp.mso.param.found' value='true' />\n","comments":"","x":2473.0714569091797,"y":547.4286155700684,"z":"cc8da33a.a3512","wires":[]},{"id":"1a4f635d.5cf1ed","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":2242.0714569091797,"y":514.4286136627197,"z":"cc8da33a.a3512","wires":[["f2314be8.6e5f98","1d850d86.e6c312"]]},{"id":"be14dceb.d566f","type":"switchNode","name":"switch dictionary-source","xml":"<switch test='`$jsonContextPrefix.resolution-summary[$vdns-index].dictionary-source`'>\n","comments":"","outputs":1,"x":1629.0714416503906,"y":683.9285984039307,"z":"cc8da33a.a3512","wires":[["3354f65c.fa1afa"]]},{"id":"3354f65c.fa1afa","type":"other","name":"sdnc","xml":"<outcome value='sdnc'>\n","comments":"","outputs":1,"x":1834.8214378356934,"y":681.4285984039307,"z":"cc8da33a.a3512","wires":[["4895fd88.d96874"]]},{"id":"55bbac42.e84034","type":"comment","name":"capability","info":"","comments":"","x":1853.5714416503906,"y":645.178596496582,"z":"cc8da33a.a3512","wires":[]},{"id":"4895fd88.d96874","type":"for","name":"for key-identifiers[]","xml":"<for silentFailure='true'  index='kid-index' start='0' end='`$jsonContextPrefix.resolution-summary[$vdns-index].key-identifiers_length`' >\n","comments":"","outputs":1,"x":2026.0714111328125,"y":681.4285888671875,"z":"cc8da33a.a3512","wires":[["7ef33d35.752214"]]},{"id":"7ef33d35.752214","type":"set","name":"set resource-key[] to key-identifiers[] ","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$highnum].resource-resolution-data.resource-key[$kid-index].name' \n\tvalue='`$jsonContextPrefix.resolution-summary[$vdns-index].key-identifiers[$kid-index].name`'/>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$highnum].resource-resolution-data.resource-key[$kid-index].value' \n\tvalue='`$jsonContextPrefix.resolution-summary[$vdns-index].key-identifiers[$kid-index].value`'/>\n","comments":"","x":2323.8214416503906,"y":681.6785984039307,"z":"cc8da33a.a3512","wires":[]},{"id":"86226715.4e4188","type":"set","name":"set request-payload","xml":"<set>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$highnum].resource-resolution-data.payload`' \n\tvalue='`$jsonContextPrefix.resolution-summary[$vdns-index].request-payload`'/>\n\n","comments":"","x":1614.4047546386719,"y":794.7619495391846,"z":"cc8da33a.a3512","wires":[]},{"id":"5ec89dda.1924b4","type":"comment","name":"from RA response","info":"","comments":"","x":553.5714111328125,"y":242.6785888671875,"z":"cc8da33a.a3512","wires":[]},{"id":"c0f71bea.1b3e78","type":"comment","name":"Overwrite MSO input with RA response","info":"","comments":"","x":2043.5714416503906,"y":455.1785945892334,"z":"cc8da33a.a3512","wires":[]},{"id":"ab22106f.33c1c","type":"set","name":"set param[].status and capability-name","xml":"<set>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$highnum].resource-resolution-data.capability-name`' \n\tvalue='RA Resolved'/>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$highnum].resource-resolution-data.status`' \n\tvalue='`$jsonContextPrefix.payload.resolution-summary[$vdns-index].status`'/>","comments":"","x":1685.6547622680664,"y":849.7619514465332,"z":"cc8da33a.a3512","wires":[]},{"id":"7110110c.690ce","type":"set","name":"set service-data...param_length","xml":"<set>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param_length`' \n\tvalue='`$highnum`'/>\n","comments":"","x":483.39283752441406,"y":1009.464298248291,"z":"cc8da33a.a3512","wires":[]},{"id":"c8a2bad.7897e48","type":"comment","name":"NEW param from RA response","info":"","comments":"","x":1261.0714263916016,"y":563.928596496582,"z":"cc8da33a.a3512","wires":[]},{"id":"2368af4a.13c2e","type":"set","name":"set resource-resolution-data.resource-key_length","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$highnum].resource-resolution-data.resource-key_length' \n\tvalue='`$jsonContextPrefix.resolution-summary[$vdns-index].key-identifiers_length`' />\n","comments":"","x":1718.5712814331055,"y":742.5396614074707,"z":"cc8da33a.a3512","wires":[]}]