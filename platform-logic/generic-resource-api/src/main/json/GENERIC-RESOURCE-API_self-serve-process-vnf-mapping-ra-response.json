[{"id":"3ac8196c.8fb0f6","type":"dgstart","name":"DGSTART","outputs":1,"x":126.25,"y":61.25,"z":"551b662f.7d7298","wires":[["f6f8f9de.56f358"]]},{"id":"f6f8f9de.56f358","type":"service-logic","name":"GENERIC-RESOURCE-API ${project.version}","module":"GENERIC-RESOURCE-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>","outputs":1,"x":402.25,"y":62.25,"z":"551b662f.7d7298","wires":[["c20fe3f9.92048"]]},{"id":"c20fe3f9.92048","type":"method","name":"self-self-serve-process-vnf-mapping-ra-response","xml":"<method rpc='self-serve-process-vnf-mapping-ra-response' mode='sync'>\n","comments":"","outputs":1,"x":299.2500305175781,"y":127.25000476837158,"z":"551b662f.7d7298","wires":[["9247082.1922ef8"]]},{"id":"9247082.1922ef8","type":"block","name":"block atomic","xml":"<block atomic=\"true\">\n","atomic":"false","comments":"","outputs":1,"x":237.73805618286133,"y":250.2619228363037,"z":"551b662f.7d7298","wires":[["68dd23cb.06097c","71fa910.8f2067","eaa46b7f.c15278","aeabb68e.f51168"]]},{"id":"68dd23cb.06097c","type":"for","name":"for resolution-summary[]","xml":"<for silentFailure='true'  index='vdns-index' start='0' end='`$jsonContextPrefix.resolution-summary_length`' >\n","comments":"","outputs":1,"x":519.7381134033203,"y":541.833384513855,"z":"551b662f.7d7298","wires":[["da76af9.2d4a05"]]},{"id":"1ccb09ad.b434b6","type":"set","name":" ADD resolution-summary[].name/value to param[]","xml":"<set>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$highnum].name`' \n\tvalue='`$jsonContextPrefix.resolution-summary[$vdns-index].name`'/>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$highnum].value`' \n\tvalue='`$jsonContextPrefix.resolution-summary[$vdns-index].value`'/>","comments":"","x":1786.2380981445312,"y":624.0834016799927,"z":"551b662f.7d7298","wires":[]},{"id":"a1d640da.95bda","type":"for","name":"for vnf-parameters-data.param","xml":"<for silentFailure='true' index='param-index' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param_length`' >\n","comments":"","outputs":1,"x":1422.9881210327148,"y":540.833399772644,"z":"551b662f.7d7298","wires":[["4329c418.10b55c"]]},{"id":"da76af9.2d4a05","type":"block","name":"block atomic","xml":"<block atomic=\"true\">","atomic":"false","comments":"","outputs":1,"x":747.738094329834,"y":541.5834007263184,"z":"551b662f.7d7298","wires":[["effe1903.163ec8","ed323bb9.d00bb8","b1216ac0.f868c8"]]},{"id":"4329c418.10b55c","type":"switchNode","name":"switch param[].name == resolution-summary[].name","xml":"<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$param-index].name == $jsonContextPrefix.resolution-summary[$vdns-index].name`'>\n","comments":"","outputs":1,"x":1826.9881210327148,"y":540.833399772644,"z":"551b662f.7d7298","wires":[["930d1042.b7bdb"]]},{"id":"930d1042.b7bdb","type":"not-found","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2132.988121032715,"y":540.833399772644,"z":"551b662f.7d7298","wires":[["f2ebb02e.be778"]]},{"id":"e57d9b2b.c5ccc8","type":"set","name":"set param[].value = resolution-summary[].value","xml":"<set>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$param-index].value`' \n\tvalue='`$jsonContextPrefix.resolution-summary[$vdns-index].value`'/>\n","comments":"","x":2560.98823928833,"y":509.08339977264404,"z":"551b662f.7d7298","wires":[]},{"id":"b1216ac0.f868c8","type":"switchNode","name":"switch tmp.mso.param.found","xml":"<switch test='`$tmp.mso.param.found`'>\n","comments":"","outputs":1,"x":993.7380981445312,"y":623.5834016799927,"z":"551b662f.7d7298","wires":[["22c9419d.fe1ace"]]},{"id":"22c9419d.fe1ace","type":"not-found","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1221.2380981445312,"y":623.0834016799927,"z":"551b662f.7d7298","wires":[["b583a30f.bb05"]]},{"id":"effe1903.163ec8","type":"set","name":"set tmp.mso.param.found = false","xml":"<set>\n<parameter name='tmp.mso.param.found' value='false' />\n","comments":"","x":1009.7380828857422,"y":463.8334131240845,"z":"551b662f.7d7298","wires":[]},{"id":"ed323bb9.d00bb8","type":"switchNode","name":"switch prehighnum > 0","xml":"<switch test='`$prehighnum &gt; 0`'>\n","comments":"","outputs":1,"x":974.238094329834,"y":541.5834007263184,"z":"551b662f.7d7298","wires":[["2c2d3b60.278684"]]},{"id":"2c2d3b60.278684","type":"not-found","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1188.7737464904785,"y":541.4048433303833,"z":"551b662f.7d7298","wires":[["a1d640da.95bda"]]},{"id":"b583a30f.bb05","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1398.2380981445312,"y":623.0834016799927,"z":"551b662f.7d7298","wires":[["1ccb09ad.b434b6","59e3a761.fa3f18","11d5c1d1.7f257e","b0496541.0cf478","96019345.2acd4"]]},{"id":"59e3a761.fa3f18","type":"set","name":"highnum++","xml":"<set>\n\t<parameter name='highnum' value='`$highnum + 1`' />\n","comments":"","x":1653.1430053710938,"y":886.9525337219238,"z":"551b662f.7d7298","wires":[]},{"id":"71fa910.8f2067","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"DONE: self-serve-process-vnf-mapping-ra-response\"/>\n\n","comments":"","outputs":1,"x":423.32144927978516,"y":1088.500051498413,"z":"551b662f.7d7298","wires":[[]]},{"id":"eaa46b7f.c15278","type":"switchNode","name":"switch resolution-summary_length","xml":"<switch test='`$jsonContextPrefix.resolution-summary_length`'>\n","comments":"","outputs":1,"x":548.5714263916016,"y":300.1785879135132,"z":"551b662f.7d7298","wires":[["6163bd19.e66654"]]},{"id":"6163bd19.e66654","type":"not-found","name":"NULL","xml":"<outcome value=''>\n","comments":"","outputs":1,"x":791.4285430908203,"y":299.6071729660034,"z":"551b662f.7d7298","wires":[["6d3de81b.ec24d8"]]},{"id":"6d3de81b.ec24d8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"resolution-summary is null\" />\n","comments":"","x":964.5714416503906,"y":299.750018119812,"z":"551b662f.7d7298","wires":[]},{"id":"4684d382.aa8ffc","type":"comment","name":"vdns-index","info":"","comments":"","x":551.4642868041992,"y":501.07146739959717,"z":"551b662f.7d7298","wires":[]},{"id":"9e76ee1.e86481","type":"comment","name":"param-index","info":"","comments":"","x":1460.2143096923828,"y":500.07146644592285,"z":"551b662f.7d7298","wires":[]},{"id":"e84bffc3.779a","type":"set","name":"set tmp.mso.param.found = true","xml":"<set>\n<parameter name='tmp.mso.param.found' value='true' />\n","comments":"","x":2502.214309692383,"y":573.3214712142944,"z":"551b662f.7d7298","wires":[]},{"id":"f2ebb02e.be778","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":2271.214309692383,"y":540.3214693069458,"z":"551b662f.7d7298","wires":[["e57d9b2b.c5ccc8","e84bffc3.779a"]]},{"id":"96019345.2acd4","type":"for","name":"for key-identifiers[]","xml":"<for silentFailure='true'  index='kid-index' start='0' end='`$jsonContextPrefix.resolution-summary[$vdns-index].key-identifiers_length`' >\n","comments":"","outputs":1,"x":1676.6430053710938,"y":725.8928451538086,"z":"551b662f.7d7298","wires":[["ef34ac1a.4a62"]]},{"id":"ef34ac1a.4a62","type":"set","name":"set resource-key[] to key-identifiers[] ","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$highnum].resource-resolution-data.resource-key[$kid-index].name' \n\tvalue='`$jsonContextPrefix.resolution-summary[$vdns-index].key-identifiers[$kid-index].name`'/>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$highnum].resource-resolution-data.resource-key[$kid-index].value' \n\tvalue='`$jsonContextPrefix.resolution-summary[$vdns-index].key-identifiers[$kid-index].value`'/>\n","comments":"","x":1974.3930358886719,"y":726.1428546905518,"z":"551b662f.7d7298","wires":[]},{"id":"5c05d5fc.85169c","type":"set","name":"set request-payload","xml":"<set>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$highnum].resource-resolution-data.payload`' \n\tvalue='`$jsonContextPrefix.resolution-summary[$vdns-index].request-payload`'/>\n\n","comments":"","x":1780.6906280517578,"y":834.9405727386475,"z":"551b662f.7d7298","wires":[]},{"id":"631ac794.3594b8","type":"comment","name":"from RA response","info":"","comments":"","x":582.7142639160156,"y":268.5714445114136,"z":"551b662f.7d7298","wires":[]},{"id":"e06d97bd.7c1bf8","type":"comment","name":"Overwrite MSO input with RA response","info":"","comments":"","x":2072.7142944335938,"y":481.0714502334595,"z":"551b662f.7d7298","wires":[]},{"id":"aeabb68e.f51168","type":"set","name":"set service-data...param_length","xml":"<set>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param_length`' \n\tvalue='`$highnum`'/>\n","comments":"","x":512.5356903076172,"y":1035.357153892517,"z":"551b662f.7d7298","wires":[]},{"id":"d97f37df.4fea28","type":"comment","name":"NEW param from RA response","info":"","comments":"","x":1290.2142791748047,"y":589.8214521408081,"z":"551b662f.7d7298","wires":[]},{"id":"11d5c1d1.7f257e","type":"set","name":"set resource-resolution-data.resource-key_length","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$highnum].resource-resolution-data.resource-key_length' \n\tvalue='`$jsonContextPrefix.resolution-summary[$vdns-index].key-identifiers_length`' />\n","comments":"","x":1783.4285583496094,"y":782.718282699585,"z":"551b662f.7d7298","wires":[]},{"id":"b0496541.0cf478","type":"set","name":" set status, capability-name = dictionary-source","xml":"<set>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$highnum].resource-resolution-data.capability-name`' \n\tvalue='`$jsonContextPrefix.resolution-summary[$vdns-index].dictionary-source`'/>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$highnum].resource-resolution-data.status`' \n\tvalue='`$jsonContextPrefix.resolution-summary[$vdns-index].status`'/>\t","comments":"","x":1774.2858428955078,"y":674.2857112884521,"z":"551b662f.7d7298","wires":[]}]