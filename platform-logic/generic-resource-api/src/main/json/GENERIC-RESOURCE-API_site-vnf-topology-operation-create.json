[
  {
    "id": "3fa6c370.2c61bc",
    "type": "dgstart",
    "name": "DGSTART",
    "outputs": 1,
    "x": 168,
    "y": 73,
    "z": "6855f1c0.cd5d9",
    "wires": [
      [
        "ac645450.910698"
      ]
    ]
  },
  {
    "id": "ac645450.910698",
    "type": "service-logic",
    "name": "GENERIC-RESOURCE-API ${project.version}",
    "module": "GENERIC-RESOURCE-API",
    "version": "${project.version}",
    "comments": "",
    "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
    "outputs": 1,
    "x": 267.2856979370117,
    "y": 147.23810789268464,
    "z": "6855f1c0.cd5d9",
    "wires": [
      [
        "5fcc8bf6.3fd144"
      ]
    ]
  },
  {
    "id": "5fcc8bf6.3fd144",
    "type": "method",
    "name": "method site-vnf-topology-operation-create",
    "xml": "<method rpc='site-vnf-topology-operation-create' mode='sync'>\n",
    "comments": "",
    "outputs": 1,
    "x": 288.4286117553711,
    "y": 236.99999639671296,
    "z": "6855f1c0.cd5d9",
    "wires": [
      [
        "47608ee1.25de2"
      ]
    ]
  },
  {
    "id": "47608ee1.25de2",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 268.6666564941406,
    "y": 408.66666814964265,
    "z": "6855f1c0.cd5d9",
    "wires": [
      [
        "4ce2c94.4697a38",
        "fa21f7d4.da1878",
        "9f3ac02c.307b8",
        "fd3d2238.2c1fe",
        "e2f2310b.40c4e",
        "5ac01571.a9444c",
        "8b6a96f4.ee9ed8",
        "e97be576.bbc408",
        "ec41d40.2a2183",
        "7988a83e.fa96c8",
        "5922b71f.a74538"
      ]
    ]
  },
  {
    "id": "fa21f7d4.da1878",
    "type": "set",
    "name": "set vnf-level-oper-status to Created",
    "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-level-oper-status.order-status' value='Created' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-level-oper-status.last-rpc-action' value='`$vnf-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-level-oper-status.last-action' value='`$vnf-topology-operation-input.request-information.request-action`' />\n",
    "comments": "",
    "x": 686.8133697509766,
    "y": 649.6705284118652,
    "z": "6855f1c0.cd5d9",
    "wires": []
  },
  {
    "id": "4ce2c94.4697a38",
    "type": "set",
    "name": "copy input data to service data",
    "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-id' value='`$prop.vnf-index`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.sdnc-request-header.' value='$vnf-topology-operation-input.sdnc-request-header.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.request-information.' value='$vnf-topology-operation-input.request-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.' value='$vnf-topology-operation-input.service-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-information.' value='$vnf-topology-operation-input.vnf-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-request-input.' value='$vnf-topology-operation-input.vnf-request-input.' />\n\n",
    "comments": "",
    "x": 673.6665191650391,
    "y": 547.6667442321777,
    "z": "6855f1c0.cd5d9",
    "wires": []
  },
  {
    "id": "8b6a96f4.ee9ed8",
    "type": "execute",
    "name": "execute generate-vnf-index",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.vnf-index\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 666.0000152587891,
    "y": 486.33337020874023,
    "z": "6855f1c0.cd5d9",
    "wires": [
      []
    ]
  },
  {
    "id": "9f3ac02c.307b8",
    "type": "set",
    "name": "set vnf-index to service data",
    "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-information.vnf-id' value='`$prop.vnf-index`' />\n",
    "comments": "",
    "x": 664.0000152587891,
    "y": 603.3333702087402,
    "z": "6855f1c0.cd5d9",
    "wires": []
  },
  {
    "id": "fd3d2238.2c1fe",
    "type": "switchNode",
    "name": "switch service-data.vnfs.vnf_length",
    "xml": "<switch test='`$service-data.vnfs.vnf_length`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 697.9999771118164,
    "y": 287.33335971832275,
    "z": "6855f1c0.cd5d9",
    "wires": [
      [
        "af77c768.729e28",
        "9f82c38a.b1c5e"
      ]
    ]
  },
  {
    "id": "af77c768.729e28",
    "type": "other",
    "name": "NULL",
    "xml": "<outcome value=''>\n",
    "comments": "",
    "outputs": 1,
    "x": 932.7143630981445,
    "y": 282.4761800765991,
    "z": "6855f1c0.cd5d9",
    "wires": [
      [
        "7f22439b.b7e59c"
      ]
    ]
  },
  {
    "id": "7f22439b.b7e59c",
    "type": "set",
    "name": "set vnf-index=0",
    "xml": "<set>\n<parameter name='vnf-index' value='0' />\n",
    "comments": "",
    "x": 1093.0000686645508,
    "y": 282.4762716293335,
    "z": "6855f1c0.cd5d9",
    "wires": []
  },
  {
    "id": "9f82c38a.b1c5e",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 929.1429023742676,
    "y": 315.76201152801514,
    "z": "6855f1c0.cd5d9",
    "wires": [
      [
        "f21508e6.2fefd8"
      ]
    ]
  },
  {
    "id": "d3b6023e.8241",
    "type": "set",
    "name": "set vnf-index = vnf_length",
    "xml": "<set>\n<parameter name='vnf-index' value='`$service-data.vnfs.vnf_length`' />\n",
    "comments": "",
    "x": 1322.000144958496,
    "y": 294.04773712158203,
    "z": "6855f1c0.cd5d9",
    "wires": []
  },
  {
    "id": "386f3e01.1a8bf2",
    "type": "for",
    "name": "for each existing VNF",
    "xml": "<for index='idx' start='0' end='`$service-data.vnfs.vnf_length`' >\n",
    "comments": "",
    "outputs": 1,
    "x": 1310.4287643432617,
    "y": 329.0477089881897,
    "z": "6855f1c0.cd5d9",
    "wires": [
      [
        "29eb3ce3.eefee4"
      ]
    ]
  },
  {
    "id": "f21508e6.2fefd8",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1063.8571853637695,
    "y": 317.761981010437,
    "z": "6855f1c0.cd5d9",
    "wires": [
      [
        "d3b6023e.8241",
        "386f3e01.1a8bf2"
      ]
    ]
  },
  {
    "id": "29eb3ce3.eefee4",
    "type": "switchNode",
    "name": "switch vnf-information.vnf-id == service-data.vnfs.vnf[].vnf-id",
    "xml": "<switch test='`$vnf-topology-operation-input.vnf-information.vnf-id == $service-data.vnfs.vnf[$idx].vnf-id`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1703.714500427246,
    "y": 329.6191930770874,
    "z": "6855f1c0.cd5d9",
    "wires": [
      [
        "f4656079.b7339"
      ]
    ]
  },
  {
    "id": "f4656079.b7339",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1985.000202178955,
    "y": 328.190598487854,
    "z": "6855f1c0.cd5d9",
    "wires": [
      [
        "a7f60449.092558"
      ]
    ]
  },
  {
    "id": "a7f60449.092558",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'VNF id ' + $service-data.vnfs.vnf[$idx].vnf-id\n      + ' already exists, and has order status ' + $service-data.vnfs.vnf[$idx].vnf-data.vnf-level-oper-status.order-status`\" />\n",
    "comments": "",
    "x": 2113.5715713500977,
    "y": 379.19061279296875,
    "z": "6855f1c0.cd5d9",
    "wires": []
  },
  {
    "id": "ea3b233.535f1e",
    "type": "comment",
    "name": "make sure this vnf-id doesn't exist already",
    "info": "",
    "comments": "",
    "x": 1672.8571166992188,
    "y": 293.1905851364136,
    "z": "6855f1c0.cd5d9",
    "wires": []
  },
  {
    "id": "e2f2310b.40c4e",
    "type": "set",
    "name": "set new vnf_length",
    "xml": "<set>\n<parameter name='service-data.vnfs.vnf_length' value='`$vnf-index + 1`' />\n",
    "comments": "",
    "x": 640.0000152587891,
    "y": 441.33337020874023,
    "z": "6855f1c0.cd5d9",
    "wires": []
  },
  {
    "id": "5ac01571.a9444c",
    "type": "for",
    "name": "for loop i - VNF input parameters",
    "xml": "<for index=\"idx\" start=\"0\" end=\"`$vnf-topology-operation-input.vnf-request-input.vnf-input-parameters.param_length`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 679.1047325134277,
    "y": 370.0678906440735,
    "z": "6855f1c0.cd5d9",
    "wires": [
      [
        "93e1cbb7.57ce48"
      ]
    ]
  },
  {
    "id": "7988a83e.fa96c8",
    "type": "returnSuccess",
    "name": "return success",
    "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
    "comments": "",
    "x": 642.0000419616699,
    "y": 872.5969972610474,
    "z": "6855f1c0.cd5d9",
    "wires": []
  },
  {
    "id": "e97be576.bbc408",
    "type": "save",
    "name": "save siteInstance configuration in AAI",
    "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='site-resource' \n      key='site-resource.id = $prop.vnf-index' >\n<parameter name='id' value='`$prop.vnf-index`' />      \n<parameter name='name' value='`$prop.site.name`' />\n<parameter name='description' value='`$prop.site.description`' />\n<parameter name='type' value='prop.site.type' />\n<parameter name='role' value='prop.site.role' />\n<parameter name='operational-status' value='Created' />\n<parameter name='model-customization-id' value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-customization-uuid`' />\n<parameter name='model-invariant-id' value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-invariant-uuid`' />\n<parameter name='model-version-id' value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-uuid`' />\n<parameter name='selflink' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'  + $vnf-topology-operation-input.service-information.service-instance-id  + '/service-data/vnfs/vnf/'  + $prop.vnf-index  + '/vnf-data/'` \" />\n",
    "comments": "",
    "outputs": 1,
    "x": 690.6667861938477,
    "y": 744.819028377533,
    "z": "6855f1c0.cd5d9",
    "wires": [
      []
    ]
  },
  {
    "id": "ec41d40.2a2183",
    "type": "save",
    "name": "save service relationship in AAI",
    "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='service-instance:relationship-list' \n      key='service-instance.service-instance-id = $service-data.service-information.service-instance-id \n         AND customer.global-customer-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.global-customer-id \n         AND service-subscription.service-type = $service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.subscription-service-type' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"site-resource\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/site-resources/site-resource/' + $prop.vnf-index`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"site-resource.id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$prop.vnf-index`\" />",
    "comments": "",
    "outputs": 1,
    "x": 679.6667900085449,
    "y": 807.5969109535217,
    "z": "6855f1c0.cd5d9",
    "wires": [
      []
    ]
  },
  {
    "id": "5922b71f.a74538",
    "type": "set",
    "name": "set vnf-index and vnf-object-path",
    "xml": "<set>\n<parameter name='vnfId' value='`$prop.vnf-index`' />\n<parameter name=\"vnf-object-path\" value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'  + $vnf-topology-operation-input.service-information.service-instance-id  + '/service-data/vnfs/vnf/'  + $prop.vnf-index  + '/vnf-data/'` \" />",
    "comments": "",
    "x": 681.0000381469727,
    "y": 693.5967993736267,
    "z": "6855f1c0.cd5d9",
    "wires": []
  },
  {
    "id": "93e1cbb7.57ce48",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1033.0001964569092,
    "y": 637.3333625793457,
    "z": "6855f1c0.cd5d9",
    "wires": [
      [
        "b62a8412.3c1788",
        "a29c24e2.c2b698",
        "185872ae.4cf93d",
        "a2c31dc7.abd3",
        "518b2b7f.cf5094",
        "83798f0c.55ca3",
        "558728b4.014198",
        "960e77d0.8444e8",
        "8079e916.7357a8",
        "27a90ae1.17e976",
        "e0bb5acb.0941c8",
        "4078d1f3.66f1c"
      ]
    ]
  },
  {
    "id": "518b2b7f.cf5094",
    "type": "switchNode",
    "name": "switch name",
    "xml": "<switch test=\"`$vnf-topology-operation-input.vnf-request-input.vnf-input-parameters.param[$idx].name == 'name'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1302.2220001220703,
    "y": 503.3333148956299,
    "z": "6855f1c0.cd5d9",
    "wires": [
      [
        "a8e94b67.c81878"
      ]
    ]
  },
  {
    "id": "a8e94b67.c81878",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1480.2220134735107,
    "y": 506.3333148956299,
    "z": "6855f1c0.cd5d9",
    "wires": [
      [
        "72cf7d47.6ab0e4"
      ]
    ]
  },
  {
    "id": "72cf7d47.6ab0e4",
    "type": "set",
    "name": "set name",
    "xml": "<set>\n<parameter name='prop.site.name' value='`$vnf-topology-operation-input.vnf-request-input.vnf-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1627.222023010254,
    "y": 505.933310508728,
    "z": "6855f1c0.cd5d9",
    "wires": []
  },
  {
    "id": "b62a8412.3c1788",
    "type": "switchNode",
    "name": "switch type",
    "xml": "<switch test=\"`$vnf-topology-operation-input.vnf-request-input.vnf-input-parameters.param[$idx].name == 'type'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1281.1176719665527,
    "y": 801.3067646026611,
    "z": "6855f1c0.cd5d9",
    "wires": [
      [
        "61dfbdbd.9f7ea4"
      ]
    ]
  },
  {
    "id": "61dfbdbd.9f7ea4",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1460.1175155639648,
    "y": 802.3066844940186,
    "z": "6855f1c0.cd5d9",
    "wires": [
      [
        "10f1f531.8f5fbb"
      ]
    ]
  },
  {
    "id": "10f1f531.8f5fbb",
    "type": "set",
    "name": "set type",
    "xml": "<set>\n<parameter name='prop.site.type' value='`$vnf-topology-operation-input.vnf-request-input.vnf-input-parameters.param[$idx].value`' />\n<parameter name='prop.site.sdwan' value=\"true\" />",
    "comments": "",
    "x": 1610.1175270080566,
    "y": 803.906699180603,
    "z": "6855f1c0.cd5d9",
    "wires": []
  },
  {
    "id": "a29c24e2.c2b698",
    "type": "switchNode",
    "name": "switch role",
    "xml": "<switch test=\"`$vnf-topology-operation-input.vnf-request-input.vnf-input-parameters.param[$idx].name == 'role'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1282.1173477172852,
    "y": 845.3068046569824,
    "z": "6855f1c0.cd5d9",
    "wires": [
      [
        "5bd37c75.4f37f4"
      ]
    ]
  },
  {
    "id": "5bd37c75.4f37f4",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1452.1173553466797,
    "y": 855.3067674636841,
    "z": "6855f1c0.cd5d9",
    "wires": [
      [
        "1ce2a35f.a33a2d"
      ]
    ]
  },
  {
    "id": "83798f0c.55ca3",
    "type": "switchNode",
    "name": "switch location-name",
    "xml": "<switch test=\"`$vnf-topology-operation-input.vnf-request-input.vnf-input-parameters.param[$idx].name == 'location-name'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1325.1171875,
    "y": 545.3066234588623,
    "z": "6855f1c0.cd5d9",
    "wires": [
      [
        "a3698113.22606"
      ]
    ]
  },
  {
    "id": "a3698113.22606",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1489.117359161377,
    "y": 545.3066244125366,
    "z": "6855f1c0.cd5d9",
    "wires": [
      [
        "30c433ef.1afe7c"
      ]
    ]
  },
  {
    "id": "30c433ef.1afe7c",
    "type": "set",
    "name": "set location-name",
    "xml": "<set>\n<parameter name='prop.site.location-name' value='`$vnf-topology-operation-input.vnf-request-input.vnf-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1651.1173706054688,
    "y": 544.906681060791,
    "z": "6855f1c0.cd5d9",
    "wires": []
  },
  {
    "id": "558728b4.014198",
    "type": "switchNode",
    "name": "switch address",
    "xml": "<switch test=\"`$vnf-topology-operation-input.vnf-request-input.vnf-input-parameters.param[$idx].name == 'address'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1308.1171875,
    "y": 581.3066272735596,
    "z": "6855f1c0.cd5d9",
    "wires": [
      [
        "461f7e3d.fc2b6"
      ]
    ]
  },
  {
    "id": "461f7e3d.fc2b6",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1478.1170349121094,
    "y": 589.3066263198853,
    "z": "6855f1c0.cd5d9",
    "wires": [
      [
        "95768555.59f738"
      ]
    ]
  },
  {
    "id": "95768555.59f738",
    "type": "set",
    "name": "set location-address",
    "xml": "<set>\n<parameter name='prop.site.location-address' value='`$vnf-topology-operation-input.vnf-request-input.vnf-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1666.1172103881836,
    "y": 584.9066019058228,
    "z": "6855f1c0.cd5d9",
    "wires": []
  },
  {
    "id": "960e77d0.8444e8",
    "type": "switchNode",
    "name": "switch postcode",
    "xml": "<switch test=\"`$vnf-topology-operation-input.vnf-request-input.vnf-input-parameters.param[$idx].name == 'postcode'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1309.1171875,
    "y": 623.3065881729126,
    "z": "6855f1c0.cd5d9",
    "wires": [
      [
        "2481d837.14c698"
      ]
    ]
  },
  {
    "id": "2481d837.14c698",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1474.117359161377,
    "y": 622.3065881729126,
    "z": "6855f1c0.cd5d9",
    "wires": [
      [
        "f6fca1a2.7d9b4"
      ]
    ]
  },
  {
    "id": "f6fca1a2.7d9b4",
    "type": "set",
    "name": "set location-postcode",
    "xml": "<set>\n<parameter name='prop.site.location-postcode' value='`$vnf-topology-operation-input.vnf-request-input.vnf-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1661.1172103881836,
    "y": 623.9066047668457,
    "z": "6855f1c0.cd5d9",
    "wires": []
  },
  {
    "id": "185872ae.4cf93d",
    "type": "switchNode",
    "name": "switch controlPoints",
    "xml": "<switch test=\"`$vnf-topology-operation-input.vnf-request-input.vnf-input-parameters.param[$idx].name == 'controlPoints'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1303.0004806518555,
    "y": 890.3335466384888,
    "z": "6855f1c0.cd5d9",
    "wires": [
      [
        "e1f3da86.e05088"
      ]
    ]
  },
  {
    "id": "e1f3da86.e05088",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1463.0004959106445,
    "y": 901.33362865448,
    "z": "6855f1c0.cd5d9",
    "wires": [
      [
        "88f8ac7d.16131"
      ]
    ]
  },
  {
    "id": "cde157fb.eaac18",
    "type": "set",
    "name": "set role",
    "xml": "<set>\n<parameter name='prop.site.role' value='`$vnf-topology-operation-input.vnf-request-input.vnf-input-parameters.param[$idx].value`' />\n<parameter name='prop.site.sdwan' value=\"true\" />\n",
    "comments": "",
    "x": 1806.0005207061768,
    "y": 822.3335390090942,
    "z": "6855f1c0.cd5d9",
    "wires": []
  },
  {
    "id": "ecdf21f6.a7851",
    "type": "set",
    "name": "set controlPoint",
    "xml": "<set>\n<parameter name='prop.site.controlPoint' value='`$vnf-topology-operation-input.vnf-request-input.vnf-input-parameters.param[$idx].value`' />\n\n",
    "comments": "",
    "x": 1848.0005226135254,
    "y": 921.3336267471313,
    "z": "6855f1c0.cd5d9",
    "wires": []
  },
  {
    "id": "56e0196c.fe1028",
    "type": "execute",
    "name": "execute split roles",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$prop.site.role`'/>\n<parameter name=\"regex\" value=\",\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"prop.site.roles\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 1862.6668701171875,
    "y": 878.3334608078003,
    "z": "6855f1c0.cd5d9",
    "wires": [
      []
    ]
  },
  {
    "id": "1ce2a35f.a33a2d",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1609.667007446289,
    "y": 858.3334608078003,
    "z": "6855f1c0.cd5d9",
    "wires": [
      [
        "cde157fb.eaac18",
        "56e0196c.fe1028"
      ]
    ]
  },
  {
    "id": "88f8ac7d.16131",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1621.6668434143066,
    "y": 905.333384513855,
    "z": "6855f1c0.cd5d9",
    "wires": [
      [
        "ecdf21f6.a7851",
        "913d9445.5019a8"
      ]
    ]
  },
  {
    "id": "913d9445.5019a8",
    "type": "execute",
    "name": "execute split control points",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$prop.site.controlPoint`'/>\n<parameter name=\"regex\" value=\",\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"prop.site.controlpoints\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 1890.666862487793,
    "y": 982.3334674835205,
    "z": "6855f1c0.cd5d9",
    "wires": [
      []
    ]
  },
  {
    "id": "8079e916.7357a8",
    "type": "switchNode",
    "name": "switch latitude",
    "xml": "<switch test=\"`$vnf-topology-operation-input.vnf-request-input.vnf-input-parameters.param[$idx].name == 'latitude'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1299.33349609375,
    "y": 667.3333654403687,
    "z": "6855f1c0.cd5d9",
    "wires": [
      [
        "d72cdc6.5e2602"
      ]
    ]
  },
  {
    "id": "d72cdc6.5e2602",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1475.3333435058594,
    "y": 662.333324432373,
    "z": "6855f1c0.cd5d9",
    "wires": [
      [
        "f171e729.d22298"
      ]
    ]
  },
  {
    "id": "f171e729.d22298",
    "type": "set",
    "name": "set location-latitude",
    "xml": "<set>\n<parameter name='prop.site.location-latitude' value='`$vnf-topology-operation-input.vnf-request-input.vnf-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1649.333351135254,
    "y": 660.9333410263062,
    "z": "6855f1c0.cd5d9",
    "wires": []
  },
  {
    "id": "27a90ae1.17e976",
    "type": "switchNode",
    "name": "switch longitude",
    "xml": "<switch test=\"`$vnf-topology-operation-input.vnf-request-input.vnf-input-parameters.param[$idx].name == 'longitude'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1302.33349609375,
    "y": 707.3334083557129,
    "z": "6855f1c0.cd5d9",
    "wires": [
      [
        "32eefde6.ce89c2"
      ]
    ]
  },
  {
    "id": "32eefde6.ce89c2",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1474.3335037231445,
    "y": 702.3334503173828,
    "z": "6855f1c0.cd5d9",
    "wires": [
      [
        "fdc73161.cebd7"
      ]
    ]
  },
  {
    "id": "fdc73161.cebd7",
    "type": "set",
    "name": "set location-latitude",
    "xml": "<set>\n<parameter name='prop.site.location-latitude' value='`$vnf-topology-operation-input.vnf-request-input.vnf-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1656.3333587646484,
    "y": 705.9333019256592,
    "z": "6855f1c0.cd5d9",
    "wires": []
  },
  {
    "id": "86d304b7.c70368",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1465.3335037231445,
    "y": 752.3334531784058,
    "z": "6855f1c0.cd5d9",
    "wires": [
      [
        "63e2146a.caa4bc"
      ]
    ]
  },
  {
    "id": "d126c16e.ed1c9",
    "type": "set",
    "name": "set emails",
    "xml": "<set>\n<parameter name='prop.site.emails' value='`$vnf-topology-operation-input.vnf-request-input.vnf-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1823.3331985473633,
    "y": 720.9333052635193,
    "z": "6855f1c0.cd5d9",
    "wires": []
  },
  {
    "id": "a2c31dc7.abd3",
    "type": "switchNode",
    "name": "switch emails",
    "xml": "<switch test=\"`$vnf-topology-operation-input.vnf-request-input.vnf-input-parameters.param[$idx].name == 'emails'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1292.3335723876953,
    "y": 752.3334531784058,
    "z": "6855f1c0.cd5d9",
    "wires": [
      [
        "86d304b7.c70368"
      ]
    ]
  },
  {
    "id": "36b11d40.243472",
    "type": "execute",
    "name": "execute split emails",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$prop.site.emails`'/>\n<parameter name=\"regex\" value=\",\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"prop.site.email\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 1848.9995422363281,
    "y": 767.3332080841064,
    "z": "6855f1c0.cd5d9",
    "wires": [
      []
    ]
  },
  {
    "id": "63e2146a.caa4bc",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 1627.333511352539,
    "y": 753.3333706855774,
    "z": "6855f1c0.cd5d9",
    "wires": [
      [
        "d126c16e.ed1c9",
        "36b11d40.243472"
      ]
    ]
  },
  {
    "id": "ac6dde9e.14fd8",
    "type": "comment",
    "name": "Take the parameter names by removing prefix",
    "info": "",
    "comments": "",
    "x": 1407.0001831054688,
    "y": 382.6666793823242,
    "z": "6855f1c0.cd5d9",
    "wires": []
  },
  {
    "id": "e0bb5acb.0941c8",
    "type": "execute",
    "name": "execute split parameterName",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$vnf-topology-operation-input.vnf-request-input.vnf-input-parameters.param[$idx].name`'/>                                                                                                 \n<parameter name=\"regex\" value=\"_\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"param-prefix\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 1360.0348815917969,
    "y": 413.64584732055664,
    "z": "6855f1c0.cd5d9",
    "wires": [
      []
    ]
  },
  {
    "id": "4078d1f3.66f1c",
    "type": "set",
    "name": "set parameterName",
    "xml": "<set>\n<parameter name=\"`vnf-topology-operation-input.vnf-request-input.vnf-input-parameters.param[$idx].name`\" value='`$param-prefix[$param-prefix_length -1]`'/>\n",
    "comments": "",
    "x": 1327.4792137145996,
    "y": 447.6458492279053,
    "z": "6855f1c0.cd5d9",
    "wires": []
  }
]