[
  {
    "id": "4c36e56f.956e94",
    "type": "dgstart",
    "name": "DGSTART",
    "outputs": 1,
    "x": 91.49996948242188,
    "y": 73,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "38e1188a.f9fef"
      ]
    ]
  },
  {
    "id": "38e1188a.f9fef",
    "type": "service-logic",
    "name": "GENERIC-RESOURCE-API ${project.version}",
    "module": "GENERIC-RESOURCE-API",
    "version": "${project.version}",
    "comments": "",
    "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
    "outputs": 1,
    "x": 307.9999694824219,
    "y": 135.5,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "be128d6c.f677e"
      ]
    ]
  },
  {
    "id": "be128d6c.f677e",
    "type": "method",
    "name": "method dci-connects-network-topology-operation-activate",
    "xml": "<method rpc='dci-connects-network-topology-operation-activate' mode='sync'>\n",
    "comments": "",
    "outputs": 1,
    "x": 216,
    "y": 230.49998474121094,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "bf628732.ed9c68"
      ]
    ]
  },
  {
    "id": "bf628732.ed9c68",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 513.8333129882812,
    "y": 238.3333282470703,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "1a1ab9fe.172d5e",
        "c91abe90.b09f18",
        "24a12c20.3823c4",
        "56f7544c.7d9984",
        "168e5d62.705303"
      ]
    ]
  },
  {
    "id": "c91abe90.b09f18",
    "type": "call",
    "name": "call GENERIC-RESOURCE-API:validate-network-input-parameters",
    "xml": "<call module='GENERIC-RESOURCE-API' rpc='validate-network-input-parameters' mode='sync' >\n",
    "comments": "",
    "outputs": 1,
    "x": 903.8333129882812,
    "y": 103.33332824707031,
    "z": "cf1e958c.7fbef8",
    "wires": [
      []
    ]
  },
  {
    "id": "ee9e843c.f2eaa8",
    "type": "for",
    "name": "for each network-input-parameters",
    "xml": "<for index='idx' start='0' end='`$network-topology-operation-input.network-request-input.network-input-parameters.param_length`' >\n\n",
    "comments": "",
    "outputs": 1,
    "x": 1421.8336029052734,
    "y": 376.333389043808,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "6ecca6a7.b330b8"
      ]
    ]
  },
  {
    "id": "6ecca6a7.b330b8",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1668.833511352539,
    "y": 374.33335852622986,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "7ec2f156.31bad8",
        "e570d5e6.8d7958",
        "2fe6f50.ba2558c",
        "320c6219.91f19e",
        "88a16009.d8acd",
        "69aad884.29b65",
        "d425399b.6eb9d",
        "9c7489c7.684fa",
        "2e60a059.b3e188"
      ]
    ]
  },
  {
    "id": "7ec2f156.31bad8",
    "type": "switchNode",
    "name": "switch id",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'site1_id'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2155.833869934082,
    "y": 250.33347511291504,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "aa4e7849.32cd9"
      ]
    ]
  },
  {
    "id": "e570d5e6.8d7958",
    "type": "switchNode",
    "name": "switch description",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'site1_description'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2183.833869934082,
    "y": 304.3334608078003,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "8223ea44.b877"
      ]
    ]
  },
  {
    "id": "2fe6f50.ba2558c",
    "type": "switchNode",
    "name": "switch routerId",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'site1_routerId'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2172.833656311035,
    "y": 435.333420753479,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "b9d7a29d.1fc0a8"
      ]
    ]
  },
  {
    "id": "320c6219.91f19e",
    "type": "switchNode",
    "name": "switch importRT1",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'site1_importRT1'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2181.1193923950195,
    "y": 496.6191740036011,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "db18baa3.a37308"
      ]
    ]
  },
  {
    "id": "88a16009.d8acd",
    "type": "switchNode",
    "name": "switch exportRT1",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'site1_exportRT1'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2182.119453430176,
    "y": 560.6191447973251,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "7071fdd7.40f6bc"
      ]
    ]
  },
  {
    "id": "69aad884.29b65",
    "type": "switchNode",
    "name": "switch vni",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'site1_vni'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2153.1194229125977,
    "y": 623.619176864624,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "62dcb995.73bbd"
      ]
    ]
  },
  {
    "id": "aa4e7849.32cd9",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2370.833869934082,
    "y": 249.33347511291504,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "13456a67.fe8996"
      ]
    ]
  },
  {
    "id": "8223ea44.b877",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2381.833869934082,
    "y": 304.3334608078003,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "dd206567.023688"
      ]
    ]
  },
  {
    "id": "b9d7a29d.1fc0a8",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2377.833656311035,
    "y": 434.333420753479,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "b00c15e3.57b258"
      ]
    ]
  },
  {
    "id": "db18baa3.a37308",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2383.1193923950195,
    "y": 495.6191740036011,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "b67dfe0e.da3b68"
      ]
    ]
  },
  {
    "id": "7071fdd7.40f6bc",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2378.119453430176,
    "y": 557.6191447973251,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "8e66a40c.ada548"
      ]
    ]
  },
  {
    "id": "62dcb995.73bbd",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2359.1194229125977,
    "y": 623.619176864624,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "3d1ad610.f82f92"
      ]
    ]
  },
  {
    "id": "dd206567.023688",
    "type": "set",
    "name": "set description",
    "xml": "<set>\n<parameter name='prop.dci-connects.description' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2563.833869934082,
    "y": 297.3334608078003,
    "z": "cf1e958c.7fbef8",
    "wires": []
  },
  {
    "id": "b00c15e3.57b258",
    "type": "set",
    "name": "set router_id",
    "xml": "<set>\n<parameter name='prop.dci-connects.router_id' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2568.8338775634766,
    "y": 427.3335075378418,
    "z": "cf1e958c.7fbef8",
    "wires": []
  },
  {
    "id": "3d1ad610.f82f92",
    "type": "set",
    "name": "set vni",
    "xml": "<set>\n<parameter name='prop.dci-connects.vni' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2529.1194229125977,
    "y": 615.619176864624,
    "z": "cf1e958c.7fbef8",
    "wires": []
  },
  {
    "id": "1a1ab9fe.172d5e",
    "type": "returnSuccess",
    "name": "return success",
    "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
    "comments": "",
    "x": 737.119140625,
    "y": 1201.0477294921875,
    "z": "cf1e958c.7fbef8",
    "wires": []
  },
  {
    "id": "d425399b.6eb9d",
    "type": "switchNode",
    "name": "switch name",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'name'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2167.00040435791,
    "y": 191.50010681152344,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "b5fa6ca4.bca08"
      ]
    ]
  },
  {
    "id": "b5fa6ca4.bca08",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2365.00040435791,
    "y": 191.50010681152344,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "8c66be71.462ad"
      ]
    ]
  },
  {
    "id": "8c66be71.462ad",
    "type": "set",
    "name": "set name",
    "xml": "<set>\n<parameter name='prop.dci-connects.name' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2547.00040435791,
    "y": 184.50010681152344,
    "z": "cf1e958c.7fbef8",
    "wires": []
  },
  {
    "id": "9c7489c7.684fa",
    "type": "switchNode",
    "name": "switch networkName",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'site1_networkName'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2190.5001907348633,
    "y": 370.5000467300415,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "cc2233ba.9a0b28"
      ]
    ]
  },
  {
    "id": "cc2233ba.9a0b28",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2388.5001907348633,
    "y": 370.5000467300415,
    "z": "cf1e958c.7fbef8",
    "wires": [
      []
    ]
  },
  {
    "id": "24a12c20.3823c4",
    "type": "block",
    "name": "block : execute",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "comments": "",
    "outputs": 1,
    "x": 737.4999008178711,
    "y": 611.5000457763672,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "37a31ee0.24b852",
        "23165d49.4901aa",
        "5c1bffb4.63e308"
      ]
    ]
  },
  {
    "id": "37a31ee0.24b852",
    "type": "block",
    "name": "block : executeSite1",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "comments": "",
    "outputs": 1,
    "x": 1029.9999618530273,
    "y": 436.0000219345093,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "ee9e843c.f2eaa8",
        "9f9de06d.e9691"
      ]
    ]
  },
  {
    "id": "23165d49.4901aa",
    "type": "block",
    "name": "block : executeSite2",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "comments": "",
    "outputs": 1,
    "x": 1047.0000076293945,
    "y": 952.0000047683716,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "70a4ded.49d87a",
        "9f9de06d.e9691"
      ]
    ]
  },
  {
    "id": "3d56dd00.415eac",
    "type": "switchNode",
    "name": "switch id",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'site2_id'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2141.500213623047,
    "y": 770.9999389648438,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "e78901da.ff61b8"
      ]
    ]
  },
  {
    "id": "fe2e1517.a2ac7",
    "type": "switchNode",
    "name": "switch description",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'site2_description'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2165.5005645751953,
    "y": 829.999945640564,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "2d58a544.c935ea",
        "8505b154.9fb048"
      ]
    ]
  },
  {
    "id": "4147e9a8.080da",
    "type": "switchNode",
    "name": "switch routerId",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'site2_routerId'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2174.499954223633,
    "y": 1025.9999113082886,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "f5bf01a7.290cc"
      ]
    ]
  },
  {
    "id": "aef1e9ce.a6ab3",
    "type": "switchNode",
    "name": "switch importRT1",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'site2_importRT1'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2182.785690307617,
    "y": 1087.2856645584106,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "2d67d7d8.2296d"
      ]
    ]
  },
  {
    "id": "360441dc.77ddb6",
    "type": "switchNode",
    "name": "switch exportRT1",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'site2_exportRT1'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2183.7857513427734,
    "y": 1151.2856353521347,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "fb49f623.4e5d48"
      ]
    ]
  },
  {
    "id": "2c78d4f1.048ee4",
    "type": "switchNode",
    "name": "switch vni",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'site2_vni'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2154.7857208251953,
    "y": 1214.2856674194336,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "dd227859.e75bf8"
      ]
    ]
  },
  {
    "id": "e78901da.ff61b8",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2356.500213623047,
    "y": 769.9999389648438,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "f1dbc88c.9a5b98"
      ]
    ]
  },
  {
    "id": "2d58a544.c935ea",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2363.5005645751953,
    "y": 829.999945640564,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "432bb78.173bc48"
      ]
    ]
  },
  {
    "id": "f5bf01a7.290cc",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2379.499954223633,
    "y": 1024.9999113082886,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "f3e93f46.78cae8"
      ]
    ]
  },
  {
    "id": "2d67d7d8.2296d",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2384.785690307617,
    "y": 1086.2856645584106,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "e5ced29d.00d08"
      ]
    ]
  },
  {
    "id": "fb49f623.4e5d48",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2379.7857513427734,
    "y": 1148.2856353521347,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "199235cd.b410ca"
      ]
    ]
  },
  {
    "id": "dd227859.e75bf8",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2360.7857208251953,
    "y": 1214.2856674194336,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "6a38de12.5b185"
      ]
    ]
  },
  {
    "id": "432bb78.173bc48",
    "type": "set",
    "name": "set description",
    "xml": "<set>\n<parameter name='prop.dci-connects.description' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2545.5005645751953,
    "y": 822.999945640564,
    "z": "cf1e958c.7fbef8",
    "wires": []
  },
  {
    "id": "f3e93f46.78cae8",
    "type": "set",
    "name": "set router_id",
    "xml": "<set>\n<parameter name='prop.dci-connects.router_id' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2570.500175476074,
    "y": 1017.9999980926514,
    "z": "cf1e958c.7fbef8",
    "wires": []
  },
  {
    "id": "6a38de12.5b185",
    "type": "set",
    "name": "set vni",
    "xml": "<set>\n<parameter name='prop.dci-connects.vni' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2530.7857208251953,
    "y": 1206.2856674194336,
    "z": "cf1e958c.7fbef8",
    "wires": []
  },
  {
    "id": "15d71463.8bcfa4",
    "type": "switchNode",
    "name": "switch networkName",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'site2_networkName'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2192.166488647461,
    "y": 961.1665372848511,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "8641ca6f.8854e"
      ]
    ]
  },
  {
    "id": "8641ca6f.8854e",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2390.166488647461,
    "y": 961.1665372848511,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "c4b84815.27de5"
      ]
    ]
  },
  {
    "id": "415cf18c.8dc438",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1660.4996643066406,
    "y": 892.9998967647552,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "3d56dd00.415eac",
        "fe2e1517.a2ac7",
        "4147e9a8.080da",
        "aef1e9ce.a6ab3",
        "360441dc.77ddb6",
        "2c78d4f1.048ee4",
        "15d71463.8bcfa4"
      ]
    ]
  },
  {
    "id": "70a4ded.49d87a",
    "type": "for",
    "name": "for each network-input-parameters",
    "xml": "<for index='idx' start='0' end='`$network-topology-operation-input.network-request-input.network-input-parameters.param_length`' >\n\n",
    "comments": "",
    "outputs": 1,
    "x": 1413.499755859375,
    "y": 894.9999272823334,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "415cf18c.8dc438"
      ]
    ]
  },
  {
    "id": "13456a67.fe8996",
    "type": "set",
    "name": "set id",
    "xml": "<set>\n<parameter name='prop.dci-connects.id' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2552.5002517700195,
    "y": 243.00002479553223,
    "z": "cf1e958c.7fbef8",
    "wires": []
  },
  {
    "id": "2e60a059.b3e188",
    "type": "switchNode",
    "name": "switch tunnelType",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'tunnelType'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2171.999969482422,
    "y": 692.9999389648438,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "4b99b834.6c111"
      ]
    ]
  },
  {
    "id": "4b99b834.6c111",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2377.999969482422,
    "y": 692.9999389648438,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "1995f2e4.a2f79d"
      ]
    ]
  },
  {
    "id": "1995f2e4.a2f79d",
    "type": "set",
    "name": "set tunnelType",
    "xml": "<set>\n<parameter name='prop.dci-connects.tunnelType' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2547.999969482422,
    "y": 684.9999389648438,
    "z": "cf1e958c.7fbef8",
    "wires": []
  },
  {
    "id": "9f9de06d.e9691",
    "type": "block",
    "name": "block : sendRequest",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "comments": "",
    "outputs": 1,
    "x": 1325.9999885559082,
    "y": 1452.4999446868896,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "4abf4c0.6ba8234",
        "f7dfb0f6.24b96",
        "9eb66fb5.27033"
      ]
    ]
  },
  {
    "id": "13c2385e.c3283",
    "type": "execute",
    "name": "execute RestApiCallNode Activate Vxlan Tunnel",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.sdncRestApi.tempDir +'/l3-dci-connects-template.json'`\"/>\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url +'/v2.0/l3-dci-connects'`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\"/>\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\"/>\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"restapi-result\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 2134.0002632141113,
    "y": 1515.4998998641968,
    "z": "cf1e958c.7fbef8",
    "wires": [
      []
    ]
  },
  {
    "id": "cd3c6fdb.337a48",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1812.4999465942383,
    "y": 1223.499531507492,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "9de2e39e.9d2c88"
      ]
    ]
  },
  {
    "id": "e94227c8.8ebae",
    "type": "not-found",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1819.4999465942383,
    "y": 1261.499531507492,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "2833f620.7533ba"
      ]
    ]
  },
  {
    "id": "2d9e1f4a.03602",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1811.4999465942383,
    "y": 1303.499531507492,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "ddb11f26.1e1f6"
      ]
    ]
  },
  {
    "id": "2833f620.7533ba",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
    "comments": "",
    "x": 1976.4999465942383,
    "y": 1265.499531507492,
    "z": "cf1e958c.7fbef8",
    "wires": []
  },
  {
    "id": "ddb11f26.1e1f6",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
    "comments": "",
    "x": 1969.4999465942383,
    "y": 1312.499531507492,
    "z": "cf1e958c.7fbef8",
    "wires": []
  },
  {
    "id": "4abf4c0.6ba8234",
    "type": "get-resource",
    "name": "get-resource esr-thirdparty-sdnc",
    "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $prop.dci-connects.id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.esr-thirdparty-sdnc' local-only='false' >\n",
    "comments": "",
    "outputs": 1,
    "x": 1593.730827331543,
    "y": 1262.8072967529297,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "cd3c6fdb.337a48",
        "e94227c8.8ebae",
        "2d9e1f4a.03602"
      ]
    ]
  },
  {
    "id": "9de2e39e.9d2c88",
    "type": "set",
    "name": "set controller data",
    "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.url' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.templateDir' value='/opt/onap/sdnc/data' />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.user' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.password' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n",
    "comments": "",
    "x": 1986.9998779296875,
    "y": 1219.99951171875,
    "z": "cf1e958c.7fbef8",
    "wires": []
  },
  {
    "id": "f7dfb0f6.24b96",
    "type": "switchNode",
    "name": "switch tunnelType",
    "xml": "<switch test=\"`$prop.dci-connects.tunnelType`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1596.9997215270996,
    "y": 1539.9994106292725,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "88dd7f05.8bf64",
        "ffc3e991.fbb298"
      ]
    ]
  },
  {
    "id": "88dd7f05.8bf64",
    "type": "outcomeTrue",
    "name": "L3-DCI",
    "xml": "<outcome value='L3-DCI'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1809.9998512268066,
    "y": 1519.9994106292725,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "13c2385e.c3283"
      ]
    ]
  },
  {
    "id": "ffc3e991.fbb298",
    "type": "outcomeTrue",
    "name": "L2-DCI",
    "xml": "<outcome value='L2-DCI'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1807.9996719360352,
    "y": 1591.9994106292725,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "c8efabdf.31825"
      ]
    ]
  },
  {
    "id": "f1dbc88c.9a5b98",
    "type": "set",
    "name": "set id",
    "xml": "<set>\n<parameter name='prop.dci-connects.id' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2530.500186920166,
    "y": 764.9999914169312,
    "z": "cf1e958c.7fbef8",
    "wires": []
  },
  {
    "id": "c8efabdf.31825",
    "type": "execute",
    "name": "execute RestApiCallNode Activate Vxlan Tunnel",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.sdncRestApi.tempDir +'/l2-dci-connects-template.json'`\"/>\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url +'/v2.0/l2-dci-connects'`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\"/>\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\"/>\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"restapi-result\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 2128.000217437744,
    "y": 1592.4998359680176,
    "z": "cf1e958c.7fbef8",
    "wires": [
      []
    ]
  },
  {
    "id": "8505b154.9fb048",
    "type": "outcomeTrue",
    "name": "false",
    "xml": "<outcome value='false'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2362.000144958496,
    "y": 888.9999752044678,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "ccff44a9.224988"
      ]
    ]
  },
  {
    "id": "ccff44a9.224988",
    "type": "set",
    "name": "set description",
    "xml": "<set>\n<parameter name='prop.dci-connects.description' value='' />\n",
    "comments": "",
    "x": 2543.000213623047,
    "y": 883.9999160766602,
    "z": "cf1e958c.7fbef8",
    "wires": []
  },
  {
    "id": "b67dfe0e.da3b68",
    "type": "block",
    "name": "block setEvpnIrts",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 2564.999725341797,
    "y": 497.5155963897705,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "3c4bea54.b82856",
        "8b9a2579.97c4d8"
      ]
    ]
  },
  {
    "id": "3c4bea54.b82856",
    "type": "set",
    "name": "set evpn_irts",
    "xml": "<set>\n<parameter name='tmp.dci-connects.evpn_irts.original' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2810.999725341797,
    "y": 448.5155963897705,
    "z": "cf1e958c.7fbef8",
    "wires": []
  },
  {
    "id": "8b9a2579.97c4d8",
    "type": "execute",
    "name": "split evpn_irts",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.dci-connects.evpn_irts.original`'/>\n<parameter name=\"regex\" value=',' />\n<parameter name=\"ctx_memory_result_key\" value=\"tmp.dci-connects.evpn_irts\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 2839.999725341797,
    "y": 500.5155963897705,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "6faf57d4.2b98a",
        "39a28639.e8be62"
      ]
    ]
  },
  {
    "id": "39a28639.e8be62",
    "type": "failure",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 3056.999725341797,
    "y": 426.5155963897705,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "d250c5a8.c94c48"
      ]
    ]
  },
  {
    "id": "6faf57d4.2b98a",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 3057.999725341797,
    "y": 492.5155963897705,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "1a465074.76a89"
      ]
    ]
  },
  {
    "id": "1a465074.76a89",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
    "comments": "",
    "x": 3238.999725341797,
    "y": 490.5155963897705,
    "z": "cf1e958c.7fbef8",
    "wires": []
  },
  {
    "id": "93246b40.56e6f",
    "type": "set",
    "name": "set evpn_erts",
    "xml": "<set>\n<parameter name='tmp.dci-connects.evpn_erts.original' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2807.499725341797,
    "y": 591.0156269073486,
    "z": "cf1e958c.7fbef8",
    "wires": []
  },
  {
    "id": "1e83de39.311f02",
    "type": "execute",
    "name": "split evpn_erts",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.dci-connects.evpn_erts.original`'/>\n<parameter name=\"regex\" value=',' />\n<parameter name=\"ctx_memory_result_key\" value=\"tmp.dci-connects.evpn_erts\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 2836.499725341797,
    "y": 643.0156269073486,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "f9ddad4a.598dd",
        "2c373294.e4fa2e"
      ]
    ]
  },
  {
    "id": "2c373294.e4fa2e",
    "type": "failure",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 3053.499725341797,
    "y": 569.0156269073486,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "20631aad.356246"
      ]
    ]
  },
  {
    "id": "f9ddad4a.598dd",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 3054.499725341797,
    "y": 635.0156269073486,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "52741d12.107614"
      ]
    ]
  },
  {
    "id": "52741d12.107614",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
    "comments": "",
    "x": 3235.499725341797,
    "y": 633.0156269073486,
    "z": "cf1e958c.7fbef8",
    "wires": []
  },
  {
    "id": "8e66a40c.ada548",
    "type": "block",
    "name": "block setEvpnErts",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 2558.4996185302734,
    "y": 553.0156841278076,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "93246b40.56e6f",
        "1e83de39.311f02"
      ]
    ]
  },
  {
    "id": "d250c5a8.c94c48",
    "type": "for",
    "name": "for each evpn_irts",
    "xml": "<for index='idx' start='0' end='`$tmp.dci-connects.evpn_irts_length`' >\n\n",
    "comments": "",
    "outputs": 1,
    "x": 3259.4998893737793,
    "y": 426.0156364440918,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "45b9f14c.5a8a78"
      ]
    ]
  },
  {
    "id": "45b9f14c.5a8a78",
    "type": "set",
    "name": "set evpn_irt",
    "xml": "<set>\n<parameter name='prop.dci-connects.evpn_irts[$idx]' value='`$tmp.dci-connects.evpn_irts[$idx]`' />\n",
    "comments": "",
    "x": 3471.5003814697266,
    "y": 426.0157890319824,
    "z": "cf1e958c.7fbef8",
    "wires": []
  },
  {
    "id": "20631aad.356246",
    "type": "for",
    "name": "for each evpn_erts",
    "xml": "<for index='idx' start='0' end='`$tmp.dci-connects.evpn_erts_length`' >\n\n",
    "comments": "",
    "outputs": 1,
    "x": 3252.999725341797,
    "y": 565.0156269073486,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "f124e02f.c76418"
      ]
    ]
  },
  {
    "id": "f124e02f.c76418",
    "type": "set",
    "name": "set evpn_ert",
    "xml": "<set>\n<parameter name='prop.dci-connects.evpn_erts[$idx]' value='`$tmp.dci-connects.evpn_erts[$idx]`' />\n",
    "comments": "",
    "x": 3465.000217437744,
    "y": 565.0157794952393,
    "z": "cf1e958c.7fbef8",
    "wires": []
  },
  {
    "id": "796a7af8.8352e4",
    "type": "set",
    "name": "set evpn_irts",
    "xml": "<set>\n<parameter name='tmp.dci-connects.evpn_irts.original' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2823.999725341797,
    "y": 1031.5155658721924,
    "z": "cf1e958c.7fbef8",
    "wires": []
  },
  {
    "id": "60fc19ba.39f018",
    "type": "execute",
    "name": "split evpn_irts",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.dci-connects.evpn_irts.original`'/>\n<parameter name=\"regex\" value=',' />\n<parameter name=\"ctx_memory_result_key\" value=\"tmp.dci-connects.evpn_irts\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 2852.999725341797,
    "y": 1083.5155658721924,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "e9500a31.e6d9b8",
        "6c399572.83feec"
      ]
    ]
  },
  {
    "id": "6c399572.83feec",
    "type": "failure",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 3069.999725341797,
    "y": 1009.5155658721924,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "db50f835.531508"
      ]
    ]
  },
  {
    "id": "e9500a31.e6d9b8",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 3070.999725341797,
    "y": 1075.5155658721924,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "344af43b.bbfec4"
      ]
    ]
  },
  {
    "id": "344af43b.bbfec4",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
    "comments": "",
    "x": 3251.999725341797,
    "y": 1073.5155658721924,
    "z": "cf1e958c.7fbef8",
    "wires": []
  },
  {
    "id": "a47eee0a.4ca01",
    "type": "set",
    "name": "set evpn_erts",
    "xml": "<set>\n<parameter name='tmp.dci-connects.evpn_erts.original' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2820.499725341797,
    "y": 1174.0155963897705,
    "z": "cf1e958c.7fbef8",
    "wires": []
  },
  {
    "id": "ccdb12e8.f8f76",
    "type": "execute",
    "name": "split evpn_erts",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.dci-connects.evpn_erts.original`'/>\n<parameter name=\"regex\" value=',' />\n<parameter name=\"ctx_memory_result_key\" value=\"tmp.dci-connects.evpn_erts\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 2849.499725341797,
    "y": 1226.0155963897705,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "15b778b0.8c6747",
        "1bc5be40.aeed72"
      ]
    ]
  },
  {
    "id": "1bc5be40.aeed72",
    "type": "failure",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 3066.499725341797,
    "y": 1152.0155963897705,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "281922c5.76ef56"
      ]
    ]
  },
  {
    "id": "15b778b0.8c6747",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 3067.499725341797,
    "y": 1218.0155963897705,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "1917da37.456156"
      ]
    ]
  },
  {
    "id": "1917da37.456156",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
    "comments": "",
    "x": 3248.499725341797,
    "y": 1216.0155963897705,
    "z": "cf1e958c.7fbef8",
    "wires": []
  },
  {
    "id": "db50f835.531508",
    "type": "for",
    "name": "for each evpn_irts",
    "xml": "<for index='idx' start='0' end='`$tmp.dci-connects.evpn_irts_length`' >\n\n",
    "comments": "",
    "outputs": 1,
    "x": 3272.4998893737793,
    "y": 1009.0156059265137,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "de76e6b5.db4778"
      ]
    ]
  },
  {
    "id": "de76e6b5.db4778",
    "type": "set",
    "name": "set evpn_irt",
    "xml": "<set>\n<parameter name='prop.dci-connects.evpn_irts[$idx]' value='`$tmp.dci-connects.evpn_irts[$idx]`' />\n",
    "comments": "",
    "x": 3484.5003814697266,
    "y": 1009.0157585144043,
    "z": "cf1e958c.7fbef8",
    "wires": []
  },
  {
    "id": "281922c5.76ef56",
    "type": "for",
    "name": "for each evpn_erts",
    "xml": "<for index='idx' start='0' end='`$tmp.dci-connects.evpn_erts_length`' >\n\n",
    "comments": "",
    "outputs": 1,
    "x": 3265.999725341797,
    "y": 1148.0155963897705,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "2d79e6ba.6ac452"
      ]
    ]
  },
  {
    "id": "2d79e6ba.6ac452",
    "type": "set",
    "name": "set evpn_ert",
    "xml": "<set>\n<parameter name='prop.dci-connects.evpn_erts[$idx]' value='`$tmp.dci-connects.evpn_erts[$idx]`' />\n",
    "comments": "",
    "x": 3478.000217437744,
    "y": 1148.0157489776611,
    "z": "cf1e958c.7fbef8",
    "wires": []
  },
  {
    "id": "e5ced29d.00d08",
    "type": "block",
    "name": "block setEvpnIrts",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 2577.999725341797,
    "y": 1080.5155658721924,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "796a7af8.8352e4",
        "60fc19ba.39f018"
      ]
    ]
  },
  {
    "id": "199235cd.b410ca",
    "type": "block",
    "name": "block setEvpnErts",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 2571.4996185302734,
    "y": 1136.0156536102295,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "a47eee0a.4ca01",
        "ccdb12e8.f8f76"
      ]
    ]
  },
  {
    "id": "243e5ea1.666f7a",
    "type": "comment",
    "name": "TODO",
    "info": "Get information from VFC team about the A&AI location where name to network mapping will be available.",
    "comments": "",
    "x": 2552.9999771118164,
    "y": 365.5156421661377,
    "z": "cf1e958c.7fbef8",
    "wires": []
  },
  {
    "id": "ab97722c.5d4ce",
    "type": "execute",
    "name": "execute generate-overlay-network-id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.dci.network-id\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 1383.1666793823242,
    "y": 1616.3334283828735,
    "z": "cf1e958c.7fbef8",
    "wires": [
      []
    ]
  },
  {
    "id": "9ef95f17.a0015",
    "type": "switchNode",
    "name": "switch service-data.networks_length",
    "xml": "<switch test='`$service-data.networks.network_length`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1375.1666946411133,
    "y": 1686.3334347009659,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "43323e6.68001c",
        "e3dee700.85526"
      ]
    ]
  },
  {
    "id": "43323e6.68001c",
    "type": "other",
    "name": "Null",
    "xml": "<outcome value=''>\n",
    "comments": "",
    "outputs": 1,
    "x": 1648.9762649536133,
    "y": 1655.2858272790909,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "b3ef8065.c2b5f"
      ]
    ]
  },
  {
    "id": "e3dee700.85526",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1643.8334426879883,
    "y": 1701.0001217126846,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "4d22c774.611da8"
      ]
    ]
  },
  {
    "id": "b3ef8065.c2b5f",
    "type": "set",
    "name": "set nidx",
    "xml": "<set>\n<parameter name='nidx' value='0' />\n",
    "comments": "",
    "x": 1801.9762649536133,
    "y": 1654.8572384119034,
    "z": "cf1e958c.7fbef8",
    "wires": []
  },
  {
    "id": "4d22c774.611da8",
    "type": "set",
    "name": "set nidx",
    "xml": "<set>\n<parameter name='nidx' value='`$service-data.networks.network_length`' />\n",
    "comments": "",
    "x": 1803.4048538208008,
    "y": 1699.8572994470596,
    "z": "cf1e958c.7fbef8",
    "wires": []
  },
  {
    "id": "651071ce.194a2",
    "type": "set",
    "name": "set network in service-data",
    "xml": "<set>\n<parameter name=\"service-data.networks.network[$nidx].network-id\" value='`$prop.dci.network-id`' />\n<parameter name='service-data.networks.network[$nidx].network-data.sdnc-request-header.' value='`$network-topology-operation-input.sdnc-request-header.`' />\n<parameter name='service-data.networks.network[$nidx].network-data.request-information.' value='`$network-topology-operation-input.request-information.`' />\n<parameter name='service-data.networks.network[$nidx].network-data.service-information.' value='`$network-topology-operation-input.service-information.`' />\n<parameter name='service-data.networks.network[$nidx].network-data.network-information.' value='`$network-topology-operation-input.network-information.`' />\n<parameter name='service-data.networks.network[$nidx].network-data.network-request-input.' value='`$network-topology-operation-input.network-request-input.`' />\n<parameter name=\"service-data.networks.network_length\" value='`$nidx+1`' />\n<parameter name='service-data.networks.network[$nidx].network-data.network-level-oper-status.order-status' value='Created' />\n<parameter name='service-data.networks.network[$nidx].network-data.network-level-oper-status.last-rpc-action' value='`$network-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.networks.network[$nidx].network-data.network-level-oper-status.last-action' value='`$network-topology-operation-input.request-information.request-action`' />\n\n\n",
    "comments": "",
    "x": 1347.1666793823242,
    "y": 1758.3334369659424,
    "z": "cf1e958c.7fbef8",
    "wires": []
  },
  {
    "id": "5c1bffb4.63e308",
    "type": "block",
    "name": "block : saveNetworkData",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "comments": "",
    "outputs": 1,
    "x": 1043.4999313354492,
    "y": 1597.6666278839111,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "ab97722c.5d4ce",
        "9ef95f17.a0015",
        "651071ce.194a2",
        "9eebec9d.2f3c9"
      ]
    ]
  },
  {
    "id": "9eebec9d.2f3c9",
    "type": "set",
    "name": "set networkId and network-object-path",
    "xml": "<set>\n<parameter name='networkId' value='`$prop.dci.network-id`' />\n<parameter name=\"network-object-path\" value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'  + $network-topology-operation-input.service-information.service-instance-id  + '/service-data/networks/network/'  + $prop.dci.network-id  + '/network-data/'` \" />",
    "comments": "",
    "x": 1379.4999313354492,
    "y": 1828.0000019073486,
    "z": "cf1e958c.7fbef8",
    "wires": []
  },
  {
    "id": "9eb66fb5.27033",
    "type": "record",
    "name": "record",
    "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"dci-network-topology-operation-activate\"/>\n<parameter name=\"field3\" value=\"dci-connects.name\"/>\n<parameter name=\"field4\" value=\"`$prop.dci-connects.name`\" />\n<parameter name=\"field5\" value=\"dci-connects.id\"/>\n<parameter name=\"field6\" value=\"`$prop.dci-connects.id`\"/>\n<parameter name=\"field7\" value=\"dci-connects.tunnelType\" />\n<parameter name=\"field8\" value=\"`$prop.dci-connects.tunnelType`\"/>\n<parameter name=\"field9\" value=\"sdncRestApi.thirdpartySdnc.url\"/>\n<parameter name=\"field10\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url`\"/>",
    "comments": "",
    "outputs": 1,
    "x": 1561.833724975586,
    "y": 1456.6667127609253,
    "z": "cf1e958c.7fbef8",
    "wires": [
      []
    ]
  },
  {
    "id": "d334df3b.7e75d8",
    "type": "comment",
    "name": "TODO",
    "info": "Currently activate is done without assignment, later divide in two phases.",
    "comments": "",
    "x": 1338.4999313354492,
    "y": 90.66666603088379,
    "z": "cf1e958c.7fbef8",
    "wires": []
  },
  {
    "id": "c4b84815.27de5",
    "type": "block",
    "name": "block setLocalNetworks",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 2561,
    "y": 960,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "fd7ef12a.af13a8",
        "431dac78.a25634"
      ]
    ]
  },
  {
    "id": "fd7ef12a.af13a8",
    "type": "set",
    "name": "set local_networks",
    "xml": "<set>\n<parameter name='tmp.dci-connects.local_networks.original' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2764,
    "y": 895,
    "z": "cf1e958c.7fbef8",
    "wires": []
  },
  {
    "id": "431dac78.a25634",
    "type": "execute",
    "name": "split local_networks",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.dci-connects.local_networks.original`'/>\n<parameter name=\"regex\" value=',' />\n<parameter name=\"ctx_memory_result_key\" value=\"tmp.dci-connects.local_networks\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 2793,
    "y": 947,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "b26744aa.5ef5f8",
        "4f0191d.7bcab7"
      ]
    ]
  },
  {
    "id": "b26744aa.5ef5f8",
    "type": "failure",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2990,
    "y": 882,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "7b77b046.9a18c"
      ]
    ]
  },
  {
    "id": "4f0191d.7bcab7",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2991,
    "y": 948,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "5dbbe62.d3c5198"
      ]
    ]
  },
  {
    "id": "5dbbe62.d3c5198",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
    "comments": "",
    "x": 3172,
    "y": 946,
    "z": "cf1e958c.7fbef8",
    "wires": []
  },
  {
    "id": "7b77b046.9a18c",
    "type": "for",
    "name": "for each local_networks",
    "xml": "<for index='idx' start='0' end='`$tmp.dci-connects.local_networks_length`' >\n\n",
    "comments": "",
    "outputs": 1,
    "x": 3192.5001640319824,
    "y": 881.5000400543213,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "481aa367.49438c"
      ]
    ]
  },
  {
    "id": "481aa367.49438c",
    "type": "get-resource",
    "name": "get-resource l3-network",
    "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"l3-network\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.dci-connects.local_networks[$idx] AND \n\t\t     depth = '0'\"\n        pfx='tmp.aai.l3-network' local-only='false' >\n",
    "comments": "",
    "outputs": 1,
    "x": 3465,
    "y": 880,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "f9f232d0.230d9",
        "ec03fafa.3b0368",
        "9c02da41.94b9a"
      ]
    ]
  },
  {
    "id": "f9f232d0.230d9",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 3683.7691192626953,
    "y": 840.6922347545624,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "a65e1ab.dd1dde8"
      ]
    ]
  },
  {
    "id": "ec03fafa.3b0368",
    "type": "not-found",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 3690.7691192626953,
    "y": 878.6922347545624,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "2c2a4f31.2b7338"
      ]
    ]
  },
  {
    "id": "9c02da41.94b9a",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 3682.7691192626953,
    "y": 920.6922347545624,
    "z": "cf1e958c.7fbef8",
    "wires": [
      [
        "ae479c4c.16ee9"
      ]
    ]
  },
  {
    "id": "2c2a4f31.2b7338",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
    "comments": "",
    "x": 3847.7691192626953,
    "y": 882.6922347545624,
    "z": "cf1e958c.7fbef8",
    "wires": []
  },
  {
    "id": "ae479c4c.16ee9",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
    "comments": "",
    "x": 3840.7691192626953,
    "y": 929.6922347545624,
    "z": "cf1e958c.7fbef8",
    "wires": []
  },
  {
    "id": "a65e1ab.dd1dde8",
    "type": "set",
    "name": "set network-id",
    "xml": "<set>\n<parameter name='prop.dci-connects.local_networks[$idx]' value=\"`$tmp.aai.l3-network.network-id`\" />\n",
    "comments": "",
    "x": 3858.2690505981445,
    "y": 837.1922149658203,
    "z": "cf1e958c.7fbef8",
    "wires": []
  },
  {
    "id": "56f7544c.7d9984",
    "type": "save",
    "name": "save overlay configuration in AAI",
    "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='configuration' \n      key='configuration.configuration-id = $prop.dci.network-id' >\n<parameter name='configuration-id' value='`$prop.dci.network-id`' />\n<parameter name='configuration-type' value='overlay' />\n<parameter name='orchestration-status' value='Created' />\n<parameter name='configuration-selflink' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'  + $network-topology-operation-input.service-information.service-instance-id  + '/service-data/networks/network/'  + $prop.dci.network-id  + '/network-data/'` \" />\n",
    "comments": "",
    "outputs": 1,
    "x": 794,
    "y": 1031,
    "z": "cf1e958c.7fbef8",
    "wires": [
      []
    ]
  },
  {
    "id": "168e5d62.705303",
    "type": "save",
    "name": "save service relationship in AAI",
    "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='service-instance:relationship-list' \n      key='service-instance.service-instance-id = $service-data.service-information.service-id' >\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"configuration\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"/network/configurations/configuration\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"configuration.configuration-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$prop.dci.network-id`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[1].relationship-key\" value=\"configuration.configuration-type\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[1].relationship-value\" value=\"overlay\" />",
    "comments": "",
    "outputs": 1,
    "x": 801,
    "y": 1113,
    "z": "cf1e958c.7fbef8",
    "wires": [
      []
    ]
  }
]
