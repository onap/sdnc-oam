[
  {
    "id": "c1f029b8.a1e58",
    "type": "dgstart",
    "name": "DGSTART",
    "outputs": 1,
    "x": 102,
    "y": 62,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "ef85c5fd.ef823"
      ]
    ]
  },
  {
    "id": "ef85c5fd.ef823",
    "type": "service-logic",
    "name": "GENERIC-RESOURCE-API ${project.version}",
    "module": "GENERIC-RESOURCE-API",
    "version": "${project.version}",
    "comments": "",
    "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
    "outputs": 1,
    "x": 318.5,
    "y": 124.5,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "515c9604.c78fc8"
      ]
    ]
  },
  {
    "id": "515c9604.c78fc8",
    "type": "method",
    "name": "method dci-connects-network-topology-operation-activate",
    "xml": "<method rpc='dci-connects-network-topology-operation-activate' mode='sync'>\n",
    "comments": "",
    "outputs": 1,
    "x": 226.50003051757812,
    "y": 219.49998474121094,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "6260ef3c.117e18"
      ]
    ]
  },
  {
    "id": "6260ef3c.117e18",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "outputs": 1,
    "x": 524.3333435058594,
    "y": 227.3333282470703,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "9c5e659e.5a8468",
        "14efaf2d.582f39",
        "e96c5239.cc3f4",
        "edee7e9.f5684",
        "c1d82a9d.7debd"
      ]
    ]
  },
  {
    "id": "14efaf2d.582f39",
    "type": "call",
    "name": "call GENERIC-RESOURCE-API:validate-network-input-parameters",
    "xml": "<call module='GENERIC-RESOURCE-API' rpc='validate-network-input-parameters' mode='sync' >\n",
    "comments": "",
    "outputs": 1,
    "x": 914.3333435058594,
    "y": 92.33332824707031,
    "z": "e441b8db.02f6b8",
    "wires": [
      []
    ]
  },
  {
    "id": "11728db1.0b1f22",
    "type": "for",
    "name": "for each network-input-parameters",
    "xml": "<for index='idx' start='0' end='`$network-topology-operation-input.network-request-input.network-input-parameters.param_length`' >\n\n",
    "comments": "",
    "outputs": 1,
    "x": 1432.3336334228516,
    "y": 365.333389043808,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "62d2a561.8055cc"
      ]
    ]
  },
  {
    "id": "62d2a561.8055cc",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1679.3335418701172,
    "y": 363.33335852622986,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "bb31f713.0d193",
        "c9b81c0f.b35a2",
        "972db21e.7bfc",
        "d4313d46.0ad918",
        "4fee8f3d.149ad",
        "5a1f2e0e.d48708",
        "c19cf751.1eed5",
        "132409b3.4b71ee",
        "cd65a796.961288"
      ]
    ]
  },
  {
    "id": "bb31f713.0d193",
    "type": "switchNode",
    "name": "switch id",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'site1_id'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2166.33390045166,
    "y": 239.33347511291504,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "a76462ff.b835d8"
      ]
    ]
  },
  {
    "id": "c9b81c0f.b35a2",
    "type": "switchNode",
    "name": "switch description",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'site1_description'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2194.33390045166,
    "y": 293.3334608078003,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "57a46fca.b19958"
      ]
    ]
  },
  {
    "id": "972db21e.7bfc",
    "type": "switchNode",
    "name": "switch routerId",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'site1_routerId'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2183.3336868286133,
    "y": 424.333420753479,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "30ca3831.cb43e8"
      ]
    ]
  },
  {
    "id": "d4313d46.0ad918",
    "type": "switchNode",
    "name": "switch importRT1",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'site1_importRT1'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2191.6194229125977,
    "y": 485.6191740036011,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "b3e5d4ae.a3dda"
      ]
    ]
  },
  {
    "id": "4fee8f3d.149ad",
    "type": "switchNode",
    "name": "switch exportRT1",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'site1_exportRT1'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2192.619483947754,
    "y": 549.6191447973251,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "8c2ed6a8.d98208"
      ]
    ]
  },
  {
    "id": "5a1f2e0e.d48708",
    "type": "switchNode",
    "name": "switch vni",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'site1_vni'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2163.619453430176,
    "y": 612.619176864624,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "b1cfec26.3ec6b"
      ]
    ]
  },
  {
    "id": "a76462ff.b835d8",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2381.33390045166,
    "y": 238.33347511291504,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "c92e65bb.5b6848"
      ]
    ]
  },
  {
    "id": "57a46fca.b19958",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2392.33390045166,
    "y": 293.3334608078003,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "f358b487.1305d8"
      ]
    ]
  },
  {
    "id": "30ca3831.cb43e8",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2388.3336868286133,
    "y": 423.333420753479,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "508f3269.7b7274"
      ]
    ]
  },
  {
    "id": "b3e5d4ae.a3dda",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2393.6194229125977,
    "y": 484.6191740036011,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "b0552f88.544ae8"
      ]
    ]
  },
  {
    "id": "8c2ed6a8.d98208",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2388.619483947754,
    "y": 546.6191447973251,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "caf135a5.75dfb"
      ]
    ]
  },
  {
    "id": "b1cfec26.3ec6b",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2369.619453430176,
    "y": 612.619176864624,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "9fed6f8d.3cc17"
      ]
    ]
  },
  {
    "id": "f358b487.1305d8",
    "type": "set",
    "name": "set description",
    "xml": "<set>\n<parameter name='prop.dci-connects.description' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2574.33390045166,
    "y": 286.3334608078003,
    "z": "e441b8db.02f6b8",
    "wires": []
  },
  {
    "id": "508f3269.7b7274",
    "type": "set",
    "name": "set router_id",
    "xml": "<set>\n<parameter name='prop.dci-connects.router_id' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2579.3339080810547,
    "y": 416.3335075378418,
    "z": "e441b8db.02f6b8",
    "wires": []
  },
  {
    "id": "9fed6f8d.3cc17",
    "type": "set",
    "name": "set vni",
    "xml": "<set>\n<parameter name='prop.dci-connects.vni' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2539.619453430176,
    "y": 604.619176864624,
    "z": "e441b8db.02f6b8",
    "wires": []
  },
  {
    "id": "9c5e659e.5a8468",
    "type": "returnSuccess",
    "name": "return success",
    "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
    "comments": "",
    "x": 747.6191711425781,
    "y": 1190.0477294921875,
    "z": "e441b8db.02f6b8",
    "wires": []
  },
  {
    "id": "c19cf751.1eed5",
    "type": "switchNode",
    "name": "switch name",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'name'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2177.5004348754883,
    "y": 180.50010681152344,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "d75f53ba.27ad98"
      ]
    ]
  },
  {
    "id": "d75f53ba.27ad98",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2375.5004348754883,
    "y": 180.50010681152344,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "be2d314a.29948"
      ]
    ]
  },
  {
    "id": "be2d314a.29948",
    "type": "set",
    "name": "set name",
    "xml": "<set>\n<parameter name='prop.dci-connects.name' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2557.5004348754883,
    "y": 173.50010681152344,
    "z": "e441b8db.02f6b8",
    "wires": []
  },
  {
    "id": "132409b3.4b71ee",
    "type": "switchNode",
    "name": "switch networkName",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'site1_networkName'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2201.0002212524414,
    "y": 359.5000467300415,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "b22fe3e2.4a61a"
      ]
    ]
  },
  {
    "id": "b22fe3e2.4a61a",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2399.0002212524414,
    "y": 359.5000467300415,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "6eecda19.439af4"
      ]
    ]
  },
  {
    "id": "e96c5239.cc3f4",
    "type": "block",
    "name": "block : execute",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "comments": "",
    "outputs": 1,
    "x": 747.9999313354492,
    "y": 600.5000457763672,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "284e1b18.dbac04",
        "550986c4.f40138",
        "861b73d2.7c3dc"
      ]
    ]
  },
  {
    "id": "284e1b18.dbac04",
    "type": "block",
    "name": "block : executeSite1",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "comments": "",
    "outputs": 1,
    "x": 1040.4999923706055,
    "y": 425.0000219345093,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "11728db1.0b1f22",
        "82851975.f9c43"
      ]
    ]
  },
  {
    "id": "550986c4.f40138",
    "type": "block",
    "name": "block : executeSite2",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "comments": "",
    "outputs": 1,
    "x": 1057.5000381469727,
    "y": 941.0000047683716,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "ef1d071a.3ba078",
        "82851975.f9c43"
      ]
    ]
  },
  {
    "id": "d7d72f5f.7a7ce",
    "type": "switchNode",
    "name": "switch id",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'site2_id'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2152.000244140625,
    "y": 759.9999389648438,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "d63e1652.f569d"
      ]
    ]
  },
  {
    "id": "dec2ce36.a7d0b8",
    "type": "switchNode",
    "name": "switch description",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'site2_description'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2176.0005950927734,
    "y": 818.999945640564,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "1dec5f83.486278",
        "2b5e6af5.fa1be6"
      ]
    ]
  },
  {
    "id": "98740756.5a0698",
    "type": "switchNode",
    "name": "switch routerId",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'site2_routerId'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2184.999984741211,
    "y": 1014.9999113082886,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "526a88c5.c1e6f"
      ]
    ]
  },
  {
    "id": "cf346f91.adf2b8",
    "type": "switchNode",
    "name": "switch importRT1",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'site2_importRT1'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2193.2857208251953,
    "y": 1076.2856645584106,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "fa93b7e1.ca525"
      ]
    ]
  },
  {
    "id": "ef96aea9.bb52b8",
    "type": "switchNode",
    "name": "switch exportRT1",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'site2_exportRT1'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2194.2857818603516,
    "y": 1140.2856353521347,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "3dfa7241.2277c6"
      ]
    ]
  },
  {
    "id": "38b0bb00.7d39e6",
    "type": "switchNode",
    "name": "switch vni",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'site2_vni'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2165.2857513427734,
    "y": 1203.2856674194336,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "4f915472.693e64"
      ]
    ]
  },
  {
    "id": "d63e1652.f569d",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2367.000244140625,
    "y": 758.9999389648438,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "fa875aed.c34ac"
      ]
    ]
  },
  {
    "id": "1dec5f83.486278",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2374.0005950927734,
    "y": 818.999945640564,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "33fd7326.698864"
      ]
    ]
  },
  {
    "id": "526a88c5.c1e6f",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2389.999984741211,
    "y": 1013.9999113082886,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "d17959a.97f2aa8"
      ]
    ]
  },
  {
    "id": "fa93b7e1.ca525",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2395.2857208251953,
    "y": 1075.2856645584106,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "5dc95384.4ed664"
      ]
    ]
  },
  {
    "id": "3dfa7241.2277c6",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2390.2857818603516,
    "y": 1137.2856353521347,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "c2766476.fb709"
      ]
    ]
  },
  {
    "id": "4f915472.693e64",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2371.2857513427734,
    "y": 1203.2856674194336,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "6837898c.7c5d88"
      ]
    ]
  },
  {
    "id": "33fd7326.698864",
    "type": "set",
    "name": "set description",
    "xml": "<set>\n<parameter name='prop.dci-connects.description' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2556.0005950927734,
    "y": 811.999945640564,
    "z": "e441b8db.02f6b8",
    "wires": []
  },
  {
    "id": "d17959a.97f2aa8",
    "type": "set",
    "name": "set router_id",
    "xml": "<set>\n<parameter name='prop.dci-connects.router_id' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2581.0002059936523,
    "y": 1006.9999980926514,
    "z": "e441b8db.02f6b8",
    "wires": []
  },
  {
    "id": "6837898c.7c5d88",
    "type": "set",
    "name": "set vni",
    "xml": "<set>\n<parameter name='prop.dci-connects.vni' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2541.2857513427734,
    "y": 1195.2856674194336,
    "z": "e441b8db.02f6b8",
    "wires": []
  },
  {
    "id": "70524c4e.0bccac",
    "type": "switchNode",
    "name": "switch networkName",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'site2_networkName'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2202.666519165039,
    "y": 950.1665372848511,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "4079fe10.73712"
      ]
    ]
  },
  {
    "id": "4079fe10.73712",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2400.666519165039,
    "y": 950.1665372848511,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "b289aa17.d6ea6"
      ]
    ]
  },
  {
    "id": "280833fe.9bdbb4",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1670.9996948242188,
    "y": 881.9998967647552,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "d7d72f5f.7a7ce",
        "dec2ce36.a7d0b8",
        "98740756.5a0698",
        "cf346f91.adf2b8",
        "ef96aea9.bb52b8",
        "38b0bb00.7d39e6",
        "70524c4e.0bccac"
      ]
    ]
  },
  {
    "id": "ef1d071a.3ba078",
    "type": "for",
    "name": "for each network-input-parameters",
    "xml": "<for index='idx' start='0' end='`$network-topology-operation-input.network-request-input.network-input-parameters.param_length`' >\n\n",
    "comments": "",
    "outputs": 1,
    "x": 1423.9997863769531,
    "y": 883.9999272823334,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "280833fe.9bdbb4"
      ]
    ]
  },
  {
    "id": "c92e65bb.5b6848",
    "type": "set",
    "name": "set id",
    "xml": "<set>\n<parameter name='prop.dci-connects.id' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2563.0002822875977,
    "y": 232.00002479553223,
    "z": "e441b8db.02f6b8",
    "wires": []
  },
  {
    "id": "cd65a796.961288",
    "type": "switchNode",
    "name": "switch tunnelType",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'tunnelType'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 2182.5,
    "y": 681.9999389648438,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "1fce8229.b61736"
      ]
    ]
  },
  {
    "id": "1fce8229.b61736",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2388.5,
    "y": 681.9999389648438,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "868e249c.157cd8"
      ]
    ]
  },
  {
    "id": "868e249c.157cd8",
    "type": "set",
    "name": "set tunnelType",
    "xml": "<set>\n<parameter name='prop.dci-connects.tunnelType' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2558.5,
    "y": 673.9999389648438,
    "z": "e441b8db.02f6b8",
    "wires": []
  },
  {
    "id": "82851975.f9c43",
    "type": "block",
    "name": "block : sendRequest",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "comments": "",
    "outputs": 1,
    "x": 1336.5000190734863,
    "y": 1441.4999446868896,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "2e5b4bbb.d3f49c",
        "cc5ac5d8.cd6108",
        "fdf840a9.0444e8"
      ]
    ]
  },
  {
    "id": "a91c0c9d.68d8d8",
    "type": "execute",
    "name": "execute RestApiCallNode Activate Vxlan Tunnel",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.sdncRestApi.templateDir +'/l3-dci-connects-template.json'`\"/>\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url +'/v2.0/l3-dci-connects'`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\"/>\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\"/>\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"restapi-result\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 2144.5002937316895,
    "y": 1504.4998998641968,
    "z": "e441b8db.02f6b8",
    "wires": [
      []
    ]
  },
  {
    "id": "dc2e27d2.f3149",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1822.9999771118164,
    "y": 1212.499531507492,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "7ff9492b.841e"
      ]
    ]
  },
  {
    "id": "ac70e961.9619e8",
    "type": "not-found",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1829.9999771118164,
    "y": 1250.499531507492,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "eb823b4e.91d25"
      ]
    ]
  },
  {
    "id": "ca05e8cb.5f4ec",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1821.9999771118164,
    "y": 1292.499531507492,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "85a36612.a37bb8"
      ]
    ]
  },
  {
    "id": "eb823b4e.91d25",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
    "comments": "",
    "x": 1986.9999771118164,
    "y": 1254.499531507492,
    "z": "e441b8db.02f6b8",
    "wires": []
  },
  {
    "id": "85a36612.a37bb8",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
    "comments": "",
    "x": 1979.9999771118164,
    "y": 1301.499531507492,
    "z": "e441b8db.02f6b8",
    "wires": []
  },
  {
    "id": "fdf840a9.0444e8",
    "type": "get-resource",
    "name": "get-resource esr-thirdparty-sdnc",
    "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $prop.dci-connects.id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.esr-thirdparty-sdnc' local-only='false' >\n",
    "comments": "",
    "outputs": 1,
    "x": 1604.230857849121,
    "y": 1251.8072967529297,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "dc2e27d2.f3149",
        "ac70e961.9619e8",
        "ca05e8cb.5f4ec"
      ]
    ]
  },
  {
    "id": "7ff9492b.841e",
    "type": "set",
    "name": "set controller data",
    "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.url' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.templateDir' value='/opt/onap/sdnc/data' />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.user' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.password' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n\n",
    "comments": "",
    "x": 1997.4999084472656,
    "y": 1208.99951171875,
    "z": "e441b8db.02f6b8",
    "wires": []
  },
  {
    "id": "2e5b4bbb.d3f49c",
    "type": "switchNode",
    "name": "switch tunnelType",
    "xml": "<switch test=\"`$prop.dci-connects.tunnelType`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1607.4997520446777,
    "y": 1528.9994106292725,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "3befe90d.b29476",
        "aa631529.b7acf8"
      ]
    ]
  },
  {
    "id": "3befe90d.b29476",
    "type": "outcomeTrue",
    "name": "L3-DCI",
    "xml": "<outcome value='L3-DCI'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1820.4998817443848,
    "y": 1508.9994106292725,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "a91c0c9d.68d8d8"
      ]
    ]
  },
  {
    "id": "aa631529.b7acf8",
    "type": "outcomeTrue",
    "name": "L2-DCI",
    "xml": "<outcome value='L2-DCI'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1818.4997024536133,
    "y": 1580.9994106292725,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "acdaaf2d.3fa418"
      ]
    ]
  },
  {
    "id": "fa875aed.c34ac",
    "type": "set",
    "name": "set id",
    "xml": "<set>\n<parameter name='prop.dci-connects.id' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2541.000217437744,
    "y": 753.9999914169312,
    "z": "e441b8db.02f6b8",
    "wires": []
  },
  {
    "id": "acdaaf2d.3fa418",
    "type": "execute",
    "name": "execute RestApiCallNode Activate Vxlan Tunnel",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.sdncRestApi.templateDir +'/l2-dci-connects-template.json'`\"/>\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url +'/v2.0/l2-dci-connects'`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\"/>\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\"/>\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"restapi-result\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 2138.5002479553223,
    "y": 1581.4998359680176,
    "z": "e441b8db.02f6b8",
    "wires": [
      []
    ]
  },
  {
    "id": "2b5e6af5.fa1be6",
    "type": "outcomeTrue",
    "name": "false",
    "xml": "<outcome value='false'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2372.500175476074,
    "y": 877.9999752044678,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "57bbffac.8097a"
      ]
    ]
  },
  {
    "id": "57bbffac.8097a",
    "type": "set",
    "name": "set description",
    "xml": "<set>\n<parameter name='prop.dci-connects.description' value='' />\n",
    "comments": "",
    "x": 2553.500244140625,
    "y": 872.9999160766602,
    "z": "e441b8db.02f6b8",
    "wires": []
  },
  {
    "id": "b0552f88.544ae8",
    "type": "block",
    "name": "block setEvpnIrts",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 2575.499755859375,
    "y": 486.5155963897705,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "a0835968.abab58",
        "29e92f82.7e48a"
      ]
    ]
  },
  {
    "id": "a0835968.abab58",
    "type": "set",
    "name": "set evpn_irts",
    "xml": "<set>\n<parameter name='tmp.dci-connects.evpn_irts.original' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2821.499755859375,
    "y": 437.5155963897705,
    "z": "e441b8db.02f6b8",
    "wires": []
  },
  {
    "id": "29e92f82.7e48a",
    "type": "execute",
    "name": "split evpn_irts",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.dci-connects.evpn_irts.original`'/>\n<parameter name=\"regex\" value=',' />\n<parameter name=\"ctx_memory_result_key\" value=\"tmp.dci-connects.evpn_irts\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 2850.499755859375,
    "y": 489.5155963897705,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "8e45a14f.6987e8",
        "7d8c23d3.29c044"
      ]
    ]
  },
  {
    "id": "7d8c23d3.29c044",
    "type": "failure",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 3067.499755859375,
    "y": 415.5155963897705,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "c173e280.2c1e9"
      ]
    ]
  },
  {
    "id": "8e45a14f.6987e8",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 3068.499755859375,
    "y": 481.5155963897705,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "3e58258.775a2da"
      ]
    ]
  },
  {
    "id": "3e58258.775a2da",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
    "comments": "",
    "x": 3249.499755859375,
    "y": 479.5155963897705,
    "z": "e441b8db.02f6b8",
    "wires": []
  },
  {
    "id": "beca6511.f65ce8",
    "type": "set",
    "name": "set evpn_erts",
    "xml": "<set>\n<parameter name='tmp.dci-connects.evpn_erts.original' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2817.999755859375,
    "y": 580.0156269073486,
    "z": "e441b8db.02f6b8",
    "wires": []
  },
  {
    "id": "5c8c8ec.d68a17",
    "type": "execute",
    "name": "split evpn_erts",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.dci-connects.evpn_erts.original`'/>\n<parameter name=\"regex\" value=',' />\n<parameter name=\"ctx_memory_result_key\" value=\"tmp.dci-connects.evpn_erts\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 2846.999755859375,
    "y": 632.0156269073486,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "f785906c.f11148",
        "cf6bfe81.a42eb"
      ]
    ]
  },
  {
    "id": "cf6bfe81.a42eb",
    "type": "failure",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 3063.999755859375,
    "y": 558.0156269073486,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "22c92a4e.65d95e"
      ]
    ]
  },
  {
    "id": "f785906c.f11148",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 3064.999755859375,
    "y": 624.0156269073486,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "e7b8be46.c3f6f8"
      ]
    ]
  },
  {
    "id": "e7b8be46.c3f6f8",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
    "comments": "",
    "x": 3245.999755859375,
    "y": 622.0156269073486,
    "z": "e441b8db.02f6b8",
    "wires": []
  },
  {
    "id": "caf135a5.75dfb",
    "type": "block",
    "name": "block setEvpnErts",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 2568.9996490478516,
    "y": 542.0156841278076,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "beca6511.f65ce8",
        "5c8c8ec.d68a17"
      ]
    ]
  },
  {
    "id": "c173e280.2c1e9",
    "type": "for",
    "name": "for each evpn_irts",
    "xml": "<for index='idx' start='0' end='`$tmp.dci-connects.evpn_irts_length`' >\n\n",
    "comments": "",
    "outputs": 1,
    "x": 3269.9999198913574,
    "y": 415.0156364440918,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "a51d665a.022ac"
      ]
    ]
  },
  {
    "id": "a51d665a.022ac",
    "type": "set",
    "name": "set evpn_irt",
    "xml": "<set>\n<parameter name='prop.dci-connects.evpn_irts[$idx]' value='`$tmp.dci-connects.evpn_irts[$idx]`' />\n",
    "comments": "",
    "x": 3482.0004119873047,
    "y": 415.0157890319824,
    "z": "e441b8db.02f6b8",
    "wires": []
  },
  {
    "id": "22c92a4e.65d95e",
    "type": "for",
    "name": "for each evpn_erts",
    "xml": "<for index='idx' start='0' end='`$tmp.dci-connects.evpn_erts_length`' >\n\n",
    "comments": "",
    "outputs": 1,
    "x": 3263.499755859375,
    "y": 554.0156269073486,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "aa48125e.46af68"
      ]
    ]
  },
  {
    "id": "aa48125e.46af68",
    "type": "set",
    "name": "set evpn_ert",
    "xml": "<set>\n<parameter name='prop.dci-connects.evpn_erts[$idx]' value='`$tmp.dci-connects.evpn_erts[$idx]`' />\n",
    "comments": "",
    "x": 3475.5002479553223,
    "y": 554.0157794952393,
    "z": "e441b8db.02f6b8",
    "wires": []
  },
  {
    "id": "df48b455.f78358",
    "type": "set",
    "name": "set evpn_irts",
    "xml": "<set>\n<parameter name='tmp.dci-connects.evpn_irts.original' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2834.499755859375,
    "y": 1020.5155658721924,
    "z": "e441b8db.02f6b8",
    "wires": []
  },
  {
    "id": "4671089c.4065d",
    "type": "execute",
    "name": "split evpn_irts",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.dci-connects.evpn_irts.original`'/>\n<parameter name=\"regex\" value=',' />\n<parameter name=\"ctx_memory_result_key\" value=\"tmp.dci-connects.evpn_irts\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 2863.499755859375,
    "y": 1072.5155658721924,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "c07a8fe4.eee06",
        "b25e01c2.b4c498"
      ]
    ]
  },
  {
    "id": "b25e01c2.b4c498",
    "type": "failure",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 3080.499755859375,
    "y": 998.5155658721924,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "fd6137f0.99036"
      ]
    ]
  },
  {
    "id": "c07a8fe4.eee06",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 3081.499755859375,
    "y": 1064.5155658721924,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "ae803047.be9f4"
      ]
    ]
  },
  {
    "id": "ae803047.be9f4",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
    "comments": "",
    "x": 3262.499755859375,
    "y": 1062.5155658721924,
    "z": "e441b8db.02f6b8",
    "wires": []
  },
  {
    "id": "dca9a5fc.c2dd7",
    "type": "set",
    "name": "set evpn_erts",
    "xml": "<set>\n<parameter name='tmp.dci-connects.evpn_erts.original' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2830.999755859375,
    "y": 1163.0155963897705,
    "z": "e441b8db.02f6b8",
    "wires": []
  },
  {
    "id": "d09c4d61.8c28a8",
    "type": "execute",
    "name": "split evpn_erts",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.dci-connects.evpn_erts.original`'/>\n<parameter name=\"regex\" value=',' />\n<parameter name=\"ctx_memory_result_key\" value=\"tmp.dci-connects.evpn_erts\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 2859.999755859375,
    "y": 1215.0155963897705,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "16d5f80f.face6",
        "d6e6a1c9.8aba28"
      ]
    ]
  },
  {
    "id": "d6e6a1c9.8aba28",
    "type": "failure",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 3076.999755859375,
    "y": 1141.0155963897705,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "1e8c72ef.2dadbd"
      ]
    ]
  },
  {
    "id": "16d5f80f.face6",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 3077.999755859375,
    "y": 1207.0155963897705,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "a59e780.8734808"
      ]
    ]
  },
  {
    "id": "a59e780.8734808",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
    "comments": "",
    "x": 3258.999755859375,
    "y": 1205.0155963897705,
    "z": "e441b8db.02f6b8",
    "wires": []
  },
  {
    "id": "fd6137f0.99036",
    "type": "for",
    "name": "for each evpn_irts",
    "xml": "<for index='idx' start='0' end='`$tmp.dci-connects.evpn_irts_length`' >\n\n",
    "comments": "",
    "outputs": 1,
    "x": 3282.9999198913574,
    "y": 998.0156059265137,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "3366154b.09f69a"
      ]
    ]
  },
  {
    "id": "3366154b.09f69a",
    "type": "set",
    "name": "set evpn_irt",
    "xml": "<set>\n<parameter name='prop.dci-connects.evpn_irts[$idx]' value='`$tmp.dci-connects.evpn_irts[$idx]`' />\n",
    "comments": "",
    "x": 3495.0004119873047,
    "y": 998.0157585144043,
    "z": "e441b8db.02f6b8",
    "wires": []
  },
  {
    "id": "1e8c72ef.2dadbd",
    "type": "for",
    "name": "for each evpn_erts",
    "xml": "<for index='idx' start='0' end='`$tmp.dci-connects.evpn_erts_length`' >\n\n",
    "comments": "",
    "outputs": 1,
    "x": 3276.499755859375,
    "y": 1137.0155963897705,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "83278032.925b58"
      ]
    ]
  },
  {
    "id": "83278032.925b58",
    "type": "set",
    "name": "set evpn_ert",
    "xml": "<set>\n<parameter name='prop.dci-connects.evpn_erts[$idx]' value='`$tmp.dci-connects.evpn_erts[$idx]`' />\n",
    "comments": "",
    "x": 3488.5002479553223,
    "y": 1137.0157489776611,
    "z": "e441b8db.02f6b8",
    "wires": []
  },
  {
    "id": "5dc95384.4ed664",
    "type": "block",
    "name": "block setEvpnIrts",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 2588.499755859375,
    "y": 1069.5155658721924,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "df48b455.f78358",
        "4671089c.4065d"
      ]
    ]
  },
  {
    "id": "c2766476.fb709",
    "type": "block",
    "name": "block setEvpnErts",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 2581.9996490478516,
    "y": 1125.0156536102295,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "dca9a5fc.c2dd7",
        "d09c4d61.8c28a8"
      ]
    ]
  },
  {
    "id": "a8dbfcec.d67fe8",
    "type": "execute",
    "name": "execute generate-overlay-network-id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.dci.network-id\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 1393.6667098999023,
    "y": 1605.3334283828735,
    "z": "e441b8db.02f6b8",
    "wires": [
      []
    ]
  },
  {
    "id": "c861a6a.2bad4d8",
    "type": "switchNode",
    "name": "switch service-data.networks_length",
    "xml": "<switch test='`$service-data.networks.network_length`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1385.6667251586914,
    "y": 1675.3334347009659,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "ec47d113.88981",
        "a4b7938c.8397d8"
      ]
    ]
  },
  {
    "id": "ec47d113.88981",
    "type": "other",
    "name": "Null",
    "xml": "<outcome value=''>\n",
    "comments": "",
    "outputs": 1,
    "x": 1659.4762954711914,
    "y": 1644.2858272790909,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "1ffb3be3.659b34"
      ]
    ]
  },
  {
    "id": "a4b7938c.8397d8",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1654.3334732055664,
    "y": 1690.0001217126846,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "b8b2072e.0d1078"
      ]
    ]
  },
  {
    "id": "1ffb3be3.659b34",
    "type": "set",
    "name": "set nidx",
    "xml": "<set>\n<parameter name='nidx' value='0' />\n",
    "comments": "",
    "x": 1812.4762954711914,
    "y": 1643.8572384119034,
    "z": "e441b8db.02f6b8",
    "wires": []
  },
  {
    "id": "b8b2072e.0d1078",
    "type": "set",
    "name": "set nidx",
    "xml": "<set>\n<parameter name='nidx' value='`$service-data.networks.network_length`' />\n",
    "comments": "",
    "x": 1813.904884338379,
    "y": 1688.8572994470596,
    "z": "e441b8db.02f6b8",
    "wires": []
  },
  {
    "id": "a90e8a48.4fa9a8",
    "type": "set",
    "name": "set network in service-data",
    "xml": "<set>\n<parameter name=\"service-data.networks.network[$nidx].network-id\" value='`$prop.dci.network-id`' />\n<parameter name='service-data.networks.network[$nidx].network-data.sdnc-request-header.' value='`$network-topology-operation-input.sdnc-request-header.`' />\n<parameter name='service-data.networks.network[$nidx].network-data.request-information.' value='`$network-topology-operation-input.request-information.`' />\n<parameter name='service-data.networks.network[$nidx].network-data.service-information.' value='`$network-topology-operation-input.service-information.`' />\n<parameter name='service-data.networks.network[$nidx].network-data.network-information.' value='`$network-topology-operation-input.network-information.`' />\n<parameter name='service-data.networks.network[$nidx].network-data.network-request-input.' value='`$network-topology-operation-input.network-request-input.`' />\n<parameter name=\"service-data.networks.network_length\" value='`$nidx+1`' />\n<parameter name='service-data.networks.network[$nidx].network-data.network-level-oper-status.order-status' value='Created' />\n<parameter name='service-data.networks.network[$nidx].network-data.network-level-oper-status.last-rpc-action' value='`$network-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.networks.network[$nidx].network-data.network-level-oper-status.last-action' value='`$network-topology-operation-input.request-information.request-action`' />\n\n\n",
    "comments": "",
    "x": 1357.6667098999023,
    "y": 1747.3334369659424,
    "z": "e441b8db.02f6b8",
    "wires": []
  },
  {
    "id": "861b73d2.7c3dc",
    "type": "block",
    "name": "block : saveNetworkData",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "comments": "",
    "outputs": 1,
    "x": 1053.9999618530273,
    "y": 1586.6666278839111,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "a8dbfcec.d67fe8",
        "c861a6a.2bad4d8",
        "a90e8a48.4fa9a8",
        "b943b7ea.3454d"
      ]
    ]
  },
  {
    "id": "b943b7ea.3454d",
    "type": "set",
    "name": "set networkId and network-object-path",
    "xml": "<set>\n<parameter name='networkId' value='`$prop.dci.network-id`' />\n<parameter name=\"network-object-path\" value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'  + $network-topology-operation-input.service-information.service-instance-id  + '/service-data/networks/network/'  + $prop.dci.network-id  + '/network-data/'` \" />",
    "comments": "",
    "x": 1389.9999618530273,
    "y": 1817.0000019073486,
    "z": "e441b8db.02f6b8",
    "wires": []
  },
  {
    "id": "cc5ac5d8.cd6108",
    "type": "record",
    "name": "record",
    "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"dci-network-topology-operation-activate\"/>\n<parameter name=\"field3\" value=\"dci-connects.name\"/>\n<parameter name=\"field4\" value=\"`$prop.dci-connects.name`\" />\n<parameter name=\"field5\" value=\"dci-connects.id\"/>\n<parameter name=\"field6\" value=\"`$prop.dci-connects.id`\"/>\n<parameter name=\"field7\" value=\"dci-connects.tunnelType\" />\n<parameter name=\"field8\" value=\"`$prop.dci-connects.tunnelType`\"/>\n<parameter name=\"field9\" value=\"sdncRestApi.thirdpartySdnc.url\"/>\n<parameter name=\"field10\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url`\"/>",
    "comments": "",
    "outputs": 1,
    "x": 1572.333755493164,
    "y": 1445.6667127609253,
    "z": "e441b8db.02f6b8",
    "wires": [
      []
    ]
  },
  {
    "id": "7460e970.19e46",
    "type": "comment",
    "name": "TODO",
    "info": "Currently activate is done without assignment, later divide in two phases.",
    "comments": "",
    "x": 1348.9999618530273,
    "y": 79.66666603088379,
    "z": "e441b8db.02f6b8",
    "wires": []
  },
  {
    "id": "b289aa17.d6ea6",
    "type": "block",
    "name": "block setLocalNetworks",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 2571.500030517578,
    "y": 949,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "f627cda3.14a76",
        "25c7d846.4b2ee8"
      ]
    ]
  },
  {
    "id": "f627cda3.14a76",
    "type": "set",
    "name": "set local_networks",
    "xml": "<set>\n<parameter name='tmp.dci-connects.local_networks.original' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2774.500030517578,
    "y": 884,
    "z": "e441b8db.02f6b8",
    "wires": []
  },
  {
    "id": "25c7d846.4b2ee8",
    "type": "execute",
    "name": "split local_networks",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.dci-connects.local_networks.original`'/>\n<parameter name=\"regex\" value=',' />\n<parameter name=\"ctx_memory_result_key\" value=\"tmp.dci-connects.local_networks\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 2803.500030517578,
    "y": 936,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "fc4b2239.ad95e",
        "b78d8584.51d7a"
      ]
    ]
  },
  {
    "id": "fc4b2239.ad95e",
    "type": "failure",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 3000.500030517578,
    "y": 871,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "967e5828.2a4"
      ]
    ]
  },
  {
    "id": "b78d8584.51d7a",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 3001.500030517578,
    "y": 937,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "daabf19.5290e1"
      ]
    ]
  },
  {
    "id": "daabf19.5290e1",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
    "comments": "",
    "x": 3182.500030517578,
    "y": 935,
    "z": "e441b8db.02f6b8",
    "wires": []
  },
  {
    "id": "967e5828.2a4",
    "type": "for",
    "name": "for each local_networks",
    "xml": "<for index='idx' start='0' end='`$tmp.dci-connects.local_networks_length`' >\n\n",
    "comments": "",
    "outputs": 1,
    "x": 3203.0001945495605,
    "y": 870.5000400543213,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "fc475635.0ecc7"
      ]
    ]
  },
  {
    "id": "fc475635.0ecc7",
    "type": "get-resource",
    "name": "get-resource l3-network",
    "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"l3-network\" \n\t\tkey=\"l3-network.network-name = $tmp.dci-connects.local_networks[$idx] AND \n\t\t     depth = '0'\"\n        pfx='tmp.aai.l3-network' local-only='false' >\n",
    "comments": "",
    "outputs": 1,
    "x": 3475.500030517578,
    "y": 869,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "3713fed6.e8a612",
        "948581dc.359b18",
        "a5fff0f8.ef0de"
      ]
    ]
  },
  {
    "id": "3713fed6.e8a612",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 3694.2691497802734,
    "y": 829.6922347545624,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "74fe93ab.32caec"
      ]
    ]
  },
  {
    "id": "948581dc.359b18",
    "type": "not-found",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 3701.2691497802734,
    "y": 867.6922347545624,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "3de46cb6.4664a4"
      ]
    ]
  },
  {
    "id": "a5fff0f8.ef0de",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 3693.2691497802734,
    "y": 909.6922347545624,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "16b5935a.976ded"
      ]
    ]
  },
  {
    "id": "3de46cb6.4664a4",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
    "comments": "",
    "x": 3858.2691497802734,
    "y": 871.6922347545624,
    "z": "e441b8db.02f6b8",
    "wires": []
  },
  {
    "id": "16b5935a.976ded",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
    "comments": "",
    "x": 3851.2691497802734,
    "y": 918.6922347545624,
    "z": "e441b8db.02f6b8",
    "wires": []
  },
  {
    "id": "74fe93ab.32caec",
    "type": "set",
    "name": "set network-id",
    "xml": "<set>\n<parameter name='prop.dci-connects.local_networks[$idx]' value=\"`$tmp.aai.l3-network.network-id`\" />\n",
    "comments": "",
    "x": 3868.7690811157227,
    "y": 826.1922149658203,
    "z": "e441b8db.02f6b8",
    "wires": []
  },
  {
    "id": "edee7e9.f5684",
    "type": "save",
    "name": "save overlay configuration in AAI",
    "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='configuration' \n      key='configuration.configuration-id = $prop.dci.network-id' >\n<parameter name='configuration-id' value='`$prop.dci.network-id`' />\n<parameter name='configuration-type' value='overlay' />\n<parameter name='orchestration-status' value='Created' />\n<parameter name='configuration-selflink' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'  + $network-topology-operation-input.service-information.service-instance-id  + '/service-data/networks/network/'  + $prop.dci.network-id  + '/network-data/'` \" />\n",
    "comments": "",
    "outputs": 1,
    "x": 853.5,
    "y": 1023,
    "z": "e441b8db.02f6b8",
    "wires": [
      []
    ]
  },
  {
    "id": "c1d82a9d.7debd",
    "type": "save",
    "name": "save service relationship in AAI",
    "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='service-instance:relationship-list' \n      key='service-instance.service-instance-id = $service-data.service-information.service-id' >\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"configuration\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"/network/configurations/configuration\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"configuration.configuration-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$prop.dci.network-id`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[1].relationship-key\" value=\"configuration.configuration-type\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[1].relationship-value\" value=\"overlay\" />",
    "comments": "",
    "outputs": 1,
    "x": 811.5000305175781,
    "y": 1102,
    "z": "e441b8db.02f6b8",
    "wires": [
      []
    ]
  },
  {
    "id": "6eecda19.439af4",
    "type": "block",
    "name": "block setLocalNetworks",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 2602,
    "y": 356,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "bdc08c35.1283",
        "394dfa49.7d183e"
      ]
    ]
  },
  {
    "id": "bdc08c35.1283",
    "type": "set",
    "name": "set local_networks",
    "xml": "<set>\n<parameter name='tmp.dci-connects.local_networks.original' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2805,
    "y": 291,
    "z": "e441b8db.02f6b8",
    "wires": []
  },
  {
    "id": "394dfa49.7d183e",
    "type": "execute",
    "name": "split local_networks",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$tmp.dci-connects.local_networks.original`'/>\n<parameter name=\"regex\" value=',' />\n<parameter name=\"ctx_memory_result_key\" value=\"tmp.dci-connects.local_networks\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 2834,
    "y": 343,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "60eb5396.78be9c",
        "4332c294.3fe73c"
      ]
    ]
  },
  {
    "id": "60eb5396.78be9c",
    "type": "failure",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 3031,
    "y": 278,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "1db92507.15d47b"
      ]
    ]
  },
  {
    "id": "4332c294.3fe73c",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 3032,
    "y": 344,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "8c77dee5.f45208"
      ]
    ]
  },
  {
    "id": "8c77dee5.f45208",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
    "comments": "",
    "x": 3213,
    "y": 342,
    "z": "e441b8db.02f6b8",
    "wires": []
  },
  {
    "id": "1db92507.15d47b",
    "type": "for",
    "name": "for each local_networks",
    "xml": "<for index='idx' start='0' end='`$tmp.dci-connects.local_networks_length`' >\n\n",
    "comments": "",
    "outputs": 1,
    "x": 3233.5001640319824,
    "y": 277.5000400543213,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "5d5e8ee8.e594e8"
      ]
    ]
  },
  {
    "id": "5d5e8ee8.e594e8",
    "type": "get-resource",
    "name": "get-resource l3-network",
    "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"l3-network\" \n\t\tkey=\"l3-network.network-name = $tmp.dci-connects.local_networks[$idx] AND \n\t\t     depth = '0'\"\n        pfx='tmp.aai.l3-network' local-only='false' >\n",
    "comments": "",
    "outputs": 1,
    "x": 3506,
    "y": 276,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "9eecd85b.9e0378",
        "f0b90daa.70ba48",
        "c26d74dd.826c88"
      ]
    ]
  },
  {
    "id": "c26d74dd.826c88",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 3723.7691192626953,
    "y": 316.6922347545624,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "19ff7603.327b32"
      ]
    ]
  },
  {
    "id": "f0b90daa.70ba48",
    "type": "not-found",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 3731.7691192626953,
    "y": 274.6922347545624,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "283dc5a8.944bea"
      ]
    ]
  },
  {
    "id": "9eecd85b.9e0378",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 3724.7691192626953,
    "y": 236.69223475456238,
    "z": "e441b8db.02f6b8",
    "wires": [
      [
        "974d7763.cd52a8"
      ]
    ]
  },
  {
    "id": "974d7763.cd52a8",
    "type": "set",
    "name": "set network-id",
    "xml": "<set>\n<parameter name='prop.dci-connects.local_networks[$idx]' value=\"`$tmp.aai.l3-network.network-id`\" />\n",
    "comments": "",
    "x": 3899.2690505981445,
    "y": 233.1922149658203,
    "z": "e441b8db.02f6b8",
    "wires": []
  },
  {
    "id": "283dc5a8.944bea",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
    "comments": "",
    "x": 3888.7691192626953,
    "y": 278.6922347545624,
    "z": "e441b8db.02f6b8",
    "wires": []
  },
  {
    "id": "19ff7603.327b32",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
    "comments": "",
    "x": 3881.7691192626953,
    "y": 325.6922347545624,
    "z": "e441b8db.02f6b8",
    "wires": []
  }
]
