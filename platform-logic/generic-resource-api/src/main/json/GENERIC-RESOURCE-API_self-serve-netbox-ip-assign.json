[
    {
        "id": "77c2b18.8d31ed",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 112,
        "y": 53.57143306732178,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "9dcfa1bf.c57ff"
            ]
        ]
    },
    {
        "id": "f8a5c87f.00d498",
        "type": "method",
        "name": "method self-serve-netbox-ip-assign",
        "xml": "<method rpc='self-serve-netbox-ip-assign' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 247.7857208251953,
        "y": 110.69842147827148,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "547eae19.add57"
            ]
        ]
    },
    {
        "id": "547eae19.add57",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 141.32144165039062,
        "y": 197.0000400543213,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "74f4f85d.362368",
                "511e7db4.d38c5c",
                "1c580da3.ca9442",
                "9b5b9dd.e182f6",
                "727a4c78.25da9c"
            ]
        ]
    },
    {
        "id": "9dcfa1bf.c57ff",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 384.8571472167969,
        "y": 53,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "f8a5c87f.00d498"
            ]
        ]
    },
    {
        "id": "74f4f85d.362368",
        "type": "switchNode",
        "name": "switch: ss.capability-name",
        "xml": "<switch test='`$ss.capability-name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 399.4999694824219,
        "y": 200.82144165039062,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "b9e21b14.67ef6"
            ]
        ]
    },
    {
        "id": "b9e21b14.67ef6",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "outputs": 1,
        "x": 624.4999923706055,
        "y": 201.32144021987915,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "73fe504e.4705c"
            ]
        ]
    },
    {
        "id": "73fe504e.4705c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status=\"failure\">\n\t<parameter name=\"ack-final\" value=\"Y\" />\n\t<parameter name=\"error-code\" value=\"500\"/>\n\t<parameter name=\"error-message\" value=\"ss.capability-name is null\" />\n",
        "comments": "",
        "x": 784.4166641235352,
        "y": 201.43253898620605,
        "z": "9db1531d.07a1a",
        "wires": []
    },
    {
        "id": "511e7db4.d38c5c",
        "type": "switchNode",
        "name": "switch: ss.capability-action",
        "xml": "<switch test='`$ss.capability-action`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 402.74996185302734,
        "y": 276.82143688201904,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "44dc8d7e.430a74"
            ]
        ]
    },
    {
        "id": "44dc8d7e.430a74",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 626.2499618530273,
        "y": 277.07143688201904,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "1a43de2d.0a450a"
            ]
        ]
    },
    {
        "id": "1a43de2d.0a450a",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status=\"failure\">\n\t<parameter name=\"ack-final\" value=\"Y\" />\n\t<parameter name=\"error-code\" value=\"500\"/>\n\t<parameter name=\"error-message\" value=\"ss.capability-action is null\" />\n",
        "comments": "",
        "x": 786.166633605957,
        "y": 277.18253564834595,
        "z": "9db1531d.07a1a",
        "wires": []
    },
    {
        "id": "19870db6.43192a",
        "type": "outcome",
        "name": "unassign",
        "xml": "<outcome value='unassign'>",
        "comments": "",
        "outputs": 1,
        "x": 1251.8930969238281,
        "y": 3041.6666650772095,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "d275ec9.837569"
            ]
        ]
    },
    {
        "id": "1c580da3.ca9442",
        "type": "call",
        "name": "call self-service-capability-param-resolution",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='self-service-capability-param-resolution' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 453.41680908203125,
        "y": 351.82147216796875,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "5d40b27c.221a9c"
            ]
        ]
    },
    {
        "id": "5d40b27c.221a9c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 757.6667060852051,
        "y": 353.821475982666,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "edcc63af.4dd9d8"
            ]
        ]
    },
    {
        "id": "edcc63af.4dd9d8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status=\"failure\">\n\t<parameter name=\"ack-final\" value=\"Y\" />\n\t<parameter name=\"error-code\" value=\"500\"/>\n\t<parameter name=\"error-message\" value=\"`'Not all assignments are resolved' + $error-message`\" />\n",
        "comments": "",
        "x": 916.4166870117188,
        "y": 353.82147216796875,
        "z": "9db1531d.07a1a",
        "wires": []
    },
    {
        "id": "4f9c6ac7.4bbeac",
        "type": "set",
        "name": "set tmp.ss.param.capability-name",
        "xml": "<set>\n<parameter name='tmp.ss.param.capability-name' \n\tvalue='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.capability-name`' />\n",
        "comments": "",
        "x": 1199.0635833740234,
        "y": 1963.7697825431824,
        "z": "9db1531d.07a1a",
        "wires": []
    },
    {
        "id": "c92d4312.5079b8",
        "type": "for",
        "name": "for pidx in param_length",
        "xml": "<for index=\"pidx\" start=\"0\" end=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param_length`\">",
        "comments": "",
        "outputs": 1,
        "x": 909.2778091430664,
        "y": 1963.8412528038025,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "f2a77014.d729d8",
                "864fa674.d2c07",
                "4f9c6ac7.4bbeac"
            ]
        ]
    },
    {
        "id": "864fa674.d2c07",
        "type": "switchNode",
        "name": "switch: capability-name - ss vs param",
        "xml": "<switch test='`$tmp.ss.param.capability-name == $ss.capability-name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1212.139045715332,
        "y": 2045.119035243988,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "27ca1b50.7b7b94"
            ]
        ]
    },
    {
        "id": "27ca1b50.7b7b94",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1450.8890533447266,
        "y": 2044.869035243988,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "8094ff69.1f8708"
            ]
        ]
    },
    {
        "id": "e4dea9e2.e240e8",
        "type": "switchNode",
        "name": "switch: resource-key[].name",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.resource-key[$kidx].name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1700.7783126831055,
        "y": 2295.1630301475525,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "33db91f0.e9f01e",
                "e6bd6a68.08413",
                "5e2abf9b.b85b4",
                "a20a3dc.5fc3fc",
                "82eaeb00.f8a53"
            ]
        ]
    },
    {
        "id": "e6bd6a68.08413",
        "type": "outcome",
        "name": "service-instance-id",
        "xml": "<outcome value='service-instance-id'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1972.167221069336,
        "y": 2294.6352486610413,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "ef960f90.e62e4"
            ]
        ]
    },
    {
        "id": "ef960f90.e62e4",
        "type": "set",
        "name": "set tmp.ss.service-instance-id",
        "xml": "<set>\n<parameter name='tmp.ss.service-instance-id' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.resource-key[$kidx].value`' />\n",
        "comments": "",
        "x": 2238.417221069336,
        "y": 2294.3852486610413,
        "z": "9db1531d.07a1a",
        "wires": []
    },
    {
        "id": "b434a262.2a412",
        "type": "set",
        "name": "set service-data...param[].value = ip-address",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].value' \n\tvalue='`$ip[0]`' />\n",
        "comments": "",
        "x": 2534.960205078125,
        "y": 2879.62744140625,
        "z": "9db1531d.07a1a",
        "wires": []
    },
    {
        "id": "7e13641e.d9c954",
        "type": "update",
        "name": "get-resource IPAM_IP_ASSIGNEMENT",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n\tkey='SELECT * from IPAM_IP_ASSIGNEMENT \n\t\tWHERE external_key = $tmp.ss.external-key\n\t\tAND service_instance_id = $tmp.ss.service-instance-id' >",
        "comments": "",
        "outputs": 1,
        "x": 1727.3771667480469,
        "y": 3040.488076210022,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "986620e4.a7ba3",
                "95406bea.6b1b6"
            ]
        ]
    },
    {
        "id": "986620e4.a7ba3",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2021.9645042419434,
        "y": 3041.4881093502045,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "d043ccbb.6e195"
            ]
        ]
    },
    {
        "id": "d275ec9.837569",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1421.2144622802734,
        "y": 3042.1310205459595,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "7e13641e.d9c954"
            ]
        ]
    },
    {
        "id": "eabe3654.2861f",
        "type": "for",
        "name": "for kidx in resource-key_length",
        "xml": "<for index=\"kidx\" start=\"0\" end=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.resource-key_length`\">",
        "comments": "",
        "outputs": 1,
        "x": 1417.6393966674805,
        "y": 2293.0241141319275,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "e4dea9e2.e240e8"
            ]
        ]
    },
    {
        "id": "3a044c4d.1e750c",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 625.5358581542969,
        "y": 1961.9642333984375,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "c92d4312.5079b8",
                "4ffc883e.37e15"
            ]
        ]
    },
    {
        "id": "776bc197.c4cea8",
        "type": "update",
        "name": "update IPAM_IP_ASSIGNEMENT to PENDING_DELETE...",
        "xml": "<update plugin=\"org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource\" resource=\"SQL\"\n\tkey=\"UPDATE IPAM_IP_ASSIGNEMENT set ip_status = $tmp.status \n\t\tWHERE external_key = $tmp.ss.external-key\n\t\tAND service_instance_id = $tmp.ss.service-instance-id\" >",
        "comments": "",
        "outputs": 1,
        "x": 2550.274139404297,
        "y": 3132.166787147522,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "b463a755.296e38"
            ]
        ]
    },
    {
        "id": "e61cd52d.9b53c8",
        "type": "set",
        "name": "set status = PENDING_DELETE",
        "xml": "<set>\n<parameter name='tmp.status' value=\"PENDING_DELETE\" />\n",
        "comments": "",
        "x": 2460.190643310547,
        "y": 3090.500039100647,
        "z": "9db1531d.07a1a",
        "wires": []
    },
    {
        "id": "b463a755.296e38",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2857.9405975341797,
        "y": 3132.7501106262207,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "623c3038.c77a88"
            ]
        ]
    },
    {
        "id": "623c3038.c77a88",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Error updating NETBOX_IP_ASSIGNMENTS table to unassign ip with external_key=' + $tmp.ss.external-key + ' and service_instance_id=' + $tmp.ss.service-instance-id`\" />\n",
        "comments": "",
        "x": 3036.940887451172,
        "y": 3132.5597314834595,
        "z": "9db1531d.07a1a",
        "wires": []
    },
    {
        "id": "46730243.5a19d4",
        "type": "execute",
        "name": "execute Netbox unassign IP addresses",
        "xml": "<execute plugin=\"org.onap.ccsdk.sli.adaptors.netbox.api.NetboxClient\" method=\"unassignIpAddress\">\n<parameter name=\"service_instance_id\" value=\"`$tmp.ss.service-instance-id`\" />\n<parameter name=\"external_key\" value=\"`$tmp.ss.external-key`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2480.2740173339844,
        "y": 3178.416848182678,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "41c93106.7eb858",
                "7f8823ca.cd3dd4"
            ]
        ]
    },
    {
        "id": "41c93106.7eb858",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2723.6072845458984,
        "y": 3178.4167976379395,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "572457e6.ddb978"
            ]
        ]
    },
    {
        "id": "572457e6.ddb978",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Error in NetboxClient#unassignIPAddress with external-key='+ $tmp.ss.external-key`\" />\n",
        "comments": "",
        "x": 2885.6073112487793,
        "y": 3178.226532936096,
        "z": "9db1531d.07a1a",
        "wires": []
    },
    {
        "id": "a33aa0af.bd279",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2200.893051147461,
        "y": 3089.916666984558,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "e61cd52d.9b53c8",
                "776bc197.c4cea8",
                "46730243.5a19d4"
            ]
        ]
    },
    {
        "id": "4ffc883e.37e15",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"`'SS: pidx: ' + $pidx`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 861.3414611816406,
        "y": 2018.9087219238281,
        "z": "9db1531d.07a1a",
        "wires": [
            []
        ]
    },
    {
        "id": "33db91f0.e9f01e",
        "type": "outcome",
        "name": "vf-module-id",
        "xml": "<outcome value='vf-module-id'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1954.000228881836,
        "y": 2340.885187625885,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "6181952e.31b6cc"
            ]
        ]
    },
    {
        "id": "6181952e.31b6cc",
        "type": "set",
        "name": "set tmp.ss.vf-module-id",
        "xml": "<set>\n<parameter name='tmp.ss.vf-module-id' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.resource-key[$kidx].value`' />\n",
        "comments": "",
        "x": 2220.0003509521484,
        "y": 2340.885187625885,
        "z": "9db1531d.07a1a",
        "wires": []
    },
    {
        "id": "369a3888.44684",
        "type": "set",
        "name": "set resource-resolution-data.status = DELETED",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.status' \n\tvalue='DELETED' />\n",
        "comments": "",
        "x": 2990.499969482422,
        "y": 3233.737548828125,
        "z": "9db1531d.07a1a",
        "wires": []
    },
    {
        "id": "5e2abf9b.b85b4",
        "type": "outcome",
        "name": "prefix-id",
        "xml": "<outcome value='prefix-id'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1943.055892944336,
        "y": 2385.135218143463,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "6a64ea7a.aa0bac"
            ]
        ]
    },
    {
        "id": "6a64ea7a.aa0bac",
        "type": "set",
        "name": "set prefix-id",
        "xml": "<set>\n<parameter name='tmp.ss.prefix-id' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.resource-key[$kidx].value`' />\n",
        "comments": "",
        "x": 2189.555892944336,
        "y": 2385.385187625885,
        "z": "9db1531d.07a1a",
        "wires": []
    },
    {
        "id": "5ddc29c0.4ba838",
        "type": "execute",
        "name": "execute NetboxClient assignIpAddress",
        "xml": "<execute plugin=\"org.onap.ccsdk.sli.adaptors.netbox.api.NetboxClient\" method=\"assignIpAddress\">\n<parameter name=\"service_instance_id\" value=\"`$tmp.ss.service-instance-id`\" />\n<parameter name=\"vf_module_id\" value=\"`$tmp.ss.vf-module-id`\" />\n<parameter name=\"prefix_id\" value=\"`$tmp.ss.prefix-id`\" />\n<parameter name=\"resource_name\" value=\"`$tmp.ss.param.name`\" />\n<parameter name=\"external_key\" value=\"`$tmp.ss.external-key`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1724.9526672363281,
        "y": 2699.655068397522,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "b4f4fccf.d98da",
                "69e14266.f416c4"
            ]
        ]
    },
    {
        "id": "b4f4fccf.d98da",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2041.9526672363281,
        "y": 2701.6550073623657,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "3690386c.790168"
            ]
        ]
    },
    {
        "id": "3690386c.790168",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2249.952667236328,
        "y": 2705.6550073623657,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "e87ee382.86daa8",
                "8cda7799.2cc048"
            ]
        ]
    },
    {
        "id": "e87ee382.86daa8",
        "type": "set",
        "name": "set resource-resolution-data.status = FAILED",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.status' value='FAILED' />\n",
        "comments": "",
        "x": 2566.9527282714844,
        "y": 2709.6549768447876,
        "z": "9db1531d.07a1a",
        "wires": []
    },
    {
        "id": "8cda7799.2cc048",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 2464.3335876464844,
        "y": 2759.2582397460938,
        "z": "9db1531d.07a1a",
        "wires": []
    },
    {
        "id": "e9502efd.cfacb8",
        "type": "set",
        "name": "set resource-resolution-data.status = SUCCESS",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.status' \n\tvalue='SUCCESS' />\n",
        "comments": "",
        "x": 2552.0357666015625,
        "y": 2930.3457641601562,
        "z": "9db1531d.07a1a",
        "wires": []
    },
    {
        "id": "a20a3dc.5fc3fc",
        "type": "outcome",
        "name": "ip-address-id",
        "xml": "<outcome value='ip-address-id'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1956.9370422363281,
        "y": 2429.9922919273376,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "a24b6a2f.50759"
            ]
        ]
    },
    {
        "id": "a24b6a2f.50759",
        "type": "set",
        "name": "ip-address-id",
        "xml": "<set>\n<parameter name='tmp.ss.ip-address-id' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.resource-key[$kidx].value`' />\n",
        "comments": "",
        "x": 2191.9369201660156,
        "y": 2429.992352962494,
        "z": "9db1531d.07a1a",
        "wires": []
    },
    {
        "id": "82eaeb00.f8a53",
        "type": "outcome",
        "name": "external_key",
        "xml": "<outcome value='external_key'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1944.5560607910156,
        "y": 2475.7065863609314,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "f64e7f28.5f1c28"
            ]
        ]
    },
    {
        "id": "f64e7f28.5f1c28",
        "type": "set",
        "name": "set external-key",
        "xml": "<set>\n<parameter name='tmp.ss.external-key' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.resource-key[$kidx].value`' />\n",
        "comments": "",
        "x": 2193.127471923828,
        "y": 2475.7066473960876,
        "z": "9db1531d.07a1a",
        "wires": []
    },
    {
        "id": "f2a77014.d729d8",
        "type": "set",
        "name": "set tmp.ss.param.name",
        "xml": "<set>\n<parameter name='tmp.ss.param.name' \n\tvalue='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].name`' />\n",
        "comments": "",
        "x": 1170.8495254516602,
        "y": 2003.9602675437927,
        "z": "9db1531d.07a1a",
        "wires": []
    },
    {
        "id": "8094ff69.1f8708",
        "type": "switchNode",
        "name": "switch: resource-resolution-data.status",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.status`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 773.2856140136719,
        "y": 2269.9287109375,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "8231bfda.4aa0f8",
                "4c0fccb3.f454ac"
            ]
        ]
    },
    {
        "id": "8231bfda.4aa0f8",
        "type": "not-found",
        "name": "FAILED",
        "xml": "<outcome value='FAILED'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1004.7144165039062,
        "y": 2265.928756713867,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "575caaa7.2470a4"
            ]
        ]
    },
    {
        "id": "4c0fccb3.f454ac",
        "type": "success",
        "name": "PENDING",
        "xml": "<outcome value='PENDING'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1011.4285926818848,
        "y": 2317.6430847644806,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "575caaa7.2470a4"
            ]
        ]
    },
    {
        "id": "575caaa7.2470a4",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1166.1429138183594,
        "y": 2289.9287719726562,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "eabe3654.2861f",
                "423ab3ab.c683cc"
            ]
        ]
    },
    {
        "id": "e4db42f9.ac9b4",
        "type": "outcome",
        "name": "assign",
        "xml": "<outcome value='assign'>",
        "comments": "",
        "outputs": 1,
        "x": 1224.0000305175781,
        "y": 2697.738320350647,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "de47a062.0e7368"
            ]
        ]
    },
    {
        "id": "423ab3ab.c683cc",
        "type": "switchNode",
        "name": "switch: ss.capability-action",
        "xml": "<switch test='`$ss.capability-action`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 988.0000305175781,
        "y": 2695.738320350647,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "e4db42f9.ac9b4",
                "19870db6.43192a"
            ]
        ]
    },
    {
        "id": "de47a062.0e7368",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1399.4286804199219,
        "y": 2698.595559120178,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "5ddc29c0.4ba838"
            ]
        ]
    },
    {
        "id": "95406bea.6b1b6",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2018.6786499023438,
        "y": 3089.202422142029,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "a33aa0af.bd279"
            ]
        ]
    },
    {
        "id": "69e14266.f416c4",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2050.0000915527344,
        "y": 2765.1666259765625,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "3337d755.bc6f9"
            ]
        ]
    },
    {
        "id": "d043ccbb.6e195",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2192.1073128836497,
        "y": 3041.916687147958,
        "z": "9db1531d.07a1a",
        "wires": [
            []
        ]
    },
    {
        "id": "3337d755.bc6f9",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2244.2857360839844,
        "y": 2845.166748046875,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "e9502efd.cfacb8",
                "b434a262.2a412",
                "fd2e7345.c27e6"
            ]
        ]
    },
    {
        "id": "7f8823ca.cd3dd4",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2728.571990966797,
        "y": 3232.3094482421875,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "369a3888.44684"
            ]
        ]
    },
    {
        "id": "a51df821.acc4",
        "type": "not-found",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 600.4285583496094,
        "y": 441.4284896850586,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "a0639b3c.7eba9"
            ]
        ]
    },
    {
        "id": "9b5b9dd.e182f6",
        "type": "switchNode",
        "name": "switch capability-type. vnf",
        "xml": "<switch test=\"`$ss.capability-type == 'vnf'`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 397,
        "y": 442.14276123046875,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "a51df821.acc4"
            ]
        ]
    },
    {
        "id": "727a4c78.25da9c",
        "type": "switchNode",
        "name": "switch capability-type vf-module",
        "xml": "<switch test=\"`$ss.capability-type == 'vf-module'`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 419.28582763671875,
        "y": 1827.6666259765625,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "5b0a7046.83e3"
            ]
        ]
    },
    {
        "id": "5b0a7046.83e3",
        "type": "not-found",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 638.2858276367188,
        "y": 1828.6666870117188,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "3a044c4d.1e750c"
            ]
        ]
    },
    {
        "id": "25965467.621de4",
        "type": "outcome",
        "name": "unassign",
        "xml": "<outcome value='unassign'>",
        "comments": "",
        "outputs": 1,
        "x": 1213.3333129882812,
        "y": 1557.3690576553345,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "f0b88a86.aebb68"
            ]
        ]
    },
    {
        "id": "e7afaccf.d0036",
        "type": "set",
        "name": "set tmp.ss.param.capability-name",
        "xml": "<set>\n<parameter name='tmp.ss.param.capability-name' \n\tvalue='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$pidx].resource-resolution-data.capability-name`' />\n",
        "comments": "",
        "x": 1222.1705474853516,
        "y": 537.4722971916199,
        "z": "9db1531d.07a1a",
        "wires": []
    },
    {
        "id": "bfedad8c.b95118",
        "type": "for",
        "name": "for pidx in param_length",
        "xml": "<for index='i' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 932.3847732543945,
        "y": 537.54376745224,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "eadf5468.9c709",
                "f0ad10ad.1e953",
                "e7afaccf.d0036"
            ]
        ]
    },
    {
        "id": "f0ad10ad.1e953",
        "type": "switchNode",
        "name": "switch: capability-name - ss vs param",
        "xml": "<switch test='`$tmp.ss.param.capability-name == $ss.capability-name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1235.2460098266602,
        "y": 618.8215498924255,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "6a7d5101.40aa8"
            ]
        ]
    },
    {
        "id": "6a7d5101.40aa8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1473.9960174560547,
        "y": 618.5715498924255,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "b4530e81.fa1df"
            ]
        ]
    },
    {
        "id": "e13f79d4.74035",
        "type": "switchNode",
        "name": "switch: resource-key[].name",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$pidx].resource-resolution-data.resource-key[$kidx].name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1662.2185287475586,
        "y": 810.8654227256775,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "2eeaa08a.1d2c78",
                "9af0367b.dbd1f8",
                "f747f187.002e28",
                "81e1796a.cad958"
            ]
        ]
    },
    {
        "id": "9af0367b.dbd1f8",
        "type": "outcome",
        "name": "service-instance-id",
        "xml": "<outcome value='service-instance-id'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1933.607437133789,
        "y": 810.3376412391663,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "c656a145.06dbc"
            ]
        ]
    },
    {
        "id": "c656a145.06dbc",
        "type": "set",
        "name": "set tmp.ss.service-instance-id",
        "xml": "<set>\n<parameter name='tmp.ss.service-instance-id' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$pidx].resource-resolution-data.resource-key[$kidx].value`' />\n",
        "comments": "",
        "x": 2199.857437133789,
        "y": 810.0876412391663,
        "z": "9db1531d.07a1a",
        "wires": []
    },
    {
        "id": "41f4db04.700f14",
        "type": "update",
        "name": "get-resource IPAM_IP_ASSIGNEMENT",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n\tkey='SELECT * from IPAM_IP_ASSIGNEMENT \n\t\tWHERE external_key = $tmp.ss.external-key\n\t\tAND service_instance_id = $tmp.ss.service-instance-id' >",
        "comments": "",
        "outputs": 1,
        "x": 1688.8173828125,
        "y": 1556.190468788147,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "b267b2b4.23a3e8",
                "9b01dbab.a7a7a8"
            ]
        ]
    },
    {
        "id": "b267b2b4.23a3e8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1983.4047203063965,
        "y": 1557.1905019283295,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "c67fc199.97dec"
            ]
        ]
    },
    {
        "id": "f0b88a86.aebb68",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1382.6546783447266,
        "y": 1557.8334131240845,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "41f4db04.700f14"
            ]
        ]
    },
    {
        "id": "e6246ef9.3e7788",
        "type": "for",
        "name": "for kidx in resource-key_length",
        "xml": "<for index=\"kidx\" start=\"0\" end=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$pidx].resource-resolution-data.resource-key_length`\">",
        "comments": "",
        "outputs": 1,
        "x": 1379.0796127319336,
        "y": 808.7265067100525,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "e13f79d4.74035"
            ]
        ]
    },
    {
        "id": "a0639b3c.7eba9",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 648.642822265625,
        "y": 535.666748046875,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "bfedad8c.b95118",
                "dd52194f.db49b8"
            ]
        ]
    },
    {
        "id": "37aec3a4.7d6aa4",
        "type": "update",
        "name": "update IPAM_IP_ASSIGNEMENT to PENDING_DELETE...",
        "xml": "<update plugin=\"org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource\" resource=\"SQL\"\n\tkey=\"UPDATE IPAM_IP_ASSIGNEMENT set ip_status = $tmp.status \n\t\tWHERE external_key = $tmp.ss.external-key\n\t\tAND service_instance_id = $tmp.ss.service-instance-id\" >",
        "comments": "",
        "outputs": 1,
        "x": 2511.71435546875,
        "y": 1647.869179725647,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "f17fba04.5953f8"
            ]
        ]
    },
    {
        "id": "f7bb8b39.bef09",
        "type": "set",
        "name": "set status = PENDING_DELETE",
        "xml": "<set>\n<parameter name='tmp.status' value=\"PENDING_DELETE\" />\n",
        "comments": "",
        "x": 2421.630859375,
        "y": 1606.202431678772,
        "z": "9db1531d.07a1a",
        "wires": []
    },
    {
        "id": "f17fba04.5953f8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2819.380813598633,
        "y": 1648.4525032043457,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "7d1f077f.575248"
            ]
        ]
    },
    {
        "id": "7d1f077f.575248",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Error updating NETBOX_IP_ASSIGNMENTS table to unassign ip with external_key=' + $tmp.ss.external-key + ' and service_instance_id=' + $tmp.ss.service-instance-id`\" />\n",
        "comments": "",
        "x": 2998.381103515625,
        "y": 1648.2621240615845,
        "z": "9db1531d.07a1a",
        "wires": []
    },
    {
        "id": "91f6c6fc.2974a8",
        "type": "execute",
        "name": "execute Netbox unassign IP addresses",
        "xml": "<execute plugin=\"org.onap.ccsdk.sli.adaptors.netbox.api.NetboxClient\" method=\"unassignIpAddress\">\n<parameter name=\"service_instance_id\" value=\"`$tmp.ss.service-instance-id`\" />\n<parameter name=\"external_key\" value=\"`$tmp.ss.external-key`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2441.7142333984375,
        "y": 1694.1192407608032,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "54af54c4.b3a344",
                "286269c8.56b2fe"
            ]
        ]
    },
    {
        "id": "54af54c4.b3a344",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2685.0475006103516,
        "y": 1694.1191902160645,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "3d527d1f.8bda2a"
            ]
        ]
    },
    {
        "id": "3d527d1f.8bda2a",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Error in NetboxClient#unassignIPAddress with external-key='+ $tmp.ss.external-key`\" />\n",
        "comments": "",
        "x": 2847.0475273132324,
        "y": 1693.9289255142212,
        "z": "9db1531d.07a1a",
        "wires": []
    },
    {
        "id": "8bad1bbc.e7a648",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2162.333267211914,
        "y": 1605.619059562683,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "f7bb8b39.bef09",
                "37aec3a4.7d6aa4",
                "91f6c6fc.2974a8"
            ]
        ]
    },
    {
        "id": "dd52194f.db49b8",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"`'SS: pidx: ' + $pidx`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 884.4484252929688,
        "y": 592.6112365722656,
        "z": "9db1531d.07a1a",
        "wires": [
            []
        ]
    },
    {
        "id": "2eeaa08a.1d2c78",
        "type": "outcome",
        "name": "vnf-id",
        "xml": "<outcome value='vnf-id'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1915.440444946289,
        "y": 856.58758020401,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "e99c4040.fdfb6"
            ]
        ]
    },
    {
        "id": "e99c4040.fdfb6",
        "type": "set",
        "name": "set tmp.ss.vnf-id",
        "xml": "<set>\n<parameter name='tmp.ss.vnf-id' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$pidx].resource-resolution-data.resource-key[$kidx].value`' />\n",
        "comments": "",
        "x": 2181.4405670166016,
        "y": 856.58758020401,
        "z": "9db1531d.07a1a",
        "wires": []
    },
    {
        "id": "8b1d70.bdf8029",
        "type": "set",
        "name": "set resource-resolution-data.status = DELETED",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$pidx].resource-resolution-data.status' \n\tvalue='DELETED' />\n",
        "comments": "",
        "x": 2951.940185546875,
        "y": 1749.43994140625,
        "z": "9db1531d.07a1a",
        "wires": []
    },
    {
        "id": "f747f187.002e28",
        "type": "outcome",
        "name": "prefix-id",
        "xml": "<outcome value='prefix-id'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1904.496109008789,
        "y": 900.8376107215881,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "2ed5a6cf.2a2e6a"
            ]
        ]
    },
    {
        "id": "2ed5a6cf.2a2e6a",
        "type": "set",
        "name": "set prefix-id",
        "xml": "<set>\n<parameter name='tmp.ss.prefix-id' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$pidx].resource-resolution-data.resource-key[$kidx].value`' />\n",
        "comments": "",
        "x": 2150.996109008789,
        "y": 901.08758020401,
        "z": "9db1531d.07a1a",
        "wires": []
    },
    {
        "id": "cb98d7d9.b5a08",
        "type": "execute",
        "name": "execute NetboxClient assignIpAddress",
        "xml": "<execute plugin=\"org.onap.ccsdk.sli.adaptors.netbox.api.NetboxClient\" method=\"assignIpAddress\">\n<parameter name=\"service_instance_id\" value=\"`$tmp.ss.service-instance-id`\" />\n<parameter name=\"vf_module_id\" value=\"`$tmp.ss.vnf-id`\" />\n<parameter name=\"prefix_id\" value=\"`$tmp.ss.prefix-id`\" />\n<parameter name=\"resource_name\" value=\"`$tmp.ss.param.name`\" />\n<parameter name=\"external_key\" value=\"`$tmp.ss.external-key`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1686.3928833007812,
        "y": 1215.357460975647,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "158c4088.3cd6c7",
                "2aec43bd.80530c"
            ]
        ]
    },
    {
        "id": "158c4088.3cd6c7",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2003.3928833007812,
        "y": 1217.3573999404907,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "2e7a036b.bc0adc"
            ]
        ]
    },
    {
        "id": "2e7a036b.bc0adc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2211.3928833007812,
        "y": 1221.3573999404907,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "51bf773d.df62b",
                "bc6879f4.baae4"
            ]
        ]
    },
    {
        "id": "51bf773d.df62b",
        "type": "set",
        "name": "set resource-resolution-data.status = FAILED",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$pidx].resource-resolution-data.status' value='FAILED' />\n",
        "comments": "",
        "x": 2528.3929443359375,
        "y": 1225.3573694229126,
        "z": "9db1531d.07a1a",
        "wires": []
    },
    {
        "id": "bc6879f4.baae4",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 2425.7738037109375,
        "y": 1274.9606323242188,
        "z": "9db1531d.07a1a",
        "wires": []
    },
    {
        "id": "49b2f547.09aa04",
        "type": "set",
        "name": "set resource-resolution-data.status = SUCCESS",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$pidx].resource-resolution-data.status' \n\tvalue='SUCCESS' />\n",
        "comments": "",
        "x": 2505.47607421875,
        "y": 1420.0482177734375,
        "z": "9db1531d.07a1a",
        "wires": []
    },
    {
        "id": "81e1796a.cad958",
        "type": "outcome",
        "name": "external_key",
        "xml": "<outcome value='external_key'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1927.246337890625,
        "y": 951.4089965820312,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "96f2e2c3.446d68"
            ]
        ]
    },
    {
        "id": "96f2e2c3.446d68",
        "type": "set",
        "name": "set external-key",
        "xml": "<set>\n<parameter name='tmp.ss.external-key' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$pidx].resource-resolution-data.resource-key[$kidx].value`' />\n",
        "comments": "",
        "x": 2175.8177490234375,
        "y": 951.4090576171875,
        "z": "9db1531d.07a1a",
        "wires": []
    },
    {
        "id": "eadf5468.9c709",
        "type": "set",
        "name": "set tmp.ss.param.name",
        "xml": "<set>\n<parameter name='tmp.ss.param.name' \n\tvalue='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$pidx].name`' />\n",
        "comments": "",
        "x": 1193.9564895629883,
        "y": 577.6627821922302,
        "z": "9db1531d.07a1a",
        "wires": []
    },
    {
        "id": "b4530e81.fa1df",
        "type": "switchNode",
        "name": "switch: resource-resolution-data.status",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$pidx].resource-resolution-data.status`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 734.725830078125,
        "y": 785.631103515625,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "ef20c0ae.2f0268",
                "fe2c0013.43141"
            ]
        ]
    },
    {
        "id": "ef20c0ae.2f0268",
        "type": "not-found",
        "name": "FAILED",
        "xml": "<outcome value='FAILED'>\n",
        "comments": "",
        "outputs": 1,
        "x": 966.1546325683594,
        "y": 781.6311492919922,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "b3e8cd71.0d271"
            ]
        ]
    },
    {
        "id": "fe2c0013.43141",
        "type": "success",
        "name": "PENDING",
        "xml": "<outcome value='PENDING'>\n",
        "comments": "",
        "outputs": 1,
        "x": 972.8688087463379,
        "y": 833.3454773426056,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "b3e8cd71.0d271"
            ]
        ]
    },
    {
        "id": "b3e8cd71.0d271",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1127.5831298828125,
        "y": 805.6311645507812,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "e6246ef9.3e7788",
                "e6294bd0.41d4c8"
            ]
        ]
    },
    {
        "id": "c1c70c33.d44a98",
        "type": "outcome",
        "name": "assign",
        "xml": "<outcome value='assign'>",
        "comments": "",
        "outputs": 1,
        "x": 1185.4402465820312,
        "y": 1213.440712928772,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "1bb6495a.fa8da7"
            ]
        ]
    },
    {
        "id": "e6294bd0.41d4c8",
        "type": "switchNode",
        "name": "switch: ss.capability-action",
        "xml": "<switch test='`$ss.capability-action`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 949.4402465820312,
        "y": 1211.440712928772,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "c1c70c33.d44a98",
                "25965467.621de4"
            ]
        ]
    },
    {
        "id": "1bb6495a.fa8da7",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1360.868896484375,
        "y": 1214.2979516983032,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "cb98d7d9.b5a08"
            ]
        ]
    },
    {
        "id": "9b01dbab.a7a7a8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1980.1188659667969,
        "y": 1604.9048147201538,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "8bad1bbc.e7a648"
            ]
        ]
    },
    {
        "id": "2aec43bd.80530c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2011.4403076171875,
        "y": 1280.8690185546873,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "b964039a.43a1a"
            ]
        ]
    },
    {
        "id": "c67fc199.97dec",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2153.547528948103,
        "y": 1557.6190797260829,
        "z": "9db1531d.07a1a",
        "wires": [
            []
        ]
    },
    {
        "id": "b964039a.43a1a",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2205.7259521484375,
        "y": 1360.869140625,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "49b2f547.09aa04",
                "3bdfdc4f.b39f24",
                "4628865b.a3d7d"
            ]
        ]
    },
    {
        "id": "286269c8.56b2fe",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2690.01220703125,
        "y": 1748.0118408203125,
        "z": "9db1531d.07a1a",
        "wires": [
            [
                "8b1d70.bdf8029"
            ]
        ]
    },
    {
        "id": "4628865b.a3d7d",
        "type": "set",
        "name": "set service-data...param[].value = ip-address",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$pidx].value' \n\tvalue='`$ip[0]`' />\n",
        "comments": "",
        "x": 2495,
        "y": 1380,
        "z": "9db1531d.07a1a",
        "wires": []
    },
    {
        "id": "3bdfdc4f.b39f24",
        "type": "execute",
        "name": "SliStringUtils - split subnet",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n    <parameter name=\"original_string\" value=\"`$self_serve_netbox_ip_assignement.ip-address`\" />\n    <parameter name=\"regex\" value=\"/\"/>\n    <parameter name=\"ctx_memory_result_key\" value=\"ip\" />\n  \n",
        "comments": "",
        "outputs": 1,
        "x": 2439,
        "y": 1340,
        "z": "9db1531d.07a1a",
        "wires": [
            []
        ]
    },
    {
        "id": "fd2e7345.c27e6",
        "type": "execute",
        "name": "SliStringUtils - split subnet",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n    <parameter name=\"original_string\" value=\"`$self_serve_netbox_ip_assignement.ip-address`\" />\n    <parameter name=\"regex\" value=\"/\"/>\n    <parameter name=\"ctx_memory_result_key\" value=\"ip\" />\n  \n",
        "comments": "",
        "outputs": 1,
        "x": 2481,
        "y": 2829,
        "z": "9db1531d.07a1a",
        "wires": [
            []
        ]
    }
]