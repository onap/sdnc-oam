[
    {
        "id": "90c50a2c.ba5ed",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 106,
        "y": 81,
        "z": "5c789438.654acc",
        "wires": [
            [
                "338792f.6f96f6e"
            ]
        ]
    },
    {
        "id": "338792f.6f96f6e",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 221.28570556640625,
        "y": 122.9047794342041,
        "z": "5c789438.654acc",
        "wires": [
            [
                "662ef726.2a1fa"
            ]
        ]
    },
    {
        "id": "662ef726.2a1fa",
        "type": "method",
        "name": "method pnf-topology-operation-assign",
        "xml": "<method rpc='pnf-topology-operation-assign' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 216.59532165527344,
        "y": 166.91666793823242,
        "z": "5c789438.654acc",
        "wires": [
            [
                "97871953.64ee48"
            ]
        ]
    },
    {
        "id": "1467eded.b6c052",
        "type": "comment",
        "name": "pnf-topology-operation-assign",
        "info": "",
        "comments": "",
        "x": 508.26153564453125,
        "y": 42.75300407409668,
        "z": "5c789438.654acc",
        "wires": []
    },
    {
        "id": "fff9b0a2.b9959",
        "type": "switchNode",
        "name": "switch request-action",
        "xml": "<switch test='`$pnf-topology-operation-input.request-information.request-action`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 599.8809814453125,
        "y": 310.39283084869385,
        "z": "5c789438.654acc",
        "wires": [
            [
                "f7edd2e4.c1d7b8",
                "c941bd5d.778078"
            ]
        ]
    },
    {
        "id": "f7edd2e4.c1d7b8",
        "type": "outcome",
        "name": "CreatePnfInstance",
        "xml": "<outcome value='CreatePnfInstance'>\n",
        "comments": "",
        "outputs": 1,
        "x": 853.5952758789062,
        "y": 287.53571224212646,
        "z": "5c789438.654acc",
        "wires": [
            [
                "dfe89037.aa515"
            ]
        ]
    },
    {
        "id": "c941bd5d.778078",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 815.5952415466309,
        "y": 333.2500400543213,
        "z": "5c789438.654acc",
        "wires": [
            [
                "aa3bf6e5.af34e"
            ]
        ]
    },
    {
        "id": "dfe89037.aa515",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1038.4524040222168,
        "y": 287.5357418060303,
        "z": "5c789438.654acc",
        "wires": [
            []
        ]
    },
    {
        "id": "aa3bf6e5.af34e",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"If svc-action is 'assign' then request-action must be 'CreatePnfInstance'\" />\n",
        "comments": "",
        "x": 1055.5952491760254,
        "y": 333.24999809265137,
        "z": "5c789438.654acc",
        "wires": []
    },
    {
        "id": "a93bd5d5.4b54b8",
        "type": "get-resource",
        "name": "get-resource VF_MODEL",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='SELECT * from VF_MODEL WHERE customization_uuid = $pnf-topology-operation-input.pnf-details.onap-model-information.model-customization-uuid'\n  pfx='db.vf-model'>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 612.2142868041992,
        "y": 401.53570079803467,
        "z": "5c789438.654acc",
        "wires": [
            [
                "e378ed4f.c46a68",
                "92e895c4.96c37"
            ]
        ]
    },
    {
        "id": "781ae4b1.80acbc",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'No model found for VF customization UUID ' + $pnf-topology-operation-input.pnf-details.onap-model-information.model-customization-uuid`\" />\n",
        "comments": "",
        "x": 1053.642765045166,
        "y": 424.964186668396,
        "z": "5c789438.654acc",
        "wires": []
    },
    {
        "id": "e378ed4f.c46a68",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 812.9999847412109,
        "y": 381.9165382385254,
        "z": "5c789438.654acc",
        "wires": [
            [
                "486c8384.53280c"
            ]
        ]
    },
    {
        "id": "92e895c4.96c37",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 821.5714149475098,
        "y": 426.2022514343262,
        "z": "5c789438.654acc",
        "wires": [
            [
                "781ae4b1.80acbc"
            ]
        ]
    },
    {
        "id": "486c8384.53280c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error reading VF_MODEL table\" />\n",
        "comments": "",
        "x": 1052.9999656677246,
        "y": 380.05944538116455,
        "z": "5c789438.654acc",
        "wires": []
    },
    {
        "id": "a2278693.d276c",
        "type": "execute",
        "name": "execute PropertiesNode",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
        "comments": "",
        "outputs": 1,
        "x": 609.7857666015625,
        "y": 100.6785888671875,
        "z": "5c789438.654acc",
        "wires": [
            []
        ]
    },
    {
        "id": "97871953.64ee48",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 326.0793991088867,
        "y": 310.87208557128906,
        "z": "5c789438.654acc",
        "wires": [
            [
                "fff9b0a2.b9959",
                "a93bd5d5.4b54b8",
                "a2278693.d276c",
                "7d938714.a458b8",
                "2eeebb70.31e644",
                "5e1a9d1e.3a547c"
            ]
        ]
    },
    {
        "id": "7d938714.a458b8",
        "type": "switchNode",
        "name": "switch input cloud-owner",
        "xml": "<switch test='`$pnf-topology-operation-input.pnf-request-input.cloud-owner`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 608.5000228881836,
        "y": 238.9166555404663,
        "z": "5c789438.654acc",
        "wires": [
            [
                "3e63d3f5.9ec6e4",
                "38a7fc5d.f8539c"
            ]
        ]
    },
    {
        "id": "3e63d3f5.9ec6e4",
        "type": "other",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 791.8333969116211,
        "y": 208.9166440963745,
        "z": "5c789438.654acc",
        "wires": [
            [
                "fcee1184.50af98"
            ]
        ]
    },
    {
        "id": "38a7fc5d.f8539c",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 791.5953025817871,
        "y": 249.86913776397705,
        "z": "5c789438.654acc",
        "wires": [
            [
                "765373a5.a0bd44"
            ]
        ]
    },
    {
        "id": "fcee1184.50af98",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 926.8333511352539,
        "y": 207.24998378753662,
        "z": "5c789438.654acc",
        "wires": [
            []
        ]
    },
    {
        "id": "765373a5.a0bd44",
        "type": "set",
        "name": "set prop.cloud-region.cloud-owner",
        "xml": "<set>\n<parameter name='prop.cloud-region.cloud-owner' value='`$pnf-topology-operation-input.pnf-request-input.cloud-owner`' />\n",
        "comments": "",
        "x": 1008.5000076293945,
        "y": 248.91666507720947,
        "z": "5c789438.654acc",
        "wires": []
    },
    {
        "id": "b8feb55e.eccc08",
        "type": "call",
        "name": "call self-serve-pnf-assign",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='self-serve-pnf-assign' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 821.2220077514648,
        "y": 597.7769980430603,
        "z": "5c789438.654acc",
        "wires": [
            [
                "f91e4ace.eae65"
            ]
        ]
    },
    {
        "id": "f2aba8e6.c332f8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n<parameter name=\"error-message\" value=\"`'Failed to create self-serve assignment for pnf with pnf-id=' + $pnf-topology-operation-input.pnf-details.pnf-id + ' with error: ' + $error-message`\" />\n",
        "comments": "",
        "x": 1205.293384552002,
        "y": 597.7769484519958,
        "z": "5c789438.654acc",
        "wires": []
    },
    {
        "id": "89f763ab.2e344",
        "type": "comment",
        "name": "SELF-SERVE FORK",
        "info": "",
        "comments": "",
        "x": 730.8413619995117,
        "y": 548.9792368412018,
        "z": "5c789438.654acc",
        "wires": []
    },
    {
        "id": "f91e4ace.eae65",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1026.519588470459,
        "y": 597.2650294303894,
        "z": "5c789438.654acc",
        "wires": [
            [
                "f2aba8e6.c332f8"
            ]
        ]
    },
    {
        "id": "9100546f.8f5a",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 793.6309432983398,
        "y": 751.9315657615662,
        "z": "5c789438.654acc",
        "wires": []
    },
    {
        "id": "fcd519f9.d34c78",
        "type": "set",
        "name": "set pnf-level-oper-status to PendingCreate",
        "xml": "<set>\n<parameter name='service-data.pnfs.pnf[$pnf-index].pnf-data.pnf-level-oper-status.order-status' value='PendingCreate' />\n<parameter name='service-data.pnfs.pnf[$pnf-index].pnf-data.pnf-level-oper-status.last-rpc-action' value='`$pnf-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.pnfs.pnf[$pnf-index].pnf-data.pnf-level-oper-status.last-action' value='`$pnf-topology-operation-input.request-information.request-action`' />",
        "comments": "",
        "x": 931.6944046020508,
        "y": 650.5190324783325,
        "z": "5c789438.654acc",
        "wires": []
    },
    {
        "id": "32fee436.baa744",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/ss-pnf-assign.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 783.5356712341309,
        "y": 699.7088150978088,
        "z": "5c789438.654acc",
        "wires": [
            []
        ]
    },
    {
        "id": "2eeebb70.31e644",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 572.2022018432617,
        "y": 669.2172737121582,
        "z": "5c789438.654acc",
        "wires": [
            [
                "b8feb55e.eccc08",
                "9100546f.8f5a",
                "32fee436.baa744"
            ]
        ]
    },
    {
        "id": "5e1a9d1e.3a547c",
        "type": "switchNode",
        "name": "switch input.pnf-request-input.cloud-owner not null",
        "xml": "<switch test=\"`$input.pnf-request-input.cloud-owner != ''`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 695,
        "y": 155,
        "z": "5c789438.654acc",
        "wires": [
            [
                "b7e0d9a6.c13ef"
            ]
        ]
    },
    {
        "id": "b7e0d9a6.c13ef",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 992,
        "y": 155,
        "z": "5c789438.654acc",
        "wires": [
            [
                "ddc884d2.8bafd"
            ]
        ]
    },
    {
        "id": "ddc884d2.8bafd",
        "type": "set",
        "name": "set prop.cloud-region.cloud-owner to input.network-request-input.cloud-owner",
        "xml": "<set>\n<parameter name='prop.cloud-region.cloud-owner' value='`$input.pnf-request-input.cloud-owner`' />\n",
        "comments": "",
        "x": 1363,
        "y": 151,
        "z": "5c789438.654acc",
        "wires": []
    }
]